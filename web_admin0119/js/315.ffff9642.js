"use strict";(self["webpackChunkvue_antd_pro"]=self["webpackChunkvue_antd_pro"]||[]).push([[315],{23315:function(e,a,t){t.r(a),t.d(a,{default:function(){return u}});var r=function(){var e=this,a=e._self._c;return a("page-header-wrapper",[a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:12,lg:6,sm:24}},[a("a-form-item",{attrs:{label:"管理员姓名"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入管理员姓名"},model:{value:e.queryParam.adminName,callback:function(a){e.$set(e.queryParam,"adminName",a)},expression:"queryParam.adminName"}})],1)],1),a("a-col",{attrs:{md:12,lg:6,sm:24}},[a("a-form-item",{attrs:{label:"手机号"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入手机号"},model:{value:e.queryParam.adminPhone,callback:function(a){e.$set(e.queryParam,"adminPhone",a)},expression:"queryParam.adminPhone"}})],1)],1),a("a-col",{attrs:{md:12,lg:6,sm:24}},[a("a-form-item",[a("span",{staticClass:"table-page-search-submitButtons"},[a("a-button",{attrs:{icon:"redo"},on:{click:e.getqueryParam}},[e._v(" 重置")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"search"},on:{click:function(a){e.queryParam.pageNum=1,e.getlist()}}},[e._v("查询 ")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"plus"},on:{click:function(a){e.addUserdialog=!0}}},[e._v(" 添加管理")])],1)])],1)],1)],1)],1)]),a("a-card",{attrs:{bordered:!1}},[a("a-table",{attrs:{bordered:"",loading:e.loading,pagination:e.pagination,columns:e.columns,"data-source":e.datalist,rowKey:"id"},scopedSlots:e._u([{key:"isLock",fn:function(t,r){return a("span",{},[[a("div",[a("a-tag",{attrs:{color:0==r.isLock?"green":1==r.isLock?"red":""}},[e._v(" "+e._s(0==r.isLock?"正常":"锁定")+" ")])],1)]],2)}},{key:"action",fn:function(t,r){return[a("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(a){return e.getisLock(r.id,r.isLock)}},slot:"action"},[e._v(e._s(0==r.isLock?"锁定用户":"解锁用户"))]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(a){return e.geteditStock(r)}},slot:"action"},[e._v("修改密码")])]}}])})],1),a("a-modal",{attrs:{title:"添加管理员",width:500,visible:e.addUserdialog,confirmLoading:e.addUserDialogloading},on:{ok:e.OkaddUserdialog,cancel:e.CanceladdUserdialog}},[a("a-form",{ref:"addUserform",attrs:{form:e.addUserform}},[a("a-form-item",{attrs:{label:"管理员名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["adminName",{rules:[{required:!0,message:"请输入管理员名"}]}],expression:"['adminName', { rules: [{ required: true, message: '请输入管理员名', }] }]"}],attrs:{placeholder:"请输入管理员名"}})],1),a("a-form-item",{attrs:{label:"管理员手机号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["adminPhone",{rules:[{required:!0,message:"请输入管理员手机号"}]}],expression:"['adminPhone', { rules: [{ required: true, message: '请输入管理员手机号', }] }]"}],attrs:{placeholder:"请输入管理员手机号"}})],1),a("a-form-item",{attrs:{label:"管理员密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["adminPwd",{rules:[{required:!0,message:"请输入管理员密码"}]}],expression:"['adminPwd', { rules: [{ required: true, message: '请输入管理员密码', }] }]"}],attrs:{placeholder:"请输入管理员密码"}})],1),a("a-form-item",{attrs:{label:"管理员状态",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["isLock",{rules:[{required:!0,message:"请选择管理员状态"}]}],expression:"['isLock', { rules: [{ required: true, message: '请选择管理员状态', }] }]"}],attrs:{placeholder:"请选择管理员状态"}},[a("a-select-option",{attrs:{value:"0"}},[e._v("正常")]),a("a-select-option",{attrs:{value:"1"}},[e._v("锁定")])],1)],1)],1)],1),a("a-modal",{attrs:{title:"修改密码",width:500,visible:e.editStockdialog,confirmLoading:e.editStockdialogloading},on:{ok:e.OkeditStockdialog,cancel:e.CanceleditStockdialog}},[a("a-form",{ref:"editStockform",attrs:{form:e.editStockform}},[a("a-form-item",{attrs:{label:"用户ID",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id",{rules:[{required:!0,message:"请输入用户ID"}]}],expression:"['id', { rules: [{ required: true, message: '请输入用户ID', }] }]"}],attrs:{placeholder:"请输入用户ID",disabled:""}})],1),a("a-form-item",{attrs:{label:"密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["adminPwd",{rules:[{required:!0,message:"请输入密码"}]}],expression:"['adminPwd', { rules: [{ required: true, message: '请输入密码', }] }]"}],attrs:{placeholder:"请输入密码"}})],1)],1)],1)],1)},i=[],o=(t(41539),t(54747),t(52823)),s=t(30381),n=t.n(s),l={name:"Shares",data:function(){var e=this;return{columns:[{title:"id",dataIndex:"id",align:"center"},{title:"管理员姓名",dataIndex:"adminName",align:"center"},{title:"管理员手机号",dataIndex:"adminPhone",align:"center"},{title:"管理员状态",dataIndex:"isLock",align:"center",scopedSlots:{customRender:"isLock"}},{title:"注册时间",dataIndex:"addTime",align:"center",customRender:function(e,a,t){return e?n()(e).format("YYYY-MM-DD HH:mm:ss"):""}},{title:"操作",key:"action",align:"center",scopedSlots:{customRender:"action"}}],pagination:{total:0,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:function(a,t){return e.onSizeChange(a,t)},onChange:function(a,t){return e.onPageChange(a,t)},showTotal:function(e){return"共有 ".concat(e," 条数据")}},loading:!1,queryParam:{pageNum:1,pageSize:10,adminName:"",adminPhone:""},datalist:[],labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},addUserform:this.$form.createForm(this),addUserdialog:!1,addUserDialogloading:!1,editStockdialog:!1,editStockdialogloading:!1,editStockform:this.$form.createForm(this),fields:["id","adminPwd"]}},created:function(){this.getlist()},methods:{geteditStock:function(e){var a=this;this.editStockdialog=!0,this.fields.forEach((function(e){return a.editStockform.getFieldDecorator(e)})),this.editStockform.setFieldsValue({id:e.id})},CanceleditStockdialog:function(){this.editStockdialog=!1;var e=this.$refs.editStockform.form;e.resetFields()},OkeditStockdialog:function(){var e=this,a=this.$refs.editStockform.form;a.validateFields((function(t,r){t||(e.editStockdialogloading=!0,r.adminPwd=e.editStockform.getFieldValue("adminPwd"),(0,o.Ct)(r).then((function(t){0==t.status?(e.editStockdialog=!1,e.$message.success({content:t.msg,duration:2}),a.resetFields(),e.getlist()):e.$message.error({content:t.msg}),e.editStockdialogloading=!1})))}))},CanceladdUserdialog:function(){this.addUserdialog=!1;var e=this.$refs.addUserform.form;e.resetFields()},OkaddUserdialog:function(){var e=this,a=this.$refs.addUserform.form;a.validateFields((function(t,r){t||(e.addUserDialogloading=!0,(0,o.X6)(r).then((function(t){0==t.status?(e.addUserdialog=!1,e.$message.success({content:t.msg,duration:2}),a.resetFields(),e.getlist()):e.$message.error({content:t.msg}),e.addUserDialogloading=!1})))}))},getqueryParam:function(){this.queryParam={pageNum:1,pageSize:10,adminName:"",adminPhone:""}},getlist:function(){var e=this;this.loading=!0,(0,o.Vi)(this.queryParam).then((function(a){e.datalist=a.data.list,e.pagination.total=a.data.total,e.loading=!1}))},getisLock:function(e,a){var t=this;(0,o.vG)({adminId:e}).then((function(e){0===e.status?(t.getlist(),0==a?t.$message.success({content:"锁定成功",duration:2}):t.$message.success({content:"解锁成功",duration:2})):t.$message.error({content:e.msg,duration:2})}))},onPageChange:function(e,a){this.queryParam.pageNum=e,this.getlist()},onSizeChange:function(e,a){this.queryParam.pageNum=e,this.queryParam.pageSize=a,this.getlist()}}},d=l,c=t(70713),m=(0,c.Z)(d,r,i,!1,null,null,null),u=m.exports}}]);