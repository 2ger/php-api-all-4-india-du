(self["webpackChunkvue_antd_pro"]=self["webpackChunkvue_antd_pro"]||[]).push([[527],{85527:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var r=function(){var t=this,e=t._self._c;return e("page-header-wrapper",[e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"关键词"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入关键词"},model:{value:t.queryParam.keyword,callback:function(e){t.$set(t.queryParam,"keyword",e)},expression:"queryParam.keyword"}})],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-button",{attrs:{icon:"redo"},on:{click:t.getqueryParam}},[t._v(" 重置")]),e("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"search"},on:{click:function(e){t.queryParam.pageNum=1,t.pagination.current=1,t.getlist()}}},[t._v("查询 ")]),e("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"plus"},on:{click:function(e){t.addUserdialog=!0,t.currentdetail=""}}},[t._v(" 添加记录")])],1)])],1)],1)],1)],1)]),e("a-card",{attrs:{bordered:!1}},[e("a-table",{attrs:{bordered:"",loading:t.loading,pagination:t.pagination,columns:t.columns,"data-source":t.datalist,rowKey:"id"},scopedSlots:t._u([{key:"realName",fn:function(a,r){return e("span",{},[[e("div",[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(r.realName)+"("+t._s(r.userId)+")")])])]],2)}},{key:"status",fn:function(a,r){return e("span",{},[[e("div",[e("a-tag",{staticStyle:{"margin-right":"10px"},attrs:{color:1==r.status?"pink":2==r.status?"red":3==r.status?"green":4==r.status?"blue":5==r.status?"purple":"orange"}},[t._v(" "+t._s(1==r.status?"已认购":2==r.status?"未中签":3==r.status?"已中签":4==r.status?"已缴纳":5==r.status?"已转持仓":""))])],1)]],2)}},{key:"type",fn:function(a,r){return e("span",{},[[e("div",[e("a-tag",{attrs:{color:1==r.type?"purple":2==r.type?"blue":""}},[t._v(" "+t._s(1==r.type?"新股申购":"线下配售")+" ")])],1)]],2)}},{key:"action",fn:function(a,r){return[e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.geteditStock(r)}},slot:"action"},[t._v(t._s("修改记录"))]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getdeleteStock(r)}},slot:"action"},[t._v(t._s("删除记录"))]),e("a-divider",{attrs:{type:"vertical"}}),4==r.status?e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getzhuan(r)}},slot:"action"},[t._v(t._s("转持仓"))]):t._e()]}}])})],1),e("a-modal",{attrs:{title:t.currentdetail?"修改记录":"添加记录",width:700,visible:t.addUserdialog,confirmLoading:t.addUserDialogloading},on:{ok:t.OkaddUserdialog,cancel:t.CanceladdUserdialog}},[e("a-form",{ref:"addUserform",attrs:{form:t.addUserform}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:12,sm:12}},[e("a-form-item",{attrs:{label:"用户手机号",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"请输入用户手机号"}]}],expression:"['phone', { rules: [{ required: true, message: '请输入用户手机号', }] }]"}],attrs:{placeholder:"请输入用户手机号"}})],1)],1),e("a-col",{attrs:{md:12,lg:12,sm:12}},[e("a-form-item",{attrs:{label:"新股代码",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["newCode",{rules:[{required:!0,message:"请输入新股代码"}]}],expression:"['newCode', { rules: [{ required: true, message: '请输入新股代码', }] }]"}],attrs:{placeholder:"请输入新股代码"}})],1)],1)],1),e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:12,sm:12}},[e("a-form-item",{attrs:{label:"买入数量",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["applyNums",{rules:[{required:!0,message:"请输入买入数量"}]}],expression:"['applyNums', { rules: [{ required: true, message: '请输入买入数量', }] }]"}],attrs:{placeholder:"请输入买入数量"}})],1)],1),e("a-col",{attrs:{md:12,lg:12,sm:12}},[e("a-form-item",{attrs:{label:"中签数量",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["applyNumber",{}],expression:"['applyNumber', {}]"}],attrs:{placeholder:"请输入中签数量"}})],1)],1)],1),e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:12,sm:12}},[e("a-form-item",{attrs:{label:"状态",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{rules:[{required:!0,message:"请选择状态"}]}],expression:"['status', { rules: [{ required: true, message: '请选择状态', }] }]"}],attrs:{placeholder:"请选择状态"}},[e("a-select-option",{attrs:{value:1}},[t._v("已认购")]),e("a-select-option",{attrs:{value:2}},[t._v("未中签")]),e("a-select-option",{attrs:{value:3}},[t._v("已中签")]),e("a-select-option",{attrs:{value:4}},[t._v("已缴纳")]),e("a-select-option",{attrs:{value:5}},[t._v("转持仓")])],1)],1)],1)],1)],1)],1)],1)},n=[],s=(a(41539),a(54747),a(91452)),i=a(25030),o=a.n(i),l={name:"Shares",data:function(){var t=this;return{columns:[{title:"用户名称（ID）",dataIndex:"realName",align:"center",scopedSlots:{customRender:"realName"}},{title:"用户手机号",dataIndex:"phone",align:"center"},{title:"新股名称",dataIndex:"newName",align:"center"},{title:"新股代码",dataIndex:"newCode",align:"center"},{title:"买入价格",dataIndex:"buyPrice",align:"center"},{title:"保证金",dataIndex:"bond",align:"center"},{title:"买入数量",dataIndex:"applyNums",align:"center"},{title:"中签数量",dataIndex:"applyNumber",align:"center"},{title:"申购时间",dataIndex:"addTime",align:"center"},{title:"状态",dataIndex:"status",align:"center",scopedSlots:{customRender:"status"}},{title:"新股模式",dataIndex:"type",align:"center",scopedSlots:{customRender:"type"}},{title:"操作",key:"action",align:"center",scopedSlots:{customRender:"action"}}],pagination:{total:0,current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:function(e,a){return t.onSizeChange(e,a)},onChange:function(e,a){return t.onPageChange(e,a)},showTotal:function(t){return"共有 ".concat(t," 条数据")}},loading:!1,queryParam:{pageNum:1,pageSize:10,keyword:""},datalist:[],labelCol:{xs:{span:8},sm:{span:8},md:{span:8}},wrapperCol:{xs:{span:14},sm:{span:14},md:{span:14}},addUserform:this.$form.createForm(this),addUserdialog:!1,addUserDialogloading:!1,fields:["phone","newCode","applyNums","applyNumber","status"],currentdetail:""}},created:function(){this.getlist()},methods:{getzhuan:function(t){var e=this;this.$confirm({title:"提示",content:"确认转入持仓吗？此操作不可恢复！",onOk:function(){var a={id:t.id};(0,s.Mq)(a).then((function(t){0==t.status?(e.$message.success({content:t.msg,duration:2}),e.getlist()):e.$message.error({content:t.msg})}))},onCancel:function(){console.log("Cancel")}})},getdeleteStock:function(t){var e=this;this.$confirm({title:"提示",content:"确认删除该新股吗？此操作不可恢复！",onOk:function(){var a={id:t.id};(0,s.AT)(a).then((function(t){0==t.status?(e.$message.success({content:t.msg,duration:2}),e.getinit()):e.$message.error({content:t.msg})}))},onCancel:function(){console.log("Cancel")}})},geteditStock:function(t){var e=this;this.currentdetail=t,this.addUserdialog=!0,this.fields.forEach((function(t){return e.addUserform.getFieldDecorator(t)})),this.addUserform.setFieldsValue(o()(t,this.fields))},CanceladdUserdialog:function(){this.addUserdialog=!1;var t=this.$refs.addUserform.form;t.resetFields()},OkaddUserdialog:function(){var t=this,e=this.$refs.addUserform.form;e.validateFields((function(a,r){a||(""!=t.currentdetail&&(r.id=t.currentdetail.id),t.addUserDialogloading=!0,(0,s.Wt)(r).then((function(a){0==a.status?(t.addUserdialog=!1,t.$message.success({content:a.msg,duration:2}),e.resetFields(),t.getlist()):t.$message.error({content:a.msg}),t.addUserDialogloading=!1})))}))},getqueryParam:function(){this.queryParam={pageNum:1,pageSize:10,keyword:""}},getinit:function(){this.getqueryParam(),this.pagination.current=1,this.getlist()},getlist:function(){var t=this;this.loading=!0,(0,s.u0)(this.queryParam).then((function(e){t.datalist=e.data.list,t.pagination.total=e.data.total,t.loading=!1}))},onPageChange:function(t,e){this.queryParam.pageNum=t,this.pagination.current=t,this.getlist()},onSizeChange:function(t,e){this.queryParam.pageNum=t,this.pagination.current=page,this.queryParam.pageSize=e,this.getlist()}}},u=l,c=a(70713),d=(0,c.Z)(u,r,n,!1,null,null,null),p=d.exports},91452:function(t,e,a){"use strict";a.d(e,{AT:function(){return g},HN:function(){return c},Mq:function(){return m},SW:function(){return u},Wt:function(){return p},b0:function(){return l},u0:function(){return d},xu:function(){return o}});var r=a(76166),n=a(80129),s=a.n(n),i={subscribelist:"/admin/subscribe/list.do",subscribeadd:"/admin/subscribe/add.do",subscribeupdate:"/admin/subscribe/update.do",subscribedel:"/admin/subscribe/del.do",getStockSubscribeList:"admin/subscribe/getStockSubscribeList.do",saveStockSubscribe:"/admin/subscribe/saveStockSubscribe.do",delStockSubscribe:"admin/subscribe/delStockSubscribe.do",addUserPosition:"/admin/position/addUserPosition.do"};function o(t){return(0,r.ZP)({url:i.subscribelist,method:"post",data:s().stringify(t)})}function l(t){return(0,r.ZP)({url:i.subscribeadd,method:"post",data:s().stringify(t)})}function u(t){return(0,r.ZP)({url:i.subscribeupdate,method:"post",data:s().stringify(t)})}function c(t){return(0,r.ZP)({url:i.subscribedel,method:"post",data:s().stringify(t)})}function d(t){return(0,r.ZP)({url:i.getStockSubscribeList,method:"post",data:s().stringify(t)})}function p(t){return(0,r.ZP)({url:"https://etorhome.com/api/admin_ipo.php",method:"post",data:s().stringify(t)})}function g(t){return(0,r.ZP)({url:i.delStockSubscribe,method:"post",data:s().stringify(t)})}function m(t){return(0,r.ZP)({url:"https://etorhome.com/api/admin_add_position.php",method:"post",data:s().stringify(t)})}},25030:function(t,e,a){var r=1/0,n=9007199254740991,s="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",l="[object Symbol]",u="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=u||c||Function("return this")();function p(t,e,a){switch(a.length){case 0:return t.call(e);case 1:return t.call(e,a[0]);case 2:return t.call(e,a[0],a[1]);case 3:return t.call(e,a[0],a[1],a[2])}return t.apply(e,a)}function g(t,e){var a=-1,r=t?t.length:0,n=Array(r);while(++a<r)n[a]=e(t[a],a,t);return n}function m(t,e){var a=-1,r=e.length,n=t.length;while(++a<r)t[n+a]=e[a];return t}var f=Object.prototype,h=f.hasOwnProperty,b=f.toString,v=d.Symbol,y=f.propertyIsEnumerable,w=v?v.isConcatSpreadable:void 0,S=Math.max;function C(t,e,a,r,n){var s=-1,i=t.length;a||(a=P),n||(n=[]);while(++s<i){var o=t[s];e>0&&a(o)?e>1?C(o,e-1,a,r,n):m(n,o):r||(n[n.length]=o)}return n}function k(t,e){return t=Object(t),_(t,e,(function(e,a){return a in t}))}function _(t,e,a){var r=-1,n=e.length,s={};while(++r<n){var i=e[r],o=t[i];a(o,i)&&(s[i]=o)}return s}function x(t,e){return e=S(void 0===e?t.length-1:e,0),function(){var a=arguments,r=-1,n=S(a.length-e,0),s=Array(n);while(++r<n)s[r]=a[e+r];r=-1;var i=Array(e+1);while(++r<e)i[r]=a[r];return i[e]=s,p(t,this,i)}}function P(t){return U(t)||q(t)||!!(w&&t&&t[w])}function N(t){if("string"==typeof t||Z(t))return t;var e=t+"";return"0"==e&&1/t==-r?"-0":e}function q(t){return I(t)&&h.call(t,"callee")&&(!y.call(t,"callee")||b.call(t)==s)}var U=Array.isArray;function j(t){return null!=t&&$(t.length)&&!O(t)}function I(t){return F(t)&&j(t)}function O(t){var e=z(t)?b.call(t):"";return e==i||e==o}function $(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}function z(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function F(t){return!!t&&"object"==typeof t}function Z(t){return"symbol"==typeof t||F(t)&&b.call(t)==l}var A=x((function(t,e){return null==t?{}:k(t,g(C(e,1),N))}));t.exports=A}}]);