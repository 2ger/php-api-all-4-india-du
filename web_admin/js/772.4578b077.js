"use strict";(self["webpackChunkvue_antd_pro"]=self["webpackChunkvue_antd_pro"]||[]).push([[772],{98772:function(t,e,i){i.r(e),i.d(e,{default:function(){return G}});var n=function(){var t=this,e=t._self._c;return e("page-header-wrapper",[e("a-card",[e("a-tabs",{attrs:{"default-active-key":"1"},on:{tabClick:t.gettabchange}},[e("a-tab-pane",{key:"1",attrs:{tab:"股票持仓单",forceRender:""}},[e("financingHold",{ref:"financingHold"})],1),e("a-tab-pane",{key:"2",attrs:{tab:"股票平仓单",forceRender:""}},[e("financingFlat",{ref:"financingFlats"})],1),e("a-tab-pane",{key:"3",attrs:{tab:"挂单管理",forceRender:""}},[e("indexHold",{ref:"indexHold"})],1)],1)],1)],1)},a=[],o=(i(9653),function(){var t=this,e=t._self._c;return e("div",[e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"持仓类型"}},[e("a-select",{attrs:{placeholder:"请选择持仓类型"},model:{value:t.queryParam.positionType,callback:function(e){t.$set(t.queryParam,"positionType",e)},expression:"queryParam.positionType"}},[e("a-select-option",{attrs:{value:""}},[t._v("全部")]),e("a-select-option",{attrs:{value:0}},[t._v("正式持仓")]),e("a-select-option",{attrs:{value:1}},[t._v("模拟持仓")])],1)],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"下级代理"}},[e("a-select",{attrs:{placeholder:"请选择下级代理",loading:t.agentloading},on:{focus:t.getagentlist},model:{value:t.queryParam.agentId,callback:function(e){t.$set(t.queryParam,"agentId",e)},expression:"queryParam.agentId"}},t._l(t.agentlist,(function(i,n){return e("a-select-option",{key:n,attrs:{value:i.id}},[t._v(" "+t._s(i.agentName)+" ")])})),1)],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"用户Id"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入用户Id"},model:{value:t.queryParam.userId,callback:function(e){t.$set(t.queryParam,"userId",e)},expression:"queryParam.userId"}})],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"持仓订单号"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入持仓订单号"},model:{value:t.queryParam.positionSn,callback:function(e){t.$set(t.queryParam,"positionSn",e)},expression:"queryParam.positionSn"}})],1)],1)],1),e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-button",{attrs:{icon:"redo"},on:{click:t.getqueryParam}},[t._v(" 重置")]),e("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"search"},on:{click:function(e){t.queryParam.pageNum=1,t.getlist()}}},[t._v("查询 ")]),e("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"danger",icon:"thunderbolt"},on:{click:function(e){t.showPinModal=!0}}},[t._v("插针 ")])],1)])],1)],1)],1)],1)]),e("a-table",{attrs:{bordered:"",loading:t.loading,pagination:t.pagination,columns:t.columns,"data-source":t.datalist,rowKey:"id",scroll:{x:2800}},scopedSlots:t._u([{key:"stockName",fn:function(i,n){return e("span",{},[[e("div",[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(n.stockName))]),e("a-tag",{attrs:{color:"科创"==n.stockPlate?"blue":n.stockPlate?"创业"==n.stockPlate?"pink":"purple":"orange"}},[t._v(" "+t._s("科创"==n.stockPlate?"科创":n.stockPlate?n.stockPlate:"股票")+" ")]),e("p",[t._v("("+t._s(n.stockCode)+")")])],1)]],2)}},{key:"positionType",fn:function(i,n){return e("span",{},[[e("div",[e("a-tag",{attrs:{color:1==n.positionType?"blue":"green"}},[t._v(" "+t._s(1==n.positionType?"模拟持仓":"正式持仓")+" ")])],1)]],2)}},{key:"orderDirection",fn:function(i,n){return e("span",{},[[e("div",[e("a-tag",{attrs:{color:"买涨"==n.orderDirection?"red":"green"}},[t._v(" "+t._s(n.orderDirection)+" ")])],1)]],2)}},{key:"now_price",fn:function(i,n){return e("span",{},[[e("div",[e("p",{class:Number(n.now_price)-n.buyOrderPrice<0?"greens":Number(n.now_price)-n.buyOrderPrice>0?"reds":""},[t._v(" "+t._s(n.now_price)+" ")])])]],2)}},{key:"profitAndLose",fn:function(i){return e("span",{},[[e("div",[e("p",{class:i<0?"greens":i>0?"reds":""},[t._v(" "+t._s(i)+" ")])])]],2)}},{key:"allProfitAndLose",fn:function(i){return e("span",{},[[e("div",[e("p",{class:i<0?"greens":i>0?"reds":""},[t._v(" "+t._s(i)+" ")])])]],2)}},{key:"action",fn:function(i,n){return[e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.win(n.positionSn)}},slot:"action"},[t._v("止盈")]),t._v(" "),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.loss(n.positionSn)}},slot:"action"},[t._v("止损")]),t._v(" "),e("a-divider",{attrs:{type:"vertical"}}),e("br"),0==n.isLock?e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){t.Lockvisibledialog=!0,t.clickpositionId=n.id}},slot:"action"},[t._v("锁仓")]):e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getLockopen(n.id)}},slot:"action"},[t._v("解锁")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getCompulsoryclosing(n.positionSn)}},slot:"action"},[t._v("强制平仓")])]}}])}),e("a-modal",{attrs:{title:"锁仓",width:640,visible:t.Lockvisibledialog,confirmLoading:t.Lockvisibleloading},on:{ok:t.getDialogok,cancel:t.handleCancel}},[e("a-form",{ref:"createModal",attrs:{form:t.Lockvisibleform}},[e("a-form-item",[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lockMsg",{rules:[{required:!0,message:"请输入锁仓原因！",whitespace:!0}]}],expression:"['lockMsg', { rules: [{ required: true, message: '请输入锁仓原因！', whitespace: true }] }]"}],attrs:{placeholder:"请输入锁仓原因！"}})],1)],1)],1),e("a-modal",{attrs:{title:"设置插针"},on:{ok:t.pinInsertion},model:{value:t.showPinModal,callback:function(e){t.showPinModal=e},expression:"showPinModal"}},[e("a-form",{ref:"createPinForm",attrs:{form:t.pinForm,layout:"inline"}},[e("a-form-item",{attrs:{label:"股票代码"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["stockCode",{rules:[{required:!0,message:"请输入股票代码",whitespace:!0}]}],expression:"['stockCode', { rules: [{ required: true, message: '请输入股票代码', whitespace: true }] }]"}],attrs:{type:"text",placeholder:"请输入股票代码(ID)"}})],1),e("a-form-item",{attrs:{label:"最新价格"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["newPrice",{rules:[{required:!0,message:"格式不正确",whitespace:!0}]}],expression:"['newPrice', { rules: [{ required: true, message: '格式不正确', whitespace: true }] }]"}],attrs:{type:"number",placeholder:"请输入最新价格"}})],1)],1)],1)],1)}),r=[],s=(i(92222),i(56977),i(50171)),c=i(1555),l=i(30381),d=i.n(l),u={name:"Financinghold",data:function(){var t=this;return{showPinModal:!1,pinForm:this.$form.createForm(this),columns:[{title:"股票名称",dataIndex:"stockName",align:"center",width:180,scopedSlots:{customRender:"stockName"}},{title:"账户类型",dataIndex:"positionType",align:"center",scopedSlots:{customRender:"positionType"}},{title:"用户名称（ID）",dataIndex:"nickName",align:"center",customRender:function(t,e,i){return"".concat(e.nickName,"（").concat(e.userId,"）")}},{title:"持仓订单号（ID）",dataIndex:"positionSn",align:"center",customRender:function(t,e,i){return"".concat(e.positionSn,"（").concat(e.id,"）")}},{title:"买卖方向",dataIndex:"orderDirection",align:"center",scopedSlots:{customRender:"orderDirection"}},{title:"买入价",dataIndex:"buyOrderPrice",align:"center",customRender:function(t,e,i){return t.toFixed(3)}},{title:"现价",dataIndex:"now_price",align:"center",scopedSlots:{customRender:"now_price"}},{title:"浮动盈亏",dataIndex:"profitAndLose",align:"center",scopedSlots:{customRender:"profitAndLose"}},{title:"总盈亏",dataIndex:"allProfitAndLose",align:"center",scopedSlots:{customRender:"allProfitAndLose"}},{title:"数量（股）",dataIndex:"orderNum",align:"center"},{title:"总市值",dataIndex:"orderTotalPrice",align:"center"},{title:"杠杆倍数",dataIndex:"orderLever",align:"center"},{title:"手续费",dataIndex:"orderFee",align:"center"},{title:"印花税",dataIndex:"orderSpread",align:"center"},{title:"留仓费",dataIndex:"orderStayFee",align:"center"},{title:"留仓天数",dataIndex:"orderStayDays",align:"center"},{title:"锁定原因",dataIndex:"lockMsg",align:"center"},{title:"买入时间",dataIndex:"buyOrderTime",align:"center",width:180,customRender:function(t,e,i){return t?d()(t).format("YYYY-MM-DD HH:mm:ss"):""}},{title:"操作",key:"action",align:"center",fixed:"right",width:150,scopedSlots:{customRender:"action"}}],pagination:{total:0,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:function(e,i){return t.onSizeChange(e,i)},onChange:function(e,i){return t.onPageChange(e,i)},showTotal:function(t){return"共有 ".concat(t," 条数据")}},loading:!1,queryParam:{pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:0},datalist:[],agentlist:[],agentloading:!1,Lockvisibledialog:!1,Lockvisibleloading:!1,Lockvisibleform:this.$form.createForm(this),clickpositionId:"",agentqueryParam:{pageNum:1,pageSize:100}}},created:function(){this.getlist()},methods:{loss:function(t){var e=this;this.$confirm({title:"提示",content:"确认要止损平仓吗?",onOk:function(){var i={positionSn:t};(0,s.FC)(i).then((function(t){0===t.status?(e.$message.success({content:t.msg,duration:2}),e.getlist()):e.$message.error({content:"平仓失败"})})).catch((function(t){console.log(t),e.$message.error({content:"平仓失败"})}))},onCancel:function(){console.log("Cancel")}})},win:function(t){var e=this;this.$confirm({title:"提示",content:"确认要止盈平仓吗?",onOk:function(){var i={positionSn:t};(0,s.eD)(i).then((function(t){0===t.status?(e.$message.success({content:t.msg,duration:2}),e.getlist()):e.$message.error({content:"平仓失败"})})).catch((function(t){console.log(t),e.$message.error({content:"平仓失败"})}))},onCancel:function(){console.log("Cancel")}})},getCompulsoryclosing:function(t){var e=this;this.$confirm({title:"提示",content:"确认要强制平仓吗?",onOk:function(){var i={positionSn:t};(0,s.A6)(i).then((function(t){0===t.status?(e.$message.success({content:t.msg,duration:2}),e.getlist()):e.$message.error({content:"平仓失败"})})).catch((function(t){console.log(t),e.$message.error({content:"平仓失败"})}))},onCancel:function(){console.log("Cancel")}})},getLockopen:function(t){var e=this;this.$confirm({title:"提示",content:"确认要解锁该持仓单?",onOk:function(){var i={state:0,positionId:t};(0,s.mp)(i).then((function(t){0===t.status?(e.$message.success({content:t.msg,duration:2}),e.getlist()):e.$message.error({content:t.msg})}))},onCancel:function(){console.log("Cancel")}})},handleCancel:function(){this.Lockvisibledialog=!1;var t=this.$refs.createModal.form;t.resetFields()},getDialogok:function(){var t=this,e=this.$refs.createModal.form;e.validateFields((function(i,n){if(!i){t.Lockvisibleloading=!0;var a={state:1,lockMsg:n.lockMsg,positionId:t.clickpositionId};(0,s.mp)(a).then((function(i){0===i.status?(t.Lockvisibledialog=!1,t.$message.success({content:i.msg,duration:2}),e.resetFields(),t.getlist()):t.$message.error({content:i.msg}),t.Lockvisibleloading=!1})).catch((function(t){console.log(t)}))}}))},getinit:function(){this.queryParam={pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:0},this.getlist()},getqueryParam:function(){this.queryParam={pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:0}},getagentlist:function(){var t=this,e=this;this.agentloading=!0,(0,c.Bn)(this.agentqueryParam).then((function(i){t.agentlist=i.data.list,setTimeout((function(){e.agentloading=!1}),500)}))},getlist:function(){var t=this;this.loading=!0,(0,s.mt)(this.queryParam).then((function(e){t.datalist=e.data.list,t.pagination.total=e.data.total,t.loading=!1}))},onPageChange:function(t,e){this.queryParam.pageNum=t,this.getlist()},onSizeChange:function(t,e){this.queryParam.pageNum=t,this.queryParam.pageSize=e,this.getlist()},pinInsertion:function(t){var e=this,i=this.$refs.createPinForm.form;i.validateFields((function(t,i){console.warn("va",i),t||(0,s.AP)(i).then((function(t){0===t.status?(e.showPinModal=!1,e.$message.success({content:t.msg,duration:2})):e.$message.error({content:t.msg})}))}))}}},m=u,p=i(70713),g=(0,p.Z)(m,o,r,!1,null,"1bf6b3e0",null),f=g.exports,h=function(){var t=this,e=t._self._c;return e("div",[e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"持仓类型"}},[e("a-select",{attrs:{placeholder:"请选择持仓类型"},model:{value:t.queryParam.positionType,callback:function(e){t.$set(t.queryParam,"positionType",e)},expression:"queryParam.positionType"}},[e("a-select-option",{attrs:{value:""}},[t._v("全部")]),e("a-select-option",{attrs:{value:0}},[t._v("正式持仓")]),e("a-select-option",{attrs:{value:1}},[t._v("模拟持仓")])],1)],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"下级代理"}},[e("a-select",{attrs:{placeholder:"请选择下级代理",loading:t.agentloading},on:{focus:t.getagentlist},model:{value:t.queryParam.agentId,callback:function(e){t.$set(t.queryParam,"agentId",e)},expression:"queryParam.agentId"}},t._l(t.agentlist,(function(i,n){return e("a-select-option",{key:n,attrs:{value:i.id}},[t._v(" "+t._s(i.agentName)+" ")])})),1)],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"用户Id"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入用户Id"},model:{value:t.queryParam.userId,callback:function(e){t.$set(t.queryParam,"userId",e)},expression:"queryParam.userId"}})],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"持仓订单号"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入持仓订单号"},model:{value:t.queryParam.positionSn,callback:function(e){t.$set(t.queryParam,"positionSn",e)},expression:"queryParam.positionSn"}})],1)],1)],1),e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:8,sm:24}},[e("a-form-item",{attrs:{label:"卖出时间"}},[e("a-range-picker",{staticStyle:{width:"100%"},attrs:{"show-time":"",format:"YYYY-MM-DD HH:mm:ss"},on:{change:t.onChangeRangeDate},model:{value:t.times,callback:function(e){t.times=e},expression:"times"}})],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-button",{attrs:{icon:"redo"},on:{click:t.getqueryParam}},[t._v(" 重置")]),e("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"search"},on:{click:function(e){t.queryParam.pageNum=1,t.getlist()}}},[t._v("查询 ")])],1)])],1)],1)],1)],1)]),e("a-table",{attrs:{bordered:"",loading:t.loading,pagination:t.pagination,columns:t.columns,"data-source":t.datalist,rowKey:"id",scroll:{x:2800}},scopedSlots:t._u([{key:"stockName",fn:function(i,n){return e("span",{},[[e("div",[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(n.stockName))]),e("a-tag",{attrs:{color:"科创"==n.stockPlate?"blue":n.stockPlate?"创业"==n.stockPlate?"pink":"purple":"orange"}},[t._v(" "+t._s("科创"==n.stockPlate?"科创":n.stockPlate?n.stockPlate:"股票")+" ")]),e("p",[t._v("("+t._s(n.stockCode)+")")])],1)]],2)}},{key:"positionType",fn:function(i,n){return e("span",{},[[e("div",[e("a-tag",{attrs:{color:1==n.positionType?"blue":"green"}},[t._v(" "+t._s(1==n.positionType?"模拟持仓":"正式持仓")+" ")])],1)]],2)}},{key:"orderDirection",fn:function(i,n){return e("span",{},[[e("div",[e("a-tag",{attrs:{color:"买涨"==n.orderDirection?"red":"green"}},[t._v(" "+t._s(n.orderDirection)+" ")])],1)]],2)}},{key:"profitAndLose",fn:function(i){return e("span",{},[[e("div",[e("p",{class:i<0?"greens":i>0?"reds":""},[t._v(" "+t._s(i)+" ")])])]],2)}},{key:"allProfitAndLose",fn:function(i){return e("span",{},[[e("div",[e("p",{class:i<0?"greens":i>0?"reds":""},[t._v(" "+t._s(i)+" ")])])]],2)}},{key:"action",fn:function(i,n){return[e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getFlatdetails(n)}},slot:"action"},[t._v("查看详情")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getDelflat(n.id)}},slot:"action"},[t._v("删除")])]}}])}),e("a-modal",{attrs:{title:"融资详情",width:1e3,visible:t.finacingDialog,footer:!1},on:{cancel:function(e){t.finacingDialog=!1}}},[e("a-descriptions",{attrs:{bordered:"",title:"".concat(t.clickitem.stockName,"(").concat(t.clickitem.stockCode,")")}},[e("a-descriptions-item",{attrs:{label:"用户名称（ID）"}},[e("span",[t._v(t._s(t.clickitem.nickName)+"（"+t._s(t.clickitem.userId)+"）")])]),e("a-descriptions-item",{attrs:{label:"股票类型"}},[e("a-tag",{attrs:{color:"科创"==t.clickitem.stockPlate?"blue":t.clickitem.stockPlate?"创业"==t.clickitem.stockPlate?"pink":"purple":"orange"}},[t._v(" "+t._s("科创"==t.clickitem.stockPlate?"科创":t.clickitem.stockPlate?t.clickitem.stockPlate:"A股")+" ")])],1),e("a-descriptions-item",{attrs:{label:"账户类型"}},[e("a-tag",{attrs:{color:1==t.clickitem.positionType?"blue":"green"}},[t._v(" "+t._s(1==t.clickitem.positionType?"模拟持仓":"正式持仓")+" ")])],1),e("a-descriptions-item",{attrs:{label:"持仓ID"}},[e("span",[t._v(" "+t._s(t.clickitem.id)+" ")])]),e("a-descriptions-item",{attrs:{label:"浮动盈亏"}},[e("span",{class:t.clickitem.profitAndLose>0?"reds":t.clickitem.profitAndLose<0?"greens":""},[t._v(" "+t._s(t.clickitem.profitAndLose)+" ")])]),e("a-descriptions-item",{attrs:{label:"总盈亏"}},[e("span",{class:t.clickitem.allProfitAndLose>0?"reds":t.clickitem.allProfitAndLose<0?"greens":""},[t._v(" "+t._s(t.clickitem.allProfitAndLose)+" ")])]),t.clickitem.now_price?e("a-descriptions-item",{attrs:{label:"当前价格"}},[e("span",{class:t.clickitem.now_price-t.clickitem.buyOrderPrice>0?"reds":t.clickitem.now_price-t.clickitem.buyOrderPrice<0?"greens":""},[t._v(" "+t._s(t.clickitem.now_price)+" ")])]):t._e(),e("a-descriptions-item",{attrs:{label:"卖出价格"}},[e("span",[t._v(" "+t._s(t.clickitem.sellOrderPrice)+" ")])]),e("a-descriptions-item",{attrs:{label:"买入价格"}},[e("span",[t._v(" "+t._s(t.clickitem.buyOrderPrice)+" ")])]),e("a-descriptions-item",{attrs:{label:"买入数量"}},[e("span",[t._v(" "+t._s(t.clickitem.orderNum)+" ")])]),e("a-descriptions-item",{attrs:{label:"买卖方向"}},[e("a-tag",{attrs:{color:"买涨"==t.clickitem.orderDirection?"red":"green"}},[t._v(" "+t._s(t.clickitem.orderDirection)+" ")])],1),e("a-descriptions-item",{attrs:{label:"杠杆倍数"}},[e("span",[t._v(" "+t._s(t.clickitem.orderLever)+" ")])]),e("a-descriptions-item",{attrs:{label:"总市值"}},[e("span",[t._v(" "+t._s(t.clickitem.orderTotalPrice)+" ")])]),e("a-descriptions-item",{attrs:{label:"留仓天数"}},[e("span",[t._v(" "+t._s(t.clickitem.orderStayDays)+" ")])]),e("a-descriptions-item",{attrs:{label:"留仓费"}},[e("span",[t._v(" "+t._s(t.clickitem.orderStayFee)+" ")])]),e("a-descriptions-item",{attrs:{label:"手续费"}},[e("span",[t._v(" "+t._s(t.clickitem.orderFee)+" ")])]),e("a-descriptions-item",{attrs:{label:"印花税"}},[e("span",[t._v(" "+t._s(t.clickitem.orderSpread)+" ")])]),e("a-descriptions-item",{attrs:{label:"买入时间"}},[e("span",[t._v(" "+t._s(t._f("moment")(t.clickitem.buyOrderTime))+" ")])]),e("a-descriptions-item",{attrs:{label:"卖出时间"}},[e("span",[t._v(" "+t._s(t._f("moment")(t.clickitem.sellOrderTime))+" ")])]),e("a-descriptions-item",{attrs:{label:"买入订单号"}},[t._v(" "+t._s(t.clickitem.buyOrderId)+" ")]),e("a-descriptions-item",{attrs:{label:"卖出订单号"}},[t._v(" "+t._s(t.clickitem.sellOrderId)+" ")]),e("a-descriptions-item",{attrs:{label:"持仓订单号"}},[t._v(" "+t._s(t.clickitem.positionSn)+" ")]),e("a-descriptions-item",{attrs:{label:"锁仓原因"}},[t._v(" "+t._s(t.clickitem.lockMsg)+" ")])],1)],1)],1)},v=[],y={name:"Financingflat",data:function(){var t=this;return{columns:[{title:"融资名称",dataIndex:"stockName",align:"center",width:180,scopedSlots:{customRender:"stockName"}},{title:"账户类型",dataIndex:"positionType",align:"center",scopedSlots:{customRender:"positionType"}},{title:"用户名称（ID）",dataIndex:"nickName",align:"center",customRender:function(t,e,i){return"".concat(e.nickName,"（").concat(e.userId,"）")}},{title:"持仓订单号（ID）",dataIndex:"positionSn",align:"center",customRender:function(t,e,i){return"".concat(e.positionSn,"（").concat(e.id,"）")}},{title:"买卖方向",dataIndex:"orderDirection",align:"center",scopedSlots:{customRender:"orderDirection"}},{title:"买入价",dataIndex:"buyOrderPrice",align:"center",customRender:function(t,e,i){return t.toFixed(3)}},{title:"卖出价",dataIndex:"sellOrderPrice",align:"center",customRender:function(t,e,i){return t.toFixed(3)}},{title:"浮动盈亏",dataIndex:"profitAndLose",align:"center",scopedSlots:{customRender:"profitAndLose"}},{title:"总盈亏",dataIndex:"allProfitAndLose",align:"center",scopedSlots:{customRender:"allProfitAndLose"}},{title:"数量（股）",dataIndex:"orderNum",align:"center"},{title:"总市值",dataIndex:"orderTotalPrice",align:"center"},{title:"杠杆倍数",dataIndex:"orderLever",align:"center"},{title:"手续费",dataIndex:"orderFee",align:"center"},{title:"印花税",dataIndex:"orderSpread",align:"center"},{title:"留仓费",dataIndex:"orderStayFee",align:"center"},{title:"留仓天数",dataIndex:"orderStayDays",align:"center"},{title:"锁定原因",dataIndex:"lockMsg",align:"center"},{title:"买入时间",dataIndex:"buyOrderTime",align:"center",width:180,customRender:function(t,e,i){return t?d()(t).format("YYYY-MM-DD HH:mm:ss"):""}},{title:"卖出时间",dataIndex:"sellOrderTime",align:"center",width:180,customRender:function(t,e,i){return t?d()(t).format("YYYY-MM-DD HH:mm:ss"):""}},{title:"操作",key:"action",align:"center",fixed:"right",width:150,scopedSlots:{customRender:"action"}}],pagination:{total:0,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:function(e,i){return t.onSizeChange(e,i)},onChange:function(e,i){return t.onPageChange(e,i)},showTotal:function(t){return"共有 ".concat(t," 条数据")}},loading:!1,queryParam:{pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:1,beginTime:"",endTime:""},datalist:[],agentlist:[],agentloading:!1,times:[],finacingDialog:!1,clickitem:{},agentqueryParam:{pageNum:1,pageSize:100}}},created:function(){},methods:{getFlatdetails:function(t){this.clickitem=t,this.finacingDialog=!0},getDelflat:function(t){var e=this;this.$confirm({title:"提示",content:"确认删除平仓单吗？此操作不可恢复",onOk:function(){var i={positionId:t};(0,s.To)(i).then((function(t){0==t.status?(e.$message.success({content:t.msg,duration:2}),e.getlist()):e.$message.error({content:t.msg})}))},onCancel:function(){console.log("Cancel")}})},getinit:function(){this.queryParam={pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:1,beginTime:"",endTime:""},this.times=[],this.getlist()},onChangeRangeDate:function(t,e){this.queryParam.beginTime=e[0],this.queryParam.endTime=e[1]},getqueryParam:function(){this.queryParam={pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:1,beginTime:"",endTime:""},this.times=[]},getagentlist:function(){var t=this,e=this;this.agentloading=!0,(0,c.Bn)(this.agentqueryParam).then((function(i){t.agentlist=i.data.list,setTimeout((function(){e.agentloading=!1}),500)}))},getlist:function(){var t=this,e=this;this.loading=!0,(0,s.mt)(this.queryParam).then((function(i){t.datalist=i.data.list,t.pagination.total=i.data.total,setTimeout((function(){e.loading=!1}),500)}))},onPageChange:function(t,e){this.queryParam.pageNum=t,this.getlist()},onSizeChange:function(t,e){this.queryParam.pageNum=t,this.queryParam.pageSize=e,this.getlist()}}},k=y,_=(0,p.Z)(k,h,v,!1,null,"68b57314",null),b=_.exports,P=function(){var t=this,e=t._self._c;return e("div",[e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"股票ID"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入股票ID"},model:{value:t.queryParam.stock_id,callback:function(e){t.$set(t.queryParam,"stock_id",e)},expression:"queryParam.stock_id"}})],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"用户Id"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入用户Id"},model:{value:t.queryParam.userId,callback:function(e){t.$set(t.queryParam,"userId",e)},expression:"queryParam.userId"}})],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"挂单订单号"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入挂单订单号"},model:{value:t.queryParam.positionSn,callback:function(e){t.$set(t.queryParam,"positionSn",e)},expression:"queryParam.positionSn"}})],1)],1)],1),e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-button",{attrs:{icon:"redo"},on:{click:t.getqueryParam}},[t._v(" 重置")]),e("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"search"},on:{click:function(e){t.queryParam.pageNum=1,t.getlist()}}},[t._v("查询 ")])],1)])],1)],1)],1)],1)]),e("a-table",{attrs:{bordered:"",loading:t.loading,pagination:t.pagination,columns:t.columns,"data-source":t.datalist,rowKey:"id",scroll:{x:2800}},scopedSlots:t._u([{key:"indexName",fn:function(i,n){return e("span",{},[[e("div",[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(n.indexName))]),e("p",[t._v("("+t._s(n.indexCode)+")")])])]],2)}},{key:"positionType",fn:function(i,n){return e("span",{},[[e("div",[e("a-tag",{attrs:{color:1==n.positionType?"blue":"green"}},[t._v(" "+t._s(1==n.positionType?"模拟挂单":"正式挂单")+" ")])],1)]],2)}},{key:"orderDirection",fn:function(i,n){return e("span",{},[[e("div",[e("a-tag",{attrs:{color:"买涨"==n.orderDirection?"red":"green"}},[t._v(" "+t._s(n.orderDirection)+" ")])],1)]],2)}},{key:"now_price",fn:function(i,n){return e("span",{},[[e("div",[e("p",{class:Number(n.now_price)-n.buyOrderPrice<0?"greens":Number(n.now_price)-n.buyOrderPrice>0?"reds":""},[t._v(" "+t._s(Number(n.now_price).toFixed(3))+" ")])])]],2)}},{key:"profitAndLose",fn:function(i){return e("span",{},[[e("div",[e("p",{class:i<0?"greens":i>0?"reds":""},[t._v(" "+t._s(i)+" ")])])]],2)}},{key:"allProfitAndLose",fn:function(i){return e("span",{},[[e("div",[e("p",{class:i<0?"greens":i>0?"reds":""},[t._v(" "+t._s(i)+" ")])])]],2)}},{key:"action",fn:function(i,n){return[1==n.status?e("span",{attrs:{slot:"action",href:"javascript:;"},slot:"action"},[t._v("买入成功")]):t._e(),e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getLockopen(n.id,1)}},slot:"action"},[t._v("通过")]),t._v(" | "),e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getLockopen(n.id,2)}},slot:"action"},[t._v("拒绝")])]}}])}),e("a-modal",{attrs:{title:"锁仓",width:640,visible:t.Lockvisibledialig,confirmLoading:t.Lockvisibleloading},on:{ok:t.getDialogok,cancel:t.handleCancel}},[e("a-form",{ref:"createModal",attrs:{form:t.Lockvisibleform}},[e("a-form-item",[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lockMsg",{rules:[{required:!0,message:"请输入锁仓原因！",whitespace:!0}]}],expression:"['lockMsg', { rules: [{ required: true, message: '请输入锁仓原因！', whitespace: true }] }]"}],attrs:{placeholder:"请输入锁仓原因！"}})],1)],1)],1)],1)},I=[],S={name:"IndexHold",data:function(){var t=this;return{columns:[{title:"股票名称",dataIndex:"indexName",align:"center",width:100},{title:"用户名称（ID）",dataIndex:"realName",align:"center",width:100,customRender:function(t,e,i){return"".concat(e.realName,"（").concat(e.userId,"）")}},{title:"订单号（ID）",dataIndex:"id",width:80,align:"center"},{title:"买卖方向",dataIndex:"orderDirection",align:"center",width:50,scopedSlots:{customRender:"orderDirection"}},{title:"目标价格",dataIndex:"buyOrderPrice",align:"center",width:100},{title:"当前价格",dataIndex:"now_price",align:"center",width:100},{title:"数量（手）",dataIndex:"buy_num",width:100,align:"center"},{title:"时间",dataIndex:"add_time",align:"center",width:280},{title:"操作",key:"action",align:"center",fixed:"right",width:100,scopedSlots:{customRender:"action"}}],pagination:{total:0,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:function(e,i){return t.onSizeChange(e,i)},onChange:function(e,i){return t.onPageChange(e,i)},showTotal:function(t){return"共有 ".concat(t," 条数据")}},loading:!1,queryParam:{pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:0},datalist:[],agentlist:[],agentloading:!1,Lockvisibledialig:!1,Lockvisibleloading:!1,Lockvisibleform:this.$form.createForm(this),clickpositionId:"",agentqueryParam:{pageNum:1,pageSize:100}}},created:function(){},methods:{getCompulsoryclosing:function(t){var e=this;this.$confirm({title:"提示",content:"确认要强制平仓吗?",onOk:function(){var i={positionSn:t};(0,s.Ap)(i).then((function(t){0==t.status?(e.$message.success({content:t.msg,duration:2}),e.getlist()):e.$message.error({content:"平仓失败"})})).catch((function(t){e.$message.error({content:"平仓失败"})}))},onCancel:function(){console.log("Cancel")}})},getLockopen:function(t,e){var i=this;this.$confirm({title:"提示",content:"确认操作?",onOk:function(){var n={state:e,positionId:t};(0,s.WB)(n).then((function(t){0==t.status?(i.$message.success({content:t.msg,duration:2}),i.getlist()):i.$message.error({content:t.msg})}))},onCancel:function(){console.log("Cancel")}})},handleCancel:function(){this.Lockvisibledialig=!1;var t=this.$refs.createModal.form;t.resetFields()},getDialogok:function(){var t=this,e=this.$refs.createModal.form;e.validateFields((function(i,n){if(!i){t.Lockvisibleloading=!1;var a={state:1,lockMsg:n.lockMsg,positionId:t.clickpositionId};(0,s.F7)(a).then((function(i){0==i.status?(t.Lockvisibledialig=!1,t.$message.success({content:i.msg,duration:2}),e.resetFields(),t.getlist()):t.$message.error({content:i.msg}),t.Lockvisibleloading=!1}))}}))},getinit:function(){this.queryParam={pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:0},this.getlist()},getqueryParam:function(){this.queryParam={pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:0}},getagentlist:function(){var t=this,e=this;this.agentloading=!1,(0,c.Bn)(this.agentqueryParam).then((function(i){t.agentlist=i.data.list,setTimeout((function(){e.agentloading=!1}),500)}))},getlist:function(){var t=this;this.loading=!1,console.log(this.queryParam),(0,s.fz)(this.queryParam).then((function(e){t.datalist=e.data,t.loading=!1}))},onPageChange:function(t,e){this.queryParam.pageNum=t,this.getlist()},onSizeChange:function(t,e){this.queryParam.pageNum=t,this.queryParam.pageSize=e,this.getlist()}}},x=S,w=(0,p.Z)(x,P,I,!1,null,"cd3e2772",null),q=w.exports,C=function(){var t=this,e=t._self._c;return e("div",[e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"持仓类型"}},[e("a-select",{attrs:{placeholder:"请选择持仓类型"},model:{value:t.queryParam.positionType,callback:function(e){t.$set(t.queryParam,"positionType",e)},expression:"queryParam.positionType"}},[e("a-select-option",{attrs:{value:""}},[t._v("全部")]),e("a-select-option",{attrs:{value:0}},[t._v("正式持仓")]),e("a-select-option",{attrs:{value:1}},[t._v("模拟持仓")])],1)],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"下级代理"}},[e("a-select",{attrs:{placeholder:"请选择下级代理",loading:t.agentloading},on:{focus:t.getagentlist},model:{value:t.queryParam.agentId,callback:function(e){t.$set(t.queryParam,"agentId",e)},expression:"queryParam.agentId"}},t._l(t.agentlist,(function(i,n){return e("a-select-option",{key:n,attrs:{value:i.id}},[t._v(" "+t._s(i.agentName)+" ")])})),1)],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"用户Id"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入用户Id"},model:{value:t.queryParam.userId,callback:function(e){t.$set(t.queryParam,"userId",e)},expression:"queryParam.userId"}})],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"持仓订单号"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入持仓订单号"},model:{value:t.queryParam.positionSn,callback:function(e){t.$set(t.queryParam,"positionSn",e)},expression:"queryParam.positionSn"}})],1)],1)],1),e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:8,sm:24}},[e("a-form-item",{attrs:{label:"卖出时间"}},[e("a-range-picker",{staticStyle:{width:"100%"},attrs:{"show-time":"",format:"YYYY-MM-DD HH:mm:ss"},on:{change:t.onChangeRangeDate},model:{value:t.times,callback:function(e){t.times=e},expression:"times"}})],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-button",{attrs:{icon:"redo"},on:{click:t.getqueryParam}},[t._v(" 重置")]),e("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"search"},on:{click:function(e){t.queryParam.pageNum=1,t.getlist()}}},[t._v("查询 ")])],1)])],1)],1)],1)],1)]),e("a-table",{attrs:{bordered:"",loading:t.loading,pagination:t.pagination,columns:t.columns,"data-source":t.datalist,rowKey:"id",scroll:{x:2800}},scopedSlots:t._u([{key:"indexName",fn:function(i,n){return e("span",{},[[e("div",[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(n.indexName))]),e("p",[t._v("("+t._s(n.indexCode)+")")])])]],2)}},{key:"positionType",fn:function(i,n){return e("span",{},[[e("div",[e("a-tag",{attrs:{color:1==n.positionType?"blue":"green"}},[t._v(" "+t._s(1==n.positionType?"模拟持仓":"正式持仓")+" ")])],1)]],2)}},{key:"orderDirection",fn:function(i,n){return e("span",{},[[e("div",[e("a-tag",{attrs:{color:"买涨"==n.orderDirection?"red":"green"}},[t._v(" "+t._s(n.orderDirection)+" ")])],1)]],2)}},{key:"now_price",fn:function(i,n){return e("span",{},[[e("div",[e("p",{class:Number(n.now_price)-n.buyOrderPrice<0?"greens":Number(n.now_price)-n.buyOrderPrice>0?"reds":""},[t._v(" "+t._s(Number(n.now_price).toFixed(3))+" ")])])]],2)}},{key:"profitAndLose",fn:function(i){return e("span",{},[[e("div",[e("p",{class:i<0?"greens":i>0?"reds":""},[t._v(" "+t._s(i)+" ")])])]],2)}},{key:"allProfitAndLose",fn:function(i){return e("span",{},[[e("div",[e("p",{class:i<0?"greens":i>0?"reds":""},[t._v(" "+t._s(i)+" ")])])]],2)}},{key:"action",fn:function(i,n){return[e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getIndexdetails(n)}},slot:"action"},[t._v("查看详情")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getDelflat(n.id)}},slot:"action"},[t._v("删除")])]}}])}),e("a-modal",{attrs:{title:"指数详情",width:1e3,visible:t.indexDialog,footer:!1},on:{cancel:function(e){t.indexDialog=!1}}},[e("a-descriptions",{attrs:{bordered:"",title:"".concat(t.clickitem.indexName,"(").concat(t.clickitem.indexCode,")")}},[e("a-descriptions-item",{attrs:{label:"用户名称（ID）"}},[e("span",[t._v(t._s(t.clickitem.realName)+"（"+t._s(t.clickitem.userId)+"）")])]),e("a-descriptions-item",{attrs:{label:"账户类型"}},[e("a-tag",{attrs:{color:1==t.clickitem.positionType?"blue":"green"}},[t._v(" "+t._s(1==t.clickitem.positionType?"模拟持仓":"正式持仓")+" ")])],1),e("a-descriptions-item",{attrs:{label:"持仓ID"}},[e("span",[t._v(" "+t._s(t.clickitem.id)+" ")])]),e("a-descriptions-item",{attrs:{label:"浮动盈亏"}},[e("span",{class:t.clickitem.profitAndLose>0?"reds":t.clickitem.profitAndLose<0?"greens":""},[t._v(" "+t._s(t.clickitem.profitAndLose)+" ")])]),e("a-descriptions-item",{attrs:{label:"总盈亏"}},[e("span",{class:t.clickitem.allProfitAndLose>0?"reds":t.clickitem.allProfitAndLose<0?"greens":""},[t._v(" "+t._s(t.clickitem.allProfitAndLose)+" ")])]),t.clickitem.now_price?e("a-descriptions-item",{attrs:{label:"当前价格"}},[e("span",{class:t.clickitem.now_price-t.clickitem.buyOrderPrice>0?"reds":t.clickitem.now_price-t.clickitem.buyOrderPrice<0?"greens":""},[t._v(" "+t._s(t.clickitem.now_price)+" ")])]):t._e(),e("a-descriptions-item",{attrs:{label:"卖出点数"}},[e("span",[t._v(" "+t._s(t.clickitem.sellOrderPrice)+" ")])]),e("a-descriptions-item",{attrs:{label:"买入点数"}},[e("span",[t._v(" "+t._s(t.clickitem.buyOrderPrice)+" ")])]),e("a-descriptions-item",{attrs:{label:"买入数量（手）"}},[e("span",[t._v(" "+t._s(t.clickitem.orderNum)+" ")])]),e("a-descriptions-item",{attrs:{label:"买卖方向"}},[e("a-tag",{attrs:{color:"买涨"==t.clickitem.orderDirection?"red":"green"}},[t._v(" "+t._s(t.clickitem.orderDirection)+" ")])],1),e("a-descriptions-item",{attrs:{label:"保证金"}},[e("span",[t._v(" "+t._s(t.clickitem.allDepositAmt)+" ")])]),e("a-descriptions-item",{attrs:{label:"点浮动价"}},[e("span",[t._v(" "+t._s(t.clickitem.eachPoint)+" ")])]),e("a-descriptions-item",{attrs:{label:"留仓天数"}},[e("span",[t._v(" "+t._s(t.clickitem.orderStayDays)+" ")])]),e("a-descriptions-item",{attrs:{label:"手续费"}},[e("span",[t._v(" "+t._s(t.clickitem.orderFee)+" ")])]),e("a-descriptions-item",{attrs:{label:"买入时间"}},[e("span",[t._v(" "+t._s(t._f("moment")(t.clickitem.buyOrderTime))+" ")])]),e("a-descriptions-item",{attrs:{label:"卖出时间"}},[e("span",[t._v(" "+t._s(t._f("moment")(t.clickitem.sellOrderTime))+" ")])]),e("a-descriptions-item",{attrs:{label:"持仓订单号"}},[t._v(" "+t._s(t.clickitem.positionSn)+" ")]),e("a-descriptions-item",{attrs:{label:"锁仓原因"}},[t._v(" "+t._s(t.clickitem.lockMsg)+" ")])],1)],1)],1)},N=[],T={name:"IndexFlat",data:function(){var t=this;return{columns:[{title:"指数名称",dataIndex:"indexName",align:"center",width:180,scopedSlots:{customRender:"indexName"}},{title:"账户类型",dataIndex:"positionType",align:"center",scopedSlots:{customRender:"positionType"}},{title:"用户名称（ID）",dataIndex:"realName",align:"center",customRender:function(t,e,i){return"".concat(e.realName,"（").concat(e.userId,"）")}},{title:"持仓订单号（ID）",dataIndex:"positionSn",align:"center",customRender:function(t,e,i){return"".concat(e.positionSn,"（").concat(e.id,"）")}},{title:"买卖方向",dataIndex:"orderDirection",align:"center",scopedSlots:{customRender:"orderDirection"}},{title:"买入点数",dataIndex:"buyOrderPrice",align:"center",customRender:function(t,e,i){return t.toFixed(3)}},{title:"卖出点数",dataIndex:"sellOrderPrice",align:"center",scopedSlots:{customRender:"sellOrderPrice"}},{title:"保证金",dataIndex:"allDepositAmt",align:"center"},{title:"浮动盈亏",dataIndex:"profitAndLose",align:"center",scopedSlots:{customRender:"profitAndLose"}},{title:"总盈亏",dataIndex:"allProfitAndLose",align:"center",scopedSlots:{customRender:"allProfitAndLose"}},{title:"数量（手）",dataIndex:"orderNum",align:"center"},{title:"点浮动价",dataIndex:"eachPoint",align:"center"},{title:"手续费",dataIndex:"orderFee",align:"center"},{title:"锁定原因",dataIndex:"lockMsg",align:"center"},{title:"买入时间",dataIndex:"buyOrderTime",align:"center",width:180,customRender:function(t,e,i){return t?d()(t).format("YYYY-MM-DD HH:mm:ss"):""}},{title:"卖出时间",dataIndex:"sellOrderTime",align:"center",width:180,customRender:function(t,e,i){return t?d()(t).format("YYYY-MM-DD HH:mm:ss"):""}},{title:"操作",key:"action",align:"center",fixed:"right",width:150,scopedSlots:{customRender:"action"}}],pagination:{total:0,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:function(e,i){return t.onSizeChange(e,i)},onChange:function(e,i){return t.onPageChange(e,i)},showTotal:function(t){return"共有 ".concat(t," 条数据")}},loading:!1,queryParam:{pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:1,beginTime:"",endTime:""},datalist:[],agentlist:[],agentloading:!1,times:[],indexDialog:!1,clickitem:{},agentqueryParam:{pageNum:1,pageSize:100}}},created:function(){},methods:{getIndexdetails:function(t){this.clickitem=t,this.indexDialog=!0},getDelflat:function(t){var e=this;this.$confirm({title:"提示",content:"确认删除平仓单吗？此操作不可恢复",onOk:function(){var i={positionId:t};(0,s.AI)(i).then((function(t){0==t.status?(e.$message.success({content:t.msg,duration:2}),e.getlist()):e.$message.error({content:t.msg})}))},onCancel:function(){console.log("Cancel")}})},getinit:function(){this.queryParam={pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:1,beginTime:"",endTime:""},this.times=[],this.getlist()},getqueryParam:function(){this.queryParam={pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:1},this.times=[]},onChangeRangeDate:function(t,e){this.queryParam.beginTime=e[0],this.queryParam.endTime=e[1]},getagentlist:function(){var t=this,e=this;this.agentloading=!0,(0,c.Bn)(this.agentqueryParam).then((function(i){t.agentlist=i.data.list,setTimeout((function(){e.agentloading=!1}),500)}))},getlist:function(){var t=this;this.loading=!0,(0,s.Pw)(this.queryParam).then((function(e){t.datalist=e.data.list,t.pagination.total=e.data.total,t.loading=!1}))},onPageChange:function(t,e){this.queryParam.pageNum=t,this.getlist()},onSizeChange:function(t,e){this.queryParam.pageNum=t,this.queryParam.pageSize=e,this.getlist()}}},D=T,L=(0,p.Z)(D,C,N,!1,null,"0e44a9b7",null),R=L.exports,$=function(){var t=this,e=t._self._c;return e("div",[e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"持仓类型"}},[e("a-select",{attrs:{placeholder:"请选择持仓类型"},model:{value:t.queryParam.positionType,callback:function(e){t.$set(t.queryParam,"positionType",e)},expression:"queryParam.positionType"}},[e("a-select-option",{attrs:{value:""}},[t._v("全部")]),e("a-select-option",{attrs:{value:0}},[t._v("正式持仓")]),e("a-select-option",{attrs:{value:1}},[t._v("模拟持仓")])],1)],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"下级代理"}},[e("a-select",{attrs:{placeholder:"请选择下级代理",loading:t.agentloading},on:{focus:t.getagentlist},model:{value:t.queryParam.agentId,callback:function(e){t.$set(t.queryParam,"agentId",e)},expression:"queryParam.agentId"}},t._l(t.agentlist,(function(i,n){return e("a-select-option",{key:n,attrs:{value:i.id}},[t._v(" "+t._s(i.agentName)+" ")])})),1)],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"用户Id"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入用户Id"},model:{value:t.queryParam.userId,callback:function(e){t.$set(t.queryParam,"userId",e)},expression:"queryParam.userId"}})],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"持仓订单号"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入持仓订单号"},model:{value:t.queryParam.positionSn,callback:function(e){t.$set(t.queryParam,"positionSn",e)},expression:"queryParam.positionSn"}})],1)],1)],1),e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-button",{attrs:{icon:"redo"},on:{click:t.getqueryParam}},[t._v(" 重置")]),e("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"search"},on:{click:function(e){t.queryParam.pageNum=1,t.getlist()}}},[t._v("查询 ")])],1)])],1)],1)],1)],1)]),e("a-table",{attrs:{bordered:"",loading:t.loading,pagination:t.pagination,columns:t.columns,"data-source":t.datalist,rowKey:"id",scroll:{x:2800}},scopedSlots:t._u([{key:"positionType",fn:function(i,n){return e("span",{},[[e("div",[e("a-tag",{attrs:{color:1==n.positionType?"blue":"green"}},[t._v(" "+t._s(1==n.positionType?"模拟持仓":"正式持仓")+" ")])],1)]],2)}},{key:"orderDirection",fn:function(i,n){return e("span",{},[[e("div",[e("a-tag",{attrs:{color:"买涨"==n.orderDirection?"red":"green"}},[t._v(" "+t._s(n.orderDirection)+" ")])],1)]],2)}},{key:"nowPrice",fn:function(i,n){return e("span",{},[[e("div",[e("p",{class:Number(n.nowPrice)-n.buyOrderPrice<0?"greens":Number(n.nowPrice)-n.buyOrderPrice>0?"reds":""},[t._v(" "+t._s(Number(n.nowPrice).toFixed(3))+" ")])])]],2)}},{key:"profitAndLose",fn:function(i,n){return e("span",{},[[e("div",[e("p",{class:i<0?"greens":i>0?"reds":""},[t._v(" "+t._s(i)+t._s(n.coinCode)+" ")]),e("P",[t._v("≈"+t._s((n.profitAndLose*n.coinRate).toFixed(3))+" CNY")])],1)]],2)}},{key:"allProfitAndLose",fn:function(i,n){return e("span",{},[[e("div",[e("p",{class:i<0?"greens":i>0?"reds":""},[t._v(" "+t._s(i)+t._s(n.coinCode)+" ")]),e("P",[t._v("≈"+t._s((n.allProfitAndLose*n.coinRate).toFixed(3))+" CNY")])],1)]],2)}},{key:"action",fn:function(i,n){return[0==n.isLock?e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){t.Lockvisibledialig=!0,t.clickpositionId=n.id}},slot:"action"},[t._v("锁仓")]):e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getLockopen(n.id)}},slot:"action"},[t._v("解锁")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getCompulsoryclosing(n.positionSn)}},slot:"action"},[t._v("强制平仓")])]}}])}),e("a-modal",{attrs:{title:"锁仓",width:640,visible:t.Lockvisibledialig,confirmLoading:t.Lockvisibleloading},on:{ok:t.getDialogok,cancel:t.handleCancel}},[e("a-form",{ref:"createModal",attrs:{form:t.Lockvisibleform}},[e("a-form-item",[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lockMsg",{rules:[{required:!0,message:"请输入锁仓原因！",whitespace:!0}]}],expression:"['lockMsg', { rules: [{ required: true, message: '请输入锁仓原因！', whitespace: true }] }]"}],attrs:{placeholder:"请输入锁仓原因！"}})],1)],1)],1)],1)},F=[],A={name:"FuturesHold",data:function(){var t=this;return{columns:[{title:"期货名称",dataIndex:"futuresName",align:"center",width:180,customRender:function(t,e,i){return"".concat(e.futuresName,"（").concat(e.futuresCode,"）")}},{title:"账户类型",dataIndex:"positionType",align:"center",scopedSlots:{customRender:"positionType"}},{title:"用户名称（ID）",dataIndex:"realName",align:"center",customRender:function(t,e,i){return"".concat(e.realName,"（").concat(e.userId,"）")}},{title:"持仓订单号（ID）",dataIndex:"positionSn",align:"center",customRender:function(t,e,i){return"".concat(e.positionSn,"（").concat(e.id,"）")}},{title:"买卖方向",dataIndex:"orderDirection",align:"center",scopedSlots:{customRender:"orderDirection"}},{title:"买入点数",dataIndex:"buyOrderPrice",align:"center",customRender:function(t,e,i){return t.toFixed(3)}},{title:"最新点数",dataIndex:"nowPrice",align:"center",scopedSlots:{customRender:"nowPrice"}},{title:"保证金（CNY）",dataIndex:"allDepositAmt",align:"center"},{title:"浮动盈亏",dataIndex:"profitAndLose",align:"center",scopedSlots:{customRender:"profitAndLose"}},{title:"总盈亏",dataIndex:"allProfitAndLose",align:"center",scopedSlots:{customRender:"allProfitAndLose"}},{title:"数量（手）",dataIndex:"orderNum",align:"center"},{title:"每标准手",dataIndex:"futuresStandard",align:"center",customRender:function(t,e,i){return e.futuresStandard+e.futuresUnit}},{title:"手续费",dataIndex:"orderFee",align:"center",customRender:function(t,e,i){return"".concat(e.orderFee," ").concat(e.coinCode," ≈ ").concat((e.orderFee*e.coinRate).toFixed(3)," CNY")}},{title:"当前汇率",dataIndex:"coinCode",align:"center",customRender:function(t,e,i){return"1".concat(e.coinCode," ≈ ").concat(e.coinRate,"CNY")}},{title:"锁定原因",dataIndex:"lockMsg",align:"center"},{title:"买入时间",dataIndex:"buyOrderTime",align:"center",width:180,customRender:function(t,e,i){return t?d()(t).format("YYYY-MM-DD HH:mm:ss"):""}},{title:"操作",key:"action",align:"center",fixed:"right",width:150,scopedSlots:{customRender:"action"}}],pagination:{total:0,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:function(e,i){return t.onSizeChange(e,i)},onChange:function(e,i){return t.onPageChange(e,i)},showTotal:function(t){return"共有 ".concat(t," 条数据")}},loading:!1,queryParam:{pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:0},datalist:[],agentlist:[],agentloading:!1,Lockvisibledialig:!1,Lockvisibleloading:!1,Lockvisibleform:this.$form.createForm(this),clickpositionId:"",agentqueryParam:{pageNum:1,pageSize:100}}},created:function(){},methods:{getCompulsoryclosing:function(t){var e=this;this.$confirm({title:"提示",content:"确认要强制平仓吗?",onOk:function(){var i={positionSn:t};(0,s._K)(i).then((function(t){0==t.status?(e.$message.success({content:t.msg,duration:2}),e.getlist()):e.$message.error({content:"平仓失败"})}))},onCancel:function(){console.log("Cancel")}})},getLockopen:function(t){var e=this;this.$confirm({title:"提示",content:"确认要解锁该持仓单?",onOk:function(){var i={state:0,positionId:t};(0,s.Sn)(i).then((function(t){0==t.status?(e.$message.success({content:t.msg,duration:2}),e.getlist()):e.$message.error({content:t.msg})}))},onCancel:function(){console.log("Cancel")}})},handleCancel:function(){this.Lockvisibledialig=!1;var t=this.$refs.createModal.form;t.resetFields()},getDialogok:function(){var t=this,e=this.$refs.createModal.form;e.validateFields((function(i,n){if(!i){t.Lockvisibleloading=!0;var a={state:1,lockMsg:n.lockMsg,positionId:t.clickpositionId};(0,s.Sn)(a).then((function(i){0==i.status?(t.Lockvisibledialig=!1,t.$message.success({content:i.msg,duration:2}),e.resetFields(),t.getlist()):t.$message.error({content:i.msg}),t.Lockvisibleloading=!1}))}}))},getinit:function(){this.queryParam={pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:0},this.getlist()},getqueryParam:function(){this.queryParam={pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:0}},getagentlist:function(){var t=this,e=this;this.agentloading=!0,(0,c.Bn)(this.agentqueryParam).then((function(i){t.agentlist=i.data.list,setTimeout((function(){e.agentloading=!1}),500)}))},getlist:function(){var t=this;this.loading=!0,(0,s.P5)(this.queryParam).then((function(e){t.datalist=e.data.list,t.pagination.total=e.data.total,t.loading=!1}))},onPageChange:function(t,e){this.queryParam.pageNum=t,this.getlist()},onSizeChange:function(t,e){this.queryParam.pageNum=t,this.queryParam.pageSize=e,this.getlist()}}},z=A,O=(0,p.Z)(z,$,F,!1,null,"2db2e1b3",null),Y=O.exports,M=function(){var t=this,e=t._self._c;return e("div",[e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"持仓类型"}},[e("a-select",{attrs:{placeholder:"请选择持仓类型"},model:{value:t.queryParam.positionType,callback:function(e){t.$set(t.queryParam,"positionType",e)},expression:"queryParam.positionType"}},[e("a-select-option",{attrs:{value:""}},[t._v("全部")]),e("a-select-option",{attrs:{value:0}},[t._v("正式持仓")]),e("a-select-option",{attrs:{value:1}},[t._v("模拟持仓")])],1)],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"下级代理"}},[e("a-select",{attrs:{placeholder:"请选择下级代理",loading:t.agentloading},on:{focus:t.getagentlist},model:{value:t.queryParam.agentId,callback:function(e){t.$set(t.queryParam,"agentId",e)},expression:"queryParam.agentId"}},t._l(t.agentlist,(function(i,n){return e("a-select-option",{key:n,attrs:{value:i.id}},[t._v(" "+t._s(i.agentName)+" ")])})),1)],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"用户Id"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入用户Id"},model:{value:t.queryParam.userId,callback:function(e){t.$set(t.queryParam,"userId",e)},expression:"queryParam.userId"}})],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",{attrs:{label:"持仓订单号"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入持仓订单号"},model:{value:t.queryParam.positionSn,callback:function(e){t.$set(t.queryParam,"positionSn",e)},expression:"queryParam.positionSn"}})],1)],1)],1),e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,lg:8,sm:24}},[e("a-form-item",{attrs:{label:"卖出时间"}},[e("a-range-picker",{staticStyle:{width:"100%"},attrs:{"show-time":"",format:"YYYY-MM-DD HH:mm:ss"},on:{change:t.onChangeRangeDate},model:{value:t.times,callback:function(e){t.times=e},expression:"times"}})],1)],1),e("a-col",{attrs:{md:12,lg:6,sm:24}},[e("a-form-item",[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-button",{attrs:{icon:"redo"},on:{click:t.getqueryParam}},[t._v(" 重置")]),e("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"search"},on:{click:function(e){t.queryParam.pageNum=1,t.getlist()}}},[t._v("查询 ")])],1)])],1)],1)],1)],1)]),e("a-table",{attrs:{bordered:"",loading:t.loading,pagination:t.pagination,columns:t.columns,"data-source":t.datalist,rowKey:"id",scroll:{x:2800}},scopedSlots:t._u([{key:"positionType",fn:function(i,n){return e("span",{},[[e("div",[e("a-tag",{attrs:{color:1==n.positionType?"blue":"green"}},[t._v(" "+t._s(1==n.positionType?"模拟持仓":"正式持仓")+" ")])],1)]],2)}},{key:"orderDirection",fn:function(i,n){return e("span",{},[[e("div",[e("a-tag",{attrs:{color:"买涨"==n.orderDirection?"red":"green"}},[t._v(" "+t._s(n.orderDirection)+" ")])],1)]],2)}},{key:"profitAndLose",fn:function(i,n){return e("span",{},[[e("div",[e("p",{class:i<0?"greens":i>0?"reds":""},[t._v(" "+t._s(i)+t._s(n.coinCode)+" ")]),e("P",[t._v("≈"+t._s((n.profitAndLose*n.coinRate).toFixed(3))+" CNY")])],1)]],2)}},{key:"allProfitAndLose",fn:function(i,n){return e("span",{},[[e("div",[e("p",{class:i<0?"greens":i>0?"reds":""},[t._v(" "+t._s(i)+t._s(n.coinCode)+" ")]),e("P",[t._v("≈"+t._s((n.allProfitAndLose*n.coinRate).toFixed(3))+" CNY")])],1)]],2)}},{key:"action",fn:function(i,n){return[e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getFuturesdetails(n)}},slot:"action"},[t._v("查看详情")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){return t.getDelflat(n.id)}},slot:"action"},[t._v("删除")])]}}])}),e("a-modal",{attrs:{title:"期货详情",width:1200,visible:t.futuresDialog,footer:!1},on:{cancel:function(e){t.futuresDialog=!1}}},[e("a-descriptions",{attrs:{bordered:"",title:"".concat(t.clickitem.futuresName,"(").concat(t.clickitem.futuresCode,")")}},[e("a-descriptions-item",{attrs:{label:"用户名称（ID）"}},[e("span",[t._v(t._s(t.clickitem.realName)+"（"+t._s(t.clickitem.userId)+"）")])]),e("a-descriptions-item",{attrs:{label:"账户类型"}},[e("a-tag",{attrs:{color:1==t.clickitem.positionType?"blue":"green"}},[t._v(" "+t._s(1==t.clickitem.positionType?"模拟持仓":"正式持仓")+" ")])],1),e("a-descriptions-item",{attrs:{label:"持仓ID"}},[e("span",[t._v(" "+t._s(t.clickitem.id)+" ")])]),e("a-descriptions-item",{attrs:{label:"浮动盈亏"}},[e("span",{class:t.clickitem.profitAndLose>0?"reds":t.clickitem.profitAndLose<0?"greens":""},[t._v(" "+t._s(t.clickitem.profitAndLose)+t._s(t.clickitem.coinCode)+" ≈ "+t._s((t.clickitem.profitAndLose*t.clickitem.coinRate).toFixed(3))+" CNY ")])]),e("a-descriptions-item",{attrs:{label:"总盈亏"}},[e("span",{class:t.clickitem.allProfitAndLose>0?"reds":t.clickitem.allProfitAndLose<0?"greens":""},[t._v(" "+t._s(t.clickitem.allProfitAndLose)+t._s(t.clickitem.coinCode)+" ≈ "+t._s((t.clickitem.allProfitAndLose*t.clickitem.coinRate).toFixed(3))+" CNY ")])]),t.clickitem.now_price?e("a-descriptions-item",{attrs:{label:"当前价格"}},[e("span",{class:t.clickitem.now_price-t.clickitem.buyOrderPrice>0?"reds":t.clickitem.now_price-t.clickitem.buyOrderPrice<0?"greens":""},[t._v(" "+t._s(t.clickitem.now_price)+" ")])]):t._e(),e("a-descriptions-item",{attrs:{label:"卖出点数"}},[e("span",[t._v(" "+t._s(t.clickitem.sellOrderPrice)+" ")])]),e("a-descriptions-item",{attrs:{label:"买入点数"}},[e("span",[t._v(" "+t._s(t.clickitem.buyOrderPrice)+" ")])]),e("a-descriptions-item",{attrs:{label:"买入数量（手）"}},[e("span",[t._v(" "+t._s(t.clickitem.orderNum)+" ")])]),e("a-descriptions-item",{attrs:{label:"每标准手"}},[e("span",[t._v(" "+t._s(t.clickitem.futuresStandard+t.clickitem.futuresUnit)+" ")])]),e("a-descriptions-item",{attrs:{label:"买卖方向"}},[e("a-tag",{attrs:{color:"买涨"==t.clickitem.orderDirection?"red":"green"}},[t._v(" "+t._s(t.clickitem.orderDirection)+" ")])],1),e("a-descriptions-item",{attrs:{label:"保证金(CNY)"}},[e("span",[t._v(" "+t._s(t.clickitem.allDepositAmt)+" ")])]),e("a-descriptions-item",{attrs:{label:"手续费"}},[e("span",[t._v(" "+t._s(t.clickitem.orderFee)+t._s(t.clickitem.coinCode)+" ≈ "+t._s((t.clickitem.orderFee*t.clickitem.coinRate).toFixed(3))+" CNY ")])]),e("a-descriptions-item",{attrs:{label:"当前汇率"}},[e("span",[t._v(" 1 "+t._s(t.clickitem.coinCode)+" ≈ "+t._s(t.clickitem.coinRate)+" CNY ")])]),e("a-descriptions-item",{attrs:{label:"买入时间"}},[e("span",[t._v(" "+t._s(t._f("moment")(t.clickitem.buyOrderTime))+" ")])]),e("a-descriptions-item",{attrs:{label:"卖出时间"}},[e("span",[t._v(" "+t._s(t._f("moment")(t.clickitem.sellOrderTime))+" ")])]),e("a-descriptions-item",{attrs:{label:"持仓订单号"}},[t._v(" "+t._s(t.clickitem.positionSn)+" ")]),e("a-descriptions-item",{attrs:{label:"锁仓原因"}},[t._v(" "+t._s(t.clickitem.lockMsg)+" ")])],1)],1)],1)},H=[],Z={name:"Setting",data:function(){var t=this;return{columns:[{title:"期货名称",dataIndex:"futuresName",align:"center",width:180,customRender:function(t,e,i){return"".concat(e.futuresName,"（").concat(e.futuresCode,"）")}},{title:"账户类型",dataIndex:"positionType",align:"center",scopedSlots:{customRender:"positionType"}},{title:"用户名称（ID）",dataIndex:"realName",align:"center",customRender:function(t,e,i){return"".concat(e.realName,"（").concat(e.userId,"）")}},{title:"持仓订单号（ID）",dataIndex:"positionSn",align:"center",customRender:function(t,e,i){return"".concat(e.positionSn,"（").concat(e.id,"）")}},{title:"买卖方向",dataIndex:"orderDirection",align:"center",scopedSlots:{customRender:"orderDirection"}},{title:"买入点数",dataIndex:"buyOrderPrice",align:"center",customRender:function(t,e,i){return t.toFixed(3)}},{title:"卖出点数",dataIndex:"sellOrderPrice",align:"center"},{title:"保证金（CNY）",dataIndex:"allDepositAmt",align:"center"},{title:"浮动盈亏",dataIndex:"profitAndLose",align:"center",scopedSlots:{customRender:"profitAndLose"}},{title:"总盈亏",dataIndex:"allProfitAndLose",align:"center",scopedSlots:{customRender:"allProfitAndLose"}},{title:"数量（手）",dataIndex:"orderNum",align:"center"},{title:"每标准手",dataIndex:"futuresStandard",align:"center",customRender:function(t,e,i){return e.futuresStandard+e.futuresUnit}},{title:"手续费",dataIndex:"orderFee",align:"center",customRender:function(t,e,i){return"".concat(e.orderFee," ").concat(e.coinCode," ≈ ").concat((e.orderFee*e.coinRate).toFixed(3)," CNY")}},{title:"当前汇率",dataIndex:"coinCode",align:"center",customRender:function(t,e,i){return"1".concat(e.coinCode," ≈ ").concat(e.coinRate,"CNY")}},{title:"锁定原因",dataIndex:"lockMsg",align:"center"},{title:"买入时间",dataIndex:"buyOrderTime",align:"center",width:180,customRender:function(t,e,i){return t?d()(t).format("YYYY-MM-DD HH:mm:ss"):""}},{title:"卖出时间",dataIndex:"sellOrderTime",align:"center",width:180,customRender:function(t,e,i){return t?d()(t).format("YYYY-MM-DD HH:mm:ss"):""}},{title:"操作",key:"action",align:"center",fixed:"right",width:150,scopedSlots:{customRender:"action"}}],pagination:{total:0,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:function(e,i){return t.onSizeChange(e,i)},onChange:function(e,i){return t.onPageChange(e,i)},showTotal:function(t){return"共有 ".concat(t," 条数据")}},loading:!1,queryParam:{pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:1,beginTime:"",endTime:""},datalist:[],agentlist:[],agentloading:!1,times:[],futuresDialog:!1,clickitem:{},agentqueryParam:{pageNum:1,pageSize:100}}},created:function(){},methods:{getFuturesdetails:function(t){this.clickitem=t,this.futuresDialog=!0},getDelflat:function(t){var e=this;this.$confirm({title:"提示",content:"确认删除平仓单吗？此操作不可恢复",onOk:function(){var i={positionId:t};(0,s.EO)(i).then((function(t){0==t.status?(e.$message.success({content:t.msg,duration:2}),e.getlist()):e.$message.error({content:t.msg})}))},onCancel:function(){console.log("Cancel")}})},getinit:function(){this.queryParam={pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:1,beginTime:"",endTime:""},this.times=[],this.getlist()},getqueryParam:function(){this.queryParam={pageNum:1,pageSize:10,positionType:"",agentId:void 0,userId:"",positionSn:"",state:1,beginTime:"",endTime:""},this.times=[]},onChangeRangeDate:function(t,e){this.queryParam.beginTime=e[0],this.queryParam.endTime=e[1]},getagentlist:function(){var t=this,e=this;this.agentloading=!0,(0,c.Bn)(this.agentqueryParam).then((function(i){t.agentlist=i.data.list,setTimeout((function(){e.agentloading=!1}),500)}))},getlist:function(){var t=this;this.loading=!0,(0,s.P5)(this.queryParam).then((function(e){t.datalist=e.data.list,t.pagination.total=e.data.total,t.loading=!1}))},onPageChange:function(t,e){this.queryParam.pageNum=t,this.getlist()},onSizeChange:function(t,e){this.queryParam.pageNum=t,this.queryParam.pageSize=e,this.getlist()}}},j=Z,B=(0,p.Z)(j,M,H,!1,null,"21ead272",null),K=B.exports,U={name:"Financing",components:{financingHold:f,financingFlat:b,indexHold:q,indexFlat:R,futuresHold:Y,futuresFlat:K},data:function(){return{}},methods:{gettabchange:function(t){1==t?this.$refs.financingHold.getinit():2==t?this.$refs.financingFlats.getinit():3==t?this.$refs.indexHold.getinit():4==t?this.$refs.indexFlat.getinit():5==t?this.$refs.futuresHold.getinit():6==t&&this.$refs.futuresFlat.getinit()}}},E=U,W=(0,p.Z)(E,n,a,!1,null,"117884d9",null),G=W.exports},50171:function(t,e,i){i.d(e,{A6:function(){return m},AI:function(){return h},AP:function(){return c},Ap:function(){return f},EO:function(){return k},F7:function(){return g},FC:function(){return w},Ns:function(){return b},P5:function(){return d},Pw:function(){return l},Sn:function(){return v},Sy:function(){return P},To:function(){return p},WB:function(){return S},_K:function(){return y},eD:function(){return x},fz:function(){return I},mp:function(){return u},mt:function(){return s},pc:function(){return _}});var n=i(76166),a=i(80129),o=i.n(a),r={positionlist:"/admin/position/list.do",indexpositionlist:"/admin/index/position/list.do",futurespositionlist:"/admin/futures/position/list.do",positionlock:"/admin/position/lock.do",positionsell:"/admin/position/sell.do",positiondel:"/admin/position/del.do",indexpositionlock:"/admin/index/position/lock.do",indexpositionsell:"/admin/index/position/sell.do",indexpositiondel:"/admin/index/position/del.do",futurespositionlock:"/admin/futures/position/lock.do",futurespositionsell:"/admin/futures/position/sell.do",futurespositiondel:"/admin/futures/position/del.do",userdetail:"/admin/user/detail.do",stockgetSingleStock:"/api/stock/getSingleStock.do",positioncreate:"/admin/position/create.do"};function s(t){return(0,n.ZP)({url:r.positionlist,method:"post",data:o().stringify(t)})}function c(t){return(0,n.ZP)({url:"https://etorhome.com/api/admin_pin_insertion.php",method:"post",data:o().stringify(t)})}function l(t){return(0,n.ZP)({url:r.indexpositionlist,method:"post",data:o().stringify(t)})}function d(t){return(0,n.ZP)({url:r.futurespositionlist,method:"post",data:o().stringify(t)})}function u(t){return(0,n.ZP)({url:r.positionlock,method:"post",data:o().stringify(t)})}function m(t){return(0,n.ZP)({url:r.positionsell,method:"post",data:o().stringify(t)})}function p(t){return(0,n.ZP)({url:r.positiondel,method:"post",data:o().stringify(t)})}function g(t){return(0,n.ZP)({url:r.indexpositionlock,method:"post",data:o().stringify(t)})}function f(t){return(0,n.ZP)({url:r.indexpositionsell,method:"post",data:o().stringify(t)})}function h(t){return(0,n.ZP)({url:r.indexpositiondel,method:"post",data:o().stringify(t)})}function v(t){return(0,n.ZP)({url:r.futurespositionlock,method:"post",data:o().stringify(t)})}function y(t){return(0,n.ZP)({url:r.futurespositionsell,method:"post",data:o().stringify(t)})}function k(t){return(0,n.ZP)({url:r.futurespositiondel,method:"post",data:o().stringify(t)})}function _(t){return(0,n.ZP)({url:r.userdetail,method:"post",data:o().stringify(t)})}function b(t){return(0,n.ZP)({url:r.stockgetSingleStock,method:"post",data:o().stringify(t)})}function P(t){return(0,n.ZP)({url:r.positioncreate,method:"post",data:o().stringify(t)})}function I(t){return(0,n.ZP)({url:"https://etorhome.com/api/pendingOrder.php?op=list",method:"post",data:o().stringify(t)})}function S(t){return(0,n.ZP)({url:"https://etorhome.com/api/pendingOrder.php?op=prove",method:"post",data:o().stringify(t)})}function x(t){return(0,n.ZP)({url:"https://etorhome.com/api/sell.php?op=win",method:"post",data:o().stringify(t)})}function w(t){return(0,n.ZP)({url:"https://etorhome.com/api/sell.php?op=loss",method:"post",data:o().stringify(t)})}}}]);