"use strict";(self["webpackChunkvue_antd_pro"]=self["webpackChunkvue_antd_pro"]||[]).push([[411],{59411:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var r=function(){var e=this,t=this,a=t._self._c;return a("page-header-wrapper",[a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:12,lg:6,sm:24}},[a("a-form-item",{attrs:{label:"用户筛选"}},[a("a-select",{attrs:{placeholder:"请选择用户类型","default-value":{key:"0"}},model:{value:t.queryParam.accountType,callback:function(e){t.$set(t.queryParam,"accountType",e)},expression:"queryParam.accountType"}},[a("a-select-option",{attrs:{value:0}},[t._v("真实用户")]),a("a-select-option",{attrs:{value:1}},[t._v("模拟用户")])],1)],1)],1),a("a-col",{attrs:{md:12,lg:6,sm:24}},[a("a-form-item",{attrs:{label:"下级代理"}},[a("a-select",{attrs:{placeholder:"请选择下级代理"},model:{value:t.queryParam.agentId,callback:function(e){t.$set(t.queryParam,"agentId",e)},expression:"queryParam.agentId"}},t._l(t.agentlist,(function(e,r){return a("a-select-option",{key:r,attrs:{value:e.id}},[t._v(t._s(e.agentName)+" ")])})),1)],1)],1),a("a-col",{attrs:{md:12,lg:6,sm:24}},[a("a-form-item",{attrs:{label:"真实姓名"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请填写真实姓名"},model:{value:t.queryParam.realName,callback:function(e){t.$set(t.queryParam,"realName",e)},expression:"queryParam.realName"}})],1)],1),a("a-col",{attrs:{md:12,lg:6,sm:24}},[a("a-form-item",{attrs:{label:"用户手机"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请填写用户手机号"},model:{value:t.queryParam.phone,callback:function(e){t.$set(t.queryParam,"phone",e)},expression:"queryParam.phone"}})],1)],1)],1),a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:12,lg:6,sm:24}},[a("a-form-item",[a("span",{staticClass:"table-page-search-submitButtons"},[a("a-button",{attrs:{icon:"redo"},on:{click:function(){return e.queryParam={}}}},[t._v("重置")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"search"},on:{click:function(e){t.queryParam.pageNum=1,t.getuserList()}}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"plus"},on:{click:function(e){t.$refs.adduserdialog.addUserdialog=!0}}},[t._v("添加账户")])],1)])],1)],1)],1)],1)]),a("a-card",{attrs:{bordered:!1}},[a("a-table",{attrs:{bordered:"",loading:t.loading,pagination:t.pagination,columns:t.columns,"data-source":t.dataList,rowKey:"phone"},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"agentName",fn:function(e,r){return a("span",{},[[a("div",[a("span",[t._v(t._s(r.agentName)+"（"+t._s(r.agentId)+"）")])])]],2)}},{key:"isLock",fn:function(e,r){return a("span",{},[[a("div",[a("a-tag",{attrs:{color:0==r.isLock?"green":"red"}},[t._v(t._s(0==r.isLock?"可交易":"不可交易"))])],1)]],2)}},{key:"isLogin",fn:function(e,r){return a("span",{},[[a("div",[a("a-tag",{attrs:{color:0==r.isLogin?"green":"red"}},[t._v(t._s(0==r.isLogin?"可登陆":"不可登陆"))])],1)]],2)}},{key:"action",fn:function(e,r){return[a("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(e){t.currentDetails=r,t.$refs.detailuserdialog.userDialog=!0}},slot:"action"},[t._v("用户详情")])]}}])})],1),a("adduserdialog",{ref:"adduserdialog",attrs:{getinit:t.getinit}}),a("detailuserdialog",{ref:"detailuserdialog",attrs:{currentDetails:t.currentDetails}})],1)},s=[],n=(a(56977),a(55275)),i=function(){var e=this,t=e._self._c;return t("div",[t("a-modal",{attrs:{title:"添加用户(添加的金额默认为融资资金)",width:500,visible:e.addUserdialog,confirmLoading:e.addUserDialogloading},on:{ok:e.OkaddUserdialog,cancel:e.CanceladdUserdialog}},[t("a-form",{ref:"addUserform",attrs:{form:e.addUserform}},[t("a-form-item",{attrs:{label:"账号类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["accountType",{rules:[{required:!0,message:"请选择账号类型"}]}],expression:"['accountType', { rules: [{ required: true, message: '请选择账号类型', }] }]"}],attrs:{placeholder:"请选择账号类型"}},[t("a-select-option",{attrs:{value:"0"}},[e._v("正式")]),t("a-select-option",{attrs:{value:"1"}},[e._v("模拟")])],1)],1),t("a-form-item",{attrs:{label:"手机号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"请输入手机号"}]}],expression:"['phone', { rules: [{ required: true, message: '请输入手机号', }] }]"}],attrs:{placeholder:"请输入手机号"}})],1),t("a-form-item",{attrs:{label:"密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["pwd",{rules:[{required:!0,message:"请输入密码"}]}],expression:"['pwd', { rules: [{ required: true, message: '请输入密码', }] }]"}],attrs:{placeholder:"请输入密码"}})],1),t("a-form-item",{attrs:{label:"金额",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["amt",{rules:[{required:!0,message:"请输入金额"}]}],expression:"['amt', { rules: [{ required: true, message: '请输入金额', }] }]"}],attrs:{placeholder:"请输入金额"}})],1)],1)],1)],1)},l=[],o={components:{},props:{getinit:{type:Function,default:function(){}}},data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},addUserform:this.$form.createForm(this),addUserdialog:!1,addUserDialogloading:!1}},methods:{CanceladdUserdialog:function(){this.addUserdialog=!1;var e=this.$refs.addUserform.form;e.resetFields()},OkaddUserdialog:function(){var e=this,t=this.$refs.addUserform.form;t.validateFields((function(a,r){a||(e.addUserDialogloading=!0,(0,n.$P)(r).then((function(a){0==a.status?(e.addUserdialog=!1,e.$message.success({content:a.msg,duration:2}),t.resetFields(),e.getinit()):e.$message.error({content:a.msg}),e.addUserDialogloading=!1})))}))}}},c=o,u=a(1001),d=(0,u.Z)(c,i,l,!1,null,null,null),m=d.exports,p=function(){var e=this,t=e._self._c;return t("div",[t("a-modal",{attrs:{title:"用户详情",width:1e3,visible:e.userDialog,footer:!1},on:{cancel:function(t){e.userDialog=!1}}},[t("a-descriptions",{attrs:{bordered:"",title:e.currentDetails.realName?e.currentDetails.realName:"未认证",column:{xxl:3,xl:3,lg:3,md:3,sm:2,xs:1}}},[t("a-descriptions-item",{attrs:{label:"用户ID"}},[e._v(" "+e._s(e.currentDetails.id?e.currentDetails.id:"--")+" ")]),t("a-descriptions-item",{attrs:{label:"手机号码"}},[e._v(" "+e._s(e.currentDetails.phone?e.currentDetails.phone:"--")+" ")]),t("a-descriptions-item",{attrs:{label:"登录状态"}},[t("a-tag",{attrs:{color:1==e.currentDetails.positionType?"red":"green"}},[e._v(" "+e._s(1==e.currentDetails.isLogin?"不可登录":"正常")+" ")])],1),t("a-descriptions-item",{attrs:{label:"账号类型"}},[t("a-tag",{attrs:{color:1==e.currentDetails.accountType?"blue":"green"}},[e._v(" "+e._s(1==e.currentDetails.accountType?"模拟用户":"实盘用户")+" ")])],1),t("a-descriptions-item",{attrs:{label:"交易状态"}},[t("a-tag",{attrs:{color:1==e.currentDetails.isLock?"red":"green"}},[e._v(" "+e._s(1==e.currentDetails.isLock?"不可交易":"正常")+" ")])],1),t("a-descriptions-item",{attrs:{label:"所属代理"}},[e._v(" "+e._s(e.currentDetails.agentName?e.currentDetails.agentName:"--")+" ")]),t("a-descriptions-item",{attrs:{label:"身份证号码"}},[e._v(" "+e._s(e.currentDetails.idCard?e.currentDetails.idCard:"--")+" ")]),t("a-descriptions-item",{attrs:{label:"银行名称"}},[e._v(" "+e._s(e.currentDetails.bankName?e.currentDetails.bankName:"--")+" ")]),t("a-descriptions-item",{attrs:{label:"支行名称"}},[e._v(" "+e._s(e.currentDetails.bankAddress?e.currentDetails.bankAddress:"--")+" ")]),t("a-descriptions-item",{attrs:{label:"银行卡号"}},[e._v(" "+e._s(e.currentDetails.bankNo?e.currentDetails.bankNo:"--")+" ")]),t("a-descriptions-item",{attrs:{label:"账户总资金"}},[e._v(" "+e._s((e.currentDetails.userAmt+e.currentDetails.userIndexAmt+e.currentDetails.userFuturesAmt).toFixed(2))+" ")]),t("a-descriptions-item",{attrs:{label:"融资总资金"}},[e._v(" "+e._s(e.currentDetails.userAmt?e.currentDetails.userAmt:"0")+" ")]),t("a-descriptions-item",{attrs:{label:"融资可用资金"}},[e._v(" "+e._s(e.currentDetails.enableAmt?e.currentDetails.enableAmt:"0")+" ")]),t("a-descriptions-item",{attrs:{label:"融资冻结保证金"}},[e._v(" "+e._s(e.currentDetails.allFreezAmt?e.currentDetails.allFreezAmt:"0")+" ")]),t("a-descriptions-item",{attrs:{label:"融资平仓线"}},[e._v(" "+e._s(e.currentDetails.forceLine?e.currentDetails.forceLine:"0")+" ")]),t("a-descriptions-item",{attrs:{label:"指数总资金"}},[e._v(" "+e._s(e.currentDetails.userIndexAmt?e.currentDetails.userIndexAmt:"0")+" ")]),t("a-descriptions-item",{attrs:{label:"指数可用资金"}},[e._v(" "+e._s(e.currentDetails.enableIndexAmt?e.currentDetails.enableIndexAmt:"0")+" ")]),t("a-descriptions-item",{attrs:{label:"指数冻结保证金"}},[e._v(" "+e._s(e.currentDetails.allIndexFreezAmt?e.currentDetails.allIndexFreezAmt:"0")+" ")]),t("a-descriptions-item",{attrs:{label:"指数平仓线"}},[e._v(" "+e._s(e.currentDetails.indexForceLine?e.currentDetails.indexForceLine:"0")+" ")])],1)],1)],1)},g=[],f={components:{},props:{currentDetails:{type:Object}},data:function(){return{userDialog:!1}},methods:{}},h=f,v=(0,u.Z)(h,p,g,!1,null,null,null),b=v.exports,_={name:"agentlist",components:{adduserdialog:m,detailuserdialog:b},data:function(){var e=this;return{queryParam:{agentId:void 0,realName:"",phone:"",pageNum:1,pageSize:10,accountType:0},labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},columns:[{title:"用户ID",dataIndex:"id",align:"center"},{title:"所属代理（Id）",scopedSlots:{customRender:"agentName"},align:"center"},{title:"手机号",dataIndex:"phone",align:"center"},{title:"真实姓名",dataIndex:"realName",align:"center"},{title:"总资金",dataIndex:"userAmt",align:"center",customRender:function(e,t,a){return e.toFixed(2)}},{title:"认证信息",dataIndex:"isActive",align:"center",customRender:function(e,t,a){return 0==e?"待认证":1==e?"待审核":2==e?"认证成功":3==e?"驳回":""}},{title:"交易状态",dataIndex:"isLock",align:"center",scopedSlots:{customRender:"isLock"}},{title:"登录状态",dataIndex:"isLogin",align:"center",scopedSlots:{customRender:"isLogin"}},{title:"操作",key:"action",align:"center",scopedSlots:{customRender:"action"}}],dataList:[],pagination:{total:0,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:function(t,a){return e.onSizeChange(t,a)},onChange:function(t,a){return e.onPageChange(t,a)},showTotal:function(e){return"共有 ".concat(e," 条数据")}},loading:!1,agentqueryParam:{pageNum:1,pageSize:100},agentlist:[],currentDetails:{}}},created:function(){this.getuserList(),this.getagentlist()},methods:{getinit:function(){this.queryParam={agentId:void 0,realName:"",phone:"",pageNum:1,pageSize:10,accountType:0},this.getuserList()},getuserList:function(){var e=this,t=this;this.loading=!0,(0,n.PW)(this.queryParam).then((function(a){e.dataList=a.data.list,e.pagination.total=a.data.total,setTimeout((function(){t.loading=!1}),500)}))},getagentlist:function(){var e=this;(0,n.kh)(this.agentqueryParam).then((function(t){e.agentlist=t.data.list}))},onPageChange:function(e,t){this.queryParam.pageNum=e,this.getuserList()},onSizeChange:function(e,t){this.queryParam.pageNum=e,this.queryParam.pageSize=t,this.getuserList()},handleTableChange:function(){}}},D=_,y=(0,u.Z)(D,r,s,!1,null,null,null),x=y.exports}}]);