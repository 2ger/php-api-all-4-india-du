"use strict";(self["webpackChunkvue_antd_pro"]=self["webpackChunkvue_antd_pro"]||[]).push([[684],{76684:function(e,a,t){t.r(a),t.d(a,{default:function(){return C}});var r=function(){var e=this,a=e._self._c;return a("page-header-wrapper",[a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",[a("span",{staticClass:"table-page-search-submitButtons"},[a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"plus"},on:{click:function(a){e.$refs.addagentdialog.addUserdialog=!0}}},[e._v("添加下级代理")])],1)])],1)],1)],1)],1)]),a("a-card",{attrs:{bordered:!1}},[a("a-table",{attrs:{bordered:"",loading:e.loading,pagination:e.pagination,columns:e.columns,"data-source":e.agentlist,rowKey:"id"},scopedSlots:e._u([{key:"agentName",fn:function(t,r){return a("span",{},[[a("div",[a("span",[e._v(e._s(r.agentName)+"（"+e._s(r.id)+"）")])])]],2)}},{key:"parentName",fn:function(t,r){return a("span",{},[[a("div",[a("span",[e._v(e._s(r.parentName))]),r.parentId?a("span",[e._v("("+e._s(r.parentId)+")")]):e._e()])]],2)}},{key:"isLock",fn:function(t,r){return a("span",{},[[a("div",[a("a-tag",{attrs:{color:0==r.isLock?"green":"red"}},[e._v(e._s(0==r.isLock?"正常":"锁定"))])],1)]],2)}},{key:"action",fn:function(t,r){return[a("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(a){return e.$refs.editCapitalAgentdialog.getEditorder(r)}},slot:"action"},[e._v("修改资金")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(a){return e.getDelagent(r)}},slot:"action"},[e._v("删除代理")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{slot:"action",href:"javascript:;"},on:{click:function(a){return e.$refs.EditAgentinfodialog.getEditorder(r)}},slot:"action"},[e._v("修改代理")])]}}])})],1),a("addagentdialog",{ref:"addagentdialog",attrs:{getinit:e.getinit}})],1)},n=[],i=function(){var e=this,a=e._self._c;return a("div",[a("a-modal",{attrs:{title:"添加下级代理",width:500,visible:e.addUserdialog,confirmLoading:e.addUserDialogloading},on:{ok:e.OkaddUserdialog,cancel:e.CanceladdUserdialog}},[a("a-form",{ref:"addUserform",attrs:{form:e.addUserform}},[a("a-form-item",{attrs:{label:"代理名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["agentName",{rules:[{required:!0,message:"请输入代理名称"}]}],expression:"['agentName', { rules: [{ required: true, message: '请输入代理名称', }] }]"}],attrs:{placeholder:"请输入代理名称"}})],1),a("a-form-item",{attrs:{label:"代理手机号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["agentPhone",{rules:[{required:!0,message:"请输入代理手机号"}]}],expression:"['agentPhone', { rules: [{ required: true, message: '请输入代理手机号', }] }]"}],attrs:{placeholder:"请输入代理手机号"}})],1),a("a-form-item",{attrs:{label:"密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["agentPwd",{rules:[{required:!0,message:"请输入密码"}]}],expression:"['agentPwd', { rules: [{ required: true, message: '请输入密码', }] }]"}],attrs:{placeholder:"请输入密码"}})],1),a("a-form-item",{attrs:{label:"真实姓名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["agentRealName",{rules:[{required:!0,message:"请输入真实姓名"}]}],expression:"['agentRealName', { rules: [{ required: true, message: '请输入真实姓名', }] }]"}],attrs:{placeholder:"请输入真实姓名"}})],1),a("a-form-item",{attrs:{label:"手续费比例",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["poundageScale",{rules:[{required:!0,message:"请输入手续费比例"}]}],expression:"['poundageScale', { rules: [{ required: true, message: '请输入手续费比例', }] }]"}],attrs:{placeholder:"手续费比例，1=100%例如：0.25"}})],1),a("a-form-item",{attrs:{label:"递延费比例",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["deferredFeesScale",{rules:[{required:!0,message:"请输入递延费比例"}]}],expression:"['deferredFeesScale', { rules: [{ required: true, message: '请输入递延费比例', }] }]"}],attrs:{placeholder:"递延费比例，1=100%例如：0.25"}})],1),a("a-form-item",{attrs:{label:"分红比例",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["receiveDividendsScale",{rules:[{required:!0,message:"请输入分红比例"}]}],expression:"['receiveDividendsScale', { rules: [{ required: true, message: '请输入分红比例', }] }]"}],attrs:{placeholder:"分红比例，1=100%例如：0.25"}})],1)],1)],1)],1)},s=[],o=t(55275),l={components:{},props:{getinit:{type:Function,default:function(){}},agentlist:{type:Array}},data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},addUserform:this.$form.createForm(this),addUserdialog:!1,addUserDialogloading:!1}},methods:{CanceladdUserdialog:function(){this.addUserdialog=!1;var e=this.$refs.addUserform.form;e.resetFields()},OkaddUserdialog:function(){var e=this,a=this.$refs.addUserform.form;a.validateFields((function(t,r){t||e.getstartadd(a,r)}))},getstartadd:function(e,a){var t=this;this.addUserDialogloading=!0,(0,o.sq)().then((function(r){0==r.status&&(a.parentId=r.data.id,(0,o.Jc)(a).then((function(a){0==a.status?(t.addUserdialog=!1,t.$message.success({content:a.msg,duration:2}),e.resetFields(),t.getinit()):t.$message.error({content:a.msg}),t.addUserDialogloading=!1})))}))}}},d=l,c=t(1001),u=(0,c.Z)(d,i,s,!1,null,null,null),g=u.exports,p=t(30381),m=t.n(p),f={name:"AgentList",components:{addagentdialog:g},data:function(){var e=this;return{columns:[{title:"所属代理（Id）",scopedSlots:{customRender:"agentName"},align:"center"},{title:"代理编码",dataIndex:"agentCode",align:"center"},{title:"上级代理",dataIndex:"parentName",align:"center",scopedSlots:{customRender:"parentName"}},{title:"代理手机号",dataIndex:"agentPhone",align:"center"},{title:"真实姓名",dataIndex:"agentRealName",align:"center"},{title:"总资金",dataIndex:"totalMoney",align:"center",customRender:function(e,a,t){return e}},{title:"代理等级",dataIndex:"agentLevel",align:"center"},{title:"手续费比例",dataIndex:"poundageScale",align:"center"},{title:"递延费比例",dataIndex:"deferredFeesScale",align:"center"},{title:"分红比例",dataIndex:"receiveDividendsScale",align:"center"},{title:"注册时间",dataIndex:"addTime",align:"center",customRender:function(e,a,t){return m()(e).format("YYYY-MM-DD HH:mm:ss")}}],pagination:{total:0,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:function(a,t){return e.onSizeChange(a,t)},onChange:function(a,t){return e.onPageChange(a,t)},showTotal:function(e){return"共有 ".concat(e," 条数据")}},loading:!1,agentqueryParam:{pageNum:1,pageSize:10},agentloading:!1,agentlist:[],clickagentlist:[]}},created:function(){this.getagentlist()},methods:{getinit:function(){this.queryParam={pageNum:1,pageSize:10},this.getagentlist()},getagentlist:function(){var e=this,a=this;this.loading=!0,(0,o.kh)(this.agentqueryParam).then((function(t){e.agentlist=t.data.list,e.pagination.total=t.data.total,setTimeout((function(){a.loading=!1}),500)}))},onPageChange:function(e,a){this.agentqueryParam.pageNum=e,this.getagentlist()},onSizeChange:function(e,a){this.agentqueryParam.pageNum=e,this.agentqueryParam.pageSize=a,this.getagentlist()}}},v=f,h=(0,c.Z)(v,r,n,!1,null,null,null),C=h.exports}}]);