webpackJsonp([0],{"++K3":function(t,e){var i,a,n,r,o,s,l,h,u,c,d,f,p,m,v,g=!1;function C(){if(!g){g=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),C=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(f=/\b(iPhone|iP[ao]d)/.exec(t),p=/\b(iP[ao]d)/.exec(t),c=/Android/i.exec(t),m=/FBAN\/\w+;/i.exec(t),v=/Mobile/i.exec(t),d=!!/Win64/.exec(t),e){(i=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN)&&document&&document.documentMode&&(i=document.documentMode);var D=/(?:Trident\/(\d+.\d+))/.exec(t);s=D?parseFloat(D[1])+4:i,a=e[2]?parseFloat(e[2]):NaN,n=e[3]?parseFloat(e[3]):NaN,(r=e[4]?parseFloat(e[4]):NaN)?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),o=e&&e[1]?parseFloat(e[1]):NaN):o=NaN}else i=a=n=o=r=NaN;if(C){if(C[1]){var y=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);l=!y||parseFloat(y[1].replace("_","."))}else l=!1;h=!!C[2],u=!!C[3]}else l=h=u=!1}}var D={ie:function(){return C()||i},ieCompatibilityMode:function(){return C()||s>i},ie64:function(){return D.ie()&&d},firefox:function(){return C()||a},opera:function(){return C()||n},webkit:function(){return C()||r},safari:function(){return D.webkit()},chrome:function(){return C()||o},windows:function(){return C()||h},osx:function(){return C()||l},linux:function(){return C()||u},iphone:function(){return C()||f},mobile:function(){return C()||f||p||c||v},nativeApp:function(){return C()||m},android:function(){return C()||c},ipad:function(){return C()||p}};t.exports=D},"+2Ke":function(t,e){e.SOURCE_FORMAT_ORIGINAL="original",e.SOURCE_FORMAT_ARRAY_ROWS="arrayRows",e.SOURCE_FORMAT_OBJECT_ROWS="objectRows",e.SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",e.SOURCE_FORMAT_UNKNOWN="unknown",e.SOURCE_FORMAT_TYPED_ARRAY="typedArray",e.SERIES_LAYOUT_BY_COLUMN="column",e.SERIES_LAYOUT_BY_ROW="row"},"+Dgo":function(t,e,i){var a=i("Y5nL"),n=i("Pgdp"),r=i("kdOt").detectSourceFormat,o=i("+2Ke").SERIES_LAYOUT_BY_COLUMN;a.extend({type:"dataset",defaultOption:{seriesLayoutBy:o,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){r(this)}}),n.extend({type:"dataset"})},"+E39":function(t,e,i){t.exports=!i("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+K7g":function(t,e,i){var a=i("Icdr");a.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),a.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){})},"+PQg":function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("3h1/"),o=i("dCQY"),s=i("0sHC"),l=i("Pdtn"),h=i("1Hui"),u=i("v/cD"),c=a.extendComponentView({type:"toolbox",render:function(t,e,i,a){var c=this.group;if(c.removeAll(),t.get("show")){var d=+t.get("itemSize"),f=t.get("feature")||{},p=this._features||(this._features={}),m=[];n.each(f,function(t,e){m.push(e)}),new h(this._featureNames||[],m).add(v).update(v).remove(n.curry(v,null)).execute(),this._featureNames=m,u.layout(c,t,i),c.add(u.makeBackground(c.getBoundingRect(),t)),c.eachChild(function(t){var e=t.__title,a=t.hoverStyle;if(a&&e){var n=r.getBoundingRect(e,r.makeFont(a)),o=t.position[0]+c.position[0],s=!1;t.position[1]+c.position[1]+d+n.height>i.getHeight()&&(a.textPosition="top",s=!0);var l=s?-5-n.height:d+8;o+n.width/2>i.getWidth()?(a.textPosition=["100%",l],a.textAlign="right"):o-n.width/2<0&&(a.textPosition=[0,l],a.textAlign="left")}})}function v(r,h){var u,v=m[r],g=m[h],C=f[v],D=new l(C,t,t.ecModel);if(v&&!g){if(function(t){return 0===t.indexOf("my")}(v))u={model:D,onclick:D.option.onclick,featureName:v};else{var y=o.get(v);if(!y)return;u=new y(D,e,i)}p[v]=u}else{if(!(u=p[g]))return;u.model=D,u.ecModel=e,u.api=i}v||!g?D.get("show")&&!u.unusable?(!function(a,r,o){var l=a.getModel("iconStyle"),h=a.getModel("emphasis.iconStyle"),u=r.getIcons?r.getIcons():a.get("icon"),f=a.get("title")||{};if("string"==typeof u){var p=u,m=f;f={},(u={})[o]=p,f[o]=m}var v=a.iconPaths={};n.each(u,function(o,u){var p=s.createIcon(o,{},{x:-d/2,y:-d/2,width:d,height:d});p.setStyle(l.getItemStyle()),p.hoverStyle=h.getItemStyle(),p.setStyle({text:f[u],textAlign:h.get("textAlign"),textBorderRadius:h.get("textBorderRadius"),textPadding:h.get("textPadding"),textFill:null});var m=t.getModel("tooltip");m&&m.get("show")&&p.attr("tooltip",n.extend({content:f[u],formatter:m.get("formatter",!0)||function(){return f[u]},formatterParams:{componentType:"toolbox",name:u,title:f[u],$vars:["name","title"]},position:m.get("position",!0)||"bottom"},m.option)),s.setHoverStyle(p),t.get("showTitle")&&(p.__title=f[u],p.on("mouseover",function(){var e=h.getItemStyle(),i="vertical"===t.get("orient")?null==t.get("right")?"right":"left":null==t.get("bottom")?"bottom":"top";p.setStyle({textFill:h.get("textFill")||e.fill||e.stroke||"#000",textBackgroundColor:h.get("textBackgroundColor"),textPosition:h.get("textPosition")||i})}).on("mouseout",function(){p.setStyle({textFill:null,textBackgroundColor:null})})),p.trigger(a.get("iconStatus."+u)||"normal"),c.add(p),p.on("click",n.bind(r.onclick,r,e,i,u)),v[u]=p})}(D,u,v),D.setIconStatus=function(t,e){var i=this.option,a=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,a[t]&&a[t].trigger(e)},u.render&&u.render(D,e,i,a)):u.remove&&u.remove(e,i):u.dispose&&u.dispose(e,i)}},updateView:function(t,e,i,a){n.each(this._features,function(t){t.updateView&&t.updateView(t.model,e,i,a)})},remove:function(t,e){n.each(this._features,function(i){i.remove&&i.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){n.each(this._features,function(i){i.dispose&&i.dispose(t,e)})}});t.exports=c},"+UTs":function(t,e,i){var a=i("GxVO"),n=i("No7X"),r=a.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){n.buildPath(t,e,!0)}});t.exports=r},"+Y0c":function(t,e,i){var a=new(i("zMj2"))(50);function n(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],a=i.cb;a&&a(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function r(t){return t&&t.width&&t.height}e.findExistImage=function(t){if("string"==typeof t){var e=a.get(t);return e&&e.image}return t},e.createOrUpdateImage=function(t,e,i,o,s){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!i)return e;var l=a.get(t),h={hostEl:i,cb:o,cbPayload:s};return l?!r(e=l.image)&&l.pending.push(h):((e=new Image).onload=e.onerror=n,a.put(t,e.__cachedImgObj={image:e,pending:[h]}),e.src=e.__zrImageSrc=t),e}return t}return e},e.isImageReady=r},"+ZMJ":function(t,e,i){var a=i("lOnJ");t.exports=function(t,e,i){if(a(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,a){return t.call(e,i,a)};case 3:return function(i,a,n){return t.call(e,i,a,n)}}return function(){return t.apply(e,arguments)}}},"+bDV":function(t,e,i){var a=i("/gxq"),n=a.each,r=a.createHashMap,o=i("EJsE"),s=i("ao1T"),l=o.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){var i=this.getSource();return function(t,e){if(t.encodeDefine)return;var i=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(!i)return;var a=t.encodeDefine=r();n(i.dimensions,function(t){var e=+t.replace("dim","");a.set(t,e)})}(i,this),s(i,this)},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,i=this.getData(),a=[];return e.eachActiveState(i,function(e,n){t===e&&a.push(i.getRawIndex(n))}),a},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});t.exports=l},"+bS+":function(t,e,i){var a=i("Ou7x"),n=i("zAPJ"),r=i("fzS+"),o=i("43ae"),s=["x","y"],l=["width","height"],h=a.extend({makeElOption:function(t,e,i,a,o){var s=i.axis,l=s.coordinateSystem,h=d(l,1-c(s)),f=l.dataToPoint(e)[0],p=a.get("type");if(p&&"none"!==p){var m=n.buildElStyle(a),v=u[p](s,f,h);v.style=m,t.graphicKey=v.type,t.pointer=v}var g=r.layout(i);n.buildCartesianSingleLabelElOption(e,t,g,i,a,o)},getHandleTransform:function(t,e,i){var a=r.layout(e,{labelInside:!1});return a.labelMargin=i.get("handle.margin"),{position:n.getTransformedPosition(e.axis,t,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,a){var n=i.axis,r=n.coordinateSystem,o=c(n),s=d(r,o),l=t.position;l[o]+=e[o],l[o]=Math.min(s[1],l[o]),l[o]=Math.max(s[0],l[o]);var h=d(r,1-o),u=(h[1]+h[0])/2,f=[u,u];return f[o]=l[o],{position:l,rotation:t.rotation,cursorPoint:f,tooltipOption:{verticalAlign:"middle"}}}}),u={line:function(t,e,i){return{type:"Line",subPixelOptimize:!0,shape:n.makeLineShape([e,i[0]],[e,i[1]],c(t))}},shadow:function(t,e,i){var a=t.getBandWidth(),r=i[1]-i[0];return{type:"Rect",shape:n.makeRectShape([e-a/2,i[0]],[a,r],c(t))}}};function c(t){return t.isHorizontal()?0:1}function d(t,e){var i=t.getRect();return[i[s[e]],i[s[e]]+i[l[e]]]}o.registerAxisPointerClass("SingleAxisPointer",h);var f=h;t.exports=f},"+jMe":function(t,e,i){var a=i("/gxq"),n=i("Pdtn"),r=i("NGRG"),o=i("Rfu2"),s=i("hcq/"),l=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};function h(t,e,i){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=a.map(e||[],function(e){return new n(e,t,t.ecModel)}),this.leavesModel=new n(i||{},t,t.ecModel)}l.prototype={constructor:l,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,i){"function"==typeof t&&(i=e,e=t,t=null),t=t||{},a.isString(t)&&(t={order:t});var n,r=t.order||"preorder",o=this[t.attr||"children"];"preorder"===r&&(n=e.call(i,this));for(var s=0;!n&&s<o.length;s++)o[s].eachNode(t,e,i);"postorder"===r&&e.call(i,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var a=this.children[i];a.updateDepthAndHeight(t+1),a.height>e&&(e=a.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,a=i.length;e<a;e++){var n=i[e].getNodeById(t);if(n)return n}},contains:function(t){if(t===this)return!0;for(var e=0,i=this.children,a=i.length;e<a;e++){var n=i[e].contains(t);if(n)return n}},getAncestors:function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e,i=this.hostTree,a=i.data.getItemModel(this.dataIndex),n=this.getLevelModel();return n||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),a.getModel(t,(n||e||i.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},h.prototype={constructor:h,type:"tree",eachNode:function(t,e,i){this.root.eachNode(t,e,i)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,i=0,a=e.length;i<a;i++)e[i].dataIndex=-1;for(i=0,a=t.count();i<a;i++)e[t.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},h.createTree=function(t,e,i){var n=new h(e,i.levels,i.leaves),u=[],c=1;!function t(e,i){var r=e.value;c=Math.max(c,a.isArray(r)?r.length:1);u.push(e);var o=new l(e.name,n);i?function(t,e){var i=e.children;if(t.parentNode===e)return;i.push(t),t.parentNode=e}(o,i):n.root=o;n._nodes.push(o);var s=e.children;if(s)for(var h=0;h<s.length;h++)t(s[h],o)}(t),n.root.updateDepthAndHeight(0);var d=s(u,{coordDimensions:["value"],dimensionsCount:c}),f=new o(d,e);return f.initData(u),r({mainData:f,struct:n,structAttr:"tree"}),n.update(),n};var u=h;t.exports=u},"+pdh":function(t,e,i){for(var a=i("Icdr"),n=i("gOx9"),r=function(){},o=["treemapZoomToNode","treemapRender","treemapMove"],s=0;s<o.length;s++)a.registerAction({type:o[s],update:"updateView"},r);a.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},function(e,i){var a=n.retrieveTargetInfo(t,["treemapZoomToNode","treemapRootToNode"],e);if(a){var r=e.getViewRoot();r&&(t.direction=n.aboveViewRoot(r,a.node)?"rollUp":"drillDown"),e.resetViewRoot(a.node)}})})},"+tPU":function(t,e,i){i("xGkn");for(var a=i("7KvD"),n=i("hJx8"),r=i("/bQp"),o=i("dSzd")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var h=s[l],u=a[h],c=u&&u.prototype;c&&!c[o]&&n(c,o,h),r[h]=r.Array}},"+u5N":function(t,e,i){var a=i("EJsE"),n=i("d1IL"),r=i("HHfb").encodeHTML,o=i("Pdtn"),s=(i("4Nz2").__DEV__,a.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(t,e){for(var i=t.edges||t.links,a=t.data||t.nodes,r=t.levels,s=this.levelModels={},l=0;l<r.length;l++)null!=r[l].depth&&r[l].depth>=0&&(s[r[l].depth]=new o(r[l],this,e));if(a&&i)return n(a,i,this,!0,function(t,e){t.wrapMethod("getItemModel",function(t,e){return t.customizeGetParent(function(t){var i=this.parentModel,a=i.getData().getItemLayout(e).depth,n=i.levelModels[a];return n||this.parentModel}),t}),e.wrapMethod("getItemModel",function(t,e){return t.customizeGetParent(function(t){var i=this.parentModel,a=i.getGraph().getEdgeByIndex(e),n=a.node1.getLayout().depth,r=i.levelModels[n];return r||this.parentModel}),t})}).data},setNodePosition:function(t,e){var i=this.option.data[t];i.localX=e[0],i.localY=e[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,i){if("edge"===i){var a=this.getDataParams(t,i),n=a.data,o=n.source+" -- "+n.target;return a.value&&(o+=" : "+a.value),r(o)}if("node"===i){var l=this.getGraph().getNodeByIndex(t).getLayout().value,h=this.getDataParams(t,i).data.name;if(l)o=h+" : "+l;return r(o)}return s.superCall(this,"formatTooltip",t,e)},optionUpdated:function(){var t=this.option;!0===t.focusNodeAdjacency&&(t.focusNodeAdjacency="allEdges")},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}})),l=s;t.exports=l},"/+sa":function(t,e,i){var a=i("BNYN");function n(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}n.prototype.parse=function(t){return t},n.prototype.getSetting=function(t){return this._setting[t]},n.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},n.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},n.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},n.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},n.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(t){this._isBlank=t},n.prototype.getLabel=null,a.enableClassExtend(n),a.enableClassManagement(n,{registerWhenExtend:!0});var r=n;t.exports=r},"//Fk":function(t,e,i){t.exports={default:i("U5ju"),__esModule:!0}},"/5sW":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function a(t){return void 0===t||null===t}function n(t){return void 0!==t&&null!==t}function r(t){return!0===t}function o(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function s(t){return null!==t&&"object"==typeof t}var l=Object.prototype.toString;function h(t){return"[object Object]"===l.call(t)}function u(t){return"[object RegExp]"===l.call(t)}function c(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return n(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function f(t){return null==t?"":Array.isArray(t)||h(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var i=Object.create(null),a=t.split(","),n=0;n<a.length;n++)i[a[n]]=!0;return e?function(t){return i[t.toLowerCase()]}:function(t){return i[t]}}m("slot,component",!0);var v=m("key,ref,slot,slot-scope,is");function g(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var C=Object.prototype.hasOwnProperty;function D(t,e){return C.call(t,e)}function y(t){var e=Object.create(null);return function(i){return e[i]||(e[i]=t(i))}}var x=/-(\w)/g,S=y(function(t){return t.replace(x,function(t,e){return e?e.toUpperCase():""})}),I=y(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),T=/\B([A-Z])/g,b=y(function(t){return t.replace(T,"-$1").toLowerCase()});var w=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function i(i){var a=arguments.length;return a?a>1?t.apply(e,arguments):t.call(e,i):t.call(e)}return i._length=t.length,i};function M(t,e){e=e||0;for(var i=t.length-e,a=new Array(i);i--;)a[i]=t[i+e];return a}function E(t,e){for(var i in e)t[i]=e[i];return t}function A(t){for(var e={},i=0;i<t.length;i++)t[i]&&E(e,t[i]);return e}function _(t,e,i){}var L=function(t,e,i){return!1},F=function(t){return t};function O(t,e){if(t===e)return!0;var i=s(t),a=s(e);if(!i||!a)return!i&&!a&&String(t)===String(e);try{var n=Array.isArray(t),r=Array.isArray(e);if(n&&r)return t.length===e.length&&t.every(function(t,i){return O(t,e[i])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(n||r)return!1;var o=Object.keys(t),l=Object.keys(e);return o.length===l.length&&o.every(function(i){return O(t[i],e[i])})}catch(t){return!1}}function P(t,e){for(var i=0;i<t.length;i++)if(O(t[i],e))return i;return-1}function N(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var R="data-server-rendered",B=["component","directive","filter"],k=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],V={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:_,parsePlatformTagName:F,mustUseProp:L,async:!0,_lifecycleHooks:k},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function G(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function Y(t,e,i,a){Object.defineProperty(t,e,{value:i,enumerable:!!a,writable:!0,configurable:!0})}var W=new RegExp("[^"+H.source+".$_\\d]");var X,U="__proto__"in{},z="undefined"!=typeof window,K="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,$=K&&WXEnvironment.platform.toLowerCase(),j=z&&window.navigator.userAgent.toLowerCase(),q=j&&/msie|trident/.test(j),J=j&&j.indexOf("msie 9.0")>0,Z=j&&j.indexOf("edge/")>0,Q=(j&&j.indexOf("android"),j&&/iphone|ipad|ipod|ios/.test(j)||"ios"===$),tt=(j&&/chrome\/\d+/.test(j),j&&/phantomjs/.test(j),j&&j.match(/firefox\/(\d+)/)),et={}.watch,it=!1;if(z)try{var at={};Object.defineProperty(at,"passive",{get:function(){it=!0}}),window.addEventListener("test-passive",null,at)}catch(t){}var nt=function(){return void 0===X&&(X=!z&&!K&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),X},rt=z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ot(t){return"function"==typeof t&&/native code/.test(t.toString())}var st,lt="undefined"!=typeof Symbol&&ot(Symbol)&&"undefined"!=typeof Reflect&&ot(Reflect.ownKeys);st="undefined"!=typeof Set&&ot(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ht=_,ut=0,ct=function(){this.id=ut++,this.subs=[]};ct.prototype.addSub=function(t){this.subs.push(t)},ct.prototype.removeSub=function(t){g(this.subs,t)},ct.prototype.depend=function(){ct.target&&ct.target.addDep(this)},ct.prototype.notify=function(){var t=this.subs.slice();for(var e=0,i=t.length;e<i;e++)t[e].update()},ct.target=null;var dt=[];function ft(t){dt.push(t),ct.target=t}function pt(){dt.pop(),ct.target=dt[dt.length-1]}var mt=function(t,e,i,a,n,r,o,s){this.tag=t,this.data=e,this.children=i,this.text=a,this.elm=n,this.ns=void 0,this.context=r,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},vt={child:{configurable:!0}};vt.child.get=function(){return this.componentInstance},Object.defineProperties(mt.prototype,vt);var gt=function(t){void 0===t&&(t="");var e=new mt;return e.text=t,e.isComment=!0,e};function Ct(t){return new mt(void 0,void 0,void 0,String(t))}function Dt(t){var e=new mt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var yt=Array.prototype,xt=Object.create(yt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=yt[t];Y(xt,t,function(){for(var i=[],a=arguments.length;a--;)i[a]=arguments[a];var n,r=e.apply(this,i),o=this.__ob__;switch(t){case"push":case"unshift":n=i;break;case"splice":n=i.slice(2)}return n&&o.observeArray(n),o.dep.notify(),r})});var St=Object.getOwnPropertyNames(xt),It=!0;function Tt(t){It=t}var bt=function(t){var e;this.value=t,this.dep=new ct,this.vmCount=0,Y(t,"__ob__",this),Array.isArray(t)?(U?(e=xt,t.__proto__=e):function(t,e,i){for(var a=0,n=i.length;a<n;a++){var r=i[a];Y(t,r,e[r])}}(t,xt,St),this.observeArray(t)):this.walk(t)};function wt(t,e){var i;if(s(t)&&!(t instanceof mt))return D(t,"__ob__")&&t.__ob__ instanceof bt?i=t.__ob__:It&&!nt()&&(Array.isArray(t)||h(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new bt(t)),e&&i&&i.vmCount++,i}function Mt(t,e,i,a,n){var r=new ct,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get,l=o&&o.set;s&&!l||2!==arguments.length||(i=t[e]);var h=!n&&wt(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):i;return ct.target&&(r.depend(),h&&(h.dep.depend(),Array.isArray(e)&&function t(e){for(var i=void 0,a=0,n=e.length;a<n;a++)(i=e[a])&&i.__ob__&&i.__ob__.dep.depend(),Array.isArray(i)&&t(i)}(e))),e},set:function(e){var a=s?s.call(t):i;e===a||e!=e&&a!=a||s&&!l||(l?l.call(t,e):i=e,h=!n&&wt(e),r.notify())}})}}function Et(t,e,i){if(Array.isArray(t)&&c(e))return t.length=Math.max(t.length,e),t.splice(e,1,i),i;if(e in t&&!(e in Object.prototype))return t[e]=i,i;var a=t.__ob__;return t._isVue||a&&a.vmCount?i:a?(Mt(a.value,e,i),a.dep.notify(),i):(t[e]=i,i)}function At(t,e){if(Array.isArray(t)&&c(e))t.splice(e,1);else{var i=t.__ob__;t._isVue||i&&i.vmCount||D(t,e)&&(delete t[e],i&&i.dep.notify())}}bt.prototype.walk=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)Mt(t,e[i])},bt.prototype.observeArray=function(t){for(var e=0,i=t.length;e<i;e++)wt(t[e])};var _t=V.optionMergeStrategies;function Lt(t,e){if(!e)return t;for(var i,a,n,r=lt?Reflect.ownKeys(e):Object.keys(e),o=0;o<r.length;o++)"__ob__"!==(i=r[o])&&(a=t[i],n=e[i],D(t,i)?a!==n&&h(a)&&h(n)&&Lt(a,n):Et(t,i,n));return t}function Ft(t,e,i){return i?function(){var a="function"==typeof e?e.call(i,i):e,n="function"==typeof t?t.call(i,i):t;return a?Lt(a,n):n}:e?t?function(){return Lt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Ot(t,e){var i=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return i?function(t){for(var e=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&e.push(t[i]);return e}(i):i}function Pt(t,e,i,a){var n=Object.create(t||null);return e?E(n,e):n}_t.data=function(t,e,i){return i?Ft(t,e,i):e&&"function"!=typeof e?t:Ft(t,e)},k.forEach(function(t){_t[t]=Ot}),B.forEach(function(t){_t[t+"s"]=Pt}),_t.watch=function(t,e,i,a){if(t===et&&(t=void 0),e===et&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var n={};for(var r in E(n,t),e){var o=n[r],s=e[r];o&&!Array.isArray(o)&&(o=[o]),n[r]=o?o.concat(s):Array.isArray(s)?s:[s]}return n},_t.props=_t.methods=_t.inject=_t.computed=function(t,e,i,a){if(!t)return e;var n=Object.create(null);return E(n,t),e&&E(n,e),n},_t.provide=Ft;var Nt=function(t,e){return void 0===e?t:e};function Rt(t,e,i){if("function"==typeof e&&(e=e.options),function(t,e){var i=t.props;if(i){var a,n,r={};if(Array.isArray(i))for(a=i.length;a--;)"string"==typeof(n=i[a])&&(r[S(n)]={type:null});else if(h(i))for(var o in i)n=i[o],r[S(o)]=h(n)?n:{type:n};t.props=r}}(e),function(t,e){var i=t.inject;if(i){var a=t.inject={};if(Array.isArray(i))for(var n=0;n<i.length;n++)a[i[n]]={from:i[n]};else if(h(i))for(var r in i){var o=i[r];a[r]=h(o)?E({from:r},o):{from:o}}}}(e),function(t){var e=t.directives;if(e)for(var i in e){var a=e[i];"function"==typeof a&&(e[i]={bind:a,update:a})}}(e),!e._base&&(e.extends&&(t=Rt(t,e.extends,i)),e.mixins))for(var a=0,n=e.mixins.length;a<n;a++)t=Rt(t,e.mixins[a],i);var r,o={};for(r in t)s(r);for(r in e)D(t,r)||s(r);function s(a){var n=_t[a]||Nt;o[a]=n(t[a],e[a],i,a)}return o}function Bt(t,e,i,a){if("string"==typeof i){var n=t[e];if(D(n,i))return n[i];var r=S(i);if(D(n,r))return n[r];var o=I(r);return D(n,o)?n[o]:n[i]||n[r]||n[o]}}function kt(t,e,i,a){var n=e[t],r=!D(i,t),o=i[t],s=Gt(Boolean,n.type);if(s>-1)if(r&&!D(n,"default"))o=!1;else if(""===o||o===b(t)){var l=Gt(String,n.type);(l<0||s<l)&&(o=!0)}if(void 0===o){o=function(t,e,i){if(!D(e,"default"))return;var a=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[i]&&void 0!==t._props[i])return t._props[i];return"function"==typeof a&&"Function"!==Vt(e.type)?a.call(t):a}(a,n,t);var h=It;Tt(!0),wt(o),Tt(h)}return o}function Vt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Ht(t,e){return Vt(t)===Vt(e)}function Gt(t,e){if(!Array.isArray(e))return Ht(e,t)?0:-1;for(var i=0,a=e.length;i<a;i++)if(Ht(e[i],t))return i;return-1}function Yt(t,e,i){ft();try{if(e)for(var a=e;a=a.$parent;){var n=a.$options.errorCaptured;if(n)for(var r=0;r<n.length;r++)try{if(!1===n[r].call(a,t,e,i))return}catch(t){Xt(t,a,"errorCaptured hook")}}Xt(t,e,i)}finally{pt()}}function Wt(t,e,i,a,n){var r;try{(r=i?t.apply(e,i):t.call(e))&&!r._isVue&&d(r)&&!r._handled&&(r.catch(function(t){return Yt(t,a,n+" (Promise/async)")}),r._handled=!0)}catch(t){Yt(t,a,n)}return r}function Xt(t,e,i){if(V.errorHandler)try{return V.errorHandler.call(null,t,e,i)}catch(e){e!==t&&Ut(e,null,"config.errorHandler")}Ut(t,e,i)}function Ut(t,e,i){if(!z&&!K||"undefined"==typeof console)throw t;console.error(t)}var zt,Kt=!1,$t=[],jt=!1;function qt(){jt=!1;var t=$t.slice(0);$t.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&ot(Promise)){var Jt=Promise.resolve();zt=function(){Jt.then(qt),Q&&setTimeout(_)},Kt=!0}else if(q||"undefined"==typeof MutationObserver||!ot(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())zt="undefined"!=typeof setImmediate&&ot(setImmediate)?function(){setImmediate(qt)}:function(){setTimeout(qt,0)};else{var Zt=1,Qt=new MutationObserver(qt),te=document.createTextNode(String(Zt));Qt.observe(te,{characterData:!0}),zt=function(){Zt=(Zt+1)%2,te.data=String(Zt)},Kt=!0}function ee(t,e){var i;if($t.push(function(){if(t)try{t.call(e)}catch(t){Yt(t,e,"nextTick")}else i&&i(e)}),jt||(jt=!0,zt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){i=t})}var ie=new st;function ae(t){!function t(e,i){var a,n;var r=Array.isArray(e);if(!r&&!s(e)||Object.isFrozen(e)||e instanceof mt)return;if(e.__ob__){var o=e.__ob__.dep.id;if(i.has(o))return;i.add(o)}if(r)for(a=e.length;a--;)t(e[a],i);else for(n=Object.keys(e),a=n.length;a--;)t(e[n[a]],i)}(t,ie),ie.clear()}var ne=y(function(t){var e="&"===t.charAt(0),i="~"===(t=e?t.slice(1):t).charAt(0),a="!"===(t=i?t.slice(1):t).charAt(0);return{name:t=a?t.slice(1):t,once:i,capture:a,passive:e}});function re(t,e){function i(){var t=arguments,a=i.fns;if(!Array.isArray(a))return Wt(a,null,arguments,e,"v-on handler");for(var n=a.slice(),r=0;r<n.length;r++)Wt(n[r],null,t,e,"v-on handler")}return i.fns=t,i}function oe(t,e,i,n,o,s){var l,h,u,c;for(l in t)h=t[l],u=e[l],c=ne(l),a(h)||(a(u)?(a(h.fns)&&(h=t[l]=re(h,s)),r(c.once)&&(h=t[l]=o(c.name,h,c.capture)),i(c.name,h,c.capture,c.passive,c.params)):h!==u&&(u.fns=h,t[l]=u));for(l in e)a(t[l])&&n((c=ne(l)).name,e[l],c.capture)}function se(t,e,i){var o;t instanceof mt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function l(){i.apply(this,arguments),g(o.fns,l)}a(s)?o=re([l]):n(s.fns)&&r(s.merged)?(o=s).fns.push(l):o=re([s,l]),o.merged=!0,t[e]=o}function le(t,e,i,a,r){if(n(e)){if(D(e,i))return t[i]=e[i],r||delete e[i],!0;if(D(e,a))return t[i]=e[a],r||delete e[a],!0}return!1}function he(t){return o(t)?[Ct(t)]:Array.isArray(t)?function t(e,i){var s=[];var l,h,u,c;for(l=0;l<e.length;l++)a(h=e[l])||"boolean"==typeof h||(u=s.length-1,c=s[u],Array.isArray(h)?h.length>0&&(ue((h=t(h,(i||"")+"_"+l))[0])&&ue(c)&&(s[u]=Ct(c.text+h[0].text),h.shift()),s.push.apply(s,h)):o(h)?ue(c)?s[u]=Ct(c.text+h):""!==h&&s.push(Ct(h)):ue(h)&&ue(c)?s[u]=Ct(c.text+h.text):(r(e._isVList)&&n(h.tag)&&a(h.key)&&n(i)&&(h.key="__vlist"+i+"_"+l+"__"),s.push(h)));return s}(t):void 0}function ue(t){return n(t)&&n(t.text)&&!1===t.isComment}function ce(t,e){if(t){for(var i=Object.create(null),a=lt?Reflect.ownKeys(t):Object.keys(t),n=0;n<a.length;n++){var r=a[n];if("__ob__"!==r){for(var o=t[r].from,s=e;s;){if(s._provided&&D(s._provided,o)){i[r]=s._provided[o];break}s=s.$parent}if(!s)if("default"in t[r]){var l=t[r].default;i[r]="function"==typeof l?l.call(e):l}else 0}}return i}}function de(t,e){if(!t||!t.length)return{};for(var i={},a=0,n=t.length;a<n;a++){var r=t[a],o=r.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,r.context!==e&&r.fnContext!==e||!o||null==o.slot)(i.default||(i.default=[])).push(r);else{var s=o.slot,l=i[s]||(i[s]=[]);"template"===r.tag?l.push.apply(l,r.children||[]):l.push(r)}}for(var h in i)i[h].every(fe)&&delete i[h];return i}function fe(t){return t.isComment&&!t.asyncFactory||" "===t.text}function pe(t,e,a){var n,r=Object.keys(e).length>0,o=t?!!t.$stable:!r,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&a&&a!==i&&s===a.$key&&!r&&!a.$hasNormal)return a;for(var l in n={},t)t[l]&&"$"!==l[0]&&(n[l]=me(e,l,t[l]))}else n={};for(var h in e)h in n||(n[h]=ve(e,h));return t&&Object.isExtensible(t)&&(t._normalized=n),Y(n,"$stable",o),Y(n,"$key",s),Y(n,"$hasNormal",r),n}function me(t,e,i){var a=function(){var t=arguments.length?i.apply(null,arguments):i({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:he(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return i.proxy&&Object.defineProperty(t,e,{get:a,enumerable:!0,configurable:!0}),a}function ve(t,e){return function(){return t[e]}}function ge(t,e){var i,a,r,o,l;if(Array.isArray(t)||"string"==typeof t)for(i=new Array(t.length),a=0,r=t.length;a<r;a++)i[a]=e(t[a],a);else if("number"==typeof t)for(i=new Array(t),a=0;a<t;a++)i[a]=e(a+1,a);else if(s(t))if(lt&&t[Symbol.iterator]){i=[];for(var h=t[Symbol.iterator](),u=h.next();!u.done;)i.push(e(u.value,i.length)),u=h.next()}else for(o=Object.keys(t),i=new Array(o.length),a=0,r=o.length;a<r;a++)l=o[a],i[a]=e(t[l],l,a);return n(i)||(i=[]),i._isVList=!0,i}function Ce(t,e,i,a){var n,r=this.$scopedSlots[t];r?(i=i||{},a&&(i=E(E({},a),i)),n=r(i)||e):n=this.$slots[t]||e;var o=i&&i.slot;return o?this.$createElement("template",{slot:o},n):n}function De(t){return Bt(this.$options,"filters",t)||F}function ye(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function xe(t,e,i,a,n){var r=V.keyCodes[e]||i;return n&&a&&!V.keyCodes[e]?ye(n,a):r?ye(r,t):a?b(a)!==e:void 0}function Se(t,e,i,a,n){if(i)if(s(i)){var r;Array.isArray(i)&&(i=A(i));var o=function(o){if("class"===o||"style"===o||v(o))r=t;else{var s=t.attrs&&t.attrs.type;r=a||V.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=S(o),h=b(o);l in r||h in r||(r[o]=i[o],n&&((t.on||(t.on={}))["update:"+o]=function(t){i[o]=t}))};for(var l in i)o(l)}else;return t}function Ie(t,e){var i=this._staticTrees||(this._staticTrees=[]),a=i[t];return a&&!e?a:(be(a=i[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),a)}function Te(t,e,i){return be(t,"__once__"+e+(i?"_"+i:""),!0),t}function be(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)t[a]&&"string"!=typeof t[a]&&we(t[a],e+"_"+a,i);else we(t,e,i)}function we(t,e,i){t.isStatic=!0,t.key=e,t.isOnce=i}function Me(t,e){if(e)if(h(e)){var i=t.on=t.on?E({},t.on):{};for(var a in e){var n=i[a],r=e[a];i[a]=n?[].concat(n,r):r}}else;return t}function Ee(t,e,i,a){e=e||{$stable:!i};for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?Ee(r,e,i):r&&(r.proxy&&(r.fn.proxy=!0),e[r.key]=r.fn)}return a&&(e.$key=a),e}function Ae(t,e){for(var i=0;i<e.length;i+=2){var a=e[i];"string"==typeof a&&a&&(t[e[i]]=e[i+1])}return t}function _e(t,e){return"string"==typeof t?e+t:t}function Le(t){t._o=Te,t._n=p,t._s=f,t._l=ge,t._t=Ce,t._q=O,t._i=P,t._m=Ie,t._f=De,t._k=xe,t._b=Se,t._v=Ct,t._e=gt,t._u=Ee,t._g=Me,t._d=Ae,t._p=_e}function Fe(t,e,a,n,o){var s,l=this,h=o.options;D(n,"_uid")?(s=Object.create(n))._original=n:(s=n,n=n._original);var u=r(h._compiled),c=!u;this.data=t,this.props=e,this.children=a,this.parent=n,this.listeners=t.on||i,this.injections=ce(h.inject,n),this.slots=function(){return l.$slots||pe(t.scopedSlots,l.$slots=de(a,n)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return pe(t.scopedSlots,this.slots())}}),u&&(this.$options=h,this.$slots=this.slots(),this.$scopedSlots=pe(t.scopedSlots,this.$slots)),h._scopeId?this._c=function(t,e,i,a){var r=Ge(s,t,e,i,a,c);return r&&!Array.isArray(r)&&(r.fnScopeId=h._scopeId,r.fnContext=n),r}:this._c=function(t,e,i,a){return Ge(s,t,e,i,a,c)}}function Oe(t,e,i,a,n){var r=Dt(t);return r.fnContext=i,r.fnOptions=a,e.slot&&((r.data||(r.data={})).slot=e.slot),r}function Pe(t,e){for(var i in e)t[S(i)]=e[i]}Le(Fe.prototype);var Ne={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var i=t;Ne.prepatch(i,i)}else{(t.componentInstance=function(t,e){var i={_isComponent:!0,_parentVnode:t,parent:e},a=t.data.inlineTemplate;n(a)&&(i.render=a.render,i.staticRenderFns=a.staticRenderFns);return new t.componentOptions.Ctor(i)}(t,Je)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var a=e.componentOptions;!function(t,e,a,n,r){0;var o=n.data.scopedSlots,s=t.$scopedSlots,l=!!(o&&!o.$stable||s!==i&&!s.$stable||o&&t.$scopedSlots.$key!==o.$key),h=!!(r||t.$options._renderChildren||l);t.$options._parentVnode=n,t.$vnode=n,t._vnode&&(t._vnode.parent=n);if(t.$options._renderChildren=r,t.$attrs=n.data.attrs||i,t.$listeners=a||i,e&&t.$options.props){Tt(!1);for(var u=t._props,c=t.$options._propKeys||[],d=0;d<c.length;d++){var f=c[d],p=t.$options.props;u[f]=kt(f,p,e,t)}Tt(!0),t.$options.propsData=e}a=a||i;var m=t.$options._parentListeners;t.$options._parentListeners=a,qe(t,a,m),h&&(t.$slots=de(r,n.context),t.$forceUpdate());0}(e.componentInstance=t.componentInstance,a.propsData,a.listeners,e,a.children)},insert:function(t){var e,i=t.context,a=t.componentInstance;a._isMounted||(a._isMounted=!0,ei(a,"mounted")),t.data.keepAlive&&(i._isMounted?((e=a)._inactive=!1,ai.push(e)):ti(a,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,i){if(i&&(e._directInactive=!0,Qe(e)))return;if(!e._inactive){e._inactive=!0;for(var a=0;a<e.$children.length;a++)t(e.$children[a]);ei(e,"deactivated")}}(e,!0):e.$destroy())}},Re=Object.keys(Ne);function Be(t,e,o,l,h){if(!a(t)){var u=o.$options._base;if(s(t)&&(t=u.extend(t)),"function"==typeof t){var c;if(a(t.cid)&&void 0===(t=function(t,e){if(r(t.error)&&n(t.errorComp))return t.errorComp;if(n(t.resolved))return t.resolved;var i=We;i&&n(t.owners)&&-1===t.owners.indexOf(i)&&t.owners.push(i);if(r(t.loading)&&n(t.loadingComp))return t.loadingComp;if(i&&!n(t.owners)){var o=t.owners=[i],l=!0,h=null,u=null;i.$on("hook:destroyed",function(){return g(o,i)});var c=function(t){for(var e=0,i=o.length;e<i;e++)o[e].$forceUpdate();t&&(o.length=0,null!==h&&(clearTimeout(h),h=null),null!==u&&(clearTimeout(u),u=null))},f=N(function(i){t.resolved=Xe(i,e),l?o.length=0:c(!0)}),p=N(function(e){n(t.errorComp)&&(t.error=!0,c(!0))}),m=t(f,p);return s(m)&&(d(m)?a(t.resolved)&&m.then(f,p):d(m.component)&&(m.component.then(f,p),n(m.error)&&(t.errorComp=Xe(m.error,e)),n(m.loading)&&(t.loadingComp=Xe(m.loading,e),0===m.delay?t.loading=!0:h=setTimeout(function(){h=null,a(t.resolved)&&a(t.error)&&(t.loading=!0,c(!1))},m.delay||200)),n(m.timeout)&&(u=setTimeout(function(){u=null,a(t.resolved)&&p(null)},m.timeout)))),l=!1,t.loading?t.loadingComp:t.resolved}}(c=t,u)))return function(t,e,i,a,n){var r=gt();return r.asyncFactory=t,r.asyncMeta={data:e,context:i,children:a,tag:n},r}(c,e,o,l,h);e=e||{},Ii(t),n(e.model)&&function(t,e){var i=t.model&&t.model.prop||"value",a=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[i]=e.model.value;var r=e.on||(e.on={}),o=r[a],s=e.model.callback;n(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(r[a]=[s].concat(o)):r[a]=s}(t.options,e);var f=function(t,e,i){var r=e.options.props;if(!a(r)){var o={},s=t.attrs,l=t.props;if(n(s)||n(l))for(var h in r){var u=b(h);le(o,l,h,u,!0)||le(o,s,h,u,!1)}return o}}(e,t);if(r(t.options.functional))return function(t,e,a,r,o){var s=t.options,l={},h=s.props;if(n(h))for(var u in h)l[u]=kt(u,h,e||i);else n(a.attrs)&&Pe(l,a.attrs),n(a.props)&&Pe(l,a.props);var c=new Fe(a,l,o,r,t),d=s.render.call(null,c._c,c);if(d instanceof mt)return Oe(d,a,c.parent,s);if(Array.isArray(d)){for(var f=he(d)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=Oe(f[m],a,c.parent,s);return p}}(t,f,e,o,l);var p=e.on;if(e.on=e.nativeOn,r(t.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}!function(t){for(var e=t.hook||(t.hook={}),i=0;i<Re.length;i++){var a=Re[i],n=e[a],r=Ne[a];n===r||n&&n._merged||(e[a]=n?ke(r,n):r)}}(e);var v=t.options.name||h;return new mt("vue-component-"+t.cid+(v?"-"+v:""),e,void 0,void 0,void 0,o,{Ctor:t,propsData:f,listeners:p,tag:h,children:l},c)}}}function ke(t,e){var i=function(i,a){t(i,a),e(i,a)};return i._merged=!0,i}var Ve=1,He=2;function Ge(t,e,i,l,h,u){return(Array.isArray(i)||o(i))&&(h=l,l=i,i=void 0),r(u)&&(h=He),function(t,e,i,o,l){if(n(i)&&n(i.__ob__))return gt();n(i)&&n(i.is)&&(e=i.is);if(!e)return gt();0;Array.isArray(o)&&"function"==typeof o[0]&&((i=i||{}).scopedSlots={default:o[0]},o.length=0);l===He?o=he(o):l===Ve&&(o=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(o));var h,u;if("string"==typeof e){var c;u=t.$vnode&&t.$vnode.ns||V.getTagNamespace(e),h=V.isReservedTag(e)?new mt(V.parsePlatformTagName(e),i,o,void 0,void 0,t):i&&i.pre||!n(c=Bt(t.$options,"components",e))?new mt(e,i,o,void 0,void 0,t):Be(c,i,t,o,e)}else h=Be(e,i,t,o);return Array.isArray(h)?h:n(h)?(n(u)&&function t(e,i,o){e.ns=i;"foreignObject"===e.tag&&(i=void 0,o=!0);if(n(e.children))for(var s=0,l=e.children.length;s<l;s++){var h=e.children[s];n(h.tag)&&(a(h.ns)||r(o)&&"svg"!==h.tag)&&t(h,i,o)}}(h,u),n(i)&&function(t){s(t.style)&&ae(t.style);s(t.class)&&ae(t.class)}(i),h):gt()}(t,e,i,l,h)}var Ye,We=null;function Xe(t,e){return(t.__esModule||lt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),s(t)?e.extend(t):t}function Ue(t){return t.isComment&&t.asyncFactory}function ze(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var i=t[e];if(n(i)&&(n(i.componentOptions)||Ue(i)))return i}}function Ke(t,e){Ye.$on(t,e)}function $e(t,e){Ye.$off(t,e)}function je(t,e){var i=Ye;return function a(){null!==e.apply(null,arguments)&&i.$off(t,a)}}function qe(t,e,i){Ye=t,oe(e,i||{},Ke,$e,je,t),Ye=void 0}var Je=null;function Ze(t){var e=Je;return Je=t,function(){Je=e}}function Qe(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function ti(t,e){if(e){if(t._directInactive=!1,Qe(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var i=0;i<t.$children.length;i++)ti(t.$children[i]);ei(t,"activated")}}function ei(t,e){ft();var i=t.$options[e],a=e+" hook";if(i)for(var n=0,r=i.length;n<r;n++)Wt(i[n],t,null,t,a);t._hasHookEvent&&t.$emit("hook:"+e),pt()}var ii=[],ai=[],ni={},ri=!1,oi=!1,si=0;var li=0,hi=Date.now;if(z&&!q){var ui=window.performance;ui&&"function"==typeof ui.now&&hi()>document.createEvent("Event").timeStamp&&(hi=function(){return ui.now()})}function ci(){var t,e;for(li=hi(),oi=!0,ii.sort(function(t,e){return t.id-e.id}),si=0;si<ii.length;si++)(t=ii[si]).before&&t.before(),e=t.id,ni[e]=null,t.run();var i=ai.slice(),a=ii.slice();si=ii.length=ai.length=0,ni={},ri=oi=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,ti(t[e],!0)}(i),function(t){var e=t.length;for(;e--;){var i=t[e],a=i.vm;a._watcher===i&&a._isMounted&&!a._isDestroyed&&ei(a,"updated")}}(a),rt&&V.devtools&&rt.emit("flush")}var di=0,fi=function(t,e,i,a,n){this.vm=t,n&&(t._watcher=this),t._watchers.push(this),a?(this.deep=!!a.deep,this.user=!!a.user,this.lazy=!!a.lazy,this.sync=!!a.sync,this.before=a.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++di,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!W.test(t)){var e=t.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}(e),this.getter||(this.getter=_)),this.value=this.lazy?void 0:this.get()};fi.prototype.get=function(){var t;ft(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Yt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ae(t),pt(),this.cleanupDeps()}return t},fi.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},fi.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},fi.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==ni[e]){if(ni[e]=!0,oi){for(var i=ii.length-1;i>si&&ii[i].id>t.id;)i--;ii.splice(i+1,0,t)}else ii.push(t);ri||(ri=!0,ee(ci))}}(this)},fi.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Yt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},fi.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},fi.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},fi.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var pi={enumerable:!0,configurable:!0,get:_,set:_};function mi(t,e,i){pi.get=function(){return this[e][i]},pi.set=function(t){this[e][i]=t},Object.defineProperty(t,i,pi)}function vi(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var i=t.$options.propsData||{},a=t._props={},n=t.$options._propKeys=[],r=!t.$parent;r||Tt(!1);var o=function(r){n.push(r);var o=kt(r,e,i,t);Mt(a,r,o),r in t||mi(t,"_props",r)};for(var s in e)o(s);Tt(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var i in e)t[i]="function"!=typeof e[i]?_:w(e[i],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;h(e=t._data="function"==typeof e?function(t,e){ft();try{return t.call(e,e)}catch(t){return Yt(t,e,"data()"),{}}finally{pt()}}(e,t):e||{})||(e={});var i=Object.keys(e),a=t.$options.props,n=(t.$options.methods,i.length);for(;n--;){var r=i[n];0,a&&D(a,r)||G(r)||mi(t,"_data",r)}wt(e,!0)}(t):wt(t._data={},!0),e.computed&&function(t,e){var i=t._computedWatchers=Object.create(null),a=nt();for(var n in e){var r=e[n],o="function"==typeof r?r:r.get;0,a||(i[n]=new fi(t,o||_,_,gi)),n in t||Ci(t,n,r)}}(t,e.computed),e.watch&&e.watch!==et&&function(t,e){for(var i in e){var a=e[i];if(Array.isArray(a))for(var n=0;n<a.length;n++)xi(t,i,a[n]);else xi(t,i,a)}}(t,e.watch)}var gi={lazy:!0};function Ci(t,e,i){var a=!nt();"function"==typeof i?(pi.get=a?Di(e):yi(i),pi.set=_):(pi.get=i.get?a&&!1!==i.cache?Di(e):yi(i.get):_,pi.set=i.set||_),Object.defineProperty(t,e,pi)}function Di(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ct.target&&e.depend(),e.value}}function yi(t){return function(){return t.call(this,this)}}function xi(t,e,i,a){return h(i)&&(a=i,i=i.handler),"string"==typeof i&&(i=t[i]),t.$watch(e,i,a)}var Si=0;function Ii(t){var e=t.options;if(t.super){var i=Ii(t.super);if(i!==t.superOptions){t.superOptions=i;var a=function(t){var e,i=t.options,a=t.sealedOptions;for(var n in i)i[n]!==a[n]&&(e||(e={}),e[n]=i[n]);return e}(t);a&&E(t.extendOptions,a),(e=t.options=Rt(i,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Ti(t){this._init(t)}function bi(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var i=this,a=i.cid,n=t._Ctor||(t._Ctor={});if(n[a])return n[a];var r=t.name||i.options.name;var o=function(t){this._init(t)};return(o.prototype=Object.create(i.prototype)).constructor=o,o.cid=e++,o.options=Rt(i.options,t),o.super=i,o.options.props&&function(t){var e=t.options.props;for(var i in e)mi(t.prototype,"_props",i)}(o),o.options.computed&&function(t){var e=t.options.computed;for(var i in e)Ci(t.prototype,i,e[i])}(o),o.extend=i.extend,o.mixin=i.mixin,o.use=i.use,B.forEach(function(t){o[t]=i[t]}),r&&(o.options.components[r]=o),o.superOptions=i.options,o.extendOptions=t,o.sealedOptions=E({},o.options),n[a]=o,o}}function wi(t){return t&&(t.Ctor.options.name||t.tag)}function Mi(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!u(t)&&t.test(e)}function Ei(t,e){var i=t.cache,a=t.keys,n=t._vnode;for(var r in i){var o=i[r];if(o){var s=wi(o.componentOptions);s&&!e(s)&&Ai(i,r,a,n)}}}function Ai(t,e,i,a){var n=t[e];!n||a&&n.tag===a.tag||n.componentInstance.$destroy(),t[e]=null,g(i,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=Si++,e._isVue=!0,t&&t._isComponent?function(t,e){var i=t.$options=Object.create(t.constructor.options),a=e._parentVnode;i.parent=e.parent,i._parentVnode=a;var n=a.componentOptions;i.propsData=n.propsData,i._parentListeners=n.listeners,i._renderChildren=n.children,i._componentTag=n.tag,e.render&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Rt(Ii(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,i=e.parent;if(i&&!e.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(t)}t.$parent=i,t.$root=i?i.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&qe(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,a=t.$vnode=e._parentVnode,n=a&&a.context;t.$slots=de(e._renderChildren,n),t.$scopedSlots=i,t._c=function(e,i,a,n){return Ge(t,e,i,a,n,!1)},t.$createElement=function(e,i,a,n){return Ge(t,e,i,a,n,!0)};var r=a&&a.data;Mt(t,"$attrs",r&&r.attrs||i,null,!0),Mt(t,"$listeners",e._parentListeners||i,null,!0)}(e),ei(e,"beforeCreate"),function(t){var e=ce(t.$options.inject,t);e&&(Tt(!1),Object.keys(e).forEach(function(i){Mt(t,i,e[i])}),Tt(!0))}(e),vi(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),ei(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Ti),function(t){var e={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",i),t.prototype.$set=Et,t.prototype.$delete=At,t.prototype.$watch=function(t,e,i){if(h(e))return xi(this,t,e,i);(i=i||{}).user=!0;var a=new fi(this,t,e,i);if(i.immediate)try{e.call(this,a.value)}catch(t){Yt(t,this,'callback for immediate watcher "'+a.expression+'"')}return function(){a.teardown()}}}(Ti),function(t){var e=/^hook:/;t.prototype.$on=function(t,i){var a=this;if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)a.$on(t[n],i);else(a._events[t]||(a._events[t]=[])).push(i),e.test(t)&&(a._hasHookEvent=!0);return a},t.prototype.$once=function(t,e){var i=this;function a(){i.$off(t,a),e.apply(i,arguments)}return a.fn=e,i.$on(t,a),i},t.prototype.$off=function(t,e){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(t)){for(var a=0,n=t.length;a<n;a++)i.$off(t[a],e);return i}var r,o=i._events[t];if(!o)return i;if(!e)return i._events[t]=null,i;for(var s=o.length;s--;)if((r=o[s])===e||r.fn===e){o.splice(s,1);break}return i},t.prototype.$emit=function(t){var e=this,i=e._events[t];if(i){i=i.length>1?M(i):i;for(var a=M(arguments,1),n='event handler for "'+t+'"',r=0,o=i.length;r<o;r++)Wt(i[r],e,a,e,n)}return e}}(Ti),function(t){t.prototype._update=function(t,e){var i=this,a=i.$el,n=i._vnode,r=Ze(i);i._vnode=t,i.$el=n?i.__patch__(n,t):i.__patch__(i.$el,t,e,!1),r(),a&&(a.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){ei(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||g(e.$children,t),t._watcher&&t._watcher.teardown();for(var i=t._watchers.length;i--;)t._watchers[i].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),ei(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Ti),function(t){Le(t.prototype),t.prototype.$nextTick=function(t){return ee(t,this)},t.prototype._render=function(){var t,e=this,i=e.$options,a=i.render,n=i._parentVnode;n&&(e.$scopedSlots=pe(n.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=n;try{We=e,t=a.call(e._renderProxy,e.$createElement)}catch(i){Yt(i,e,"render"),t=e._vnode}finally{We=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof mt||(t=gt()),t.parent=n,t}}(Ti);var _i=[String,RegExp,Array],Li={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:_i,exclude:_i,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ai(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Ei(t,function(t){return Mi(e,t)})}),this.$watch("exclude",function(e){Ei(t,function(t){return!Mi(e,t)})})},render:function(){var t=this.$slots.default,e=ze(t),i=e&&e.componentOptions;if(i){var a=wi(i),n=this.include,r=this.exclude;if(n&&(!a||!Mi(n,a))||r&&a&&Mi(r,a))return e;var o=this.cache,s=this.keys,l=null==e.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):e.key;o[l]?(e.componentInstance=o[l].componentInstance,g(s,l),s.push(l)):(o[l]=e,s.push(l),this.max&&s.length>parseInt(this.max)&&Ai(o,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return V}};Object.defineProperty(t,"config",e),t.util={warn:ht,extend:E,mergeOptions:Rt,defineReactive:Mt},t.set=Et,t.delete=At,t.nextTick=ee,t.observable=function(t){return wt(t),t},t.options=Object.create(null),B.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,E(t.options.components,Li),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var i=M(arguments,1);return i.unshift(this),"function"==typeof t.install?t.install.apply(t,i):"function"==typeof t&&t.apply(null,i),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Rt(this.options,t),this}}(t),bi(t),function(t){B.forEach(function(e){t[e]=function(t,i){return i?("component"===e&&h(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),"directive"===e&&"function"==typeof i&&(i={bind:i,update:i}),this.options[e+"s"][t]=i,i):this.options[e+"s"][t]}})}(t)}(Ti),Object.defineProperty(Ti.prototype,"$isServer",{get:nt}),Object.defineProperty(Ti.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ti,"FunctionalRenderContext",{value:Fe}),Ti.version="2.6.10";var Fi=m("style,class"),Oi=m("input,textarea,option,select,progress"),Pi=m("contenteditable,draggable,spellcheck"),Ni=m("events,caret,typing,plaintext-only"),Ri=function(t,e){return Gi(e)||"false"===e?"false":"contenteditable"===t&&Ni(e)?e:"true"},Bi=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),ki="http://www.w3.org/1999/xlink",Vi=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Hi=function(t){return Vi(t)?t.slice(6,t.length):""},Gi=function(t){return null==t||!1===t};function Yi(t){for(var e=t.data,i=t,a=t;n(a.componentInstance);)(a=a.componentInstance._vnode)&&a.data&&(e=Wi(a.data,e));for(;n(i=i.parent);)i&&i.data&&(e=Wi(e,i.data));return function(t,e){if(n(t)||n(e))return Xi(t,Ui(e));return""}(e.staticClass,e.class)}function Wi(t,e){return{staticClass:Xi(t.staticClass,e.staticClass),class:n(t.class)?[t.class,e.class]:e.class}}function Xi(t,e){return t?e?t+" "+e:t:e||""}function Ui(t){return Array.isArray(t)?function(t){for(var e,i="",a=0,r=t.length;a<r;a++)n(e=Ui(t[a]))&&""!==e&&(i&&(i+=" "),i+=e);return i}(t):s(t)?function(t){var e="";for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}(t):"string"==typeof t?t:""}var zi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ki=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),$i=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ji=function(t){return Ki(t)||$i(t)};var qi=Object.create(null);var Ji=m("text,number,password,search,email,tel,url");var Zi=Object.freeze({createElement:function(t,e){var i=document.createElement(t);return"select"!==t?i:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)},createElementNS:function(t,e){return document.createElementNS(zi[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,i){t.insertBefore(e,i)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Qi={create:function(t,e){ta(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ta(t,!0),ta(e))},destroy:function(t){ta(t,!0)}};function ta(t,e){var i=t.data.ref;if(n(i)){var a=t.context,r=t.componentInstance||t.elm,o=a.$refs;e?Array.isArray(o[i])?g(o[i],r):o[i]===r&&(o[i]=void 0):t.data.refInFor?Array.isArray(o[i])?o[i].indexOf(r)<0&&o[i].push(r):o[i]=[r]:o[i]=r}}var ea=new mt("",{},[]),ia=["create","activate","update","remove","destroy"];function aa(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&n(t.data)===n(e.data)&&function(t,e){if("input"!==t.tag)return!0;var i,a=n(i=t.data)&&n(i=i.attrs)&&i.type,r=n(i=e.data)&&n(i=i.attrs)&&i.type;return a===r||Ji(a)&&Ji(r)}(t,e)||r(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&a(e.asyncFactory.error))}function na(t,e,i){var a,r,o={};for(a=e;a<=i;++a)n(r=t[a].key)&&(o[r]=a);return o}var ra={create:oa,update:oa,destroy:function(t){oa(t,ea)}};function oa(t,e){(t.data.directives||e.data.directives)&&function(t,e){var i,a,n,r=t===ea,o=e===ea,s=la(t.data.directives,t.context),l=la(e.data.directives,e.context),h=[],u=[];for(i in l)a=s[i],n=l[i],a?(n.oldValue=a.value,n.oldArg=a.arg,ua(n,"update",e,t),n.def&&n.def.componentUpdated&&u.push(n)):(ua(n,"bind",e,t),n.def&&n.def.inserted&&h.push(n));if(h.length){var c=function(){for(var i=0;i<h.length;i++)ua(h[i],"inserted",e,t)};r?se(e,"insert",c):c()}u.length&&se(e,"postpatch",function(){for(var i=0;i<u.length;i++)ua(u[i],"componentUpdated",e,t)});if(!r)for(i in s)l[i]||ua(s[i],"unbind",t,t,o)}(t,e)}var sa=Object.create(null);function la(t,e){var i,a,n=Object.create(null);if(!t)return n;for(i=0;i<t.length;i++)(a=t[i]).modifiers||(a.modifiers=sa),n[ha(a)]=a,a.def=Bt(e.$options,"directives",a.name);return n}function ha(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function ua(t,e,i,a,n){var r=t.def&&t.def[e];if(r)try{r(i.elm,t,i,a,n)}catch(a){Yt(a,i.context,"directive "+t.name+" "+e+" hook")}}var ca=[Qi,ra];function da(t,e){var i=e.componentOptions;if(!(n(i)&&!1===i.Ctor.options.inheritAttrs||a(t.data.attrs)&&a(e.data.attrs))){var r,o,s=e.elm,l=t.data.attrs||{},h=e.data.attrs||{};for(r in n(h.__ob__)&&(h=e.data.attrs=E({},h)),h)o=h[r],l[r]!==o&&fa(s,r,o);for(r in(q||Z)&&h.value!==l.value&&fa(s,"value",h.value),l)a(h[r])&&(Vi(r)?s.removeAttributeNS(ki,Hi(r)):Pi(r)||s.removeAttribute(r))}}function fa(t,e,i){t.tagName.indexOf("-")>-1?pa(t,e,i):Bi(e)?Gi(i)?t.removeAttribute(e):(i="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,i)):Pi(e)?t.setAttribute(e,Ri(e,i)):Vi(e)?Gi(i)?t.removeAttributeNS(ki,Hi(e)):t.setAttributeNS(ki,e,i):pa(t,e,i)}function pa(t,e,i){if(Gi(i))t.removeAttribute(e);else{if(q&&!J&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==i&&!t.__ieph){var a=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",a)};t.addEventListener("input",a),t.__ieph=!0}t.setAttribute(e,i)}}var ma={create:da,update:da};function va(t,e){var i=e.elm,r=e.data,o=t.data;if(!(a(r.staticClass)&&a(r.class)&&(a(o)||a(o.staticClass)&&a(o.class)))){var s=Yi(e),l=i._transitionClasses;n(l)&&(s=Xi(s,Ui(l))),s!==i._prevClass&&(i.setAttribute("class",s),i._prevClass=s)}}var ga,Ca={create:va,update:va},Da="__r",ya="__c";function xa(t,e,i){var a=ga;return function n(){null!==e.apply(null,arguments)&&Ta(t,n,i,a)}}var Sa=Kt&&!(tt&&Number(tt[1])<=53);function Ia(t,e,i,a){if(Sa){var n=li,r=e;e=r._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=n||t.timeStamp<=0||t.target.ownerDocument!==document)return r.apply(this,arguments)}}ga.addEventListener(t,e,it?{capture:i,passive:a}:i)}function Ta(t,e,i,a){(a||ga).removeEventListener(t,e._wrapper||e,i)}function ba(t,e){if(!a(t.data.on)||!a(e.data.on)){var i=e.data.on||{},r=t.data.on||{};ga=e.elm,function(t){if(n(t[Da])){var e=q?"change":"input";t[e]=[].concat(t[Da],t[e]||[]),delete t[Da]}n(t[ya])&&(t.change=[].concat(t[ya],t.change||[]),delete t[ya])}(i),oe(i,r,Ia,Ta,xa,e.context),ga=void 0}}var wa,Ma={create:ba,update:ba};function Ea(t,e){if(!a(t.data.domProps)||!a(e.data.domProps)){var i,r,o=e.elm,s=t.data.domProps||{},l=e.data.domProps||{};for(i in n(l.__ob__)&&(l=e.data.domProps=E({},l)),s)i in l||(o[i]="");for(i in l){if(r=l[i],"textContent"===i||"innerHTML"===i){if(e.children&&(e.children.length=0),r===s[i])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===i&&"PROGRESS"!==o.tagName){o._value=r;var h=a(r)?"":String(r);Aa(o,h)&&(o.value=h)}else if("innerHTML"===i&&$i(o.tagName)&&a(o.innerHTML)){(wa=wa||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var u=wa.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}else if(r!==s[i])try{o[i]=r}catch(t){}}}}function Aa(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var i=!0;try{i=document.activeElement!==t}catch(t){}return i&&t.value!==e}(t,e)||function(t,e){var i=t.value,a=t._vModifiers;if(n(a)){if(a.number)return p(i)!==p(e);if(a.trim)return i.trim()!==e.trim()}return i!==e}(t,e))}var _a={create:Ea,update:Ea},La=y(function(t){var e={},i=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var a=t.split(i);a.length>1&&(e[a[0].trim()]=a[1].trim())}}),e});function Fa(t){var e=Oa(t.style);return t.staticStyle?E(t.staticStyle,e):e}function Oa(t){return Array.isArray(t)?A(t):"string"==typeof t?La(t):t}var Pa,Na=/^--/,Ra=/\s*!important$/,Ba=function(t,e,i){if(Na.test(e))t.style.setProperty(e,i);else if(Ra.test(i))t.style.setProperty(b(e),i.replace(Ra,""),"important");else{var a=Va(e);if(Array.isArray(i))for(var n=0,r=i.length;n<r;n++)t.style[a]=i[n];else t.style[a]=i}},ka=["Webkit","Moz","ms"],Va=y(function(t){if(Pa=Pa||document.createElement("div").style,"filter"!==(t=S(t))&&t in Pa)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<ka.length;i++){var a=ka[i]+e;if(a in Pa)return a}});function Ha(t,e){var i=e.data,r=t.data;if(!(a(i.staticStyle)&&a(i.style)&&a(r.staticStyle)&&a(r.style))){var o,s,l=e.elm,h=r.staticStyle,u=r.normalizedStyle||r.style||{},c=h||u,d=Oa(e.data.style)||{};e.data.normalizedStyle=n(d.__ob__)?E({},d):d;var f=function(t,e){var i,a={};if(e)for(var n=t;n.componentInstance;)(n=n.componentInstance._vnode)&&n.data&&(i=Fa(n.data))&&E(a,i);(i=Fa(t.data))&&E(a,i);for(var r=t;r=r.parent;)r.data&&(i=Fa(r.data))&&E(a,i);return a}(e,!0);for(s in c)a(f[s])&&Ba(l,s,"");for(s in f)(o=f[s])!==c[s]&&Ba(l,s,null==o?"":o)}}var Ga={create:Ha,update:Ha},Ya=/\s+/;function Wa(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ya).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function Xa(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ya).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var i=" "+(t.getAttribute("class")||"")+" ",a=" "+e+" ";i.indexOf(a)>=0;)i=i.replace(a," ");(i=i.trim())?t.setAttribute("class",i):t.removeAttribute("class")}}function Ua(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&E(e,za(t.name||"v")),E(e,t),e}return"string"==typeof t?za(t):void 0}}var za=y(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Ka=z&&!J,$a="transition",ja="animation",qa="transition",Ja="transitionend",Za="animation",Qa="animationend";Ka&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(qa="WebkitTransition",Ja="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Za="WebkitAnimation",Qa="webkitAnimationEnd"));var tn=z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function en(t){tn(function(){tn(t)})}function an(t,e){var i=t._transitionClasses||(t._transitionClasses=[]);i.indexOf(e)<0&&(i.push(e),Wa(t,e))}function nn(t,e){t._transitionClasses&&g(t._transitionClasses,e),Xa(t,e)}function rn(t,e,i){var a=sn(t,e),n=a.type,r=a.timeout,o=a.propCount;if(!n)return i();var s=n===$a?Ja:Qa,l=0,h=function(){t.removeEventListener(s,u),i()},u=function(e){e.target===t&&++l>=o&&h()};setTimeout(function(){l<o&&h()},r+1),t.addEventListener(s,u)}var on=/\b(transform|all)(,|$)/;function sn(t,e){var i,a=window.getComputedStyle(t),n=(a[qa+"Delay"]||"").split(", "),r=(a[qa+"Duration"]||"").split(", "),o=ln(n,r),s=(a[Za+"Delay"]||"").split(", "),l=(a[Za+"Duration"]||"").split(", "),h=ln(s,l),u=0,c=0;return e===$a?o>0&&(i=$a,u=o,c=r.length):e===ja?h>0&&(i=ja,u=h,c=l.length):c=(i=(u=Math.max(o,h))>0?o>h?$a:ja:null)?i===$a?r.length:l.length:0,{type:i,timeout:u,propCount:c,hasTransform:i===$a&&on.test(a[qa+"Property"])}}function ln(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,i){return hn(e)+hn(t[i])}))}function hn(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function un(t,e){var i=t.elm;n(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var r=Ua(t.data.transition);if(!a(r)&&!n(i._enterCb)&&1===i.nodeType){for(var o=r.css,l=r.type,h=r.enterClass,u=r.enterToClass,c=r.enterActiveClass,d=r.appearClass,f=r.appearToClass,m=r.appearActiveClass,v=r.beforeEnter,g=r.enter,C=r.afterEnter,D=r.enterCancelled,y=r.beforeAppear,x=r.appear,S=r.afterAppear,I=r.appearCancelled,T=r.duration,b=Je,w=Je.$vnode;w&&w.parent;)b=w.context,w=w.parent;var M=!b._isMounted||!t.isRootInsert;if(!M||x||""===x){var E=M&&d?d:h,A=M&&m?m:c,_=M&&f?f:u,L=M&&y||v,F=M&&"function"==typeof x?x:g,O=M&&S||C,P=M&&I||D,R=p(s(T)?T.enter:T);0;var B=!1!==o&&!J,k=fn(F),V=i._enterCb=N(function(){B&&(nn(i,_),nn(i,A)),V.cancelled?(B&&nn(i,E),P&&P(i)):O&&O(i),i._enterCb=null});t.data.show||se(t,"insert",function(){var e=i.parentNode,a=e&&e._pending&&e._pending[t.key];a&&a.tag===t.tag&&a.elm._leaveCb&&a.elm._leaveCb(),F&&F(i,V)}),L&&L(i),B&&(an(i,E),an(i,A),en(function(){nn(i,E),V.cancelled||(an(i,_),k||(dn(R)?setTimeout(V,R):rn(i,l,V)))})),t.data.show&&(e&&e(),F&&F(i,V)),B||k||V()}}}function cn(t,e){var i=t.elm;n(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var r=Ua(t.data.transition);if(a(r)||1!==i.nodeType)return e();if(!n(i._leaveCb)){var o=r.css,l=r.type,h=r.leaveClass,u=r.leaveToClass,c=r.leaveActiveClass,d=r.beforeLeave,f=r.leave,m=r.afterLeave,v=r.leaveCancelled,g=r.delayLeave,C=r.duration,D=!1!==o&&!J,y=fn(f),x=p(s(C)?C.leave:C);0;var S=i._leaveCb=N(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[t.key]=null),D&&(nn(i,u),nn(i,c)),S.cancelled?(D&&nn(i,h),v&&v(i)):(e(),m&&m(i)),i._leaveCb=null});g?g(I):I()}function I(){S.cancelled||(!t.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[t.key]=t),d&&d(i),D&&(an(i,h),an(i,c),en(function(){nn(i,h),S.cancelled||(an(i,u),y||(dn(x)?setTimeout(S,x):rn(i,l,S)))})),f&&f(i,S),D||y||S())}}function dn(t){return"number"==typeof t&&!isNaN(t)}function fn(t){if(a(t))return!1;var e=t.fns;return n(e)?fn(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function pn(t,e){!0!==e.data.show&&un(e)}var mn=function(t){var e,i,s={},l=t.modules,h=t.nodeOps;for(e=0;e<ia.length;++e)for(s[ia[e]]=[],i=0;i<l.length;++i)n(l[i][ia[e]])&&s[ia[e]].push(l[i][ia[e]]);function u(t){var e=h.parentNode(t);n(e)&&h.removeChild(e,t)}function c(t,e,i,a,o,l,u){if(n(t.elm)&&n(l)&&(t=l[u]=Dt(t)),t.isRootInsert=!o,!function(t,e,i,a){var o=t.data;if(n(o)){var l=n(t.componentInstance)&&o.keepAlive;if(n(o=o.hook)&&n(o=o.init)&&o(t,!1),n(t.componentInstance))return d(t,e),f(i,t.elm,a),r(l)&&function(t,e,i,a){for(var r,o=t;o.componentInstance;)if(o=o.componentInstance._vnode,n(r=o.data)&&n(r=r.transition)){for(r=0;r<s.activate.length;++r)s.activate[r](ea,o);e.push(o);break}f(i,t.elm,a)}(t,e,i,a),!0}}(t,e,i,a)){var c=t.data,m=t.children,v=t.tag;n(v)?(t.elm=t.ns?h.createElementNS(t.ns,v):h.createElement(v,t),C(t),p(t,m,e),n(c)&&g(t,e),f(i,t.elm,a)):r(t.isComment)?(t.elm=h.createComment(t.text),f(i,t.elm,a)):(t.elm=h.createTextNode(t.text),f(i,t.elm,a))}}function d(t,e){n(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,v(t)?(g(t,e),C(t)):(ta(t),e.push(t))}function f(t,e,i){n(t)&&(n(i)?h.parentNode(i)===t&&h.insertBefore(t,e,i):h.appendChild(t,e))}function p(t,e,i){if(Array.isArray(e))for(var a=0;a<e.length;++a)c(e[a],i,t.elm,null,!0,e,a);else o(t.text)&&h.appendChild(t.elm,h.createTextNode(String(t.text)))}function v(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return n(t.tag)}function g(t,i){for(var a=0;a<s.create.length;++a)s.create[a](ea,t);n(e=t.data.hook)&&(n(e.create)&&e.create(ea,t),n(e.insert)&&i.push(t))}function C(t){var e;if(n(e=t.fnScopeId))h.setStyleScope(t.elm,e);else for(var i=t;i;)n(e=i.context)&&n(e=e.$options._scopeId)&&h.setStyleScope(t.elm,e),i=i.parent;n(e=Je)&&e!==t.context&&e!==t.fnContext&&n(e=e.$options._scopeId)&&h.setStyleScope(t.elm,e)}function D(t,e,i,a,n,r){for(;a<=n;++a)c(i[a],r,t,e,!1,i,a)}function y(t){var e,i,a=t.data;if(n(a))for(n(e=a.hook)&&n(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(n(e=t.children))for(i=0;i<t.children.length;++i)y(t.children[i])}function x(t,e,i,a){for(;i<=a;++i){var r=e[i];n(r)&&(n(r.tag)?(S(r),y(r)):u(r.elm))}}function S(t,e){if(n(e)||n(t.data)){var i,a=s.remove.length+1;for(n(e)?e.listeners+=a:e=function(t,e){function i(){0==--i.listeners&&u(t)}return i.listeners=e,i}(t.elm,a),n(i=t.componentInstance)&&n(i=i._vnode)&&n(i.data)&&S(i,e),i=0;i<s.remove.length;++i)s.remove[i](t,e);n(i=t.data.hook)&&n(i=i.remove)?i(t,e):e()}else u(t.elm)}function I(t,e,i,a){for(var r=i;r<a;r++){var o=e[r];if(n(o)&&aa(t,o))return r}}function T(t,e,i,o,l,u){if(t!==e){n(e.elm)&&n(o)&&(e=o[l]=Dt(e));var d=e.elm=t.elm;if(r(t.isAsyncPlaceholder))n(e.asyncFactory.resolved)?M(t.elm,e,i):e.isAsyncPlaceholder=!0;else if(r(e.isStatic)&&r(t.isStatic)&&e.key===t.key&&(r(e.isCloned)||r(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,p=e.data;n(p)&&n(f=p.hook)&&n(f=f.prepatch)&&f(t,e);var m=t.children,g=e.children;if(n(p)&&v(e)){for(f=0;f<s.update.length;++f)s.update[f](t,e);n(f=p.hook)&&n(f=f.update)&&f(t,e)}a(e.text)?n(m)&&n(g)?m!==g&&function(t,e,i,r,o){for(var s,l,u,d=0,f=0,p=e.length-1,m=e[0],v=e[p],g=i.length-1,C=i[0],y=i[g],S=!o;d<=p&&f<=g;)a(m)?m=e[++d]:a(v)?v=e[--p]:aa(m,C)?(T(m,C,r,i,f),m=e[++d],C=i[++f]):aa(v,y)?(T(v,y,r,i,g),v=e[--p],y=i[--g]):aa(m,y)?(T(m,y,r,i,g),S&&h.insertBefore(t,m.elm,h.nextSibling(v.elm)),m=e[++d],y=i[--g]):aa(v,C)?(T(v,C,r,i,f),S&&h.insertBefore(t,v.elm,m.elm),v=e[--p],C=i[++f]):(a(s)&&(s=na(e,d,p)),a(l=n(C.key)?s[C.key]:I(C,e,d,p))?c(C,r,t,m.elm,!1,i,f):aa(u=e[l],C)?(T(u,C,r,i,f),e[l]=void 0,S&&h.insertBefore(t,u.elm,m.elm)):c(C,r,t,m.elm,!1,i,f),C=i[++f]);d>p?D(t,a(i[g+1])?null:i[g+1].elm,i,f,g,r):f>g&&x(0,e,d,p)}(d,m,g,i,u):n(g)?(n(t.text)&&h.setTextContent(d,""),D(d,null,g,0,g.length-1,i)):n(m)?x(0,m,0,m.length-1):n(t.text)&&h.setTextContent(d,""):t.text!==e.text&&h.setTextContent(d,e.text),n(p)&&n(f=p.hook)&&n(f=f.postpatch)&&f(t,e)}}}function b(t,e,i){if(r(i)&&n(t.parent))t.parent.data.pendingInsert=e;else for(var a=0;a<e.length;++a)e[a].data.hook.insert(e[a])}var w=m("attrs,class,staticClass,staticStyle,key");function M(t,e,i,a){var o,s=e.tag,l=e.data,h=e.children;if(a=a||l&&l.pre,e.elm=t,r(e.isComment)&&n(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(n(l)&&(n(o=l.hook)&&n(o=o.init)&&o(e,!0),n(o=e.componentInstance)))return d(e,i),!0;if(n(s)){if(n(h))if(t.hasChildNodes())if(n(o=l)&&n(o=o.domProps)&&n(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var u=!0,c=t.firstChild,f=0;f<h.length;f++){if(!c||!M(c,h[f],i,a)){u=!1;break}c=c.nextSibling}if(!u||c)return!1}else p(e,h,i);if(n(l)){var m=!1;for(var v in l)if(!w(v)){m=!0,g(e,i);break}!m&&l.class&&ae(l.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,i,o){if(!a(e)){var l,u=!1,d=[];if(a(t))u=!0,c(e,d);else{var f=n(t.nodeType);if(!f&&aa(t,e))T(t,e,d,null,null,o);else{if(f){if(1===t.nodeType&&t.hasAttribute(R)&&(t.removeAttribute(R),i=!0),r(i)&&M(t,e,d))return b(e,d,!0),t;l=t,t=new mt(h.tagName(l).toLowerCase(),{},[],void 0,l)}var p=t.elm,m=h.parentNode(p);if(c(e,d,p._leaveCb?null:m,h.nextSibling(p)),n(e.parent))for(var g=e.parent,C=v(e);g;){for(var D=0;D<s.destroy.length;++D)s.destroy[D](g);if(g.elm=e.elm,C){for(var S=0;S<s.create.length;++S)s.create[S](ea,g);var I=g.data.hook.insert;if(I.merged)for(var w=1;w<I.fns.length;w++)I.fns[w]()}else ta(g);g=g.parent}n(m)?x(0,[t],0,0):n(t.tag)&&y(t)}}return b(e,d,u),e.elm}n(t)&&y(t)}}({nodeOps:Zi,modules:[ma,Ca,Ma,_a,Ga,z?{create:pn,activate:pn,remove:function(t,e){!0!==t.data.show?cn(t,e):e()}}:{}].concat(ca)});J&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&In(t,"input")});var vn={inserted:function(t,e,i,a){"select"===i.tag?(a.elm&&!a.elm._vOptions?se(i,"postpatch",function(){vn.componentUpdated(t,e,i)}):gn(t,e,i.context),t._vOptions=[].map.call(t.options,yn)):("textarea"===i.tag||Ji(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",xn),t.addEventListener("compositionend",Sn),t.addEventListener("change",Sn),J&&(t.vmodel=!0)))},componentUpdated:function(t,e,i){if("select"===i.tag){gn(t,e,i.context);var a=t._vOptions,n=t._vOptions=[].map.call(t.options,yn);if(n.some(function(t,e){return!O(t,a[e])}))(t.multiple?e.value.some(function(t){return Dn(t,n)}):e.value!==e.oldValue&&Dn(e.value,n))&&In(t,"change")}}};function gn(t,e,i){Cn(t,e,i),(q||Z)&&setTimeout(function(){Cn(t,e,i)},0)}function Cn(t,e,i){var a=e.value,n=t.multiple;if(!n||Array.isArray(a)){for(var r,o,s=0,l=t.options.length;s<l;s++)if(o=t.options[s],n)r=P(a,yn(o))>-1,o.selected!==r&&(o.selected=r);else if(O(yn(o),a))return void(t.selectedIndex!==s&&(t.selectedIndex=s));n||(t.selectedIndex=-1)}}function Dn(t,e){return e.every(function(e){return!O(e,t)})}function yn(t){return"_value"in t?t._value:t.value}function xn(t){t.target.composing=!0}function Sn(t){t.target.composing&&(t.target.composing=!1,In(t.target,"input"))}function In(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}function Tn(t){return!t.componentInstance||t.data&&t.data.transition?t:Tn(t.componentInstance._vnode)}var bn={model:vn,show:{bind:function(t,e,i){var a=e.value,n=(i=Tn(i)).data&&i.data.transition,r=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;a&&n?(i.data.show=!0,un(i,function(){t.style.display=r})):t.style.display=a?r:"none"},update:function(t,e,i){var a=e.value;!a!=!e.oldValue&&((i=Tn(i)).data&&i.data.transition?(i.data.show=!0,a?un(i,function(){t.style.display=t.__vOriginalDisplay}):cn(i,function(){t.style.display="none"})):t.style.display=a?t.__vOriginalDisplay:"none")},unbind:function(t,e,i,a,n){n||(t.style.display=t.__vOriginalDisplay)}}},wn={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Mn(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Mn(ze(e.children)):t}function En(t){var e={},i=t.$options;for(var a in i.propsData)e[a]=t[a];var n=i._parentListeners;for(var r in n)e[S(r)]=n[r];return e}function An(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var _n=function(t){return t.tag||Ue(t)},Ln=function(t){return"show"===t.name},Fn={name:"transition",props:wn,abstract:!0,render:function(t){var e=this,i=this.$slots.default;if(i&&(i=i.filter(_n)).length){0;var a=this.mode;0;var n=i[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return n;var r=Mn(n);if(!r)return n;if(this._leaving)return An(t,n);var s="__transition-"+this._uid+"-";r.key=null==r.key?r.isComment?s+"comment":s+r.tag:o(r.key)?0===String(r.key).indexOf(s)?r.key:s+r.key:r.key;var l=(r.data||(r.data={})).transition=En(this),h=this._vnode,u=Mn(h);if(r.data.directives&&r.data.directives.some(Ln)&&(r.data.show=!0),u&&u.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(r,u)&&!Ue(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var c=u.data.transition=E({},l);if("out-in"===a)return this._leaving=!0,se(c,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),An(t,n);if("in-out"===a){if(Ue(r))return h;var d,f=function(){d()};se(l,"afterEnter",f),se(l,"enterCancelled",f),se(c,"delayLeave",function(t){d=t})}}return n}}},On=E({tag:String,moveClass:String},wn);function Pn(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Nn(t){t.data.newPos=t.elm.getBoundingClientRect()}function Rn(t){var e=t.data.pos,i=t.data.newPos,a=e.left-i.left,n=e.top-i.top;if(a||n){t.data.moved=!0;var r=t.elm.style;r.transform=r.WebkitTransform="translate("+a+"px,"+n+"px)",r.transitionDuration="0s"}}delete On.mode;var Bn={Transition:Fn,TransitionGroup:{props:On,beforeMount:function(){var t=this,e=this._update;this._update=function(i,a){var n=Ze(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,n(),e.call(t,i,a)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),a=this.prevChildren=this.children,n=this.$slots.default||[],r=this.children=[],o=En(this),s=0;s<n.length;s++){var l=n[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))r.push(l),i[l.key]=l,(l.data||(l.data={})).transition=o;else;}if(a){for(var h=[],u=[],c=0;c<a.length;c++){var d=a[c];d.data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),i[d.key]?h.push(d):u.push(d)}this.kept=t(e,null,h),this.removed=u}return t(e,null,r)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Pn),t.forEach(Nn),t.forEach(Rn),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var i=t.elm,a=i.style;an(i,e),a.transform=a.WebkitTransform=a.transitionDuration="",i.addEventListener(Ja,i._moveCb=function t(a){a&&a.target!==i||a&&!/transform$/.test(a.propertyName)||(i.removeEventListener(Ja,t),i._moveCb=null,nn(i,e))})}}))},methods:{hasMove:function(t,e){if(!Ka)return!1;if(this._hasMove)return this._hasMove;var i=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Xa(i,t)}),Wa(i,e),i.style.display="none",this.$el.appendChild(i);var a=sn(i);return this.$el.removeChild(i),this._hasMove=a.hasTransform}}}};Ti.config.mustUseProp=function(t,e,i){return"value"===i&&Oi(t)&&"button"!==e||"selected"===i&&"option"===t||"checked"===i&&"input"===t||"muted"===i&&"video"===t},Ti.config.isReservedTag=ji,Ti.config.isReservedAttr=Fi,Ti.config.getTagNamespace=function(t){return $i(t)?"svg":"math"===t?"math":void 0},Ti.config.isUnknownElement=function(t){if(!z)return!0;if(ji(t))return!1;if(t=t.toLowerCase(),null!=qi[t])return qi[t];var e=document.createElement(t);return t.indexOf("-")>-1?qi[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:qi[t]=/HTMLUnknownElement/.test(e.toString())},E(Ti.options.directives,bn),E(Ti.options.components,Bn),Ti.prototype.__patch__=z?mn:_,Ti.prototype.$mount=function(t,e){return function(t,e,i){return t.$el=e,t.$options.render||(t.$options.render=gt),ei(t,"beforeMount"),new fi(t,function(){t._update(t._render(),i)},_,{before:function(){t._isMounted&&!t._isDestroyed&&ei(t,"beforeUpdate")}},!0),i=!1,null==t.$vnode&&(t._isMounted=!0,ei(t,"mounted")),t}(this,t=t&&z?function(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}(t):void 0,e)},z&&setTimeout(function(){V.devtools&&rt&&rt.emit("init",Ti)},0),e.default=Ti}.call(e,i("DuR2"))},"/86O":function(t,e,i){var a=i("9qnA"),n=i("/gxq"),r=i("3h1/"),o=i("qjrH"),s=i("28kU").ContextCachedBy,l=function(t){a.call(this,t)};l.prototype={constructor:l,type:"text",brush:function(t,e){var i=this.style;this.__dirty&&o.normalizeTextStyle(i,!0),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var a=i.text;null!=a&&(a+=""),o.needDrawText(a,i)?(this.setTransform(t),o.renderText(this,t,a,i,null,e),this.restoreTransform(t)):t.__attrCachedBy=s.NONE},getBoundingRect:function(){var t=this.style;if(this.__dirty&&o.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var i=r.getBoundingRect(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(i.x+=t.x||0,i.y+=t.y||0,o.getStroke(t.textStroke,t.textStrokeWidth)){var a=t.textStrokeWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect}},n.inherits(l,a);var h=l;t.exports=h},"/99E":function(t,e,i){i("0BOU"),i("yEXw"),i("w6Zv")},"/BOW":function(t,e,i){var a=i("/gxq"),n=i("2HcM"),r=function(t,e,i,a,r){n.call(this,t,e,i),this.type=a||"value",this.axisIndex=r};r.prototype={constructor:r,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},a.inherits(r,n);var o=r;t.exports=o},"/ZBO":function(t,e,i){var a=i("dOVI"),n=i("C7PF"),r=a.identity,o=5e-5;function s(t){return t>o||t<-o}var l=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},h=l.prototype;h.transform=null,h.needLocalTransform=function(){return s(this.rotation)||s(this.position[0])||s(this.position[1])||s(this.scale[0]-1)||s(this.scale[1]-1)};var u=[];h.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;if(i||e){n=n||a.create(),i?this.getLocalTransform(n):r(n),e&&(i?a.mul(n,t.transform,n):a.copy(n,t.transform)),this.transform=n;var o=this.globalScaleRatio;if(null!=o&&1!==o){this.getGlobalScale(u);var s=u[0]<0?-1:1,l=u[1]<0?-1:1,h=((u[0]-s)*o+s)/u[0]||0,c=((u[1]-l)*o+l)/u[1]||0;n[0]*=h,n[1]*=h,n[2]*=c,n[3]*=c}this.invTransform=this.invTransform||a.create(),a.invert(this.invTransform,n)}else n&&r(n)},h.getLocalTransform=function(t){return l.getLocalTransform(this,t)},h.setTransform=function(t){var e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0)},h.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var c=[],d=a.create();h.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],a=this.position,n=this.scale;s(e-1)&&(e=Math.sqrt(e)),s(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(e=-e),t[3]<0&&(i=-i),a[0]=t[4],a[1]=t[5],n[0]=e,n[1]=i,this.rotation=Math.atan2(-t[1]/i,t[0]/e)}},h.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(a.mul(c,t.invTransform,e),e=c);var i=this.origin;i&&(i[0]||i[1])&&(d[4]=i[0],d[5]=i[1],a.mul(c,e,d),c[4]-=i[0],c[5]-=i[1],e=c),this.setLocalTransform(e)}},h.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},h.transformCoordToLocal=function(t,e){var i=[t,e],a=this.invTransform;return a&&n.applyTransform(i,i,a),i},h.transformCoordToGlobal=function(t,e){var i=[t,e],a=this.transform;return a&&n.applyTransform(i,i,a),i},l.getLocalTransform=function(t,e){r(e=e||[]);var i=t.origin,n=t.scale||[1,1],o=t.rotation||0,s=t.position||[0,0];return i&&(e[4]-=i[0],e[5]-=i[1]),a.scale(e,e,n),o&&a.rotate(e,e,o),i&&(e[4]+=i[0],e[5]+=i[1]),e[4]+=s[0],e[5]+=s[1],e};var f=l;t.exports=f},"/bQp":function(t,e){t.exports={}},"/gZK":function(t,e,i){var a=i("hcq/"),n=i("Rfu2"),r=i("/gxq"),o=r.extend,s=r.isArray;t.exports=function(t,e,i){e=s(e)&&{coordDimensions:e}||o({},e);var r=t.getSource(),l=a(r,e),h=new n(l,t);return h.initData(r,i),h}},"/gxq":function(t,e){var i={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},a={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},n=Object.prototype.toString,r=Array.prototype,o=r.forEach,s=r.filter,l=r.slice,h=r.map,u=r.reduce,c={};function d(t){if(null==t||"object"!=typeof t)return t;var e=t,r=n.call(t);if("[object Array]"===r){if(!T(t)){e=[];for(var o=0,s=t.length;o<s;o++)e[o]=d(t[o])}}else if(a[r]){if(!T(t)){var l=t.constructor;if(t.constructor.from)e=l.from(t);else{e=new l(t.length);for(o=0,s=t.length;o<s;o++)e[o]=d(t[o])}}}else if(!i[r]&&!T(t)&&!S(t))for(var h in e={},t)t.hasOwnProperty(h)&&(e[h]=d(t[h]));return e}function f(t,e,i){if(!y(e)||!y(t))return i?d(e):t;for(var a in e)if(e.hasOwnProperty(a)){var n=t[a],r=e[a];!y(r)||!y(n)||D(r)||D(n)||S(r)||S(n)||x(r)||x(n)||T(r)||T(n)?!i&&a in t||(t[a]=d(e[a])):f(n,r,i)}return t}function p(t,e,i){for(var a in e)e.hasOwnProperty(a)&&(i?null!=e[a]:null==t[a])&&(t[a]=e[a]);return t}var m,v=function(){return c.createCanvas()};function g(t,e,i){if(t&&e)if(t.forEach&&t.forEach===o)t.forEach(e,i);else if(t.length===+t.length)for(var a=0,n=t.length;a<n;a++)e.call(i,t[a],a,t);else for(var r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t)}function C(t,e){var i=l.call(arguments,2);return function(){return t.apply(e,i.concat(l.call(arguments)))}}function D(t){return"[object Array]"===n.call(t)}function y(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function x(t){return!!i[n.call(t)]}function S(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}c.createCanvas=function(){return document.createElement("canvas")};var I="__ec_primitive__";function T(t){return t[I]}function b(t){var e=D(t);this.data={};var i=this;function a(t,a){e?i.set(t,a):i.set(a,t)}t instanceof b?t.each(a):t&&g(t,a)}b.prototype={constructor:b,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var i in void 0!==e&&(t=C(t,e)),this.data)this.data.hasOwnProperty(i)&&t(this.data[i],i)},removeKey:function(t){delete this.data[t]}},e.$override=function(t,e){"createCanvas"===t&&(m=null),c[t]=e},e.clone=d,e.merge=f,e.mergeAll=function(t,e){for(var i=t[0],a=1,n=t.length;a<n;a++)i=f(i,t[a],e);return i},e.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},e.defaults=p,e.createCanvas=v,e.getContext=function(){return m||(m=v().getContext("2d")),m},e.indexOf=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,a=t.length;i<a;i++)if(t[i]===e)return i}return-1},e.inherits=function(t,e){var i=t.prototype;function a(){}for(var n in a.prototype=e.prototype,t.prototype=new a,i)i.hasOwnProperty(n)&&(t.prototype[n]=i[n]);t.prototype.constructor=t,t.superClass=e},e.mixin=function(t,e,i){p(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,i)},e.isArrayLike=function(t){if(t)return"string"!=typeof t&&"number"==typeof t.length},e.each=g,e.map=function(t,e,i){if(t&&e){if(t.map&&t.map===h)return t.map(e,i);for(var a=[],n=0,r=t.length;n<r;n++)a.push(e.call(i,t[n],n,t));return a}},e.reduce=function(t,e,i,a){if(t&&e){if(t.reduce&&t.reduce===u)return t.reduce(e,i,a);for(var n=0,r=t.length;n<r;n++)i=e.call(a,i,t[n],n,t);return i}},e.filter=function(t,e,i){if(t&&e){if(t.filter&&t.filter===s)return t.filter(e,i);for(var a=[],n=0,r=t.length;n<r;n++)e.call(i,t[n],n,t)&&a.push(t[n]);return a}},e.find=function(t,e,i){if(t&&e)for(var a=0,n=t.length;a<n;a++)if(e.call(i,t[a],a,t))return t[a]},e.bind=C,e.curry=function(t){var e=l.call(arguments,1);return function(){return t.apply(this,e.concat(l.call(arguments)))}},e.isArray=D,e.isFunction=function(t){return"function"==typeof t},e.isString=function(t){return"[object String]"===n.call(t)},e.isObject=y,e.isBuiltInObject=x,e.isTypedArray=function(t){return!!a[n.call(t)]},e.isDom=S,e.eqNaN=function(t){return t!=t},e.retrieve=function(t){for(var e=0,i=arguments.length;e<i;e++)if(null!=arguments[e])return arguments[e]},e.retrieve2=function(t,e){return null!=t?t:e},e.retrieve3=function(t,e,i){return null!=t?t:null!=e?e:i},e.slice=function(){return Function.call.apply(l,arguments)},e.normalizeCssArray=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},e.assert=function(t,e){if(!t)throw new Error(e)},e.trim=function(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.setAsPrimitive=function(t){t[I]=!0},e.isPrimitive=T,e.createHashMap=function(t){return new b(t)},e.concatArray=function(t,e){for(var i=new t.constructor(t.length+e.length),a=0;a<t.length;a++)i[a]=t[a];var n=t.length;for(a=0;a<e.length;a++)i[a+n]=e[a];return i},e.noop=function(){}},"/n1K":function(t,e,i){var a=i("/gxq"),n=a.createHashMap,r=a.each,o=a.isString,s=a.defaults,l=a.extend,h=a.isObject,u=a.clone,c=i("vXqC").normalizeToArray,d=i("kdOt").guessOrdinal,f=i("rrAD"),p=i("mvCM").OTHER_DIMENSIONS;function m(t,e,i){if(i||null!=e.get(t)){for(var a=0;null!=e.get(t+a);)a++;t+=a}return e.set(t,!0),t}var v=function(t,e,i){f.isInstance(e)||(e=f.seriesDataToSource(e)),i=i||{},t=(t||[]).slice();for(var a=(i.dimsDef||[]).slice(),v=n(i.encodeDef),g=n(),C=n(),D=[],y=function(t,e,i,a){var n=Math.max(t.dimensionsDetectCount||1,e.length,i.length,a||0);return r(e,function(t){var e=t.dimsDef;e&&(n=Math.max(n,e.length))}),n}(e,t,a,i.dimCount),x=0;x<y;x++){var S=a[x]=l({},h(a[x])?a[x]:{name:a[x]}),I=S.name,T=D[x]={otherDims:{}};null!=I&&null==g.get(I)&&(T.name=T.displayName=I,g.set(I,x)),null!=S.type&&(T.type=S.type),null!=S.displayName&&(T.displayName=S.displayName)}v.each(function(t,e){if(1===(t=c(t).slice()).length&&!o(t[0])&&t[0]<0)v.set(e,!1);else{var i=v.set(e,[]);r(t,function(t,a){o(t)&&(t=g.get(t)),null!=t&&t<y&&(i[a]=t,w(D[t],e,a))})}});var b=0;function w(t,e,i){null!=p.get(e)?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,C.set(e,!0))}r(t,function(t,e){var i,a,n;if(o(t))i=t,t={};else{i=t.name;var l=t.ordinalMeta;t.ordinalMeta=null,(t=u(t)).ordinalMeta=l,a=t.dimsDef,n=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}if(!1!==(d=v.get(i))){var d;if(!(d=c(d)).length)for(var f=0;f<(a&&a.length||1);f++){for(;b<D.length&&null!=D[b].coordDim;)b++;b<D.length&&d.push(b++)}r(d,function(e,r){var o=D[e];if(w(s(o,t),i,r),null==o.name&&a){var l=a[r];!h(l)&&(l={name:l}),o.name=o.displayName=l.name,o.defaultTooltip=l.defaultTooltip}n&&s(o.otherDims,n)})}});var M=i.generateCoord,E=i.generateCoordCount,A=null!=E;E=M?E||1:0;for(var _=M||"value",L=0;L<y;L++)null==(T=D[L]=D[L]||{}).coordDim&&(T.coordDim=m(_,C,A),T.coordDimIndex=0,(!M||E<=0)&&(T.isExtraCoord=!0),E--),null==T.name&&(T.name=m(T.coordDim,g)),null==T.type&&d(e,L,T.name)&&(T.type="ordinal");return D};t.exports=v},"/n6Q":function(t,e,i){i("zQR9"),i("+tPU"),t.exports=i("Kh4W").f("iterator")},"/ocq":function(t,e,i){"use strict";
/*!
  * vue-router v3.1.3
  * (c) 2019 Evan You
  * @license MIT
  */function a(t,e){0}function n(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function r(t,e){return e instanceof t||e&&(e.name===t.name||e._name===t._name)}function o(t,e){for(var i in e)t[i]=e[i];return t}var s={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var i=e.props,a=e.children,n=e.parent,r=e.data;r.routerView=!0;for(var s=n.$createElement,l=i.name,h=n.$route,u=n._routerViewCache||(n._routerViewCache={}),c=0,d=!1;n&&n._routerRoot!==n;){var f=n.$vnode&&n.$vnode.data;f&&(f.routerView&&c++,f.keepAlive&&n._inactive&&(d=!0)),n=n.$parent}if(r.routerViewDepth=c,d)return s(u[l],r,a);var p=h.matched[c];if(!p)return u[l]=null,s();var m=u[l]=p.components[l];r.registerRouteInstance=function(t,e){var i=p.instances[l];(e&&i!==t||!e&&i===t)&&(p.instances[l]=e)},(r.hook||(r.hook={})).prepatch=function(t,e){p.instances[l]=e.componentInstance},r.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==p.instances[l]&&(p.instances[l]=t.componentInstance)};var v=r.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(h,p.props&&p.props[l]);if(v){v=r.props=o({},v);var g=r.attrs=r.attrs||{};for(var C in v)m.props&&C in m.props||(g[C]=v[C],delete v[C])}return s(m,r,a)}};var l=/[!'()*]/g,h=function(t){return"%"+t.charCodeAt(0).toString(16)},u=/%2C/g,c=function(t){return encodeURIComponent(t).replace(l,h).replace(u,",")},d=decodeURIComponent;function f(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var i=t.replace(/\+/g," ").split("="),a=d(i.shift()),n=i.length>0?d(i.join("=")):null;void 0===e[a]?e[a]=n:Array.isArray(e[a])?e[a].push(n):e[a]=[e[a],n]}),e):e}function p(t){var e=t?Object.keys(t).map(function(e){var i=t[e];if(void 0===i)return"";if(null===i)return c(e);if(Array.isArray(i)){var a=[];return i.forEach(function(t){void 0!==t&&(null===t?a.push(c(e)):a.push(c(e)+"="+c(t)))}),a.join("&")}return c(e)+"="+c(i)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var m=/\/?$/;function v(t,e,i,a){var n=a&&a.options.stringifyQuery,r=e.query||{};try{r=g(r)}catch(t){}var o={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:r,params:e.params||{},fullPath:D(e,n),matched:t?function(t){var e=[];for(;t;)e.unshift(t),t=t.parent;return e}(t):[]};return i&&(o.redirectedFrom=D(i,n)),Object.freeze(o)}function g(t){if(Array.isArray(t))return t.map(g);if(t&&"object"==typeof t){var e={};for(var i in t)e[i]=g(t[i]);return e}return t}var C=v(null,{path:"/"});function D(t,e){var i=t.path,a=t.query;void 0===a&&(a={});var n=t.hash;return void 0===n&&(n=""),(i||"/")+(e||p)(a)+n}function y(t,e){return e===C?t===e:!!e&&(t.path&&e.path?t.path.replace(m,"")===e.path.replace(m,"")&&t.hash===e.hash&&x(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&x(t.query,e.query)&&x(t.params,e.params)))}function x(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var i=Object.keys(t),a=Object.keys(e);return i.length===a.length&&i.every(function(i){var a=t[i],n=e[i];return"object"==typeof a&&"object"==typeof n?x(a,n):String(a)===String(n)})}function S(t,e,i){var a=t.charAt(0);if("/"===a)return t;if("?"===a||"#"===a)return e+t;var n=e.split("/");i&&n[n.length-1]||n.pop();for(var r=t.replace(/^\//,"").split("/"),o=0;o<r.length;o++){var s=r[o];".."===s?n.pop():"."!==s&&n.push(s)}return""!==n[0]&&n.unshift(""),n.join("/")}function I(t){return t.replace(/\/\//g,"/")}var T=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},b=V,w=L,M=function(t,e){return O(L(t,e))},E=O,A=k,_=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function L(t,e){for(var i,a=[],n=0,r=0,o="",s=e&&e.delimiter||"/";null!=(i=_.exec(t));){var l=i[0],h=i[1],u=i.index;if(o+=t.slice(r,u),r=u+l.length,h)o+=h[1];else{var c=t[r],d=i[2],f=i[3],p=i[4],m=i[5],v=i[6],g=i[7];o&&(a.push(o),o="");var C=null!=d&&null!=c&&c!==d,D="+"===v||"*"===v,y="?"===v||"*"===v,x=i[2]||s,S=p||m;a.push({name:f||n++,prefix:d||"",delimiter:x,optional:y,repeat:D,partial:C,asterisk:!!g,pattern:S?N(S):g?".*":"[^"+P(x)+"]+?"})}}return r<t.length&&(o+=t.substr(r)),o&&a.push(o),a}function F(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function O(t){for(var e=new Array(t.length),i=0;i<t.length;i++)"object"==typeof t[i]&&(e[i]=new RegExp("^(?:"+t[i].pattern+")$"));return function(i,a){for(var n="",r=i||{},o=(a||{}).pretty?F:encodeURIComponent,s=0;s<t.length;s++){var l=t[s];if("string"!=typeof l){var h,u=r[l.name];if(null==u){if(l.optional){l.partial&&(n+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(T(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var c=0;c<u.length;c++){if(h=o(u[c]),!e[s].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");n+=(0===c?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(u).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):o(u),!e[s].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');n+=l.prefix+h}}else n+=l}return n}}function P(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function N(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function R(t,e){return t.keys=e,t}function B(t){return t.sensitive?"":"i"}function k(t,e,i){T(e)||(i=e||i,e=[]);for(var a=(i=i||{}).strict,n=!1!==i.end,r="",o=0;o<t.length;o++){var s=t[o];if("string"==typeof s)r+=P(s);else{var l=P(s.prefix),h="(?:"+s.pattern+")";e.push(s),s.repeat&&(h+="(?:"+l+h+")*"),r+=h=s.optional?s.partial?l+"("+h+")?":"(?:"+l+"("+h+"))?":l+"("+h+")"}}var u=P(i.delimiter||"/"),c=r.slice(-u.length)===u;return a||(r=(c?r.slice(0,-u.length):r)+"(?:"+u+"(?=$))?"),r+=n?"$":a&&c?"":"(?="+u+"|$)",R(new RegExp("^"+r,B(i)),e)}function V(t,e,i){return T(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?function(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var a=0;a<i.length;a++)e.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return R(t,e)}(t,e):T(t)?function(t,e,i){for(var a=[],n=0;n<t.length;n++)a.push(V(t[n],e,i).source);return R(new RegExp("(?:"+a.join("|")+")",B(i)),e)}(t,e,i):function(t,e,i){return k(L(t,i),e,i)}(t,e,i)}b.parse=w,b.compile=M,b.tokensToFunction=E,b.tokensToRegExp=A;var H=Object.create(null);function G(t,e,i){e=e||{};try{var a=H[t]||(H[t]=b.compile(t));return e.pathMatch&&(e[0]=e.pathMatch),a(e,{pretty:!0})}catch(t){return""}finally{delete e[0]}}function Y(t,e,i,a){var n="string"==typeof t?{path:t}:t;if(n._normalized)return n;if(n.name)return o({},t);if(!n.path&&n.params&&e){(n=o({},n))._normalized=!0;var r=o(o({},e.params),n.params);if(e.name)n.name=e.name,n.params=r;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;n.path=G(s,r,e.path)}else 0;return n}var l=function(t){var e="",i="",a=t.indexOf("#");a>=0&&(e=t.slice(a),t=t.slice(0,a));var n=t.indexOf("?");return n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),{path:t,query:i,hash:e}}(n.path||""),h=e&&e.path||"/",u=l.path?S(l.path,h,i||n.append):h,c=function(t,e,i){void 0===e&&(e={});var a,n=i||f;try{a=n(t||"")}catch(t){a={}}for(var r in e)a[r]=e[r];return a}(l.query,n.query,a&&a.options.parseQuery),d=n.hash||l.hash;return d&&"#"!==d.charAt(0)&&(d="#"+d),{_normalized:!0,path:u,query:c,hash:d}}var W,X=[String,Object],U=[String,Array],z=function(){},K={name:"RouterLink",props:{to:{type:X,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:U,default:"click"}},render:function(t){var e=this,i=this.$router,a=this.$route,n=i.resolve(this.to,a,this.append),r=n.location,s=n.route,l=n.href,h={},u=i.options.linkActiveClass,c=i.options.linkExactActiveClass,d=null==u?"router-link-active":u,f=null==c?"router-link-exact-active":c,p=null==this.activeClass?d:this.activeClass,g=null==this.exactActiveClass?f:this.exactActiveClass,C=s.redirectedFrom?v(null,Y(s.redirectedFrom),null,i):s;h[g]=y(a,C),h[p]=this.exact?h[g]:function(t,e){return 0===t.path.replace(m,"/").indexOf(e.path.replace(m,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var i in e)if(!(i in t))return!1;return!0}(t.query,e.query)}(a,C);var D=function(t){$(t)&&(e.replace?i.replace(r,z):i.push(r,z))},x={click:$};Array.isArray(this.event)?this.event.forEach(function(t){x[t]=D}):x[this.event]=D;var S={class:h},I=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:s,navigate:D,isActive:h[p],isExactActive:h[g]});if(I){if(1===I.length)return I[0];if(I.length>1||!I.length)return 0===I.length?t():t("span",{},I)}if("a"===this.tag)S.on=x,S.attrs={href:l};else{var T=function t(e){if(e)for(var i,a=0;a<e.length;a++){if("a"===(i=e[a]).tag)return i;if(i.children&&(i=t(i.children)))return i}}(this.$slots.default);if(T){T.isStatic=!1;var b=T.data=o({},T.data);for(var w in b.on=b.on||{},b.on){var M=b.on[w];w in x&&(b.on[w]=Array.isArray(M)?M:[M])}for(var E in x)E in b.on?b.on[E].push(x[E]):b.on[E]=D;(T.data.attrs=o({},T.data.attrs)).href=l}else S.on=x}return t(this.tag,S,this.$slots.default)}};function $(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function j(t){if(!j.installed||W!==t){j.installed=!0,W=t;var e=function(t){return void 0!==t},i=function(t,i){var a=t.$options._parentVnode;e(a)&&e(a=a.data)&&e(a=a.registerRouteInstance)&&a(t,i)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",s),t.component("RouterLink",K);var a=t.config.optionMergeStrategies;a.beforeRouteEnter=a.beforeRouteLeave=a.beforeRouteUpdate=a.created}}var q="undefined"!=typeof window;function J(t,e,i,a){var n=e||[],r=i||Object.create(null),o=a||Object.create(null);t.forEach(function(t){!function t(e,i,a,n,r,o){var s=n.path;var l=n.name;0;var h=n.pathToRegexpOptions||{};var u=function(t,e,i){i||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return I(e.path+"/"+t)}(s,r,h.strict);"boolean"==typeof n.caseSensitive&&(h.sensitive=n.caseSensitive);var c={path:u,regex:function(t,e){var i=b(t,[],e);return i}(u,h),components:n.components||{default:n.component},instances:{},name:l,parent:r,matchAs:o,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};n.children&&n.children.forEach(function(n){var r=o?I(o+"/"+n.path):void 0;t(e,i,a,n,c,r)});i[c.path]||(e.push(c.path),i[c.path]=c);if(void 0!==n.alias)for(var d=Array.isArray(n.alias)?n.alias:[n.alias],f=0;f<d.length;++f){var p=d[f];0;var m={path:p,children:n.children};t(e,i,a,m,r,c.path||"/")}l&&(a[l]||(a[l]=c))}(n,r,o,t)});for(var s=0,l=n.length;s<l;s++)"*"===n[s]&&(n.push(n.splice(s,1)[0]),l--,s--);return{pathList:n,pathMap:r,nameMap:o}}function Z(t,e){var i=J(t),a=i.pathList,n=i.pathMap,r=i.nameMap;function o(t,i,o){var s=Y(t,i,!1,e),h=s.name;if(h){var u=r[h];if(!u)return l(null,s);var c=u.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof s.params&&(s.params={}),i&&"object"==typeof i.params)for(var d in i.params)!(d in s.params)&&c.indexOf(d)>-1&&(s.params[d]=i.params[d]);return s.path=G(u.path,s.params),l(u,s,o)}if(s.path){s.params={};for(var f=0;f<a.length;f++){var p=a[f],m=n[p];if(Q(m.regex,s.path,s.params))return l(m,s,o)}}return l(null,s)}function s(t,i){var a=t.redirect,n="function"==typeof a?a(v(t,i,null,e)):a;if("string"==typeof n&&(n={path:n}),!n||"object"!=typeof n)return l(null,i);var s=n,h=s.name,u=s.path,c=i.query,d=i.hash,f=i.params;if(c=s.hasOwnProperty("query")?s.query:c,d=s.hasOwnProperty("hash")?s.hash:d,f=s.hasOwnProperty("params")?s.params:f,h){r[h];return o({_normalized:!0,name:h,query:c,hash:d,params:f},void 0,i)}if(u){var p=function(t,e){return S(t,e.parent?e.parent.path:"/",!0)}(u,t);return o({_normalized:!0,path:G(p,f),query:c,hash:d},void 0,i)}return l(null,i)}function l(t,i,a){return t&&t.redirect?s(t,a||i):t&&t.matchAs?function(t,e,i){var a=o({_normalized:!0,path:G(i,e.params)});if(a){var n=a.matched,r=n[n.length-1];return e.params=a.params,l(r,e)}return l(null,e)}(0,i,t.matchAs):v(t,i,a,e)}return{match:o,addRoutes:function(t){J(t,a,n,r)}}}function Q(t,e,i){var a=e.match(t);if(!a)return!1;if(!i)return!0;for(var n=1,r=a.length;n<r;++n){var o=t.keys[n-1],s="string"==typeof a[n]?decodeURIComponent(a[n]):a[n];o&&(i[o.name||"pathMatch"]=s)}return!0}var tt=q&&window.performance&&window.performance.now?window.performance:Date;function et(){return tt.now().toFixed(3)}var it=et();function at(){return it}function nt(t){return it=t}var rt=Object.create(null);function ot(){var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,"");window.history.replaceState({key:at()},"",e),window.addEventListener("popstate",function(t){lt(),t.state&&t.state.key&&nt(t.state.key)})}function st(t,e,i,a){if(t.app){var n=t.options.scrollBehavior;n&&t.app.$nextTick(function(){var r=function(){var t=at();if(t)return rt[t]}(),o=n.call(t,e,i,a?r:null);o&&("function"==typeof o.then?o.then(function(t){ft(t,r)}).catch(function(t){0}):ft(o,r))})}}function lt(){var t=at();t&&(rt[t]={x:window.pageXOffset,y:window.pageYOffset})}function ht(t){return ct(t.x)||ct(t.y)}function ut(t){return{x:ct(t.x)?t.x:window.pageXOffset,y:ct(t.y)?t.y:window.pageYOffset}}function ct(t){return"number"==typeof t}var dt=/^#\d/;function ft(t,e){var i,a="object"==typeof t;if(a&&"string"==typeof t.selector){var n=dt.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(n){var r=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var i=document.documentElement.getBoundingClientRect(),a=t.getBoundingClientRect();return{x:a.left-i.left-e.x,y:a.top-i.top-e.y}}(n,r={x:ct((i=r).x)?i.x:0,y:ct(i.y)?i.y:0})}else ht(t)&&(e=ut(t))}else a&&ht(t)&&(e=ut(t));e&&window.scrollTo(e.x,e.y)}var pt,mt=q&&((-1===(pt=window.navigator.userAgent).indexOf("Android 2.")&&-1===pt.indexOf("Android 4.0")||-1===pt.indexOf("Mobile Safari")||-1!==pt.indexOf("Chrome")||-1!==pt.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history);function vt(t,e){lt();var i=window.history;try{e?i.replaceState({key:at()},"",t):i.pushState({key:nt(et())},"",t)}catch(i){window.location[e?"replace":"assign"](t)}}function gt(t){vt(t,!0)}function Ct(t,e,i){var a=function(n){n>=t.length?i():t[n]?e(t[n],function(){a(n+1)}):a(n+1)};a(0)}function Dt(t){return function(e,i,a){var r=!1,o=0,s=null;yt(t,function(t,e,i,l){if("function"==typeof t&&void 0===t.cid){r=!0,o++;var h,u=It(function(e){var n;((n=e).__esModule||St&&"Module"===n[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:W.extend(e),i.components[l]=e,--o<=0&&a()}),c=It(function(t){var e="Failed to resolve async component "+l+": "+t;s||(s=n(t)?t:new Error(e),a(s))});try{h=t(u,c)}catch(t){c(t)}if(h)if("function"==typeof h.then)h.then(u,c);else{var d=h.component;d&&"function"==typeof d.then&&d.then(u,c)}}}),r||a()}}function yt(t,e){return xt(t.map(function(t){return Object.keys(t.components).map(function(i){return e(t.components[i],t.instances[i],t,i)})}))}function xt(t){return Array.prototype.concat.apply([],t)}var St="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function It(t){var e=!1;return function(){for(var i=[],a=arguments.length;a--;)i[a]=arguments[a];if(!e)return e=!0,t.apply(this,i)}}var Tt=function(t){function e(e){t.call(this),this.name=this._name="NavigationDuplicated",this.message='Navigating to current location ("'+e.fullPath+'") is not allowed',Object.defineProperty(this,"stack",{value:(new t).stack,writable:!0,configurable:!0})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);Tt._name="NavigationDuplicated";var bt=function(t,e){this.router=t,this.base=function(t){if(!t)if(q){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=C,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function wt(t,e,i,a){var n=yt(t,function(t,a,n,r){var o=function(t,e){"function"!=typeof t&&(t=W.extend(t));return t.options[e]}(t,e);if(o)return Array.isArray(o)?o.map(function(t){return i(t,a,n,r)}):i(o,a,n,r)});return xt(a?n.reverse():n)}function Mt(t,e){if(e)return function(){return t.apply(e,arguments)}}bt.prototype.listen=function(t){this.cb=t},bt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},bt.prototype.onError=function(t){this.errorCbs.push(t)},bt.prototype.transitionTo=function(t,e,i){var a=this,n=this.router.match(t,this.current);this.confirmTransition(n,function(){a.updateRoute(n),e&&e(n),a.ensureURL(),a.ready||(a.ready=!0,a.readyCbs.forEach(function(t){t(n)}))},function(t){i&&i(t),t&&!a.ready&&(a.ready=!0,a.readyErrorCbs.forEach(function(e){e(t)}))})},bt.prototype.confirmTransition=function(t,e,i){var o=this,s=this.current,l=function(t){!r(Tt,t)&&n(t)&&(o.errorCbs.length?o.errorCbs.forEach(function(e){e(t)}):(a(),console.error(t))),i&&i(t)};if(y(t,s)&&t.matched.length===s.matched.length)return this.ensureURL(),l(new Tt(t));var h=function(t,e){var i,a=Math.max(t.length,e.length);for(i=0;i<a&&t[i]===e[i];i++);return{updated:e.slice(0,i),activated:e.slice(i),deactivated:t.slice(i)}}(this.current.matched,t.matched),u=h.updated,c=h.deactivated,d=h.activated,f=[].concat(function(t){return wt(t,"beforeRouteLeave",Mt,!0)}(c),this.router.beforeHooks,function(t){return wt(t,"beforeRouteUpdate",Mt)}(u),d.map(function(t){return t.beforeEnter}),Dt(d));this.pending=t;var p=function(e,i){if(o.pending!==t)return l();try{e(t,s,function(t){!1===t||n(t)?(o.ensureURL(!0),l(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(l(),"object"==typeof t&&t.replace?o.replace(t):o.push(t)):i(t)})}catch(t){l(t)}};Ct(f,p,function(){var i=[];Ct(function(t,e,i){return wt(t,"beforeRouteEnter",function(t,a,n,r){return function(t,e,i,a,n){return function(r,o,s){return t(r,o,function(t){"function"==typeof t&&a.push(function(){!function t(e,i,a,n){i[a]&&!i[a]._isBeingDestroyed?e(i[a]):n()&&setTimeout(function(){t(e,i,a,n)},16)}(t,e.instances,i,n)}),s(t)})}}(t,n,r,e,i)})}(d,i,function(){return o.current===t}).concat(o.router.resolveHooks),p,function(){if(o.pending!==t)return l();o.pending=null,e(t),o.router.app&&o.router.app.$nextTick(function(){i.forEach(function(t){t()})})})})},bt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(i){i&&i(t,e)})};var Et=function(t){function e(e,i){var a=this;t.call(this,e,i);var n=e.options.scrollBehavior,r=mt&&n;r&&ot();var o=At(this.base);window.addEventListener("popstate",function(t){var i=a.current,n=At(a.base);a.current===C&&n===o||a.transitionTo(n,function(t){r&&st(e,t,i,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,i){var a=this,n=this.current;this.transitionTo(t,function(t){vt(I(a.base+t.fullPath)),st(a.router,t,n,!1),e&&e(t)},i)},e.prototype.replace=function(t,e,i){var a=this,n=this.current;this.transitionTo(t,function(t){gt(I(a.base+t.fullPath)),st(a.router,t,n,!1),e&&e(t)},i)},e.prototype.ensureURL=function(t){if(At(this.base)!==this.current.fullPath){var e=I(this.base+this.current.fullPath);t?vt(e):gt(e)}},e.prototype.getCurrentLocation=function(){return At(this.base)},e}(bt);function At(t){var e=decodeURI(window.location.pathname);return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var _t=function(t){function e(e,i,a){t.call(this,e,i),a&&function(t){var e=At(t);if(!/^\/#/.test(e))return window.location.replace(I(t+"/#"+e)),!0}(this.base)||Lt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router.options.scrollBehavior,i=mt&&e;i&&ot(),window.addEventListener(mt?"popstate":"hashchange",function(){var e=t.current;Lt()&&t.transitionTo(Ft(),function(a){i&&st(t.router,a,e,!0),mt||Nt(a.fullPath)})})},e.prototype.push=function(t,e,i){var a=this,n=this.current;this.transitionTo(t,function(t){Pt(t.fullPath),st(a.router,t,n,!1),e&&e(t)},i)},e.prototype.replace=function(t,e,i){var a=this,n=this.current;this.transitionTo(t,function(t){Nt(t.fullPath),st(a.router,t,n,!1),e&&e(t)},i)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Ft()!==e&&(t?Pt(e):Nt(e))},e.prototype.getCurrentLocation=function(){return Ft()},e}(bt);function Lt(){var t=Ft();return"/"===t.charAt(0)||(Nt("/"+t),!1)}function Ft(){var t=window.location.href,e=t.indexOf("#");if(e<0)return"";var i=(t=t.slice(e+1)).indexOf("?");if(i<0){var a=t.indexOf("#");t=a>-1?decodeURI(t.slice(0,a))+t.slice(a):decodeURI(t)}else i>-1&&(t=decodeURI(t.slice(0,i))+t.slice(i));return t}function Ot(t){var e=window.location.href,i=e.indexOf("#");return(i>=0?e.slice(0,i):e)+"#"+t}function Pt(t){mt?vt(Ot(t)):window.location.hash=t}function Nt(t){mt?gt(Ot(t)):window.location.replace(Ot(t))}var Rt=function(t){function e(e,i){t.call(this,e,i),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,i){var a=this;this.transitionTo(t,function(t){a.stack=a.stack.slice(0,a.index+1).concat(t),a.index++,e&&e(t)},i)},e.prototype.replace=function(t,e,i){var a=this;this.transitionTo(t,function(t){a.stack=a.stack.slice(0,a.index).concat(t),e&&e(t)},i)},e.prototype.go=function(t){var e=this,i=this.index+t;if(!(i<0||i>=this.stack.length)){var a=this.stack[i];this.confirmTransition(a,function(){e.index=i,e.updateRoute(a)},function(t){r(Tt,t)&&(e.index=i)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(bt),Bt=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Z(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!mt&&!1!==t.fallback,this.fallback&&(e="hash"),q||(e="abstract"),this.mode=e,e){case"history":this.history=new Et(this,t.base);break;case"hash":this.history=new _t(this,t.base,this.fallback);break;case"abstract":this.history=new Rt(this,t.base);break;default:0}},kt={currentRoute:{configurable:!0}};function Vt(t,e){return t.push(e),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}Bt.prototype.match=function(t,e,i){return this.matcher.match(t,e,i)},kt.currentRoute.get=function(){return this.history&&this.history.current},Bt.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",function(){var i=e.apps.indexOf(t);i>-1&&e.apps.splice(i,1),e.app===t&&(e.app=e.apps[0]||null)}),!this.app){this.app=t;var i=this.history;if(i instanceof Et)i.transitionTo(i.getCurrentLocation());else if(i instanceof _t){var a=function(){i.setupListeners()};i.transitionTo(i.getCurrentLocation(),a,a)}i.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},Bt.prototype.beforeEach=function(t){return Vt(this.beforeHooks,t)},Bt.prototype.beforeResolve=function(t){return Vt(this.resolveHooks,t)},Bt.prototype.afterEach=function(t){return Vt(this.afterHooks,t)},Bt.prototype.onReady=function(t,e){this.history.onReady(t,e)},Bt.prototype.onError=function(t){this.history.onError(t)},Bt.prototype.push=function(t,e,i){var a=this;if(!e&&!i&&"undefined"!=typeof Promise)return new Promise(function(e,i){a.history.push(t,e,i)});this.history.push(t,e,i)},Bt.prototype.replace=function(t,e,i){var a=this;if(!e&&!i&&"undefined"!=typeof Promise)return new Promise(function(e,i){a.history.replace(t,e,i)});this.history.replace(t,e,i)},Bt.prototype.go=function(t){this.history.go(t)},Bt.prototype.back=function(){this.go(-1)},Bt.prototype.forward=function(){this.go(1)},Bt.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},Bt.prototype.resolve=function(t,e,i){var a=Y(t,e=e||this.history.current,i,this),n=this.match(a,e),r=n.redirectedFrom||n.fullPath;return{location:a,route:n,href:function(t,e,i){var a="hash"===i?"#"+e:e;return t?I(t+"/"+a):a}(this.history.base,r,this.mode),normalizedTo:a,resolved:n}},Bt.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==C&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Bt.prototype,kt),Bt.install=j,Bt.version="3.1.3",q&&window.Vue&&window.Vue.use(Bt),e.a=Bt},"/vN/":function(t,e,i){var a=i("Icdr"),n=i("/gZK"),r=i("/gxq"),o=i("vXqC"),s=i("wWR3").getPercentWithPrecision,l=i("kQD9"),h=i("5KBG").retrieveRawAttr,u=a.extendSeriesModel({type:"series.pie",init:function(t){u.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){u.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return n(this,["value"])},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),i=[],a=0,n=t.count();a<n;a++)i.push({name:t.getName(a),value:t.get(e,a),selected:h(t,a,"selected")});return i},getDataParams:function(t){var e=this.getData(),i=u.superCall(this,"getDataParams",t),a=[];return e.each(e.mapDimension("value"),function(t){a.push(t)}),i.percent=s(a,t,e.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(t){o.defaultEmphasis(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});r.mixin(u,l);var c=u;t.exports=c},"/xsj":function(t,e){var i=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],a={color:i,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],i]};t.exports=a},"02w1":function(t,e,i){"use strict";e.__esModule=!0,e.removeResizeListener=e.addResizeListener=void 0;var a,n=i("z+gd"),r=(a=n)&&a.__esModule?a:{default:a};var o="undefined"==typeof window,s=function(t){var e=t,i=Array.isArray(e),a=0;for(e=i?e:e[Symbol.iterator]();;){var n;if(i){if(a>=e.length)break;n=e[a++]}else{if((a=e.next()).done)break;n=a.value}var r=n.target.__resizeListeners__||[];r.length&&r.forEach(function(t){t()})}};e.addResizeListener=function(t,e){o||(t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new r.default(s),t.__ro__.observe(t)),t.__resizeListeners__.push(e))},e.removeResizeListener=function(t,e){t&&t.__resizeListeners__&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||t.__ro__.disconnect())}},"06OY":function(t,e,i){var a=i("3Eo+")("meta"),n=i("EqjI"),r=i("D2L2"),o=i("evD5").f,s=0,l=Object.isExtensible||function(){return!0},h=!i("S82l")(function(){return l(Object.preventExtensions({}))}),u=function(t){o(t,a,{value:{i:"O"+ ++s,w:{}}})},c=t.exports={KEY:a,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,a)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[a].i},getWeak:function(t,e){if(!r(t,a)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[a].w},onFreeze:function(t){return h&&c.NEED&&l(t)&&!r(t,a)&&u(t),t}}},"0BNI":function(t,e,i){var a=i("/gxq"),n=i("0sHC"),r=i("Pdtn"),o=i("43ae"),s=i("vjPX"),l=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function h(t,e,i){e[1]>e[0]&&(e=e.slice().reverse());var a=t.coordToPoint([e[0],i]),n=t.coordToPoint([e[1],i]);return{x1:a[0],y1:a[1],x2:n[0],y2:n[1]}}function u(t){return t.getRadiusAxis().inverse?0:1}function c(t){var e=t[0],i=t[t.length-1];e&&i&&Math.abs(Math.abs(e.coord-i.coord)-360)<1e-4&&t.pop()}var d=o.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=t.axis,n=i.polar,r=n.getRadiusAxis().getExtent(),o=i.getTicksCoords(),s=a.map(i.getViewLabels(),function(t){return(t=a.clone(t)).coord=i.dataToCoord(t.tickValue),t});c(s),c(o),a.each(l,function(e){!t.get(e+".show")||i.scale.isBlank()&&"axisLine"!==e||this["_"+e](t,n,o,r,s)},this)}},_axisLine:function(t,e,i,a){var r,o=t.getModel("axisLine.lineStyle"),s=u(e),l=s?0:1;(r=0===a[l]?new n.Circle({shape:{cx:e.cx,cy:e.cy,r:a[s]},style:o.getLineStyle(),z2:1,silent:!0}):new n.Ring({shape:{cx:e.cx,cy:e.cy,r:a[s],r0:a[l]},style:o.getLineStyle(),z2:1,silent:!0})).style.fill=null,this.group.add(r)},_axisTick:function(t,e,i,r){var o=t.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=r[u(e)],c=a.map(i,function(t){return new n.Line({shape:h(e,[l,l+s],t.coord)})});this.group.add(n.mergePath(c,{style:a.defaults(o.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_axisLabel:function(t,e,i,o,l){var h=t.getCategories(!0),c=t.getModel("axisLabel"),d=c.get("margin"),f=t.get("triggerEvent");a.each(l,function(i,a){var l=c,p=i.tickValue,m=o[u(e)],v=e.coordToPoint([m+d,i.coord]),g=e.cx,C=e.cy,D=Math.abs(v[0]-g)/m<.3?"center":v[0]>g?"left":"right",y=Math.abs(v[1]-C)/m<.3?"middle":v[1]>C?"top":"bottom";h&&h[p]&&h[p].textStyle&&(l=new r(h[p].textStyle,c,c.ecModel));var x=new n.Text({silent:s.isLabelSilent(t)});this.group.add(x),n.setTextStyle(x.style,l,{x:v[0],y:v[1],textFill:l.getTextColor()||t.get("axisLine.lineStyle.color"),text:i.formattedLabel,textAlign:D,textVerticalAlign:y}),f&&(x.eventData=s.makeAxisEventDataBase(t),x.eventData.targetType="axisLabel",x.eventData.value=i.rawLabel)},this)},_splitLine:function(t,e,i,r){var o=t.getModel("splitLine").getModel("lineStyle"),s=o.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=0;c<i.length;c++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new n.Line({shape:h(e,r,i[c].coord)}))}for(c=0;c<u.length;c++)this.group.add(n.mergePath(u[c],{style:a.defaults({stroke:s[c%s.length]},o.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,i,r){if(i.length){var o=t.getModel("splitArea").getModel("areaStyle"),s=o.get("color"),l=0;s=s instanceof Array?s:[s];for(var h=[],u=Math.PI/180,c=-i[0].coord*u,d=Math.min(r[0],r[1]),f=Math.max(r[0],r[1]),p=t.get("clockwise"),m=1;m<i.length;m++){var v=l++%s.length;h[v]=h[v]||[],h[v].push(new n.Sector({shape:{cx:e.cx,cy:e.cy,r0:d,r:f,startAngle:c,endAngle:-i[m].coord*u,clockwise:p},silent:!0})),c=-i[m].coord*u}for(m=0;m<h.length;m++)this.group.add(n.mergePath(h[m],{style:a.defaults({fill:s[m%s.length]},o.getAreaStyle()),silent:!0}))}}});t.exports=d},"0BOU":function(t,e,i){var a=i("/gxq"),n=i("1Xuh"),r=i("wWR3"),o=i("rctg");function s(t,e,i){this._model=t}function l(t,e,i,a){var n=i.calendarModel,r=i.seriesModel,o=n?n.coordinateSystem:r?r.coordinateSystem:null;return o===this?o[t](a):null}s.prototype={constructor:s,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=r.parseDate(t)).getFullYear(),i=t.getMonth()+1;i=i<10?"0"+i:i;var a=t.getDate();a=a<10?"0"+a:a;var n=t.getDay();return{y:e,m:i,d:a,day:n=Math.abs((n+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+i+"-"+a,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t))},update:function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.get("cellSize").slice(),s=this._model.getBoxLayoutParams(),l="horizontal"===this._orient?[i,7]:[7,i];a.each([0,1],function(t){c(o,t)&&(s[r[t]]=o[t]*l[t])});var h={width:e.getWidth(),height:e.getHeight()},u=this._rect=n.getLayoutRect(s,h);function c(t,e){return null!=t[e]&&"auto"!==t[e]}a.each([0,1],function(t){c(o,t)||(o[t]=u[r[t]]/l[t])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(t,e){a.isArray(t)&&(t=t[0]),null==e&&(e=!0);var i=this.getDateInfo(t),n=this._rangeInfo,r=i.formatedDate;if(e&&!(i.time>=n.start.time&&i.time<n.end.time+864e5))return[NaN,NaN];var o=i.day,s=this._getRangeInfo([n.start.time,r]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,a=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,e-1,a):this._getDateByWeeksAndDay(e,i-1,a)},convertToPixel:a.curry(l,"dataToPoint"),convertFromPixel:a.curry(l,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),e=t;if(a.isArray(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var i=this.getDateInfo(e),n=i.date;n.setMonth(n.getMonth()+1);var r=this.getNextNDay(n,-1);t=[i.formatedDate,r.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var o=this._getRangeInfo(t);return o.start.time>o.end.time&&t.reverse(),t},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var i=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,a=new Date(t[0].time),n=a.getDate(),r=t[1].date.getDate();if(a.setDate(n+i-1),a.getDate()!==r)for(var o=a.getTime()-t[1].time>0?1:-1;a.getDate()!==r&&(a.getTime()-t[1].time)*o>0;)i-=o,a.setDate(n+i-1);var s=Math.floor((i+t[0].day+6)/7),l=e?1-s:s-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:s,nthWeek:l,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,i){var a=this._getRangeInfo(i);if(t>a.weeks||0===t&&e<a.fweek||t===a.weeks&&e>a.lweek)return!1;var n=7*(t-1)-a.fweek+e,r=new Date(a.start.time);return r.setDate(a.start.d+n),this.getDateInfo(r)}},s.dimensions=s.prototype.dimensions,s.getDimensionsInfo=s.prototype.getDimensionsInfo,s.create=function(t,e){var i=[];return t.eachComponent("calendar",function(a){var n=new s(a,t,e);i.push(n),a.coordinateSystem=n}),t.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("calendarIndex")||0])}),i},o.register("calendar",s);var h=s;t.exports=h},"0MNY":function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=a.createHashMap,r=a.isString,o=a.isArray,s=a.each,l=(a.assert,i("jDhh").parseXML),h=n(),u={registerMap:function(t,e,i){var a;return o(e)?a=e:e.svg?a=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(i=e.specialAreas,e=e.geoJson),a=[{type:"geoJSON",source:e,specialAreas:i}]),s(a,function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON"),(0,c[e])(t)}),h.set(t,a)},retrieveMap:function(t){return h.get(t)}},c={geoJSON:function(t){var e=t.source;t.geoJSON=r(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=l(t.source)}};t.exports=u},"0O1a":function(t,e,i){var a=i("Icdr"),n=i("DZTl");i("Osoq"),i("w2H/"),i("mlpt"),i("XiVP"),i("H4Wn"),a.registerPreprocessor(n)},"0fQF":function(t,e){function i(){}function a(t,e,i,a){for(var n=0,r=e.length,o=0,s=0;n<r;n++){var l=e[n];if(l.removed){for(h=[],u=s;u<s+l.count;u++)h.push(u);l.indices=h,s+=l.count}else{for(var h=[],u=o;u<o+l.count;u++)h.push(u);l.indices=h,o+=l.count,l.added||(s+=l.count)}}return e}i.prototype={diff:function(t,e,i){i||(i=function(t,e){return t===e}),this.equals=i;var n=this;t=t.slice();var r=(e=e.slice()).length,o=t.length,s=1,l=r+o,h=[{newPos:-1,components:[]}],u=this.extractCommon(h[0],e,t,0);if(h[0].newPos+1>=r&&u+1>=o){for(var c=[],d=0;d<e.length;d++)c.push(d);return[{indices:c,count:e.length}]}function f(){for(var i=-1*s;i<=s;i+=2){var l,u=h[i-1],c=h[i+1],d=(c?c.newPos:0)-i;u&&(h[i-1]=void 0);var f=u&&u.newPos+1<r,p=c&&0<=d&&d<o;if(f||p){if(!f||p&&u.newPos<c.newPos?(l={newPos:(m=c).newPos,components:m.components.slice(0)},n.pushComponent(l.components,void 0,!0)):((l=u).newPos++,n.pushComponent(l.components,!0,void 0)),d=n.extractCommon(l,e,t,i),l.newPos+1>=r&&d+1>=o)return a(n,l.components,e,t);h[i]=l}else h[i]=void 0}var m;s++}for(;s<=l;){var p=f();if(p)return p}},pushComponent:function(t,e,i){var a=t[t.length-1];a&&a.added===e&&a.removed===i?t[t.length-1]={count:a.count+1,added:e,removed:i}:t.push({count:1,added:e,removed:i})},extractCommon:function(t,e,i,a){for(var n=e.length,r=i.length,o=t.newPos,s=o-a,l=0;o+1<n&&s+1<r&&this.equals(e[o+1],i[s+1]);)o++,s++,l++;return l&&t.components.push({count:l}),t.newPos=o,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var n=new i;t.exports=function(t,e,i){return n.diff(t,e,i)}},"0jKn":function(t,e,i){var a=i("eZxa"),n=i("cI6i"),r=i("/gxq").each;function o(t){return parseInt(t,10)}function s(t,e){n.initVML(),this.root=t,this.storage=e;var i=document.createElement("div"),a=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",a.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=a,this._vmlViewport=i,this.resize();var r=e.delFromStorage,o=e.addToStorage;e.delFromStorage=function(t){r.call(e,t),t&&t.onRemove&&t.onRemove(a)},e.addToStorage=function(t){t.onAdd&&t.onAdd(a),o.call(e,t)},this._firstPaint=!0}s.prototype={constructor:s,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var a=t[i];a.invisible||a.ignore?(a.__alreadyNotVisible||a.onRemove(e),a.__alreadyNotVisible=!0):(a.__alreadyNotVisible&&a.onAdd(e),a.__alreadyNotVisible=!1,a.__dirty&&(a.beforeBrush&&a.beforeBrush(),(a.brushVML||a.brush).call(a,e),a.afterBrush&&a.afterBrush())),a.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!==t||this._height!==e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||o(e.width))-o(e.paddingLeft)-o(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||o(e.height))-o(e.paddingTop)-o(e.paddingBottom)|0}},r(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;s.prototype[t]=(e=t,function(){a('In IE8.0 VML mode painter not support method "'+e+'"')})});var l=s;t.exports=l},"0kY3":function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=114)}({0:function(t,e,i){"use strict";function a(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return a})},10:function(t,e){t.exports=i("HJMx")},114:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["el-input-number",t.inputNumberSize?"el-input-number--"+t.inputNumberSize:"",{"is-disabled":t.inputNumberDisabled},{"is-without-controls":!t.controls},{"is-controls-right":t.controlsAtRight}],on:{dragstart:function(t){t.preventDefault()}}},[t.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":t.minDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.decrease(e):null}}},[i("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-down":"minus")})]):t._e(),t.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":t.maxDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.increase(e):null}}},[i("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-up":"plus")})]):t._e(),i("el-input",{ref:"input",attrs:{value:t.displayValue,placeholder:t.placeholder,disabled:t.inputNumberDisabled,size:t.inputNumberSize,max:t.max,min:t.min,name:t.name,label:t.label},on:{blur:t.handleBlur,focus:t.handleFocus,input:t.handleInput,change:t.handleInputChange},nativeOn:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.increase(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.decrease(e)):null}]}})],1)};a._withStripped=!0;var n=i(10),r=i.n(n),o=i(22),s=i.n(o),l=i(30),h={name:"ElInputNumber",mixins:[s()("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:l.a},components:{ElInput:r.a},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(t){return t>=0&&t===parseInt(t,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(t){var e=void 0===t?t:Number(t);if(void 0!==e){if(isNaN(e))return;if(this.stepStrictly){var i=this.getPrecision(this.step),a=Math.pow(10,i);e=Math.round(e/this.step)*a*this.step/a}void 0!==this.precision&&(e=this.toPrecision(e,this.precision))}e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),this.currentValue=e,this.userInput=null,this.$emit("input",e)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var t=this.value,e=this.step,i=this.getPrecision,a=this.precision,n=i(e);return void 0!==a?(n>a&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),a):Math.max(i(t),n)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var t=this.currentValue;if("number"==typeof t){if(this.stepStrictly){var e=this.getPrecision(this.step),i=Math.pow(10,e);t=Math.round(t/this.step)*i*this.step/i}void 0!==this.precision&&(t=t.toFixed(this.precision))}return t}},methods:{toPrecision:function(t,e){return void 0===e&&(e=this.numPrecision),parseFloat(Math.round(t*Math.pow(10,e))/Math.pow(10,e))},getPrecision:function(t){if(void 0===t)return 0;var e=t.toString(),i=e.indexOf("."),a=0;return-1!==i&&(a=e.length-i-1),a},_increase:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*t+i*e)/i)},_decrease:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*t-i*e)/i)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var t=this.value||0,e=this._increase(t,this.step);this.setCurrentValue(e)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var t=this.value||0,e=this._decrease(t,this.step);this.setCurrentValue(e)}},handleBlur:function(t){this.$emit("blur",t)},handleFocus:function(t){this.$emit("focus",t)},setCurrentValue:function(t){var e=this.currentValue;"number"==typeof t&&void 0!==this.precision&&(t=this.toPrecision(t,this.precision)),t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),e!==t&&(this.userInput=null,this.$emit("input",t),this.$emit("change",t,e),this.currentValue=t)},handleInput:function(t){this.userInput=t},handleInputChange:function(t){var e=""===t?void 0:Number(t);isNaN(e)&&""!==t||this.setCurrentValue(e),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var t=this.$refs.input.$refs.input;t.setAttribute("role","spinbutton"),t.setAttribute("aria-valuemax",this.max),t.setAttribute("aria-valuemin",this.min),t.setAttribute("aria-valuenow",this.currentValue),t.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){this.$refs&&this.$refs.input&&this.$refs.input.$refs.input.setAttribute("aria-valuenow",this.currentValue)}},u=i(0),c=Object(u.a)(h,a,[],!1,null,null,null);c.options.__file="packages/input-number/src/input-number.vue";var d=c.exports;d.install=function(t){t.component(d.name,d)};e.default=d},2:function(t,e){t.exports=i("2kvA")},22:function(t,e){t.exports=i("1oZe")},30:function(t,e,i){"use strict";var a=i(2);e.a={bind:function(t,e,i){var n=null,r=void 0,o=function(){return i.context[e.expression].apply()},s=function(){Date.now()-r<100&&o(),clearInterval(n),n=null};Object(a.on)(t,"mousedown",function(t){0===t.button&&(r=Date.now(),Object(a.once)(document,"mouseup",s),clearInterval(n),n=setInterval(o,100))})}}}})},"0nGg":function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("dZZy"),o=i("6n1D"),s=i("5Mek"),l=i("YpIy"),h=i("NKek").onIrrelevantElement,u=i("0sHC"),c=i("Goha"),d=i("hD/x").getNodeGlobalScale,f="__focusNodeAdjacency",p=["itemStyle","opacity"],m=["lineStyle","opacity"];function v(t,e){var i=t.getVisual("opacity");return null!=i?i:t.getModel().get(e)}function g(t,e,i){var a=t.getGraphicEl(),n=v(t,e);null!=i&&(null==n&&(n=1),n*=i),a.downplay&&a.downplay(),a.traverse(function(t){if(!t.isGroup){var e=t.lineLabelOriginalOpacity;null!=e&&null==i||(e=n),t.setStyle("opacity",e)}})}function C(t,e){var i=v(t,e),a=t.getGraphicEl();a.traverse(function(t){!t.isGroup&&t.setStyle("opacity",i)}),a.highlight&&a.highlight()}var D=a.extendChartView({type:"graph",init:function(t,e){var i=new r,a=new o,n=this.group;this._controller=new s(e.getZr()),this._controllerHost={target:n},n.add(i.group),n.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},render:function(t,e,i){var a=t.coordinateSystem;this._model=t;var n=this._symbolDraw,r=this._lineDraw,o=this.group;if("view"===a.type){var s={position:a.position,scale:a.scale};this._firstRender?o.attr(s):u.updateProps(o,s,t)}c(t.getGraph(),d(t));var l=t.getData();n.updateData(l);var h=t.getEdgeData();r.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,e,i),clearTimeout(this._layoutTimeout);var p=t.forceLayout,m=t.get("force.layoutAnimation");p&&this._startForceLayoutIteration(p,m),l.eachItemGraphicEl(function(e,a){var n=l.getItemModel(a);e.off("drag").off("dragend");var r=n.get("draggable");r&&e.on("drag",function(){p&&(p.warmUp(),!this._layouting&&this._startForceLayoutIteration(p,m),p.setFixed(a),l.setItemLayout(a,e.position))},this).on("dragend",function(){p&&p.setUnfixed(a)},this),e.setDraggable(r&&p),e[f]&&e.off("mouseover",e[f]),e.__unfocusNodeAdjacency&&e.off("mouseout",e.__unfocusNodeAdjacency),n.get("focusNodeAdjacency")&&(e.on("mouseover",e[f]=function(){i.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex})}),e.on("mouseout",e.__unfocusNodeAdjacency=function(){i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))},this),l.graph.eachEdge(function(e){var a=e.getGraphicEl();a[f]&&a.off("mouseover",a[f]),a.__unfocusNodeAdjacency&&a.off("mouseout",a.__unfocusNodeAdjacency),e.getModel().get("focusNodeAdjacency")&&(a.on("mouseover",a[f]=function(){i.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,edgeDataIndex:e.dataIndex})}),a.on("mouseout",a.__unfocusNodeAdjacency=function(){i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))});var v="circular"===t.get("layout")&&t.get("circular.rotateLabel"),g=l.getLayout("cx"),C=l.getLayout("cy");l.eachItemGraphicEl(function(t,e){var i=l.getItemModel(e).get("label.rotate")||0,a=t.getSymbolPath();if(v){var n=l.getItemLayout(e),r=Math.atan2(n[1]-C,n[0]-g);r<0&&(r=2*Math.PI+r);var o=n[0]<g;o&&(r-=Math.PI);var s=o?"left":"right";u.modifyLabelStyle(a,{textRotation:-r,textPosition:s,textOrigin:"center"},{textPosition:s})}else u.modifyLabelStyle(a,{textRotation:i*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(t,e,i,a){var r=this._model.getData().graph,o=a.dataIndex,s=a.edgeDataIndex,l=r.getNodeByIndex(o),h=r.getEdgeByIndex(s);(l||h)&&(r.eachNode(function(t){g(t,p,.1)}),r.eachEdge(function(t){g(t,m,.1)}),l&&(C(l,p),n.each(l.edges,function(t){t.dataIndex<0||(C(t,m),C(t.node1,p),C(t.node2,p))})),h&&(C(h,m),C(h.node1,p),C(h.node2,p)))},unfocusNodeAdjacency:function(t,e,i,a){var n=this._model.getData().graph;n.eachNode(function(t){g(t,p)}),n.eachEdge(function(t){g(t,m)})},_startForceLayoutIteration:function(t,e){var i=this;!function a(){t.step(function(t){i.updateLayout(i._model),(i._layouting=!t)&&(e?i._layoutTimeout=setTimeout(a,16):a())})}()},_updateController:function(t,e,i){var a=this._controller,n=this._controllerHost,r=this.group;a.setPointerChecker(function(e,a,n){var o=r.getBoundingRect();return o.applyTransform(r.transform),o.contain(a,n)&&!h(e,i,t)}),"view"===t.coordinateSystem.type?(a.enable(t.get("roam")),n.zoomLimit=t.get("scaleLimit"),n.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(e){l.updateViewOnPan(n,e.dx,e.dy),i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){l.updateViewOnZoom(n,e.scale,e.originX,e.originY),i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),this._updateNodeAndLinkScale(),c(t.getGraph(),d(t)),this._lineDraw.updateLayout()},this)):a.disable()},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),i=d(t),a=[i,i];e.eachItemGraphicEl(function(t,e){t.attr("scale",a)})},updateLayout:function(t){c(t.getGraph(),d(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});t.exports=D},"0pMY":function(t,e,i){var a=i("/gxq"),n=i("dCQY"),r=i("FIAY").toolbox.brush;function o(t,e,i){this.model=t,this.ecModel=e,this.api=i,this._brushType,this._brushMode}o.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:a.clone(r.title)};var s=o.prototype;s.render=s.updateView=function(t,e,i){var n,r,o;e.eachComponent({mainType:"brush"},function(t){n=t.brushType,r=t.brushOption.brushMode||"single",o|=t.areas.length}),this._brushType=n,this._brushMode=r,a.each(t.get("type",!0),function(e){t.setIconStatus(e,("keep"===e?"multiple"===r:"clear"===e?o:e===n)?"emphasis":"normal")})},s.getIcons=function(){var t=this.model,e=t.get("icon",!0),i={};return a.each(t.get("type",!0),function(t){e[t]&&(i[t]=e[t])}),i},s.onclick=function(t,e,i){var a=this._brushType,n=this._brushMode;"clear"===i?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?a:a!==i&&i,brushMode:"keep"===i?"multiple"===n?"single":"multiple":n}})},n.register("brush",o);var l=o;t.exports=l},"0pxj":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});v(a("//Fk"));var n,r=v(a("j9JH")),o=v(a("HSQo")),s=v(a("OvRC")),l=v(a("c/Tr")),h=v(a("pFYg")),u=v(a("bOdI")),c=v(a("lHA8")),d=v(a("BO1k")),f=v(a("mvHQ")),p=v(a("ifoU")),m=v(a("7t+N"));function v(t){return t&&t.__esModule?t:{default:t}}var g={Chart:{Log:console.log,Warn:console.warn},Complier:{Log:console.log,Warn:console.warn},JSTable:{Log:console.log,Warn:console.warn}};function C(){}C.HttpRequest=function(t){m.default.ajax({url:t.url,data:t.data,type:t.type,dataType:t.dataType,async:t.async,success:t.success,error:t.error})};var D={MINUTE_ID:101,MULTIDAY_MINUTE_ID:102,HISTORY_MINUTE_ID:103,KLINE_DAY_ID:0,KLINE_WEEK_ID:1,KLINE_TWOWEEK_ID:21,KLINE_MONTH_ID:2,KLINE_QUARTER_ID:9,KLINE_YEAR_ID:3,KLINE_MINUTE_ID:4,KLINE_5_MINUTE_ID:5,KLINE_15_MINUTE_ID:6,KLINE_30_MINUTE_ID:7,KLINE_60_MINUTE_ID:8};var S=new function(){this.DataMap=new p.default,this.Get=function(t){return this.DataMap.has(t)?this.DataMap.get(t):null},this.Add=function(t){this.DataMap.set(t.ID,t)}};function I(){this.DataMap=new p.default([["MA",this.MA],["均线",this.MA],["MA4",this.MA4],["MA5",this.MA5],["MA6",this.MA6],["MA7",this.MA7],["MA8",this.MA8],["BOLL",this.BOLL],["BOLL副图",this.BOLL2],["BBI",this.BBI],["DKX",this.DKX],["MIKE",this.MIKE],["PBX",this.PBX],["ENE",this.ENE],["MACD",this.MACD],["KDJ",this.KDJ],["MACD2",this.MACD2],["VOL",this.VOL],["RSI",this.RSI],["BRAR",this.BRAR],["WR",this.WR],["BIAS",this.BIAS],["OBV",this.OBV],["DMI",this.DMI],["CR",this.CR],["PSY",this.PSY],["CCI",this.CCI],["DMA",this.DMA],["TRIX",this.TRIX],["VR",this.VR],["EMV",this.EMV],["ROC",this.ROC],["MTM",this.MTM],["FSL",this.FSL],["CYR",this.CYR],["MASS",this.MASS],["WAD",this.WAD],["CHO",this.CHO],["ADTM",this.ADTM],["HSL",this.HSL],["BIAS36",this.BIAS36],["BIAS_QL",this.BIAS_QL],["DPO",this.DPO],["OSC",this.OSC],["ATR",this.ATR],["NVI",this.NVI],["PVI",this.PVI],["UOS",this.UOS],["CYW",this.CYW],["LON",this.LON],["NDB",this.NDB],["SKDJ",this.SKDJ],["KD",this.KD],["FKX",this.FKX],["DKCOL",this.DKCOL],["UDL",this.UDL],["MFI",this.MFI],["LWR",this.LWR],["MARSI",this.MARSI],["CYD",this.CYD],["CYF",this.CYF],["TAPI",this.TAPI],["VMACD",this.VMACD],["QACD",this.QACD],["VPT",this.VPT],["WVAD",this.WVAD],["DBQR",this.DBQR],["JS",this.JS],["CYE",this.CYE],["QR",this.QR],["GDX",this.GDX],["JLHB",this.JLHB],["PCNT",this.PCNT],["BTX",this.BTX],["AMO",this.AMO],["VRSI",this.VRSI],["HSCOL",this.HSCOL],["DBQRV",this.DBQRV],["DBLB",this.DBLB],["ACD",this.ACD],["EXPMA",this.EXPMA],["EXPMA_S",this.EXPMA_S],["HMA",this.HMA],["LMA",this.LMA],["VMA",this.VMA],["AMV",this.AMV],["BBIBOLL",this.BBIBOLL],["ALLIGAT",this.ALLIGAT],["ZX",this.ZX],["XS",this.XS],["XS2",this.XS2],["SG-XDT",this.SG_XDT],["SG-SMX",this.SG_SMX],["SG-LB",this.SG_LB],["SG-PF",this.SG_PF],["RAD",this.RAD],["SHT",this.SHT],["ZLJC",this.ZLJC],["ZLMM",this.ZLMM],["SLZT",this.SLZT],["ADVOL",this.ADVOL],["CYC",this.CYC],["CYS",this.CYS],["CYQKL",this.CYQKL],["SCR",this.SCR],["ASR",this.ASR],["SAR",this.SAR],["TJCJL",this.TJCJL],["量比",this.VOLRate],["平均K线",this.HeikinAshi],["ADL",this.ADL],["SQJZ",this.SQJZ],["XT",this.XT],["CFJT",this.CFJT],["CYX",this.CYX],["WAVE",this.WAVE],["VOL-TDX",this.VOL_TDX],["EMPTY",this.EMPTY],["神奇九转",this.NineTurns],["EMA",this.EMA3],["EMA4",this.EMA4],["EMA5",this.EMA5],["EMA6",this.EMA6],["散户线",this.ShareholderCount],["NXTS",this.NXTS],["FKX",this.FKX],["两融资金",this.Margin4],["ZSDB",this.ZSDB],["CJL2",this.CJL],["ASI",this.ASI],["DC",this.DC],["DEMA",this.DEMA],["VWAP",this.VWAP],["飞龙四式",this.Dragon4_Main],["飞龙四式-附图",this.Dragon4_Fig],["资金分析",this.FundsAnalysis],["融资占比",this.MarginProportion],["负面新闻",this.NewsNegative],["涨跌趋势",this.UpDownAnalyze],["北上资金",this.HK2SHSZ],["股东人数",this.ShareHolder],["两融余额",this.Margin2],["两融余额2",this.Margin3],["Zealink-资金吸筹",this.Zealink_Index1],["Zealink-牛熊区间",this.Zealink_Index2],["Zealink-持仓信号",this.Zealink_Index3],["Zealink-增减持",this.Zealink_Index4],["Zealink-大宗交易",this.Zealink_Index5],["Zealink-信托持股",this.Zealink_Index6],["Zealink-官网新闻",this.Zealink_Index7],["Zealink-高管要闻",this.Zealink_Index8],["Zealink-股权质押",this.Zealink_Index9],["Zealink-操盘BS点",this.Zealink_Index10],["Zealink-操盘BS点2",this.Zealink_Index11],["放心股-操盘BS点",this.FXG_BSPoint],["放心股-涨停多空线",this.FXG_INDEX],["放心股-涨停吸筹区",this.FXG_INDEX2],["放心股-量能黄金点",this.FXG_INDEX3],["五彩K线-十字星",this.COLOR_KSTAR1],["五彩K线-早晨之星",this.COLOR_KSTAR2],["五彩K线-黄昏之星",this.COLOR_KSTAR3],["五彩K线-长十字",this.COLOR_SHI1],["五彩K线-身怀六甲",this.COLOR_K220],["五彩K线-三个白武士",this.COLOR_K300],["五彩K线-三只乌鸦",this.COLOR_K310],["五彩K线-光头阳线",this.COLOR_K380],["五彩K线-光脚阴线",this.COLOR_K390],["五彩K线-垂死十字",this.COLOR_K134],["五彩K线-早晨十字星",this.COLOR_K140],["五彩K线-黄昏十字星",this.COLOR_K150],["五彩K线-射击之星",this.COLOR_K160],["五彩K线-倒转锤头",this.COLOR_K165],["五彩K线-锤头",this.COLOR_K170],["五彩K线-吊颈",this.COLOR_K180],["五彩K线-穿头破脚",this.COLOR_K190],["五彩K线-出水芙蓉",this.COLOR_CSFR],["五彩K线-乌云盖顶",this.COLOR_WYGD],["五彩K线-曙光初现",this.COLOR_SGCJ],["五彩K线-十字胎",this.COLOR_SZTAI],["五彩K线-剑",this.COLOR_SWORD],["五彩K线-平顶",this.COLOR_PINGDING],["五彩K线-平底",this.COLOR_PINGDI],["五彩K线-大阳烛",this.COLOR_DAYANZHU],["五彩K线-大阴烛",this.COLOR_DAYINGZHU],["五彩K线-好友反攻",this.COLOR_HYFG],["五彩K线-跳空缺口",this.COLOR_TKQK],["五彩K线-双飞乌鸦",this.COLOR_SFWY],["五彩K线-上升三部曲",this.COLOR_SSSBQ],["五彩K线-下跌三部曲",this.COLOR_XDSBQ],["五彩K线-长下影",this.COLOR_CHXY],["五彩K线-长上影",this.COLOR_CHSY],["五彩K线-分离",this.COLOR_FENLI],["交易系统-BIAS",this.TRADE_BIAS],["交易系统-CCI",this.TRADE_CCI],["交易系统-DMI",this.TRADE_DMI],["交易系统-KD",this.TRADE_KD],["交易系统-BOLL",this.TRADE_BOLL],["交易系统-KDJ",this.TRADE_KDJ],["交易系统-MA",this.TRADE_MA],["交易系统-MACD",this.TRADE_MACD],["交易系统-MTM",this.TRADE_MTM],["交易系统-PSY",this.TRADE_PSY],["交易系统-ROC",this.TRADE_ROC],["交易系统-RSI",this.TRADE_RSI],["交易系统-VR",this.TRADE_VR],["交易系统-DPSJ",this.TRADE_DPSJ],["TEST",this.TEST]])}if(I.AddIndex=function(t){for(var e in t)S.Add(t[e])},I.prototype.Get=function(t){var e=S.Get(t);if(e)return e;var i=this.DataMap.get(t);return i?i():null},I.prototype.Search=function(t){var e=[],i=new RegExp(t,"i");return this.DataMap.forEach(function(t,a){0!=a.indexOf("交易系统-")&&0!=a.indexOf("五彩K线-")&&a.search(i)>=0&&e.push(a)}),e},I.prototype.MA=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);"}},I.prototype.MA4=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);"}},I.prototype.MA5=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);"}},I.prototype.MA6=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);\nMA6:MA(CLOSE,M6);"}},I.prototype.MA7=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0},{Name:"M7",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"},{Name:"MA7",DynamicName:"MA{M7}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);\nMA6:MA(CLOSE,M6);\nMA7:MA(CLOSE,M7);"}},I.prototype.MA8=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0},{Name:"M7",Value:0},{Name:"M8",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"},{Name:"MA7",DynamicName:"MA{M7}"},{Name:"MA8",DynamicName:"MA{M8}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);\nMA6:MA(CLOSE,M6);\nMA7:MA(CLOSE,M7);\nMA8:MA(CLOSE,M8);"}},I.prototype.EMA3=function(){return{Name:"EMA",Description:"指数移动平均值",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"}],Script:"MA1:EMA(CLOSE,M1);\nMA2:EMA(CLOSE,M2);\nMA3:EMA(CLOSE,M3);"}},I.prototype.EMA4=function(){return{Name:"EMA",Description:"指数移动平均值",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"}],Script:"MA1:EMA(CLOSE,M1);\nMA2:EMA(CLOSE,M2);\nMA3:EMA(CLOSE,M3);\nMA4:EMA(CLOSE,M4);"}},I.prototype.EMA5=function(){return{Name:"EMA",Description:"指数移动平均值",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"}],Script:"MA1:EMA(CLOSE,M1);\nMA2:EMA(CLOSE,M2);\nMA3:EMA(CLOSE,M3);\nMA4:EMA(CLOSE,M4);\nMA5:EMA(CLOSE,M5);"}},I.prototype.EMA6=function(){return{Name:"EMA",Description:"指数移动平均值",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"}],Script:"MA1:EMA(CLOSE,M1);\nMA2:EMA(CLOSE,M2);\nMA3:EMA(CLOSE,M3);\nMA4:EMA(CLOSE,M4);\nMA5:EMA(CLOSE,M5);\nMA6:EMA(CLOSE,M6);"}},I.prototype.BOLL=function(){return{Name:"BOLL",Description:"布林线",IsMainIndex:!0,Args:[{Name:"M",Value:20}],Script:"BOLL:MA(CLOSE,M);\nUB:BOLL+2*STD(CLOSE,M);\nLB:BOLL-2*STD(CLOSE,M);"}},I.prototype.BOLL2=function(){return{Name:"BOLL2",Description:"布林线",IsMainIndex:!1,KLineType:0,Args:[{Name:"M",Value:20}],Script:"BOLL:MA(CLOSE,M);\nUB:BOLL+2*STD(CLOSE,M);\nLB:BOLL-2*STD(CLOSE,M);"}},I.prototype.BBI=function(){return{Name:"BBI",Description:"多空均线",IsMainIndex:!0,Args:[{Name:"M1",Value:3},{Name:"M2",Value:6},{Name:"M3",Value:12},{Name:"M4",Value:24}],Script:"BBI:(MA(CLOSE,M1)+MA(CLOSE,M2)+MA(CLOSE,M3)+MA(CLOSE,M4))/4;"}},I.prototype.DKX=function(){return{Name:"DKX",Description:"多空线",IsMainIndex:!1,Args:[{Name:"M",Value:10}],Script:"MID:=(3*CLOSE+LOW+OPEN+HIGH)/6;\nDKX:(20*MID+19*REF(MID,1)+18*REF(MID,2)+17*REF(MID,3)+\n16*REF(MID,4)+15*REF(MID,5)+14*REF(MID,6)+\n13*REF(MID,7)+12*REF(MID,8)+11*REF(MID,9)+\n10*REF(MID,10)+9*REF(MID,11)+8*REF(MID,12)+\n7*REF(MID,13)+6*REF(MID,14)+5*REF(MID,15)+\n4*REF(MID,16)+3*REF(MID,17)+2*REF(MID,18)+REF(MID,20))/210;\nMADKX:MA(DKX,M);"}},I.prototype.MIKE=function(){return{Name:"MIKE",Description:"麦克支撑压力",IsMainIndex:!0,Args:[{Name:"N",Value:10}],Script:"HLC:=REF(MA((HIGH+LOW+CLOSE)/3,N),1);\nHV:=EMA(HHV(HIGH,N),3);\nLV:=EMA(LLV(LOW,N),3);\nSTOR:EMA(2*HV-LV,3);\nMIDR:EMA(HLC+HV-LV,3);\nWEKR:EMA(HLC*2-LV,3);\nWEKS:EMA(HLC*2-HV,3);\nMIDS:EMA(HLC-HV+LV,3);\nSTOS:EMA(2*LV-HV,3);"}},I.prototype.PBX=function(){return{Name:"PBX",Description:"瀑布线",IsMainIndex:!0,Args:[{Name:"M1",Value:4},{Name:"M2",Value:6},{Name:"M3",Value:9},{Name:"M4",Value:13},{Name:"M5",Value:18},{Name:"M6",Value:24}],Script:"PBX1:(EMA(CLOSE,M1)+MA(CLOSE,M1*2)+MA(CLOSE,M1*4))/3;\nPBX2:(EMA(CLOSE,M2)+MA(CLOSE,M2*2)+MA(CLOSE,M2*4))/3;\nPBX3:(EMA(CLOSE,M3)+MA(CLOSE,M3*2)+MA(CLOSE,M3*4))/3;\nPBX4:(EMA(CLOSE,M4)+MA(CLOSE,M4*2)+MA(CLOSE,M4*4))/3;\nPBX5:(EMA(CLOSE,M5)+MA(CLOSE,M5*2)+MA(CLOSE,M5*4))/3;\nPBX6:(EMA(CLOSE,M6)+MA(CLOSE,M6*2)+MA(CLOSE,M6*4))/3;"}},I.prototype.ENE=function(){return{Name:"ENE",Description:"轨道线",IsMainIndex:!0,Args:[{Name:"N",Value:25},{Name:"M1",Value:6},{Name:"M2",Value:6}],Script:"UPPER:(1+M1/100)*MA(CLOSE,N);\nLOWER:(1-M2/100)*MA(CLOSE,N);\nENE:(UPPER+LOWER)/2;"}},I.prototype.MACD=function(){return{Name:"MACD",Description:"平滑异同平均",IsMainIndex:!1,Args:[{Name:"SHORT",Value:12},{Name:"LONG",Value:26},{Name:"MID",Value:9}],Script:"DIF:EMA(CLOSE,SHORT)-EMA(CLOSE,LONG);\nDEA:EMA(DIF,MID);\nMACD:(DIF-DEA)*2,COLORSTICK;"}},I.prototype.MACD2=function(){return{Name:"MACD",Description:"平滑异同平均",IsMainIndex:!1,Args:[{Name:"SHORT",Value:12},{Name:"LONG",Value:26},{Name:"MID",Value:9}],Script:"DIF2:=EMA(CLOSE,SHORT)-EMA(CLOSE,LONG);\nDEA2:=EMA(DIF2,MID);\nMACD:(DIF2-DEA2)*2,COLORSTICK,LINETHICK50;\nDIF:DIF2;\nDEA:DEA2;"}},I.prototype.KDJ=function(){return{Name:"KDJ",Description:"随机指标",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"RSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:SMA(RSV,M1,1);\nD:SMA(K,M2,1);\nJ:3*K-2*D;"}},I.prototype.VOL=function(){return{Name:"VOL",Description:"成交量",IsMainIndex:!1,FloatPrecision:0,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"}],Script:"VOL:VOL,VOLSTICK;\nMA1:MA(VOL,M1);\nMA2:MA(VOL,M2);"}},I.prototype.VOL_TDX=function(){return{Name:"VOL-TDX",Description:"成交量(虚拟)",IsMainIndex:!1,FloatPrecision:0,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10}],Script:"TOTAL:=IF(PERIOD=1,5,IF(PERIOD=2,15,IF(PERIOD=3,30,IF(PERIOD=4,60,IF(PERIOD=5,TOTALFZNUM,1)))));\nMTIME:=MOD(FROMOPEN,TOTAL);\nCTIME:=IF(MTIME<0.5,TOTAL,MTIME);\nVVOL:IF((CURRBARSCOUNT=1 AND DYNAINFO(8)>1),VOL*(TOTAL+3)/(CTIME+3),DRAWNULL),NODRAW;\nSTICKLINE((CURRBARSCOUNT=1 AND DYNAINFO(8)>1),VVOL,0,-1,-1),COLORYELLOW;\nVOLUME:VOL,VOLSTICK;\nMAVOL1:MA(VOLUME,M1);\nMAVOL2:MA(VOLUME,M2);"}},I.prototype.RSI=function(){return{Name:"RSI",Description:"相对强弱指标",IsMainIndex:!1,Args:[{Name:"N1",Value:6},{Name:"N2",Value:12},{Name:"N3",Value:24}],Script:"LC:=REF(CLOSE,1);\nRSI1:SMA(MAX(CLOSE-LC,0),N1,1)/SMA(ABS(CLOSE-LC),N1,1)*100;\nRSI2:SMA(MAX(CLOSE-LC,0),N2,1)/SMA(ABS(CLOSE-LC),N2,1)*100;\nRSI3:SMA(MAX(CLOSE-LC,0),N3,1)/SMA(ABS(CLOSE-LC),N3,1)*100;"}},I.prototype.BRAR=function(){return{Name:"BRAR",Description:"情绪指标",IsMainIndex:!1,Args:[{Name:"N",Value:26}],Script:"BR:SUM(MAX(0,HIGH-REF(CLOSE,1)),N)/SUM(MAX(0,REF(CLOSE,1)-LOW),N)*100;\nAR:SUM(HIGH-OPEN,N)/SUM(OPEN-LOW,N)*100;"}},I.prototype.WR=function(){return{Name:"WR",Description:"威廉指标",IsMainIndex:!1,Args:[{Name:"N",Value:10},{Name:"N1",Value:6}],Script:"WR1:100*(HHV(HIGH,N)-CLOSE)/(HHV(HIGH,N)-LLV(LOW,N));\nWR2:100*(HHV(HIGH,N1)-CLOSE)/(HHV(HIGH,N1)-LLV(LOW,N1));"}},I.prototype.BIAS=function(){return{Name:"BIAS",Description:"乖离率",IsMainIndex:!1,Args:[{Name:"N1",Value:6},{Name:"N2",Value:12},{Name:"N3",Value:24}],Script:"BIAS1 :(CLOSE-MA(CLOSE,N1))/MA(CLOSE,N1)*100;\nBIAS2 :(CLOSE-MA(CLOSE,N2))/MA(CLOSE,N2)*100;\nBIAS3 :(CLOSE-MA(CLOSE,N3))/MA(CLOSE,N3)*100;"}},I.prototype.OBV=function(){return{Name:"OBV",Description:"累积能量线",IsMainIndex:!1,Args:[{Name:"M",Value:30}],Script:"VA:=IF(CLOSE>REF(CLOSE,1),VOL,-VOL);\nOBV:SUM(IF(CLOSE==REF(CLOSE,1),0,VA),0);\nMAOBV:MA(OBV,M);"}},I.prototype.DMI=function(){return{Name:"DMI",Description:"趋向指标",IsMainIndex:!1,Args:[{Name:"N",Value:14},{Name:"MM",Value:6}],Script:"MTR:=EXPMEMA(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(REF(CLOSE,1)-LOW)),N);\nHD :=HIGH-REF(HIGH,1);\nLD :=REF(LOW,1)-LOW;\nDMP:=EXPMEMA(IF(HD>0&&HD>LD,HD,0),N);\nDMM:=EXPMEMA(IF(LD>0&&LD>HD,LD,0),N);\nPDI: DMP*100/MTR;\nMDI: DMM*100/MTR;\nADX: EXPMEMA(ABS(MDI-PDI)/(MDI+PDI)*100,MM);\nADXR:EXPMEMA(ADX,MM);"}},I.prototype.CR=function(){return{Name:"CR",Description:"带状能量线",IsMainIndex:!1,Args:[{Name:"N",Value:26},{Name:"M1",Value:10},{Name:"M2",Value:20},{Name:"M3",Value:40},{Name:"M4",Value:62}],Script:"MID:=REF(HIGH+LOW,1)/2;\nCR:SUM(MAX(0,HIGH-MID),N)/SUM(MAX(0,MID-LOW),N)*100;\nMA1:REF(MA(CR,M1),M1/2.5+1);\nMA2:REF(MA(CR,M2),M2/2.5+1);\nMA3:REF(MA(CR,M3),M3/2.5+1);\nMA4:REF(MA(CR,M4),M4/2.5+1);"}},I.prototype.PSY=function(){return{Name:"PSY",Description:"心理线",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"PSY:COUNT(CLOSE>REF(CLOSE,1),N)/N*100;\rPSYMA:MA(PSY,M);"}},I.prototype.CCI=function(){return{Name:"CCI",Description:"商品路径指标",IsMainIndex:!1,Args:[{Name:"N",Value:14}],Script:"TYP:=(HIGH+LOW+CLOSE)/3;\nCCI:(TYP-MA(TYP,N))/(0.015*AVEDEV(TYP,N));"}},I.prototype.DMA=function(){return{Name:"DMA",Description:"平均差",IsMainIndex:!1,Args:[{Name:"N1",Value:10},{Name:"N2",Value:50},{Name:"M",Value:10}],Script:"DIF:MA(CLOSE,N1)-MA(CLOSE,N2);\nDIFMA:MA(DIF,M);"}},I.prototype.TRIX=function(){return{Name:"TRIX",Description:"三重指数平均线",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:9}],Script:"MTR:=EMA(EMA(EMA(CLOSE,N),N),N);\nTRIX:(MTR-REF(MTR,1))/REF(MTR,1)*100;\nMATRIX:MA(TRIX,M) ;"}},I.prototype.VR=function(){return{Name:"VR",Description:"成交量变异率",IsMainIndex:!1,Args:[{Name:"N",Value:26},{Name:"M",Value:6}],Script:"TH:=SUM(IF(CLOSE>REF(CLOSE,1),VOL,0),N);\nTL:=SUM(IF(CLOSE<REF(CLOSE,1),VOL,0),N);\nTQ:=SUM(IF(CLOSE==REF(CLOSE,1),VOL,0),N);\nVR:100*(TH*2+TQ)/(TL*2+TQ);\nMAVR:MA(VR,M);"}},I.prototype.EMV=function(){return{Name:"EMV",Description:"简易波动指标",IsMainIndex:!1,Args:[{Name:"N",Value:14},{Name:"M",Value:9}],Script:"VOLUME:=MA(VOL,N)/VOL;\nMID:=100*(HIGH+LOW-REF(HIGH+LOW,1))/(HIGH+LOW);\nEMV:MA(MID*VOLUME*(HIGH-LOW)/MA(HIGH-LOW,N),N);\nMAEMV:MA(EMV,M);"}},I.prototype.ROC=function(){return{Name:"ROC",Description:"变动率指标",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"ROC:100*(CLOSE-REF(CLOSE,N))/REF(CLOSE,N);\nMAROC:MA(ROC,M);"}},I.prototype.MTM=function(){return{Name:"MTM",Description:"动量线",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"MTM:CLOSE-REF(CLOSE,N);\nMAMTM:MA(MTM,M);"}},I.prototype.FSL=function(){return{Name:"FSL",Description:"分水岭",IsMainIndex:!1,Args:[],Script:"SWL:(EMA(CLOSE,5)*7+EMA(CLOSE,10)*3)/10;\nSWS:DMA(EMA(CLOSE,12),MAX(1,100*(SUM(VOL,5)/(3*CAPITAL))));"}},I.prototype.CYR=function(){return{Name:"CYR",Description:"市场强弱",IsMainIndex:!1,Args:[{Name:"N",Value:13},{Name:"M",Value:5}],Script:"DIVE:=0.01*EMA(AMOUNT,N)/EMA(VOL,N);\nCYR:(DIVE/REF(DIVE,1)-1)*100;\nMACYR:MA(CYR,M);"}},I.prototype.MASS=function(){return{Name:"MASS",Description:"市场强弱",IsMainIndex:!1,Args:[{Name:"N1",Value:9},{Name:"N2",Value:25},{Name:"M",Value:6}],Script:"MASS:SUM(MA(HIGH-LOW,N1)/MA(MA(HIGH-LOW,N1),N1),N2);\nMAMASS:MA(MASS,M);"}},I.prototype.WAD=function(){return{Name:"WAD",Description:"威廉多空力度线",IsMainIndex:!1,Args:[{Name:"M",Value:30}],Script:"MIDA:=CLOSE-MIN(REF(CLOSE,1),LOW);\nMIDB:=IF(CLOSE<REF(CLOSE,1),CLOSE-MAX(REF(CLOSE,1),HIGH),0);\nWAD:SUM(IF(CLOSE>REF(CLOSE,1),MIDA,MIDB),0);\nMAWAD:MA(WAD,M);"}},I.prototype.CHO=function(){return{Name:"CHO",Description:"佳庆指标",IsMainIndex:!1,Args:[{Name:"N1",Value:10},{Name:"N2",Value:20},{Name:"M",Value:6}],Script:"MID:=SUM(VOL*(2*CLOSE-HIGH-LOW)/(HIGH+LOW),0);\nCHO:MA(MID,N1)-MA(MID,N2);\nMACHO:MA(CHO,M);"}},I.prototype.ADTM=function(){return{Name:"ADTM",Description:"动态买卖气指标",IsMainIndex:!1,Args:[{Name:"N",Value:23},{Name:"M",Value:8}],Script:"DTM:=IF(OPEN<=REF(OPEN,1),0,MAX((HIGH-OPEN),(OPEN-REF(OPEN,1))));\nDBM:=IF(OPEN>=REF(OPEN,1),0,MAX((OPEN-LOW),(OPEN-REF(OPEN,1))));\nSTM:=SUM(DTM,N);\nSBM:=SUM(DBM,N);\nADTM:IF(STM>SBM,(STM-SBM)/STM,IF(STM==SBM,0,(STM-SBM)/SBM));\nMAADTM:MA(ADTM,M);"}},I.prototype.HSL=function(){return{Name:"HSL",Description:"换手线",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"HSL:IF((SETCODE==0||SETCODE==1),100*VOL,VOL)/(FINANCE(7)/100);\nMAHSL:MA(HSL,N);"}},I.prototype.BIAS36=function(){return{Name:"BIAS36",Description:"三六乖离",IsMainIndex:!1,Args:[{Name:"M",Value:6}],Script:"BIAS36:MA(CLOSE,3)-MA(CLOSE,6);\nBIAS612:MA(CLOSE,6)-MA(CLOSE,12);\nMABIAS:MA(BIAS36,M);"}},I.prototype.BIAS_QL=function(){return{Name:"BIAS_QL",Description:"乖离率-传统版",IsMainIndex:!1,Args:[{Name:"N",Value:6},{Name:"M",Value:6}],Script:"BIAS :(CLOSE-MA(CLOSE,N))/MA(CLOSE,N)*100;\nBIASMA :MA(BIAS,M);"}},I.prototype.DPO=function(){return{Name:"DPO",Description:"区间震荡线",IsMainIndex:!1,Args:[{Name:"N",Value:20},{Name:"M",Value:6}],Script:"DPO:CLOSE-REF(MA(CLOSE,N),N/2+1);\nMADPO:MA(DPO,M);"}},I.prototype.OSC=function(){return{Name:"OSC",Description:"变动速率线",IsMainIndex:!1,Args:[{Name:"N",Value:20},{Name:"M",Value:6}],Script:"OSC:100*(CLOSE-MA(CLOSE,N));\nMAOSC:EXPMEMA(OSC,M);"}},I.prototype.ATR=function(){return{Name:"ATR",Description:"真实波幅",IsMainIndex:!1,Args:[{Name:"N",Value:14}],Script:"MTR:MAX(MAX((HIGH-LOW),ABS(REF(CLOSE,1)-HIGH)),ABS(REF(CLOSE,1)-LOW));\nATR:MA(MTR,N);"}},I.prototype.NVI=function(){return{Name:"ATR",Description:"负成交量",IsMainIndex:!1,Args:[{Name:"N",Value:72}],Script:"NVI:100*MULAR(IF(V<REF(V,1),C/REF(C,1),1),0);\nMANVI:MA(NVI,N);"}},I.prototype.PVI=function(){return{Name:"PVI",Description:"正成交量",IsMainIndex:!1,Args:[{Name:"N",Value:72}],Script:"NVI:100*MULAR(IF(V>REF(V,1),C/REF(C,1),1),0);\nMANVI:MA(NVI,N);"}},I.prototype.UOS=function(){return{Name:"UOS",Description:"终极指标",IsMainIndex:!1,Args:[{Name:"N1",Value:7},{Name:"N2",Value:14},{Name:"N3",Value:28},{Name:"M",Value:6}],Script:"TH:=MAX(HIGH,REF(CLOSE,1));\nTL:=MIN(LOW,REF(CLOSE,1));\nACC1:=SUM(CLOSE-TL,N1)/SUM(TH-TL,N1);\nACC2:=SUM(CLOSE-TL,N2)/SUM(TH-TL,N2);\nACC3:=SUM(CLOSE-TL,N3)/SUM(TH-TL,N3);\nUOS:(ACC1*N2*N3+ACC2*N1*N3+ACC3*N1*N2)*100/(N1*N2+N1*N3+N2*N3);\nMAUOS:EXPMEMA(UOS,M);"}},I.prototype.CYW=function(){return{Name:"CYW",Description:"主力控盘",IsMainIndex:!1,Args:[],Script:"VAR1:=CLOSE-LOW;\nVAR2:=HIGH-LOW;\nVAR3:=CLOSE-HIGH;\nVAR4:=IF(HIGH>LOW,(VAR1/VAR2+VAR3/VAR2)*VOL,0);\nCYW: SUM(VAR4,10)/10000, COLORSTICK;"}},I.prototype.LON=function(){return{Name:"LON",Description:"龙系长线",IsMainIndex:!1,Args:[{Name:"N",Value:10}],Script:"LC := REF(CLOSE,1);\nVID := SUM(VOL,2)/(((HHV(HIGH,2)-LLV(LOW,2)))*100);\nRC := (CLOSE-LC)*VID;\nLONG := SUM(RC,0);\nDIFF := SMA(LONG,10,1);\nDEA := SMA(LONG,20,1);\nLON : DIFF-DEA;\nLONMA : MA(LON,10);\nLONT : LON, COLORSTICK;"}},I.prototype.NDB=function(){return{Name:"NDB",Description:"脑电波",IsMainIndex:!1,Args:[{Name:"P1",Value:5},{Name:"P2",Value:10}],Script:"HH:=IF(C/REF(C,1)>1.098 AND L>REF(H,1),2*C-REF(C,1)-H,2*C-H-L);\nV1:= BARSCOUNT(C) - 1;\nV2:= 2 * REF(C, V1) - REF(H, V1) - REF(L, V1);\nDK: SUM(HH, 0) + V2;\nMDK5: MA(DK, P1);\nMDK10: MA(DK, P2);"}},I.prototype.SKDJ=function(){return{Name:"SKDJ",Description:"慢速随机指标",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M",Value:3}],Script:"LOWV:=LLV(LOW,N);\nHIGHV:=HHV(HIGH,N);\nRSV:=EMA((CLOSE-LOWV)/(HIGHV-LOWV)*100,M);\nK:EMA(RSV,M);\nD:MA(K,M);"}},I.prototype.KD=function(){return{Name:"KD",Description:"随机指标KD",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"RSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:SMA(RSV,M1,1);\nD:SMA(K,M2,1);"}},I.prototype.FKX=function(){return{Name:"FKX",Description:"反K线",IsMainIndex:!0,Args:[],Script:"DRAWKLINE(-LOW, -OPEN, -HIGH, -CLOSE);"}},I.prototype.DKCOL=function(){return{Name:"DKCOL",Description:"多空能量柱(适用于分时主图)",IsMainIndex:!0,Args:[{Name:"N",Value:5}],Script:"FF:=(C-REF(C,N))/REF(C,N);\nSTICKLINE(FF>0,DYNAINFO(3),DYNAINFO(3)*(1+FF),0.5,0),COLORRED;\nSTICKLINE(FF<0,DYNAINFO(3),DYNAINFO(3)*(1+FF),0.5,0),COLORGREEN;"}},I.prototype.UDL=function(){return{Name:"UDL",Description:"引力线",IsMainIndex:!1,Args:[{Name:"N1",Value:3},{Name:"N2",Value:5},{Name:"N3",Value:10},{Name:"N4",Value:20},{Name:"M",Value:6}],Script:"UDL:(MA(CLOSE,N1)+MA(CLOSE,N2)+MA(CLOSE,N3)+MA(CLOSE,N4))/4;\nMAUDL:MA(UDL,M);"}},I.prototype.MFI=function(){return{Name:"MFI",Description:"资金流量指标",IsMainIndex:!1,Args:[{Name:"N",Value:14},{Name:"N2",Value:6}],Script:"TYP := (HIGH + LOW + CLOSE)/3;\nV1:=SUM(IF(TYP>REF(TYP,1),TYP*VOL,0),N)/SUM(IF(TYP<REF(TYP,1),TYP*VOL,0),N);\nMFI:100-(100/(1+V1));"}},I.prototype.LWR=function(){return{Name:"LWR",Description:"LWR威廉指标",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"RSV:= (HHV(HIGH,N)-CLOSE)/(HHV(HIGH,N)-LLV(LOW,N))*100;\nLWR1:SMA(RSV,M1,1);\nLWR2:SMA(LWR1,M2,1);"}},I.prototype.MARSI=function(){return{Name:"MARSI",Description:"相对强弱平均线",IsMainIndex:!1,Args:[{Name:"M1",Value:10},{Name:"M2",Value:6}],Script:"DIF:=CLOSE-REF(CLOSE,1);\nVU:=IF(DIF>=0,DIF,0);\nVD:=IF(DIF<0,-DIF,0);\nMAU1:=MEMA(VU,M1);\nMAD1:=MEMA(VD,M1);\nMAU2:=MEMA(VU,M2);\nMAD2:=MEMA(VD,M2);\nRSI10:MA(100*MAU1/(MAU1+MAD1),M1);\nRSI6:MA(100*MAU2/(MAU2+MAD2),M2);"}},I.prototype.CYD=function(){return{Name:"CYD",Description:"承接因子",IsMainIndex:!1,Args:[{Name:"N",Value:21}],Script:"CYDS:WINNER(CLOSE)/(VOL/CAPITAL);\nCYDN:WINNER(CLOSE)/MA(VOL/CAPITAL,N);"}},I.prototype.CYF=function(){return{Name:"CYF",Description:"市场能量",IsMainIndex:!1,Args:[{Name:"N",Value:21}],Script:"CYF:100-100/(1+EMA(HSL,N));"}},I.prototype.TAPI=function(){return{Name:"TAPI",Description:"加权指数成交值",IsMainIndex:!1,Args:[{Name:"M",Value:6}],Script:"TAPI:AMOUNT/INDEXC;\nMATAIP:MA(TAPI,M);"}},I.prototype.VMACD=function(){return{Name:"VMACD",Description:"量平滑异同平均",IsMainIndex:!1,Args:[{Name:"SHORT",Value:12},{Name:"LONG",Value:26},{Name:"MID",Value:9}],Script:"DIF:EMA(VOL,SHORT)-EMA(VOL,LONG);\nDEA:EMA(DIF,MID);\nMACD:DIF-DEA,COLORSTICK;"}},I.prototype.QACD=function(){return{Name:"QACD",Description:"快速异同平均",IsMainIndex:!1,Args:[{Name:"N1",Value:12},{Name:"N2",Value:26},{Name:"M",Value:9}],Script:"DIF:EMA(CLOSE,N1)-EMA(CLOSE,N2);\nMACD:EMA(DIF,M);\nDDIF:DIF-MACD;"}},I.prototype.VPT=function(){return{Name:"VPT",Description:"量价曲线",IsMainIndex:!1,Args:[{Name:"N",Value:51},{Name:"M",Value:6}],Script:"VPT:SUM(VOL*(CLOSE-REF(CLOSE,1))/REF(CLOSE,1),N);\nMAVPT:MA(VPT,M);"}},I.prototype.WVAD=function(){return{Name:"WVAD",Description:"威廉变异离散量",IsMainIndex:!1,Args:[{Name:"N",Value:24},{Name:"M",Value:6}],Script:"WVAD:SUM((CLOSE-OPEN)/(HIGH-LOW)*VOL,N)/10000;\nMAWVAD:MA(WVAD,M);"}},I.prototype.DBQR=function(){return{Name:"WVAD",Description:"对比强弱",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"M1",Value:10},{Name:"M2",Value:20},{Name:"M3",Value:60}],Script:"ZS:(INDEXC-REF(INDEXC,N))/REF(INDEXC,N);\nGG:(CLOSE-REF(CLOSE,N))/REF(CLOSE,N);\nMADBQR1:MA(GG,M1);\nMADBQR2:MA(GG,M2);\nMADBQR3:MA(GG,M3);"}},I.prototype.JS=function(){return{Name:"JS",Description:"加速线",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20}],Script:"JS:100*(CLOSE-REF(CLOSE,N))/(N*REF(CLOSE,N));\nMAJS1:MA(JS,M1);\nMAJS2:MA(JS,M2);\nMAJS3:MA(JS,M3);"}},I.prototype.CYE=function(){return{Name:"CYE",Description:"市场趋势",IsMainIndex:!1,Args:[],Script:"MAL:=MA(CLOSE,5);\nMAS:=MA(MA(CLOSE,20),5);\nCYEL:(MAL-REF(MAL,1))/REF(MAL,1)*100;\nCYES:(MAS-REF(MAS,1))/REF(MAS,1)*100;"}},I.prototype.QR=function(){return{Name:"QR",Description:"强弱指标",IsMainIndex:!1,Args:[{Name:"N",Value:21}],Script:"个股: (CLOSE-REF(CLOSE,N))/REF(CLOSE,N)*100; \n大盘: (INDEXC-REF(INDEXC,N))/REF(INDEXC,N)*100; \n强弱值:EMA(个股-大盘,2),COLORSTICK;"}},I.prototype.GDX=function(){return{Name:"GDX",Description:"轨道线",IsMainIndex:!1,Args:[{Name:"N",Value:30},{Name:"M",Value:9}],Script:"AA:=ABS((2*CLOSE+HIGH+LOW)/4-MA(CLOSE,N))/MA(CLOSE,N); \n轨道:DMA(CLOSE,AA);\n压力线:(1+M/100)*轨道; \n支撑线:(1-M/100)*轨道;"}},I.prototype.JLHB=function(){return{Name:"JLHB",Description:"绝路航标",IsMainIndex:!1,Args:[{Name:"N",Value:7},{Name:"M",Value:5}],Script:"VAR1:=(CLOSE-LLV(LOW,60))/(HHV(HIGH,60)-LLV(LOW,60))*80; \nB:SMA(VAR1,N,1); \nVAR2:SMA(B,M,1); \n绝路航标:IF(CROSS(B,VAR2) AND B<40,50,0);"}},I.prototype.PCNT=function(){return{Name:"PCNT",Description:"幅度比",IsMainIndex:!1,Args:[{Name:"M",Value:5}],Script:"PCNT:(CLOSE-REF(CLOSE,1))/CLOSE*100;\nMAPCNT:EXPMEMA(PCNT,M);"}},I.prototype.BTX=function(){return{Name:"BTX",Description:"宝塔线",IsMainIndex:!1,Args:[],Script:"B1:=REF(C,1);\nB2:= REF(C, 2);\nSS:= IF(C > REF(C, 1) AND REF(C, 1) >= REF(C, 2), 1, IF(C < REF(C, 1) AND REF(C, 1) <= REF(C, 2), -1, IF(C > REF(C, 2) AND REF(C, 2) > REF(C, 1), 2, IF(C < REF(C, 2) AND REF(C, 2) < REF(C, 1), -2, 0))));\nSM:= IF(REF(SS, 1) <> 0, REF(SS, 1), IF(REF(SS, 2) <> 0, REF(SS, 2), IF(REF(SS, 3) <> 0, REF(SS, 3), IF(REF(SS, 5) <> 0, REF(SS, 5), IF(REF(SS, 6) <> 0, REF(SS, 6), IF(REF(SS, 7) <> 0, REF(SS, 7), 0))))));\nMC:= IF(REF(SS, 1) <> 0, B2, IF(SM > 0, MIN(B1, B2), MAX(B1, B2)));\nTOW1:= IF(C > REF(C, 1), C, REF(C, 1));\nTOW2:= IF((SS == -1 OR SS == -2) AND SM > 0, B2, TOW1);\nTOWER:= IF(TOW1 > TOW2, TOW1, TOW2);\nSTICKLINE(SS == 1 OR SM >= 1 AND SS == 0, B1, C, 10, 1), COLORRED;\nSTICKLINE(SS == -1 OR SM <= -1 AND SS == 0, B1, C, 10, 0), COLORCYAN;\nSTICKLINE(SS == 2, B2, C, 10, 1), COLORRED;\nSTICKLINE(SS == -2, B2, C, 10, 0), COLORCYAN;\nSTICKLINE((SS == -1 OR SS == -2) AND SM > 0, B2, B1, 10, 1), COLORRED;\nSTICKLINE((SS == 1 OR SS == 2) AND SM < 0, B2, B1, 10, 0), COLORCYAN;"}},I.prototype.AMO=function(){return{Name:"AMO",Description:"成交金额",IsMainIndex:!1,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10}],Script:"AMOW:AMOUNT/10000.0,VOLSTICK;\nAMO1:MA(AMOW,M1);\nAMO2:MA(AMOW,M2);"}},I.prototype.VRSI=function(){return{Name:"VRSI",Description:"相对强弱量",IsMainIndex:!1,Args:[{Name:"N1",Value:6},{Name:"N2",Value:12},{Name:"N3",Value:24}],Script:"LC:=REF(VOL,1);\nRSI1:SMA(MAX(VOL-LC,0),N1,1)/SMA(ABS(VOL-LC),N1,1)*100;\nRSI2:SMA(MAX(VOL-LC,0),N2,1)/SMA(ABS(VOL-LC),N2,1)*100;\nRSI3:SMA(MAX(VOL-LC,0),N3,1)/SMA(ABS(VOL-LC),N3,1)*100;"}},I.prototype.HSCOL=function(){return{Name:"HSCOL",Description:"换手柱",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"HSCOL:IF((SETCODE==0||SETCODE==1),100*VOL,VOL)/(FINANCE(7)/100),VOLSTICK;\nMAHSL:MA(HSCOL,N);"}},I.prototype.DBQRV=function(){return{Name:"DBQRV",Description:"对比强弱量(需下载日线)",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"ZS:(INDEXV-REF(INDEXV,N))/REF(INDEXV,N);\nGG:(VOL-REF(VOL,N))/REF(VOL,N);"}},I.prototype.DBLB=function(){return{Name:"DBLB",Description:"对比量比(需下载日线)",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"M",Value:5}],Script:"GG:=VOL/SUM(REF(VOL,1),N);\nZS:=INDEXV/SUM(REF(INDEXV,1),N);\nDBLB:GG/ZS;\nMADBLB:MA(DBLB,M);"}},I.prototype.ACD=function(){return{Name:"ACD",Description:"升降线",IsMainIndex:!1,Args:[{Name:"M",Value:20}],Script:"LC:=REF(CLOSE,1);\nDIF:=CLOSE-IF(CLOSE>LC,MIN(LOW,LC),MAX(HIGH,LC));\nACD:SUM(IF(CLOSE==LC,0,DIF),0);\nMAACD:EXPMEMA(ACD,M);"}},I.prototype.EXPMA=function(){return{Name:"EXPMA",Description:"指数平均线",IsMainIndex:!0,Args:[{Name:"M1",Value:12},{Name:"M2",Value:50}],Script:"EXP1:EMA(CLOSE,M1);\nEXP2:EMA(CLOSE,M2);"}},I.prototype.EXPMA_S=function(){return{Name:"EXPMA_S",Description:"指数平均线-副图",IsMainIndex:!1,Args:[{Name:"M1",Value:12},{Name:"M2",Value:50}],Script:"EXP1:EMA(CLOSE,M1);\nEXP2:EMA(CLOSE,M2);"}},I.prototype.HMA=function(){return{Name:"HMA",Description:"高价平均线",IsMainIndex:!0,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"HMA1:MA(HIGH,M1);\nHMA2:MA(HIGH,M2);\nHMA3:MA(HIGH,M3);\nHMA4:MA(HIGH,M4);\nHMA5:MA(HIGH,M5);"}},I.prototype.LMA=function(){return{Name:"LMA",Description:"低价平均线",IsMainIndex:!0,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"LMA1:MA(LOW,M1);\nLMA2:MA(LOW,M2);\nLMA3:MA(LOW,M3);\nLMA4:MA(LOW,M4);\nLMA5:MA(LOW,M5);"}},I.prototype.VMA=function(){return{Name:"VMA",Description:"变异平均线",IsMainIndex:!0,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"VV:=(HIGH+OPEN+LOW+CLOSE)/4;\nVMA1:MA(VV,M1);\nVMA2:MA(VV,M2);\nVMA3:MA(VV,M3);\nVMA4:MA(VV,M4);\nVMA5:MA(VV,M5);"}},I.prototype.AMV=function(){return{Name:"AMV",Description:"成本价均线",IsMainIndex:!1,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"AMOV:=VOL*(OPEN+CLOSE)/2;\nAMV1:SUM(AMOV,M1)/SUM(VOL,M1);\nAMV2:SUM(AMOV,M2)/SUM(VOL,M2);\nAMV3:SUM(AMOV,M3)/SUM(VOL,M3);\nAMV4:SUM(AMOV,M4)/SUM(VOL,M4);"}},I.prototype.BBIBOLL=function(){return{Name:"BBIBOLL",Description:"多空布林线",IsMainIndex:!0,Args:[{Name:"N",Value:11},{Name:"M",Value:6}],Script:"CV:=CLOSE;\nBBIBOLL:(MA(CV,3)+MA(CV,6)+MA(CV,12)+MA(CV,24))/4;\nUPR:BBIBOLL+M*STD(BBIBOLL,N);\nDWN:BBIBOLL-M*STD(BBIBOLL,N);"}},I.prototype.ALLIGAT=function(){return{Name:"ALLIGAT",Description:"鳄鱼线",IsMainIndex:!0,Args:[],Script:"NN:=(H+L)/2;\n上唇:REF(MA(NN,5),3),COLOR40FF40;\n牙齿:REF(MA(NN,8),5),COLOR0000C0;\n下颚:REF(MA(NN,13),8),COLORFF4040;"}},I.prototype.ZX=function(){return{Name:"ZX",Description:"重心线",IsMainIndex:!1,Args:[],Script:"AV:0.01*AMOUNT/VOL;"}},I.prototype.XS=function(){return{Name:"XS",Description:"薛斯通道",IsMainIndex:!0,Args:[{Name:"N",Value:13}],Script:"VAR2:=CLOSE*VOL;\nVAR3:=EMA((EMA(VAR2,3)/EMA(VOL,3)+EMA(VAR2,6)/EMA(VOL,6)+EMA(VAR2,12)/EMA(VOL,12)+EMA(VAR2,24)/EMA(VOL,24))/4,N);\nSUP:1.06*VAR3;\nSDN:VAR3*0.94;\nVAR4:=EMA(CLOSE,9);\nLUP:EMA(VAR4*1.14,5);\nLDN:EMA(VAR4*0.86,5);"}},I.prototype.XS2=function(){return{Name:"XS2",Description:"薛斯通道II",IsMainIndex:!0,Args:[{Name:"N",Value:102},{Name:"M",Value:7}],Script:"AA:=MA((2*CLOSE+HIGH+LOW)/4,5); \n通道1:AA*N/100; \n通道2:AA*(200-N)/100; \nCC:=ABS((2*CLOSE+HIGH+LOW)/4-MA(CLOSE,20))/MA(CLOSE,20); \nDD:=DMA(CLOSE,CC); \n通道3:(1+M/100)*DD; \n通道4:(1-M/100)*DD;"}},I.prototype.SG_XDT=function(){return{Name:"SG-XDT",Description:"心电图(需下载日线)",IsMainIndex:!1,Args:[{Name:"P1",Value:5},{Name:"P2",Value:10}],Script:"QR:CLOSE/INDEXC*1000;\nMQR1:MA(QR,5);\nMQR2:MA(QR,10);"}},I.prototype.SG_SMX=function(){return{Name:"SG-SMX",Description:"生命线(需下载日线)",IsMainIndex:!1,Args:[{Name:"N",Value:50}],Script:"H1:=HHV(HIGH,N);\nL1:=LLV(LOW,N);\nH2:=HHV(INDEXH,N);\nL2:=LLV(INDEXL,N);\nZY:=CLOSE/INDEXC*2000;\nZY1:EMA(ZY,3);\nZY2:EMA(ZY,17);\nZY3:EMA(ZY,34);"}},I.prototype.SG_LB=function(){return{Name:"SG-LB",Description:"量比(需下载日线)",IsMainIndex:!1,Args:[],Script:"ZY2:=VOL/INDEXV*1000;\n量比:ZY2;\nMA5:MA(ZY2,5);\nMA10:MA(ZY2,10);"}},I.prototype.SG_PF=function(){return{Name:"SG-PF",Description:"强势股评分(需下载日线)",IsMainIndex:!1,Args:[],Script:"ZY1:=CLOSE/INDEXC*1000;\nA1:=IF(ZY1>HHV(ZY1,3),10,0);\nA2:=IF(ZY1>HHV(ZY1,5),15,0);\nA3:=IF(ZY1>HHV(ZY1,10),20,0);\nA4:=IF(ZY1>HHV(ZY1,2),10,0);\nA5:=COUNT(ZY1>REF(ZY1,1) ,9)*5;\n强势股评分:A1+A2+A3+A4+A5;"}},I.prototype.RAD=function(){return{Name:"RAD",Description:"威力雷达(需下载日线)",IsMainIndex:!1,Args:[{Name:"D",Value:3},{Name:"S",Value:30},{Name:"M",Value:30}],Script:"SM:=(OPEN+HIGH+CLOSE+LOW)/4;\nSMID:=MA(SM,D);\nIM:=(INDEXO+INDEXH+INDEXL+INDEXC)/4;\nIMID:=MA(IM,D);\nSI1:=(SMID-REF(SMID,1))/SMID;\nII:=(IMID-REF(IMID,1))/IMID;\nRADER1:SUM((SI1-II)*2,S)*1000;\nRADERMA:SMA(RADER1,M,1);"}},I.prototype.SHT=function(){return{Name:"SHT",Description:"龙系短线",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"VAR1:=MA((VOL-REF(VOL,1))/REF(VOL,1),5);\nVAR2:=(CLOSE-MA(CLOSE,24))/MA(CLOSE,24)*100;\nMY: VAR2*(1+VAR1);\nSHT: MY, COLORSTICK;\nSHTMA: MA(SHT,N);"}},I.prototype.ZLJC=function(){return{Name:"ZLJC",Description:"主力进出",IsMainIndex:!1,Args:[],Script:"VAR1:=(CLOSE+LOW+HIGH)/3; \nVAR2:=SUM(((VAR1-REF(LOW,1))-(HIGH-VAR1))*VOL/100000/(HIGH-LOW),0); \nVAR3:=EMA(VAR2,1); \nJCS:VAR3; \nJCM:MA(VAR3,12); \nJCL:MA(VAR3,26);"}},I.prototype.ZLMM=function(){return{Name:"ZLMM",Description:"主力买卖",IsMainIndex:!1,Args:[],Script:"LC :=REF(CLOSE,1);\nRSI2:=SMA(MAX(CLOSE-LC,0),12,1)/SMA(ABS(CLOSE-LC),12,1)*100;\nRSI3:=SMA(MAX(CLOSE-LC,0),18,1)/SMA(ABS(CLOSE-LC),18,1)*100;\nMMS:MA(3*RSI2-2*SMA(MAX(CLOSE-LC,0),16,1)/SMA(ABS(CLOSE-LC),16,1)*100,3);\nMMM:EMA(MMS,8);\nMML:MA(3*RSI3-2*SMA(MAX(CLOSE-LC,0),12,1)/SMA(ABS(CLOSE-LC),12,1)*100,5);"}},I.prototype.SLZT=function(){return{Name:"SLZT",Description:"神龙在天",IsMainIndex:!1,Args:[],Script:"白龙: MA(CLOSE,125);\n黄龙: 白龙+2*STD(CLOSE,170);\n紫龙: 白龙-2*STD(CLOSE,145);\n青龙: SAR(125,1,7), LINESTICK;\nVAR2:=HHV(HIGH,70);\nVAR3:=HHV(HIGH,20);\n红龙: VAR2*0.83;\n蓝龙: VAR3*0.91;"}},I.prototype.ADVOL=function(){return{Name:"ADVOL",Description:"龙系离散量",IsMainIndex:!1,Args:[],Script:"A:=SUM(((CLOSE-LOW)-(HIGH-CLOSE))*VOL/10000/(HIGH-LOW),0);\nADVOL:A;\nMA1:MA(A,30);\nMA2:MA(MA1,100);"}},I.prototype.CYC=function(){return{Name:"CYC",Description:"成本均线",IsMainIndex:!0,Args:[{Name:"P1",Value:5},{Name:"P2",Value:13},{Name:"P3",Value:34}],Script:"JJJ:=IF(DYNAINFO(8)>0.01,0.01*DYNAINFO(10)/DYNAINFO(8),DYNAINFO(3));\nDDD:=(DYNAINFO(5)<0.01 || DYNAINFO(6)<0.01);\nJJJT:=IF(DDD,1,(JJJ<(DYNAINFO(5)+0.01) && JJJ>(DYNAINFO(6)-0.01)));\nCYC1:IF(JJJT,0.01*EMA(AMOUNT,P1)/EMA(VOL,P1),EMA((HIGH+LOW+CLOSE)/3,P1));\nCYC2:IF(JJJT,0.01*EMA(AMOUNT,P2)/EMA(VOL,P2),EMA((HIGH+LOW+CLOSE)/3,P2));\nCYC3:IF(JJJT,0.01*EMA(AMOUNT,P3)/EMA(VOL,P3),EMA((HIGH+LOW+CLOSE)/3,P3));\nCYC4:IF(JJJT,DMA(AMOUNT/(100*VOL),100*VOL/FINANCE(7)),EMA((HIGH+LOW+CLOSE)/3,120));"}},I.prototype.CYS=function(){return{Name:"CYS",Description:"市场盈亏",IsMainIndex:!1,Args:[],Script:"CYC13:EMA(AMOUNT,13)/EMA(VOL,13);\nCYS:(CLOSE-CYC13)/CYC13*100;"}},I.prototype.CYQKL=function(){return{Name:"CYQKL",Description:"博弈K线长度",IsMainIndex:!1,Args:[],Script:"KL:100*(WINNER(CLOSE)-WINNER(OPEN));"}},I.prototype.SCR=function(){return{Name:"SCR",Description:"筹码集中度",IsMainIndex:!1,Args:[{Name:"P1",Value:90}],Script:"A:=P1+(100-P1)/2;\nB:=(100-P1)/2;\nCC:=COST(A);\nDD:=COST(B);\nSCR:(CC-DD)/(CC+DD)*100/2;"}},I.prototype.ASR=function(){return{Name:"ASR",Description:"浮筹比例",IsMainIndex:!1,Args:[],Script:"ASR:(WINNER(C*1.1)-WINNER(C*0.9))/WINNER(HHV(H,0))*100;"}},I.prototype.SAR=function(){return{Name:"SAR",Description:"抛物转向",IsMainIndex:!0,Args:[{Name:"P",Value:10},{Name:"STEP",Value:2},{Name:"MAXP",Value:20}],Script:"S:SAR(P,STEP,MAXP),UPDOWNDOT;"}},I.prototype.TJCJL=function(){return{Name:"太极成交量",Description:"太极成交量",IsMainIndex:!0,Args:[],Script:'总手:VOL,NODRAW;\nDRAWTEXT_FIX(ISLASTBAR,0,0,0,"说明: 红色柱为吸货量,绿色为出货量,黄色为天量,蓝色为地量"),COLORGRAY;\nZZ:=IF(REF(C,1)>REF(O,1) AND O>REF(C,1)*1.014 AND C<O*1.02,1,3);\nV5:=MA(V,5);\nV12:=MA(V,12);\nV34:=MA(V,34);\nC6:=MA(C,6);\nSTICKLINE(VOL,0,VOL,3,0),COLORLIGRAY;\nSTICKLINE(CROSS(C,C6) AND V>V5*1.2 AND V>V12*1.2 AND ZZ>2 AND C>H*0.975,0,VOL,3,0),COLORRED;\nSTICKLINE(CROSS(C6,C) AND V>V5*1.2 AND V>V12*1.2,0,VOL,3,0),COLORGREEN;\nSTICKLINE(VOL>MA(VOL,5)*2 AND V>V34*3 AND C<REF(C,1)*1.05,0,VOL,3,0),COLORYELLOW;\nSTICKLINE(VOL<MA(VOL,5)/2 AND V<V12/2,0,VOL,3,0),COLORBLUE;\nSTICKLINE(VOL>MA(VOL,5)*2 AND V>V34*3 AND C<REF(C,1)*1.05 AND CROSS(C,C6) AND V>V5*1.2 AND V>V12*1.2 AND ZZ>2 AND C>H*0.975,VOL*0.5,0,3,0),COLORRED;\nSTICKLINE(VOL>MA(VOL,5)*2 AND V>V34*3 AND C<REF(C,1)*1.05 AND CROSS(C6,C) AND V>V5*1.2 AND V>V12*1.2,VOL*0.5,0,3,0),COLORRED;'}},I.prototype.Dragon4_Main=function(){return{Name:"飞龙四式",Description:"飞龙四式",IsMainIndex:!0,Args:[{Name:"N1",Value:5},{Name:"N2",Value:10},{Name:"N3",Value:50},{Name:"N4",Value:60}],Script:"蜻蜓点水:=EMA(CLOSE,N1),COLORGRAY;\n魔界:=EMA(CLOSE,N2),COLORGREEN;\n水:=EMA(CLOSE,N3),COLORRED;\nDRAWKLINE(HIGH,OPEN,LOW,CLOSE);\n生命线:MA(CLOSE,N4),COLORBLUE,LINETHICK2;\nDRAWBAND(魔界,'RGB(186,225,250)',水,'RGB(253,194,124)');\nDRAWBAND(蜻蜓点水,'RGB(128,138,135)',魔界,'RGB(0,0,255)');"}},I.prototype.Dragon4_Fig=function(){return{Name:"飞龙四式",Description:"飞龙四式",IsMainIndex:!1,Args:[],Script:"倍:VOL>=REF(V,1)*1.90 AND C>REF(C,1),COLORYELLOW;\n低:VOL<REF(LLV(VOL,13),1),COLORGREEN;\n地:VOL<REF(LLV(VOL,100),1),COLORMAGENTA; \n平:=ABS(VOL-HHV(REF(VOL,1),5))/HHV(REF(VOL,1),5)<=0.03 OR ABS(VOL-REF(VOL,1))/REF(VOL,1)<=0.03,NODRAW,COLORWHITE;\n倍缩:VOL<=REF(V,1)*0.5,COLORFF8000;\n梯量:COUNT(V>REF(V,1),3)==3 AND COUNT(C>O,3)==3,COLORBROWN;\n缩量涨:COUNT(C>REF(C,1),2)==2 AND COUNT(V<REF(V,1),2)==2,COLORBLUE;\nSTICKLINE(C>=REF(C,1),V,0,2,0),COLORRED;\nSTICKLINE(C<REF(C,1),V,0,2,0),COLORGREEN;\nSTICKLINE(倍,0,V,2,0),COLORYELLOW;\nSTICKLINE(低,0,V,2,0),COLORGREEN;\nSTICKLINE(地,0,V,2,0),COLORLIMAGENTA;\nSTICKLINE(平,0,V,2,0),COLORGRAY;\nSTICKLINE(倍缩,0,V,2,0),COLORFF8000;\nSTICKLINE(梯量,0,V,2,0),COLORBROWN;\nSTICKLINE(缩量涨,0,V,2,0),COLORBLUE;"}},I.prototype.FundsAnalysis=function(){return{Name:"资金分析",Description:"资金分析",IsMainIndex:!1,Args:[{Name:"M",Value:55},{Name:"N",Value:34}],Script:"LC:=REF(CLOSE,1);\nRSI:=((SMA(MAX((CLOSE - LC),0),3,1) / SMA(ABS((CLOSE - LC)),3,1)) * 100);\nFF:=EMA(CLOSE,3);\nMA15:=EMA(CLOSE,21); DRAWTEXT(CROSS(85,RSI),75,'▼'),COLORGREEN;\nVAR1:=IF(YEAR>=2038 AND MONTH>=1,0,1);\nVAR2:=REF(LOW,1)*VAR1;\nVAR3:=SMA(ABS(LOW-VAR2),3,1)/SMA(MAX(LOW-VAR2,0),3,1)*100*VAR1;\nVAR4:=EMA(IF(CLOSE*1.3,VAR3*10,VAR3/10),3)*VAR1;\nVAR5:=LLV(LOW,30)*VAR1;\nVAR6:=HHV(VAR4,30)*VAR1;\nVAR7:=IF(MA(CLOSE,58),1,0)*VAR1;\nVAR8:=EMA(IF(LOW<=VAR5,(VAR4+VAR6*2)/2,0),3)/618*VAR7*VAR1;\n吸筹A:IF(VAR8>100,100,VAR8)*VAR1,COLORFB2F3B;\n{吸筹B}STICKLINE(吸筹A>-150,0,吸筹A,8,0),COLORFB2F3B;\n\n散户线: 100*(HHV(HIGH,M)-CLOSE)/(HHV(HIGH,M)-LLV(LOW,M)),COLORAA89BD,LINETHICK2;\nRSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:=SMA(RSV,3,1);\nD:=SMA(K,3,1);\nJ:=3*K-2*D;\n主力线:EMA(J,5),COLORF39800,LINETHICK2;\nDRAWICON(CROSS(主力线,散户线),主力线,1);\nDRAWICON(CROSS(散户线,主力线),主力线,2);"}},I.prototype.MarginProportion=function(){return{Name:"融资占比(%)",Description:"融资占比",IsMainIndex:!1,Condition:{Period:[D.KLINE_DAY_ID]},Args:[],Script:"占比:MARGIN(2);"}},I.prototype.Margin2=function(){return{Name:"两融余额",Description:"融资融券余额",IsMainIndex:!1,Condition:{Period:[D.KLINE_DAY_ID]},Args:[{Name:"N",Value:5}],Script:"T1:MARGIN(1);\n        T2:MA(MARGIN(1),N);"}},I.prototype.Margin3=function(){return{Name:"两融余额",Description:"融资融券余额",IsMainIndex:!1,Condition:{Period:[D.KLINE_DAY_ID]},Args:[{Name:"N",Value:5}],Script:"T1:=MARGIN(1);\n        T2:=MA(MARGIN(1),N);\n        STICKLINE(T1-T2>=0,0,T1-T2,50,T1>T2),COLORRED;\n        STICKLINE(T1-T2<0,T1-T2,0,50,T1>T2),COLORGREEN;"}},I.prototype.FXG_BSPoint=function(){return{Name:"操盘BS点",Description:"操盘BS点",IsMainIndex:!0,Args:[],Script:"MA5:MA(CLOSE,5);\n        MA13:MA(CLOSE,13);\n        MA21:MA(CLOSE,21);\n        MA34:MA(CLOSE,34);\n        {MA55:MA(CLOSE,55),COLOR0000FF;}\n        {MA120:=MA(CLOSE,120),COLORFFFF00;}\n        天使:=EMA(C,2),COLOR000000;\n        魔鬼:=EMA(SLOPE(C,21)*20+C,42),COLOR000000;\n        买:=CROSS(天使,魔鬼);\n        卖:=CROSS(魔鬼,天使);\n        DRAWICON(买,L*0.97,13);\n        DRAWICON(卖,H*1.03,14);\n        DRAWKLINE_IF(天使>=魔鬼,HIGH,CLOSE,LOW,OPEN),COLORRED;\n        DRAWKLINE_IF(天使<魔鬼,HIGH,CLOSE,LOW,OPEN),COLORBLUE;\n        DRAWKLINE_IF(CROSS(天使,魔鬼),HIGH,CLOSE,LOW,OPEN),COLORYELLOW;\n        DRAWKLINE_IF(CROSS(魔鬼,天使),HIGH,CLOSE,LOW,OPEN),COLORBLACK;"}},I.prototype.FXG_INDEX=function(){return{Name:"涨停多空线",Description:"涨停多空线",IsMainIndex:!1,Args:[],Script:"做多能量线: SMA((CLOSE-LLV(LOW,9))/(HHV(HIGH,9)-LLV(LOW,9))*100,5,1)-8,COLORRED,LINETHICK3;\n做空能量线: SMA((HHV(HIGH,36)-CLOSE)/(HHV(HIGH,36)-LLV(LOW,36))*100,2,1),COLORGREEN,LINETHICK3;\n20,POINTDOT,COLORF00FF0;\n50,POINTDOT,COLORGREEN;\n80,POINTDOT,COLORLIBLUE;"}},I.prototype.FXG_INDEX2=function(){return{Name:"涨停吸筹区",Description:"涨停吸筹区",IsMainIndex:!1,Args:[],Script:"VAR0:=EMA(HHV(HIGH,500),21); \nVAR1:=EMA(HHV(HIGH,250),21);\nVAR2:=EMA(HHV(HIGH,90),21); \nVAR3:=EMA(LLV(LOW,500),21); \nVAR4:=EMA(LLV(LOW,250),21); \nVAR5:=EMA(LLV(LOW,90),21);\n\nVAR6:=EMA((VAR3*0.96+VAR4*0.96+VAR5*0.96+VAR0*0.558+VAR1*0.558+VAR2*0.558)/6,21); \nVAR7:=EMA((VAR3*1.25+VAR4*1.23+VAR5*1.2+VAR0*0.55+VAR1*0.55+VAR2*0.65)/6,21); \nVAR8:=EMA((VAR3*1.3+VAR4*1.3+VAR5*1.3+VAR0*0.68+VAR1*0.68+VAR2*0.68)/6,21); \nVAR9:=EMA((VAR6*3+VAR7*2+VAR8)/6*1.738,21); \nVAR10:=REF(LOW,1); \nVAR11:=SMA(ABS(LOW-VAR10),3,1)/SMA(MAX(LOW-VAR10,0),3,1)*100; \nVAR12:=EMA(IFF(CLOSE*1.35<=VAR9,VAR11*10,VAR11/10),3); \nVAR13:=LLV(LOW,30); \nVAR14:=HHV(VAR12,30); \nVAR15:=IFF(MA(CLOSE,58),1,0); \nVAR16:=EMA(IFF(LOW<=VAR13,(VAR12+VAR14*2)/2,0),3)/618*VAR15;\n\n资金入场:IFF(VAR16>0,VAR16,0),LINETHICK,LINETHICK2, COLORFF0000; \n\nA1:IFF(资金入场>0,资金入场*1.2,0),STICK,LINETHICK5, COLORFF0000;\nA2:IFF(资金入场>0,资金入场*0.8,0),STICK,LINETHICK5, COLORFF6600;\nA3:IFF(资金入场>0,资金入场*0.6,0),STICK,LINETHICK5, COLORFF9900;\nA4:IFF(资金入场>0,资金入场*0.4,0) ,STICK,LINETHICK5,COLORFFCC00;\nA5:IFF(资金入场>0,资金入场*0.2,0) ,STICK,LINETHICK5,COLORFFFF00;"}},I.prototype.FXG_INDEX3=function(){return{Name:"量能黄金点",Description:"量能黄金点",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"A:=IFF((CLOSE>126.32),VOL,VOL); \n主力:=MA(A,4),COLORRED;\n游资:=MA(A,8),COLORYELLOW;\n大户:=MA(A,16),COLORF0F000;\n散户:=MA(A,32),COLOR00FF00;\n主比:=ABS(((主力)/(主力 + 游资 + 大户 + 散户))*(100)),LINESTICK,COLORRED;\n游比:=ABS(((游资)/(主力 + 游资 + 大户 + 散户))*(100)),LINESTICK,COLORYELLOW;\n大比:=ABS(((大户)/(主力 + 游资 + 大户 + 散户))*(100)),LINESTICK,COLORF0F000;\n散比:=ABS(((散户)/(主力 + 游资 + 大户 + 散户))*(100)),LINESTICK,COLOR00FF00;\n警戒线:MA(A,180),COLORFF66FF;\nSTICKLINE((主力 > 0),0,主力,2.5,0),COLOR1020BB;\nSTICKLINE((主力 > 0),0,主力,0.7,0),COLORRED;\nSTICKLINE((游资 > 0),0,游资,2.5,0),COLOR009CFF;\nSTICKLINE((游资 > 0),0,游资,0.7,0),COLORYELLOW;\nSTICKLINE((大户 > 0),0,大户,2.5,0),COLORFF8800;\nSTICKLINE((大户 > 0),0,大户,0.7,0),COLORLIBLUE;\nSTICKLINE((散户 > 0),0,散户,2.5,0),COLOR00CA00;\nSTICKLINE((散户 > 0),0,散户,0.7,0),COLORGREEN;"}},I.prototype.NewsNegative=function(){return{Name:"负面新闻",Description:"负面新闻统计",IsMainIndex:!1,FloatPrecision:0,Args:[{Name:"N",Value:5},{Name:"N2",Value:10}],Script:"负面:NEWS(1);\nMA1:MA(负面,N);\nMA2:MA(负面,N2);"}},I.prototype.UpDownAnalyze=function(){return{Name:"涨跌趋势",Description:"涨跌趋势",IsMainIndex:!1,FloatPrecision:0,Condition:{Period:[D.MINUTE_ID,D.MULTIDAY_MINUTE_ID,D.KLINE_DAY_ID]},Args:[],Script:"上涨家数:UPCOUNT('CNA.CI'),COLORRED;\n下跌家数:DOWNCOUNT('CNA.CI'),COLORGREEN;"}},I.prototype.HK2SHSZ=function(){return{Name:"北上资金",Description:"北上资金",IsMainIndex:!1,FloatPrecision:0,Condition:{Period:[D.MINUTE_ID,D.MULTIDAY_MINUTE_ID,D.KLINE_DAY_ID]},Args:[],Script:"净流入:HK2SHSZ(1),COLORSTICK;"}},I.prototype.ShareHolder=function(){return{Name:"股东人数",Description:"股东人数",IsMainIndex:!1,FloatPrecision:0,Condition:{Period:[D.KLINE_DAY_ID,D.KLINE_MONTH_ID,D.KLINE_WEEK_ID,D.KLINE_YEAR_ID]},Args:[],Script:"人数:FINANCE(100);"}},I.prototype.VOLRate=function(){return{Name:"量比",Description:"量比",IsMainIndex:!1,Condition:{Period:[D.MINUTE_ID,D.MULTIDAY_MINUTE_ID]},Args:[],Script:"LIANGBI:VOLR;"}},I.prototype.COLOR_KSTAR1=function(){return{Name:"十字星",Description:"十字星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:CLOSE==OPEN&&HIGH>LOW;"}},I.prototype.COLOR_KSTAR2=function(){return{Name:"早晨之星",Description:"早晨之星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:(REF(CLOSE,2)/REF(OPEN,2)<0.95) && (REF(OPEN,1) < REF(CLOSE,2)) && (ABS(REF(OPEN,1)-REF(CLOSE,1))/REF(CLOSE,1)<0.03) && CLOSE/OPEN>1.05 && CLOSE>REF(CLOSE,2);"}},I.prototype.COLOR_KSTAR3=function(){return{Name:"黄昏之星",Description:"黄昏之星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:REF(CLOSE,2)/REF(OPEN,2)>1.05 && REF(OPEN,1)>REF(CLOSE,2) && ABS(REF(OPEN,1)-REF(CLOSE,1))/REF(CLOSE,1)<0.03 && CLOSE/OPEN<0.95 && CLOSE<REF(CLOSE,2);"}},I.prototype.COLOR_SHI1=function(){return{Name:"长十字",Description:"长十字",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:CLOSE==OPEN&&HIGH/LOW>1.03;"}},I.prototype.COLOR_K220=function(){return{Name:"身怀六甲",Description:"身怀六甲",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:ABS(REF(CLOSE,1)-REF(OPEN,1))/REF(CLOSE,1)>0.04&&\n            ABS(CLOSE-OPEN)/CLOSE<0.005&&\n            MAX(CLOSE,OPEN)<MAX(REF(CLOSE,1),REF(OPEN,1))&&\n            MIN(CLOSE,OPEN)>MIN(REF(CLOSE,1),REF(OPEN,1));"}},I.prototype.COLOR_K300=function(){return{Name:"三个白武士",Description:"三个白武士",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:UPNDAY(CLOSE,3)&&NDAY(CLOSE,OPEN,3);"}},I.prototype.COLOR_K310=function(){return{Name:"三只乌鸦",Description:"三只乌鸦",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:DOWNNDAY(CLOSE,3)&&NDAY(OPEN,CLOSE,3);"}},I.prototype.COLOR_K380=function(){return{Name:"光头阳线",Description:"光头阳线",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:HIGH==CLOSE&&HIGH>LOW;"}},I.prototype.COLOR_K390=function(){return{Name:"光脚阴线",Description:"光脚阴线",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:LOW==CLOSE&&HIGH>LOW;"}},I.prototype.COLOR_K134=function(){return{Name:"垂死十字",Description:"垂死十字",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:CLOSE==OPEN&&CLOSE==LOW&&CLOSE<HIGH;"}},I.prototype.COLOR_K140=function(){return{Name:"早晨十字星",Description:"早晨十字星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:REF(CLOSE,2)/REF(OPEN,2)<0.95&&\nREF(OPEN,1)<REF(CLOSE,2)&&\nREF(OPEN,1)==REF(CLOSE,1)&&\nCLOSE/OPEN>1.05&&CLOSE>REF(CLOSE,2);"}},I.prototype.COLOR_K150=function(){return{Name:"黄昏十字星",Description:"黄昏十字星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:REF(CLOSE,2)/REF(OPEN,2)>1.05&&\nREF(OPEN,1)>REF(CLOSE,2)&&\nREF(OPEN,1)=REF(CLOSE,1)&&\nCLOSE/OPEN<0.95&&CLOSE<REF(CLOSE,2);"}},I.prototype.COLOR_K160=function(){return{Name:"射击之星",Description:"射击之星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:MIN(OPEN,CLOSE)==LOW&&\nHIGH-LOW>3*(MAX(OPEN,CLOSE)-LOW)&&\nCLOSE>MA(CLOSE,5);"}},I.prototype.COLOR_K165=function(){return{Name:"倒转锤头",Description:"倒转锤头",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:MIN(OPEN,CLOSE)==LOW&&\nHIGH-LOW>3*(MAX(OPEN,CLOSE)-LOW)&&\nCLOSE<MA(CLOSE,5);"}},I.prototype.COLOR_K170=function(){return{Name:"锤头",Description:"锤头",IsMainIndex:!0,InstructionType:2,Script:"OUT:HIGH==MAX(OPEN,CLOSE)&&\nHIGH-LOW>3*(HIGH-MIN(OPEN,CLOSE))&&\nCLOSE<MA(CLOSE,5);"}},I.prototype.COLOR_K180=function(){return{Name:"吊颈",Description:"吊颈",IsMainIndex:!0,InstructionType:2,Script:"OUT:HIGH==MAX(OPEN,CLOSE)&&\nHIGH-LOW>3*(HIGH-MIN(OPEN,CLOSE))&&\nCLOSE>MA(CLOSE,5);"}},I.prototype.COLOR_K190=function(){return{Name:"穿头破脚",Description:"穿头破脚",IsMainIndex:!0,InstructionType:2,Script:"OUT:(REF(CLOSE,1)/REF(OPEN,1)>1.03&&\nCLOSE/OPEN<0.96&&\nCLOSE<REF(OPEN,1)&&OPEN>REF(CLOSE,1))||\n(REF(CLOSE,1)/REF(OPEN,1)<0.97&&\nCLOSE/OPEN>1.04&&\nCLOSE>REF(OPEN,1)&&OPEN<REF(CLOSE,1));"}},I.prototype.COLOR_SWORD=function(){return{Name:"剑",Description:"剑",IsMainIndex:!0,InstructionType:2,Script:"AA:=VOL>REF(VOL,1)||VOL>(CAPITAL*0.1);\nBB:=OPEN>=(REF(HIGH,1))&&REF(HIGH,1)>(REF(HIGH,2)*1.06);\nCC:=CLOSE>(REF(CLOSE,1))-(REF(CLOSE,1)*0.01);\nDD:=CLOSE<(HIGH*0.965) && HIGH>(OPEN*1.05);\nEE:=LOW<OPEN && LOW<CLOSE&&HIGH>(REF(CLOSE,1)*1.06);\nFF:=(HIGH-(MAX(OPEN,CLOSE)))/2>(MIN(OPEN,CLOSE))-LOW;\nGG:=(ABS(OPEN-CLOSE))/2<(MIN(OPEN,CLOSE)-LOW);\nSWORDO:AA&&BB&&CC&&DD&&EE&&FF&&GG;"}},I.prototype.COLOR_CSFR=function(){return{Name:"出水芙蓉",Description:"出水芙蓉",IsMainIndex:!0,InstructionType:2,Script:"A:=CLOSE>OPEN;\nB:=A&&CLOSE>MA(CLOSE,S)&&CLOSE>MA(CLOSE,M)&&CLOSE>MA(CLOSE,LL);\nCC:=B&&OPEN<MA(CLOSE,M)&&OPEN<MA(CLOSE,LL);\nCSFRO:CC&&(CLOSE-OPEN)>0.0618*CLOSE;"}},I.prototype.COLOR_WYGD=function(){return{Name:"乌云盖顶",Description:"乌云盖顶",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,1)/REF(OPEN,1)>1.03 AND \nCLOSE/OPEN<0.97 AND \nOPEN>REF(CLOSE,1) AND CLOSE<REF(CLOSE,1), 3);"}},I.prototype.COLOR_SGCJ=function(){return{Name:"曙光初现",Description:"曙光初现",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,1)/REF(OPEN,1)<0.97 AND \nCLOSE/OPEN>1.03 AND \nOPEN<REF(CLOSE,1) AND CLOSE>REF(CLOSE,1), 3);"}},I.prototype.COLOR_SZTAI=function(){return{Name:"十字胎",Description:"十字胎",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( ABS(REF(CLOSE,1)-REF(OPEN,1))/REF(CLOSE,1) > 0.04 AND \nCLOSE==OPEN AND CLOSE < MAX(REF(CLOSE,1),REF(OPEN,1)) AND \nCLOSE > MIN(REF(CLOSE,1),REF(OPEN,1)), 2);"}},I.prototype.COLOR_PINGDING=function(){return{Name:"平顶",Description:"平顶",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET(ABS(HIGH-REF(HIGH,1))/HIGH<0.001,2);"}},I.prototype.COLOR_PINGDI=function(){return{Name:"平底",Description:"平底",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET((ABS(LOW-REF(LOW,1))/LOW<0.001 AND \nABS(REF(LOW,1)-REF(LOW,2))/REF(LOW,1)<=0.001),2);"}},I.prototype.COLOR_DAYANZHU=function(){return{Name:"大阳烛",Description:"大阳烛",IsMainIndex:!0,InstructionType:2,Script:"VAR1:CLOSE/OPEN>1.05 AND HIGH/LOW < CLOSE/OPEN+0.018;"}},I.prototype.COLOR_DAYINGZHU=function(){return{Name:"大阴烛",Description:"大阴烛",IsMainIndex:!0,InstructionType:2,Script:"VAR1:OPEN/CLOSE > 1.05 AND HIGH/LOW < OPEN/CLOSE+0.018;"}},I.prototype.COLOR_HYFG=function(){return{Name:"好友反攻",Description:"好友反攻",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( (REF(CLOSE,1)<REF(OPEN,1) AND \nCLOSE>OPEN AND ABS(CLOSE-REF(CLOSE,1))/CLOSE<0.002),2);"}},I.prototype.COLOR_TKQK=function(){return{Name:"跳空缺口",Description:"跳空缺口",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( HIGH<REF(LOW,1) OR LOW>REF(HIGH,1),2);"}},I.prototype.COLOR_SFWY=function(){return{Name:"双飞乌鸦",Description:"双飞乌鸦",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( REF(CLOSE,1)<REF(OPEN,1) AND CLOSE<OPEN AND CLOSE/OPEN<0.98,1);"}},I.prototype.COLOR_SSSBQ=function(){return{Name:"上升三部曲",Description:"上升三部曲",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,4)/REF(OPEN,4)>1.03 AND \nREF(CLOSE,3)<REF(OPEN,3) AND \nREF(CLOSE,2)<REF(OPEN,2) AND \nREF(CLOSE,1)<REF(OPEN,1) AND \nREF(LOW,4)<REF(LOW,3) AND \nREF(LOW,4)<REF(LOW,2) AND \nREF(LOW,4)<REF(LOW,1) AND \nREF(HIGH,4)>REF(HIGH,3) AND \nREF(HIGH,4)>REF(HIGH,2) AND \nREF(HIGH,4)>REF(HIGH,1) AND \nCLOSE/OPEN>1.03 AND \nCLOSE>REF(CLOSE,4), 5);"}},I.prototype.COLOR_XDSBQ=function(){return{Name:"下跌三部曲",Description:"下跌三部曲",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,4)/REF(OPEN,4)<0.97 AND \nREF(CLOSE,3)>REF(OPEN,3) AND \nREF(CLOSE,2)>REF(OPEN,2) AND \nREF(CLOSE,1)>REF(OPEN,1) AND \nREF(LOW,4)<REF(LOW,3) AND \nREF(LOW,4)<REF(LOW,2) AND \nREF(LOW,4)<REF(LOW,1) AND \nREF(HIGH,4)>REF(HIGH,3) AND \nREF(HIGH,4)>REF(HIGH,2) AND \nREF(HIGH,4)>REF(HIGH,1) AND \nCLOSE/OPEN<0.97 AND \nCLOSE<REF(CLOSE,4), 5);"}},I.prototype.COLOR_CHXY=function(){return{Name:"长下影",Description:"长下影",IsMainIndex:!0,InstructionType:2,Script:"VAR2:(MIN(CLOSE,OPEN)-LOW)/(HIGH-LOW)>0.667;"}},I.prototype.COLOR_CHSY=function(){return{Name:"长上影",Description:"长上影",IsMainIndex:!0,InstructionType:2,Script:"VAR2:(HIGH-MAX(CLOSE,OPEN))/(HIGH-LOW)>0.667,COLORBLUE;"}},I.prototype.COLOR_FENLI=function(){return{Name:"分离",Description:"分离",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( OPEN==REF(OPEN,1) AND (CLOSE-OPEN)*(REF(CLOSE,1)-REF(OPEN,1))<0,2);"}},I.prototype.TRADE_BIAS=function(){return{Name:"BIAS",Description:"乖离率专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:12},{Name:"LL",Value:6},{Name:"LH",Value:6}],Script:"BIAS:=(CLOSE-MA(CLOSE,N))/MA(CLOSE,N)*100;\nENTERLONG:CROSS(-LL,BIAS);\nEXITLONG:CROSS(BIAS,LH);"}},I.prototype.TRADE_CCI=function(){return{Name:"CCI",Description:"CCI专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:14}],Script:"TYP:=(HIGH+LOW+CLOSE)/3;\nCCI:=(TYP-MA(TYP,N))/(0.015*AVEDEV(TYP,N));\nINDEX:=CCI;\nENTERLONG:CROSS(INDEX,-100);\nEXITLONG:CROSS(100,INDEX);"}},I.prototype.TRADE_DMI=function(){return{Name:"DMI",Description:"趋向专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:14}],Script:"MTR:=SUM(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(LOW-REF(CLOSE,1))),N);\nHD :=HIGH-REF(HIGH,1);\nLD :=REF(LOW,1)-LOW;\nPDM:=SUM(IF(HD>0&&HD>LD,HD,0),N);\nMDM:=SUM(IF(LD>0&&LD>HD,LD,0),N);\nPDI:=PDM*100/MTR;\nMDI:=MDM*100/MTR;\nENTERLONG:CROSS(PDI,MDI);\nEXITLONG:CROSS(MDI,PDI);"}},I.prototype.TRADE_KD=function(){return{Name:"KD",Description:"KD指标专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"WRSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nWK:=SMA(WRSV,M1,1);\nD:=SMA(WK,M2,1);\nENTERLONG:CROSS(WK,D)&&WK<20;\nEXITLONG:CROSS(D,WK)&&WK>80;"}},I.prototype.TRADE_BOLL=function(){return{Name:"BOLL",Description:"布林带专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:20}],Script:"MID :=MA(CLOSE,N);\nUPPER:=MID+2*STD(CLOSE,N);\nLOWER:=MID-2*STD(CLOSE,N);\nENTERLONG:CROSS(CLOSE,LOWER);\nEXITLONG:CROSS(CLOSE,UPPER);"}},I.prototype.TRADE_KDJ=function(){return{Name:"KDJ",Description:"KDJ专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3}],Script:"RSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:=SMA(RSV,M1,1);\nD:=SMA(K,M1,1);\nJ:=3*K-2*D;\nENTERLONG:CROSS(J,0);\nEXITLONG:CROSS(100,J);"}},I.prototype.TRADE_MA=function(){return{Name:"MA",Description:"均线专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"SHORT",Value:5},{Name:"LONG",Value:20}],Script:"ENTERLONG:CROSS(MA(CLOSE,SHORT),MA(CLOSE,LONG));\nEXITLONG:CROSS(MA(CLOSE,LONG),MA(CLOSE,SHORT));"}},I.prototype.TRADE_MACD=function(){return{Name:"MACD",Description:"MACD专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"LONG",Value:26},{Name:"SHORT",Value:12},{Name:"M",Value:9}],Script:"DIFF:=EMA(CLOSE,SHORT) - EMA(CLOSE,LONG);\nDEA  := EMA(DIFF,M);\nMACD := 2*(DIFF-DEA);\nENTERLONG:CROSS(MACD,0);\nEXITLONG:CROSS(0,MACD);"}},I.prototype.TRADE_MTM=function(){return{Name:"MTM",Description:"动力指标专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:6}],Script:"WMTM:=C-REF(C,N);\nENTERLONG:CROSS(WMTM,0);\nEXITLONG:CROSS(0,WMTM);"}},I.prototype.TRADE_PSY=function(){return{Name:"PSY",Description:"PSY心理线专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:12},{Name:"LL",Value:10},{Name:"LH",Value:85}],Script:"MYPSY:=COUNT(CLOSE>REF(CLOSE,1),N)/N*100;\nENTERLONG:CROSS(LL,MYPSY);\nEXITLONG:CROSS(MYPSY,LH);"}},I.prototype.TRADE_ROC=function(){return{Name:"ROC",Description:"变动速率专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"WROC:=MA(100*(CLOSE-REF(CLOSE,N))/REF(CLOSE,N),M);\nENTERLONG:CROSS(WROC,0);\nEXITLONG:CROSS(0,WROC);"}},I.prototype.TRADE_RSI=function(){return{Name:"RSI",Description:"相对强弱专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:6},{Name:"LL",Value:20},{Name:"LH",Value:80}],Script:"LC:=REF(CLOSE,1);\nWRSI:=SMA(MAX(CLOSE-LC,0),N,1)/SMA(ABS(CLOSE-LC),N,1)*100;\nENTERLONG:CROSS(WRSI,LL);\nEXITLONG:CROSS(LH,WRSI);"}},I.prototype.TRADE_VR=function(){return{Name:"VR",Description:"VR容量比率专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:26},{Name:"LL",Value:70},{Name:"LH",Value:250}],Script:"WVR := SUM((IF(CLOSE>OPEN,VOL,0)+IF(CLOSE=OPEN,VOL/2,0)),N)/SUM((IF(CLOSE<OPEN,VOL,0)+IF(CLOSE=OPEN,VOL/2,0)),N)*100;\nENTERLONG:CROSS(LL,WVR);\nEXITLONG:CROSS(WVR,LH);"}},I.prototype.TRADE_DPSJ=function(){return{Name:"DPSJ",Description:"大盘随机专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N1",Value:18},{Name:"N2",Value:12}],Script:"RSV:=(INDEXC-LLV(INDEXL,N1))/(HHV(INDEXH,N1)-LLV(INDEXL,N1))*100;\nK:=SMA(RSV,N2,1);\nHSL:VOL/100/(FINANCE(7));\nENTERLONG: CROSS(K,20);\nEXITLONG: (CROSS(HSL,5) OR CROSS(K,80));"}},I.prototype.Zealink_Index1=function(){return{Name:"资金吸筹",Description:"资金吸筹",IsMainIndex:!1,Args:[],Script:"VAR1:=REF((LOW+OPEN+CLOSE+HIGH)/4,1);  \nVAR2:= SMA(ABS(LOW - VAR1), 13, 1) / SMA(MAX(LOW - VAR1, 0), 10, 1);\nVAR3:= EMA(VAR2, 10);\nVAR4:= LLV(LOW, 33);\nVAR5:= EMA(IF(LOW <= VAR4, VAR3, 0), 3) * 0.2;\n主力进场: IF(VAR5 > REF(VAR5, 1), VAR5,0), COLORRED, NODRAW;\n洗盘: IF(VAR5 < REF(VAR5, 1),  VAR5,0), COLORYELLOW, NODRAW;\nSTICKLINE(VAR5> REF(VAR5, 1),0, VAR5, 20, 0), COLORRED;\nSTICKLINE(VAR5 < REF(VAR5, 1), 0, VAR5, 20, 0), COLORYELLOW;"}},I.prototype.Zealink_Index2=function(){return{Name:"牛熊区间",Description:"牛熊区间",IsMainIndex:!1,YSpecificMaxMin:{Max:100,Min:1,Count:4},YSplitScale:[1,50,100],Args:[],Script:"短高H:=(20*H+19*REF(H,1)+18*REF(H,2)+17*REF(H,3)+16*REF(H,4)+15*REF(H,5)+14*REF(H,6)\n+ 13 * REF(H, 7) + 12 * REF(H, 8) + 11 * REF(H, 9) + 10 * REF(H, 10) + 9 * REF(H, 11) + 8 * REF(H, 12)\n+ 7 * REF(H, 13) + 6 * REF(H, 14) + 5 * REF(H, 15) + 4 * REF(H, 16) + 3 * REF(H, 17) + 2 * REF(H, 18) +\nREF(H, 20))/ 210, COLORBLUE, LINETHICK1;\n短低L:= (20 * L + 19 * REF(L, 1) + 18 * REF(L, 2) + 17 * REF(L, 3) + 16 * REF(L, 4) + 15 * REF(L, 5) + 14 * REF(L, 6)\n+ 13 * REF(L, 7) + 12 * REF(L, 8) + 11 * REF(L, 9) + 10 * REF(L, 10) + 9 * REF(L, 11) + 8 * REF(L, 12)\n+ 7 * REF(L, 13) + 6 * REF(L, 14) + 5 * REF(L, 15) + 4 * REF(L, 16) + 3 * REF(L, 17) + 2 * REF(L, 18) +\nREF(L, 20)) / 210, COLORBLUE, LINETHICK1;\nD90H:= EMA(短高H, 90), COLORRED, LINETHICK1;\nD90L:= EMA(短低L, 90), COLORRED, LINETHICK1;\nD90差:= D90H - D90L;\nD90顶:= D90H + D90差 * 2, COLORRED, LINETHICK1;\nD90底:= D90L - D90差 * 2, COLORRED, LINETHICK1;\n高0:= (EMA(EMA(H, 25), 25) - EMA(EMA(L, 25), 25)) * 1 + EMA(EMA(H, 25), 25), LINETHICK1, COLORWHITE;\n低0:= EMA(EMA(L, 25), 25) - (EMA(EMA(H, 25), 25) - EMA(EMA(L, 25), 25)) * 1, LINETHICK1, COLORWHITE;\n多头定位:= 低0 >= D90底 AND 高0 >= D90顶;\n空头定位:= 高0 <= D90顶 AND 低0 <= D90底;\n震荡定位:= 低0 >= D90底 AND 高0 <= D90顶;\n牛市: IF(多头定位 == 1, 100, 1), COLORRED, NODRAW;\n熊市: IF(空头定位 == 1, 100, 1), COLORGREEN, NODRAW;\n震荡: IF(震荡定位 == 1, 100, 1), COLORGRAY, NODRAW;\nSTICKLINE(多头定位 == 1, 100, 1, 100, 0), COLORRED;\nSTICKLINE(空头定位 == 1, 100, 1, 100, 0), COLORGREEN;\nSTICKLINE(震荡定位 == 1, 100, 1, 100, 0), COLORGRAY;"}},I.prototype.Zealink_Index3=function(){return{Name:"持仓信号",Description:"持仓信号",IsMainIndex:!0,Args:[],Script:'买线:=EMA(C,2);\n卖线:=EMA(SLOPE(C,30)*5+C,20); \nBU:=CROSS(买线,卖线);\nSEL:=CROSS(卖线,买线);\n\nSTICKLINE(买线>=卖线 AND CLOSE>OPEN,LOW,HIGH,0,1),COLORRED;\nSTICKLINE(买线>=卖线 AND CLOSE<OPEN,LOW,HIGH,0,1),COLORRED;\nSTICKLINE(买线>=卖线 AND CLOSE>OPEN,CLOSE,OPEN,50,1),COLORRED;\nSTICKLINE(买线>=卖线 AND CLOSE<OPEN,CLOSE,OPEN,50,0),COLORRED;\nSTICKLINE(买线<卖线 AND CLOSE<OPEN,LOW,HIGH,0,1),COLORGREEN;\nSTICKLINE(买线<卖线 AND CLOSE>OPEN,LOW,HIGH,0,1),COLORGREEN;\nSTICKLINE(买线<卖线 AND CLOSE<OPEN,CLOSE,OPEN,50,0),COLORGREEN;\nSTICKLINE(买线<卖线 AND CLOSE>OPEN,CLOSE,OPEN,50,1),COLORGREEN;\n\nHHJSJDA:=(3*CLOSE+OPEN+LOW+HIGH)/6;\nHHJSJDB:(19*HHJSJDA+19*REF(HHJSJDA,1)+18*REF(HHJSJDA,2)+17*REF(HHJSJDA,3)+16*REF(HHJSJDA,4)+15*REF(HHJSJDA,5)+14*REF(HHJSJDA,6)\n+13*REF(HHJSJDA,7)+12*REF(HHJSJDA,8)+11*REF(HHJSJDA,9)+10*REF(HHJSJDA,10)+9*REF(HHJSJDA,11)+8*REF(HHJSJDA,12)+7*REF(HHJSJDA,13)+6*REF(HHJSJDA,14)+5*REF(HHJSJDA,15)+4*REF(HHJSJDA,16)+3*REF(HHJSJDA,17)+2*REF\n(HHJSJDA,20)+REF(HHJSJDA,19))/210,COLORYELLOW;\nHHJSJDC:MA(HHJSJDB,5),COLORRED;\n\nSVAR11:=HHV(HIGH,34);\nSVAR14:=CLOSE-REF(CLOSE,1);\nSVAR15:=MAX(SVAR14,0);\nSVAR16:=ABS(SVAR14);\nSVAR17:=SMA(SVAR15,7,1)/SMA(SVAR16,7,1)*100;\nSVAR18:=SMA(SVAR15,13,1)/SMA(SVAR16,13,1)*100;\nSVAR19:=BARSCOUNT(CLOSE);\nSVAR20:=SMA(MAX(SVAR14,0),6,1)/SMA(ABS(SVAR14),6,1)*100;\nSVAR21:=(-200)*(HHV(HIGH,60)-CLOSE)/(HHV(HIGH,60)-LLV(LOW,60))+100;\nSVAR1A:=(CLOSE-LLV(LOW,15))/(HHV(HIGH,15)-LLV(LOW,15))*100;\nSVAR1B:=SMA((SMA(SVAR1A,4,1)-50)*2,3,1);\nSVAR1C:=(INDEXC-LLV(INDEXL,14))/(HHV(INDEXH,14)-LLV(INDEXL,14))*100;\nSVAR1D:=SMA(SVAR1C,4,1);\nSVAR1E:=SMA(SVAR1D,3,1);\nSVAR1F:=(HHV(HIGH,30)-CLOSE)/CLOSE*100;\nSVAR22:=SVAR20<=25 AND SVAR21<-95 AND SVAR1F>20 AND SVAR1B<-30 AND SVAR1E<30 AND SVAR11-CLOSE>=-0.25 AND SVAR17<22 AND SVAR18<28 AND SVAR19>50;\nBUY3:=CROSS(SVAR22,0.5) AND COUNT(SVAR22==1,10)==1;\n\nSVARF:=LOW*0.9;\nSVAR10X:=100-3*SMA((OPEN-LLV(LOW,75))/(HHV(HIGH,75)-LLV(LOW,75))*100,20,1)+2*SMA(SMA((OPEN-LLV(LOW,75))/(HHV(HIGH,75)-LLV(LOW,75))*100,20,1),15,1);\nSVAR11X:=SVARF<REF(SVAR10X,1) AND VOL>REF(VOL,1) AND CLOSE>REF(CLOSE,1);\nBUY2:=SVAR11X AND COUNT(SVAR11X,30)==1;\n\nVAR1:=(CLOSE+HIGH+LOW+OPEN)/4;\nVAR2:=SUMBARS(VOL,CAPITAL);\nVAR3:=HHV(VAR1,VAR2);\nVAR4:=LLV(VAR1,VAR2);\nVAR5:=(2*VAR1-VAR4-REF(VAR4,1))/(VAR3-VAR4);\nVAR6:=(VAR1-VAR4)/(VAR3-VAR4);\nVAR7:=IF(VAR1<=VAR4,VAR5*60,VAR6*60);\nVAR8:=600*(EMA(CLOSE,3)-EMA(LOW,30))/EMA(LOW,30);\nVAR9:=EMA(VAR8,7);\nVARC:=HHV(HIGH,9)-LLV(LOW,9);\nVARD:=HHV(HIGH,9)-CLOSE;\nVARE:=CLOSE-LLV(LOW,9);\nVARF:=VARD/VARC*100-70;\nVAR10:=(CLOSE-LLV(LOW,60))/(HHV(HIGH,60)-LLV(LOW,60))*100;\nVAR11:=(2*CLOSE+HIGH+LOW)/4;\nVAR12:=SMA(VARE/VARC*100,3,1);\nVAR13:=LLV(LOW,34);\nVAR14:=SMA(VAR12,3,1)-SMA(VARF,9,1);\nVAR15:=IF(VAR14>100,VAR14-100,0);\nVAR16:=HHV(HIGH,34);\nVAR17:=EMA((VAR11-VAR13)/(VAR16-VAR13)*100,8);\nVAR18:=EMA(VAR17,5);\nBUY:=STICKLINE(VAR17-VAR18>0,VAR17,VAR18,8,1),COLORRED;\nSELL:=STICKLINE(VAR17-VAR18<0,VAR17,VAR18,8,1),COLORGREEN;\nBUY1:=VAR17>VAR18 AND REF(VAR17,1)<REF(VAR18,1);\nSELL1:=VAR17<VAR18 AND REF(VAR17,1)>REF(VAR18,1);\n\n短高H:=(20*H+19*REF(H,1)+18*REF(H,2)+17*REF(H,3)+16*REF(H,4)+15*REF(H,5)+14*REF(H,6)\n+13*REF(H,7)+12*REF(H,8)+11*REF(H,9)+10*REF(H,10)+9*REF(H,11)+8*REF(H,12)\n+7*REF(H,13)+6*REF(H,14)+5*REF(H,15)+4*REF(H,16)+3*REF(H,17)+2*REF(H,18)+\nREF(H,20))/210,COLORBLUE,LINETHICK1;\n短低L:=(20*L+19*REF(L,1)+18*REF(L,2)+17*REF(L,3)+16*REF(L,4)+15*REF(L,5)+14*REF(L,6)\n+13*REF(L,7)+12*REF(L,8)+11*REF(L,9)+10*REF(L,10)+9*REF(L,11)+8*REF(L,12)\n+7*REF(L,13)+6*REF(L,14)+5*REF(L,15)+4*REF(L,16)+3*REF(L,17)+2*REF(L,18)+\nREF(L,20))/210,COLORBLUE,LINETHICK1;\nD90H:=EMA(短高H,90),COLORRED,LINETHICK1;\nD90L:=EMA(短低L,90),COLORRED,LINETHICK1;\nD90差:=D90H-D90L;\nD90顶:=D90H+D90差*2,COLORRED,LINETHICK1;\nD90底:=D90L-D90差*2,COLORRED,LINETHICK1;\n高0:=(EMA(EMA(H,25),25)-EMA(EMA(L,25),25))*1+EMA(EMA(H,25),25),LINETHICK1,COLORWHITE;\n低0:=EMA(EMA(L,25),25)-(EMA(EMA(H,25),25)-EMA(EMA(L,25),25))*1,LINETHICK1,COLORWHITE;\n多头定位:=低0>=D90底 AND 高0>=D90顶;\n空头定位:=高0<=D90顶 AND 低0<=D90底;\n震荡定位:=低0>=D90底 AND 高0<=D90顶;\n\n牛市:=多头定位==1;\n熊市:=空头定位==1;\n震荡:=震荡定位==1;\n\n非牛市:=熊市 OR 震荡;\n非熊市:=牛市 OR 震荡;\n\nBUY11:=BUY1 AND 非熊市;\nSELL11:=SELL1 AND 震荡定位==0;\n\nBUY111:=BUY11 AND COUNT(BUY11,10)<2;\nBUY0:=BUY111 AND COUNT(BUY111,21)==1;\nSELL111:=SELL11 AND COUNT(SELL11,10)<2;\nSELL0:=SELL111 AND COUNT(SELL111,10)==1;\n\nXK1:=EMA(100*(CLOSE-LLV(LOW,34))/(HHV(HIGH,34)-LLV(LOW,34)),3)/4;\n上穿:=REF(XK1,1)<5 AND XK1>=5;\nBUY4:=上穿 AND COUNT(XK1<2,12)<1;\n\nSELL2:=REF(XK1,1)<=22.5 AND XK1>22.5 AND COUNT(REF(XK1,1)>=22.5 AND XK1<22.5,5)>0;\nSELL3:=REF(XK1,1)>=21.5 AND XK1<21.5 AND COUNT(REF(XK1,1)>=22.5 AND XK1<22.5,12)>1;\nSELL4:=SELL2 OR SELL3 AND COUNT((SELL2 OR SELL3)==1,5)==1;\n\nSUPERDRAWTEXT(BUY0,L,"机会",2,10),COLORRED;\nSUPERDRAWTEXT(SELL0,H,"风险",1,10),COLORGREEN;\nSUPERDRAWTEXT(BUY2,L,"机会",2,10),COLORRED;\nSUPERDRAWTEXT(BUY4,L,"机会",2,10),COLORRED;\nSUPERDRAWTEXT(SELL4,H,"风险",1,10),COLORGREEN;'}},I.prototype.Zealink_Index4=function(){return{Name:"股东实际增减持",Description:"股东实际增减持",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"增持:NEWS(4),NODRAW,COLORRED;\n减持:NEWS(5),NODRAW,COLORGREEN;\nSTICKLINE(增持>0,0,增持,1,0),COLORRED;\nSTICKLINE(减持<0,0,减持,1,0),COLORGREEN;"}},I.prototype.Zealink_Index5=function(){return{Name:"大宗交易",Description:"大宗交易",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"交易次数:NEWS(7);"}},I.prototype.Zealink_Index6=function(){return{Name:"信托持股",Description:"信托持股",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"家数:NEWS(6);"}},I.prototype.Zealink_Index7=function(){return{Name:"官网新闻",Description:"官网新闻",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"个数:NEWS(8);"}},I.prototype.Zealink_Index8=function(){return{Name:"高管要闻",Description:"高管要闻",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"个数:NEWS(9);"}},I.prototype.Zealink_Index9=function(){return{Name:"股权质押",Description:"股权质押",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"次数:NEWS(10);"}},I.prototype.Zealink_Index10=function(){return{Name:"操盘BS点",Description:"操盘BS点",IsMainIndex:!0,FloatPrecision:0,Args:[],Script:"JJ:=(CLOSE+HIGH+LOW)/3; \nA:=EMA(JJ,10); \nB:=REF(A,1);\nM1:=EMA(CLOSE,3);\nM2:=EMA(CLOSE,8); \nM3:=EMA(M2,13); \nM4:=EMA(M2,55); \nB1:=A>B AND REF(A,1)<REF(B,1);\nS1:=A<B AND REF(A,1)>REF(B,1);\nINDEXCLOSE:INDEXC,EXDATA;\nINDEXOPEN:INDEXO,EXDATA;\nDRAWICON(REF(B1,1),L*0.97,13);\nDRAWICON(REF(S1,1),H*1.03,14);"}},I.prototype.Zealink_Index11=function(){return{Name:"操盘BS点",Description:"操盘BS点",IsMainIndex:!0,FloatPrecision:0,Args:[],Script:"JJ:=(CLOSE+HIGH+LOW)/3;\nA:=EMA(JJ,10);\nB:=REF(A,1);\nM1:=EMA(CLOSE,3);\nM2:=EMA(CLOSE,8); \nM3:=EMA(M2,13);\nM4:=EMA(M2,55);\n持股区域:=STICKLINE(A>B,A,B,2,0),COLORYELLOW; \n持币区域:=STICKLINE(A<B,A,B,2,0),COLORBLUE;\n\nVR1:=(C+O+REF(C,1))/3;\nVR3:=HHV(VR1,21);\nVR4:=LLV(VR1,21);\nVR5:=(2*VR1-VR4-REF(VR4,1))/(VR3-VR4);\nVR6:=(VR1-VR4)/(VR3-VR4);\nVR7:=IF(VR1<=VR4,VR5*60,VR6*60);\nVR8:=600*(EMA(C,3)-EMA(L,30))/EMA(L,30);\nVR9:=EMA(VR8,7);\nVRA:=(WINNER(120*C/100)-WINNER(100*C/100))*100;\nVRB:=(-100)*(WINNER(120*C/100)-WINNER(100*C/100))+5;\nVRC:=HHV(H,9)-LLV(L,9);\nVRD:=HHV(H,9)-C;\nVRE:=C-LLV(L,9);\nVRF:=VRD/VRC*100-70;\nVR10:=(C-LLV(L,60))/(HHV(H,60)-LLV(L,60))*100;\nVR11:=(2*C+H+L)/4;\nVR12:=SMA(VRE/VRC*100,3,1);\nVR13:=LLV(L,34);\nVR14:=SMA(VR12,3,1)-SMA(VRF,9,1);\nVR15:=IF(VR14>100,VR14-100,0);\nVR16:=HHV(H,34);\nVR17:=EMA((VR11-VR13)/(VR16-VR13)*100,8);\nVR18:=EMA(VR17,5);\n\nB1:=A>B AND REF(A,1)<REF(B,1);\nS1:=A<B AND REF(A,1)>REF(B,1);\n\nB9:=BARSLAST(REF(B1,1) AND (REF(VR17>VR18,1) OR MIN(VR17,VR18)>REF(MAX(VR17,VR18),1)));\nS9:=BARSLAST(REF(S1,1) AND (REF(VR17<VR18,1) OR MAX(VR17,VR18)<REF(MIN(VR17,VR18),1)));\n\nDRAWICON(REF(B1,1) AND (REF(VR17>VR18,1) OR MIN(VR17,VR18)>REF(MAX(VR17,VR18),1)) AND REF(B9,2)>=S9,L*0.97,13);\nDRAWICON(REF(S1,1) AND (REF(VR17<VR18,1) OR MAX(VR17,VR18)<REF(MIN(VR17,VR18),1)) AND REF(S9,1)>=B9,H*1.03,14);\n\nDRAWKLINE_IF(VR17>VR18,HIGH,CLOSE,LOW,OPEN),COLORRED;\nDRAWKLINE_IF(VR17<VR18,HIGH,CLOSE,LOW,OPEN),COLORBLUE;\n\nINDEXCLOSE:INDEXC,EXDATA;\t\t//取指数的收盘价 回测的时候计算BATE系数用 "}},I.prototype.HeikinAshi=function(){return{Name:"平均K线",Description:"Heikin-Ashi 平均K线",IsMainIndex:!0,KLineType:-1,Args:[],Script:"HCLOSE:(OPEN+HIGH+LOW+CLOSE)/4, NODRAW;\nHOPEN:(REF(OPEN,1)+REF(CLOSE,1))/2,NODRAW;\nHHIGH:MAX(HIGH,MAX(HOPEN,HCLOSE)),NODRAW;\nHLOW:MIN(LOW,MIN(HOPEN,HCLOSE)),NODRAW;\nDRAWKLINE(HHIGH,HOPEN,HLOW,HCLOSE);"}},I.prototype.ADL=function(){return{Name:"腾落指标",Description:"腾落指标",IsMainIndex:!1,StringFormat:2,Condition:{Period:[D.KLINE_DAY_ID,D.KLINE_WEEK_ID,D.KLINE_TWOWEEK_ID,D.KLINE_MONTH_ID,D.KLINE_QUARTER_ID,D.KLINE_YEAR_ID],Include:["000001.SH","000003.SH","000016.SH","000300.SH","000905.SH","399001.SZ"," 399005.SZ","399006.SZ"]},Args:[{Name:"M",Value:7}],Script:"ADL:SUM(ADVANCE-DECLINE,0);\nMAADL:MA(ADL,M);"}},I.prototype.EMPTY=function(){return{Name:"",Description:"空指标",IsMainIndex:!0,Args:[],Script:"VAR2:=C;"}},I.prototype.CJL=function(){return{Name:"CJL",Description:"期货持仓量",IsMainIndex:!1,Args:[],Script:"成交量:VOL,VOLSTICK;\n持仓量:VOLINSTK,LINEOVERLAY;"}},I.prototype.ASI=function(){return{Name:"ASI",Description:"振动升降指标",IsMainIndex:!1,Args:[{Name:"N1",Value:6}],Script:"X_1:=REF(CLOSE,1);\nX_2:=ABS(HIGH-X_1);\nX_3:=ABS(LOW-X_1);\nX_4:=ABS(HIGH-REF(LOW,1));\nX_5:=ABS(X_1-REF(OPEN,1));\nX_6:=IF(X_2>X_3 AND X_2>X_4,X_2+X_3/2+X_5/4,IF(X_3>X_4 AND X_3>X_2,X_3+X_2/2+X_5/4,X_4+X_5/4));\nX_7:=CLOSE-X_1+(CLOSE-OPEN)/2+X_1-REF(OPEN,1);\nX_8:=8*X_7/X_6*MAX(X_2,X_3);\nASI:SUM(X_8,0),LINETHICK2;\nMASI:MA(ASI,N1),LINETHICK2;"}},I.prototype.DC=function(){return{Name:"DC",Description:"唐奇安通道",IsMainIndex:!0,Args:[{Name:"N1",Value:20}],Script:"UPPER:HHV(H,N1),COLORBLUE,LINETHICK2;\nLOWER:LLV(L,N1),COLORBLUE,LINETHICK2;\nMIDDLE:(UPPER+LOWER)/2,COLORRED,LINETHICK3;"}},I.prototype.DEMA=function(){return{Name:"DEMA",Description:"双重指数移动均线",IsMainIndex:!0,Args:[{Name:"N1",Value:10}],Script:"ERR:=C-EMA(C,N1);\nDEMA:EMA(C,10)+EMA(ERR,N1);"}},I.prototype.VWAP=function(){return{Name:"VWAP",Description:"成交量加权平均价",IsMainIndex:!0,Args:[{Name:"N1",Value:10}],Script:"PRICE:=(H+L+C)/3;\nT2:=VOL*PRICE;\nVWAP:SUM(T2,0)/SUM(VOL,0);"}},I.prototype.SQJZ=function(){return{Name:"SQJZ",Description:"神奇九转",IsMainIndex:!0,Script:"B:=C<REF(C,4);\nN:=CURRBARSCOUNT;\nB1:=(N=6 AND REFXV(COUNT(B,6),5)=6) OR (N=7 AND REFXV(COUNT(B,7),6)=7) OR (N=8 AND REFXV(COUNT(B,8),7)=8) OR (N>=9 AND REFXV(COUNT(B,9),8)=9);\nDRAWNUMBER(B1 AND REF(B,1)=0,L,1),COLORMAGENTA;\nB2:=(N=5 AND REFXV(COUNT(B,6),4)=6) OR (N=6 AND REFXV(COUNT(B,7),5)=7) OR (N=7 AND REFXV(COUNT(B,8),6)=8) OR (N>=8 AND REFXV(COUNT(B,9),7)=9);\nDRAWNUMBER(B2 AND REF(B,2)=0,L,2),COLORMAGENTA;\nB8:=(N=1 AND COUNT(B,8)=8) OR (N>=2 AND REFXV(COUNT(B,9),1)=9);\nDRAWNUMBER(B8 AND REF(B,8)=0,L,8),COLORMAGENTA;\nB9:=(N>=1 AND COUNT(B,9)=9);\nDRAWNUMBER(B9 AND REF(B,9)=0,L,9),COLORBROWN;\nS:=C>REF(C,4);\nS1:=(N=6 AND REFXV(COUNT(S,6),5)=6) OR (N=7 AND REFXV(COUNT(S,7),6)=7) OR (N=8 AND REFXV(COUNT(S,8),7)=8) OR (N>=9 AND REFXV(COUNT(S,9),8)=9);\nDRAWNUMBER(S1 AND REF(S,1)=0,H,1),COLORMAGENTA,DRAWABOVE;\nS2:=(N=5 AND REFXV(COUNT(S,6),4)=6) OR (N=6 AND REFXV(COUNT(S,7),5)=7) OR (N=7 AND REFXV(COUNT(S,8),6)=8) OR (N>=8 AND REFXV(COUNT(S,9),7)=9);\nDRAWNUMBER(S2 AND REF(S,2)=0,H,2),COLORMAGENTA,DRAWABOVE;\nS8:=(N=1 AND COUNT(S,8)=8) OR (N>=2 AND REFXV(COUNT(S,9),1)=9);\nDRAWNUMBER(S8 AND REF(S,8)=0,H,8),COLORMAGENTA,DRAWABOVE;\nS9:=(N>=1 AND COUNT(S,9)=9);\nDRAWNUMBER(S9 AND REF(S,9)=0,H,9),COLORGREEN,DRAWABOVE;"}},I.prototype.XT=function(){return{Name:"XT",Description:"箱体",IsMainIndex:!0,Args:[{Name:"N",Value:10}],Script:"【箱顶】:PEAK(CLOSE,N,1)*0.98;\n【箱底】:TROUGH(CLOSE,N,1)*1.02;\n【箱高】:100*(【箱顶】-【箱底】)/【箱底】,NODRAW;"}},I.prototype.CFJT=function(){return{Name:"CFJT",Description:"财富阶梯",IsMainIndex:!0,Script:"突破:=REF(EMA(C,14),1);\nA1X:=(EMA(C,10)-突破)/突破*100;\n多方:=IF(A1X>=0,REF(EMA(C,10),BARSLAST(CROSS(A1X,0))+1),DRAWNULL);\n空方:=IF(A1X<0,REF(EMA(C,10),BARSLAST(CROSS(0,A1X))+1),DRAWNULL);\nSTICKLINE(A1X>=0,多方,突破,110,0),COLORRED;\nSTICKLINE(A1X<0,空方,突破,110,0),COLORGREEN;"}},I.prototype.CYX=function(){return{Name:"CYX",Description:"撑压线",IsMainIndex:!0,Args:[{Name:"N",Value:7}],Script:"Z1:=STRCAT(HYBLOCK,' ');\nZ2:=STRCAT(Z1,DYBLOCK);\nZ3:=STRCAT(Z2,' ');\nDRAWTEXT_FIX(ISLASTBAR,0,0,0,STRCAT(Z3,GNBLOCK)),COLOR00C0C0;\nA1:=REF(H,N)=HHV(H,2*N+1);\nB1:=FILTER(A1,N);\nC1:=BACKSET(B1,N+1);\nD1:=FILTER(C1,N);\nA2:=REF(L,N)=LLV(L,2*N+1);\nB2:=FILTER(A2,N);\nC2:=BACKSET(B2,N+1);\nD2:=FILTER(C2,N);\nE1:=(REF(LLV(L,2*N),1)+REF(HHV(H,2*N),1))/2;\nE2:=(H+L)/2;\nH1:=(D1 AND NOT(D2 AND E1>=E2)) OR ISLASTBAR OR BARSCOUNT(C)=1;\nL1:=(D2 AND NOT(D1 AND E1<E2));\nH2:=D1 AND NOT(D2 AND E1>=E2);\nX1:=REF(BARSLAST(H1),1)+1;\nF1:=BACKSET(H1 AND COUNT(L1,X1)>0,LLVBARS(IF(L1,L,10000),X1));\nG1:=F1>REF(F1,1);\nI1:=BACKSET(G1,2);\nLD:=I1>REF(I1,1);\nL2:=LD OR ISLASTBAR OR BARSCOUNT(C)=1;\nX2:=REF(BARSLAST(L2),1)+1;\nF2:=BACKSET(L2 AND COUNT(H2,X2)>0,HHVBARS(IF(H2,H,0),X2));\nG2:=F2>REF(F2,1);\nI2:=BACKSET(G2,2);\nHD:=I2>REF(I2,1);\nR1:=BACKSET(ISLASTBAR,BARSLAST(HD)+1);\nS1:=R1>REF(R1,1);\nT1:=BACKSET(ISLASTBAR,BARSLAST(LD)+1);\nU1:=T1>REF(T1,1);\nR2:=BACKSET(S1,REF(BARSLAST(HD),1)+2);\nS2:=R2>REF(R2,1);\nT2:=BACKSET(U1,REF(BARSLAST(LD),1)+2);\nU2:=T2>REF(T2,1);\nDRAWLINE(S2,H,S1,H,1),LINETHICK2,COLORRED;\nDRAWLINE(U2,L,U1,L,1),LINETHICK2,COLORGREEN;"}},I.prototype.WAVE=function(){return{Name:"WAVE",Description:"波浪分析",IsMainIndex:!0,Args:[{Name:"N",Value:5}],Script:"ZIG(3,N);"}},I.prototype.ShareholderCount=function(){return{Name:"散户线",Description:"散户线",IsMainIndex:!1,Script:"GPJYVALUE(1,1,1);"}},I.prototype.NXTS=function(){return{Name:"NXTS",Description:"牛熊天数",IsMainIndex:!1,Args:[{Name:"N",Value:20}],Script:"Z:=ZIG(C,N);\n高点:=Z>REF(Z,1) AND Z>REFX(Z,1);\n低点:=Z<REF(Z,1) AND Z<REFX(Z,1);\nNG:=BARSLAST(高点);\nND:=BARSLAST(低点);\nD0:=DATETODAY(DATE)-DATETODAY(REF(DATE,BARSSINCE(C)));\nDG:=DATETODAY(DATE)-DATETODAY(REF(DATE,NG));\nDD:=DATETODAY(DATE)-DATETODAY(REF(DATE,ND));\nN1:=(NG>ND OR COUNT(高点,0)=0) AND ND>0 AND (HHV(C,ND)-REF(C,ND))/REF(C,ND)>(N/100);\nN2:=NG<ND AND NG>0 AND (LLV(C,NG)-REF(C,NG))/REF(C,NG)>=-(N/100);\nN3:=NG<ND AND NG=0;\nN4:=COUNT(低点 OR 高点,0)=0 AND (HHV(C,0)-REF(C,BARSSINCE(C)))/REF(C,BARSSINCE(C))>(N/100);\nN5:=COUNT(低点,0)=0 AND NG>0 AND (LLV(C,NG)-REF(C,NG))/REF(C,NG)>=-(N/100);\nN6:=COUNT(低点,0)=0 AND NG=0;\nX1:=(NG<ND OR COUNT(低点,0)=0) AND NG>0 AND (LLV(C,NG)-REF(C,NG))/REF(C,NG)<-(N/100);\nX2:=NG>ND AND ND>0 AND (HHV(C,ND)-REF(C,ND))/REF(C,ND)<=(N/100);\nX3:=NG>ND AND ND=0;\nX4:=COUNT(高点 OR 低点,0)=0 AND (LLV(C,0)-REF(C,BARSSINCE(C)))/REF(C,BARSSINCE(C))<-(N/100);\nX5:=COUNT(高点,0)=0 AND ND>0 AND (HHV(C,ND)-REF(C,ND))/REF(C,ND)<=(N/100);\nX6:=COUNT(高点,0)=0 AND ND=0;\n牛市天数:IF(N4 OR N5 OR N6,D0,IF(N1 OR N2 OR N3,DD,0)),COLORRED;\n熊市天数:IF(X4 OR X5 OR X6,D0,IF(X1 OR X2 OR X3,DG,0)),COLORGREEN;"}},I.prototype.FKX=function(){return{Name:"FKX",Description:"反K线",IsMainIndex:!1,Script:"DRAWKLINE(-LOW, -OPEN, -HIGH, -CLOSE);"}},I.prototype.Margin4=function(){return{Name:"两融资金",Description:"两融资金",IsMainIndex:!1,Script:"TMPV:=IF(FINANCE(3)==0,REF(SCJYVALUE(1,1,1),1),REF(GPJYVALUE(3,1,1),1));\nTMPV1:=IF(FINANCE(3)==0,SCJYVALUE(1,1,0),GPJYVALUE(3,1,0));\n两融:IF(TMPV==0 OR TMPV1==0,DRAWNULL,IF(FINANCE(3)==0,(SCJYVALUE(1,1,1)-REF(SCJYVALUE(1,1,1),1))/10000-(SCJYVALUE(1,2,1)-REF(SCJYVALUE(1,2,1),1))/10000,((GPJYVALUE(3,1,1)-REF(GPJYVALUE(3,1,1),1))-((GPJYVALUE(3,2,1)*C/10000-(REF(GPJYVALUE(3,2,1),1)*REF(C,1)/10000)))))),NODRAW;\nSTICKLINE(两融>0,0,两融,2,0),COLORRED;\nSTICKLINE(两融<0,0,两融,2,0),COLORCYAN;"}},I.prototype.ZSDB=function(){return{Name:"ZSDB",Description:"指数对比(副图,需下载日线)",IsMainIndex:!1,Script:"A:=REF(INDEXC,1);\n指数涨幅:IF(A>0,(INDEXC-A)*100/A,0),NODRAW;\nDRAWKLINE(INDEXH,INDEXO,INDEXL,INDEXC);"}},I.prototype.NineTurns=function(){return{Name:"神奇九转",Description:"九转指标",IsMainIndex:!0,Script:"A1:=C>REF(C,4);\nA2:=C<REF(C,4);\nT1:=A2 AND REF(A1,1);\nT2:=A2 AND REF(T1,1);\nT3:=A2 AND REF(T2,1);\nT4:=A2 AND REF(T3,1);\nT5:=A2 AND REF(T4,1);\nT6:=A2 AND REF(T5,1);\nT7:=A2 AND REF(T6,1);\nT8:=A2 AND REF(T7,1);\nT9:=A2 AND REF(T8,1);\nT10:=A2 AND REF(T9,1);\nT11:=A2 AND REF(T10,1);\nT12:=A2 AND REF(T11,1);\nT13:=A2 AND REF(T12,1);\nT14:=A2 AND REF(T13,1);\nDRAWTEXT(T1,L*0.98,'1'),COLORGREEN;\nDRAWTEXT(T2,L*0.98,'2'),COLORGREEN;\nDRAWTEXT(T3,L*0.98,'3'),COLORGREEN;\nDRAWTEXT(T4,L*0.98,'4'),COLORGREEN;\nDRAWTEXT(T5,L*0.98,'5'),COLORGREEN;\nDRAWTEXT(T6,L*0.98,'6'),COLORGREEN;\nDRAWTEXT(T7,L*0.98,'7'),COLORGREEN;\nDRAWTEXT(T8,L*0.98,'8'),COLORGREEN;\nDRAWTEXT(T9,L*0.98,'9'),COLORBLUE;\nB1:=C<REF(C,4);\nB2:=C>REF(C,4);\nD1:=B2 AND REF(B1,1);\nD2:=B2 AND REF(D1,1);\nD3:=B2 AND REF(D2,1);\nD4:=B2 AND REF(D3,1);\nD5:=B2 AND REF(D4,1);\nD6:=B2 AND REF(D5,1);\nD7:=B2 AND REF(D6,1);\nD8:=B2 AND REF(D7,1);\nD9:=B2 AND REF(D8,1);\nD10:=B2 AND REF(D9,1);\nD11:=B2 AND REF(D10,1);\nD12:=B2 AND REF(D11,1);\nD13:=B2 AND REF(D12,1);\nD14:=B2 AND REF(D13,1);\nDRAWTEXT(D1,H*1.010,'1'),COLORBLUE;\nDRAWTEXT(D2,H*1.010,'2'),COLORBLUE;\nDRAWTEXT(D3,H*1.010,'3'),COLORBLUE;\nDRAWTEXT(D4,H*1.010,'4'),COLORBLUE;\nDRAWTEXT(D5,H*1.010,'5'),COLORBLUE;\nDRAWTEXT(D6,H*1.010,'6'),COLORBLUE;\nDRAWTEXT(D7,H*1.010,'7'),COLORBLUE;\nDRAWTEXT(D8,H*1.010,'8'),COLORBLUE;\nDRAWTEXT(D9,H*1.010,'9'),COLORGREEN;"}},I.prototype.TEST=function(){return{Name:"TEST",Description:"测试脚本",IsMainIndex:!1,Args:[{Name:"N",Value:10}],Script:"DRAWCHANNEL(OPEN>C,H,L, 'RGB(255,94,102)', 2 ,'5,5','RGBA(58,20,62,0.3)' );"}},!g)g={Chart:{Log:console.log,Warn:console.warn},Complier:{Log:console.log,Warn:console.warn}};function T(t,e){this.DivElement=t,this.DivToolElement=null,this.JSChartContainer,this.CanvasElement=document.createElement("canvas"),this.CanvasElement.className="jschart-drawing",this.CanvasElement.id=P(),this.CanvasElement.setAttribute("tabindex",0),this.CanvasElement.style&&(this.CanvasElement.style.outline="none"),t.hasChildNodes()&&g.Chart.Log("[JSChart::JSChart] divElement hasChildNodes",t.childNodes),t.appendChild(this.CanvasElement),this.OffscreenCanvasElement,1==e&&(this.OffscreenCanvasElement=document.createElement("canvas")),this.ModifyIndexDialog=new function(t){this.newMethod=yi,this.newMethod(t),delete this.newMethod,this.Title={ID:P()},this.ParamList={ID:P()},this.ParamData=[],this.Identify,this.HQChart,this.IsOverlay=!1,this.IndexScript,this.Create=function(){this.ID=P();var t=document.createElement("div");t.className="jchart-modifyindex-box",t.id=this.ID,t.innerHTML="<div class='parameter'>            <div class='parameter-header'>                <span></span>                <strong id='close' class='icon iconfont icon-close'></strong>            </div>            <div class='parameter-content'><input/>MA</div>            <div class='parameter-footer'>                <button class='submit' >确定</button>                <button class='cancel' >取消</button>            </div>        </div>",this.DivElement.appendChild(t),(0,m.default)("#"+this.ID+" .submit").click({divBox:this},function(t){t.data.divBox.Hide()});var e=t.getElementsByTagName("span")[0];e.id=this.Title.ID;var i=t.getElementsByClassName("parameter-content")[0];i.id=this.ParamList.ID},this.SetTitle=function(t){(0,m.default)("#"+this.Title.ID).html(t)},this.ClearParamList=function(){(0,m.default)("#"+this.ParamList.ID).empty(),this.ParamData=[]},this.BindParam=function(){for(var t=0;t<this.IndexScript.Arguments.length;++t){var e=this.IndexScript.Arguments[t];if(null==e.Name||isNaN(e.Value))break;var i=P(),a='<input class="row-line" id="'+i+'" value="'+e.Value+'" type="number" step="1"/>'+e.Name+"<br>";(0,m.default)("#"+this.ParamList.ID).append(a),this.ParamData.push({ID:i,Value:e.Value})}for(var n=this,t=0;t<this.ParamData.length;++t){var e=this.ParamData[t];(0,m.default)("#"+e.ID).mouseup({ParamIndex:t},function(t){var e=parseInt((0,m.default)(this).val());if(Ce.IsNumber(e)){var i=n.HQChart,a=n.Identify,r=t.data.ParamIndex,o=n.IndexScript,s=n.IsOverlay;o.Arguments[r].Value=e,s?i.UpdateOverlayIndex(a):i.UpdateWindowIndex(a)}else alert("参数不能为空")}),(0,m.default)("#"+e.ID).keyup({ParamIndex:t},function(t){var e=parseInt((0,m.default)(this).val());if(Ce.IsNumber(e)){var i=n.HQChart,a=n.Identify,r=t.data.ParamIndex,o=n.IndexScript,s=n.IsOverlay;o.Arguments[r].Value=e,s?i.UpdateOverlayIndex(a):i.UpdateWindowIndex(a)}else alert("参数不能为空")})}},this.BindCancel=function(){var t=this;(0,m.default)("#"+this.ID+" .cancel");(0,m.default)("#"+this.ID+" .cancel").unbind("click").click(function(e){var i=t.HQChart,a=t.Identify;t.RestoreParam();var n=t.IsOverlay;n?i.UpdateOverlayIndex(a):i.UpdateWindowIndex(a),t.IndexScript=null,t.Hide()}),(0,m.default)("#"+this.ID+" #close").unbind("click").click(function(e){var i=t.HQChart,a=t.Identify,n=t.IsOverlay;t.RestoreParam(),n?i.UpdateOverlayIndex(a):i.UpdateWindowIndex(a),t.IndexScript=null,t.Hide()})},this.RestoreParam=function(){if(this.IndexScript)for(var t=0;t<this.ParamData.length;++t){var e=this.ParamData[t];this.IndexScript.Arguments[t].Value=e.Value}},this.DoModal=function(t){var e=t.data.Chart,i=t.data.Identify,a=e.ModifyIndexDialog,n=!0===t.data.IsOverlay;if(a){if(null==a.ID&&a.Create(),a.Identify=i,a.HQChart=e,a.IsOverlay=n,n){var r=e.GetOverlayIndexByIdentify(i);if(!r||!r.OverlayItem.Script)return;a.IndexScript=r.OverlayItem.Script,a.SetTitle(a.IndexScript.Name+" 叠加指标参数设置")}else a.IndexScript=e.WindowIndex[i],a.SetTitle(a.IndexScript.Name+" 指标参数设置");a.ClearParamList(),a.BindParam(e,i),a.BindCancel(),a.Show()}}}(t),this.ChangeIndexDialog=new function(t){this.newMethod=yi,this.newMethod(t),delete this.newMethod,this.DivElement=t,this.IndexTreeApiUrl="https://opensourcecache.zealink.com/cache/hqh5/index/commonindextree.json",this.OverlayIndexTreeApiUrl="https://opensourcecache.zealink.com/cache/hqh5/index/commonindextree.json",this.IsOverlayIndex=!1,this.Create=function(){var t=document.createElement("div");t.className="jchart-changeindex-box",t.id=this.ID=P(),t.innerHTML='<div class="target-panel">\n            <div class="target-header">\n                <span>换指标</span>\n                <strong class="close-tar icon iconfont icon-close"></strong>\n            </div>\n            <div class="target-content">\n                <div class="target-left">\n                    <input type="text">\n                    <ul></ul>\n                </div>\n                <div class="target-right">\n                    <ul></ul>\n                </div>\n            </div>\n        </div>',this.DivElement.appendChild(t)},this.ReqeustData=function(){if((0,m.default)("#"+this.ID+" .target-left ul li").length>0)return!1;var t=this.IndexTreeApiUrl;1==this.IsOverlayIndex&&(t=this.OverlayIndexTreeApiUrl),C.HttpRequest({url:t,type:"get",success:function(t){var e,i,a,n=t.list;!function(t){(0,m.default)(".target-left ul").html(""),m.default.each(t,function(t,e){var i;i="<li>"+e.node+"</li>",(0,m.default)(".target-left ul").append(i)}),(0,m.default)(".target-left ul li:first-child").addClass("active-list")}(n),e=n,a=[],m.default.each(e,function(t,e){a.push(e.list)}),m.default.each(a[0],function(t,e){i="<li id="+e.id+">"+e.name+"</li>",(0,m.default)(".target-right ul").append(i)}),(0,m.default)(".target-left ul").delegate("li","click",function(){(0,m.default)(this).addClass("active-list").siblings().removeClass("active-list");var t=(0,m.default)(this).index();(0,m.default)(".target-right ul").html(""),m.default.each(a[t],function(t,e){i="<li id="+e.id+">"+e.name+"</li>",(0,m.default)(".target-right ul").append(i)})})}})},this.BindClose=function(t){(0,m.default)("#"+this.ID+" .close-tar").click({Chart:t},function(t){var e=t.data.Chart;e.ChangeIndexDialog.Hide()})},this.BindSearch=function(t){(0,m.default)(".target-left input").on("input",{Chart:t},function(t){var e=new I,i=e.Search(t.target.value);for(var a in(0,m.default)(".target-right ul").html(""),i){var n=i[a],r="<li id="+n+">"+n+"</li>";(0,m.default)(".target-right ul").append(r)}})},this.DoModal=function(t){var e=t.data.Chart,i=t.data.Identify,a=e.ChangeIndexDialog,n=t.data.IsOverlay;a&&(null==a.ID&&a.Create(),a.IsOverlayIndex=n,a.ReqeustData(),(0,m.default)(".target-right ul").undelegate().delegate("li","click",function(){var t=(0,m.default)(this).attr("id");n?e.AddOverlayIndex({WindowIndex:i,IndexName:t}):e.ChangeIndex(i,t),(0,m.default)(this).addClass("active-list").siblings().removeClass("active-list")}),a.BindSearch(e),a.BindClose(e),a.Show())}}(t),this.MinuteDialog=new function(t){this.newMethod=yi,this.newMethod(t),delete this.newMethod,this.JSChart=null,this.Height=500,this.Width=600,this.Symbol,this.TradeDate,this.HistoryData,this.Show=function(t,e,i,a){var n=document.getElementById(this.ID);if(!n)return!1;var r=n.getElementsByClassName("minute-hqchart");if(!r||1!=r.length)return!1;var o=r[0];Ce.IsNumber(i)&&(n.style.width=i+"px"),Ce.IsNumber(a)&&(n.style.height=a+"px"),Ce.IsNumber(t)&&(n.style.left=t+"px"),Ce.IsNumber(e)&&(n.style.top=e+"px"),n.style.display="block";var s=o.offsetWidth,l=o.offsetTop;o.style.width=s+"px",o.style.height=a-l-5+"px"},this.Create=function(){this.ID=P();var t=document.createElement("div");t.className="jchart-kline-minute-box",t.id=this.ID;var e=P();t.innerHTML="<div><div class='minute-dialog-title'><span></span><strong class='close-munite icon iconfont icon-close'></strong></div><div class='minute-hqchart' id='"+e+"' ></div></div>",t.style.width=this.Height+"px",t.style.height=this.Width+"px",this.DivElement.appendChild(t),this.JSChart=T.Init(document.getElementById(e));var i={Type:"历史分钟走势图",Symbol:this.Symbol,IsAutoUpdate:!1,IsShowRightMenu:!1,HistoryMinute:{TradeDate:this.TradeDate,IsShowName:!1,IsShowDate:!1}};this.JSChart.SetOption(i)},this.BindClose=function(t){(0,m.default)("#"+this.ID+" .close-munite").click({Chart:t},function(t){var e=t.data.Chart;e.MinuteDialog.Hide()})},this.DoModal=function(t){this.UpColor=Qe.UpTextColor,this.DownColor=Qe.DownTextColor,this.UnchagneColor=Qe.UnchagneTextColor;var e=t.data.Chart,i=t.data.Tooltip,a=e.MinuteDialog;if(a.Symbol=e.Symbol,a.TradeDate=i.Data.Date,a){null==a.ID?a.Create():(a.JSChart.JSChartContainer.TradeDate=a.TradeDate,a.JSChart.ChangeSymbol(this.Symbol));t.clientX,t.clientY;var n=L();a.Show(500/n,100/n,600,500),a.JSChart.OnSize(),this.BindClose(e),this.GetColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor};var r=t.data.Chart.Name,o=t.data.Tooltip.Data,s=(new Date(parseInt(o.Date/1e4),o.Date/100%100-1,o.Date%100),o.Date.toString()),l=s.substring(0,4)+"-"+s.substring(4,6)+"-"+s.substring(6,8),h="<span>"+r+"</span><span>"+l+"</span>&nbsp;<span style='color:"+this.GetColor(o.Open,o.YClose)+";'>开:"+o.Open.toFixed(2)+"</span><span style='color:"+this.GetColor(o.High,o.YClose)+";'>高:"+o.High.toFixed(2)+"</span><span style='color:"+this.GetColor(o.Low,o.YClose)+";'>低:"+o.Low.toFixed(2)+"</span><span style='color:"+this.GetColor(o.Close,o.YClose)+";'>收:"+o.Close.toFixed(2)+"</span><span style='color:"+this.VolColor+";'>量:"+Ce.FormatValueString(o.Vol,2)+"</span><span style='color:"+this.AmountColor+";'>额:"+Ce.FormatValueString(o.Amount,2)+"</span>";(0,m.default)(".minute-dialog-title span").html(h)}}}(t),this.OnSize=function(t){var e=parseInt(this.DivElement.style.height.replace("px",""));this.ToolElement&&(e-=this.ToolElement.style.height.replace("px","")),this.CanvasElement.height=e,this.CanvasElement.width=parseInt(this.DivElement.style.width.replace("px","")),this.CanvasElement.style.width=this.CanvasElement.width+"px",this.CanvasElement.style.height=this.CanvasElement.height+"px";var i=L();this.CanvasElement.height*=i,this.CanvasElement.width*=i,this.OffscreenCanvasElement&&(this.OffscreenCanvasElement.height=this.CanvasElement.height,this.OffscreenCanvasElement.width=this.CanvasElement.width),g.Chart.Log("[JSChart::OnSize] devicePixelRatio="+window.devicePixelRatio+", height="+this.CanvasElement.height+", width="+this.CanvasElement.width),t&&0==t.Redraw||this.JSChartContainer&&(t&&!0===t.XYSplit&&this.JSChartContainer.ResetFrameXYSplit(),this.JSChartContainer.OnSize&&t&&1==t.Type?this.JSChartContainer.OnSize():(this.JSChartContainer.Frame&&this.JSChartContainer.Frame.SetSizeChage(!0),this.JSChartContainer.Draw()))},this.AdjustChartBorder=function(t){var e=L();if(t.Frame.ChartBorder.Left*=e,t.Frame.ChartBorder.Right*=e,t.Frame.ChartBorder.Top*=e,t.Frame.ChartBorder.Bottom*=e,t.Frame.AutoLeftBorder){var i=t.Frame.AutoLeftBorder;Ce.IsNumber(i.MinWidth)&&(i.MinWidth*=e),Ce.IsNumber(i.Blank)&&(i.Blank*=e)}if(t.Frame.AutoRightBorder){i=t.Frame.AutoRightBorder;Ce.IsNumber(i.MinWidth)&&(i.MinWidth*=e),Ce.IsNumber(i.Blank)&&(i.Blank*=e)}},this.AdjustTitleHeight=function(t){for(var e=L(),i=0;i<t.Frame.SubFrame.length;++i)t.Frame.SubFrame[i].Frame.ChartBorder.TitleHeight*=e;t.ChartCorssCursor.TextHeight*=e},this.SetChartBorder=function(t,e){if(e.Border){var i=e.Border;Ce.IsNumber(e.Border.Left)?t.Frame.ChartBorder.Left=e.Border.Left:e.Border.Left=t.Frame.ChartBorder.Left,Ce.IsNumber(e.Border.Right)?t.Frame.ChartBorder.Right=e.Border.Right:e.Border.Right=t.Frame.ChartBorder.Right,Ce.IsNumber(e.Border.Top)?t.Frame.ChartBorder.Top=e.Border.Top:e.Border.Top=t.Frame.ChartBorder.Top,Ce.IsNumber(e.Border.Bottom)?t.Frame.ChartBorder.Bottom=e.Border.Bottom:e.Border.Bottom=t.Frame.ChartBorder.Bottom,i.AutoLeft&&(t.Frame.AutoLeftBorder={},Ce.IsNumber(i.AutoLeft.Blank)&&(t.Frame.AutoLeftBorder.Blank=i.AutoLeft.Blank),Ce.IsNumber(i.AutoLeft.MinWidth)&&(t.Frame.AutoLeftBorder.MinWidth=i.AutoLeft.MinWidth)),i.AutoRight&&(t.Frame.AutoRightBorder={},Ce.IsNumber(i.AutoRight.Blank)&&(t.Frame.AutoRightBorder.Blank=i.AutoRight.Blank),Ce.IsNumber(i.AutoRight.MinWidth)&&(t.Frame.AutoRightBorder.MinWidth=i.AutoRight.MinWidth))}},this.CreateKLineChartContainer=function(t){var e=null;if(e="历史K线图横屏"===t.Type?new hi(this.CanvasElement):new ri(this.CanvasElement,this.OffscreenCanvasElement),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),e.ModifyIndexDialog=this.ModifyIndexDialog,e.ChangeIndexDialog=this.ChangeIndexDialog,e.MinuteDialog=this.MinuteDialog,1==t.IsShowRightMenu&&(e.RightMenu=new xi(this.DivElement)),t.ScriptError&&(e.ScriptErrorCallback=t.ScriptError),e.SelectRectRightMenu=new function(t){this.newMethod=xi,this.newMethod(t),delete this.newMethod,this.DoModal=function(e){var i=e.data.Chart,a=this,n=e.data.X,r=e.data.Y,o=[{text:"区间统计",click:function(){g.Chart.Log("[KLineSelectRightMenu::click] 区间统计"),a.Hide();var i=new function(t){this.newMethod=yi,this.newMethod(t),delete this.newMethod,this.SelectData,this.Dialog,this.HQChart,this.RectSelectPaint,this.Close=function(){this.Dialog&&(this.DivElement.removeChild(this.Dialog),this.Dialog=null),this.RectSelectPaint&&(this.RectSelectPaint.PreventClose=!1)},this.Create=function(){this.ID=P();var t=document.createElement("div");t.className="jchart-select-statistics-box",t.id=this.ID,t.innerHTML="<div class='parameter jchart-select-section'>            <div class='parameter-header'>                <span>区间统计</span>                <strong id='close' class='icon iconfont icon-close'></strong>            </div>            <div class='parameter-content'>统计数据</div>        <div class='parameter-footer'>            <button id='close' class='submit' >确定</button>            <button id='match' class='submit' >形态匹配</button>        </div>        </div>",this.DivElement.appendChild(t),this.Dialog=t,(0,m.default)("#"+this.ID+" #close").click({divBox:this},function(t){t.data.divBox.Close()}),(0,m.default)("#"+this.ID+" #match").click({divBox:this},function(t){t.data.divBox.KLineMatch()})},this.BindData=function(){var t=this.SelectData.Data,e=this.SelectData.Start,i=this.SelectData.End;this.HQChart.UpdateSelectRect(e,i),this.RectSelectPaint&&(this.RectSelectPaint.PreventClose=!0);for(var a={Open:0,Close:0,High:0,Low:0,YClose:0,Vol:0,Amount:0,Date:{Start:{Time:null,Date:null},End:{Time:null,Date:null}},Count:0,KLine:{Up:0,Down:0,Unchanged:0}},n=e;n<=i&&n<t.Data.length;++n){var r=t.Data[n];n==e&&(a.Date.Start.Date=r.Date,a.Date.Start.Time=r.Time,a.Open=r.Open,a.High=r.High,a.Low=r.Low,a.YClose=r.YClose),a.Date.End.Date=r.Date,a.Date.End.Time=r.Time,a.Close=r.Close,a.Vol+=r.Vol,a.Amount+=r.Amount,++a.Count,a.High<r.High&&(a.High=r.High),a.Low>r.Low&&(a.Low=r.Low),r.Close>r.Open?++a.KLine.Up:r.Close<r.Open?++a.KLine.Down:++a.KLine.Unchanged}a.Vol>0&&(a.AvPrice=a.Amount/a.Vol),r.YClose>0&&(a.Increase=(a.Close-a.YClose)/a.YClose*100,a.Amplitude=(a.High-a.Low)/a.YClose*100);var o=Ni(this.SelectData.Symbol),s=Ce.FormatDateString(a.Date.Start.Date),l=Ce.FormatDateString(a.Date.End.Date);mt.IsMinutePeriod(this.HQChart.Period)?(s+=" "+Ce.FormatTimeString(a.Date.Start.Time,"HH:MM"),l+=" "+Ce.FormatTimeString(a.Date.End.Time,"HH:MM")):(mt.IsSecondPeriod(this.HQChart.Period)||mt.IsTickPeriod(this.HQChart.Period))&&(s+=" "+Ce.FormatTimeString(a.Date.Start.Time,"HH:MM:SS"),l+=" "+Ce.FormatTimeString(a.Date.End.Time,"HH:MM:SS"));var h="",u="",c="",d="";e<=0&&(h="BtnBackground"),e>=i&&(u="BtnBackground",c="BtnBackground"),i>=t.Data.length-1&&(d="BtnBackground");var f=document.createElement("div");f.className="jchart-select-table-right",f.innerHTML='<div class="jchart-select-date">\n            <span>开始: '+s+'<i class="start-date-left '+h+'"><</i><i class="start-date-right '+u+'">></i></span>\n            <span>结束: '+l+'<i class="end-date-left '+c+'"><</i><i class="end-date-right '+d+'">></i></span>\n            <span>总个数: '+a.Count+"</span>\n        </div>\n        <table>\n            <tr><td><strong>起始价: </strong><span>"+a.YClose.toFixed(o)+"</span></td>               <td><strong>最终价: </strong><span>"+a.Close.toFixed(o)+"</span></td>               <td><strong>均价: </strong><span>"+(Ce.IsNumber(a.AvPrice)?a.AvPrice.toFixed(o):"--.--")+"</span></td></tr>\n            <tr><td><strong>最低价: </strong><span>"+a.Low.toFixed(o)+"</span></td>               <td><strong>最高价: </strong><span>"+a.High.toFixed(o)+'</span></td>               <td><strong>涨跌幅: </strong><span class="'+Ce.FormatValueColor(a.Increase)+'">'+a.Increase.toFixed(2)+"%</span></td></tr>\n            <tr><td><strong>振幅: </strong><span>"+a.Amplitude.toFixed(2)+"%</span></td>               <td><strong>成交量: </strong><span>"+Ce.FormatValueString(a.Vol,2)+"股</span></td>               <td><strong>金额: </strong><span>"+Ce.FormatValueString(a.Amount,2)+"元</span></td></tr>\n            <tr><td><strong>阴线: </strong><span>"+a.KLine.Up+"</span></td>               <td><strong>阳线: </strong><span>"+a.KLine.Down+"</span></td>               <td><strong>平线: </strong><span>"+a.KLine.Unchanged+"</span></td></tr>\n        </table>",(0,m.default)(".parameter-content").html(f),this.BindEvent()},this.BindEvent=function(){var t=this;t.SelectData.Start>0&&(0,m.default)(".jchart-select-date .start-date-left").click(function(){t.SelectData.Start--,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)}),t.SelectData.Start<t.SelectData.End&&((0,m.default)(".jchart-select-date .start-date-right").click(function(){t.SelectData.Start++,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)}),(0,m.default)(".jchart-select-date .end-date-left").click(function(){t.SelectData.End--,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)})),t.SelectData.End<t.SelectData.Data.Data.length-1&&(0,m.default)(".jchart-select-date .end-date-right").click(function(){t.SelectData.End++,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)})},this.DoModal=function(t){var e=t.data.Chart;null==this.ID&&this.Create(),this.SelectData=t.data.SelectData,this.RectSelectPaint=t.data.RectSelectPaint,this.HQChart=e,this.HQChart.HideSelectRect(),this.BindData(),this.Show()},this.KLineMatch=function(t){var e=new function(t){this.newMethod=yi,this.newMethod(t),delete this.newMethod,this.Title="加载中......",this.Dialog,this.Close=function(){this.Dialog&&(this.DivElement.removeChild(this.Dialog),this.Dialog=null)},this.SetTitle=function(t){this.Title=t,this.Dialog},this.Create=function(){this.ID=P();var t=document.createElement("div");t.className="jchart-wait-box",t.id=this.ID,t.innerHTML=("<div class='parameter jchart-kline-match-box'>\n            <div class='parameter-header'>\n                <span>"+this.Title+"</span>\n            </div>\n        </div>").trim(),this.DivElement.appendChild(t),this.Dialog=t},this.DoModal=function(t){this.Title=t.data.Title;var e=t.data.Chart;null==this.ID&&this.Create();var i=e.Frame.ChartBorder,a=(N(),i.GetWidth()/2),n=i.GetHeight()/2;this.Show(a,n,200,40)}}(this.DivElement);e.DoModal({data:{Title:"计算中......",Chart:this.HQChart}}),this.Close();var i=this.HQChart,a={Scope:{Plate:["CNA.ci"],Minsimilar:.9},WaitDialog:e};i.RequestKLineMatch(this.SelectData,a)}}(t);i.DoModal(e)}},{text:"区间放大",click:function(){g.Chart.Log("[KLineSelectRightMenu::click] 区间放大");var t=e.data.Chart;t.ShowSelectData(e.data.SelectData)}}];a.Show({x:n,y:r,position:i.Frame.Position,data:o})},this.Show=function(t){m.default.extend(this.option,t),this.ID||this.Create();var e="topMenu_"+this.ID,i=document.getElementById(e);i||this.Create();var a=(0,m.default)("#topMenu_"+this.ID),n=a.outerWidth(),r=a.outerHeight();a.contextmenu(function(){return!1});var o=this.option.x,s=this.option.y;n>this.option.position.X+this.option.position.W-o&&(o-=n),r>this.option.position.Y+this.option.position.H-s&&(s-=r),a.hide(),a.css({position:"absolute",left:o+"px",top:s+"px"}).show(),(0,m.default)("#topMenu_"+this.ID).find("tr").show(),this.isInit=!0}}(this.DivElement),1==t.EnableScrollUpDown&&(e.EnableScrollUpDown=t.EnableScrollUpDown),1==t.DisableMouse&&(e.DisableMouse=t.DisableMouse),t.TouchMoveMinAngle&&(e.TouchMoveMinAngle=t.TouchMoveMinAngle),t.EnableZoomUpDown&&(e.EnableZoomUpDown=t.EnableZoomUpDown),Ce.IsString(t.SplashTitle)&&(e.LoadDataSplashTitle=t.SplashTitle),Ce.IsBool(t.EnableZoomIndexWindow)&&(e.EnableZoomIndexWindow=t.EnableZoomIndexWindow),Ce.IsBool(t.IsDrawPictureXY)&&(e.IsDrawPictureXY=t.IsDrawPictureXY),Ce.IsNumber(t.CtrlMoveStep)&&(e.CtrlMoveStep=t.CtrlMoveStep),Ce.IsBool(t.EnableIndexChartDrag)&&(e.EnableIndexChartDrag=t.EnableIndexChartDrag),Ce.IsBool(t.EnableVerifyRecvData)&&(e.EnableVerifyRecvData=t.EnableVerifyRecvData),t.EnableYDrag){var i=t.EnableYDrag;Ce.IsBool(i.Left)&&(e.EnableYDrag.Left=i.Left),Ce.IsBool(i.Right)&&(e.EnableYDrag.Right=i.Right)}(t.KLine&&(t.KLine.DragMode>=0&&(e.DragMode=t.KLine.DragMode),t.KLine.Right>=0&&(e.Right=t.KLine.Right),t.KLine.Period>=0&&(e.Period=t.KLine.Period),t.KLine.MaxReqeustDataCount>0&&(e.MaxRequestDataCount=t.KLine.MaxReqeustDataCount),t.KLine.MaxRequestDataCount>0&&(e.MaxRequestDataCount=t.KLine.MaxRequestDataCount),t.KLine.Info&&t.KLine.Info.length>0&&e.SetKLineInfo(t.KLine.Info,!1),t.KLine.IndexTreeApiUrl&&(e.ChangeIndexDialog.IndexTreeApiUrl=t.KLine.IndexTreeApiUrl),0==t.KLine.KLineDoubleClick&&(e.MinuteDialog=this.MinuteDialog=null),null!=t.KLine.IndexTreeApiUrl&&(e.ChangeIndexDialog.IndexTreeApiUrl=t.KLine.IndexTreeApiUrl),0==t.KLine.IsShowTooltip&&(e.IsShowTooltip=!1),t.KLine.MaxRequestMinuteDayCount>0&&(e.MaxRequestMinuteDayCount=t.KLine.MaxRequestMinuteDayCount),t.KLine.DrawType&&(e.KLineDrawType=t.KLine.DrawType),t.KLine.FirstShowDate>19910101&&(e.CustomShow={Date:t.KLine.FirstShowDate,PageSize:t.KLine.PageSize}),t.KLine.RightSpaceCount>0&&(e.RightSpaceCount=t.KLine.RightSpaceCount),t.KLine.ZoomType>0&&(e.ZoomType=t.KLine.ZoomType),t.KLine.DataWidth>=1&&(e.KLineSize={DataWidth:t.KLine.DataWidth}),Ce.IsNumber(t.KLine.RightFormula)&&(e.RightFormula=t.KLine.RightFormula)),t.EnableFlowCapital)&&(1==(i=t.EnableFlowCapital).BIT&&(e.EnableFlowCapital.BIT=i.BIT));if(Ce.IsBool(t.EnableBorderDrag)&&(e.EnableBorderDrag=t.EnableBorderDrag),t.Page&&(t.Page.Day&&1==t.Page.Day.Enable&&(e.Page.Day.Enable=!0),t.Page.Minute&&1==t.Page.Minute.Enable&&(e.Page.Minute.Enable=!0)),t.DragDownload&&(t.DragDownload.Day&&1==t.DragDownload.Day.Enable&&(e.DragDownload.Day.Enable=!0),t.DragDownload.Minute&&1==t.DragDownload.Minute.Enable&&(e.DragDownload.Minute.Enable=!0)),t.Language){var a=ei.GetLanguageID(t.Language);Ce.IsNumber(a)&&(e.LanguageID=a)}if(t.SourceDatatLimit&&e.SetSourceDatatLimit(t.SourceDatatLimit),t.DrawPicture&&t.DrawPicture.StorageKey&&e.ChartDrawStorage&&e.ChartDrawStorage.Load(t.DrawPicture.StorageKey),t.DrawTool&&t.DrawTool.StorageKey&&e.ChartDrawStorage&&e.ChartDrawStorage.Load(t.DrawTool.StorageKey),Ce.IsNumber(t.StepPixel)&&(e.StepPixel=t.StepPixel),t.ZoomStepPixel>0&&(e.ZoomStepPixel=t.ZoomStepPixel),1==t.IsApiPeriod&&(e.IsApiPeriod=t.IsApiPeriod),t.SelectedChart){i=t.SelectedChart;Ce.IsBool(i.EnableSelected)&&(e.SelectedChart.EnableSelected=i.EnableSelected),Ce.IsBool(i.EnableMoveOn)&&(e.SelectedChart.EnableMoveOn=i.EnableMoveOn)}if(!t.Windows||t.Windows.length<=0)return null;if(e.Create(t.Windows.length,t),this.SetChartBorder(e,t),this.AdjustChartBorder(e),t.KLine&&t.KLine.PageSize>0){var n=e.GetMaxMinPageSize();n.Max>10&&n.Max<t.KLine.PageSize?e.PageSize=n.Max:n.Min>10&&n.Min>t.KLine.PageSize?e.PageSize=n.Min:e.PageSize=t.KLine.PageSize}if(!0===t.IsCorssOnlyDrawKLine&&(e.ChartCorssCursor.IsOnlyDrawKLine=t.IsCorssOnlyDrawKLine),!0===t.CorssCursorTouchEnd&&(e.CorssCursorTouchEnd=t.CorssCursorTouchEnd),1==t.IsClickShowCorssCursor&&(e.IsClickShowCorssCursor=t.IsClickShowCorssCursor),t.CorssCursorInfo){i=t.CorssCursorInfo;isNaN(t.CorssCursorInfo.Left)||(e.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),isNaN(t.CorssCursorInfo.Right)||(e.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),isNaN(t.CorssCursorInfo.Bottom)||(e.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(e.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss),1==t.CorssCursorInfo.IsShowClose&&(e.ChartCorssCursor.IsShowClose=t.CorssCursorInfo.IsShowClose),t.CorssCursorInfo.PressTime&&(e.PressTime=t.CorssCursorInfo.PressTime),Ce.IsNumber(t.CorssCursorInfo.HPenType)&&(e.ChartCorssCursor.HPenType=t.CorssCursorInfo.HPenType),t.CorssCursorInfo.VPenType>0&&(e.ChartCorssCursor.VPenType=t.CorssCursorInfo.VPenType),Ce.IsNumber(i.VLineType)&&(e.ChartCorssCursor.VLineType=i.VLineType),t.CorssCursorInfo.DateFormatType>0&&(e.ChartCorssCursor.StringFormatX.DateFormatType=t.CorssCursorInfo.DateFormatType),Ce.IsBool(i.IsDrawXRangeBG)&&(e.ChartCorssCursor.IsDrawXRangeBG=i.IsDrawXRangeBG),Ce.IsBool(t.CorssCursorInfo.IsFixXLastTime)&&(e.ChartCorssCursor.IsFixXLastTime=t.CorssCursorInfo.IsFixXLastTime),i.RightButton&&Ce.IsBool(i.RightButton.Enable)&&(e.ChartCorssCursor.RightButton.Enable=i.RightButton.Enable),Ce.IsNumber(i.PriceFormatType)&&(e.ChartCorssCursor.StringFormatY.PriceFormatType=i.PriceFormatType),Ce.IsNumber(i.DataFormatType)&&(e.ChartCorssCursor.StringFormatY.DataFormatType=i.DataFormatType)}if(t.CorssCursor={},t.CorssCursor.TitleHeight=e.ChartCorssCursor.TextHeight,t.Frame)for(var r=0;r<t.Frame.length;++r){i=t.Frame[r];if(e.Frame.SubFrame[r]){var o=e.Frame.SubFrame[r].Frame;i.SplitCount&&(e.Frame.SubFrame[r].Frame.YSplitOperator.SplitCount=i.SplitCount),i.StringFormat&&(e.Frame.SubFrame[r].Frame.YSplitOperator.StringFormat=i.StringFormat),Ce.IsNumber(i.FloatPrecision)&&(e.Frame.SubFrame[r].Frame.YSplitOperator.FloatPrecision=i.FloatPrecision),i.Custom&&(e.Frame.SubFrame[r].Frame.YSplitOperator.Custom=i.Custom),Ce.IsNumber(i.SplitType)&&(e.Frame.SubFrame[r].Frame.YSplitOperator.SplitType=i.SplitType,e.Frame.SubFrame[r].Frame.YSplitOperator.DefaultSplitType=i.SplitType),isNaN(i.Height)||(e.Frame.SubFrame[r].Height=i.Height),!1!==i.IsShowLeftText&&!0!==i.IsShowLeftText||(e.Frame.SubFrame[r].Frame.IsShowYText[0]=i.IsShowLeftText,e.Frame.SubFrame[r].Frame.YSplitOperator.IsShowLeftText=i.IsShowLeftText),!1!==i.IsShowRightText&&!0!==i.IsShowRightText||(e.Frame.SubFrame[r].Frame.IsShowYText[1]=i.IsShowRightText,e.Frame.SubFrame[r].Frame.YSplitOperator.IsShowRightText=i.IsShowRightText),i.TopSpace>=0&&(e.Frame.SubFrame[r].Frame.ChartBorder.TopSpace=i.TopSpace),i.BottomSpace>=0&&(e.Frame.SubFrame[r].Frame.ChartBorder.BottomSpace=i.BottomSpace),i.RightTextPosition>0&&(e.Frame.SubFrame[r].Frame.YTextPosition[1]=i.RightTextPosition),i.LeftTextPosition>0&&(e.Frame.SubFrame[r].Frame.YTextPosition[0]=i.LeftTextPosition),0==i.IsShowXLine&&(e.Frame.SubFrame[r].Frame.IsShowXLine=i.IsShowXLine),0==i.IsShowYLine&&(e.Frame.SubFrame[r].Frame.IsShowYLine=i.IsShowYLine),Ce.IsNumber(i.YTextBaseline)&&(e.Frame.SubFrame[r].Frame.YTextBaseline=i.YTextBaseline),i.YCoordinateType>0&&(e.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=i.YCoordinateType),1==i.IsYReverse&&(e.Frame.SubFrame[0].Frame.CoordinateType=1),Ce.IsNumber(i.PercentageTextFormat)&&(o.YSplitOperator.PercentageTextFormat=i.PercentageTextFormat),i.DefaultYMaxMin&&(e.Frame.SubFrame[r].Frame.YSplitOperator.DefaultYMaxMin=i.DefaultYMaxMin),Ce.IsBool(i.EnableRemoveZero)&&(e.Frame.SubFrame[r].Frame.YSplitOperator.EnableRemoveZero=i.EnableRemoveZero),Ce.IsPlusNumber(i.MinYDistance)&&(e.Frame.SubFrame[r].Frame.MinYDistance=i.MinYDistance),Ce.IsNumber(i.BorderLine)&&(e.Frame.SubFrame[r].Frame.BorderLine=i.BorderLine),Ce.IsBool(i.IsShowIndexTitle)&&(e.Frame.SubFrame[r].Frame.IsShowIndexTitle=i.IsShowIndexTitle),Ce.IsBool(i.IsDrawTitleBottomLine)&&(o.IsDrawTitleBottomLine=i.IsDrawTitleBottomLine)}}if(t.KLine&&(0==t.KLine.ShowKLine&&(e.ChartPaint[0].IsShow=!1),t.KLine.InfoPosition>0&&(e.ChartPaint[0].InfoPosition=t.KLine.InfoPosition),0==t.KLine.IsShowMaxMinPrice&&(e.ChartPaint[0].IsShowMaxMinPrice=t.KLine.IsShowMaxMinPrice)),t.KLineTitle&&(0==t.KLineTitle.IsShowName&&(e.TitlePaint[0].IsShowName=!1),0==t.KLineTitle.IsShowSettingInfo&&(e.TitlePaint[0].IsShowSettingInfo=!1),0==t.KLineTitle.IsShow&&(e.TitlePaint[0].IsShow=!1)),t.Overlay)for(r=0;r<t.Overlay.length;++r){i=t.Overlay[r];e.OverlaySymbol(i.Symbol,i)}if(t.ExtendChart)for(r=0;r<t.ExtendChart.length;++r){i=t.ExtendChart[r];e.CreateExtendChart(i.Name,i)}var s=new I;if(t.ColorIndex){i=t.ColorIndex;var l=s.Get(i.Index);l&&(l.ID=i.Index,e.ColorIndex=new aa(l.Name,l.Script,l.Args,l))}if(t.TradeIndex){i=t.TradeIndex;var h=s.Get(i.Index);h&&(h.ID=i.Index,e.TradeIndex=new aa(h.Name,h.Script,h.Args,h))}for(r=0;r<t.Windows.length;++r){if((i=t.Windows[r]).Script)e.WindowIndex[r]=new aa(i.Name,i.Script,i.Args,i);else if(i.JsonData)e.WindowIndex[r]=new pi(i.Name,i.Script,i.Args,i);else if(i.Local&&i.Local.Data)e.WindowIndex[r]=new oa(i.Local.Name,i.Local.Args,{JsonData:i.Local.Data});else if(i.API){var u=i.API;e.WindowIndex[r]=new ra(u.Name,u.Script,u.Args,i)}else{var c=ii.Get(i.Index);if(c)e.WindowIndex[r]=c.Create(i.Option),e.WindowIndex[r].SetArgs&&e.WindowIndex[r].SetArgs(i.Args),e.CreateWindowIndex(r);else{var d=s.Get(i.Index);if(!d)continue;i.Lock&&(d.Lock=i.Lock),d.ID=i.Index;var p=d.Args;i.Args&&(p=i.Args),i.IsShortTitle&&(d.IsShortTitle=i.IsShortTitle),i.TitleFont&&(d.TitleFont=i.TitleFont),e.WindowIndex[r]=new aa(d.Name,d.Script,p,d),i.StringFormat>0&&(e.WindowIndex[r].StringFormat=i.StringFormat),i.FloatPrecision>=0&&(e.WindowIndex[r].FloatPrecision=i.FloatPrecision)}}null!=i.Modify&&(e.Frame.SubFrame[r].Frame.ModifyIndex=i.Modify),null!=i.Change&&(e.Frame.SubFrame[r].Frame.ChangeIndex=i.Change),null!=i.Close&&(e.Frame.SubFrame[r].Frame.CloseIndex=i.Close),null!=i.Overlay&&(e.Frame.SubFrame[r].Frame.OverlayIndex=i.Overlay),Ce.IsBool(i.MaxMin)&&(e.Frame.SubFrame[r].Frame.MaxMinWindow=i.MaxMin),Ce.IsBool(i.TitlteWindow)&&(e.Frame.SubFrame[r].Frame.TitlteWindow=i.TitlteWindow),1==i.IsDrawTitleBG&&(e.Frame.SubFrame[r].Frame.IsDrawTitleBG=i.IsDrawTitleBG),Ce.IsNumber(i.TitleHeight)?e.Frame.SubFrame[r].Frame.ChartBorder.TitleHeight=i.TitleHeight:i.TitleHeight=e.Frame.SubFrame[r].Frame.ChartBorder.TitleHeight,0==i.IsShowTitleArraw&&(e.Frame.SubFrame[r].Frame.IsShowTitleArraw=!1),0==i.IsShowIndexName&&(e.Frame.SubFrame[r].Frame.IsShowIndexName=!1),0==i.IsShowOverlayIndexName&&(e.Frame.SubFrame[r].Frame.IsShowOverlayIndexName=!1),Ce.IsNumber(i.IndexParamSpace)&&(e.Frame.SubFrame[r].Frame.IndexParamSpace=i.IndexParamSpace),Ce.IsNumber(i.IndexTitleSpace)&&(e.Frame.SubFrame[r].Frame.IndexTitleSpace=i.IndexTitleSpace),i.OverlayIndexType&&(Ce.IsNumber(i.OverlayIndexType.Position)&&(e.Frame.SubFrame[r].Frame.OverlayIndexType.Position=i.OverlayIndexType.Position),Ce.IsNumber(i.OverlayIndexType.LineSpace)&&(e.Frame.SubFrame[r].Frame.OverlayIndexType.LineSpace=i.OverlayIndexType.LineSpace))}if(t.OverlayIndexFrameWidth>40&&(e.OverlayIndexFrameWidth=t.OverlayIndexFrameWidth),Ce.IsNonEmptyArray(t.OverlayIndex))for(r=0;r<t.OverlayIndex.length;++r){if(!((i=t.OverlayIndex[r]).Windows>=e.Frame.SubFrame.length)){var v=(0,f.default)(i),C=JSON.parse(v);i.Index&&(C.IndexName=i.Index),i.Windows>=0&&(C.WindowIndex=i.Windows),e.CreateOverlayWindowsIndex(C)}}return this.AdjustTitleHeight(e),e},this.CreateCustomKLineChartContainer=function(t){var e=new function(t){this.newMethod=ri,this.newMethod(t),delete this.newMethod,this.ClassName="CustomKLineChartContainer",this.CustomKLineApiUrl=Qe.Domain+"/API/IndexCalculate",this.CustomStock,this.QueryDate={Start:20180101,End:20180627},this.RequestHistoryData=function(){var t=this;this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.Draw(),C.HttpRequest({url:this.CustomKLineApiUrl,data:{stock:t.CustomStock,Name:t.Symbol,date:{startdate:t.QueryDate.Start,enddate:t.QueryDate.End}},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryData(e)}})},this.RecvHistoryData=function(t){var e=ri.JsonDataToHistoryData(t),i=new mt;i.Data=e,i.DataType=0;var a=new mt;if(a.Data=e,a.Right=this.Right,a.Period=this.Period,a.DataType=0,a.Right>0){var n=a.GetRightData(a.Right,{AlgorithmType:this.RightFormula});a.Data=n}if(mt.IsDayPeriod(this.Period,!1)){var r=i.GetPeriodData(a.Period);a.Data=r}this.SourceData=i,this.Name=t.name,this.BindMainData(a,this.PageSize);for(var o=0;o<this.Frame.SubFrame.length;++o)this.BindIndexData(o,a);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}(this.CanvasElement);if(e.ModifyIndexDialog=this.ModifyIndexDialog,e.ChangeIndexDialog=this.ChangeIndexDialog,e.MinuteDialog=this.MinuteDialog,1==t.IsShowRightMenu&&(e.RightMenu=new xi(this.DivElement)),t.KLine&&(t.KLine.DragMode>=0&&(e.DragMode=t.KLine.DragMode),t.KLine.Right>=0&&(e.Right=t.KLine.Right),t.KLine.Period>=0&&(e.Period=t.KLine.Period),t.KLine.MaxRequestDataCount>0&&(e.MaxRequestDataCount=t.KLine.MaxRequestDataCount),t.KLine.Info&&t.KLine.Info.length>0&&e.SetKLineInfo(t.KLine.Info,!1),t.KLine.IndexTreeApiUrl&&(e.ChangeIndexDialog.IndexTreeApiUrl=t.KLine.IndexTreeApiUrl),0==t.KLine.KLineDoubleClick&&(e.MinuteDialog=this.MinuteDialog=null),null!=t.KLine.IndexTreeApiUrl&&(e.ChangeIndexDialog.IndexTreeApiUrl=t.KLine.IndexTreeApiUrl),t.KLine.PageSize>0&&(e.PageSize=t.KLine.PageSize),0==t.KLine.IsShowTooltip&&(e.IsShowTooltip=!1)),t.CustomStock&&(e.CustomStock=t.CustomStock),t.QueryDate&&(e.QueryDate=t.QueryDate),!t.Windows||t.Windows.length<=0)return null;if(e.Create(t.Windows.length),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top)),0==t.IsShowCorssCursorInfo&&(e.ChartCorssCursor.IsShowText=t.IsShowCorssCursorInfo),t.Frame)for(var i=0;i<t.Frame.length;++i){(n=t.Frame[i]).SplitCount&&(e.Frame.SubFrame[i].Frame.YSplitOperator.SplitCount=n.SplitCount),n.StringFormat&&(e.Frame.SubFrame[i].Frame.YSplitOperator.StringFormat=n.StringFormat)}t.KLineTitle&&(0==t.KLineTitle.IsShowName&&(e.TitlePaint[0].IsShowName=!1),0==t.KLineTitle.IsShowSettingInfo&&(e.TitlePaint[0].IsShowSettingInfo=!1));var a=new I;for(i=0;i<t.Windows.length;++i){var n;if((n=t.Windows[i]).Script)e.WindowIndex[i]=new aa(n.Name,n.Script,n.Args,n);else{var r=ii.Get(n.Index);if(r)e.WindowIndex[i]=r.Create(),e.CreateWindowIndex(i);else{var o=a.Get(n.Index);if(!o)continue;n.Lock&&(o.Lock=n.Lock),e.WindowIndex[i]=new aa(o.Name,o.Script,o.Args,o)}}null!=n.Modify&&(e.Frame.SubFrame[i].Frame.ModifyIndex=n.Modify),null!=n.Change&&(e.Frame.SubFrame[i].Frame.ChangeIndex=n.Change),isNaN(n.TitleHeight)||(e.Frame.SubFrame[i].Frame.ChartBorder.TitleHeight=n.TitleHeight)}return e},this.CreateMinuteChartContainer=function(t){var e=null;e="分钟走势图横屏"===t.Type?new ui(this.CanvasElement):new oi(this.CanvasElement),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),e.ModifyIndexDialog=this.ModifyIndexDialog,e.ChangeIndexDialog=this.ChangeIndexDialog;var i=2;if(t.Windows&&t.Windows.length>0&&(i+=t.Windows.length),1==t.EnableScrollUpDown&&(e.EnableScrollUpDown=t.EnableScrollUpDown),1==t.DisableMouse&&(e.DisableMouse=t.DisableMouse),t.ScriptError&&(e.ScriptErrorCallback=t.ScriptError),Ce.IsString(t.SplashTitle)&&(e.LoadDataSplashTitle=t.SplashTitle),Ce.IsBool(t.EnableSelectRect)&&(e.EnableSelectRect=t.EnableSelectRect),Ce.IsBool(t.EnableZoomIndexWindow)&&(e.EnableZoomIndexWindow=t.EnableZoomIndexWindow),Ce.IsBool(t.IsDrawPictureXY)&&(e.IsDrawPictureXY=t.IsDrawPictureXY),Ce.IsBool(t.EnableNewIndex)&&(e.EnableNewIndex=t.EnableNewIndex),Ce.IsBool(t.EnableIndexChartDrag)&&(e.EnableIndexChartDrag=t.EnableIndexChartDrag),Ce.IsBool(t.EnableVerifyRecvData)&&(e.EnableVerifyRecvData=t.EnableVerifyRecvData),t.GlobalOption){var a=t.GlobalOption;Ce.IsBool(a.IsValueFullRange)&&(e.GlobalOption.IsValueFullRange=a.IsValueFullRange)}if(e.SelectRectDialog=new function(t){this.newMethod=yi,this.newMethod(t),delete this.newMethod,this.SelectData,this.Dialog,this.HQChart,this.RectSelectPaint,this.Close=function(){this.Dialog&&(this.DivElement.removeChild(this.Dialog),this.Dialog=null,this.ID=null),this.RectSelectPaint&&(this.RectSelectPaint.PreventClose=!1)},this.Create=function(){this.ID=P();var t=document.createElement("div");t.className="jchart-select-statistics-box",t.id=this.ID,t.innerHTML="<div class='parameter jchart-select-section'>            <div class='parameter-header'>                <span>分时图区间统计</span>                <strong id='close' class='icon iconfont icon-close'></strong>            </div>            <div class='parameter-content'>统计数据</div>        <div class='parameter-footer'>            <button id='close' class='submit' >确定</button>        </div>        </div>",this.DivElement.appendChild(t),this.Dialog=t,(0,m.default)("#"+this.ID+" #close").click({divBox:this},function(t){t.data.divBox.Close()})},this.BindData=function(){var t=this.SelectData.Data,e=this.SelectData.Start,i=this.SelectData.End;this.HQChart.UpdateSelectRect(e,i),this.RectSelectPaint&&(this.RectSelectPaint.PreventClose=!0);for(var a={Open:0,Close:0,High:0,Low:0,Vol:0,Amount:0,Date:{Start:{Time:null,Date:null},End:{Time:null,Date:null}},Count:0},n=e;n<=i&&n<t.Data.length;++n){var r=t.Data[n];n==e&&(a.Date.Start.Date=r.Date,a.Date.Start.Time=r.Time,a.Open=r.Close,a.High=r.High,a.Low=r.Low),a.Date.End.Date=r.Date,a.Date.End.Time=r.Time,a.Close=r.Close,a.Vol+=r.Vol,a.Amount+=r.Amount,++a.Count,a.High<r.High&&(a.High=r.High),a.Low>r.Low&&(a.Low=r.Low)}a.Vol>0&&(a.AvPrice=a.Amount/a.Vol),r.Open>0&&(a.Increase=(a.Close-a.Open)/a.Open*100,a.Amplitude=(a.High-a.Low)/a.Open*100);var o=Ni(this.SelectData.Symbol),s=Ce.FormatDateString(a.Date.Start.Date),l=Ce.FormatDateString(a.Date.End.Date);s+=" "+Ce.FormatTimeString(a.Date.Start.Time,"HH:MM"),l+=" "+Ce.FormatTimeString(a.Date.End.Time,"HH:MM");var h="",u="",c="",d="";e<=0&&(h="BtnBackground"),e>=i&&(u="BtnBackground",c="BtnBackground"),i>=t.Data.length-1&&(d="BtnBackground");var f=document.createElement("div");f.className="jchart-select-table-right",f.innerHTML='<div class="jchart-select-date">\n            <span>开始: '+s+'<i class="start-date-left '+h+'"><</i><i class="start-date-right '+u+'">></i></span>\n            <span>结束: '+l+'<i class="end-date-left '+c+'"><</i><i class="end-date-right '+d+'">></i></span>\n            <span>总个数: '+a.Count+"</span>\n        </div>\n        <table>\n            <tr><td><strong>起始价: </strong><span>"+a.Open.toFixed(o)+"</span></td>               <td><strong>终止价: </strong><span>"+a.Close.toFixed(o)+"</span></td>               <td><strong>均价: </strong><span>"+(Ce.IsNumber(a.AvPrice)?a.AvPrice.toFixed(o):"--.--")+"</span></td></tr>\n            <tr><td><strong>最低价: </strong><span>"+a.Low.toFixed(o)+"</span></td>               <td><strong>最高价: </strong><span>"+a.High.toFixed(o)+'</span></td>               <td><strong>涨跌幅: </strong><span class="'+Ce.FormatValueColor(a.Increase)+'">'+a.Increase.toFixed(2)+"%</span></td></tr>\n            <tr><td><strong>振幅: </strong><span>"+a.Amplitude.toFixed(2)+"%</span></td>               <td><strong>成交量: </strong><span>"+Ce.FormatValueString(a.Vol,2)+"股</span></td>               <td><strong>金额: </strong><span>"+Ce.FormatValueString(a.Amount,2)+"元</span></td></tr>\n        </table>",(0,m.default)(".parameter-content").html(f),this.BindEvent()},this.BindEvent=function(){var t=this;t.SelectData.Start>0&&(0,m.default)(".jchart-select-date .start-date-left").click(function(){t.SelectData.Start--,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)}),t.SelectData.Start<t.SelectData.End&&((0,m.default)(".jchart-select-date .start-date-right").click(function(){t.SelectData.Start++,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)}),(0,m.default)(".jchart-select-date .end-date-left").click(function(){t.SelectData.End--,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)})),t.SelectData.End<t.SelectData.Data.Data.length-1&&(0,m.default)(".jchart-select-date .end-date-right").click(function(){t.SelectData.End++,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)})},this.DoModal=function(t){var e=t.data.Chart;null==this.ID&&this.Create(),this.SelectData=t.data.SelectData,this.RectSelectPaint=t.data.RectSelectPaint,this.HQChart=e,this.HQChart.HideSelectRect(),this.BindData(),this.Show()}}(this.DivElement),t.Minute&&(0==t.Minute.IsShowTooltip&&(e.IsShowTooltip=!1),t.Minute.DragMode>=0&&(e.DragMode=t.Minute.DragMode)),t.Language){var n=ei.GetLanguageID(t.Language);Ce.IsNumber(n)&&(e.LanguageID=n)}if(t.Info&&t.Info.length>0&&e.SetMinuteInfo(t.Info,!1),t.DrawTool&&t.DrawTool.StorageKey&&e.ChartDrawStorage&&e.ChartDrawStorage.Load(t.DrawTool.StorageKey),t.BeforeOpen){a=t.BeforeOpen;Ce.IsBool(a.IsShow)&&(e.IsShowBeforeData=a.IsShow),Ce.IsNumber(a.Width)&&(e.ExtendWidth.Left=a.Width),Ce.IsBool(a.IsShowMultiDay)&&(e.IsShowMultiDayBeforeData=a.IsShowMultiDay),Ce.IsNumber(a.MulitiDayWidth)&&(e.MultiDayExtendWidth.Left=a.MulitiDayWidth)}if(t.AfterClose){a=t.AfterClose;Ce.IsBool(a.IsShow)&&(e.IsShowAfterData=a.IsShow),Ce.IsNumber(a.ShareVol)&&(e.ShareAfterVol=a.ShareVol),Ce.IsNumber(a.Width)&&(e.ExtendWidth.Right=a.Width),Ce.IsBool(a.IsShowMultiDay)&&(e.IsShowMultiDayAfterData=a.IsShowMultiDay),Ce.IsNumber(a.MulitiDayWidth)&&(e.MultiDayExtendWidth.Right=a.MulitiDayWidth)}if(t.SelectedChart){a=t.SelectedChart;Ce.IsBool(a.EnableSelected)&&(e.SelectedChart.EnableSelected=a.EnableSelected),Ce.IsBool(a.EnableMoveOn)&&(e.SelectedChart.EnableMoveOn=a.EnableMoveOn)}if(t.PageInfo&&e.SetPageInfo(t.PageInfo),e.Create(i,t),t.CorssCursorInfo){a=t.CorssCursorInfo;isNaN(t.CorssCursorInfo.Left)||(e.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),isNaN(t.CorssCursorInfo.Right)||(e.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),isNaN(t.CorssCursorInfo.Bottom)||(e.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(e.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss),t.CorssCursorInfo.RightTextFormat>0&&(e.ChartCorssCursor.TextFormat.Right=t.CorssCursorInfo.RightTextFormat),1==t.CorssCursorInfo.IsOnlyDrawMinute&&(e.ChartCorssCursor.IsOnlyDrawMinute=t.CorssCursorInfo.IsOnlyDrawMinute),Ce.IsBool(t.CorssCursorInfo.IsFixXLastTime)&&(e.ChartCorssCursor.IsFixXLastTime=t.CorssCursorInfo.IsFixXLastTime),a.RightButton&&Ce.IsBool(a.RightButton.Enable)&&(e.ChartCorssCursor.RightButton.Enable=a.RightButton.Enable),Ce.IsNumber(a.PriceFormatType)&&(e.ChartCorssCursor.StringFormatY.PriceFormatType=a.PriceFormatType),Ce.IsNumber(a.DataFormatType)&&(e.ChartCorssCursor.StringFormatY.DataFormatType=a.DataFormatType),Ce.IsNumber(a.HPenType)&&(e.ChartCorssCursor.HPenType=a.HPenType),Ce.IsNumber(a.VPenType)&&(e.ChartCorssCursor.VPenType=a.VPenType)}if(t.MinuteInfo&&e.CreateMinuteInfo(t.MinuteInfo),1==t.IsShowRightMenu&&(e.RightMenu=new function(t){this.newMethod=xi,this.newMethod(t),delete this.newMethod,this.DoModal=function(t){var e=t.data.Chart,i=e.RightMenu,a=t.offsetX,n=t.offsetY,r=[{text:"叠加品种",children:this.GetOverlay(e)},{text:"多日分时图",children:this.GetDayCount(e)},{text:"指标窗口个数",children:this.GetIndexWindowCount(e)},{text:"副图指标切换",children:this.GetIndex(e)},{text:"区间选择",children:this.GetSelectRect(e)}],o=e.Symbol;Ii.IsSHSZStockA(o)&&r.push({text:"集合竞价",children:this.GetShowBeforeData(e)}),r.push({text:"工具",children:this.GetTools(e)});var s=t.data.FrameID,l=this.GetOverlayIndex(e,s);if(l&&l.length>0){var h={text:"删除叠加指标",children:this.GetDeleteOverlayIndex(e,l)};r.splice(3,0,h)}var s=t.data.FrameID;g.Chart.Log("[MinuteRightMenu::DoModal]",s),i.Show({windowIndex:s,x:a+e.UIElement.offsetLeft,y:n+e.UIElement.offsetTop,position:e.Frame.Position,data:r}),(0,m.default)(document).click(function(){i.Hide()})},this.GetDayCount=function(t){var e=[{text:"当日分时图",click:function(){t.ChangeDayCount(1)},isBorder:!0},{text:"最近2日",click:function(){t.ChangeDayCount(2)}},{text:"最近3日",click:function(){t.ChangeDayCount(3)}},{text:"最近4日",click:function(){t.ChangeDayCount(4)}},{text:"最近5日",click:function(){t.ChangeDayCount(5)}},{text:"最近6日",click:function(){t.ChangeDayCount(6)}}];return t.DayCount-1>=0&&t.DayCount-1<e.length&&(e[t.DayCount-1].selected=!0),e},this.GetIndex=function(t){var e=[{text:"MACD",click:function(e){t.ChangeIndex(e,"MACD")}},{text:"DMI",click:function(e){t.ChangeIndex(e,"DMI")}},{text:"DMA",click:function(e){t.ChangeIndex(e,"DMA")}},{text:"BRAR",click:function(e){t.ChangeIndex(e,"BRAR")}},{text:"KDJ",click:function(e){t.ChangeIndex(e,"KDJ")}},{text:"RSI",click:function(e){t.ChangeIndex(e,"RSI")}},{text:"WR",click:function(e){t.ChangeIndex(e,"WR")}},{text:"CCI",click:function(e){t.ChangeIndex(e,"CCI")}},{text:"TRIX",click:function(e){t.ChangeIndex(e,"TRIX")}}];return e},this.GetShowBeforeData=function(t){if(t.IsShowBeforeData){var e=[{text:"隐藏",click:function(){t.ShowCallAuctionData({Left:!1,MultiDay:{Left:!1}})}}];return e}var e=[{text:"显示",click:function(){t.ShowCallAuctionData({Left:!0,MultiDay:{Left:!0}})}}];return e},this.GetSelectRect=function(t){if(t.EnableSelectRect){var e=[{text:"禁用区间选择",click:function(){t.EnableSelectRect=!1}}];return e}var e=[{text:"启动区间选择",click:function(){t.EnableSelectRect=!0}}];return e},this.GetIndexWindowCount=function(t){var e=[{text:"1个窗口",click:function(){t.ChangeIndexWindowCount(2)}},{text:"2个窗口",click:function(){t.ChangeIndexWindowCount(3)}},{text:"3个窗口",click:function(){t.ChangeIndexWindowCount(4)}},{text:"4个窗口",click:function(){t.ChangeIndexWindowCount(5)}},{text:"5个窗口",click:function(){t.ChangeIndexWindowCount(6)}}],i=t.Frame.SubFrame.length-1;return i-1>=0&&i-1<e.length&&(e[i-1].selected=!0),e},this.GetTools=function(t){var e=[],i=t.GetExtendChartByClassName("DrawToolsButton");return i?e.push({text:"关闭画图工具",click:function(){var e=i.Chart.Width;parseInt(i.Index);t.DeleteExtendChart(i),t.Frame.ChartBorder.Right-=e,t.SetSizeChange(!0),t.Draw()}}):e.push({text:"画图工具",click:function(){var e={Name:"画图工具",Top:t.Frame.ChartBorder.Top};t.CreateExtendChart(e.Name,e);t.SetSizeChange(!0),t.Draw()}}),e}}(this.DivElement)),Ce.IsNumber(t.DayCount)&&(e.DayCount=t.DayCount),this.SetChartBorder(e,t),t.SplashTitle&&(e.ChartSplashPaint.SplashTitle=t.SplashTitle),Ce.IsBool(t.EnableBorderDrag)&&(e.EnableBorderDrag=t.EnableBorderDrag),this.AdjustChartBorder(e),t.Frame){for(var r=0;r<t.Frame.length;++r){a=t.Frame[r];e.Frame.SubFrame[r]&&(a.SplitCount&&(e.Frame.SubFrame[r].Frame.YSplitOperator.SplitCount=a.SplitCount),a.StringFormat&&(e.Frame.SubFrame[r].Frame.YSplitOperator.StringFormat=a.StringFormat),Ce.IsNumber(a.SplitType)&&(e.Frame.SubFrame[r].Frame.YSplitOperator.SplitType=a.SplitType,e.Frame.SubFrame[r].Frame.YSplitOperator.DefaultSplitType=a.SplitType),0==a.IsShowLeftText&&(e.Frame.SubFrame[r].Frame.IsShowYText[0]=a.IsShowLeftText,e.Frame.SubFrame[r].Frame.YSplitOperator.IsShowLeftText=a.IsShowLeftText),0==a.IsShowRightText&&(e.Frame.SubFrame[r].Frame.IsShowYText[1]=a.IsShowRightText,e.Frame.SubFrame[r].Frame.YSplitOperator.IsShowRightText=a.IsShowRightText),a.Height>=0&&(e.Frame.SubFrame[r].Height=a.Height),a.Custom&&(e.Frame.SubFrame[r].Frame.YSplitOperator.Custom=a.Custom),a.RightTextFormat>0&&(e.Frame.SubFrame[r].Frame.YSplitOperator.RightTextFormat=a.RightTextFormat),Ce.IsNumber(a.TitleHeight)&&(e.Frame.SubFrame[r].Frame.ChartBorder.TitleHeight=a.TitleHeight),Ce.IsNumber(a.BorderLine)&&(e.Frame.SubFrame[r].Frame.BorderLine=a.BorderLine),Ce.IsBool(a.EnableRemoveZero)&&(e.Frame.SubFrame[r].Frame.YSplitOperator.EnableRemoveZero=a.EnableRemoveZero),Ce.IsNumber(a.FloatPrecision)&&(e.Frame.SubFrame[r].Frame.YSplitOperator.FloatPrecision=a.FloatPrecision),Ce.IsBool(a.IsShowXLine)&&(e.Frame.SubFrame[r].Frame.IsShowXLine=a.IsShowXLine),Ce.IsBool(a.IsShowYLine)&&(e.Frame.SubFrame[r].Frame.IsShowYLine=a.IsShowYLine),Ce.IsNumber(a.YTextBaseline)&&(e.Frame.SubFrame[r].Frame.YTextBaseline=a.YTextBaseline))}e.UpdateXShowText()}if(t.ExtendChart)for(r=0;r<t.ExtendChart.length;++r){a=t.ExtendChart[r];e.CreateExtendChart(a.Name,a)}if(t.Overlay)for(r=0;r<t.Overlay.length;++r){a=t.Overlay[r];e.OverlaySymbol(a.Symbol,a)}if(t.MinuteLine){if(0==t.MinuteLine.IsDrawAreaPrice&&(e.ChartPaint[0].IsDrawArea=!1),0==t.MinuteLine.IsShowLead&&(e.IsShowLead=!1),0==t.MinuteLine.IsShowAveragePrice){e.ChartPaint[1].IsShow=!1,e.TitlePaint[0].IsShowAveragePrice=!1;for(r=0;r<e.ExtendChartPaint.length;++r){"MinuteTooltipPaint"==(a=e.ExtendChartPaint[r]).ClassName&&(a.IsShowAveragePrice=!1)}}t.MinuteLine.SplitType>0&&(e.Frame.SubFrame[0].Frame.YSplitOperator.SplitType=t.MinuteLine.SplitType)}if(t.MinuteTitle){a=t.MinuteTitle;Ce.IsBool(a.IsShowName)&&(e.TitlePaint[0].IsShowName=a.IsShowName),Ce.IsBool(a.IsShowDate)&&(e.TitlePaint[0].IsShowDate=a.IsShowDate),Ce.IsBool(a.IsShowTime)&&(e.TitlePaint[0].IsShowTime=a.IsShowTime),Ce.IsBool(a.IsTitleShowLatestData)&&(e.IsTitleShowLatestData=a.IsTitleShowLatestData),Ce.IsBool(a.IsAlwaysShowLastData)&&(e.TitlePaint[0].IsAlwaysShowLastData=a.IsAlwaysShowLastData),Ce.IsNumber(a.ShowLastDataFormat)&&(e.TitlePaint[0].ShowLastDataFormat=a.ShowLastDataFormat)}if(!0===t.CorssCursorTouchEnd&&(e.CorssCursorTouchEnd=t.CorssCursorTouchEnd),!0===t.IsShowBeforeData&&(e.IsShowBeforeData=t.IsShowBeforeData),Ce.IsNonEmptyArray(t.Windows)){var o=new I;for(r=0;r<t.Windows.length;++r){var s=2+r;if((a=t.Windows[r]).Script)e.WindowIndex[s]=new aa(a.Name,a.Script,a.Args,a);else if(a.API){var l=a.API;e.WindowIndex[s]=new ra(l.Name,l.Script,l.Args,a)}else{var h=ii.Get(a.Index);if(h)e.WindowIndex[s]=h.Create(),e.CreateWindowIndex(s);else{var u=o.Get(a.Index);if(!u)continue;u.ID=a.Index;var c=u.Args;a.Args&&(c=a.Args),a.IsShortTitle&&(u.IsShortTitle=a.IsShortTitle),a.TitleFont&&(u.TitleFont=a.TitleFont),e.WindowIndex[s]=new aa(u.Name,u.Script,c,u),a.StringFormat>0&&(e.WindowIndex[s].StringFormat=a.StringFormat),a.FloatPrecision>=0&&(e.WindowIndex[s].FloatPrecision=a.FloatPrecision)}}null!=a.Modify&&(e.Frame.SubFrame[s].Frame.ModifyIndex=a.Modify),null!=a.Change&&(e.Frame.SubFrame[s].Frame.ChangeIndex=a.Change),null!=a.Close&&(e.Frame.SubFrame[s].Frame.CloseIndex=a.Close),null!=a.Overlay&&(e.Frame.SubFrame[s].Frame.OverlayIndex=a.Overlay),Ce.IsBool(a.MaxMin)&&(e.Frame.SubFrame[r].Frame.MaxMinWindow=a.MaxMin),Ce.IsBool(a.TitlteWindow)&&(e.Frame.SubFrame[r].Frame.TitlteWindow=a.TitlteWindow),Ce.IsNumber(a.YSplitType)&&(e.Frame.SubFrame[s].Frame.YSplitOperator.SplitType=a.YSplitType),isNaN(a.TitleHeight)||(e.Frame.SubFrame[s].Frame.ChartBorder.TitleHeight=a.TitleHeight),Ce.IsBool(a.IsDrawTitleBG)&&(e.Frame.SubFrame[s].Frame.IsDrawTitleBG=a.IsDrawTitleBG)}}if(this.AdjustTitleHeight(e),Ce.IsNonEmptyArray(t.OverlayIndex))for(r=0;r<t.OverlayIndex.length;++r){if(!((a=t.OverlayIndex[r]).Windows>=e.Frame.SubFrame.length)){var d=(0,f.default)(a),p=JSON.parse(d);a.Index&&(p.IndexName=a.Index),a.Windows>=0&&(p.WindowIndex=a.Windows),e.CreateOverlayWindowsIndex(p)}}return e},this.CreateMinMinuteChartContainer=function(t){var e=null;e="迷你分钟走势图横屏"===t.Type?new ui(this.CanvasElement):new oi(this.CanvasElement),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter);if(t.BeforeOpen){var i=t.BeforeOpen;Ce.IsBool(i.IsShow)&&(e.IsShowBeforeData=i.IsShow),Ce.IsNumber(i.Width)&&(e.ExtendWidth.Left=i.Width),Ce.IsBool(i.IsShowMultiDay)&&(e.IsShowMultiDayBeforeData=i.IsShowMultiDay),Ce.IsNumber(i.MulitiDayWidth)&&(e.MultiDayExtendWidth.Left=i.MulitiDayWidth)}if(t.AfterClose){i=t.AfterClose;Ce.IsBool(i.IsShow)&&(e.IsShowAfterData=i.IsShow),Ce.IsNumber(i.ShareVol)&&(e.ShareAfterVol=i.ShareVol),Ce.IsNumber(i.Width)&&(e.ExtendWidth.Right=i.Width),Ce.IsBool(i.IsShowMultiDay)&&(e.IsShowMultiDayAfterData=i.IsShowMultiDay),Ce.IsNumber(i.MulitiDayWidth)&&(e.MultiDayExtendWidth.Right=i.MulitiDayWidth)}if(t.Listener||(t.Listener={KeyDown:!1,Wheel:!1}),e.Create(2,t.Listener),t.CorssCursorInfo){i=t.CorssCursorInfo;Ce.IsNumber(t.CorssCursorInfo.Left)&&(e.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),Ce.IsNumber(t.CorssCursorInfo.Right)&&(e.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),Ce.IsNumber(t.CorssCursorInfo.Bottom)&&(e.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(e.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss),t.CorssCursorInfo.RightTextFormat>0&&(e.ChartCorssCursor.TextFormat.Right=t.CorssCursorInfo.RightTextFormat),1==t.CorssCursorInfo.IsOnlyDrawMinute&&(e.ChartCorssCursor.IsOnlyDrawMinute=t.CorssCursorInfo.IsOnlyDrawMinute),Ce.IsBool(t.CorssCursorInfo.IsFixXLastTime)&&(e.ChartCorssCursor.IsFixXLastTime=t.CorssCursorInfo.IsFixXLastTime),i.RightButton&&Ce.IsBool(i.RightButton.Enable)&&(e.ChartCorssCursor.RightButton.Enable=i.RightButton.Enable),Ce.IsNumber(i.PriceFormatType)&&(e.ChartCorssCursor.StringFormatY.PriceFormatType=i.PriceFormatType),Ce.IsNumber(i.DataFormatType)&&(e.ChartCorssCursor.StringFormatY.DataFormatType=i.DataFormatType),Ce.IsNumber(t.CorssCursorInfo.HPenType)&&(e.ChartCorssCursor.HPenType=t.CorssCursorInfo.HPenType),Ce.IsNumber(t.CorssCursorInfo.VPenType)&&(e.ChartCorssCursor.VPenType=t.CorssCursorInfo.VPenType)}Ce.IsNumber(t.DayCount)&&(e.DayCount=t.DayCount),this.SetChartBorder(e,t),t.SplashTitle&&(e.ChartSplashPaint.SplashTitle=t.SplashTitle),Ce.IsBool(t.EnableVerifyRecvData)&&(e.EnableVerifyRecvData=t.EnableVerifyRecvData),e.TitlePaint[0].IsShow=!1;var a=e.Frame.SubFrame[0];if(a.Frame.IsShowYText[0]=!1,a.Frame.IsShowYText[1]=!1,a.Frame.IsShowXLine=!1,a.Frame.IsShowYLine=!1,a.Frame.BorderLine=0,e.Frame.SubFrame[1].Height=0,e.EnableBorderDrag=!1,t.Frame)for(var n=0;n<t.Frame.length;++n){i=t.Frame[n];e.Frame.SubFrame[n]&&(i.SplitCount&&(e.Frame.SubFrame[n].Frame.YSplitOperator.SplitCount=i.SplitCount),i.StringFormat&&(e.Frame.SubFrame[n].Frame.YSplitOperator.StringFormat=i.StringFormat),Ce.IsNumber(i.SplitType)&&(e.Frame.SubFrame[n].Frame.YSplitOperator.SplitType=i.SplitType,e.Frame.SubFrame[n].Frame.YSplitOperator.DefaultSplitType=i.SplitType),Ce.IsBool(i.IsShowLeftText)&&(e.Frame.SubFrame[n].Frame.IsShowYText[0]=i.IsShowLeftText,e.Frame.SubFrame[n].Frame.YSplitOperator.IsShowLeftText=i.IsShowLeftText),Ce.IsBool(i.IsShowRightText)&&(e.Frame.SubFrame[n].Frame.IsShowYText[1]=i.IsShowRightText,e.Frame.SubFrame[n].Frame.YSplitOperator.IsShowRightText=i.IsShowRightText),i.Height>=0&&(e.Frame.SubFrame[n].Height=i.Height),i.Custom&&(e.Frame.SubFrame[n].Frame.YSplitOperator.Custom=i.Custom),i.RightTextFormat>0&&(e.Frame.SubFrame[n].Frame.YSplitOperator.RightTextFormat=i.RightTextFormat),Ce.IsNumber(i.TitleHeight)&&(e.Frame.SubFrame[n].Frame.ChartBorder.TitleHeight=i.TitleHeight),Ce.IsNumber(i.BorderLine)&&(e.Frame.SubFrame[n].Frame.BorderLine=i.BorderLine),Ce.IsBool(i.EnableRemoveZero)&&(e.Frame.SubFrame[n].Frame.YSplitOperator.EnableRemoveZero=i.EnableRemoveZero),Ce.IsNumber(i.FloatPrecision)&&(e.Frame.SubFrame[n].Frame.YSplitOperator.FloatPrecision=i.FloatPrecision),Ce.IsBool(i.IsShowXLine)&&(e.Frame.SubFrame[n].Frame.IsShowXLine=i.IsShowXLine),Ce.IsBool(i.IsShowYLine)&&(e.Frame.SubFrame[n].Frame.IsShowYLine=i.IsShowYLine),Ce.IsNumber(i.YTextBaseline)&&(e.Frame.SubFrame[n].Frame.YTextBaseline=i.YTextBaseline))}if(e.UpdateXShowText(),t.MinuteLine){if(0==t.MinuteLine.IsDrawAreaPrice&&(e.ChartPaint[0].IsDrawArea=!1),0==t.MinuteLine.IsShowLead&&(e.IsShowLead=!1),0==t.MinuteLine.IsShowAveragePrice){e.ChartPaint[1].IsShow=!1,e.TitlePaint[0].IsShowAveragePrice=!1;for(n=0;n<e.ExtendChartPaint.length;++n){"MinuteTooltipPaint"==(i=e.ExtendChartPaint[n]).ClassName&&(i.IsShowAveragePrice=!1)}}t.MinuteLine.SplitType>0&&(e.Frame.SubFrame[0].Frame.YSplitOperator.SplitType=t.MinuteLine.SplitType)}return this.AdjustTitleHeight(e),!0===t.DisableMouseEvent&&(this.CanvasElement.onmousemove=function(t){},this.CanvasElement.oncontextmenu=function(t){},this.CanvasElement.ondblclick=function(t){},this.CanvasElement.onmousedown=function(t){},this.CanvasElement.onmouseout=function(t){},this.CanvasElement.onmouseleave=function(t){}),e},this.CreateHistoryMinuteChartContainer=function(t){var e=new si(this.CanvasElement),i=2;t.Windows&&t.Windows.length>0&&(i+=t.Windows.length),e.Create(i),0==t.IsShowCorssCursorInfo&&(e.ChartCorssCursor.IsShowText=t.IsShowCorssCursorInfo),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top),isNaN(t.Border.Bottom)||(e.Frame.ChartBorder.Bottom=t.Border.Bottom));var a=new I;if(t.Windows)for(var n=0;n<t.Windows.length;++n){var r=t.Windows[n];if(r.Script)e.WindowIndex[2+parseInt(n)]=new aa(r.Name,r.Script,r.Args);else{var o=ii.Get(r.Index);if(o)e.WindowIndex[2+parseInt(n)]=o.Create(),e.CreateWindowIndex(2+parseInt(n));else{var s=a.Get(r.Index);if(!s)continue;e.WindowIndex[2+parseInt(n)]=new aa(s.Name,s.Script,s.Args)}}isNaN(r.TitleHeight)||(e.Frame.SubFrame[2+parseInt(n)].Frame.ChartBorder.TitleHeight=r.TitleHeight)}return e.TradeDate=20181009,t.HistoryMinute.TradeDate&&(e.TradeDate=t.HistoryMinute.TradeDate),null!=t.HistoryMinute.IsShowName&&(e.TitlePaint[0].IsShowName=t.HistoryMinute.IsShowName),null!=t.HistoryMinute.IsShowDate&&(e.TitlePaint[0].IsShowDate=t.HistoryMinute.IsShowDate),e},this.CreateKLineTrainChartContainer=function(t){var e=!1;if("简单K线训练"==t.Type||"简单K线训练横屏"==t.Type){var i="简单K线训练横屏"==t.Type,a=new function(t,e){this.newMethod=li,this.newMethod(t,e),delete this.newMethod,this.IsHScreen=e,this.IsZoomLockRight=!0,this.RightSpaceCount=0,this.RecvFlowCapitalData=function(t){this.Super_RecvFlowCapitalData(t)},this.BeforeBindMainData=function(t){},this.UpdateLastDataIcon=function(){if(this.ChartPaintEx[0]){var t=this.ChartPaintEx[0];t.LastDataIndex=this.TrainInfo.End.Index}},this.AfterBindMainData=function(t){if(this.ChartPaintEx[0]||(this.CreateBuySellPaint(),this.ChartPaintEx[0].LastDataDrawType=1),"Update"!=t){var e=this.ChartOperator_Temp_GetHistroyData();if(!e)return!1;var i=e.Data.length,a=i-this.TrainDataCount-20,n=this.Frame.SubFrame[0].Frame.XPointCount,r=this.GetKDataIndexByDateTime(e.Data,this.TrainStartDate);r>=0&&i-(a=r+1)<this.TrainDataCount&&(this.TrainDataCount=i-a);var o=a-n;e.DataOffset=o;var s=a-1,l=e.Data[s];this.TrainInfo.LastShowData=l,this.TrainInfo.LastData=l,this.TrainInfo.Start.Index=s,this.TrainInfo.Start.Date=l.Date,this.TrainInfo.Start.Time=l.Time,this.TrainInfo.End.Index=s,this.TrainInfo.End.Date=l.Date,this.TrainInfo.End.Time=l.Time,this.UpdateLastDataIcon(),this.UpdateTrainUICallback("开始")}},this.Super_UpdataDataoffset=this.UpdataDataoffset,this.UpdataDataoffset=function(){this.Super_UpdataDataoffset();var t=this.ChartPaint[0].Data;this.ChartPaintEx[0].Data=t},this.MoveNextKLineData=function(t){if(this.TrainDataCount<=0)return!1;var e=this.ChartOperator_Temp_GetHistroyData();if(!e)return!1;var i=1;t&&t.Step>1&&(i=t.Step);for(var a=e.Data.length,n=0,r=0;r<i;++r){var o=this.TrainInfo.End.Index+1;if(o>=a)break;var s=e.Data[o];if(this.TrainInfo.End.Index=o,this.TrainInfo.End.Date=s.Date,this.TrainInfo.End.Time=s.Time,--this.TrainDataCount,++n,this.TrainDataCount<=0)break}if(0==n)return!1;this.TrainInfo.LastShowData=s,this.TrainInfo.LastData=s;var l=this.TrainInfo.End.Index,h=this.Frame.SubFrame[0].Frame.XPointCount,u=l-h+1;return e.DataOffset=u,this.UpdateLastDataIcon(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw(),this.TrainDataCount<=0?(this.FinishTrainData(),this.UpdateTrainUICallback("结束"),!1):(this.UpdateTrainUICallback("训练中"),!0)},this.BuyOrSell=function(t,e){var i=this.TrainInfo.LastShowData;if(!i)return!1;var a=this.ChartPaintEx[0];if(!a)return!1;var n=this.ChartPaint[0].Data;if(!n||n.Data.length<=0)return!1;var r=this.TrainInfo.End.Index,o={Date:this.TrainInfo.End.Date,Time:this.TrainInfo.End.Time,Price:t.Price,Vol:t.Vol,Op:0,ID:t.ID};1==t.Op&&(o.Op=1);var s=r;o.Key=s,this.BuySellData.push(o),a.AddTradeItem(o),1==e&&this.Draw()},this.DataMove=function(t,e){var i=this.GetMoveOneStepWidth(),a=t;if((t=parseInt(t/i))<=0)return!1;var n=this.ChartOperator_Temp_GetHistroyData();if(!n)return!1;var r=0;if(!(r=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount))return!1;if(this.Frame.SubFrame&&this.Frame.SubFrame.length>0&&this.Frame.SubFrame[0].Frame){var o=this.Frame.SubFrame[0].Frame;(o.DataWidth<=1||o.DistanceWidth<=1)&&Ce.IsPlusNumber(this.StepPixel)&&(t=a*this.StepPixel)}if(e){if(this.RightSpaceCount>0){if(r+n.DataOffset>=n.Data.length+this.RightSpaceCount-1)return!1;n.DataOffset+=t,n.DataOffset+r>=n.Data.length+this.RightSpaceCount&&(n.DataOffset=n.Data.length-(r-this.RightSpaceCount))}else{var s=this.TrainInfo.End.Index+1;if(r+n.DataOffset>=s)return!1;n.DataOffset+=t,n.DataOffset+r>=s&&(n.DataOffset=s-r)}return!0}return!(n.DataOffset<=0)&&(n.DataOffset-=t,n.DataOffset<0&&(n.DataOffset=0),!0)},this.DataMoveRight=function(){var t=this.ChartOperator_Temp_GetHistroyData();if(!t)return!1;var e=0;if(!(e=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount))return!1;var i=this.TrainInfo.End.Index+1;return!(e+t.DataOffset>=i)&&(++t.DataOffset,!0)}}(this.CanvasElement,i);e=!0}else i="K线训练横屏"==t.Type,a=new li(this.CanvasElement,i);if(t.NetworkFilter&&(a.NetworkFilter=t.NetworkFilter),1==t.IsApiPeriod&&(a.IsApiPeriod=t.IsApiPeriod),a.ModifyIndexDialog=this.ModifyIndexDialog,a.ChangeIndexDialog=this.ChangeIndexDialog,t.ScriptError&&(a.ScriptErrorCallback=t.ScriptError),t.KLine&&(t.KLine.Right>=0&&(a.Right=t.KLine.Right),t.KLine.Period>=0&&(a.Period=t.KLine.Period),t.KLine.MaxRequestDataCount>0&&(a.MaxRequestDataCount=t.KLine.MaxRequestDataCount),t.KLine.Info&&t.KLine.Info.length>0&&a.SetKLineInfo(t.KLine.Info,!1),t.KLine.PageSize>0&&(a.PageSize=t.KLine.PageSize),0==t.KLine.IsShowTooltip&&(a.IsShowTooltip=!1),t.KLine.MaxRequestMinuteDayCount>0&&(a.MaxRequestMinuteDayCount=t.KLine.MaxRequestMinuteDayCount),t.KLine.DrawType&&(a.KLineDrawType=t.KLine.DrawType),Ce.IsNumber(t.KLine.RightSpaceCount)&&!e&&(a.RightSpaceCount=t.KLine.RightSpaceCount)),t.Train&&(t.Train.DataCount&&(a.TrainDataCount=t.Train.DataCount),t.Train.Callback&&(a.TrainCallback=t.Train.Callback),t.Train.StartDate&&(a.TrainStartDate=t.Train.StartDate)),!t.Windows||t.Windows.length<=0)return null;if(a.Create(t.Windows.length),this.SetChartBorder(a,t),this.AdjustChartBorder(a),0==t.IsShowCorssCursorInfo&&(a.ChartCorssCursor.IsShowText=t.IsShowCorssCursorInfo),!0===t.IsCorssOnlyDrawKLine&&(a.ChartCorssCursor.IsOnlyDrawKLine=t.IsCorssOnlyDrawKLine),!0===t.CorssCursorTouchEnd&&(a.CorssCursorTouchEnd=t.CorssCursorTouchEnd),1==t.IsClickShowCorssCursor&&(a.IsClickShowCorssCursor=t.IsClickShowCorssCursor),t.CorssCursorInfo&&(isNaN(t.CorssCursorInfo.Left)||(a.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),isNaN(t.CorssCursorInfo.Right)||(a.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),isNaN(t.CorssCursorInfo.Bottom)||(a.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(a.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss),1==t.CorssCursorInfo.IsShowClose&&(a.ChartCorssCursor.IsShowClose=t.CorssCursorInfo.IsShowClose),t.CorssCursorInfo.PressTime&&(a.PressTime=t.CorssCursorInfo.PressTime),t.CorssCursorInfo.HPenType>0&&(a.ChartCorssCursor.HPenType=t.CorssCursorInfo.HPenType),t.CorssCursorInfo.VPenType>0&&(a.ChartCorssCursor.VPenType=t.CorssCursorInfo.VPenType)),t.CorssCursor={},t.CorssCursor.TitleHeight=a.ChartCorssCursor.TextHeight,t.Frame)for(var n=0;n<t.Frame.length;++n){var r=t.Frame[n];a.Frame.SubFrame[n]&&(r.SplitCount&&(a.Frame.SubFrame[n].Frame.YSplitOperator.SplitCount=r.SplitCount),r.StringFormat&&(a.Frame.SubFrame[n].Frame.YSplitOperator.StringFormat=r.StringFormat),Ce.IsNumber(r.FloatPrecision)&&(a.Frame.SubFrame[n].Frame.YSplitOperator.FloatPrecision=r.FloatPrecision),r.Custom&&(a.Frame.SubFrame[n].Frame.YSplitOperator.Custom=r.Custom),Ce.IsNumber(r.SplitType)&&(a.Frame.SubFrame[n].Frame.YSplitOperator.SplitType=r.SplitType),r.Height>0&&(a.Frame.SubFrame[n].Height=r.Height),0==r.IsShowLeftText&&(a.Frame.SubFrame[n].Frame.YSplitOperator.IsShowLeftText=r.IsShowLeftText),0==r.IsShowRightText&&(a.Frame.SubFrame[n].Frame.YSplitOperator.IsShowRightText=r.IsShowRightText))}if(t.KLine&&(0==t.KLine.ShowKLine&&(a.ChartPaint[0].IsShow=!1),t.KLine.InfoPosition>0&&(a.ChartPaint[0].InfoPosition=t.KLine.InfoPosition),0==t.KLine.IsShowMaxMinPrice&&(a.ChartPaint[0].IsShowMaxMinPrice=t.KLine.IsShowMaxMinPrice)),t.KLineTitle&&(0==t.KLineTitle.IsShowName&&(a.TitlePaint[0].IsShowName=!1),0==t.KLineTitle.IsShowSettingInfo&&(a.TitlePaint[0].IsShowSettingInfo=!1),0==t.KLineTitle.IsShow&&(a.TitlePaint[0].IsShow=!1)),t.ExtendChart)for(n=0;n<t.ExtendChart.length;++n){r=t.ExtendChart[n];a.CreateExtendChart(r.Name,r)}if(Ce.IsNonEmptyArray(t.Windows)){var o=new I;for(n=0;n<t.Windows.length;++n){if((r=t.Windows[n]).Script)a.WindowIndex[n]=new aa(r.Name,r.Script,r.Args,r);else{var s=ii.Get(r.Index);if(s)a.WindowIndex[n]=s.Create(),a.CreateWindowIndex(n);else{var l=o.Get(r.Index);if(!l)continue;r.Lock&&(l.Lock=r.Lock),a.WindowIndex[n]=new aa(l.Name,l.Script,l.Args,l)}}null!=r.Modify&&(a.Frame.SubFrame[n].Frame.ModifyIndex=r.Modify),null!=r.Change&&(a.Frame.SubFrame[n].Frame.ChangeIndex=r.Change),null!=r.Close&&(a.Frame.SubFrame[n].Frame.CloseIndex=r.Close),isNaN(r.TitleHeight)||(a.Frame.SubFrame[n].Frame.ChartBorder.TitleHeight=r.TitleHeight)}}return this.AdjustTitleHeight(a),a},this.CreateDepthChartContainer=function(t){var e=null;if(e=new function(t){this.newMethod=_,this.newMethod(t),delete this.newMethod,this.ClassName="DepthChartContainer",this.Symbol,this.MapAsk=new p.default,this.MapBid=new p.default,this.IsAutoUpdate=!1,this.AutoUpdateFrequency=3e4,this.AutoUpdateTimer,this.DefaultZoom=.8,this.MaxVolRate=1.1,this.Create=function(t){var e=this;this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new function(){this.Frame,this.HQChart,this.Canvas,this.Data,this.Symbol,this.HPenType=0,this.VPenType=0,this.LineDash=Qe.DepthCorss.LineDash,this.IsShowTooltip=!0,this.AskColor=Qe.DepthCorss.AskColor.Line,this.BidColor=Qe.DepthCorss.BidColor.Line,this.LineWidth=Qe.DepthCorss.LineWidth,this.ClassName="DepthChartCorssCursor",this.Tooltip={LineHeight:Qe.DepthCorss.Tooltip.LineHeight,Border:{Top:Qe.DepthCorss.Tooltip.Border.Top,Left:Qe.DepthCorss.Tooltip.Border.Left,Bottom:Qe.DepthCorss.Tooltip.Border.Bottom,Center:Qe.DepthCorss.Tooltip.Border.Center},Font:Qe.DepthCorss.Tooltip.Font,TextColor:Qe.DepthCorss.Tooltip.TextColor,BGColor:Qe.DepthCorss.Tooltip.BGColor},this.Font=Qe.CorssCursorTextFont,this.TextColor=Qe.CorssCursorTextColor,this.TextBGColor=Qe.CorssCursorBGColor,this.TextHeight=20,this.LastPoint,this.PointX,this.PointY,this.StringFormatX,this.StringFormatY,this.IsShowCorss=!0,this.IsShow=!0,this.GetVol=function(t,e){if(!this.Data)return null;var i=e?this.Data.Asks:this.Data.Bids;if(!i||!Array.isArray(i)||i.length<=0)return null;for(var a in i){var n=i[a];if(n.Price==t)return n.Vol}return null},this.Draw=function(){if(this.Status=0,this.LastPoint&&this.Data&&this.IsShow){var t=this.LastPoint.X,e=this.LastPoint.Y,i=!1;if(this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),i=this.Canvas.isPointInPath(t,e),this.PointY=null,this.PointY,i&&!0!==this.Frame.IsHScreen){var a=this.Frame.ChartBorder.GetLeft(),n=this.Frame.ChartBorder.GetRight(),r=this.Frame.ChartBorder.GetTopTitle(),o=this.Frame.ChartBorder.GetBottom(),s=(this.Frame.ChartBorder.Right,this.Frame.ChartBorder.GetChartWidth(),this.Frame.GetXData(t)),l=this.Frame.GetXFromPrice(s);if(l){var h=this.GetVol(l.Price,l.IsAsk);if(e=this.Frame.GetYFromData(h),l.Vol=h,l.Y=e,this.PointY=[[a,e],[n,e]],this.PointX=[[t,r],[t,o]],this.IsShowCorss){l.IsAsk?this.Canvas.strokeStyle=this.AskColor:this.Canvas.strokeStyle=this.BidColor;var u=this.Canvas.lineWidth,c=L();this.Canvas.lineWidth=this.LineWidth*c;var d=this.Canvas.lineWidth;if(1==this.HPenType||0==this.HPenType){0==this.HPenType&&this.Canvas.setLineDash(this.LineDash);var f=B(d,e);this.Canvas.beginPath(),this.Canvas.moveTo(a,f),this.Canvas.lineTo(n,f),this.Canvas.stroke(),0==this.HPenType&&this.Canvas.setLineDash([])}0==this.VPenType&&this.Canvas.setLineDash(this.LineDash);var p=B(d,l.X);this.Canvas.beginPath(),this.Canvas.moveTo(p,r),this.Canvas.lineTo(p,o),this.Canvas.stroke(),0==this.VPenType&&this.Canvas.setLineDash([]),this.Canvas.lineWidth=u}if(this.HQChart){var m=this.HQChart.GetEventCallback(b.ON_DRAW_DEPTH_TOOLTIP);m&&m.Callback(m,l,this)}this.IsShowTooltip&&this.DrawTooltip(l)}}}},this.DrawTooltip=function(t){t.Price,t.Vol;var e=L(),i=this.Tooltip.Border;this.Canvas.font=this.Tooltip.Font;var a=2;this.Symbol&&(a=Ni(this.Symbol));var n="擎擎: 9999.99亿 ";a>=5&&(n="擎擎: "+99.99.toFixed(a)+" "),this.Tooltip.Width=this.Canvas.measureText(n).width+i.Left*e,this.Tooltip.Height=this.Tooltip.LineHeight*e*4+i.Top*e+i.Bottom*e+i.Center*e;var r=this.Frame.ChartBorder.GetRight(),o=this.Frame.ChartBorder.GetTop(),s=t.X+2*e,l=t.Y-this.Tooltip.Height-2*e;s+this.Tooltip.Width>=r&&(s=t.X-this.Tooltip.Width-2*e),l<o&&(l=t.Y+2*e),this.Canvas.fillStyle=this.Tooltip.BGColor,this.Canvas.fillRect(s,l,this.Tooltip.Width,this.Tooltip.Height);var h=i.Left*e+s,u=i.Top*e+l;this.Canvas.textBaseline="top",this.Canvas.textAlign="left",this.Canvas.fillStyle=this.Tooltip.TextColor;var c=ei.GetText("Depth-Price",this.HQChart.LanguageID);this.Canvas.fillText(c,h,u),u+=this.Tooltip.LineHeight*e,this.Canvas.fillText(t.Price.toFixed(a),h,u),u+=this.Tooltip.LineHeight*e,u+=i.Center*e;var c=ei.GetText("Depth-Sum",this.HQChart.LanguageID);this.Canvas.fillText(c,h,u),u+=this.Tooltip.LineHeight*e,this.Canvas.fillText(t.Vol.toFixed(4),h,u)},this.PtInButton=function(t,e){return null}},this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.HQChart=this,this.ChartSplashPaint=new we,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.Frame=new function(){this.newMethod=z,this.newMethod(),delete this.newMethod,this.ScreenImageData,this.Position,this.ClassName="DepthChartFrame",this.VerticalRange={Max:88,Min:8,Center:null,MaxDiffer:null,Differ:null,Step:.05},this.AskPrice,this.BidPrice,this.MinZoom=.05,this.SetPriceList=function(t,e){this.AskPrice=t,this.BidPrice=e},this.DrawFrame=function(){this.SplitXYCoordinate(),this.DrawHorizontal(),this.DrawVertical()},this.GetXFromIndex=function(t){var e=this.ChartBorder.GetLeft(),i=(this.ChartBorder.GetRight(),this.ChartBorder.GetWidth()),a=i*(t-this.VerticalRange.Min)/(this.VerticalRange.Max-this.VerticalRange.Min);return e+a},this.GetXData=function(t){var e=this.ChartBorder.GetLeft(),i=(this.ChartBorder.GetRight(),this.ChartBorder.GetWidth());return(t-e)/i*(this.VerticalRange.Max-this.VerticalRange.Min)+this.VerticalRange.Min},this.GetXFromPrice=function(t){var e=!1,i=this.GetPrice(this.BidPrice,t);if(null==i&&(i=this.GetPrice(this.AskPrice,t),e=!0),null==i&&this.BidPrice&&Array.isArray(this.BidPrice)&&this.BidPrice.length>0){var a=this.BidPrice[0];t<a&&(e=!1,i=a)}if(null==i&&this.AskPrice&&Array.isArray(this.AskPrice)&&this.AskPrice.length>0){var n=this.AskPrice[this.AskPrice.length-1];t>n&&(e=!0,i=n)}if(null==i)return null;var r=this.GetXFromIndex(i);return{X:r,Price:i,IsAsk:e}},this.GetPrice=function(t,e){if(!t||!Array.isArray(t)||t.length<=0)return null;if(e<t[0]||e>t[t.length-1])return null;var i=null;for(var a in t){var n=t[a];if(e==n)return n;if(e<n)return i;i=n}},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.YSplitOperator&&this.YSplitOperator.Operator(),null!=this.XSplitOperator&&this.XSplitOperator.Operator())},this.Snapshot=function(){this.ScreenImageData=this.Canvas.getImageData(0,0,this.ChartBorder.GetChartWidth(),this.ChartBorder.GetChartHeight())},this.SetSizeChage=function(t){this.SizeChange=t,this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight}},this.PtInFrame=function(t,e){var i=this.ChartBorder.GetLeft(),a=this.ChartBorder.GetTop(),n=this.ChartBorder.GetWidth(),r=this.ChartBorder.GetHeight();return this.Canvas.beginPath(),this.Canvas.rect(i,a,n,r),this.Canvas.isPointInPath(t,e)?0:-1},this.PtInFrameBorder=function(t,e){return null},this.ZoomUp=function(){var t=this.VerticalRange,e=t.Differ,i=t.MaxDiffer*this.MinZoom;if(e<i)return!1;var a=t.Differ*t.Step;return e-=a,t.Differ=e,t.Min=t.Center-t.Differ,t.Max=t.Center+t.Differ,!0},this.ZoomDown=function(){var t=this.VerticalRange,e=t.Differ;if(e==t.MaxDiffer)return!1;var i=t.Differ*t.Step;return(e+=i)>t.MaxDiffer&&(e=t.MaxDiffer),t.Differ=e,t.Min=t.Center-t.Differ,t.Max=t.Center+t.Differ,!0}},this.Frame.ChartBorder=new W,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.ChartBorder.TitleHeight=0,this.Frame.Canvas=this.Canvas;var i=new ye;i.FrameSplitData=this.FrameSplitData.get("double"),i.LanguageID=this.LanguageID,i.Frame=this.Frame,i.SplitCount=5,i.LineType=3,i.IgnoreYValue=[0],i.ChartBorder=this.Frame.ChartBorder,this.Frame.YSplitOperator=i;var a=new function(){this.newMethod=Ce,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.SplitCount=3,this.Symbol,this.LineType=3,this.Operator=function(){var t=this.Frame.VerticalRange;if(t){this.Frame.VerticalInfo=[];var e=2;this.Symbol&&(e=Ni(this.Symbol));var i=t.Max,a=t.Min;if(t.Bid)for(var n=(t.Bid.Max-a)/this.SplitCount,r=0;r<this.SplitCount;++r){var o=new Y;o.Value=a+n*r,o.Value<=0||(Ce.IsNumber(this.LineType)&&(o.LineType=this.LineType),this.ShowText&&(o.Message[0]=o.Value.toFixed(e)),this.Frame.VerticalInfo.push(o))}var o=new Y;if(o.Value=t.Center,this.Frame.VerticalInfo.push(o),t.Ask)for(var n=(i-t.Ask.Min)/this.SplitCount,r=1;r<=this.SplitCount;++r){var o=new Y;o.Value=t.Ask.Min+n*r,Ce.IsNumber(this.LineType)&&(o.LineType=this.LineType),this.ShowText&&(o.Message[0]=o.Value.toFixed(e)),this.Frame.VerticalInfo.push(o)}}}};a.Frame=this.Frame,a.ChartBorder=this.Frame.ChartBorder,a.LanguageID=this.LanguageID,a.LineType=3,this.Frame.XSplitOperator=a,this.ChartCorssCursor&&(this.ChartCorssCursor.Frame=this.Frame),this.ChartSplashPaint.Frame=this.Frame;var n=new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartOrderbookDepth",this.Data=null,this.AskColor={Line:Qe.DepthChart.AskColor.Line,Area:Qe.DepthChart.AskColor.Area},this.BidColor={Line:Qe.DepthChart.BidColor.Line,Area:Qe.DepthChart.BidColor.Area},this.LineWidth=Qe.DepthChart.LineWidth,this.Draw=function(){if(this.Data){var t=this.Canvas.lineWidth;this.Canvas.lineWidth=this.LineWidth*L(),this.DrawArea(this.Data.Bids,this.BidColor.Line,this.BidColor.Area,!0),this.DrawArea(this.Data.Asks,this.AskColor.Line,this.AskColor.Area,!1),this.Canvas.lineWidth=t}},this.DrawArea=function(t,e,i,a){var n=this.ChartFrame.VerticalRange,r=[];for(var o in t){var s=t[o];if(a){if(s.Price<n.Min)break}else if(s.Price>n.Max)break;var l=this.ChartFrame.GetXFromIndex(s.Price),h=this.ChartFrame.GetYFromData(s.Vol);r.push({X:l,Y:h})}if(!(r.length<=1)){var u=this.ChartBorder.GetLeft(),c=this.ChartBorder.GetBottom(),d=this.ChartBorder.GetRight();for(var o in this.Canvas.beginPath(),this.Canvas.moveTo(r[0].X,c),r){var s=r[o];this.Canvas.lineTo(s.X,s.Y)}for(var o in this.Canvas.lineTo(a?u:d,r[r.length-1].Y),this.Canvas.lineTo(a?u:d,c),this.Canvas.lineTo(r[0].X,c),this.Canvas.closePath(),this.Canvas.fillStyle=i,this.Canvas.fill(),this.Canvas.beginPath(),this.Canvas.moveTo(r[0].X,c),r){var s=r[o];this.Canvas.lineTo(s.X,s.Y)}this.Canvas.lineTo(a?u:d,r[r.length-1].Y),this.Canvas.strokeStyle=e,this.Canvas.stroke()}},this.GetMaxMin=function(){var t={Min:null,Max:null,XMin:null,XMax:null},e=this.ChartFrame.VerticalRange;for(var i in this.Data.Asks){var a=this.Data.Asks[i];if(a.Price>e.Max)break;(null==t.XMin||t.XMin>a.Price)&&(t.XMin=a.Price),(null==t.XMax||t.XMax<a.Price)&&(t.XMax=a.Price),(null==t.Min||t.Min>a.Vol)&&(t.Min=a.Vol),(null==t.Max||t.Max<a.Vol)&&(t.Max=a.Vol)}for(var i in this.Data.Bids){var a=this.Data.Bids[i];if(a.Price<e.Min)break;(null==t.XMin||t.XMin>a.Price)&&(t.XMin=a.Price),(null==t.XMax||t.XMax<a.Price)&&(t.XMax=a.Price),(null==t.Min||t.Min>a.Vol)&&(t.Min=a.Vol),(null==t.Max||t.Max<a.Vol)&&(t.Max=a.Vol)}return t}};n.Canvas=this.Canvas,n.ChartBorder=this.Frame.ChartBorder,n.ChartFrame=this.Frame,n.Name="深度图",this.ChartPaint.push(n);var r=!0;t&&!1===t.Wheel&&(r=!1,g.Chart.Log("[DepthChartContainer::Create] not register wheel event.")),this.UIElement.addEventListener("keydown",function(t){e.OnKeyDown(t)},!0),r&&this.UIElement.addEventListener("wheel",function(t){e.OnWheel(t)},!0)},this.OnWheel=function(t){g.Chart.Log("[KLineChartContainer::OnWheel]",t);var e=t.clientX-this.UIElement.getBoundingClientRect().left,i=t.clientY-this.UIElement.getBoundingClientRect().top,a=!1;this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),a=this.Canvas.isPointInPath(e,i);var n=t.wheelDelta;Ce.IsObjectExist(t.wheelDelta)||(n=-.01*t.deltaY);var r=!0;this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Wheel&&(r=!1),a&&n<0&&r?this.Frame.ZoomDown()&&(this.UpdateFrameMaxMin(),this.Draw()):a&&n>0&&r&&this.Frame.ZoomUp()&&(this.UpdateFrameMaxMin(),this.Draw()),t.preventDefault?t.preventDefault():t.returnValue=!1},this.UIOnMouseDown=function(t){},this.OnTouchStart=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){this.IsOnTouch=!0,this.TouchDrawCount=0,this.PhonePinch=null;var e=this.IsSingleTouch(t);if(0!=this.EnableScrollUpDown&&e||t.cancelable&&t.preventDefault(),this.IsPhoneDragging(t)){var i={Click:{},LastMove:{}},a=this.GetToucheData(t,this.IsForceLandscape);i.Click.X=a[0].clientX,i.Click.Y=a[0].clientY,i.LastMove.X=a[0].clientX,i.LastMove.Y=a[0].clientY,this.MouseDrag=i,this.MoveCorssCursor(i.Click,t)}else if(this.IsPhonePinching(t)){var n={Start:{},Last:{}},a=this.GetToucheData(t,this.IsForceLandscape);n.Start={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},n.Last={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},this.PhonePinch=n}}},this.OnTouchMove=function(e){var i=this.GetToucheData(e,!1);if(this.IsPhoneDragging(e)){var a=this.MouseDrag;if(null==a){var n=L(),r=i[0].clientX-t.getBoundingClientRect().left*n,o=i[0].clientY-t.getBoundingClientRect().top*n;this.OnMouseMove(r,o,e)}else{var s=this.GetMoveAngle(a.LastMove,{X:i[0].clientX,Y:i[0].clientY}),l=Math.abs(a.LastMove.X-i[0].clientX),h=Math.abs(a.LastMove.Y-i[0].clientY);if(l=parseInt(l),(h>0&&l<=3||s<=this.TouchMoveMinAngle)&&1==this.EnableScrollUpDown)return;this.PreventTouchEvent(e),this.MouseDrag=null;var n=L(),r=i[0].clientX-t.getBoundingClientRect().left*n,o=i[0].clientY-t.getBoundingClientRect().top*n;this.OnMouseMove(r,o,e)}}else if(this.IsPhonePinching(e)){this.PreventTouchEvent(e);var u=this.PhonePinch;if(!u)return;if(this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Touch)return;var c=Math.abs(i[0].pageY-i[1].pageY),d=Math.abs(u.Last.Y-u.Last.Y2),f=c-d,p=Math.abs(i[0].pageX-i[1].pageX),m=Math.abs(u.Last.X-u.Last.X2),v=p-m,g=this.ZoomStepPixel;if(Math.abs(f)<g&&Math.abs(v)<g)return;var C=f;if(Math.abs(f)<g&&(C=v),C>0){if(!this.Frame.ZoomUp())return;this.UpdateFrameMaxMin(),this.Draw()}else{if(!this.Frame.ZoomDown())return;this.UpdateFrameMaxMin(),this.Draw()}u.Last={X:i[0].pageX,Y:i[0].pageY,X2:i[1].pageX,Y2:i[1].pageY}}this.PreventTouchEvent(e)},this.OnTouchEnd=function(t){g.Chart.Log("[DepthChartContainer::OnTouchEnd]",t),this.IsOnTouch=!1,this.OnTouchFinished(),this.TouchDrawCount=0},this.OnTouchFinished=function(){!0!==this.CorssCursorTouchEnd||this.DrawDynamicInfo()},this.ChangeSymbol=function(t){this.CancelAutoUpdate(),this.Symbol=t,this.MapBid=new p.default,this.MapAsk=new p.default,this.Frame.VerticalRange.Differ=null,this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.Draw(),this.RequestDepthData()},this.RequestDepthData=function(){var t=this;if(this.NetworkFilter){var e={Name:"DepthChartContainer::RequestDepthData",Explain:"深度图数据",Request:{Data:{symbol:t.Symbol}},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvDepthData(e),t.AutoUpdate()}),1==e.PreventDefault)return}},this.RecvDepthData=function(t){this.UpdateAskAndBid(t);var e=(0,l.default)(this.MapAsk.values());e.sort(function(t,e){return t.Price-e.Price});var i=0;for(var a in e){var n=e[a];i+=n.Vol,e[a]={Price:n.Price,Vol:i}}var r=(0,l.default)(this.MapBid.values());r.sort(function(t,e){return e.Price-t.Price});var i=0;for(var a in r){var n=r[a];i+=n.Vol,r[a]={Price:n.Price,Vol:i}}var o={Asks:e,Bids:r},s=this.ChartPaint[0];s.Data=o,this.Frame.XSplitOperator.Symbol=this.Symbol,this.ChartCorssCursor.Data=o,this.ChartCorssCursor.Symbol=this.Symbol,this.UpdateFramePriceList(),this.UpdateFrameMaxMin(),this.Draw()},this.UpdateAskAndBid=function(t){for(var e in"snapshot"==t.datatype&&(this.MapBid=new p.default,this.MapAsk=new p.default),t.asks){var i=t.asks[e],a=parseFloat(i[0]),n=parseFloat(i[1]);if(this.MapAsk.has(a)){var r=this.MapAsk.get(a);n<=0?this.MapAsk.delete(a):r.Vol=n}else n>0&&this.MapAsk.set(a,{Price:a,Vol:n})}for(var e in t.bids){var i=t.bids[e],a=parseFloat(i[0]),n=parseFloat(i[1]);if(this.MapBid.has(a)){var r=this.MapBid.get(a);n<=0?this.MapBid.delete(a):r.Vol=n}else n>0&&this.MapBid.set(a,{Price:a,Vol:n})}},this.UpdateFramePriceList=function(){var t=(0,l.default)(this.MapAsk.keys()),e=(0,l.default)(this.MapBid.keys());t.sort(function(t,e){return t-e}),e.sort(function(t,e){return t-e});var i={Max:88,Min:8};if(t.length>1&&e.length>1){var a=t[0],n=t[t.length-1],r=e[0],o=e[e.length-1],s=n-a,h=o-r,u=Math.max(s,h),c={Min:a,Max:a+u},d={Max:o,Min:o-u};i={Max:c.Max,Min:d.Min}}this.Frame.SetPriceList(t,e);var f=this.Frame.VerticalRange;f.Max=i.Max,f.Center=i.Min+(i.Max-i.Min)/2,f.Min=i.Min,f.MaxDiffer=u,f.Ask=c,f.Bid=d,Ce.IsNumber(f.Differ)||(f.Differ=u*this.DefaultZoom),f.Min=f.Center-f.Differ,f.Max=f.Center+f.Differ},this.UpdateFrameMaxMin=function(){var t=this.ChartPaint[0].GetMaxMin();this.Frame.HorizontalMax=t.Max*this.MaxVolRate,this.Frame.HorizontalMin=0,this.Frame.XYSplit=!0},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=void 0)},this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.IsAutoUpdate&&(this.IsAutoUpdate=!1)},this.AutoUpdate=function(){if(this.CancelAutoUpdate(),this.IsAutoUpdate&&this.Symbol){var t=this,e=Ii.GetMarketStatus(this.Symbol);if(0!=e&&3!=e){var i=this.AutoUpdateFrequency;1==e?this.AutoUpdateTimer=setTimeout(function(){t.AutoUpdate()},i):2==e&&(this.AutoUpdateTimer=setTimeout(function(){t.RequestDepthData()},i))}}}}(this.CanvasElement),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),1==t.EnableScrollUpDown&&(e.EnableScrollUpDown=t.EnableScrollUpDown),Ce.IsPlusNumber(t.MaxVolRate)&&(e.MaxVolRate=t.MaxVolRate),t.ZoomStepPixel>0&&(e.ZoomStepPixel=t.ZoomStepPixel),Ce.IsString(t.SplashTitle)&&(e.LoadDataSplashTitle=t.SplashTitle),Ce.IsBool(t.EnableVerifyRecvData)&&(e.EnableVerifyRecvData=t.EnableVerifyRecvData),t.Language){var i=ei.GetLanguageID(t.Language);Ce.IsNumber(i)&&(e.LanguageID=i)}if(e.Create(t.Listener),t.Border&&(Ce.IsNumber(t.Border.Left)?e.Frame.ChartBorder.Left=t.Border.Left:t.Border.Left=e.Frame.ChartBorder.Left,Ce.IsNumber(t.Border.Right)?e.Frame.ChartBorder.Right=t.Border.Right:t.Border.Right=e.Frame.ChartBorder.Right,Ce.IsNumber(t.Border.Top)?e.Frame.ChartBorder.Top=t.Border.Top:t.Border.Top=e.Frame.ChartBorder.Top,Ce.IsNumber(t.Border.Bottom)?e.Frame.ChartBorder.Bottom=t.Border.Bottom:t.Border.Bottom=e.Frame.ChartBorder.Bottom),this.AdjustChartBorder(e),!0===t.CorssCursorTouchEnd&&(e.CorssCursorTouchEnd=t.CorssCursorTouchEnd),t.CorssCursorInfo){var a=t.CorssCursorInfo;Ce.IsNumber(a.HPenType)&&(e.ChartCorssCursor.HPenType=a.HPenType),Ce.IsNumber(a.VPenType)&&(e.ChartCorssCursor.VPenType=a.VPenType),Ce.IsBool(a.IsShowTooltip)&&(e.ChartCorssCursor.IsShowTooltip=a.IsShowTooltip)}t.Frame&&((a=t.Frame).SplitCount&&(e.Frame.YSplitOperator.SplitCount=a.SplitCount),Ce.IsNumber(a.SplitType)&&(e.Frame.YSplitOperator.SplitType=a.SplitType),Ce.IsNumber(a.Height)&&(e.Frame.Height=a.Height),Ce.IsNumber(a.YLineType)&&(e.Frame.YSplitOperator.LineType=a.YLineType),Ce.IsNumber(a.XLineType)&&(e.Frame.XSplitOperator.LineType=a.XLineType),Array.isArray(a.IgnoreYValue)&&(e.Frame.YSplitOperator.IgnoreYValue=a.IgnoreYValue),!1!==a.IsShowLeftText&&!0!==a.IsShowLeftText||(e.Frame.IsShowYText[0]=a.IsShowLeftText,e.Frame.YSplitOperator.IsShowLeftText=a.IsShowLeftText),!1!==a.IsShowRightText&&!0!==a.IsShowRightText||(e.Frame.IsShowYText[1]=a.IsShowRightText,e.Frame.YSplitOperator.IsShowRightText=a.IsShowRightText),0==a.IsShowXLine&&(e.Frame.IsShowXLine=a.IsShowXLine),0==a.IsShowYLine&&(e.Frame.IsShowYLine=a.IsShowYLine),Ce.IsNumber(a.XSplitCount)&&(e.Frame.XSplitOperator.SplitCount=a.XSplitCount));return e},this.SetOption=function(t){var e=null;switch(t.Type){case"历史K线图":case"历史K线图横屏":e=this.CreateKLineChartContainer(t);break;case"自定义指数历史K线图":e=this.CreateCustomKLineChartContainer(t);break;case"分钟走势图":case"分钟走势图横屏":e=this.CreateMinuteChartContainer(t);break;case"迷你分钟走势图":e=this.CreateMinMinuteChartContainer(t);break;case"历史分钟走势图":e=this.CreateHistoryMinuteChartContainer(t);break;case"K线训练":case"K线训练横屏":case"简单K线训练":case"简单K线训练横屏":e=this.CreateKLineTrainChartContainer(t);break;case"深度图":e=this.CreateDepthChartContainer(t);break;case"简单图形":return this.CreateSimpleChart(t);case"饼图":case"雷达图":return this.CreatePieChart(t);case"地图":return this.CreateMapChart(t);default:return!1}if(!e)return!1;if(t.OnCreatedCallback&&t.OnCreatedCallback(e),null!=t.IsAutoUpdate&&(e.IsAutoUpdate=t.IsAutoUpdate),t.AutoUpdateFrequency>0&&(e.AutoUpdateFrequency=t.AutoUpdateFrequency),t.EventCallback)for(var i=0;i<t.EventCallback.length;++i){var a=t.EventCallback[i];e.AddEventCallback(a)}t.Symbol?(e.Draw(),e.ChangeSymbol(t.Symbol),this.JSChartContainer=e,this.DivElement.JSChart=this,this.JSChartContainer.Draw()):(e.DrawEmpty(),this.JSChartContainer=e,this.DivElement.JSChart=this),Ce.IsBool(t.CheckLatestVerion)&&0==t.CheckLatestVerion||null==T.LastVersion&&e&&"function"==typeof e.GetLatestVersion&&e.GetLatestVersion()},this.CreateSimpleChart=function(t){var e=new function(t){this.newMethod=_,this.newMethod(t),delete this.newMethod,this.MainDataControl,this.Create=function(){this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new we,this.ChartSplashPaint.Canvas=this.Canvas,this.Frame=new function(){this.newMethod=z,this.newMethod(),delete this.newMethod,this.ScreenImageData,this.Position,this.DrawFrame=function(){if(this.XPointCount>0){var t=this.ChartBorder.GetWidth()/(6*this.XPointCount);this.DistanceWidth=2*t,this.DataWidth=4*t}this.SplitXYCoordinate(),this.DrawHorizontal(),this.DrawVertical()},this.GetXFromIndex=function(t){t<0&&(t=0),t>this.xPointCount-1&&(t=this.xPointCount-1);for(var e=this.ChartBorder.GetLeft()+2+this.DistanceWidth/2+this.DataWidth/2,i=1;i<=t;++i)e+=this.DistanceWidth+this.DataWidth;return e},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.YSplitOperator&&this.YSplitOperator.Operator(),null!=this.XSplitOperator&&this.XSplitOperator.Operator())},this.Snapshot=function(){this.ScreenImageData=this.Canvas.getImageData(0,0,this.ChartBorder.GetChartWidth(),this.ChartBorder.GetChartHeight())},this.SetSizeChage=function(t){this.SizeChange=t,this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight}},this.PtInFrame=function(t,e){var i=this.ChartBorder.GetLeft(),a=this.ChartBorder.GetTop(),n=this.ChartBorder.GetWidth(),r=this.ChartBorder.GetHeight();return this.Canvas.beginPath(),this.Canvas.rect(i,a,n,r),this.Canvas.isPointInPath(t,e)?0:-1},this.PtInFrameBorder=function(t,e){return null}},this.Frame.ChartBorder=new W,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor&&(this.ChartCorssCursor.Frame=this.Frame),this.ChartSplashPaint.Frame=this.Frame,this.CreateMainChart(),this.UIElement.addEventListener("keydown",O,!0)},this.SetMainDataConotrl=function(t){t&&(this.MainDataControl=t,this.ChartPaint=[],this.CreateMainChart(),this.Draw(),this.RequestData())},this.CreateMainChart=function(){if(this.MainDataControl){for(var t in this.MainDataControl.DataType){var e=this.MainDataControl.DataType[t];if("BAR"==e.Type){var i=new $t;i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.Name=e.Name,e.Color&&(i.UpBarColor=e.Color),e.Color2&&(i.DownBarColor=e.Color2),this.ChartPaint.push(i)}else if("LINE"==e.Type){var i=new Lt;i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.Name=e.Name,e.Color&&(i.Color=e.Color),this.ChartPaint.push(i)}}this.Frame.YSplitOperator=new ye,this.Frame.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),this.Frame.YSplitOperator.Frame=this.Frame,this.Frame.YSplitOperator.ChartBorder=this.Frame.ChartBorder,this.Frame.XSplitOperator=new function(){this.newMethod=Ce,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.Symbol,this.MinTextDistance=50*L(),this.MinBarDistance=5,this.Operator=function(){if(null!=this.Frame.Data&&null!=this.Frame.XData){this.Frame.VerticalInfo=[];for(var t=this.Frame.Data.DataOffset,e=this.Frame.XPointCount,i=0,a=t;i<e&&a<this.Frame.Data.Data.length;++i,++a){var n=new Y;n.Value=a-t,this.ShowText&&(n.Message[0]=this.Frame.XData[i]),this.Frame.VerticalInfo.push(n),distance=0}}}},this.Frame.XSplitOperator.Frame=this.Frame,this.Frame.XSplitOperator.ChartBorder=this.Frame.ChartBorder}},this.RequestData=function(){this.MainDataControl&&(this.MainDataControl.JSChartContainer=this,this.MainDataControl.RequestData())},this.UpdateMainData=function(t){var e=0;for(var i in t.Data){var a=new mt;a.Data=t.Data[i],this.ChartPaint[i].Data=a,e<a.Data.length&&(e=a.Data.length)}this.Frame.XPointCount=e,this.Frame.Data=this.ChartPaint[0].Data,this.Frame.XData=t.XData,this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}(this.CanvasElement);t.MainDataControl&&(e.MainDataControl=t.MainDataControl),e.Create(),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top)),e.Draw(),e.RequestData(),this.JSChartContainer=e,this.DivElement.JSChart=this,this.JSChartContainer.Draw()},this.CreatePieChart=function(t){var e=new function(t){this.Radius,this.newMethod=_,this.newMethod(t),delete this.newMethod,this.MainDataControl,this.OnMouseMove=function(t,e,i){},this.Create=function(){this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new we,this.ChartSplashPaint.Canvas=this.Canvas,this.Frame=new U,this.Frame.ChartBorder=new W,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartSplashPaint.Frame=this.Frame,this.CreateMainChart()},this.SetMainDataConotrl=function(t){t&&(this.MainDataControl=t,this.ChartPaint=[],this.CreateMainChart(),this.Draw(),this.RequestData())},this.CreateMainChart=function(){if(this.MainDataControl)for(var t in this.MainDataControl.DataType){var e=this.MainDataControl.DataType[t];if("PIE"==e.Type){var i=new he;i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.Name=e.Name,this.Radius&&(i.Radius=this.Radius),this.ChartPaint.push(i)}else if("RADAR"==e.Type){var i=new ue;i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.Name=e.Name,e.StartAngle&&(i.StartAngle=e.StartAngle),this.ChartPaint.push(i)}}},this.RequestData=function(){this.MainDataControl&&(this.MainDataControl.JSChartContainer=this,this.MainDataControl.RequestData())},this.UpdateMainData=function(t){for(var e in t.Data){var i=new mt;i.Data=t.Data[e],this.ChartPaint[e].Data=i}this.Frame.SetSizeChage(!0),this.Draw()}}(this.CanvasElement);t.MainDataControl&&(e.MainDataControl=t.MainDataControl),t.Radius&&(e.Radius=t.Radius),e.Create(),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top)),this.AdjustChartBorder(e),t.Frame&&0==t.Frame[0].IsShowBorder&&(e.Frame.IsShowBorder=t.Frame[0].IsShowBorder),e.Draw(),e.RequestData(),this.JSChartContainer=e,this.DivElement.JSChart=this,this.JSChartContainer.Draw()},this.CreateMapChart=function(t){var e=new function(t){this.newMethod=_,this.newMethod(t),delete this.newMethod,this.MainDataControl,this.OnMouseMove=function(t,e,i){},this.Create=function(){this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new we,this.ChartSplashPaint.Canvas=this.Canvas,this.Frame=new U,this.Frame.ChartBorder=new W,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartSplashPaint.Frame=this.Frame,this.CreateMainChart()},this.SetMainDataConotrl=function(t){t&&(this.MainDataControl=t,this.ChartPaint=[],this.CreateMainChart(),this.Draw(),this.RequestData())},this.CreateMainChart=function(){if(this.MainDataControl){var t=new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ImageData=null,this.Left,this.Top,this.Width,this.Height,this.ImageWidth,this.ImageHeight,this.DefaultColor=[217,222,239],this.Color=[{Name:"海南",Color:"rgb(217,222,223)"},{Name:"内蒙古",Color:"rgb(217,222,225)"},{Name:"新疆",Color:"rgb(217,222,226)"},{Name:"青海",Color:"rgb(217,222,227)"},{Name:"西藏",Color:"rgb(217,222,228)"},{Name:"云南",Color:"rgb(217,222,229)"},{Name:"黑龙江",Color:"rgb(217,222,230)"},{Name:"吉林",Color:"rgb(217,222,231)"},{Name:"辽宁",Color:"rgb(217,222,232)"},{Name:"河北",Color:"rgb(217,222,233)"},{Name:"山东",Color:"rgb(217,222,234)"},{Name:"江苏",Color:"rgb(217,222,235)"},{Name:"浙江",Color:"rgb(217,222,236)"},{Name:"福建",Color:"rgb(217,222,237)"},{Name:"广东",Color:"rgb(217,222,238)"},{Name:"广西",Color:"rgb(217,222,239)"},{Name:"贵州",Color:"rgb(217,222,240)"},{Name:"湖南",Color:"rgb(217,222,241)"},{Name:"江西",Color:"rgb(217,222,242)"},{Name:"安徽",Color:"rgb(217,222,243)"},{Name:"湖北",Color:"rgb(217,222,244)"},{Name:"重庆",Color:"rgb(217,222,245)"},{Name:"四川",Color:"rgb(217,222,246)"},{Name:"甘肃",Color:"rgb(217,222,247)"},{Name:"陕西",Color:"rgb(217,222,248)"},{Name:"山西",Color:"rgb(217,222,249)"},{Name:"河南",Color:"rgb(217,222,250)"}],this.Draw=function(){var t=this.ChartBorder.GetLeft()+1,e=(this.ChartBorder.GetRight(),this.ChartBorder.GetTop()+1),i=(this.ChartBorder.GetBottom(),this.ChartBorder.GetWidth()-2),a=this.ChartBorder.GetHeight()-2,n=CHINA_MAP_IMAGE.width,r=CHINA_MAP_IMAGE.height,o=n,s=r;if(a<s||i<o)this.ImageData=null;else if(this.Left==t&&this.Top==e&&this.Width==i&&this.Height==a&&this.ImageWidth==n&&this.ImageHeight==r||(this.ImageData=null,this.ImageWidth=n,this.ImageHeight=r,this.Left=t,this.Top=e,this.Width=i,this.Height=a,g.Chart.Log(n,r)),null==this.ImageData){this.Canvas.drawImage(CHINA_MAP_IMAGE,0,0,n,r,t,e,o,s),this.ImageData=this.Canvas.getImageData(t,e,o,s);var l,h=new c.default,u=new p.default,d=new p.default;if(this.Data.length>0)for(var f in this.Data){var m=this.Data[f];d.set(m.Name,m.Color)}for(var v in g.Chart.Log(this.Data),this.Color){var C=this.Color[v];d.has(C.Name)?u.set(C.Color,d.get(C.Name)):h.add(C.Color)}for(var D=0;D<this.ImageData.data.length;D+=4)if(l="rgb("+this.ImageData.data[D]+","+this.ImageData.data[D+1]+","+this.ImageData.data[D+2]+")",h.has(l))this.ImageData.data[D]=this.DefaultColor[0],this.ImageData.data[D+1]=this.DefaultColor[1],this.ImageData.data[D+2]=this.DefaultColor[2];else if(u.has(l)){var y=u.get(l);this.ImageData.data[D]=y[0],this.ImageData.data[D+1]=y[1],this.ImageData.data[D+2]=y[2]}this.Canvas.clearRect(t,e,o,s),this.Canvas.putImageData(this.ImageData,t,e,0,0,o,s)}else this.Canvas.putImageData(this.ImageData,t,e,0,0,o,s)}};t.Canvas=this.Canvas,t.ChartBorder=this.Frame.ChartBorder,t.ChartFrame=this.Frame,t.Name=this.MainDataControl.DataType[0].Name,this.Radius&&(t.Radius=this.Radius),this.ChartPaint.push(t)}},this.RequestData=function(){this.MainDataControl&&(this.MainDataControl.JSChartContainer=this,this.MainDataControl.RequestData())},this.UpdateMainData=function(t){this.ChartPaint[0].Data=t.Data[0],this.Frame.SetSizeChage(!0),this.Draw()}}(this.CanvasElement);t.MainDataControl&&(e.MainDataControl=t.MainDataControl),e.Create(),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top)),e.Draw(),e.RequestData(),this.JSChartContainer=e,this.DivElement.JSChart=this,this.JSChartContainer.Draw()},this.CreateToolbar=function(t){},this.CreateSettingDiv=function(t){},this.Focus=function(){this.CanvasElement&&this.CanvasElement.focus()},this.ChangeSymbol=function(t,e){this.JSChartContainer&&this.JSChartContainer.ChangeSymbol(t,e)},this.ChangeIndex=function(t,e,i){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeIndex&&this.JSChartContainer.ChangeIndex(t,e,i)},this.AddIndexWindow=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddIndexWindow&&this.JSChartContainer.AddIndexWindow(t,e)},this.AddScriptIndexWindow=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddScriptIndexWindow&&this.JSChartContainer.AddScriptIndexWindow(t,e)},this.AddAPIIndexWindow=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddAPIIndexWindow&&this.JSChartContainer.AddAPIIndexWindow(t,e)},this.RemoveIndexWindow=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.RemoveIndexWindow&&this.JSChartContainer.RemoveIndexWindow(t)},this.ChangeScriptIndex=function(t,e,i){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeScriptIndex&&this.JSChartContainer.ChangeScriptIndex(t,e,i)},this.ChangePyScriptIndex=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangePyScriptIndex&&this.JSChartContainer.ChangePyScriptIndex(t,e)},this.GetIndexInfo=function(){return this.JSChartContainer&&"function"==typeof this.JSChartContainer.GetIndexInfo?this.JSChartContainer.GetIndexInfo():[]},this.ChangeInstructionIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeInstructionIndex&&this.JSChartContainer.ChangeInstructionIndex(t)},this.ChangeInstructionScriptIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeInstructionIndex&&this.JSChartContainer.ChangeInstructionScriptIndex(t)},this.CancelInstructionIndex=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.CancelInstructionIndex&&this.JSChartContainer.CancelInstructionIndex()},this.ChangePeriod=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangePeriod&&this.JSChartContainer.ChangePeriod(t,e)},this.ChangeRight=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeRight&&this.JSChartContainer.ChangeRight(t)},this.OverlaySymbol=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.OverlaySymbol&&this.JSChartContainer.OverlaySymbol(t,e)},this.DeleteOverlaySymbol=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.DeleteOverlaySymbol&&this.JSChartContainer.DeleteOverlaySymbol(t)},this.SetFirstShowDate=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetFirstShowDate&&this.JSChartContainer.SetFirstShowDate(t)},this.ChangeKLineDrawType=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeKLineDrawType&&this.JSChartContainer.ChangeKLineDrawType(t,e)},this.ChangeIndexWindowCount=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeIndexWindowCount&&this.JSChartContainer.ChangeIndexWindowCount(t,e)},this.ClearOverlaySymbol=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ClearOverlaySymbol&&this.JSChartContainer.ClearOverlaySymbol()},this.DeleteKLineInfo=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.DeleteKLineInfo&&this.JSChartContainer.DeleteKLineInfo(t)},this.ClearKLineInfo=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ClearKLineInfo&&this.JSChartContainer.ClearKLineInfo()},this.AddKLineInfo=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddKLineInfo&&this.JSChartContainer.AddKLineInfo(t,e)},this.ChangMainDataControl=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetMainDataConotrl&&this.JSChartContainer.SetMainDataConotrl(t)},this.AddOverlayIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddOverlayIndex&&this.JSChartContainer.AddOverlayIndex(t)},this.MoveOverlayIndex=function(t,e,i){this.JSChartContainer&&"function"==typeof this.JSChartContainer.MoveOverlayIndex&&this.JSChartContainer.MoveOverlayIndex(t,e,i)},this.MoveOverlayIndexToNewWindow=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.MoveOverlayIndexToNewWindow&&this.JSChartContainer.MoveOverlayIndexToNewWindow(t,e)},this.DeleteOverlayWindowsIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.DeleteOverlayWindowsIndex&&this.JSChartContainer.DeleteOverlayWindowsIndex(t)},this.StopAutoUpdate=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.StopAutoUpdate&&this.JSChartContainer.StopAutoUpdate()},this.ChartDestroy=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChartDestroy&&this.JSChartContainer.ChartDestroy()},this.ChartDestory=this.ChartDestroy,this.SetDepthMapData=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetDepthMapData&&this.JSChartContainer.SetDepthMapData(t,e)},this.ForceLandscape=function(t){this.JSChartContainer&&(g.Chart.Log("[JSChart::ForceLandscape] bForceLandscape="+t),this.JSChartContainer.IsForceLandscape=t)},this.LockIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.LockIndex&&(g.Chart.Log("[JSChart:LockIndex] lockData",t),this.JSChartContainer.LockIndex(t))},this.ChangeTradeDate=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeTradeDate&&(g.Chart.Log("[JSChart:ChangeTradeDate] date",t),this.JSChartContainer.ChangeTradeDate(t))},this.ChangeDayCount=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeDayCount&&(g.Chart.Log("[JSChart:ChangeDayCount] count",t),this.JSChartContainer.ChangeDayCount(t,e))},this.ShowCallAuctionData=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ShowCallAuctionData&&(g.Chart.Log("[JSChart:ShowCallAuctionData] obj, option ",t,e),this.JSChartContainer.ShowCallAuctionData(t,e))},this.StartAnimation=function(t){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.StartAnimation)return g.Chart.Log("[JSChart:StartAnimation] start."),this.JSChartContainer.StartAnimation(t)},this.StopAnimation=function(){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.StopAnimation)return g.Chart.Log("[JSChart:StopAnimation] start."),this.JSChartContainer.StopAnimation()},this.SaveToImage=function(t,e){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.SaveToImage)return this.JSChartContainer.SaveToImage(t,e)},this.SaveToImageUrl=function(t,e){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.SaveToImageUrl)return this.JSChartContainer.SaveToImageUrl(t,e)},this.AddEventCallback=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddEventCallback&&(g.Chart.Log("[JSChart:AddEventCallback] ",t),this.JSChartContainer.AddEventCallback(t))},this.SetLanguage=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetLanguage&&(g.Chart.Log("[JSChart:SetLanguage] ",t),this.JSChartContainer.SetLanguage(t))},this.ChangeIndexTemplate=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeIndexTemplate&&(g.Chart.Log("[JSChart:ChangeIndexTemplate] ",t),this.JSChartContainer.ChangeIndexTemplate(t))},this.SetChartDrawOption=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetChartDrawOption&&(g.Chart.Log("[JSChart:SetChartDrawOption] ",t),this.JSChartContainer.SetChartDrawOption(t))},this.CreateChartDrawPicture=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.CreateChartDrawPicture&&(g.Chart.Log("[JSChart:CreateChartDrawPicture] ",t),this.JSChartContainer.CreateChartDrawPicture(t,e))},this.AddChartDrawPicture=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddChartDrawPicture&&(g.Chart.Log("[JSChart:AddChartDrawPicture] ",t),this.JSChartContainer.AddChartDrawPicture(t))},this.ClearChartDrawPicture=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ClearChartDrawPicture&&this.JSChartContainer.ClearChartDrawPicture(t)},this.ReloadResource=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ReloadResource&&(g.Chart.Log("[JSChart:ReloadResource] "),this.JSChartContainer.ReloadResource(t))},this.EnableSplashScreen=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.EnableSplashScreen&&(g.Chart.Log("[JSChart:EnableSplashScreen] "),this.JSChartContainer.EnableSplashScreen(t))},this.Draw=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.Draw&&(g.Chart.Log("[JSChart:Draw] "),this.JSChartContainer.Draw())}}T.LastVersion=null,T.Init=function(t){var e=new T(t);return e.OnSize(),e},T.SetDomain=function(t,e){t&&(Qe.Domain=t),e&&(Qe.CacheDomain=e)},T.SetPyIndexDomain=function(t){t&&(Qe.PyIndexDomain=t)},T.SetStyle=function(t){t&&Qe.SetStyle(t)},T.SetTextResource=function(t,e){ei.SetTextResource(t,e)},T.GetLocalization=function(){return ei},T.GetDevicePixelRatio=function(){return L()},T.CreateGuid=function(){return P()},T.GetResource=function(){return Qe},T.GetMinuteTimeStringData=function(){return bi},T.GetMinuteCoordinateData=function(){return wi},T.GetKLineZoom=function(){return wt},T.GetDivTooltipDataFormat=function(){return Fe},T.GetKLineCustomCalulate=function(){return ni},T.SetUSATimeType=function(t){Ei.TimeType=t,Ai.TimeType=t,_i.TimeType=t,Li.TimeType=t},T.GetChinaFuturesTimeData=function(){return Mi},T.AddPeriodCallback=function(t){pt.AddPeriodCallback(t)},T.RemovePeriodCallback=function(t){pt.RemovePeriodCallback(t)},T.RegisterDrawPicture=function(t){return He.RegisterDrawPicture(t)},T.RegisterDrawPictureIonFont=function(t){return He.RegisterIonFont(t)},T.GetInternalTimeData=function(t){switch(t){case"NYMEXTimeData":return Ei;case"COMEXTimeData":return Ai;case"NYBOTTimeData":return _i;case"CBOTTimeData":return Li;case"LMETimeData":return Fi;case"FuturesTimeData":return Mi;case"TOCOMTimeData":return Oi;case"IPETimeData":return Pi;default:return null}},T.RegisterExtendChartClass=function(t,e){ce.Add(t,e)},T.RegisterChartPaintClass=function(t,e){Tt.Add(t,e)},T.RegisterScriptIndexChart=function(t,e){ia.Add(t,e)},T.RegisterDialogClass=function(t,e){Di.Add(t,e)};var b={RECV_KLINE_MATCH:1,RECV_INDEX_DATA:2,RECV_HISTROY_DATA:3,RECV_TRAIN_MOVE_STEP:4,CHART_STATUS:5,BARRAGE_PLAY_END:6,RECV_OVERLAY_INDEX_DATA:7,DBCLICK_KLINE:8,RECV_START_AUTOUPDATE:9,RECV_STOP_AUTOUPDATE:10,ON_CONTEXT_MENU:11,ON_TITLE_DRAW:12,ON_SELECT_RECT:13,RECV_MINUTE_DATA:14,ON_CLICK_INDEXTITLE:15,RECV_KLINE_UPDATE_DATA:16,ON_CLICK_DRAWPICTURE:17,ON_FINISH_DRAWPICTURE:18,ON_INDEXTITLE_DRAW:19,ON_CUSTOM_VERTICAL_DRAW:20,RECV_KLINE_MANUAL_UPDATE_DATA:21,ON_ENABLE_SPLASH_DRAW:22,ON_CLICK_CHART_PAINT:23,ON_DRAW_MINUTE_LAST_POINT:24,ON_DRAW_DEPTH_TOOLTIP:25,ON_CLICK:26,ON_PHONE_TOUCH:27,ON_CLICKUP_CHART_PAINT:28,ON_SPLIT_YCOORDINATE:29,ON_DBCLICK:30,ON_SPLIT_XCOORDINATE:31,ON_KEYDOWN_SELECT_RECT:32,ON_DRAG_SELECT_RECT:33,ON_DRAG_SELECT_RECT_MOUSEUP:34,ON_DRAW_KLINE_LAST_POINT:35,ON_CLICK_CROSSCURSOR_RIGHT:36,ON_PLAY_SOUND:37,ON_CALCULATE_INDEX_OX:38,ON_LOAD_DRAWPICTURE:39,ON_DRAW_COUNTDOWN:41,ON_BIND_DRAWICON:42,ON_DRAW_DEAL_VOL_COLOR:43,ON_DRAW_DEAL_TEXT:44,ON_FILTER_DEAL_DATA:45,ON_FILTER_REPORT_DATA:46,ON_CLICK_REPORT_ROW:47,ON_REPORT_MARKET_STATUS:48,ON_DBCLICK_REPORT_ROW:49,ON_RCLICK_REPORT_ROW:50,ON_CLICK_REPORT_HEADER:51,ON_RCLICK_REPORT_HEADER:52,ON_REPORT_LOCAL_SORT:53,ON_DRAW_REPORT_NAME_COLOR:54,ON_DRAW_CUSTOM_TEXT:55,ON_CLICK_REPORT_TAB:56,ON_CLICK_REPORT_TABMENU:57,ON_DRAW_REPORT_FIXEDROW_TEXT:58,ON_CLICK_REPORT_FIXEDROW:59,ON_RCLICK_REPORT_FIXEDROW:60,ON_KEYDOWN_SELECT_RECT_FIRST:61,ON_CLICK_FRAME_TOOLBAR:62,ON_REPORT_DRAG_ROW:63,ON_MOUSE_MOVE:64,ON_MINUTE_PAGE_CHANGED:65,ON_DRAG_SUB_SELECT_RECT:66,ON_DRAG_SUB_SELECT_RECT_MOUSEUP:67},w={OP_SCROLL_LEFT:1,OP_SCROLL_RIGHT:2,OP_ZOOM_OUT:3,OP_ZOOM_IN:4,OP_GOTO_HOME:5,OP_GOTO_END:6,OP_LEFT_ZOOM_OUT:7,OP_LEFT_ZOOM_IN:8,OP_RIGHT_ZOOM_OUT:9,OP_RIGHT_ZOOM_IN:10,OP_SCROLL_GOTO:11,OP_SET_SELECTRECT:12,OP_SET_SUB_SELECTRECT:13},M={DISABLE_DRAG_ID:0,CLICK_TOUCH_MODE_ID:3},E={CLOSE_BEFOREOPEN_ID:1,CLOSE_OVERLAY_INDEX:2,MODIFY_INDEX_PARAM:3,CHANGE_INDEX:4,CLOSE_INDEX_WINDOW:5,OVERLAY_INDEX:6,MODIFY_OVERLAY_INDEX_PARAM:7,CHIP_DEFULT:8,CHIP_LONG:9,CHIP_RECENT:10,MAX_MIN_WINDOW:11,TITLE_WINDOW:12},A={KLINE_ORDERFLOW:99,MINUTE_MULTI_DAY_EXTENDDATA:21,MINUTE_DAY_EXTENDDATA:21,MINUTE_BEFOREOPEN_EXTENDDATA:21,MINUTE_AFTERCLOSE_EXTENDDATA:21,KLINE_COLOR_DATA:66,KLINE_DAY_EXTENDDATA:25,KLINE_MINUTE_EXTENDDATA:25};function _(t,e){var i=this;this.ClassName="JSChartContainer";this.Frame,this.ChartPaint=new Array,this.ChartPaintEx=[],this.ChartInfo=new Array,this.ChartInfoPaint,this.ExtendChartPaint=new Array,this.TitlePaint=new Array,this.OverlayChartPaint=new Array,this.ChartDrawPicture=new Array,this.ChartDrawStorage,this.ChartDrawOption={IsLockScreen:!1,Zoom:1},this.CurrentChartDrawPicture=null,this.SelectChartDrawPicture=null,this.MoveOnChartDrawPicture=null,this.IsDrawPictureXY=!1,this.EnableShowCorssCursor={DrawPicture:!0},this.ChartPictureMenu,this.ChartCorssCursor,this.IsClickShowCorssCursor=!1,this.ChartSplashPaint=null,this.LoadDataSplashTitle="数据加载中",e?(this.Canvas=e.getContext("2d"),this.OffscreenCanvasElement=e,this.ShowCanvas=t.getContext("2d")):(this.Canvas=t.getContext("2d"),this.ShowCanvas=null),this.UIElement=t,this.MouseDrag,this.PhoneTouchInfo,this.DragMode=1,this.EnableBorderDrag=!0,this.BorderDrag,this.YDrag,this.TouchStatus={CorssCursorShow:!1},this.DragTimer,this.EnableScrollUpDown=!1,this.ClickChartTimer=null,this.CursorIndex=0,this.LastPoint=new H,this.IsForceLandscape=!1,this.CorssCursorTouchEnd=!1,this.IsTitleShowLatestData=!1,this.StepPixel=4,this.ZoomStepPixel=5,this.TouchMoveMinAngle=70,this.EnableAnimation=!1,this.Tooltip=document.createElement("div"),this.Tooltip.className="jschart-tooltip",this.Tooltip.style.background=Qe.TooltipBGColor,this.Tooltip.style.opacity=Qe.TooltipAlpha,this.Tooltip.style["pointer-events"]="none",this.Tooltip.id=P(),t.parentNode.appendChild(this.Tooltip),this.IsShowTooltip=!0,this.SelectRect=document.createElement("div"),this.SelectRect.className="jschart-selectrect",this.SelectRect.style.background=Qe.SelectRectBGColor,this.SelectRect.style["pointer-events"]="none",this.SelectRect.id=P(),this.SelectRect.oncontextmenu=function(){return!1},t.parentNode.appendChild(this.SelectRect),this.SelectRectRightMenu,this.FrameSplitData=new p.default,this.FrameSplitData.set("double",new Je),this.FrameSplitData.set("price",new function(){this.newMethod=Je,this.newMethod(),delete this.newMethod,this.Data=[[1e-6,2e-6,1e-6,1e-7],[2e-6,4e-6,2e-6,2e-7],[4e-6,5e-6,4e-6,1e-7],[5e-6,1e-5,5e-6,5e-7],[1e-5,2e-5,1e-5,1e-6],[2e-5,4e-5,2e-5,2e-6],[4e-5,5e-5,4e-5,1e-6],[5e-5,1e-4,5e-5,5e-6],[1e-4,2e-4,1e-4,1e-5],[2e-4,4e-4,2e-4,2e-5],[4e-4,5e-4,4e-4,1e-5],[5e-4,.001,5e-4,5e-5],[.001,.002,.001,1e-4],[.002,.004,.002,1e-4],[.004,.005,.004,1e-4],[.005,.01,.005,5e-4],[.01,.02,.01,.001],[.02,.04,.02,.001],[.04,.05,.04,.001],[.05,.1,.05,.001],[.1,.2,.1,.01],[.2,.4,.2,.01],[.4,.5,.2,.01],[.5,.8,.2,.01],[.8,1,.5,.01],[1,2,.5,.05],[2,4,.5,.05],[4,5,.5,.05],[5,10,.5,.05],[10,12,10,2],[20,40,20,5],[40,50,40,2],[50,100,50,10],[100,200,100,10],[200,400,200,20],[400,500,400,10],[500,1e3,500,50],[1e3,2e3,1e3,50],[2e3,4e3,2e3,50],[4e3,5e3,4e3,50],[5e3,1e4,5e3,100],[1e4,2e4,1e4,1e3],[2e4,4e4,2e4,2e3],[4e4,5e4,4e4,1e3],[5e4,1e5,5e4,5e3],[1e5,2e5,1e5,1e4],[2e5,4e5,2e5,2e4],[4e5,5e5,4e5,1e4],[5e5,1e6,5e5,5e4],[1e6,2e6,1e6,1e5],[2e6,4e6,2e6,2e5],[4e6,5e6,4e6,1e5],[5e6,1e7,5e6,5e5],[1e7,2e7,1e7,1e6],[2e7,4e7,2e7,2e6],[4e7,5e7,4e7,1e6],[5e7,1e8,5e7,5e6],[1e8,2e8,1e8,1e7],[2e8,4e8,2e8,2e7],[4e8,5e8,4e8,1e7],[5e8,1e9,5e8,5e7],[1e9,2e9,1e9,1e8],[2e9,4e9,2e9,2e8],[4e9,5e9,4e9,1e8],[5e9,1e10,5e9,5e8]]}),this.mapEvent=new p.default,this.IsOnTouch=!1,this.TouchDrawCount=0,this.DisableMouse=!1,this.LanguageID=ti.LANGUAGE_CHINESE_ID,this.PressTime=500,this.NetworkFilter,this.LastMouseStatus={MouseOnToolbar:null},this.ClickDownPoint,this.IsDestroy=!1,this.EnableYDrag={Left:!1,Right:!1},this.EnableZoomIndexWindow=!1,this.EnableVerifyRecvData=!1,this.PhoneDBClick=new function(){this.Start=[],this.Clear=function(){this.Start=[]},this.AddTouchStart=function(t,e,i){if(this.Start.length>0){var a=i-this.Start[this.Start.length-1].Time;a>0&&a<300?this.Start.push({X:t,Y:e,Time:i}):this.Start=[]}else this.Start.push({X:t,Y:e,Time:i})},this.IsVaildDBClick=function(){return 2==this.Start.length},this.AddTouchEnd=function(t){if(!(this.Start.length<=0)){var e=t-this.Start[this.Start.length-1].Time;e>=0&&e<150||(this.Start=[])}}},this.SelectedChart={EnableSelected:!1,EnableMoveOn:!1,Selected:{Identify:null},MoveOn:{Identify:null}},this.IndexChartDrag,this.EnableIndexChartDrag=!1,this.GlobalOption={IsValueFullRange:!1},this.ChartDestroy=function(){this.IsDestroy=!0,this.StopAutoUpdate(),null!=this.GetLatestVersionTimer&&(clearTimeout(this.GetLatestVersionTimer),this.GetLatestVersionTimer=null)},this.ChartDestory=this.ChartDestroy,this.GetLatestVersionTimer=null,this.GetLatestVersion=function(){var t=this;null!=this.GetLatestVersionTimer&&(clearTimeout(this.GetLatestVersionTimer),this.GetLatestVersionTimer=null);var e=18e4+1e3*Math.floor(50*Math.random());g.Chart.Log("[JSChartContainer::GetLatestVersion] wait for get hqchart latest version. ",e),this.GetLatestVersionTimer=setTimeout(function(){var e=0,i=0;t.Frame&&t.Frame.ChartBorder&&(e=t.Frame.ChartBorder.GetChartWidth(),i=t.Frame.ChartBorder.GetChartHeight());var a=atob("aHR0cHM6Ly9ocWNoYXJ0LnplYWxpbmsuY29tL2FwaS9HZXRWZXJzaW9u")+"?width="+e+"&height="+i+"&type=h5";null==T.LastVersion&&C.HttpRequest({url:a,type:"get",dataType:"json",async:!0,success:function(t){g.Chart.Log("[JSChartContainer::GetLatestVersion] hqchart latest version. ",t),T.LastVersion=t},error:function(t,e,i){g.Chart.Log("[JSChartContainer::GetLatestVersion] Get HQChart latest version failed.",t)}})},e)},this.AddEventCallback=function(t){if(t&&t.event&&t.callback){var e={Callback:t.callback,Source:t};this.mapEvent.set(t.event,e)}},this.RemoveEventCallback=function(t){this.mapEvent.has(t)&&this.mapEvent.delete(t)},this.GetEventCallback=function(t){return this.mapEvent.has(t)?this.mapEvent.get(t):null},this.GetIndexEvent=function(){return this.GetEventCallback(b.RECV_INDEX_DATA)},this.GetOverlayIndexEvent=function(){return this.GetEventCallback(b.RECV_OVERLAY_INDEX_DATA)},t.onmousemove=function(t){i.UIOnMouseMove(t)},t.oncontextmenu=function(t){return i.UIOnContextMenu(t)},t.ondblclick=function(t){i.UIOnDblClick(t)},t.onmousedown=function(t){i.UIOnMouseDown(t)},t.onmouseout=function(t){i.UIOnMounseOut(t)},t.onmouseleave=function(t){i.UIOnMouseleave(t)},this.UIOnMouseMove=function(t){var e=L(),i=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,a=(t.clientY-this.UIElement.getBoundingClientRect().top)*e;if(this.MoveOnChartDrawPicture=null,!(this.ChartSplashPaint&&1==this.ChartSplashPaint.IsEnableSplash||1==this.DisableMouse||this.BorderDrag||this.YDrag||this.IndexChartDrag)){var n={X:i,Y:a,IsInClient:this.IsMouseOnClient(i,a)};this.LastMouseStatus.OnMouseMove=n,this.LastMouseStatus.MoveOnPoint={X:i,Y:a};var r=this.GetEventCallback(b.ON_MOUSE_MOVE),o=this.TitlePaint[0];r&&o&&(o.OnMouseMoveEvent=r),this.MoveOnPoint={X:i,Y:a},this.OnMouseMove(i,a,t),this.LastMouseStatus.MoveOnPoint=null,o&&(o.OnMouseMoveEvent=null)}},this.IsMouseOnClient=function(t,e){return this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),this.Canvas.isPointInPath(t,e)},this.UIOnContextMenu=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var e=t.clientX-this.UIElement.getBoundingClientRect().left,i=t.clientY-this.UIElement.getBoundingClientRect().top;return"function"==typeof this.OnRightMenu&&this.OnRightMenu(e,i,t),!1}},this.UIOnDblClick=function(t){var e=L(),i=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,a=(t.clientY-this.UIElement.getBoundingClientRect().top)*e;this.OnDoubleClick(i,a,t)},this.TryYDrag=function(t,e){if(!this.EnableYDrag)return null;if(!this.EnableYDrag.Left&&!this.EnableYDrag.Right)return null;if(!this.Frame||!this.Frame.PtInFrameY)return null;var i=this.Frame.PtInFrameY(t,e);return!i||i.Index<0||1==i.IsOverlay?null:i.Left&&this.EnableYDrag.Left&&this.Frame.IsEnableDragY(i.Index)?i:i.Right&&this.EnableYDrag.Right&&this.Frame.IsEnableDragY(i.Index)?i:null},this.TryUpDownDrag=function(t,e){var i=this.Frame.PtInFrame(t,e);if(i<0)return null;var a=this.Frame.SubFrame[i];if(!a||!a.Frame)return null;var n=a.Frame;return n.YSplitOperator&&n.YSplitOperator.FixedYMaxMin?{Index:i,X:t,Y:e}:null},this.TryRectSelectDrag=function(t,e){var i=this.GetRectSelectPaint();return i?i.GetPointCount()<=0?null:{Item:i.PtInPaint(t,e),X:t,Y:e}:null},this.TryClickCrossCursor=function(t,e,i){if(this.ChartCorssCursor){var a=this.ChartCorssCursor.PtInButton(t,e);if(!a)return!1;var n=this.GetEventCallback(b.ON_CLICK_CROSSCURSOR_RIGHT);if(n&&n.Callback){var r={Button:a,e:i};n.Callback(n,r,this)}return!0}},this.UIOnMouseDown=function(t){var e=this;if(this.MoveOnChartDrawPicture=null,!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){this.ClickDownPoint={X:t.clientX,Y:t.clientY},this.IsOnTouch=!0,this.BorderDrag=null,this.YDrag=null,this.UpDownDrag=null,this.RectSelectDrag=null,this.IndexChartDrag=null;var i=L(),a=(t.clientX-this.UIElement.getBoundingClientRect().left)*i,n=(t.clientY-this.UIElement.getBoundingClientRect().top)*i,r=this.Frame.PtInButtons(a,n);if(r&&this.ClickFrameButton)this.ClickFrameButton(r,t);else if((r=this.PtInExtendChartButtons(a,n))&&this.ClickExtendChartButton)this.ClickExtendChartButton(r,t);else if(!(this.TryClickCrossCursor(a,n,t)||this.TryClickLock&&this.TryClickLock(a,n))){this.HideSelectRect(),this.SelectRectRightMenu&&this.SelectRectRightMenu.Hide(),this.ChartPictureMenu&&this.ChartPictureMenu.Hide();var o=this.GetRectSelectPaint();if(o&&o.GetPointCount()>0){var s=o.PtInPaint(a,n);if(s)if(4==s.Type){this.UIElement.style.cursor="pointer";var l={X:t.clientX};this.GetXDataIndex(l)&&(this.RectSelectDrag={DataIndex:l.DataIndex,Type:s.Type,X:t.clientX},g.Chart.Log("[JSChartContainer::UIOnMouseDown] drag sub rect select ",l))}else this.UIElement.style.cursor="ew-resize",this.RectSelectDrag={Index:s.PointIndex,Type:s.Type},g.Chart.Log("[JSChartContainer::UIOnMouseDown] drag rect select ",s)}if(!this.RectSelectDrag&&this.ClearRectSelect(!1)&&this.Draw(),this.EnableBorderDrag&&this.Frame){var h=this.Frame.PtInFrameBorder(a,n);h&&h.Index>=0&&(this.UIElement.style.cursor="n-resize",this.BorderDrag={Index:h.Index},g.Chart.Log("[JSChartContainer::UIOnMouseDown] DragBorder ",h))}if(!this.BorderDrag){var u=this.TryYDrag(a,n);if(u)this.UIElement.style.cursor=0==u.Position?"n-resize":"row-resize",this.YDrag=u,g.Chart.Log("[JSChartContainer::UIOnMouseDown] dragY ",u);else{var c=this.TryUpDownDrag(a,n);c&&(this.UIElement.style.cursor="pointer",this.UpDownDrag=c,g.Chart.Log("[JSChartContainer::UIOnMouseDown] dragUpDown ",c))}}if(0!=this.DragMode){var d={Click:{},LastMove:{}};d.Click.X=t.clientX,d.Click.Y=t.clientY,d.Click.IsInFrameBottom=this.Frame.PtInFrameBottom(a,n),d.LastMove.X=t.clientX,d.LastMove.Y=t.clientY,this.MouseDrag=d;var f=this.GetActiveDrawPicture(),p={Chart:this.SelectedChart.Selected.Chart,Identify:this.SelectedChart.Selected.Identify};if(this.SelectChartDrawPicture=null,this.BorderDrag);else if(this.YDrag||this.RectSelectDrag);else if(this.CurrentChartDrawPicture){this.UpDownDrag=null,2==this.CurrentChartDrawPicture.Status?this.SetChartDrawPictureThirdPoint(d.Click.X,d.Click.Y):(this.SetChartDrawPictureFirstPoint(d.Click.X,d.Click.Y),this.FinishChartDrawPicturePoint()&&this.DrawDynamicInfo()),!f.Select.Guid||this.CurrentChartDrawPicture&&f.Select.Guid==this.CurrentChartDrawPicture.Guid||f.Select.Chart.IsDrawMain&&this.Draw()}else{var m={};if(m.X=(t.clientX-this.UIElement.getBoundingClientRect().left)*i,m.Y=(t.clientY-this.UIElement.getBoundingClientRect().top)*i,this.GetChartDrawPictureByPoint(m)){if(1==m.ChartDrawPicture.EnableMove){this.UpDownDrag=null,this.CurrentChartDrawPicture=m.ChartDrawPicture,this.SelectChartDrawPicture=m.ChartDrawPicture;var v=!1;f.Select.Guid&&f.Select.Chart&&f.Select.Chart.IsDrawMain?v=!0:m.ChartDrawPicture.IsDrawMain&&(v=!0),v&&this.Draw(),m.ChartDrawPicture.Status=20,m.ChartDrawPicture.ValueToPoint(),m.ChartDrawPicture.MovePointIndex=m.PointIndex,this.SelectChartDrawPicture.DragInfo={Click:{X:t.clientX,Y:t.clientY}}}else this.CurrentChartDrawPicture=null,this.SelectChartDrawPicture=null;var C=this.GetEventCallback(b.ON_CLICK_DRAWPICTURE);if(C&&C.Callback){var D={DrawPicture:m.ChartDrawPicture};C.Callback(C,D,this)}else this.OnSelectChartPicture(m.ChartDrawPicture)}else{null!=this.ClickChartTimer&&(clearTimeout(this.ClickChartTimer),this.ClickChartTimer=null);var y=this,x={X:this.ClickDownPoint.X,Y:this.ClickDownPoint.Y};this.ClickChartTimer=setTimeout(function(){y.TryClickPaintEvent(b.ON_CLICK_CHART_PAINT,x,t)},250);var S=!1;if(this.SelectedChart.EnableSelected){var I=this.PtInChart(a,n);I?(this.SelectedChart.Selected.Identify!=I.Identify&&(this.SelectedChart.Selected.Identify=I.Identify,this.SelectedChart.Selected.Chart=I.Chart,S=!0),this.EnableIndexChartDrag&&(this.IndexChartDrag={SelectedChart:I,LastMove:{X:a,Y:n},Click:{X:a,Y:n}},this.IndexChartDrag.Info=this.GetSelectedChartInfo(I),this.IndexChartDrag.Info&&(this.IndexChartDrag.Info.FrameID=this.Frame.PtInFrame(a,n)))):this.SelectedChart.Selected.Identify&&(this.SelectedChart.Selected.Identify=null,this.SelectedChart.Selected.Chart=null,S=!0)}else this.SelectedChart.Selected.Identify&&(this.SelectedChart.Selected.Identify=null,S=!0);if(null!=f.Select.Guid&&null==this.SelectChartDrawPicture||S){var T=0;if(f.Select.Guid&&f.Select.Chart&&f.Select.Chart.IsDrawMain&&(T=1),S){var w=p.Chart;w&&w.SetSelectedStatus&&(w.SetSelectedStatus(0),T=1),(w=this.SelectedChart.Selected.Chart)&&w.SetSelectedStatus&&(w.SetSelectedStatus(1),T=1)}1==T?this.Draw():this.DrawDynamicInfo()}}}document.onmousemove=function(t){e.DocOnMouseMove(t)},document.onmouseup=function(t){e.DocOnMouseUp(t)}}}}},this.DocOnMouseMove=function(e){if(!this.ChartSplashPaint||1!=this.IsEnableSplash){var i=this.MouseDrag;if(i){var a=Math.abs(i.LastMove.X-e.clientX),n=Math.abs(i.LastMove.Y-e.clientY),r=this.RectSelectDrag&&this.RectSelectDrag.Index>=0,o=this.RectSelectDrag&&4==this.RectSelectDrag.Type;if(this.BorderDrag&&this.BorderDrag.Index>=0){if(Math.abs(i.LastMove.Y-e.clientY)<5)return;var s=e.clientY-i.LastMove.Y;this.OnMoveFromeBorder(this.BorderDrag.Index,s),i.LastMove.X=e.clientX,i.LastMove.Y=e.clientY}else if(this.YDrag&&this.YDrag.Index>=0){if(n<5)return;s=e.clientY-i.LastMove.Y;g.Chart.Log("[JSChartContainer::DocOnMouseMove] YDrag ",this.YDrag,s),this.OnZoomUpDownFrameY(this.YDrag,s),i.LastMove.X=e.clientX,i.LastMove.Y=e.clientY}else if(this.IndexChartDrag&&this.IndexChartDrag.SelectedChart){if(Math.abs(i.LastMove.Y-e.clientY)<2&&Math.abs(i.LastMove.X-e.clientX)<2)return;var l=this.GetExtendChartByClassName("DragMovePaint");if(l&&l.Chart){var h=L(),u=(e.clientX-this.UIElement.getBoundingClientRect().left)*h,c=(e.clientY-this.UIElement.getBoundingClientRect().top)*h;l.Chart.Point={X:u,Y:c},l.Chart.IsShow=!0,l.Chart.Info=this.IndexChartDrag.Info,this.DrawDynamicInfo()}this.IndexChartDrag.LastMove.X=u,this.IndexChartDrag.LastMove.Y=c,i.LastMove.X=e.clientX,i.LastMove.Y=e.clientY}else if(this.CurrentChartDrawPicture){var d=this.CurrentChartDrawPicture;if(1==d.Status||2==d.Status){if(Math.abs(i.LastMove.X-e.clientX)<5&&Math.abs(i.LastMove.Y-e.clientY)<5)return;this.SetChartDrawPictureSecondPoint(e.clientX,e.clientY)&&this.DrawDynamicInfo()}else if(3==d.Status)this.SetChartDrawPictureThirdPoint(e.clientX,e.clientY)&&this.DrawDynamicInfo();else if(20==d.Status){if(Math.abs(i.LastMove.X-e.clientX)<5&&Math.abs(i.LastMove.Y-e.clientY)<5)return;this.SelectChartDrawPicture&&this.SelectChartDrawPicture.DragInfo&&(this.SelectChartDrawPicture.DragInfo.Move={X:e.clientX,Y:e.client}),this.MoveChartDrawPicture(e.clientX-i.LastMove.X,e.clientY-i.LastMove.Y)&&this.DrawDynamicInfo()}i.LastMove.X=e.clientX,i.LastMove.Y=e.clientY}else if(1==this.DragMode||r||o)this.OnDragMode_One({X:a,Y:n},e);else if(2==this.DragMode){var f=Math.abs(i.LastMove.Y-e.clientY);if(a<5&&f<5)return;this.UIElement.style.cursor="default";u=i.Click.X-t.getBoundingClientRect().left,c=i.Click.Y-t.getBoundingClientRect().top;var p=e.clientX-t.getBoundingClientRect().left,m=e.clientY-t.getBoundingClientRect().top;this.ShowSelectRect(u,c,p,m),i.LastMove.X=e.clientX,i.LastMove.Y=e.clientY}}}},this.OnDragMode_One=function(t,e){var i=t.X,a=t.Y,n=this.MouseDrag;if(!(i<5&&a<5)){var r=!1,o=!1;if(a>=5&&this.UpDownDrag&&this.UpDownDrag.Index>=0){var s=e.clientY-n.LastMove.Y;g.Chart.Log("[JSChartContainer::OnDragMode_One] UpDownDrag ",this.UpDownDrag,s),this.UIElement.style.cursor="pointer",this.OnUpDonwFrameY(this.UpDownDrag,s)&&(r=!0,o=!0),n.LastMove.Y=e.clientY}if(i>=5){if(this.RectSelectDrag){if(this.RectSelectDrag.Index>=0){var l={X:e.clientX,Y:e.clientY,PointIndex:this.RectSelectDrag.Index,Name:"MoveRectSelectLine"};this.MoveRectSelectPoint(l)&&(r=!0)}else if(4===this.RectSelectDrag.Type){l={X:e.clientX};if(!this.GetXDataIndex(l))return;if(l.DataIndex==this.RectSelectDrag.DataIndex)return;var h=l.DataIndex-this.RectSelectDrag.DataIndex,u=!0;if(h>0&&(u=!1),!this.MoveSubRectSelect({Step:Math.abs(h),IsLeft:u,X:e.clientX,Y:e.clientY}))return;this.RectSelectDrag.DataIndex=l.DataIndex,this.RectSelectDrag.X=e.clientX,r=!0}}else{u=!0;n.LastMove.X<e.clientX&&(u=!1);var c="pointer";if(n.Click.IsInFrameBottom&&(c="ew-resize"),i<this.GetMoveOneStepWidth())return this.UIElement.style.cursor=c,void(r&&this.Draw());n.Click&&n.Click.IsInFrameBottom?this.XCoordinateZoom(i,u)&&(this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),r=!0):this.DataMove(i,u)?(this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),r=!0):o||this.DragDownloadData&&this.DragDownloadData(),this.UIElement.style.cursor=c}n.LastMove.X=e.clientX}r&&(this.Draw(),this.OnKLinePageChange("datamove"))}},this.GetXDataIndex=function(e){if(!this.ChartPaint[0]||!this.ChartPaint[0].Data)return!1;var i=this.ChartPaint[0].Data;if(!this.Frame.SubFrame[0])return!1;var a=this.Frame.SubFrame[0].Frame,n=L(),r=(e.X-t.getBoundingClientRect().left)*n,o=a.GetXData(r),s=(o=parseInt(o.toFixed(0)))+i.DataOffset;s>=i.Data.length&&(s=i.Data.length-1);var l=i.Data[s];return e.DataIndex=s,e.Item=l,!0},this.DocOnMouseUp=function(e){document.onmousemove=null,document.onmouseup=null;var i="MinuteChartContainer"==this.ClassName||"MinuteChartHScreenContainer"==this.ClassName,a=this.RectSelectDrag&&this.RectSelectDrag.Index>=0,n=this.RectSelectDrag&&4==this.RectSelectDrag.Type,r=!0;if(this.CurrentChartDrawPicture){var o=this.CurrentChartDrawPicture;2==o.Status||1==o.Status||3==o.Status?(o.PointStatus=o.Status,this.FinishChartDrawPicturePoint()?this.DrawDynamicInfo():r=!1):20==o.Status&&this.FinishMoveChartDrawPicture()&&this.DrawDynamicInfo()}else if(this.IndexChartDrag&&this.IndexChartDrag.SelectedChart){var s=this.GetExtendChartByClassName("DragMovePaint");s&&s.Chart&&s.Chart.Clear(),this.OnDragChart(this.IndexChartDrag)||this.DrawDynamicInfo(),this.UIElement.style.cursor="default"}else if(a)this.OnDragSelectRectMouseUp&&this.OnDragSelectRectMouseUp(e);else if(n)this.OnDragSubSelectRectMouseUp&&this.OnDragSubSelectRectMouseUp(e);else if(i)this.OnMinuteSelectRectMouseUp&&this.OnMinuteSelectRectMouseUp(e);else if(2==this.DragMode){var l=this.MouseDrag;l.LastMove.X=e.clientX,l.LastMove.Y=e.clientY;var h=new G,u=L();if(h.XStart=(l.Click.X-t.getBoundingClientRect().left)*u,h.YStart=(l.Click.Y-t.getBoundingClientRect().top)*u,h.XEnd=(l.LastMove.X-t.getBoundingClientRect().left)*u,h.YEnd=(l.LastMove.Y-t.getBoundingClientRect().top)*u,h.JSChartContainer=this,h.Stock={Symbol:this.Symbol,Name:this.Name},!this.BorderDrag&&this.GetSelectRectData(h)){var c=this.GetEventCallback(b.ON_SELECT_RECT),d=this.GetRectSelectPaint(),f=!0;if(c&&c.Callback){var p={X:l.LastMove.X-t.getBoundingClientRect().left,Y:l.LastMove.Y-t.getBoundingClientRect().top,SelectData:h,RectSelectPaint:d,IsShowMenu:!0};c.Callback(c,p,this),f=p.IsShowMenu}i?(this.HideSelectRect(),this.UpdateSelectRect(h.Start,h.End)):f&&this.SelectRectRightMenu&&(e.data={Chart:this,X:l.LastMove.X-t.getBoundingClientRect().left,Y:l.LastMove.Y-t.getBoundingClientRect().top,SelectData:h,RectSelectPaint:d},this.SelectRectRightMenu.DoModal(e))}else this.TryClickPaintEvent(b.ON_CLICKUP_CHART_PAINT,this.ClickDownPoint,e)}else this.TryClickPaintEvent(b.ON_CLICKUP_CHART_PAINT,this.ClickDownPoint,e),this.ClickEvent(e);g.Chart.Log("[KLineChartContainer::document.onmouseup]",e),this.SelectChartDrawPicture&&(this.SelectChartDrawPicture.DragInfo=null),this.UIElement.style.cursor="default",this.MouseDrag=null,this.ClickDownPoint=null,this.IsOnTouch=!1,this.BorderDrag&&this.BorderDrag.Index>=0&&this.Frame.SaveSubFrameHeightRate(),this.BorderDrag=null,this.YDrag=null,this.UpDownDrag=null,this.RectSelectDrag=null,this.IndexChartDrag=null,!0===r&&(this.CurrentChartDrawPicture=null)},this.UIOnMounseOut=function(t){g.Chart.Log("[KLineChartContainer::UIOnMounseOut]",t),this.UIOnMouseMove(t)},this.UIOnMouseleave=function(t){g.Chart.Log("[KLineChartContainer::UIOnMouseleave]",t)},this.OnDragChart=function(t){if(!t)return!1;var e=t.Info,i=t.LastMove,a=e.FrameID,n=this.Frame.PtInFrame(i.X,i.Y);return n<0?-3==n&&this.MoveIndexToNewWindow({WindowIndex:a,IndexID:e.IndexID},{Operator:0}):a!=n&&this.MoveIndex({WindowIndex:a,IndexID:e.IndexID},{WindowIndex:n},{Operator:0})},this.GetSelectedChartInfo=function(t){if(!t)return null;var e={Type:0},i=t.Identify;if("Main-KLine"==i)e.Name=this.Name,e.Symbol=this.Symbol,e.Type=ge.MAIN_KLINE;else if(0==i.indexOf("Overlay-KLine-"))e.Name=t.Chart.Title,e.Symbol=t.Chart.Symbol,e.Type=ge.OVERLAY_KLINE;else if(0==i.indexOf("Overlay-Minute-"))e.Name=t.Chart.Title,e.Symbol=t.Chart.Symbol,e.Type=ge.OVERLAY_MINUTE;else if("Minute-Line"==i)e.Name=this.Name,e.Symbol=this.Symbol,e.Type=ge.MAIN_MINUTE;else if("Minute-Average-Line"==i)e.Name=this.Name,e.Symbol=this.Symbol,e.Type=ge.MAIN_AVERAGE_MINUTE;else if("Minute-Vol-Bar"==i)e.Name=this.Name,e.Symbol=this.Symbol,e.Type=ge.MAIN_MINUTE_VOL;else if(0==i.indexOf("guid"))for(var a=0;a<this.TitlePaint.length;++a){var n=this.TitlePaint[a];if("DynamicChartTitlePainting"==n.ClassName){if(n.Identify==i){e.IndexName=n.Title,e.IndexID=i,e.Type=ge.MAIN_INDEX;break}var r=!0,o=!1,s=void 0;try{for(var l,h=(0,d.default)(n.OverlayIndex);!(r=(l=h.next()).done);r=!0){var u=l.value;if(u[0]==i){e.IndexName=u[1].Title,e.IndexID=i,e.Type=ge.OVERLAY_INDEX;break}}}catch(t){o=!0,s=t}finally{try{!r&&h.return&&h.return()}finally{if(o)throw s}}if(e.Type>0)break}}return e},this.ClickEvent=function(e){var i=this.GetEventCallback(b.ON_CLICK);if(!i||!i.Callback)return!1;if(this.ClickDownPoint.X!=e.clientX||this.ClickDownPoint.Y!=e.clientY)return!1;var a=L(),n=(e.clientX-t.getBoundingClientRect().left)*a,r=(e.clientY-t.getBoundingClientRect().top)*a,o={X:e.clientX,Y:e.clientY,FrameID:-1};if(this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),this.Canvas.isPointInPath(n,r)){var s={},l=this.Frame.GetYData(r,s);if(Ce.IsNumber(s.FrameID)&&s.FrameID>=0){var h=this.Frame.GetXData(n);o.FrameID=s.FrameID,o.Data={X:h,Y:l}}}return i.Callback(i,o,this),!0},this.DBClickEvent=function(e,i){var a=this.GetEventCallback(b.ON_DBCLICK);if(!a||!a.Callback)return!1;var n=L(),r=(i.clientX-t.getBoundingClientRect().left)*n,o=(i.clientY-t.getBoundingClientRect().top)*n,s={X:i.clientX,Y:i.clientY,FrameID:-1,ClientPos:-1},l=this.PtInClient(r,o);if(s.ClientPos=l,l>0){var h={},u=this.Frame.GetYData(o,h);if(Ce.IsNumber(h.FrameID)&&h.FrameID>=0){var c=this.Frame.GetXData(r);s.FrameID=h.FrameID,s.Data={X:c,Y:u},this.GetDataItem&&(s.Data.Item=this.GetDataItem({ClientPos:l,Index:c,Point:{X:r,Y:o}}))}}return e&&e.SelectedChart&&(s.SelectedChart=this.GetSelectedChartInfo(e.SelectedChart)),a.Callback(a,s,this),!0},this.PtInChartPaintTooltip=function(t,e,i){for(var a=0;a<this.ChartPaint.length;++a){var n=this.ChartPaint[a];if(n.GetTooltipData(t,e,i))return n}return null},this.PtInOverlayChartPaintTooltip=function(t,e,i){for(var a=0;a<this.OverlayChartPaint.length;++a){var n=this.OverlayChartPaint[a];if(n.GetTooltipData(t,e,i))return n}return null},this.TryClickPaintEvent=function(e,i,a){var n=this.GetEventCallback(e);if(n&&n.Callback&&i.X==a.clientX&&i.Y==a.clientY){var r=L(),o=(a.clientX-t.getBoundingClientRect().left)*r,s=(a.clientY-t.getBoundingClientRect().top)*r,l=new St,h=null,u=this.PtInChartPaintTooltip(o,s,l);if(u&&(h={Symbol:this.Symbol,Name:this.Name}),u||(u=this.PtInOverlayChartPaintTooltip(o,s,l))&&(h={Symbol:l.ChartPaint.Symbol,Name:l.ChartPaint.Title}),l.Data){var c={X:a.clientX,Y:a.clientY,Stock:h,Tooltip:l};return n.Callback(n,c,this),!0}}return!1},this.IsPhoneDragging=function(t){var e=t.changedTouches.length,i=t.touches.length;return 1==e&&1==i},this.IsPhonePinching=function(t){var e=t.changedTouches.length,i=t.touches.length;return(1==e||2==e)&&2==i},this.PreventTouchEvent=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()},this.GetToucheData=function(t,e){for(var i=new Array,a=L(),n=0;n<t.touches.length;++n){var r=t.touches[n];e?i.push({clientX:r.clientY*a,clientY:r.clientX*a,pageX:r.pageY*a,pageY:r.pageX*a}):i.push({clientX:r.clientX*a,clientY:r.clientY*a,pageX:r.pageX*a,pageY:r.pageY*a})}return i},this.IsSingleTouch=function(t){return 1==t.touches.length},this.StopDragTimer=function(){Ce.IsNumber(this.DragTimer)&&(clearTimeout(this.DragTimer),this.DragTimer=null)},this.GetMoveAngle=function(t,e){var i=Math.abs(t.X-e.X),a=Math.abs(t.Y-e.Y);return 180*Math.atan(i/a)/Math.PI},t.ontouchstart=function(t){i.OnTouchStart(t)},t.ontouchmove=function(t){i.OnTouchMove(t)},t.ontouchend=function(t){i.OnTouchEnd(t)},this.AddPhoneDBClickInfo=function(t,e,i){var a={X:t,Y:e,Time:i};this.PhoneDBClickInfo.Start.push(a)},this.ClearPhoneDBClickInfo=function(){this.PhoneDBClickInfo.Start=[]},this.IsShortPhoneClick=function(t,e,i){},this.OnTouchStart=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){this.IsOnTouch=!0,this.TouchDrawCount=0,this.PhonePinch=null,this.StopDragTimer();var e=this.IsSingleTouch(t);if((0==this.EnableScrollUpDown||!e||this.DragMode==M.CLICK_TOUCH_MODE_ID&&1==this.TouchStatus.CorssCursorShow)&&t.cancelable&&t.preventDefault(),this.IsPhoneDragging(t)){var i=this.GetToucheData(t,this.IsForceLandscape),a=this.PointAbsoluteToRelative(i[0].clientX,i[0].clientY,!0);if(this.TryClickLock||this.TryClickIndexTitle){var n=a.X,r=a.Y;if(this.TryClickLock&&this.TryClickLock(n,r))return;if(this.TryClickIndexTitle&&this.TryClickIndexTitle(n,r))return}if(this.ClickFrameButton){var o=this.Frame.PtInButtons(a.X,a.Y);if(o)return void this.ClickFrameButton(o,t)}var s=!0;this.ChartDrawOption.IsLockScreen?s=!1:this.DragMode==M.CLICK_TOUCH_MODE_ID?1==this.TouchStatus.CorssCursorShow&&(s=!1):this.DragMode==M.DISABLE_DRAG_ID?s=!1:e||(s=!1);var l={Click:{},LastMove:{}};l.Click.X=i[0].clientX,l.Click.Y=i[0].clientY,l.LastMove.X=i[0].clientX,l.LastMove.Y=i[0].clientY,this.MouseDrag=l,this.PhoneTouchInfo={Start:{X:i[0].clientX,Y:i[0].clientY},End:{X:i[0].clientX,Y:i[0].clientY}},this.SelectChartDrawPicture&&(this.SelectChartDrawPicture.IsSelected=!1),this.SelectChartDrawPicture=null;if(this.CurrentChartDrawPicture)return 2==this.CurrentChartDrawPicture.Status?this.SetChartDrawPictureThirdPoint(l.Click.X,l.Click.Y,!0):(this.SetChartDrawPictureFirstPoint(l.Click.X,l.Click.Y,!0),this.FinishChartDrawPicturePoint()&&this.DrawDynamicInfo({Corss:!1,Tooltip:!1})),void(t.cancelable&&t.preventDefault());var h={X:(a=this.PointAbsoluteToRelative(i[0].clientX,i[0].clientY,!0)).X,Y:a.Y};L();if(this.GetChartDrawPictureByPoint(h)){h.ChartDrawPicture.Status=20,h.ChartDrawPicture.ValueToPoint(),h.ChartDrawPicture.MovePointIndex=h.PointIndex,h.ChartDrawPicture.IsSelected=!0,this.CurrentChartDrawPicture=h.ChartDrawPicture,this.SelectChartDrawPicture=h.ChartDrawPicture;var u=this.GetEventCallback(b.ON_CLICK_DRAWPICTURE);if(u&&u.Callback){var c={DrawPicture:h.ChartDrawPicture};u.Callback(u,c,this)}return void(t.cancelable&&t.preventDefault())}if(s){var d=this;this.DragTimer=setTimeout(function(){if(l.Click.X==l.LastMove.X&&l.Click.Y==l.LastMove.Y){d.MouseDrag;d.MouseDrag=null,d.DragMode==M.CLICK_TOUCH_MODE_ID&&(d.TouchStatus.CorssCursorShow=!0),d.MoveCorssCursor(l.Click,t)}},d.PressTime)}this.EnableZoomIndexWindow&&(this.PhoneDBClick.AddTouchStart(i[0].clientX,i[0].clientY,Date.now()),g.Chart.Log("[JSChartContainer::OnTouchStart] PhoneDBClick ",this.PhoneDBClick)),this.ChartDrawOption.IsLockScreen?this.MouseDrag=null:this.DragMode==M.CLICK_TOUCH_MODE_ID||(this.DragMode==M.DISABLE_DRAG_ID?(this.MouseDrag=null,this.MoveCorssCursor(l.Click,t)):this.IsClickShowCorssCursor&&this.MoveCorssCursor(l.Click,t)),this.TouchEvent({EventID:b.ON_PHONE_TOUCH,FunctionName:"OnTouchStart"},t)}else if(this.IsPhonePinching(t)){var f={Start:{},Last:{}};i=this.GetToucheData(t,this.IsForceLandscape);f.Start={X:i[0].pageX,Y:i[0].pageY,X2:i[1].pageX,Y2:i[1].pageY},f.Last={X:i[0].pageX,Y:i[0].pageY,X2:i[1].pageX,Y2:i[1].pageY},this.PhonePinch=f,this.SelectChartDrawPicture=null}}},this.OnTouchMove=function(e){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var i=this.GetToucheData(e,this.IsForceLandscape);if(this.IsPhoneDragging(e)){var a=this.MouseDrag;if(null==a)this.IsForceLandscape&&(y=t.getBoundingClientRect().width-i[0].clientY),this.ChartDrawOption.IsLockScreen||this.MoveCorssCursor({X:i[0].clientX,Y:i[0].clientY},e);else{var n=this.GetMoveAngle(a.LastMove,{X:i[0].clientX,Y:i[0].clientY}),r=Math.abs(a.LastMove.X-i[0].clientX),o=Math.abs(a.LastMove.Y-i[0].clientY);r=parseInt(r);var s=this.DragMode==M.CLICK_TOUCH_MODE_ID&&1==this.TouchStatus.CorssCursorShow;if(this.CurrentChartDrawPicture){var l=this.CurrentChartDrawPicture;if(1==l.Status||2==l.Status){if(r<5&&o<5)return;this.SetChartDrawPictureSecondPoint(i[0].clientX,i[0].clientY,!0)&&this.DrawDynamicInfo()}else if(3==l.Status)this.SetChartDrawPictureThirdPoint(i[0].clientX,i[0].clientY,!0)&&this.DrawDynamicInfo();else if(20==l.Status){if(r<5&&o<5)return;this.MoveChartDrawPicture(i[0].clientX-a.LastMove.X,i[0].clientY-a.LastMove.Y,!0)&&this.DrawDynamicInfo()}a.LastMove.X=i[0].clientX,a.LastMove.Y=i[0].clientY}else if(s){this.MouseDrag;this.MouseDrag=null,this.MoveCorssCursor(a.Click,e)}else if(1==this.DragMode||0==s){if((o>0&&r<=3||n<=this.TouchMoveMinAngle)&&1==this.EnableScrollUpDown)return void this.StopDragTimer();if(r<5||n<=this.TouchMoveMinAngle)return void this.PreventTouchEvent(e);var h=!0;if(a.LastMove.X<i[0].clientX&&(h=!1),r<this.GetMoveOneStepWidth())return;this.DataMove(r,h)?(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw(),this.OnKLinePageChange("OnTouchMove")):this.DragDownloadData&&this.DragDownloadData(),a.LastMove.X=i[0].clientX,a.LastMove.Y=i[0].clientY}}this.PhoneTouchInfo&&(this.PhoneTouchInfo.End.X=i[0].clientX,this.PhoneTouchInfo.End.Y=i[0].clientY)}else if(this.IsPhonePinching(e)){if(this.DragMode==M.DISABLE_DRAG_ID)return;this.PreventTouchEvent(e);var u=this.PhonePinch;if(!u)return;if(this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Touch)return;var c=Math.abs(i[0].pageY-i[1].pageY)-Math.abs(u.Last.Y-u.Last.Y2),d=Math.abs(i[0].pageX-i[1].pageX)-Math.abs(u.Last.X-u.Last.X2),f=this.ZoomStepPixel;if(Math.abs(c)<f&&Math.abs(d)<f)return;var p=c;if(Math.abs(c)<f&&(p=d),p>0){if((m={IsLockRight:this.IsZoomLockRight}).Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomUp(m))return;this.CursorIndex=m.Index,this.UpdatePointByCursorIndex(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.StopDragTimer()}else{var m;if((m={IsLockRight:this.IsZoomLockRight}).Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomDown(m))return;this.CursorIndex=m.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.StopDragTimer()}u.Last={X:i[0].pageX,Y:i[0].pageY,X2:i[1].pageX,Y2:i[1].pageY}}this.PreventTouchEvent(e)}},this.OnTouchEnd=function(t){if(g.Chart.Log("[KLineChartContainer:OnTouchEnd]",t),!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var e=!0;if(this.CurrentChartDrawPicture){var i=this.CurrentChartDrawPicture;2==i.Status||1==i.Status||3==i.Status?(i.PointStatus=i.Status,this.FinishChartDrawPicturePoint()?this.DrawDynamicInfo():e=!1):20==i.Status&&this.FinishMoveChartDrawPicture()&&this.DrawDynamicInfo()}if(this.EnableZoomIndexWindow){var a=Date.now();this.PhoneDBClick.AddTouchEnd(a),this.PhoneDBClick.IsVaildDBClick()&&(this.OnTouchDBClick(this.PhoneDBClick.Start),this.PhoneDBClick.Clear())}this.IsOnTouch=!1,!0===e&&(this.CurrentChartDrawPicture=null),this.StopDragTimer(),this.TouchEvent({EventID:b.ON_PHONE_TOUCH,FunctionName:"OnTouchEnd"},t),this.OnTouchFinished(),this.TouchDrawCount=0}},this.OnTouchDBClick=function(t){var e=this.PointAbsoluteToRelative(t[0].X,t[0].Y,!0),i=e.X,a=e.Y;g.Chart.Log("[KLineChartContainer:OnTouchDBClick] Phone dbclick absolute ["+i+","+a+"], soruce ["+t[0].X+","+t[0].Y+"]");var n=this.Frame.PtInFrame(i,a);if(g.Chart.Log("[KLineChartContainer::OnTouchDBClick] frameId",n),n>=this.Frame.ZoomStartWindowIndex&&this.ZoomIndexWindow(n,{X:i,Y:a}))return this.Frame.SetSizeChage(!0),this.Draw(),!0},this.TouchEvent=function(t,e){var i=t.EventID,a=this.GetEventCallback(i);if(!a||!a.Callback)return!1;var n=this.PhoneTouchInfo;if(!n||!n.Start||!n.End)return!1;var r=L(),o=n.End.X/r,s=n.End.Y/r,l=n.End.X-this.UIElement.getBoundingClientRect().left*r,h=n.End.Y-this.UIElement.getBoundingClientRect().top*r,u={X:o,Y:s,FrameID:-1,FunctionName:t.FunctionName,Drag:{Start:{X:n.Start.X/r,Y:n.Start.Y/r},End:{X:n.End.X/r,Y:n.End.Y/r}}};if(this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),this.Canvas.isPointInPath(l,h))if(this.Frame&&this.Frame.IsHScreen){var c={},d=this.Frame.GetYData(l,c);if(Ce.IsNumber(c.FrameID)&&c.FrameID>=0){var f=this.Frame.GetXData(h);u.FrameID=c.FrameID,u.Data={X:f,Y:d}}}else{c={},d=this.Frame.GetYData(h,c);if(Ce.IsNumber(c.FrameID)&&c.FrameID>=0){f=this.Frame.GetXData(l);u.FrameID=c.FrameID,u.Data={X:f,Y:d}}}return a.Callback(a,u,this),!0},this.MoveCorssCursor=function(t,e){var i=L(),a=t.X-this.UIElement.getBoundingClientRect().left*i,n=t.Y-this.UIElement.getBoundingClientRect().top*i;this.DragMode==M.CLICK_TOUCH_MODE_ID&&(this.TouchStatus.CorssCursorShow=!0),this.OnMouseMove(a,n,e,!0)},this.DrawEmpty=function(){this.UIElement.width<=0||this.UIElement.height<=0||(this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height),this.Frame&&(this.Frame.ScreenImageData=null,this.Frame.Draw()))},this.PtInChart=function(t,e){for(var i=null,a=0;a<this.ChartPaint.length;++a){if((n=this.ChartPaint[a]).PtInChart&&(i=n.PtInChart(t,e)))return i}for(a=0;a<this.OverlayChartPaint.length;++a){var n;if((n=this.OverlayChartPaint[a]).PtInChart&&(i=n.PtInChart(t,e)))return i}return this.Frame.PtInOveralyChart&&(i=this.Frame.PtInOveralyChart(t,e))?i:null},this.DrawSelectedStatus=function(){if(this.SelectedChart.MoveOn.Identify||this.SelectedChart.Selected.Identify){for(var t=0;t<this.ChartPaint.length;++t){(e=this.ChartPaint[t]).Identify&&(e.Identify!=this.SelectedChart.MoveOn.Identify&&e.Identify!=this.SelectedChart.Selected.Identify||e.DrawSelectedStatus&&e.DrawSelectedStatus())}for(t=0;t<this.OverlayChartPaint.length;++t){(e=this.OverlayChartPaint[t]).Identify&&(e.Identify!=this.SelectedChart.MoveOn.Identify&&e.Identify!=this.SelectedChart.Selected.Identify||e.DrawSelectedStatus&&e.DrawSelectedStatus())}for(t=0;t<this.OverlayChartPaint.length;++t){var e;(e=this.OverlayChartPaint[t]).Identify&&(e.Identify!=this.SelectedChart.MoveOn.Identify&&e.Identify!=this.SelectedChart.Selected.Identify||e.DrawSelectedStatus&&e.DrawSelectedStatus())}this.Frame.DrawOveralySelectedStatus&&this.Frame.DrawOveralySelectedStatus(this.SelectedChart)}},this.Draw=function(){var t=this;if(this.ChartCorssCursor&&(this.ChartCorssCursor.Status=0),!(this.UIElement.width<=0||this.UIElement.height<=0)){this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height);var e=L();if(this.Canvas.lineWidth=e,this.ChartSplashPaint&&this.ChartSplashPaint.IsEnableSplash)return this.Frame.ClearCoordinateText(),this.Frame.Draw({IsEnableSplash:this.ChartSplashPaint.IsEnableSplash}),void this.ChartSplashPaint.Draw();if(this.Frame.SetBeforeDrawXYCallback&&this.Frame.SetBeforeDrawXYCallback(function(e){t.BeforeDrawXYCoordinate(e)}),this.Frame.Draw(),this.Frame.DrawCustomVertical){var i=this.GetEventCallback(b.ON_CUSTOM_VERTICAL_DRAW);this.Frame.DrawCustomVertical(i)}this.Frame.CalculateLock();for(var a=0;a<this.ChartDrawPicture.length;++a){(l=this.ChartDrawPicture[a]).IsDrawMain&&(l.IsDrawMain()&&l.MainDraw())}for(a=0;a<this.ChartPaint.length;++a){(l=this.ChartPaint[a]).IsDrawFirst&&l.Draw()}this.Frame.DrawOveraly&&this.Frame.DrawOveraly(!0);for(a=0;a<this.ChartPaint.length;++a){(l=this.ChartPaint[a]).IsDrawFirst||l.Draw()}for(a=0;a<this.ChartPaintEx.length;++a){(l=this.ChartPaintEx[a]).Draw()}for(a=0;a<this.OverlayChartPaint.length;++a){(l=this.OverlayChartPaint[a]).Draw()}this.Frame.DrawOveraly&&this.Frame.DrawOveraly(!1);for(a=0;a<this.ExtendChartPaint.length;++a){(l=this.ExtendChartPaint[a]).IsCallbackDraw||(l.IsDynamic||0!=l.IsAnimation||l.Draw())}this.Frame.DrawInsideHorizontal&&this.Frame.DrawInsideHorizontal(),this.KLineIncreaseCustomHorizontal(),this.Frame.DrawCustomHorizontal&&this.Frame.DrawCustomHorizontal(),this.Frame.DrawEx&&this.Frame.DrawEx({Symbol:this.Symbol}),this.ChartInfoPaint&&this.ChartInfoPaint.Draw(),this.Frame.DrawLock(),this.Frame.DrawLogo(),this.Frame.Snapshot(),this.Frame.DrawToolbar&&this.Frame.DrawToolbar(this.LastMouseStatus),this.DrawSelectedStatus();var n=null;this.LastMouseStatus&&this.LastMouseStatus.MoveOnPoint&&(n=this.LastMouseStatus.MoveOnPoint);for(a=0;a<this.ExtendChartPaint.length;++a){(l=this.ExtendChartPaint[a]).IsCallbackDraw||l.IsDynamic&&!1===l.DrawAfterTitle&&(l.Draw(),l.DrawToolbar&&l.DrawToolbar(n))}for(a=0;a<this.ChartDrawPicture.length;++a){(l=this.ChartDrawPicture[a]).IsDrawFirst&&l.Draw()}this.IsDrawPictureXY&&(this.CurrentChartDrawPicture?this.Frame.DrawPictureCoordinate(this.CurrentChartDrawPicture,{Symbol:this.Symbol,Period:this.Period}):this.SelectChartDrawPicture&&this.Frame.DrawPictureCoordinate(this.SelectChartDrawPicture,{Symbol:this.Symbol,Period:this.Period})),null==this.LastPoint.X&&null==this.LastPoint.Y||this.ChartCorssCursor&&(this.ChartCorssCursor.LastPoint=this.LastPoint,this.ChartCorssCursor.CursorIndex=this.CursorIndex,this.DragMode==M.CLICK_TOUCH_MODE_ID?1==this.TouchStatus.CorssCursorShow&&this.ChartCorssCursor.Draw():!0===this.CorssCursorTouchEnd&&this.MouseDrag||1==this.CorssCursorTouchEnd&&0==this.IsOnTouch||this.ChartCorssCursor.Draw());var r=this.GetDrawStatus();r.DrawName="Draw";var o=this.GetEventCallback(b.ON_TITLE_DRAW),s=this.GetEventCallback(b.ON_INDEXTITLE_DRAW);for(a=0;a<this.TitlePaint.length;++a){(l=this.TitlePaint[a]).IsDynamic&&(l.CursorIndex=this.CursorIndex,l.LastPoint=this.LastPoint,"DynamicChartTitlePainting"==l.ClassName?l.OnDrawEvent=s:l.OnDrawEvent=o,l.OnDrawEvent&&(l.OnDrawEvent.FunctionName="Draw",l.OnDrawEvent.PointPosition=null),l.DrawStatus=r,l.Draw())}for(a=0;a<this.ExtendChartPaint.length;++a){(l=this.ExtendChartPaint[a]).IsCallbackDraw||l.IsDynamic&&!0===l.DrawAfterTitle&&0==l.IsAnimation&&l.Draw()}if(this.EnableAnimation)for(a=0;a<this.ExtendChartPaint.length;++a){!0===(l=this.ExtendChartPaint[a]).IsAnimation&&l.Draw()}for(a=0;a<this.ChartDrawPicture.length;++a){var l;(l=this.ChartDrawPicture[a]).IsDrawFirst||(l.IsDrawMain&&l.IsDrawMain()||l.Draw())}if(this.CurrentChartDrawPicture&&10!=this.CurrentChartDrawPicture.Status&&this.CurrentChartDrawPicture.Draw(),this.OffscreenToShowCanvas(),this.mapEvent.has(b.CHART_STATUS)){var h=this.mapEvent.get(b.CHART_STATUS),u={};"function"==typeof this.GetChartStatus&&(u=this.GetChartStatus()),h.Callback(h,u,this)}++this.TouchDrawCount}},this.BeforeDrawXYCoordinate=function(t){for(var e=0;e<this.ExtendChartPaint.length;++e){var i=this.ExtendChartPaint[e];i.IsCallbackDraw&&"DepthMapPaint"==i.ClassName&&i.FrameID==t.Identify&&i.Draw()}},this.KLineIncreaseCustomHorizontal=function(){if(this.Frame&&this.Frame.SubFrame){var t=this.Frame.SubFrame[0].Frame;if(t){var e=Ni(this.Symbol),i=!1;t.YSplitOperator&&1==t.YSplitOperator.CoordinateType&&(i=!0);for(var a=!1,n=0;n<t.CustomHorizontalInfo.length;++n){if(4==(c=t.CustomHorizontalInfo[n]).Type&&(a=!0),i&&3==c.Type||2==c.Type){if(!(l=this.ChartPaint[0]))continue;if(!(h=l.Data)||!Ce.IsNonEmptyArray(h.Data))continue;if(!Ce.IsNumber(l.DrawKRange.Start)||!Ce.IsNumber(l.DrawKRange.End))continue;var r=h.Data[l.DrawKRange.Start],o=((u=h.Data[l.DrawKRange.End]).Close-r.Close)/r.Close;c.Value=u.Close,2==c.Type?(c.Message[1]=u.Close.toFixed(e),u.Close>u.Open?c.LineColor=Qe.FrameLatestPrice.UpBarColor:u.Close<u.Open?c.LineColor=Qe.FrameLatestPrice.DownBarColor:c.LineColor=Qe.FrameLatestPrice.UnchagneBarColor):c.Message[1]=o.toFixed(2)+"%",this.Name&&(c.Title=this.Name)}}if(a){var s=t.CustomHorizontalInfo.filter(function(t,e,i){return 4!=t.Type});t.CustomHorizontalInfo=s}for(n=0;n<this.OverlayChartPaint.length;++n){var l,h;if(l=this.OverlayChartPaint[n])if(4==l.YInfoType)if((h=l.Data)&&Ce.IsNonEmptyArray(h.Data)&&Ce.IsNumber(l.DrawKRange.Start)&&Ce.IsNumber(l.DrawKRange.End)){var u,c;r=h.Data[l.DrawKRange.Start],o=((u=h.Data[l.DrawKRange.End]).Close-r.Close)/r.Close*100;(c=new Y).Value=u.Close/l.ShowRange.FirstOverlayOpen*l.ShowRange.FirstOpen,c.Message[1]=o.toFixed(2)+"%",c.LineType=-1,c.Type=l.YInfoType,c.LineColor=l.Color,c.TextColor=Qe.FrameLatestPrice.OverlayTextColor,l.Title&&(c.Title=l.Title),t.CustomHorizontalInfo.push(c)}}}}},this.OffscreenToShowCanvas=function(){this.ShowCanvas&&(this.ShowCanvas.clearRect(0,0,this.UIElement.width,this.UIElement.height),this.ShowCanvas.drawImage(this.OffscreenCanvasElement,0,0))},this.GetDrawStatus=function(){var t={Point:{X:this.LastPoint.X,Y:this.LastPoint.Y},IsOnTouch:this.IsOnTouch,CorssCursorTouchEnd:this.CorssCursorTouchEnd,IsTitleShowLatestData:this.IsTitleShowLatestData,IsMinuteChart:"MinuteChartContainer"==this.ClassName||"MinuteChartHScreenContainer"==this.ClassName};return t.FrameID=this.Frame.PtInFrame(this.LastPoint.X,this.LastPoint.Y),t},this.DrawDynamicInfo=function(t){if(this.LastMouseStatus.MouseOnToolbar=null,null!=this.Frame.ScreenImageData){var e=!1;if(this.ChartCorssCursor&&(null==this.ChartCorssCursor.PointX&&null==this.ChartCorssCursor.PointY||(e=!0)),0==(e=!0))for(var i=0;i<this.ExtendChartPaint.length;++i){if(!(o=this.ExtendChartPaint[i]).IsCallbackDraw&&(o.IsDynamic&&o.IsEraseBG)){e=!0;break}}e&&this.Canvas.putImageData(this.Frame.ScreenImageData,0,0),this.Frame.DrawToolbar&&this.Frame.DrawToolbar(this.LastMouseStatus),this.DrawSelectedStatus();var a=null;this.LastMouseStatus&&this.LastMouseStatus.MoveOnPoint&&(a=this.LastMouseStatus.MoveOnPoint);for(i=0;i<this.ExtendChartPaint.length;++i){(o=this.ExtendChartPaint[i]).IsCallbackDraw||o.IsDynamic&&!1===o.DrawAfterTitle&&0==o.IsAnimation&&(o.Draw(),o.DrawToolbar&&o.DrawToolbar(a,this.LastMouseStatus))}for(i=0;i<this.ChartDrawPicture.length;++i){(o=this.ChartDrawPicture[i]).IsDrawFirst&&o.Draw()}this.IsDrawPictureXY&&(this.CurrentChartDrawPicture?this.Frame.DrawPictureCoordinate(this.CurrentChartDrawPicture,{Symbol:this.Symbol,Period:this.Period}):this.SelectChartDrawPicture&&this.Frame.DrawPictureCoordinate(this.SelectChartDrawPicture,{Symbol:this.Symbol,Period:this.Period})),this.ChartCorssCursor&&(this.ChartCorssCursor.LastPoint=this.LastPoint,this.ChartCorssCursor.CursorIndex=this.CursorIndex,t&&0==t.Corss||(this.DragMode==M.CLICK_TOUCH_MODE_ID?1==this.TouchStatus.CorssCursorShow&&this.ChartCorssCursor.Draw():!1===this.IsOnTouch&&!0===this.CorssCursorTouchEnd||this.CurrentChartDrawPicture?!0===this.IsOnTouch&&this.CurrentChartDrawPicture&&this.EnableShowCorssCursor&&1==this.EnableShowCorssCursor.DrawPicture&&this.ChartCorssCursor.Draw():this.ChartCorssCursor.Draw()));var n=null;t&&"OnMouseMove"==t.ParentFunction&&t.Point&&(n=this.Frame.PtInFrame(t.Point.X,t.Point.Y));var r=this.GetDrawStatus();r.DrawName="DrawDynamicInfo";for(i=0;i<this.TitlePaint.length;++i){(o=this.TitlePaint[i]).IsDynamic&&(o.CursorIndex=this.CursorIndex,o.LastPoint=this.LastPoint,o.OnDrawEvent&&(o.OnDrawEvent.FunctionName="DrawDynamicInfo",o.OnDrawEvent.PointPosition=n),o.DrawStatus=r,"DynamicMinuteTitlePainting"==o.ClassName&&(t&&Ce.IsNumber(t.ClientPos)&&t.Point?o.PointInfo={ClientPos:t.ClientPos,Point:{X:t.Point.X,Y:t.Point.Y}}:o.PointInfo=null),o.Draw())}for(i=0;i<this.ExtendChartPaint.length;++i){if(!(o=this.ExtendChartPaint[i]).IsCallbackDraw){if("KLineTooltipPaint"==o.ClassName&&t){if(0==t.Tooltip)continue;t.Point&&(o.LatestPoint=t.Point)}else"MinuteTooltipPaint"==o.ClassName&&t&&t.Point&&(o.LatestPoint=t.Point);o.IsDynamic&&!0===o.DrawAfterTitle&&o.Draw()}}if(this.EnableAnimation)for(i=0;i<this.ExtendChartPaint.length;++i){!0===(o=this.ExtendChartPaint[i]).IsAnimation&&o.Draw()}for(i=0;i<this.ChartDrawPicture.length;++i){var o;(o=this.ChartDrawPicture[i]).IsDrawFirst||(o.IsDrawMain&&o.IsDrawMain()||o.Draw())}if(this.CurrentChartDrawPicture&&10!=this.CurrentChartDrawPicture.Status&&this.CurrentChartDrawPicture.Draw(),this.LastMouseStatus.MouseOnToolbar){var s=this.LastMouseStatus.MouseOnToolbar.Frame;s&&s.DrawToolbarTooltip&&s.DrawToolbarTooltip(this.LastMouseStatus.MouseOnToolbar)}this.OffscreenToShowCanvas(),++this.TouchDrawCount}},this.DrawAnimation=function(){if(this.EnableAnimation){if(this.Frame.ScreenImageData&&!this.IsOnTouch){for(var t=0;t<this.ExtendChartPaint.length;++t){var e=this.ExtendChartPaint[t];!0===e.IsAnimation&&(e.IsMoveStep=!0)}this.DrawDynamicInfo()}var i=this;window.requestAnimationFrame(function(){i.DrawAnimation()})}},this.StartAnimation=function(t){for(var e=!1,i=null,a=0;a<this.ExtendChartPaint.length;++a){var n=this.ExtendChartPaint[a];if("BarragePaint"===n.ClassName){e=!0,i=n.BarrageList;break}}if(!e){var r=new function(){this.newMethod=de,this.newMethod(),delete this.newMethod,this.ClassName="BarragePaint",this.IsAnimation=!0,this.IsEraseBG=!0,this.HQChart,this.Font=Qe.Barrage.Font,this.TextColor=Qe.Barrage.Color,this.FontHeight=Qe.Barrage.Height,this.BarrageList=new function(){this.PlayList=[],this.Cache=[],this.MinLineHeight=40*L(),this.Height,this.Step=1,this.GetPlayList=function(t){for(var e=t.Canves,i=t.Right,a=t.Left,n=i-a,r=t.IsMoveStep,o=[],s=0,l=0;l<this.PlayList.length;++l){var h=this.PlayList[l],u=this.MinLineHeight;h.Height>this.MinLineHeight&&(u=h.Height);for(var c=!0,d=!1,f=0;f<h.Data.length;++f){var p=h.Data[f],m={X:p.X,Y:s,Text:p.Text,Color:p.Color,Height:u,Font:p.Font,Info:p.Info};o.push(m),r&&(f==h.Data.length-1&&this.Cache.length>0?(c=!1,p.TextWidth||(p.Font&&p.Font.Name?e.font=p.Font.Name:e.font=t.Font,p.TextWidth=e.measureText(m.Text+"擎擎").width),p.X>=p.TextWidth&&(c=!0)):0==f&&(d=!1,p.TextWidth||(p.Font&&p.Font.Name?e.font=p.Font.Name:e.font=t.Font,p.TextWidth=e.measureText(m.Text+"擎擎").width),p.X>n+p.TextWidth&&(d=!0)),p.X+=this.Step)}if(r&&c&&this.Cache.length>0){var v=this.Cache.shift(),g={X:0,Text:v.Text,Color:v.Color,Font:v.Font,Info:v.Info};h.Data.push(g)}if(r&&d&&h.Data.length>0){var C=h.Data.shift();this.OnItemPlayEnd(t.HQChart,C)}s+=u}return o},this.CacluatePlayLine=function(t){this.Height=t;var e=parseInt(t/this.MinLineHeight);if(this.PlayList.length<e)for(var i=e-this.PlayList.length,a=0;a<i;++a)this.PlayList.push({Data:[]});else if(this.PlayList.length>e)for(var n=this.PlayList.length-e,a=0;a<n;++a)for(var r=this.PlayList.pop(),o=0;o<r.Data.length;++o){var s=r.Data[o],l={Text:s.Text,Color:s.Color,Font:s.Font,Info:s.Info};this.Cache.unshift(l)}g.Chart.Log("[BarrageList::CacluatePlayLine] LineCount="+this.PlayList.length+" Height="+this.Height)},this.AddBarrage=function(t){for(var e in t){var i=t[e];this.Cache.push(i)}},this.OnItemPlayEnd=function(t,e){if(t.mapEvent.has(b.BARRAGE_PLAY_END)){var i=t.mapEvent.get(b.BARRAGE_PLAY_END);i.Callback&&i.Callback(i,e,this)}},this.Count=function(){return this.Cache.length}},this.IsMoveStep=!1,this.SetOption=function(t){t&&(t.Step>0&&(this.BarrageList.Step=t.Step),t.MinLineHeight&&(this.Barrage.MinLineHeight=t.MinLineHeight))},this.DrawHScreen=function(){var t=this.ChartBorder.GetWidth(),e=this.ChartBorder.GetTop(),i=this.ChartBorder.GetBottom(),a=this.ChartBorder.GetRightEx();this.ChartBorder.GetChartWidth();t!=this.BarrageList.Height&&this.BarrageList.CacluatePlayLine(t),this.Canvas.textBaseline="middle",this.Canvas.textAlign="left";var n=this.BarrageList.GetPlayList({Canves:this.Canvas,Right:i,Left:e,Font:this.Font,IsMoveStep:this.IsMoveStep,HQChart:this.HQChart});if(this.IsMoveStep=!1,n){this.Canvas.save(),this.Canvas.translate(this.ChartBorder.GetChartHeight(),0),this.Canvas.rotate(90*Math.PI/180);for(var r=0;r<n.length;++r){var o=n[r];o.Color?this.Canvas.fillStyle=o.Color:this.Canvas.fillStyle=this.TextColor,o.Font?this.Canvas.font=o.Font.Name:this.Canvas.font=this.Font;var s=this.FontHeight;o.Font&&o.Font.Height>0&&(s=o.Font.Height);var l=o.Y+parseInt((o.Height-s)/2);this.Canvas.fillText(o.Text,i-o.X,a+l)}this.Canvas.restore()}},this.Draw=function(){if(this.ChartFrame.IsHScreen)this.DrawHScreen();else{var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),i=this.ChartBorder.GetTopEx(),a=this.ChartBorder.GetHeight();a!=this.BarrageList.Height&&this.BarrageList.CacluatePlayLine(a),this.Canvas.textBaseline="middle",this.Canvas.textAlign="left";var n=this.BarrageList.GetPlayList({Canves:this.Canvas,Right:e,Left:t,Font:this.Font,IsMoveStep:this.IsMoveStep,HQChart:this.HQChart});if(this.IsMoveStep=!1,n)for(var r=0;r<n.length;++r){var o=n[r];o.Color?this.Canvas.fillStyle=o.Color:this.Canvas.fillStyle=this.TextColor,o.Font?this.Canvas.font=o.Font.Name:this.Canvas.font=this.Font;var s=this.FontHeight;o.Font&&o.Font.Height>0&&(s=o.Font.Height);var l=o.Y+parseInt((o.Height-s)/2);this.Canvas.fillText(o.Text,e-o.X,i+l)}}}};r.Canvas=this.Canvas,r.ChartBorder=this.Frame.ChartBorder,r.ChartFrame=this.Frame,r.HQChart=this,r.SetOption(t),this.ExtendChartPaint.push(r),i=r.BarrageList}this.EnableAnimation=!0;var o=this;return window.requestAnimationFrame(function(){o.DrawAnimation()}),i},this.StopAnimation=function(){this.EnableAnimation=!1,this.DrawDynamicInfo()},this.GetChartTooltipData=function(t,e,i){var a=new St;if(this.ChartInfoPaint&&this.ChartInfoPaint.GetTooltipData(t,e,a))return a;if(this.PtInChartPaintTooltip(t,e,a))return a;if(Ce.IsNonEmptyArray(this.Frame.SubFrame))for(var n=0;n<this.Frame.SubFrame.length;++n)for(var r=this.Frame.SubFrame[n],o=0;o<r.OverlayIndex.length;++o)for(var s=r.OverlayIndex[o],l=0;l<s.ChartPaint.length;++l){if(s.ChartPaint[l].GetTooltipData(t,e,a))return a}return this.PtInOverlayChartPaintTooltip(t,e,a)?a:null},this.PtInExtendChartButtons=function(t,e){for(var i=0;i<this.ExtendChartPaint.length;++i){var a=this.ExtendChartPaint[i];if(a.PtInButtons){var n=a.PtInButtons(t,e);if(n)return n.Chart=a,n}}return null},this.OnMouseMove=function(t,e,i,a){this.LastPoint.X=t,this.LastPoint.Y=e;var n=null,r=this.Frame.PtInFrame(t,e);if(Ce.IsNumber(r)&&r>=0&&(this.CursorIndex=this.Frame.GetXData(t)),this.EnableBorderDrag&&this.Frame&&!this.CurrentChartDrawPicture){var o=this.Frame.PtInFrameBorder(t,e);o&&o.Index>=0&&(n={Cursor:"n-resize",Name:"DragBorder"},g.Chart.Log("[JSChartContainer::OnMouseMove] drag border ",o))}if(this.EnableYDrag&&this.Frame&&!this.CurrentChartDrawPicture){var s=this.TryYDrag(t,e);s&&(n={Cursor:0==s.Position?"n-resize":"row-resize",Name:"DragY"},g.Chart.Log("[JSChartContainer::OnMouseMove] drag y ",s))}if(!this.CurrentChartDrawPicture){var l=this.Frame.PtInButtons(t,e);l?(n={Cursor:"pointer",Name:"FrameButton"},g.Chart.Log("[JSChartContainer::OnMouseMove] frame button ",l)):(l=this.PtInExtendChartButtons(t,e))&&(n={Cursor:"pointer",Name:"ExtendChartButton"},g.Chart.Log("[JSChartContainer::OnMouseMove] extend chart button ",l))}if(this.ChartCorssCursor){var h=this.ChartCorssCursor.PtInButton(t,e);h&&(n={Cursor:"pointer",Name:"CorssCursorButton"},g.Chart.Log("[JSChartContainer::OnMouseMove] cross cursor button ",h))}if("KLineChartContainer"==this.ClassName&&this.Frame.PtInFrameBottom(t,e)&&(n={Cursor:"ew-resize",Name:"FrameButtom"},g.Chart.Log("[JSChartContainer::OnMouseMove] frame bottom ")),this.SelectedChart.EnableMoveOn&&this.PtInChart&&!this.CurrentChartDrawPicture){var u=this.PtInChart(t,e);u&&u.Identify?(n={Cursor:"pointer",Name:"PtInChart"},this.SelectedChart.MoveOn.Identify=u.Identify,this.SelectedChart.MoveOn.Identify=null,g.Chart.Log("[JSChartContainer::OnMouseMove] Point in chart ",u)):this.SelectedChart.MoveOn.Identify=null}else this.SelectedChart.MoveOn.Identify=null;var c=this.GetRectSelectPaint();if(c&&c.GetPointCount()>0){var d=c.PtInPaint(t,e);d&&(n=4==d.Type?{Cursor:"pointer",Name:"DragRectSelect"}:{Cursor:"ew-resize",Name:"DragRectSelect"},g.Chart.Log("[JSChartContainer::OnMouseMove] drag rect select ",d))}var f=!1;if(this.CurrentChartDrawPicture){var p=this.Frame.PtInChartFrame(t,e);20!=this.CurrentChartDrawPicture.Status&&(n=p>=0?{Cursor:"crosshair",Name:"CurrentChartDrawPicture"}:{Cursor:"not-allowed",Name:"CurrentChartDrawPicture"}),this.CurrentChartDrawPicture.SetLastPoint&&this.CurrentChartDrawPicture.SetLastPoint({X:t,Y:e}),f=!0}else{var m={};m.X=t,m.Y=e,this.GetChartDrawPictureByPoint(m)&&m.ChartDrawPicture&&1==m.ChartDrawPicture.EnableMove?(100===m.PointIndex?this.UIElement.style.cursor="move":this.UIElement.style.cursor="pointer",f=!0,this.MoveOnChartDrawPicture=m.ChartDrawPicture):this.MouseDrag||(this.UIElement.style.cursor="default")}var v={ParentFunction:"OnMouseMove",Point:{X:t,Y:e},IsPhone:!0===a,ClientPos:this.PtInClient(t,e)};if((i&&("mouseout"==i.type||"mouseleave"==i.type)||l)&&(v.Corss=!1),this.SetCorssCursorIndex&&this.SetCorssCursorIndex(v),this.DrawDynamicInfo(v),n&&(this.UIElement.style.cursor=n.Cursor),this.IsShowTooltip&&0==f){var C=this.GetChartTooltipData(t,e);if(C&&C.Data){if(!0===a)var D=i.touches[0],y=D.clientX-this.UIElement.getBoundingClientRect().left,x=D.clientY-this.UIElement.getBoundingClientRect().top;else y=i.clientX-this.UIElement.getBoundingClientRect().left,x=i.clientY-this.UIElement.getBoundingClientRect().top;this.ShowTooltip(y,x,C)}else this.HideTooltip()}},this.OnKeyDown=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var e=t.keyCode?t.keyCode:t.which;switch(e){case 37:if(t.ctrlKey&&this.OnCustomKeyDown&&this.OnCustomKeyDown(e,t))break;if(this.CursorIndex<=.99999){if(!this.DataMoveLeft()){this.DragDownloadData&&this.DragDownloadData();break}this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.OnKLinePageChange("keydown")}else--this.CursorIndex,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo(),this.ShowTooltipByKeyDown();break;case 39:if(t.ctrlKey&&this.OnCustomKeyDown&&this.OnCustomKeyDown(e,t))break;var i=0;if(i=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount,this.CursorIndex+1>=i){if(!this.DataMoveRight())break;this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.OnKLinePageChange("keydown")}else{var a=null;if(!(a=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data))break;if(this.CursorIndex+a.DataOffset+1>=a.Data.length)break;++this.CursorIndex,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo(),this.ShowTooltipByKeyDown()}break;case 38:if(this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Keyboard)break;if((n={ZoomType:this.ZoomType,IsLockRight:this.IsZoomLockRight}).Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomUp(n))break;this.CursorIndex=n.Index,this.UpdatePointByCursorIndex(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.OnKLinePageChange("keydown");break;case 40:if(this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Keyboard)break;var n;if((n={ZoomType:this.ZoomType,IsLockRight:this.IsZoomLockRight}).Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomDown(n))break;this.CursorIndex=n.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.OnKLinePageChange("keydown");break;case 46:if(this.SelectChartDrawPicture){var r=this.SelectChartDrawPicture;g.Chart.Log("[JSChartContainer::OnKeyDown] delete draw picture."),this.SelectChartDrawPicture=null,this.ChartPictureMenu&&this.ChartPictureMenu.Hide(),this.ClearChartDrawPicture(r)}else if(this.SelectedChart&&this.SelectedChart.Selected.Identify){var o=this.GetSelectedChartInfo(this.SelectedChart.Selected);o&&(o.Type==ge.OVERLAY_INDEX?this.DeleteOverlayWindowsIndex(o.IndexID):o.Type==ge.OVERLAY_KLINE&&this.DeleteOverlaySymbol(o.Symbol))}break;case 32:this.OnMarkRectSelect(t);break;case 27:if(this.CurrentChartDrawPicture)20!=(r=this.CurrentChartDrawPicture).Status&&(this.CurrentChartDrawPicture=null);break;default:return}t.preventDefault?t.preventDefault():t.returnValue=!1}},this.OnDoubleClick=function(t,e,i){},this.ZoomIndexWindow=function(t,e){return!(t<0||t>=this.Frame.SubFrame.length)&&this.Frame.ZoomIndexWindow(t,e)},this.ShowIndexTitleOnly=function(t,e){return!(t<0||t>=this.Frame.SubFrame.length)&&this.Frame.ShowIndexTitleOnly(t,e)},this.RemoveMinSizeWindows=function(){if(this.Frame.ZoomWindowsInfo){for(var t=[],e=[],i=0;i<this.Frame.SubFrame.length;++i){(s=this.Frame.SubFrame[i]).Frame.ClearToolbar(),s.Frame.IsMinSize?t.push(i):e.push(i)}if(this.Frame.ZoomWindowsInfo=null,!(t.length<=0)){for(i=0;i<t.length;++i)this.DeleteIndexPaint(t[i]);var a=[],n=[],r=[this.TitlePaint[0]];for(i=0;i<e.length;++i){var o=e[i];a[i]=this.Frame.SubFrame[o],n[i]=this.WindowIndex[o],r[i+1]=this.TitlePaint[o+1]}this.Frame.SubFrame=a,this.WindowIndex=n,this.TitlePaint=r;for(i=0;i<this.Frame.SubFrame.length;++i){var s=this.Frame.SubFrame[i].Frame;i==this.Frame.SubFrame.length-1?s.XSplitOperator.ShowText=!0:s.XSplitOperator.ShowText=!1,s.Identify=i}if(Ce.IsNonEmptyArray(this.ChartDrawPicture)){var l=[];for(i=0;i<this.ChartDrawPicture.length;++i){s=this.ChartDrawPicture[i];for(var h=0;h<this.Frame.SubFrame.length;++h)if(s.Frame==this.Frame.SubFrame[h].Frame){l.push(s);break}}this.ChartDrawPicture=l}}}},this.PtInClient=function(t,e){if(this.Canvas.beginPath(),!0===this.Frame.IsHScreen){var i=this.Frame.ChartBorder.GetHScreenBorder();this.Canvas.rect(i.Left,i.TopEx,i.Right-i.Left,i.BottomEx-i.TopEx)}else{if((i=this.Frame.ChartBorder.GetBorder()).DayBorder){for(var a=0;a<i.DayBorder.length;++a){var n=i.DayBorder[a];if(this.Canvas.beginPath(),this.Canvas.rect(n.LeftEx,i.TopEx,n.RightEx-n.LeftEx,i.BottomEx-i.TopEx),this.Canvas.isPointInPath(t,e))return 1;if(this.Canvas.beginPath(),this.Canvas.rect(n.Left,i.TopEx,n.LeftEx-n.Left,i.BottomEx-i.TopEx),this.Canvas.isPointInPath(t,e))return 200+parseInt(a);if(this.Canvas.beginPath(),this.Canvas.rect(n.RightEx,i.TopEx,n.Right-n.RightEx,i.BottomEx-i.TopEx),this.Canvas.isPointInPath(t,e))return 300+parseInt(a)}return-1}this.Canvas.rect(i.LeftEx,i.Top,i.RightEx-i.LeftEx,i.Bottom-i.Top)}return this.Canvas.isPointInPath(t,e)?1:this.Frame.ChartBorder.LeftExtendWidth>10&&(this.Canvas.beginPath(),!0===this.Frame.IsHScreen?this.Canvas.rect(i.Left,i.Top,i.Right-i.Left,i.TopEx-i.Top):this.Canvas.rect(i.Left,i.Top,i.LeftEx-i.Left,i.Bottom-i.Top),this.Canvas.isPointInPath(t,e))?2:this.Frame.ChartBorder.RightExtendWidth>10&&(this.Canvas.beginPath(),!0===this.Frame.IsHScreen?this.Canvas.rect(i.Left,i.BottomEx,i.Right-i.Left,i.Bottom-i.BottomEx):this.Canvas.rect(i.RightEx,i.Top,i.Right-i.RightEx,i.Bottom-i.Top),this.Canvas.isPointInPath(t,e))?3:-1},this.OnMoveFromeBorder=function(t,e){this.Frame&&this.Frame.OnMoveFromeBorder(t,e)&&(this.Frame.SetFrameBorderSizeChange(),this.Frame.ReDrawToolbar(),this.Draw())},this.OnZoomUpDownFrameY=function(t,e){this.Frame&&this.Frame.OnZoomUpDownFrameY(t,e)&&(this.Frame.SetSizeChage(!0),this.Draw())},this.OnUpDonwFrameY=function(t,e){return!!this.Frame&&(!!this.Frame.OnUpDonwFrameY(t,e)&&(this.Frame.SetSizeChage(!0),!0))},this.CancelZoomUpDownFrameY=function(t){this.Frame&&this.Frame.CancelZoomUpDownFrameY(t)&&(this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw())},this.IsKLineContainer=function(){return"KLineChartContainer"==this.ClassName||"KLineChartHScreenContainer"==this.ClassName||"KLineTrainChartContainer"==this.ClassName||"CustomKLineChartContainer"==this.ClassName},this.UpdatePointByCursorIndex=function(t){var e={X:null,Y:null};e.X=this.Frame.GetXFromIndex(this.CursorIndex);var i=Math.abs(this.CursorIndex-.5);this.IsKLineContainer()&&(i=this.CursorIndex);var a=this.Frame.Data;if(a.DataOffset+i<a.Data.length){var n=a.Data[a.DataOffset+i].Close;e.Y=this.Frame.GetYFromData(n)}if(1==t&&this.ChartCorssCursor)if(1==this.ChartCorssCursor.Status);else{this.LastPoint.X=this.Frame.GetXFromIndex(this.CursorIndex);i=Math.abs(this.CursorIndex-.5);i=parseInt(i.toFixed(0)),this.IsKLineContainer()&&(i=this.CursorIndex),this.LastPoint.Y=null}else 2==t&&this.ChartCorssCursor?(this.LastPoint.Y=null,this.LastPoint.X=null):(this.LastPoint.X=e.X,this.LastPoint.Y=e.Y)},this.ShowTooltipByKeyDown=function(){var t=Math.abs(this.CursorIndex-.5);t=parseInt(t.toFixed(0)),"KLineChartContainer"!=this.ClassName&&"KLineTrainChartContainer"!=this.ClassName||(t=this.CursorIndex);var e=this.Frame.Data,i=new St;i.Data=e.Data[e.DataOffset+t],i.ChartPaint=this.ChartPaint[0];var a=L();0===a&&(a=1),this.ShowTooltip(this.LastPoint.X/a,this.LastPoint.Y/a,i)},this.ShowTooltip=function(t,e,i){if(this.IsShowTooltip){var a=15/L();if(0===i.Type){N();var n=t,r=e;if((l=Fe.Create("HistoryDataStringFormat")).Value=i,l.Symbol=this.Symbol,l.LanguageID=this.LanguageID,!l.Operator())return;var o=25*l.LineCount;l.Height>0&&(o=l.Height);var s=l.Width;this.Tooltip.style.width=s+"px",this.Tooltip.style.height=o+"px",this.Tooltip.style.position="absolute",n+s>this.UIElement.getBoundingClientRect().width?this.Tooltip.style.left=n-s+"px":this.Tooltip.style.left=n+"px",r+a+o>this.UIElement.getBoundingClientRect().height-5?this.Tooltip.style.top=r-o+"px":this.Tooltip.style.top=r+a+"px",this.Tooltip.className="jschart-tooltip",this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(1===i.Type){N(),n=t,r=e;if((l=Fe.Create("KLineInfoDataStringFormat")).Value=i,l.Symbol=this.Symbol,l.LanguageID=this.LanguageID,!l.Operator())return;s=l.Width;this.Tooltip.className="jchart-klineinfo-tooltip",this.Tooltip.style.position="absolute",n+s>this.UIElement.getBoundingClientRect().width?this.Tooltip.style.left=n-s+"px":this.Tooltip.style.left=n+"px",this.Tooltip.style.top=r+a+"px",this.Tooltip.style.width=s+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(2==i.Type){n=t,r=e;if((l=Fe.Create("KLineTradeDataStringFormat")).Value=i,l.Symbol=this.Symbol,l.LanguageID=this.LanguageID,!l.Operator())return;s=l.Width;this.Tooltip.className="jchart-klinetrade-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=n+"px",this.Tooltip.style.top=r+a+"px",this.Tooltip.style.width=s+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(3==i.Type){n=t,r=e;if((l=Fe.Create("MinuteInfoDataStringFormat")).Value=i,l.Symbol=this.Symbol,l.LanguageID=this.LanguageID,!l.Operator())return;s=l.Width;this.Tooltip.className="jchart-minuteinfo-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=n+"px",this.Tooltip.style.top=r+a+"px",this.Tooltip.style.width=s+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(4==i.Type){n=t,r=e;if((l=Fe.Create("IconDataStringFormat")).Value=i,l.Symbol=this.Symbol,l.LanguageID=this.LanguageID,!l.Operator())return;s=l.Width;this.Tooltip.className="jchart-iconinfo-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=n+"px",this.Tooltip.style.top=r+a+"px",this.Tooltip.style.width=s+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(5==i.Type){n=t,r=e;if((l=Fe.Create("ChartOXDataStringFormat")).Value=i,l.Symbol=this.Symbol,l.Period=this.Period,l.LanguageID=this.LanguageID,!l.Operator())return;s=l.Width;this.Tooltip.className="jchart-chartox-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=n+"px",this.Tooltip.style.top=r+a+"px",this.Tooltip.style.width=s+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(6==i.Type){n=t,r=e;if((l=Fe.Create("ScatterPlotDataStringFormat")).Value=i,l.Symbol=this.Symbol,l.Period=this.Period,l.LanguageID=this.LanguageID,!l.Operator())return;s=l.Width;this.Tooltip.className="jchart-charscatterplot-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=n+"px",this.Tooltip.style.top=r+a+"px",this.Tooltip.style.width=s+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(7==i.Type){var l;n=t,r=e;if((l=Fe.Create("ChartDrawSVGDataStringFormat")).Value=i,l.Symbol=this.Symbol,l.Period=this.Period,l.LanguageID=this.LanguageID,!l.Operator())return;s=l.Width;this.Tooltip.className="jchart-chartdrawsvg-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=n+"px",this.Tooltip.style.top=r+a+"px",this.Tooltip.style.width=s+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}}},this.HideTooltip=function(){"none"!=this.Tooltip.style.display&&(this.Tooltip.style.display="none")},this.ShowSelectRect=function(t,e,i,a){var n=t,r=e,o=this.Frame.ChartBorder.GetBorder(),s=o.Right,l=o.Left;t>s&&(t=s),i>s&&(i=s),t<l&&(t=l),i<l&&(i=l),t>i&&(n=i),e>a&&(r=a);var h=Math.abs(t-i),u=Math.abs(e-a);this.SelectRect.style.width=h+"px",this.SelectRect.style.height=u+"px",this.SelectRect.style.position="absolute",this.SelectRect.style.left=n+"px",this.SelectRect.style.top=r+"px",this.SelectRect.style.display="block"},this.UpdateSelectRect=function(t,e){if(this.ChartPaint[0].Data){var i=this.GetRectSelectPaint();if(i){var a=this.ChartPaint[0].Data,n=a.Data[t],r=a.Data[e];g.Chart.Log("[JSChartContainer::UpdateSelectRect]",n,r),i.SetPoint(n,{Index:0,DataIndex:t}),i.SetPoint(r,{Index:1,DataIndex:e}),this.Draw()}}},this.HideSelectRect=function(){this.SelectRect.style.display="none"},this.ResetFrameXYSplit=function(){"function"==typeof this.Frame.ResetXYSplit&&this.Frame.ResetXYSplit()},this.UpdateFrameMaxMin=function(){for(var t=new Array,e=new Array,i=0;i<this.ChartPaint.length;++i){0!=(o=this.ChartPaint[i]).IsShow&&e.push(this.ChartPaint[i])}for(i=0;i<this.OverlayChartPaint.length;++i)e.push(this.OverlayChartPaint[i]);for(i=0;i<e.length;++i){if(null!=(c=(u=e[i]).GetMaxMin())&&null!=c.Max&&null!=c.Min){var a=null;for(var n in t)if(t[n].Frame==u.ChartFrame){a=t[n];break}a?(a.Range.Max<c.Max&&(a.Range.Max=c.Max),a.Range.Min>c.Min&&(a.Range.Min=c.Min)):((a={OverlayFrame:[]}).Frame=u.ChartFrame,a.Range=c,t.push(a))}}var r=new p.default;for(i=0;i<t.length;++i){var o=t[i];r.set(o.Frame.Identify,o)}for(i=0;i<this.Frame.SubFrame.length;++i){var s=this.Frame.SubFrame[i];for(n=0;n<s.OverlayIndex.length;++n){var l=(d=s.OverlayIndex[n]).Frame;if(1==l.IsShareY)if(l.MainFrame)if(r.has(l.MainFrame.Identify))if((a=r.get(l.MainFrame.Identify))&&(a.OverlayFrame.push(l),!1!==l.IsCalculateYMaxMin))for(var h=0;h<d.ChartPaint.length;++h){var u,c;null!=(c=(u=d.ChartPaint[h]).GetMaxMin())&&null!=c.Max&&null!=c.Min&&(a.Range.Max<c.Max&&(a.Range.Max=c.Max),a.Range.Min>c.Min&&(a.Range.Min=c.Min))}}}for(i=0;i<t.length;++i){if((o=t[i]).Frame&&o.Range&&(null!=o.Range.Max&&null!=o.Range.Min))for(var n in o.Frame.YSpecificMaxMin?(o.Frame.HorizontalMax=o.Frame.YSpecificMaxMin.Max,o.Frame.HorizontalMin=o.Frame.YSpecificMaxMin.Min):(o.Frame.HorizontalMax=o.Range.Max,o.Frame.HorizontalMin=o.Range.Min),o.Frame.XYSplit=!0,o.OverlayFrame)o.OverlayFrame[n].XYSplit=!0}for(i=0;i<this.Frame.SubFrame.length;++i)for(s=this.Frame.SubFrame[i],n=0;n<s.OverlayIndex.length;++n){var d;!0!==(d=s.OverlayIndex[n]).Frame.IsShareY&&d.UpdateFrameMaxMin()}},this.DataMoveLeft=function(){var t=null;return!!(t=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data)&&(!(t.DataOffset<=0)&&(--t.DataOffset,!0))},this.DataMoveRight=function(){var t=null;if(!(t=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data))return!1;var e=0;return!!(e=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount)&&(!(e+t.DataOffset>=t.Data.length)&&(++t.DataOffset,!0))},this.UpdataDataoffset=function(){var t=null;if(t=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data){for(var e in this.ChartPaint){(o=this.ChartPaint[e]).Data&&(o.Data.DataOffset=t.DataOffset)}for(var e in this.OverlayChartPaint){(o=this.OverlayChartPaint[e]).Data&&(o.Data.DataOffset=t.DataOffset)}for(var e in this.Frame.SubFrame){var i=this.Frame.SubFrame[e];for(var a in i.OverlayIndex){var n=i.OverlayIndex[a];for(var r in n.ChartPaint){var o;(o=n.ChartPaint[r]).Data&&(o.Data.DataOffset=t.DataOffset)}}}}},this.GetMoveOneStepWidth=function(){if(Ce.IsPlusNumber(this.StepPixel))return this.StepPixel;var t=L(),e=this.Frame.SubFrame[0].Frame,i=e.DataWidth,a=e.DistanceWidth,n=this.StepPixel;return(n=(i+a)/t)<1&&(n=1),n},this.DataMove=function(t,e){var i=this.GetMoveOneStepWidth(),a=t;if((t=parseInt(t/i))<=0)return!1;var n=null;if(!(n=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data))return!1;var r=0;if(!(r=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount))return!1;if(this.Frame.SubFrame&&this.Frame.SubFrame.length>0&&this.Frame.SubFrame[0].Frame){var o=this.Frame.SubFrame[0].Frame;(o.DataWidth<=1||o.DistanceWidth<=1)&&Ce.IsPlusNumber(this.StepPixel)&&(t=parseInt(a)*this.StepPixel)}if(e){if(this.RightSpaceCount>0){if(r+n.DataOffset>=n.Data.length+this.RightSpaceCount-1)return!1;n.DataOffset+=t,n.DataOffset+r>=n.Data.length+this.RightSpaceCount&&(n.DataOffset=n.Data.length-(r-this.RightSpaceCount))}else{if(r+n.DataOffset>=n.Data.length)return!1;n.DataOffset+=t,n.DataOffset+r>=n.Data.length&&(n.DataOffset=n.Data.length-r)}return!0}return!(n.DataOffset<=0)&&(n.DataOffset-=t,n.DataOffset<0&&(n.DataOffset=0),!0)},this.XCoordinateZoom=function(t,e){var i=this.GetMoveOneStepWidth();return!((t=parseInt(t/i))<=0)&&this.Frame.XCoordinateZoom(e)},this.GetSubFrameIndex=function(t,e){if(!this.Frame.SubFrame||this.Frame.SubFrame.length<=0)return-1;for(var i in this.Frame.SubFrame){var a=this.Frame.SubFrame[i].Frame,n=a.ChartBorder.GetLeft(),r=a.ChartBorder.GetTop(),o=a.ChartBorder.GetHeight(),s=a.ChartBorder.GetWidth();if(this.Canvas.beginPath(),this.Canvas.rect(n,r,s,o),this.Canvas.isPointInPath(t,e))return parseInt(i)}return 0},this.GetDataIndexByPoint=function(t){var e=this.Frame;this.Frame.SubFrame&&this.Frame.SubFrame.length>0&&(e=this.Frame.SubFrame[0].Frame);var i=null;if((i=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data)&&e){var a=parseInt(e.GetXData(t));return i.DataOffset+a}},this.GetSelectRectData=function(t){if(Math.abs(t.XStart-t.XEnd)<5)return!1;this.PtInClient(t.XStart,t.YStart),this.PtInClient(t.XEnd,t.YEnd);var e=null;if(!(e=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data))return!1;var i=this.GetDataIndexByPoint(t.XStart),a=this.GetDataIndexByPoint(t.XEnd);return!(Math.abs(i-a)<2)&&(t.Data=e,i>a?(t.Start=a,t.End=i):(t.Start=i,t.End=a),!0)},this.GetChartDrawPictureByPoint=function(t){for(var e=0;e<this.ChartDrawPicture.length;++e){var i=this.ChartDrawPicture[e],a=i.IsPointIn(t.X,t.Y,this.ChartDrawOption);if(!1!==a&&a>=0)return t.ChartDrawPicture=i,t.PointIndex=a,!0}return!1},this.SaveToImage=function(t,e){if(this.UIElement.width<=0||this.UIElement.height<=0)return null;if(this.ChartSplashPaint&&this.ChartSplashPaint.IsEnableSplash)return null;g.Chart.Log("[JSChartContainer::SaveToImage]",this.UIElement);var i="rgb(255,255,255)";e&&(i=e),this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height),this.Canvas.fillStyle=i,this.Canvas.fillRect(0,0,this.UIElement.width,this.UIElement.height);var a=L();for(var n in this.Canvas.lineWidth=a,this.Frame.Draw(),this.ChartPaint){(r=this.ChartPaint[n]).IsDrawFirst&&r.Draw()}for(var n in this.ChartPaint){(r=this.ChartPaint[n]).IsDrawFirst||r.Draw()}for(var n in this.ChartPaintEx){(r=this.ChartPaintEx[n]).Draw()}for(var n in this.OverlayChartPaint){(r=this.OverlayChartPaint[n]).Draw()}for(var n in this.ExtendChartPaint){(r=this.ExtendChartPaint[n]).IsDynamic||0!=r.IsAnimation||r.Draw()}for(var n in this.Frame.DrawInsideHorizontal&&this.Frame.DrawInsideHorizontal(),this.Frame.DrawLock(),this.ExtendChartPaint){(r=this.ExtendChartPaint[n]).IsDynamic&&!1===r.DrawAfterTitle&&r.Draw()}for(var n in null==this.LastPoint.X&&null==this.LastPoint.Y||this.ChartCorssCursor&&(this.ChartCorssCursor.LastPoint=this.LastPoint,this.ChartCorssCursor.CursorIndex=this.CursorIndex),this.TitlePaint){(r=this.TitlePaint[n]).IsDynamic&&(r.CursorIndex=this.CursorIndex,r.Draw())}for(var n in this.ExtendChartPaint){(r=this.ExtendChartPaint[n]).IsDynamic&&!0===r.DrawAfterTitle&&0==r.IsAnimation&&r.Draw()}if(this.EnableAnimation)for(var n in this.ExtendChartPaint){!0===(r=this.ExtendChartPaint[n]).IsAnimation&&r.Draw()}for(var n in this.ChartDrawPicture){var r;(r=this.ChartDrawPicture[n]).Draw()}this.CurrentChartDrawPicture&&10!=this.CurrentChartDrawPicture.Status&&this.CurrentChartDrawPicture.Draw();var o=this.UIElement.toDataURL(t||"image/png",1);return g.Chart.Log("[JSChartContainer::SaveToImage] data= ",o),o},this.SaveToImageUrl=function(t,e){t||(t={Format:"image/png",ColorGB:"rgb(255,255,255)"});var i={Base64:this.SaveToImage(t.Format,t.ColorGB),BucketName:"downloadcache",Path:"hqchart/hq_snapshot"},a=Qe.Domain+"/API/FileUploadForBase64";C.HttpRequest({url:a,method:"POST",dataType:"json",data:i,success:function(t){g.Chart.Log("[JSChartContainer::SaveToImageUrl] recv data",t);var i={Path:t.relativeurl,Domain:"https://opensourcedownload.zealink.com"};i.Url=i.Domain+"/"+i.Path,e&&e(!0,i,"")},error:function(t){g.Chart.Log("[JSChartContainer::SaveToImageUrl] error ",t),e&&e(!1,null,"upload failed")}})},this.SetLanguage=function(t){var e=ei.GetLanguageID(t);if(Ce.IsNumber(e)){if(this.LanguageID!=e){this.LanguageID=e,this.ChartCorssCursor&&this.ChartCorssCursor.StringFormatY&&(this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID);for(var i=0;i<this.TitlePaint.length;++i){(a=this.TitlePaint[i])&&(a.LanguageID=this.LanguageID)}for(i=0;i<this.ExtendChartPaint.length;++i){var a;(a=this.ExtendChartPaint[i])&&(a.LanguageID=this.LanguageID)}this.Frame&&this.Frame.SetLanguage&&this.Frame.SetLanguage(this.LanguageID),this.Frame.SetSizeChage(!0),this.Draw()}}else console.warn("[JSChartContainer::SetLanguage] language="+t+" error")},this.ReloadTiltePaintResource=function(t){for(var e in this.TitlePaint){var i=this.TitlePaint[e];i.ReloadResource&&i.ReloadResource(t)}},this.ReloadExtendChartPaintResource=function(t){for(var e in this.ExtendChartPaint){var i=this.ExtendChartPaint[e];i.ReloadResource&&i.ReloadResource(t)}},this.ReloadResource=function(t){this.ReloadBorder(t),this.ReloadTiltePaintResource(t.Resource),this.ReloadChartPaint(t.Resource),this.ReloadFrame(t.Resource),this.ReloadExtendChartPaintResource(t.Resource),this.ReloadChartCorssCursor(t,t.Resource),t.Update&&this.Update?this.Update({UpdateCursorIndexType:2}):1==t.Draw&&this.Draw()},this.ReloadBorder=function(t){if(t){var e=L();if(t.Border){var i=t.Border;Ce.IsNumber(i.Left)&&(this.Frame.ChartBorder.Left=i.Left*e),Ce.IsNumber(i.Right)&&(this.Frame.ChartBorder.Right=i.Right*e),Ce.IsNumber(i.Top)&&(this.Frame.ChartBorder.Top=i.Top*e),Ce.IsNumber(i.Bottom)&&(this.Frame.ChartBorder.Bottom=i.Bottom*e)}for(var a in t.Windows){i=t.Windows[a];if(!(a>=this.Frame.SubFrame.length)){var n=this.Frame.SubFrame[a].Frame.ChartBorder;Ce.IsNumber(i.TitleHeight)&&(n.TitleHeight=i.TitleHeight*e)}}for(var a in t.Frame){i=t.Frame[a];if(!(a>=this.Frame.SubFrame.length)){n=this.Frame.SubFrame[a].Frame.ChartBorder;i.TopSpace>=0&&(n.TopSpace=i.TopSpace*e),i.BottomSpace>=0&&(n.BottomSpace=i.BottomSpace*e)}}}},this.ReloadFrame=function(t){for(var e=0;e<this.Frame.SubFrame.length;++e){var i=this.Frame.SubFrame[e],a=i.Frame;a&&a.ReloadResource&&a.ReloadResource(t);for(var n=0;n<i.OverlayIndex.length;++n){var r=i.OverlayIndex[n];r.Frame&&r.Frame.ReloadResource&&r.Frame.ReloadResource(t)}}},this.ReloadChartPaint=function(t){for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i&&i.ReloadResource&&i.ReloadResource(t)}},this.ReloadChartCorssCursor=function(t,e){var i=L();if(t&&t.CorssCursor){var a=t.CorssCursor;Ce.IsNumber(a.TitleHeight)&&(this.ChartCorssCursor.TextHeight=a.TitleHeight*i)}this.ChartCorssCursor.ReloadResource&&this.ChartCorssCursor.ReloadResource(e)},this.SetDepthMapData=function(t,e){for(var i=0;i<t.length;++i)for(var a=t[i],n=0;n<this.ExtendChartPaint.length;++n){var r=this.ExtendChartPaint[n];if(r.ID==a.ID){r.Data=a.Data;break}}e&&1==e.Draw&&this.Draw()},this.PointAbsoluteToRelative=function(t,e,i){var a={X:t,Y:e},n=L(),r=this.UIElement.getBoundingClientRect();return i?(a.X=t-r.left*n,a.Y=e-r.top*n):(a.X=(t-r.left)*n,a.Y=(e-r.top)*n),a},this.SetChartDrawPictureFirstPoint=function(t,e,i){var a=this.CurrentChartDrawPicture;if(!a)return!1;if(!this.Frame.SubFrame||this.Frame.SubFrame.length<=0)return!1;var n=this.PointAbsoluteToRelative(t,e,i),r=n.X,o=n.Y;for(var s in this.Frame.SubFrame){var l=this.Frame.SubFrame[s].Frame,h=l.ChartBorder.GetLeft(),u=l.ChartBorder.GetTopEx(),c=l.ChartBorder.GetHeight(),d=l.ChartBorder.GetWidth();if(this.Canvas.beginPath(),this.Canvas.rect(h,u,d,c),this.Canvas.isPointInPath(r,o)){a.Frame=l;break}}return!!a.Frame&&(a.Point[0]=new H,a.Point[0].X=r,a.Point[0].Y=o,a.Status=1,!0)},this.SetChartDrawPictureSecondPoint=function(t,e,i){var a=this.CurrentChartDrawPicture;if(!a)return!1;var n=this.PointAbsoluteToRelative(t,e,i);return a.Point[1]=new H,a.Point[1].X=n.X,a.Point[1].Y=n.Y,a.Status=2,!0},this.SetChartDrawPictureThirdPoint=function(t,e,i){var a=this.CurrentChartDrawPicture;if(!a)return!1;var n=this.PointAbsoluteToRelative(t,e,i);return a.Point[2]=new H,a.Point[2].X=n.X,a.Point[2].Y=n.Y,a.Status=3,!0},this.MoveChartDrawPicture=function(t,e,i){var a=this.CurrentChartDrawPicture;if(!a)return!1;var n=L();i&&(n=1);var r=t*n,o=e*n;return a.Move(r,o),!0},this.FinishChartDrawPicturePoint=function(){var t=this.CurrentChartDrawPicture;if(!t)return!1;if(t.PointCount!=t.Point.length)return!1;if("ChartDrawRuler"==t.ClassName)return this.CurrentChartDrawPicture=null,!0;t.Status=10,t.PointToValue(),this.ChartDrawPicture.push(t),this.CurrentChartDrawPicture=null;var e=this.GetEventCallback(b.ON_FINISH_DRAWPICTURE);if(e&&e.Callback){var i={DrawPicture:t};e.Callback(e,i,this)}else t.FinishedCallback&&t.FinishedCallback(t);return this.ChartDrawStorage&&this.ChartDrawStorage.SaveDrawData(t),t.OnFinish&&t.OnFinish(),!0},this.OnSelectChartPicture=function(t){if(g.Chart.Log("[JSChartContainer::OnSelectChartPicture",t),this.ChartPictureMenu||(this.ChartPictureMenu=Di.Create("ChartPictureSettingMenu",this.UIElement.parentNode)),this.ChartPictureMenu){var e={data:{ChartPicture:t,HQChart:this}};this.ChartPictureMenu.DoModal(e)}},this.FinishMoveChartDrawPicture=function(){var t=this.CurrentChartDrawPicture;if(!t)return!1;if(t.PointCount!=t.Point.length)return!1;if(t.Status=10,t.PointToValue(),this.ChartDrawStorage&&this.ChartDrawStorage.SaveDrawData(t),this.CurrentChartDrawPicture=null,this.SelectChartDrawPicture&&this.SelectChartDrawPicture.DragInfo){var e=this.SelectChartDrawPicture.DragInfo;e.Click&&e.Move&&(e.Click.X==e.Move.X&&e.Click.Y==e.Move.Y||t.OnMoveFinish&&t.OnMoveFinish())}return!0},this.ClearChartDrawPicture=function(t){if(t)for(var e in this.ChartDrawPicture)this.ChartDrawPicture[e]==t&&(this.ChartDrawStorage&&this.ChartDrawStorage.DeleteDrawData(t),this.ChartDrawPicture.splice(e,1),this.Draw());else this.ChartDrawPicture=[],this.ChartDrawStorage&&this.ChartDrawStorage.Clear(),this.Draw()},this.GetActiveDrawPicture=function(){var t={Move:{Guid:null},Select:{Guid:null},MoveOn:{Guid:null}};return this.CurrentChartDrawPicture&&(t.Move={Guid:this.CurrentChartDrawPicture.Guid}),this.SelectChartDrawPicture&&(t.Select={Guid:this.SelectChartDrawPicture.Guid,Chart:this.SelectChartDrawPicture}),this.MoveOnChartDrawPicture&&(t.MoveOn={Guid:this.MoveOnChartDrawPicture.Guid}),t},this.SetChartDrawOption=function(t){Ce.IsBool(t.IsLockScreen)&&(this.ChartDrawOption.IsLockScreen=t.IsLockScreen),Ce.IsNumber(t.Zoom)&&t.Zoom>=0&&(this.ChartDrawOption.Zoom=t.Zoom)},this.EnableShowCorssCursorLine=function(t){this.ChartCorssCursor&&(this.ChartCorssCursor.IsShowCorss=t)},this.GetExtendChartByClassName=function(t){for(var e=0;e<this.ExtendChartPaint.length;++e){var i=this.ExtendChartPaint[e];if(i.ClassName==t)return{Index:e,Chart:i}}return null},this.GetExtendChartRightWidth=function(){for(var t=0,e=0;e<this.ExtendChartPaint.length;++e){var i=this.ExtendChartPaint[e];i&&("StockChip"!=i.ClassName&&"DrawToolsButton"!=i.ClassName||Ce.IsNumber(i.Width)&&(t+=i.Width))}return t},this.DeleteExtendChart=function(t){t.Index>=this.ExtendChartPaint.length||this.ExtendChartPaint[t.Index]==t.Chart&&("function"==typeof t.Chart.Clear&&t.Chart.Clear(),this.ExtendChartPaint.splice(t.Index,1))},this.EnableSplashScreen=function(t){this.ChartSplashPaint&&t&&(Ce.IsString(t.Title)&&this.ChartSplashPaint.SetTitle(t.Title),this.ChartSplashPaint.EnableSplash(!0),!1!==t.Draw&&this.Draw())},this.SetSubFrameOption=function(t,e){if(e){if(e.Window){var i=e.Window;null!=i.Modify&&(t.Frame.ModifyIndex=i.Modify),null!=i.Change&&(t.Frame.ChangeIndex=i.Change),null!=i.Close&&(t.Frame.CloseIndex=i.Close),null!=i.Overlay&&(t.Frame.OverlayIndex=i.Overlay),1==i.IsDrawTitleBG&&(t.Frame.IsDrawTitleBG=i.IsDrawTitleBG),i.OverlayIndexType&&(Ce.IsNumber(i.OverlayIndexType.Position)&&(t.Frame.OverlayIndexType.Position=i.OverlayIndexType.Position),Ce.IsNumber(i.OverlayIndexType.LineSpace)&&(t.Frame.OverlayIndexType.LineSpace=i.OverlayIndexType.LineSpace))}Ce.IsNumber(e.SplitCount)&&(t.Frame.YSplitOperator.SplitCount=e.SplitCount),Ce.IsNumber(e.TitleHeight)&&(t.Frame.ChartBorder.TitleHeight=e.TitleHeight),Ce.IsBool(e.IsShowTitleArraw)&&(t.Frame.IsShowTitleArraw=e.IsShowTitleArraw),Ce.IsBool(e.IsShowIndexName)&&(t.Frame.IsShowIndexName=e.IsShowIndexName),Ce.IsBool(e.IsShowOverlayIndexName)&&(t.Frame.IsShowOverlayIndexName=e.IsShowOverlayIndexName),Ce.IsNumber(e.IndexParamSpace)&&(t.Frame.IndexParamSpace=e.IndexParamSpace),Ce.IsBool(e.IsShowXLine)&&(t.Frame.IsShowXLine=e.IsShowXLine),Ce.IsBool(e.IsShowYLine)&&(t.Frame.IsShowYLine=e.IsShowYLine),Ce.IsBool(e.IsShowIndexTitle)&&(t.Frame.IsShowIndexTitle=e.IsShowIndexTitle),Ce.IsBool(e.IsShowLeftText)&&(t.Frame.IsShowYText[0]=e.IsShowLeftText,t.Frame.YSplitOperator.IsShowLeftText=e.IsShowLeftText),Ce.IsBool(e.IsShowRightText)&&(t.Frame.IsShowYText[1]=e.IsShowRightText,t.Frame.YSplitOperator.IsShowRightText=e.IsShowRightText)}},this.AddNewSubFrame=function(t){var e=this,i=this.Frame.SubFrame.length,a=this.CreateSubFrameItem(i),n=L();a.Frame.ChartBorder.TitleHeight*=n,this.Frame.SubFrame[i]=a;var r=new Ve;r.Frame=this.Frame.SubFrame[i].Frame,r.Canvas=this.Canvas,r.LanguageID=this.LanguageID,r.GetEventCallback=function(t){return e.GetEventCallback(t)},this.TitlePaint[i+1]=r,this.SetSubFrameOption(a,t);for(var o=0;o<this.Frame.SubFrame.length;++o){var s=this.Frame.SubFrame[o].Frame;o==this.Frame.SubFrame.length-1?s.XSplitOperator.ShowText=!0:s.XSplitOperator.ShowText=!1}return this.UpdataDataoffset(),this.Frame.SetSizeChage(!0),this.UpdateXShowText&&this.UpdateXShowText(),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw(),i},this.AddIndexWindow=function(t,e){var i=(new I).Get(t);if(i){this.RemoveMinSizeWindows();var a=this.AddNewSubFrame(e),n={Name:i.Name,Script:i.Script,Args:i.Args,ID:t,KLineType:i.KLineType,YSpecificMaxMin:i.YSpecificMaxMin,YSplitScale:i.YSplitScale,FloatPrecision:i.FloatPrecision,Condition:i.Condition,StringFormat:i.StringFormat,OutName:i.OutName};if(e&&(e.FloatPrecision>=0&&(n.FloatPrecision=e.FloatPrecision),e.StringFormat>0&&(n.StringFormat=e.StringFormat),e.Args&&(n.Args=e.Args)),this.WindowIndex[a]=new aa(n.Name,n.Script,n.Args,n),"MinuteChartContainer"==this.ClassName||"MinuteChartHScreenContainer"==this.ClassName)var r=this.SourceData;else r=this.ChartPaint[0].Data;this.BindIndexData(a,r)}},this.AddAPIIndexWindow=function(t,e){if(t.API){this.RemoveMinSizeWindows();var i=this.AddNewSubFrame(e),a=t.API;if(this.WindowIndex[i]=new ra(a.Name,a.Script,a.Args,t),"MinuteChartContainer"==this.ClassName||"MinuteChartHScreenContainer"==this.ClassName)var n=this.SourceData;else n=this.ChartPaint[0].Data;this.BindIndexData(i,n)}},this.AddScriptIndexWindow=function(t,e){if(t&&t.Script&&t.Name){this.RemoveMinSizeWindows();var i=this.AddNewSubFrame(e),a={Name:t.Name,Script:t.Script,Args:t.Args,ID:t.Name,KLineType:t.KLineType,YSpecificMaxMin:t.YSpecificMaxMin,YSplitScale:t.YSplitScale,FloatPrecision:t.FloatPrecision,Condition:t.Condition,StringFormat:t.StringFormat,OutName:t.OutName};if(t.ID&&(a.ID=t.ID),this.WindowIndex[i]=new aa(a.Name,a.Script,a.Args,a),"MinuteChartContainer"==this.ClassName||"MinuteChartHScreenContainer"==this.ClassName)var n=this.SourceData;else n=this.ChartPaint[0].Data;this.BindIndexData(i,n)}},this.GetRectSelectPaint=function(){for(var t=0;t<this.ExtendChartPaint.length;++t){var e=this.ExtendChartPaint[t];if("RectSelectPaint"==e.ClassName)return e}return null},this.SetRectSelectData=function(t,e){var i=this.GetRectSelectPaint();if(!i)return!1;if(2==i.GetPointCount()){if(!i.SpaceReselected)return!1;var a=i.PreventClose;i.PreventClose=!1,i.ClearPoint(),i.PreventClose=a}return i.SetPoint(t,{DataIndex:e})},this.MoveRectSelectPoint=function(e){var i=this.GetRectSelectPaint();if(!i)return!1;if(!this.ChartPaint[0]||!this.ChartPaint[0].Data)return!1;var a=this.ChartPaint[0].Data;if(!this.Frame.SubFrame[0])return!1;var n=this.Frame.SubFrame[0].Frame,r=L(),o=(e.X-t.getBoundingClientRect().left)*r,s=n.GetXData(o),l=(s=parseInt(s.toFixed(0)))+a.DataOffset;l>=a.Data.length&&(l=a.Data.length-1);var h=a.Data[l];if(g.Chart.Log("[KLineChartContainer::MoveRectSelectPoint] point, item",e.PointIndex,h),!i.SetPoint(h,{Index:e.PointIndex,DataIndex:l}))return!1;var u=this.GetEventCallback(b.ON_DRAG_SELECT_RECT);if(u){var c=i.GetSelectRectData(),d={X:e.X,Y:e.Y,SelectData:c,RectSelectPaint:i};u.Callback(u,d,this)}return!0},this.MoveSubRectSelect=function(t){var e=this.GetRectSelectPaint();if(!e)return!1;if(!e.MoveSubRect(t.Step,t.IsLeft))return!1;var i=this.GetEventCallback(b.ON_DRAG_SUB_SELECT_RECT);if(i){var a={Start:e.SubClient.FirstPoint,End:e.SubClient.SecondPoint},n={X:t.X,Y:t.Y,SubRectSelectData:a,RectSelectPaint:e};i.Callback(i,n,this)}return!0},this.ClearRectSelect=function(t){var e=this.GetRectSelectPaint();return!!e&&(t&&(e.PreventClose=!1),e.ClearPoint())},this.DeleteOverlayIndex=function(t,e){var i=null;if(Ce.IsNumber(e)){if(e>=0&&e<this.Frame.SubFrame.length)for(var a=this.Frame.SubFrame[e],n=0;n<a.OverlayIndex.length;++n){if((s=a.OverlayIndex[n]).Identify===t){for(var r=0;r<s.ChartPaint.length;++r){(l=s.ChartPaint[r])&&l.OnDestroy&&l.OnDestroy()}a.OverlayIndex.splice(n,1),i=e;break}}}else for(var o=0;o<this.Frame.SubFrame.length;++o)for(a=this.Frame.SubFrame[o],n=0;n<a.OverlayIndex.length;++n){var s;if((s=a.OverlayIndex[n]).Identify===t){for(r=0;r<s.ChartPaint.length;++r){var l;(l=s.ChartPaint[r])&&l.OnDestroy&&l.OnDestroy()}a.OverlayIndex.splice(n,1),i=o;break}}if(null==i)return console.warn("[JSChartContainer::DeleteOverlayIndex] can't find overlay index. [identify="+t+"]"),!1;var h=i+1,u=this.TitlePaint[h];return u.OverlayIndex.has(t)&&u.OverlayIndex.delete(t),u.OverlayDynamicTitle.has(t)&&u.OverlayDynamicTitle.delete(t),!0},this.FindScriptIndex=function(t,e){if(Ce.IsNumber(e)&&e>=0){if(e>=this.Frame.SubFrame.length)return null;if((i=this.WindowIndex[e])&&i.Guid==t)return{Type:0,Data:i,WindowIndex:e};for(var i=this.Frame.SubFrame[e],a=0;a<i.OverlayIndex.length;++a){if((r=i.OverlayIndex[a]).Identify===t)return{Type:1,Data:r,WindowIndex:e,OverlayIndex:a}}}else for(a=0;a<this.Frame.SubFrame.length;++a){if((i=this.WindowIndex[a])&&i.Guid==t)return{Type:0,Data:i,WindowIndex:a};i=this.Frame.SubFrame[a];for(var n=0;n<i.OverlayIndex.length;++n){var r;if((r=i.OverlayIndex[n]).Identify===t)return{Type:1,Data:r,WindowIndex:a,OverlayIndex:n}}}return null},this.MoveIndex=function(t,e,i){if(!t||!e||!i)return!1;if(!Ce.IsNumber(t.WindowIndex)||t.WindowIndex<0||t.WindowIndex>=this.Frame.SubFrame.length)return!1;if(!Ce.IsNumber(e.WindowIndex)||e.WindowIndex<0||e.WindowIndex>=this.Frame.SubFrame.length)return!1;if(!(d=this.FindScriptIndex(t.IndexID,t.WindowIndex)))return!1;var a=null,n=null;if(0==d.Type?a=d.Data:1==d.Type&&(n=d.Data),!n&&!a)return!1;var r=0;if(("MinuteChartContainer"==this.ClassName||"MinuteChartHScreenContainer"==this.ClassName)&&(r=2),e.WindowIndex>=r&&null==this.WindowIndex[e.WindowIndex]){a?this.WindowIndex[e.WindowIndex]=this.CreateMainScript(a):n&&(this.WindowIndex[e.WindowIndex]=this.CreateMainScript(n.Script)),0==i.Operator&&(n?this.DeleteOverlayIndex(n.Identify,t.WindowIndex):a&&this.DeleteMainIndex(a.Guid,t.WindowIndex));var o=this.GetMainData();this.BindIndexData(e.WindowIndex,o),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}else{var s=this.Frame.SubFrame[e.WindowIndex];s.Interval=this.OverlayIndexFrameWidth;var l,h=new at,u=this.CreateOverlayFrame();u.Canvas=this.Canvas,u.MainFrame=s.Frame,u.ChartBorder=s.Frame.ChartBorder,n&&(u.IsShow=n.Frame.IsShow),u.YSplitOperator=new ye,u.YSplitOperator.LanguageID=this.LanguageID,u.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),u.YSplitOperator.Frame=u,u.YSplitOperator.ChartBorder=u.ChartBorder,u.YSplitOperator.SplitCount=s.Frame.YSplitOperator.SplitCount,h.Frame=u,a?(l=this.CreateOverlayScript(a)).OverlayIndex={IsOverlay:!0,Identify:h.Identify,WindowIndex:e.WindowIndex,Frame:h}:n&&((l=this.CreateOverlayScript(n.Script)).OverlayIndex={IsOverlay:!0,Identify:h.Identify,WindowIndex:e.WindowIndex,Frame:h}),h.Script=l,s.OverlayIndex.push(h);var c=e.WindowIndex;if(0==i.Operator)if(n)this.DeleteOverlayIndex(n.Identify,t.WindowIndex);else if(a){var d;this.DeleteMainIndex(a.Guid,t.WindowIndex),(d=this.FindScriptIndex(h.Identify))&&(c=d.WindowIndex)}o=this.GetMainData();this.BindOverlayIndexData(h,c,o),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}},this.MoveIndexToNewWindow=function(t,e){var i=this;if(!t||!e)return!1;if(!Ce.IsNumber(t.WindowIndex)||t.WindowIndex<0||t.WindowIndex>=this.Frame.SubFrame.length)return!1;var a=this.FindScriptIndex(t.IndexID,t.WindowIndex);if(!a)return!1;var n=null,r=null;if(0==a.Type?n=a.Data:1==a.Type&&(r=a.Data),!r&&!n)return!1;if(t.WindowIndex==this.Frame.SubFrame.length-1&&this.Frame.SubFrame[t.WindowIndex].OverlayIndex<=0)return!1;this.RemoveMinSizeWindows();var o=this.Frame.SubFrame.length,s=this.CreateSubFrameItem(o),l=L();s.Frame.ChartBorder.TitleHeight*=l,this.Frame.SubFrame[o]=s;var h=new Ve;h.Frame=this.Frame.SubFrame[o].Frame,h.Canvas=this.Canvas,h.LanguageID=this.LanguageID,h.SelectedChart=this.SelectedChart,h.GetEventCallback=function(t){return i.GetEventCallback(t)},this.TitlePaint[o+1]=h,this.SetSubFrameOption(s,e);for(var u=0;u<this.Frame.SubFrame.length;++u){var c=this.Frame.SubFrame[u].Frame;u==this.Frame.SubFrame.length-1?c.XSplitOperator.ShowText=!0:c.XSplitOperator.ShowText=!1}0==e.Operator&&(r?this.DeleteOverlayIndex(r.Identify,t.WindowIndex):n&&this.DeleteMainIndex(n.Guid,t.WindowIndex)),this.UpdataDataoffset(),this.Frame.SetSizeChage(!0),this.UpdateXShowText&&this.UpdateXShowText(),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw();o=this.Frame.SubFrame.length-1;n?this.WindowIndex[o]=this.CreateMainScript(n):r&&(this.WindowIndex[o]=this.CreateMainScript(r.Script));var d=this.GetMainData();this.BindIndexData(o,d)},this.CreateOverlayScript=function(t){var e=null;switch(t.ClassName){case"ScriptIndex":e=new na;break;case"APIScriptIndex":e=new ra(null,null,null,null,!0);break;case"OverlayScriptIndex":e=new na}return t.CopyTo(e),e},this.CreateMainScript=function(t){var e=null;switch(t.ClassName){case"ScriptIndex":case"OverlayScriptIndex":e=new aa;break;case"APIScriptIndex":e=new ra}return t.CopyTo(e),e},this.DeleteMainIndex=function(t,e){if(!this.WindowIndex[e])return!1;var i=this.Frame.SubFrame[e];if(!i)return!1;if(Ce.IsNonEmptyArray(i.OverlayIndex)){var a=i.OverlayIndex[0];this.DeleteOverlayIndex(a.Identify,e),this.WindowIndex[e]=this.CreateMainScript(a.Script);var n=this.GetMainData();this.BindIndexData(e,n)}else this.RemoveIndexWindow(e,{DeleteMainIndex:!0})},this.GetMainData=function(){switch(this.ClassName){case"MinuteChartContainer":case"MinuteChartHScreenContainer":return this.SourceData;case"KLineChartContainer":case"KLineChartHScreenContainer":return this.ChartPaint[0].Data}},this.CreateOverlayFrame=function(){switch(this.ClassName){case"KLineChartContainer":return new Q;case"KLineChartHScreenContainer":return new et;case"MinuteChartContainer":return new q;case"MinuteChartHScreenContainer":return new J}}}function L(){return"undefined"==typeof window?1:window.devicePixelRatio||1}function F(t,e,i){if(!t)return null;e&&(t.font=e);var a="擎";Ce.IsString(i)&&(a=i);var n=t.measureText(a),r=n.fontBoundingBoxAscent+n.fontBoundingBoxDescent;return Ce.IsNumber(r)||(r=n.width+2*L()),r}function O(t){this.JSChartContainer&&this.JSChartContainer.OnKeyDown&&this.JSChartContainer.OnKeyDown(t)}function P(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return"guid"+(t()+t())+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function N(){var t={},e=0,i=0;return document.documentElement&&document.documentElement.scrollTop?(e=document.documentElement.scrollTop,i=document.documentElement.scrollLeft):document.body&&(e=document.body.scrollTop,i=document.body.scrollLeft),t.Top=e,t.Left=i,t}function R(t){return parseInt(t)+.5}function B(t,e){return t%2==0?Math.floor(e):Math.floor(e)+.5}function k(t){return.5+t<<0}function V(t){if(!t)return null;var e=(0,f.default)(t);return JSON.parse(e)}function H(){this.X,this.Y}function G(){this.Data,this.JSChartContainer,this.Start,this.End,this.XStart,this.YStart,this.XEnd,this.YEnd}function Y(){this.Value,this.Message=[],this.TextColor=Qe.FrameSplitTextColor,this.Font=Qe.FrameSplitTextFont,this.LineColor=Qe.FrameSplitPen,this.LineDash=null,this.LineType=1,this.LineWidth,this.ExtendData}function W(){this.UIElement,this.Left=50,this.Right=80,this.Top=50,this.Bottom=50,this.TitleHeight=24,this.TopSpace=0,this.BottomSpace=0,this.LeftExtendWidth=0,this.RightExtendWidth=0,this.MultiDayMinute={Count:1,Left:0,Right:0},this.IsShowTitleOnly=!1,this.GetBorder=function(){var t={Left:this.Left,LeftEx:this.Left+this.LeftExtendWidth,Right:this.UIElement.width-this.Right,RightEx:this.UIElement.width-this.Right-this.RightExtendWidth,Top:this.Top,TopEx:this.Top+this.TitleHeight+this.TopSpace,TopTitle:this.Top+this.TitleHeight,Bottom:this.UIElement.height-this.Bottom,BottomEx:this.UIElement.height-this.Bottom-this.BottomSpace,ChartWidth:this.UIElement.width,ChartHeight:this.UIElement.height};if(this.MultiDayMinute&&this.MultiDayMinute.Count>1&&(this.MultiDayMinute.Left>0||this.MultiDayMinute.Right>0)){for(var e=(this.UIElement.width-this.Left-this.Right)/this.MultiDayMinute.Count,i=[],a=0;a<this.MultiDayMinute.Count;++a){var n={Left:this.Left+e*a,Right:this.Left+e*(a+1)};n.LeftEx=n.Left+this.MultiDayMinute.Left,n.RightEx=n.Right-this.MultiDayMinute.Right,i.push(n)}t.DayBorder=i}return t},this.GetHScreenBorder=function(){return{Left:this.Left,LeftEx:this.Left+this.BottomSpace,Right:this.UIElement.width-this.Right,RightEx:this.UIElement.width-this.Right-this.TitleHeight-this.TopSpace,RightTitle:this.UIElement.width-this.Right-this.TitleHeight,Top:this.Top,TopEx:this.Top+this.LeftExtendWidth,Bottom:this.UIElement.height-this.Bottom,BottomEx:this.UIElement.height-this.Bottom-this.RightExtendWidth,ChartWidth:this.UIElement.width,ChartHeight:this.UIElement.height}},this.PtInClient=function(t,e,i,a){if(a){var n=this.GetHScreenBorder();i.rect(n.Left,n.TopEx,n.Right-n.Left,n.BottomEx-n.TopEx)}else{if((n=this.GetBorder()).DayBorder){for(var r=0;r<n.DayBorder.length;++r){var o=n.DayBorder[r];if(i.beginPath(),i.rect(o.LeftEx,n.TopEx,o.RightEx-o.LeftEx,n.BottomEx-n.TopEx),i.isPointInPath(t,e))return 1;if(i.beginPath(),i.rect(o.Left,n.TopEx,o.LeftEx-o.Left,n.BottomEx-n.TopEx),i.isPointInPath(t,e))return 200+parseInt(r);if(i.beginPath(),i.rect(o.RightEx,n.TopEx,o.Right-o.RightEx,n.BottomEx-n.TopEx),i.isPointInPath(t,e))return 300+parseInt(r)}return-1}i.rect(n.LeftEx,n.Top,n.RightEx-n.LeftEx,n.Bottom-n.Top)}return i.isPointInPath(t,e)?1:this.LeftExtendWidth>10&&(i.beginPath(),!0===a?i.rect(n.Left,n.Top,n.Right-n.Left,n.TopEx-n.Top):i.rect(n.Left,n.Top,n.LeftEx-n.Left,n.Bottom-n.Top),i.isPointInPath(t,e))?2:this.RightExtendWidth>10&&(i.beginPath(),!0===a?i.rect(n.Left,n.BottomEx,n.Right-n.Left,n.Bottom-n.BottomEx):i.rect(n.RightEx,n.Top,n.Right-n.RightEx,n.Bottom-n.Top),i.isPointInPath(t,e))?3:-1},this.GetChartWidth=function(){return this.UIElement.width},this.GetChartHeight=function(){return this.UIElement.height},this.GetLeft=function(){return this.Left+this.LeftExtendWidth},this.GetRight=function(){return this.UIElement.width-this.Right-this.RightExtendWidth},this.GetTop=function(){return this.Top},this.GetTopEx=function(){return this.Top+this.TitleHeight+this.TopSpace},this.GetTopTitle=function(){return this.Top+this.TitleHeight},this.GetBottom=function(){return this.UIElement.height-this.Bottom},this.GetBottomEx=function(){return this.UIElement.height-this.Bottom-this.BottomSpace},this.GetWidth=function(){return this.UIElement.width-this.Left-this.Right-this.LeftExtendWidth-this.RightExtendWidth},this.GetHeight=function(){return this.UIElement.height-this.Top-this.Bottom},this.GetHeightEx=function(){return this.UIElement.height-this.Top-this.Bottom-this.TitleHeight-this.TopSpace-this.BottomSpace},this.GetRightEx=function(){return this.UIElement.width-this.Right-this.TitleHeight-this.TopSpace},this.GetWidthEx=function(){return this.UIElement.width-this.Left-this.Right-this.TitleHeight-this.TopSpace-this.BottomSpace},this.GetLeftEx=function(){return this.Left+this.BottomSpace},this.GetRightTitle=function(){return this.UIElement.width-this.Right-this.TitleHeight},this.GetTitleHeight=function(){return this.TitleHeight}}function X(){this.HorizontalInfo=new Array,this.VerticalInfo=new Array,this.ClassName="IChartFramePainting",this.Canvas,this.Identify,this.ChartBorder,this.PenBorder=Qe.FrameBorderPen,this.TitleBGColor=Qe.FrameTitleBGColor,this.IsShow=!0,this.SizeChange=!0,this.XYSplit=!0,this.HorizontalMax,this.HorizontalMin,this.XPointCount=10,this.YSplitOperator,this.XSplitOperator,this.Data,this.IsLocked=!1,this.LockPaint=null,this.YSpecificMaxMin=null,this.IsShowBorder=!0,this.IsShowTitleArraw=!0,this.IsShowIndexName=!0,this.IsShowOverlayIndexName=!0,this.OverlayIndexType={Position:1,LineSpace:3},this.IndexParamSpace=2,this.IndexTitleSpace=0,this.IsShowIndexTitle=!0,this.IsDrawTitleBottomLine=!1,this.BorderLine=null,this.Buttons=[],this.IsMinSize=!1,this.LogoTextColor=Qe.FrameLogo.TextColor,this.LogoTextFont=Qe.FrameLogo.Font,this.GlobalOption,this.PtInButtons=function(t,e){for(var i=0;i<this.Buttons.length;++i){var a=this.Buttons[i];if(a.Rect){var n=a.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.Left,n.Top,n.Width,n.Height),this.Canvas.isPointInPath(t,e))return{ID:a.ID,Rect:n}}}return null},this.GetBorder=function(){return this.IsHScreen?this.ChartBorder.GetHScreenBorder():this.ChartBorder.GetBorder()},this.Draw=function(){this.Buttons=[],this.DrawFrame(),this.DrawBorder(),this.SizeChange=!1,this.XYSplit=!1},this.DrawFrame=function(){},this.ClearCoordinateText=function(t){if(Ce.IsNonEmptyArray(this.HorizontalInfo))for(var e=0;e<this.HorizontalInfo.length;++e){(i=this.HorizontalInfo[e])&&i.Message&&Array.isArray(i.Message)&&(i.Message[0]=i.Message[1]=null)}if(Ce.IsNonEmptyArray(this.VerticalInfo))for(e=0;e<this.VerticalInfo.length;++e){var i;(i=this.VerticalInfo[e])&&i.Message&&Array.isArray(i.Message)&&(i.Message[0]=i.Message[1]=null)}},this.DrawBorder=function(){if(this.IsShowBorder&&!this.IsMinSize){var t=1==this.IsHScreen?this.ChartBorder.GetHScreenBorder():this.ChartBorder.GetBorder(),e=R(t.Left),i=R(t.Top),a=R(t.Right),n=R(t.Bottom),r=a-e,o=n-i;null==this.BorderLine?(this.Canvas.strokeStyle=this.PenBorder,this.Canvas.strokeRect(e,i,r,o)):Ce.IsPlusNumber(this.BorderLine)&&(this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),(1&this.BorderLine)>0&&(this.Canvas.moveTo(e,i),this.Canvas.lineTo(a,i)),(2&this.BorderLine)>0&&(this.Canvas.moveTo(e,n),this.Canvas.lineTo(a,n)),(4&this.BorderLine)>0&&(this.Canvas.moveTo(e,i),this.Canvas.lineTo(e,n)),(8&this.BorderLine)>0&&(this.Canvas.moveTo(a,i),this.Canvas.lineTo(a,n)),this.Canvas.stroke())}},this.DrawTitleBG=function(){if(!(this.ChartBorder.TitleHeight<=0)){var t=this.GetBorder(),e=R(t.Left),i=R(t.Top),a=R(t.Right),n=a-e,r=R(this.ChartBorder.GetTopTitle())-i;this.Canvas.fillStyle=this.TitleBGColor,this.Canvas.fillRect(e,i,n,r),this.IsDrawTitleBottomLine&&(this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),this.Canvas.moveTo(e,R(t.TopTitle)),this.Canvas.lineTo(a,R(t.TopTitle)),this.Canvas.stroke())}},this.DrawLock=function(){this.IsLocked&&(null==this.LockPaint&&(this.LockPaint=new le),this.LockPaint.Canvas=this.Canvas,this.LockPaint.ChartBorder=this.ChartBorder,this.LockPaint.ChartFrame=this,this.LockPaint.Draw(!0))},this.DrawLogo=function(){var t=this.GetBorder(),e=Qe.FrameLogo.Text;if(Ce.IsString(e))if(this.Canvas.fillStyle=this.LogoTextColor,this.Canvas.font=this.LogoTextFont,this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.IsHScreen){var i=t.Left+5,a=t.Top+5;this.Canvas.save(),this.Canvas.translate(i,a),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(e,0,0),this.Canvas.restore()}else{i=t.Left+5,a=t.Bottom-5;this.Canvas.fillText(e,i,a)}},this.CalculateLock=function(){this.IsLocked&&(null==this.LockPaint&&(this.LockPaint=new le),this.LockPaint.Canvas=this.Canvas,this.LockPaint.ChartBorder=this.ChartBorder,this.LockPaint.ChartFrame=this,this.LockPaint.Draw(!1))},this.SetLock=function(t){t?(this.IsLocked=!0,this.LockPaint||(this.LockPaint=new le),t.Callback&&(this.LockPaint.Callback=t.Callback),t.IndexName&&(this.LockPaint.IndexName=t.IndexName),t.ID&&(this.LockPaint.LockID=t.ID),t.BG&&(this.LockPaint.BGColor=t.BG),t.Text&&(this.LockPaint.Title=t.Text),t.TextColor&&(this.LockPaint.TextColor=t.TextColor),t.Font&&(this.LockPaint.Font=t.Font),t.Count&&(this.LockPaint.LockCount=t.Count),t.MinWidth>0&&(this.LockPaint.MinWidth=t.MinWidth)):this.IsLocked=!1},this.GetLockRect=function(){return this.IsLocked&&this.LockPaint?this.LockPaint.LockRect:null},this.ReloadResource=function(t){for(var e in t||(this.PenBorder=Qe.FrameBorderPen,this.TitleBGColor=Qe.FrameTitleBGColor),this.HorizontalInfo){(i=this.HorizontalInfo[e]).Font&&(i.Font=Qe.FrameSplitTextFont),i.TextColor&&(i.TextColor=Qe.FrameSplitTextColor),i.LineColor&&(i.LineColor=Qe.FrameSplitPen)}for(var e in this.VerticalInfo){var i;(i=this.VerticalInfo[e]).Font&&(i.Font=Qe.FrameSplitTextFont),i.TextColor&&(i.TextColor=Qe.FrameSplitTextColor),i.LineColor&&(i.LineColor=Qe.FrameSplitPen)}},this.GetFontHeight=function(t){return F(this.Canvas,t,"擎")},this.GetScaleTextWidth=function(){}}function U(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="NoneFrame",this.Snapshot=function(){},this.SetSizeChage=function(t){this.SizeChange=t,this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight}}}function z(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="AverageWidthFrame",this.DataWidth=50*L(),this.DistanceWidth=10*L(),this.MinXDistance=30*L(),this.MinYDistance=12*L(),this.CoordinateType=0,this.IsShowYText=[!0,!0],this.XBottomOffset=Qe.Frame.XBottomOffset,this.YTextTopOffset=Qe.Frame.YTopOffset,this.YTextPosition=[0,0],this.YTextPadding=[Qe.Frame.YTextPadding[0],Qe.Frame.YTextPadding[1]],this.IsShowXLine=!0,this.IsShowYLine=!0,this.YInsideOffset=0,this.YTextBaseline=0,this.MultiTextFormat=0,this.RightTextMaxWidth=0,this.ShortYLineLength=5,this.ShortXLineLength=5,this.BeforeDrawXYCallback,this.GetEventCallback,this.ToolbarButtonStyle=Qe.ToolbarButtonStyle,this.CloseWindowButton=V(Qe.Buttons.CloseWindow),this.OverlayIndexButton=V(Qe.Buttons.OverlayIndex),this.ChangeIndexButton=V(Qe.Buttons.ChangeIndex),this.ModifyIndexParamButton=V(Qe.Buttons.ModifyIndexParam),this.MaxMinWindowButton=V(Qe.Buttons.MaxMinWindow),this.TitleWindowButton=V(Qe.Buttons.TitleWindow),this.ButtonTooltip=V(Qe.Buttons.Tooltip),this.DrawPicture={BGColor:Qe.DrawPicture.XYCoordinate.BGColor,TextBGColor:Qe.DrawPicture.XYCoordinate.TextBGColor,TextColor:Qe.DrawPicture.XYCoordinate.TextColor,Font:Qe.DrawPicture.XYCoordinate.Font},this.IChartFramePainting_ReloadResource=this.ReloadResource,this.ReloadResource=function(t){this.IChartFramePainting_ReloadResource(t),t||(this.ToolbarButtonStyle=Qe.ToolbarButtonStyle,this.CloseWindowButton=V(Qe.Buttons.CloseWindow),this.OverlayIndexButton=V(Qe.Buttons.OverlayIndex),this.ChangeIndexButton=V(Qe.Buttons.ChangeIndex),this.ModifyIndexParamButton=V(Qe.Buttons.ModifyIndexParam),this.MaxMinWindowButton=V(Qe.Buttons.MaxMinWindow),this.TitleWindowButton=V(Qe.Buttons.TitleWindow),this.ButtonTooltip=V(Qe.Buttons.Tooltip))},this.DrawFrame=function(){if(this.XPointCount>0){var t=this.ChartBorder.GetWidth()/(6*this.XPointCount);this.DistanceWidth=2*t,this.DataWidth=4*t}this.DrawHorizontal(),this.DrawVertical()},this.DrawTitleButton=function(t,e,i){var a=this.GetBorder();if(this.IsHScreen){var n=a.Bottom-3,r=a.RightTitle+this.ChartBorder.TitleHeight/2;this.Canvas.save(),this.Canvas.translate(r,n),this.Canvas.rotate(90*Math.PI/180);for(var o=0,s=0,l=0,h=0;h<t.length;++h){s=l-(p=(f=t[h]).Style.Size)-f.Style.MerginLeft;var u=p+"px "+f.Style.Family,c=f.Style.Color;this.Canvas.fillStyle=c,this.Canvas.font=u,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(f.Style.Text,s,0),(v={Left:r-p/2,Right:r+p/2,Bottom:n,Width:p,Height:p+f.Style.MerginLeft}).Top=v.Bottom-p-f.Style.MerginLeft,this.Buttons.push({ID:f.ID,Rect:v}),l=s,n=v.Top}this.Canvas.restore()}else{var d=a.Right-3;for(a.Left,o=a.Top+this.ChartBorder.TitleHeight/2,h=0;h<t.length;++h){var f,p,m=d-(p=(f=t[h]).Style.Size)-f.Style.MerginLeft,v=(u=p+"px "+f.Style.Family,{Left:m,Top:o-p/2,Right:m+p+f.Style.MerginLeft,Bottom:o+p/2,Width:p+f.Style.MerginLeft,Height:p});c=f.Style.Color;e&&e.X>=v.Left&&e.X<v.Right&&e.Y>=v.Top&&e.Y<=v.Bottom&&(c=f.Style.MoveOnColor,i&&(i.MouseOnToolbar={Rect:v,Item:f,Frame:this,Point:{X:e.X,Y:e.Y}})),this.Canvas.fillStyle=c,this.Canvas.font=u,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(f.Style.Text,m,o),this.Buttons.push({ID:f.ID,Rect:v}),d=m}}},this.DrawToolbarTooltip=function(t){if(t){var e=this.GetBorder(),i=null;if(t.Item.TooltipText)i=t.Item.TooltipText;else{var a="Toolbar-"+t.Item.ID;i=ei.GetText(a,0)}if(i){L();var n=t.Rect.Left+t.Rect.Width/2;this.Canvas.font=this.ButtonTooltip.Font,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var r=this.Canvas.measureText(i).width+8,o=this.GetFontHeight()+8;if(E.CLOSE_BEFOREOPEN_ID==t.Item.ID)var s=t.Rect.Right+5,l=t.Rect.Top;else{s=n-r/2;(l=e.Top-o)<0&&(l=e.TopEx+1),s+r>e.ChartWidth&&(s=e.ChartWidth-r-2)}this.Canvas.fillStyle=this.ButtonTooltip.ColorBG,this.Canvas.fillRect(s,l,r,o),this.Canvas.fillStyle=this.ButtonTooltip.Color,this.Canvas.fillText(i,s+4,l+o/2)}}},this.GetYFromData=function(t,e){if(this.Logarithmic&&this.GetYLogarithmicFromData)return this.GetYLogarithmicFromData(t,e);if(!1===e){if(1==this.CoordinateType){var i=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetTopEx()+i}i=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetBottomEx()-i}if(1==this.CoordinateType){if(t<=this.HorizontalMin)return this.ChartBorder.GetTopEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetBottomEx();i=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetTopEx()+i}if(t<=this.HorizontalMin)return this.ChartBorder.GetBottomEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetTopEx();i=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetBottomEx()-i},this.DrawHorizontal=function(){if(this.RightTextMaxWidth=0,Ce.IsNonEmptyArray(this.HorizontalInfo)&&!this.ChartBorder.IsShowTitleOnly){for(var t=this.ChartBorder.GetBorder(),e=t.Left,i=t.Right,a=t.Bottom,n=this.ChartBorder.GetTopTitle(),r=this.ChartBorder.Right,o=this.ChartBorder.Left>10&&!0===this.IsShowYText[0]&&2!=this.YTextPosition[0],s=r>10&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1],l=null,h=L(),u=(t.BottomEx-t.TopEx)/this.HorizontalInfo.length,c=[],d=this.HorizontalInfo.length-1;d>=0;--d){var f=this.HorizontalInfo[d],p=this.GetYFromData(f.Value);if(!(null!=p&&null!=l&&Math.abs(p-l)<this.MinYDistance)){var m=R(p);if(p!=a&&this.IsShowYLine){var v=!1;Ce.IsPlusNumber(f.LineWidth)&&(this.Canvas.lineWidth=f.LineWidth*h,v=!0),this.Canvas.strokeStyle=f.LineColor,2==f.LineType?(f.LineDash?this.Canvas.setLineDash(f.LineDash):this.Canvas.setLineDash([5*h,5*h]),this.Canvas.beginPath(),this.Canvas.moveTo(e,m),this.Canvas.lineTo(i,m),this.Canvas.stroke(),this.Canvas.setLineDash([])):3==f.LineType||8==f.LineType||9==f.LineType||f.LineType>0&&(Qe.FrameYLineDash?(this.Canvas.setLineDash(Qe.FrameYLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(e,m),this.Canvas.lineTo(i,m),this.Canvas.stroke(),this.Canvas.setLineDash([])):(this.Canvas.beginPath(),this.Canvas.moveTo(e,m),this.Canvas.lineTo(i,m),this.Canvas.stroke())),v&&(this.Canvas.lineWidth=h)}var g=p;if(p>=a-2?this.Canvas.textBaseline="bottom":p<=n+2?(this.Canvas.textBaseline="top",g+=this.YTextTopOffset):this.Canvas.textBaseline="middle",this.Canvas.strokeStyle=f.TextColor,this.Canvas.fillStyle=f.TextColor,null!=f.Message[0]&&o&&(null!=f.Font&&(this.Canvas.font=f.Font),this.Canvas.textAlign="right",this.Canvas.fillText(f.Message[0],e-this.YTextPadding[0],g)),null!=f.Message[1]&&s){null!=f.Font&&(this.Canvas.font=f.Font);var C=i;if(3==f.LineType){var D=this.ShortYLineLength*L();this.Canvas.beginPath(),this.Canvas.moveTo(C,m),this.Canvas.lineTo(C+D,m),this.Canvas.stroke(),C+=D}if(this.Canvas.textAlign="left",Array.isArray(f.Message[1]))if(1==this.MultiTextFormat){f.ExtendData&&f.ExtendData.Font&&(this.Canvas.font=f.ExtendData.Font);var y={Text:[{Text:f.Message[1][0],Width:this.Canvas.measureText(f.Message[1][0]).width},{Text:f.Message[1][1],Width:this.Canvas.measureText(f.Message[1][1]).width}],X:C+2,Y:g,TextBaseline:this.Canvas.textBaseline,Item:f};c.push(y)}else if(2==this.MultiTextFormat){this.Canvas.fillText(f.Message[1][0],C+this.YTextPadding[1],g);var x=this.Canvas.measureText("M").width;u>2*x&&this.Canvas.fillText(f.Message[1][1],C+this.YTextPadding[1],g+x)}else this.Canvas.fillText(f.Message[1][0],C+this.YTextPadding[1],g);else this.Canvas.fillText(f.Message[1],C+this.YTextPadding[1],g)}l=p}}Ce.IsNonEmptyArray(c)&&1==this.MultiTextFormat&&this.DrawHorizontalMuText(c)}},this.DrawHorizontalMuText=function(t){for(var e=[null,null],i=0;i<t.length;++i){var a=(n=t[i]).Text[0].Width;Ce.IsNumber(e[0])?e[0]<a&&(e[0]=a):e[0]=a,a=n.Text[1].Width,Ce.IsNumber(e[1])?e[1]<a&&(e[1]=a):e[1]=a}for(i=0;i<t.length;++i){var n,r=(n=t[i]).Item;this.Canvas.textBaseline=r.TextBaseline,r.ExtendData&&r.ExtendData.Font?this.Canvas.font=r.ExtendData.Font:r.Font&&(this.Canvas.font=r.Font),r.ExtendData&&r.ExtendData.PriceColor?this.Canvas.fillStyle=r.ExtendData.PriceColor:this.Canvas.fillStyle=r.TextColor,this.Canvas.textAlign="right";var o=n.X+e[1];this.Canvas.fillText(n.Text[1].Text,o,n.Y),r.ExtendData&&r.ExtendData.SplitColor?this.Canvas.fillStyle=r.ExtendData.SplitColor:this.Canvas.fillStyle=r.TextColor,this.Canvas.textAlign="left";var s=this.Canvas.measureText("/").width;this.Canvas.fillText("/",o,n.Y),r.ExtendData&&r.ExtendData.PercentageColor?this.Canvas.fillStyle=r.ExtendData.PercentageColor:this.Canvas.fillStyle=r.TextColor,this.Canvas.textAlign="right";o=n.X+e[1]+e[0]+s;this.Canvas.fillText(n.Text[0].Text,o,n.Y);var l=e[1]+e[0]+4*s;this.RightTextMaxWidth<l&&(this.RightTextMaxWidth=l)}},this.DrawInsideClientHorizontal=function(){var t=this.GetBorder();if(t.DayBorder&&Ce.IsNonEmptyArray(t.DayBorder))var e=(h=t.DayBorder[0]).LeftEx,i=(h=t.DayBorder[t.DayBorder.length-1]).RightEx,a=t.Bottom,n=t.TopTitle;else e=t.LeftEx,i=t.RightEx,a=t.Bottom,n=t.TopTitle;for(var r=L(),o=null,s=null,l=this.HorizontalInfo.length-1;l>=0;--l){var h=this.HorizontalInfo[l],u=this.GetYFromData(h.Value);if(!(null!=u&&null!=o&&Math.abs(u-o)<this.MinYDistance)){if(h.Message[2]){null!=h.Font&&(this.Canvas.font=h.Font),this.Canvas.fillStyle=h.TextColor,this.Canvas.textAlign="left";var c=u;u>=a-2?this.Canvas.textBaseline="bottom":u<=n+2?(this.Canvas.textBaseline="top",c+=this.YTextTopOffset):this.Canvas.textBaseline="middle";var d={X:e,Y:c,Text:{BaseLine:this.Canvas.textBaseline,TextAlign:this.Canvas.textAlign,Font:this.Canvas.font,Value:h.Message[0]}};this.IsOverlayMaxMin&&this.IsOverlayMaxMin(d)||(this.Canvas.fillText(h.Message[2],e+1*r,c),(null==s||s>c)&&(this.YInsideOffset=this.Canvas.measureText(h.Message[2]).width+4*L(),s=c))}if(h.Message[3]){null!=h.Font&&(this.Canvas.font=h.Font),this.Canvas.fillStyle=h.TextColor,this.Canvas.textAlign="right";c=u;u>=a-2?this.Canvas.textBaseline="bottom":u<=n+2?(this.Canvas.textBaseline="top",c+=this.YTextTopOffset):this.Canvas.textBaseline="middle";d={X:i-this.Canvas.measureText(h.Message[3]).width,Y:c,Text:{BaseLine:this.Canvas.textBaseline,TextAlign:this.Canvas.textAlign,Font:this.Canvas.font,Value:h.Message[1]}};this.IsOverlayMaxMin&&this.IsOverlayMaxMin(d)||this.Canvas.fillText(h.Message[3],i-1*r,c)}o=u}}},this.DrawInsideHorizontal=function(){if(!0!==this.IsHScreen&&!(this.IsMinSize||this.ChartBorder.IsShowTitleOnly||!1===this.IsShowYText[0]&&!1===this.IsShowYText[1])){this.DrawInsideClientHorizontal();var t=this.ChartBorder.GetBorder(),e=t.Left,i=t.Right,a=t.Bottom,n=t.TopTitle,r=this.ChartBorder.Right,o=this.ChartBorder.Left,s=(this.ChartBorder.TitleHeight,(o<10||2==this.YTextPosition[0])&&!0===this.IsShowYText[0]),l=(r<10||2==this.YTextPosition[1])&&!0===this.IsShowYText[1];if(s||l)for(var h=L(),u=null,c=null,d=this.HorizontalInfo.length-1;d>=0;--d){var f=this.HorizontalInfo[d],p=this.GetYFromData(f.Value);if(!(null!=p&&null!=u&&Math.abs(p-u)<this.MinYDistance)){if(null!=f.Message[0]&&s){null!=f.Font&&(this.Canvas.font=f.Font),this.Canvas.fillStyle=f.TextColor,this.Canvas.textAlign="left";var m=p;p>=a-2?this.Canvas.textBaseline="bottom":p<=n+2?(this.Canvas.textBaseline="top",m+=this.YTextTopOffset):1==this.YTextBaseline?this.Canvas.textBaseline="bottom":this.Canvas.textBaseline="middle";var v={X:e,Y:m,Text:{BaseLine:this.Canvas.textBaseline,TextAlign:this.Canvas.textAlign,Font:this.Canvas.font,Value:f.Message[0]}};this.IsOverlayMaxMin&&this.IsOverlayMaxMin(v)||(this.Canvas.fillText(f.Message[0],e+1*h,m),(null==c||c>m)&&(this.YInsideOffset=this.Canvas.measureText(f.Message[0]).width+4*L(),c=m))}if(null!=f.Message[1]&&l){null!=f.Font&&(this.Canvas.font=f.Font),this.Canvas.fillStyle=f.TextColor,this.Canvas.textAlign="right";m=p;if(p>=a-2?this.Canvas.textBaseline="bottom":p<=n+2?(this.Canvas.textBaseline="top",m+=this.YTextTopOffset):1==this.YTextBaseline?this.Canvas.textBaseline="bottom":this.Canvas.textBaseline="middle",Array.isArray(f.Message[1]))var g=f.Message[1][0];else g=f.Message[1];v={X:i-this.Canvas.measureText(g).width,Y:m,Text:{BaseLine:this.Canvas.textBaseline,TextAlign:this.Canvas.textAlign,Font:this.Canvas.font,Value:f.Message[1]}};this.IsOverlayMaxMin&&this.IsOverlayMaxMin(v)||this.Canvas.fillText(g,i-1*h,m)}u=p}}}},this.GetXFromIndex=function(t){var e=this.XPointCount;return 1==e?0==t?this.ChartBorder.GetLeft():this.ChartBorder.GetRight():e<=0?this.ChartBorder.GetLeft():t>=e?this.ChartBorder.GetRight():this.ChartBorder.GetLeft()+this.ChartBorder.GetWidth()*t/e},this.DrawVertical=function(){var t=this.GetBorder(),e=t.TopTitle,i=t.Bottom,a=t.RightEx,n=L();if(!(this.ChartBorder.Bottom<=5*L()))for(var r=null,o=null,s=0;s<this.VerticalInfo.length;++s){var l=this.GetXFromIndex(this.VerticalInfo[s].Value);if(l>a)break;if(!(null!=r&&Math.abs(l-r)<this.MinXDistance)){var h=this.VerticalInfo[s],u=R(l);if(this.IsShowXLine&&(2==h.LineType?(this.Canvas.strokeStyle=this.VerticalInfo[s].LineColor,h.LineDash?this.Canvas.setLineDash(h.LineDash):this.Canvas.setLineDash([5*n,5*n]),this.Canvas.beginPath(),this.Canvas.moveTo(u,e),this.Canvas.lineTo(u,i),this.Canvas.stroke(),this.Canvas.setLineDash([])):3==h.LineType||h.LineType>0&&(Qe.FrameXLineDash?(this.Canvas.strokeStyle=this.VerticalInfo[s].LineColor,this.Canvas.setLineDash(Qe.FrameXLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(u,e),this.Canvas.lineTo(u,i),this.Canvas.stroke(),this.Canvas.setLineDash([])):(this.Canvas.strokeStyle=this.VerticalInfo[s].LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(u,e),this.Canvas.lineTo(u,i),this.Canvas.stroke()))),h.BG&&h.BG.Color){var c=h.BG;this.Canvas.fillStyle=c.Color;var d=this.GetXFromIndex(c.Index.Start),f=this.GetXFromIndex(c.Index.End),p=this.ChartBorder.Bottom;Ce.IsNumber(c.Height)&&(p=c.Height);var m={Left:d,Width:f-d,Top:t.Bottom,Height:p};this.Canvas.fillRect(m.Left,m.Top,m.Width,m.Height)}if(null!=this.VerticalInfo[s].Message[0]){null!=this.VerticalInfo[s].Font&&(this.Canvas.font=this.VerticalInfo[s].Font);var v=0;this.Canvas.fillStyle=h.TextColor,this.Canvas.strokeStyle=h.TextColor;var g=this.Canvas.measureText(this.VerticalInfo[s].Message[0]).width;if(l<g/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top",v=l):l+g/2>=this.ChartBorder.GetChartWidth()?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top",v=l-g):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top",v=l-g/2),null==o||v>o){var C=i;if(3==h.LineType){var D=this.ShortXLineLength*n;this.Canvas.beginPath(),this.Canvas.moveTo(u,C),this.Canvas.lineTo(u,C+D),this.Canvas.stroke(),C+=D+2*n}this.Canvas.fillText(this.VerticalInfo[s].Message[0],l,C+this.XBottomOffset),o=v+g}}r=l}}},this.GetYData=function(t,e){return this.Logarithmic&&this.GetYLogarithmicFromData?this.GetYLogarithmicData(t):1==this.CoordinateType?0==e?(t-this.ChartBorder.GetTopEx())/this.ChartBorder.GetHeightEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin:t<this.ChartBorder.GetTopEx()?this.HorizontalMin:t>this.ChartBorder.GetBottomEx()?this.HorizontalMax:(t-this.ChartBorder.GetTopEx())/this.ChartBorder.GetHeightEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin:0==e?(this.ChartBorder.GetBottomEx()-t)/this.ChartBorder.GetHeightEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin:t<this.ChartBorder.GetTopEx()?this.HorizontalMax:t>this.ChartBorder.GetBottomEx()?this.HorizontalMin:(this.ChartBorder.GetBottomEx()-t)/this.ChartBorder.GetHeightEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin},this.GetXData=function(t){return t<=this.ChartBorder.GetLeft()?0:t>=this.ChartBorder.GetRight()?this.XPointCount:(t-this.ChartBorder.GetLeft())*(1*this.XPointCount/this.ChartBorder.GetWidth())},this.DrawPictureXCoordinate=function(t,e,i){if(!this.IsHScreen&&e&&Ce.IsNonEmptyArray(e.Points)){var a=this.GetBorder(),n=a.Left,r=a.Right;this.Canvas.font=this.DrawPicture.Font;var o=this.GetFontHeight();if(e.X){var s=e.X,l=s.Min.X,h=s.Max.X;l<n&&(l=n),h>r&&(h=r),this.Canvas.fillStyle=this.DrawPicture.BGColor,this.Canvas.fillRect(l,a.Bottom,h-l,o)}for(var u=0;u<e.Points.length;++u){var c=e.Points[u];if(!(c.X<n||c.X>r)){var d=this.GetXData(c.X,!1),f=(d=Math.round(d),this.GetKItem(d));if(f){var p=Ce.FormatDateString(f.Date,null);mt.IsMinutePeriod(i.Period)&&(p+=" "+Ce.FormatTimeString(f.Time,"HH:MM"));var m=this.Canvas.measureText(p).width+2,v=c.X-m/2;v<n&&(v=n),this.Canvas.fillStyle=this.DrawPicture.TextBGColor,this.Canvas.fillRect(v,a.Bottom,m,o),this.Canvas.fillStyle=this.DrawPicture.TextColor;var g=a.Bottom+o;this.Canvas.fillText(p,v+1,g)}}}}},this.GetKItem=function(t){if(!this.Data)return null;if(!Ce.IsNonEmptyArray(this.Data.Data))return null;var e=this.Data.DataOffset+t;return this.Data.Data[e]},this.DrawPictureYCoordinate=function(t,e,i){if(!this.IsHScreen&&e&&Ce.IsNonEmptyArray(e.Points)){var a=this.GetBorder(),n=a.TopEx,r=a.BottomEx,o=a.Right;this.Canvas.font=this.DrawPicture.Font;var s=this.GetFontHeight();this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom";var l=2;i&&i.Symbol&&(l=Ni(i.Symbol));for(var h=0,u=0;u<e.Points.length;++u){var c=e.Points[u],d=this.GetYData(c.Y).toFixed(l),f=this.Canvas.measureText(d).width;h<f&&(h=f),e.Points[u].Text=d}if(h+=this.YTextPadding[1]+2,e.Y){var p=e.Y,m=p.Min.Y,v=p.Max.Y;p.Min.Y<n&&(m=n),p.Max.Y>r&&(v=r),this.Canvas.fillStyle=this.DrawPicture.BGColor,this.Canvas.fillRect(o,m,h+5,v-m)}for(u=0;u<e.Points.length;++u){if(!((c=e.Points[u]).Y<n||c.Y>r)){this.Canvas.fillStyle=this.DrawPicture.TextBGColor,this.Canvas.fillRect(o,c.Y-s/2,h,s),this.Canvas.fillStyle=this.DrawPicture.TextColor;var g=c.Y+s/2;this.Canvas.fillText(c.Text,o+this.YTextPadding[1],g)}}}},this.GetCustomItemTextInfo=function(t,e,i){var a=e?t.Message[0]:t.Message[1],n=[],r=0;if(Array.isArray(a)){for(var o=0;o<a.length;++o){if(1===(t=a[o]).Type)n.push({Type:t.Type});else{var s=this.Canvas.measureText(a[o].Text).width;s>r&&(r=s),n.push({Text:a[o].Text,Width:s+2*i})}}r>0&&(r+=2*i)}else r=this.Canvas.measureText(a).width+2*i,n.push({Text:a,Width:r});return{MaxWidth:r,Text:n}},this.DrawCustomItem=function(t){if(t.Message[1]||t.Message[0])if(t.Value>this.HorizontalMax||t.Value<this.HorizontalMin)this.SendDrawCountDownEvent({IsShow:!1});else{var e=this.GetBorder(),i=e.Left,a=e.Right,n=e.Bottom,r=e.Top,o=this.ChartBorder.Right,s=this.ChartBorder.Left;this.ChartBorder.TitleHeight;this.IsHScreen&&(s=this.ChartBorder.Top,o=this.ChartBorder.Bottom,r=e.Top,n=e.Bottom);var l=L(),h=18*l,u=h,c=this.GetYFromData(t.Value),d=0;if(t.ExtendData&&t.ExtendData.Custom){var f=t.ExtendData.Custom;Ce.IsNumber(f.Position)&&(d=f.Position)}if(t.Message[0])if(s<10||1==d){null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var p=(T=this.GetCustomItemTextInfo(t,!0,l)).MaxWidth;u=(b=this.GetFontHeight())>h?b:h;var m=t.LineColor;(w=this.RGBToStruct(t.LineColor))&&(m="rgba("+w.R+", "+w.G+", "+w.B+", "+Qe.FrameLatestPrice.BGAlpha+")");for(var v=c,g=0;g<T.Text.length;++g){var C=T.Text[g];if(this.IsHScreen){var D=r,y=v-u/2-1*l;this.Canvas.fillStyle=m,this.Canvas.fillRect(y,D,u,C.Width),this.DrawHScreenText({X:v,Y:D},{Text:C.Text,Color:t.TextColor,XOffset:1*l,YOffset:2*l}),0==g&&this.DrawLine(D+C.Width,n,v,t.LineColor,t.LineType,t),v-=u+1*l}else if(1===C.Type);else{D=v-u/2-1*l,y=i+1*l;this.Canvas.fillStyle=m,this.Canvas.fillRect(y,D,C.Width,u),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(C.Text,y+1*l,v),0==g&&this.DrawLine(y+C.Width,a,v,t.LineColor,t.LineType,t),v+=u+1*l}}}else{null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle";p=(T=this.GetCustomItemTextInfo(t,!0,l)).MaxWidth;u=(b=this.GetFontHeight())>h?b:h;for(v=c,g=0;g<T.Text.length;++g){C=T.Text[g];if(this.IsHScreen){if(0==g)D=r-C.Width;else D=r-p;y=v-u/2-1*l;this.Canvas.fillStyle=t.LineColor,this.Canvas.fillRect(y,D,u,C.Width),this.DrawHScreenText({X:v,Y:D},{Text:C.Text,Color:t.TextColor,XOffset:1*l,YOffset:2*l}),0==g&&this.DrawLine(D+C.Width,n,v,t.LineColor,t.LineType,t),v-=u+1*l}else{D=v-u/2-1*l;if(0==g){var x=i-C.Width;y=i}else x=i-p,y=i-(p-C.Width);this.Canvas.fillStyle=t.LineColor,this.Canvas.fillRect(x,D,C.Width,u),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(C.Text,y-1*l,v),0==g&&this.DrawLine(i,a,v,t.LineColor,t.LineType,t),v+=u+1*l}}}else if(t.Message[1])if(o<10||1==d){null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";p=(T=this.GetCustomItemTextInfo(t,!1,l)).MaxWidth;u=(b=this.GetFontHeight())>h?b:h;m=t.LineColor;(w=this.RGBToStruct(t.LineColor))&&(m="rgba("+w.R+", "+w.G+", "+w.B+", "+Qe.FrameLatestPrice.BGAlpha+")");for(v=c,g=0;g<T.Text.length;++g){C=T.Text[g];if(this.IsHScreen){D=n-C.Width,y=v-u/2-1*l;this.Canvas.fillStyle=m,this.Canvas.fillRect(y,D,u,p),this.DrawHScreenText({X:v,Y:D},{Text:C.Text,Color:t.TextColor,XOffset:1*l,YOffset:2*l}),0==g&&this.DrawLine(r,D,v,t.LineColor,t.LineType,t),v-=u+1*l}else if(1===C.Type){if(this.GetEventCallback){var S={Top:D=v-u/2-1*l,Right:a,Height:null,IsShow:!0,BGColor:t.LineColor,TextColor:t.TextColor,PixelTatio:l,Position:"Right",IsInside:!0};this.SendDrawCountDownEvent(S)&&Ce.IsPlusNumber(S.Height)&&(v+=u+1*l)}}else{D=v-u/2-1*l,y=a-C.Width;this.Canvas.fillStyle=m,this.Canvas.fillRect(y,D,p,u),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(C.Text,y+1*l,v),0==g&&this.DrawLine(i,y,v,t.LineColor,t.LineType,t),v+=u+1*l}}if((3==t.Type||4==t.Type)&&t.Title){var I=this.Canvas.measureText(t.Title).width+2*l;if(this.IsHScreen){D=n-C.Width-I,y=c-u/2-1*l;this.Canvas.fillStyle=m,this.Canvas.fillRect(y,D,u,I),this.DrawHScreenText({X:c,Y:D},{Text:t.Title,Color:t.TextColor,XOffset:1*l,YOffset:2*l})}else{D=c-u/2-1*l,y=a-p-I-1*l;this.Canvas.fillStyle=m,this.Canvas.fillRect(y,D,I,u),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Title,y+1*l,c)}}}else{null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var T,b;p=(T=this.GetCustomItemTextInfo(t,!1,l)).MaxWidth;u=(b=this.GetFontHeight())>h?b:h;for(v=c,g=0;g<T.Text.length;++g){C=T.Text[g];if(this.IsHScreen){D=n,y=v-u/2-1*l;this.Canvas.fillStyle=t.LineColor,this.Canvas.fillRect(y,D,u,C.Width),this.DrawHScreenText({X:v,Y:D},{Text:C.Text,Color:t.TextColor,XOffset:1*l,YOffset:2*l}),0==g&&this.DrawLine(r,D,v,t.LineColor,t.LineType,t),v-=u+1*l}else if(1===C.Type){if(this.GetEventCallback){S={Top:D=v-u/2-1*l,Left:a,Right:this.ChartBorder.GetChartWidth(),Height:null,IsShow:!0,BGColor:t.LineColor,TextColor:t.TextColor,PixelTatio:l,Position:"Right",IsInside:!1};this.SendDrawCountDownEvent(S)&&Ce.IsPlusNumber(S.Height)&&(v+=u+1*l)}}else{D=v-u/2-1*l;if(0==g)y=a;else y=a+p-C.Width;this.Canvas.fillStyle=t.LineColor,this.Canvas.fillRect(y,D,C.Width,u),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(C.Text,y+1*l,v),0==g&&this.DrawLine(i,a,v,t.LineColor,t.LineType,t),v+=u+1*l}}if((3==t.Type||4==t.Type)&&t.Title){var w;m=t.LineColor;(w=this.RGBToStruct(t.LineColor))&&(m="rgba("+w.R+", "+w.G+", "+w.B+", "+Qe.FrameLatestPrice.BGAlpha+")");I=this.Canvas.measureText(t.Title).width+2*l;if(this.IsHScreen){D=n-I,y=c-u/2-1*l;this.Canvas.fillStyle=m,this.Canvas.fillRect(y,D,u,I),this.DrawHScreenText({X:c,Y:D},{Text:t.Title,Color:t.TextColor,XOffset:1*l,YOffset:2*l})}else{D=c-u/2-1*l,y=a-I-1*l;this.Canvas.fillStyle=m,this.Canvas.fillRect(y,D,I,u),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Title,y+1*l,c)}}}}},this.SendDrawCountDownEvent=function(t){if(!this.GetEventCallback)return!1;var e=this.GetEventCallback(b.ON_DRAW_COUNTDOWN);return!(!e||!e.Callback)&&(e.Callback(e,t,this),!0)},this.DrawDotLine=function(t,e,i,a,n){var r=L();this.Canvas.save(),this.Canvas.strokeStyle=a,n&&Ce.IsPlusNumber(n.LineWidth)&&(this.Canvas.lineWidth=n.LineWidth*r),n.LineDash?this.Canvas.setLineDash(n.LineDash):this.Canvas.setLineDash([5*r,5*r]),this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(R(i),t),this.Canvas.lineTo(R(i),e)):(this.Canvas.moveTo(t,R(i)),this.Canvas.lineTo(e,R(i))),this.Canvas.stroke(),this.Canvas.restore()},this.DrawLine=function(t,e,i,a,n,r){if(-1!=n)if(0==n){var o=L();this.Canvas.strokeStyle=a;var s=!1;r&&Ce.IsPlusNumber(r.LineWidth)&&(this.Canvas.lineWidth=r.LineWidth*o,s=!0),this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(R(i),t),this.Canvas.lineTo(R(i),e)):(this.Canvas.moveTo(t,R(i)),this.Canvas.lineTo(e,R(i))),this.Canvas.stroke(),s&&(this.Canvas.lineWidth=o)}else this.DrawDotLine(t,e,i,a,r)},this.DrawHScreenText=function(t,e){this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=e.Color,this.Canvas.save(),this.Canvas.translate(t.X,t.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(e.Text,e.XOffset,e.YOffset),this.Canvas.restore()},this.RGBToStruct=function(t){if(/^(rgb|RGB)/.test(t)){var e=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),i={};return 3!=e.length?null:(i.R=Number(e[0]),i.G=Number(e[1]),i.B=Number(e[2]),i)}return null},this.GetScaleTextWidth=function(){this.ChartBorder.GetBorder();var t=L();if(this.IsHScreen)var e=this.ChartBorder.Top,i=this.ChartBorder.Bottom,a=e>10*t&&!0===this.IsShowYText[0]&&2!=this.YTextPosition[0],n=i>10*t&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1];else{var r=this.ChartBorder.Right;a=this.ChartBorder.Left>10&&!0===this.IsShowYText[0]&&2!=this.YTextPosition[0],n=r>10&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1]}if(!n&&!a)return null;var o={Left:null,Right:null},s=0,l=!1;this.YSplitOperator&&1==this.YSplitOperator.CoordinateType&&(l=!0);for(var h=0;h<this.HorizontalInfo.length;++h){var u=null,c=this.HorizontalInfo[h];if(c&&(null!=c.Font&&(this.Canvas.font=c.Font),null!=c.Message[0]&&a&&(u=this.Canvas.measureText(c.Message[0]).width,(null==o.Left||o.Left<u)&&(o.Left=u)),null!=c.Message[1]&&n)){if(null!=c.Font&&(this.Canvas.font=c.Font),Array.isArray(c.Message[1])){if(1==this.MultiTextFormat){if(c.ExtendData){c.ExtendData.Font&&(this.Canvas.font=c.ExtendData.Font);var d=this.Canvas.measureText(c.Message[1][0]).width,f=this.Canvas.measureText(c.Message[1][1]).width;u=d+this.Canvas.measureText("/").width,s<f&&(s=f)}}else if(2==this.MultiTextFormat){u=this.Canvas.measureText(c.Message[1][0]).width;var p=this.Canvas.measureText(c.Message[1][1]).width;u<p&&(u=p)}else if(u=this.Canvas.measureText(c.Message[1][0]).width,l){var m=this.Canvas.measureText("-00.00%").width;m>u&&(u=m)}}else u=this.Canvas.measureText(c.Message[1]).width;(null==o.Right||o.Right<u)&&(o.Right=u)}}return Ce.IsNumber(o.Right)&&(o.Right+=s),Ce.IsNumber(o.Left)&&(o.Left+=this.YTextPadding[0]),Ce.IsNumber(o.Right)&&(o.Right+=this.YTextPadding[1]),{TextWidth:o}},this.ClearToolbar=function(){if(this.ToolbarID){var t=document.getElementById(this.ToolbarID);t&&(this.ChartBorder.UIElement.parentNode.removeChild(t),this.ToolbarRect=null)}},this.HideToolbar=function(){if(this.ToolbarID){this.ToolbarRect=null;var t=document.getElementById(this.ToolbarID);t&&"none"!=t.style.display&&(t.style.display="none")}}}function K(){this.newMethod=z,this.newMethod(),delete this.newMethod,this.ClassName="MinuteFrame",this.DataWidth=1*L(),this.DistanceWidth=1*L(),this.MinuteCount=243,this.BeforeBGColor=Qe.Minute.Before.BGColor,this.AfterBGColor=Qe.Minute.After.BGColor,this.MultiDayBorderPen=Qe.MultiDayBorderPen,this.CustomHorizontalInfo=[],this.RightFrame=null,this.ToolbarID=P(),this.ReDrawToolbar=!1,this.DayCount=1,this.ModifyIndex=!0,this.ChangeIndex=!0,this.CloseIndex=!0,this.MaxMinWindow=!0,this.TitlteWindow=!0,this.ModifyIndexEvent,this.ChangeIndexEvent,this.ToolbarRect=null,this.IsShowPositionTitle=!1,this.LastCalculateStatus={Width:0,XPointCount:0},this.BeforeCloseIcon=V(Qe.Minute.Before.CloseIcon),this.BeforeOpenVerticalInfo=[],this.AfterCloseVerticalInfo=[],this.DrawFrame=function(){this.IsMinSize||(this.SplitXYCoordinate(),this.DrawBeforeDataBG(),this.YInsideOffset=0,this.DrawTitleBG(),this.DrawHorizontal(),this.DrawVertical()),1!=this.SizeChange&&1!=this.ReDrawToolbar||(this.DrawToolbar(),this.ReDrawToolbar=!1)},this.SuperDrawBorder=this.DrawBorder,this.DrawBorder=function(){if(this.IsShowBorder&&!this.IsMinSize&&(this.SuperDrawBorder(),1==this.Identify)){var t=this.ChartBorder.GetBorder(),e=R(t.Left),i=R(t.Top),a=R(t.Right);this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),this.Canvas.moveTo(e,i),this.Canvas.lineTo(a,i),this.Canvas.save(),this.Canvas.lineWidth=2*L(),this.Canvas.stroke(),this.Canvas.restore()}},this.DrawVolTitle=function(t){if(Ii.IsShowMinuteVolTitle(t)&&1==this.Identify){var e=L(),i=this.ChartBorder.GetLeft()+2*e+this.YInsideOffset,a=this.ChartBorder.GetTopEx()+2*e;if(this.Canvas.textAlign="left",this.Canvas.textBaseline="top",Qe.Minute.VolBarColor||Qe.Minute.VolTitleColor){Qe.Minute.VolBarColor?this.Canvas.fillStyle=Qe.Minute.VolBarColor:this.Canvas.fillStyle=Qe.Minute.VolTitleColor;var n=this.YSplitOperator.LanguageID,r=ei.GetText("MVol-Vol",n);this.Canvas.fillText(r,i,a),i+=this.Canvas.measureText(r).width,i+=6*L()}this.IsShowPositionTitle&&(r=ei.GetText("MVol-Position",n),this.Canvas.fillStyle=Qe.Minute.PositionColor,this.Canvas.fillText(r,i,a))}},this.DrawToolbar=function(){if(1!=this.ToolbarButtonStyle&&void 0!==m.default&&!(this.Identify<2)&&this.ChartBorder.UIElement){var t=document.getElementById(this.ToolbarID);if(!t||0!=this.SizeChange||0!=this.ReDrawToolbar)if(t||((t=document.createElement("div")).className="klineframe-toolbar",t.id=this.ToolbarID,t.oncontextmenu=function(){return!1},t.setAttribute("identify",this.Identify.toString()),this.ChartBorder.UIElement.parentNode.appendChild(t)),this.ModifyIndex||this.ChangeIndex||this.OverlayIndex||this.CloseIndex){var e=L(),i=parseInt(this.ChartBorder.UIElement.parentElement.style.width.replace("px","")),a=(parseInt(this.ChartBorder.UIElement.parentElement.style.height.replace("px","")),this.ChartBorder.GetTitleHeight()),n=i-this.ChartBorder.Right/e-100,r=this.ChartBorder.GetTop()/e;if(!this.ToolbarRect||this.ToolbarRect.Left!=n||this.ToolbarRect.Top!=r||100!=this.ToolbarRect.Width||this.ToolbarRect.Height!=a/e){this.ToolbarRect={Left:n,Top:r,Width:100,Height:a/e};var o="<span class='index_param icon iconfont icon-index_param' id='modifyindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='调整指标参数'></span><span class='index_change icon iconfont icon-change_index' id='changeindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='切换指标'></span>";this.CloseIndex&&(o+="<span class='index_close icon iconfont icon-close' id='closeindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='关闭指标窗口'></span>"),t.style.left=n+"px",t.style.top=r+"px",t.style.width="100px",t.style.height=a/e+"px",t.innerHTML=o;this.ChartBorder.UIElement.JSChartContainer,this.Identify;this.ModifyIndex?"function"==typeof this.ModifyIndexEvent&&(0,m.default)("#"+t.id+" .index_param").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify},this.ModifyIndexEvent):(0,m.default)("#"+t.id+" .index_param").hide(),this.ChangeIndex?"function"==typeof this.ChangeIndexEvent&&(0,m.default)("#"+t.id+" .index_change").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify,IsOverlay:!1},this.ChangeIndexEvent):(0,m.default)("#"+t.id+" .index_change").hide(),(0,m.default)("#"+t.id+" .index_close").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify},function(t){var e=t.data.Chart,i=t.data.Identify;e.RemoveIndexWindow(i)}),t.style.display="block"}}else"none"!=t.style.display&&(t.style.display="none")}},this.DrawToolbarV2=function(t,e){if(0==this.Identify&&this.DrawCloseBeforeButton(t,e),!(this.ChartBorder.TitleHeight<5)&&0!=this.Identify&&1!=this.Identify){var i=[];if(this.CloseIndex&&i.push({ID:E.CLOSE_INDEX_WINDOW,Style:this.CloseWindowButton}),this.MaxMinWindow&&i.push({ID:E.MAX_MIN_WINDOW,Style:this.MaxMinWindowButton}),this.TitlteWindow&&i.push({ID:E.TITLE_WINDOW,Style:this.TitleWindowButton}),this.OverlayIndex&&i.push({ID:E.OVERLAY_INDEX,Style:this.OverlayIndexButton}),this.ChangeIndex&&i.push({ID:E.CHANGE_INDEX,Style:this.ChangeIndexButton}),this.ModifyIndex&&i.push({ID:E.MODIFY_INDEX_PARAM,Style:this.ModifyIndexParamButton}),Ce.IsNonEmptyArray(this.CustomToolbar))for(var a=0;a<this.CustomToolbar.length;++a){var n=this.CustomToolbar[a];n.ID&&n.Style&&i.push({ID:n.ID,Style:n.Style,TooltipText:n.TooltipText})}this.DrawTitleButton(i,t,e)}},this.DrawCloseBeforeButton=function(t,e){if(0==this.Identify){var i=this.ChartBorder.GetBorder();if(!(i.DayBorder||this.ChartBorder.LeftExtendWidth<10)){var a={Left:i.Left,Top:i.TopEx,Width:this.BeforeCloseIcon.Size,Height:this.BeforeCloseIcon.Size};a.Right=a.Left+this.BeforeCloseIcon.Size,a.Bottom=a.Top+this.BeforeCloseIcon.Size;var n={Rect:a,Name:"集合竞价关闭按钮",ID:E.CLOSE_BEFOREOPEN_ID},r=this.BeforeCloseIcon.Color;t&&t.X>=a.Left&&t.X<a.Right&&t.Y>=a.Top&&t.Y<=a.Bottom&&(r=this.BeforeCloseIcon.MoveOnColor,e&&(e.MouseOnToolbar={Rect:a,Item:n,Frame:this,Point:{X:t.X,Y:t.Y}}));var o=this.BeforeCloseIcon.Size+"px "+this.BeforeCloseIcon.Family;this.Canvas.font=o,this.Canvas.fillStyle=r,this.Canvas.textAlign="left",this.Canvas.textBaseline="top",this.Canvas.fillText(this.BeforeCloseIcon.Text,i.Left,i.TopEx),this.Buttons.push(n)}}},this.DrawMultiDayBeforeDataBG=function(t){var e=t.DayBorder,i=R(t.Top),a=R(t.Bottom),n=a-i;this.Canvas.strokeStyle=this.MultiDayBorderPen;for(var r=0;r<e.length;++r){var o=0,s=e[r],l=R(s.Left);(u=(h=R(s.LeftEx))-l)>3&&(this.Canvas.fillStyle=this.BeforeBGColor,this.Canvas.fillRect(l,i,u,n),++o);var h,u;l=R(s.RightEx);(u=(h=R(s.Right))-l)>3&&(this.Canvas.fillStyle=this.AfterBGColor,this.Canvas.fillRect(l,i,u,n),++o),2==o&&r!=e.length-1&&(this.Canvas.beginPath(),this.Canvas.moveTo(h,i),this.Canvas.lineTo(h,a),this.Canvas.stroke())}},this.DrawCallAuctionVertical=function(t,e,i,a){if(e){var n=i.TopTitle,r=i.Bottom,o=(i.Left,i.LeftEx),s=L(),l=null,h=null;for(var u in t){var c=t[u],d=this.GetLeftExtendXFromIndex(c.Value,e);if(d>o)break;if(!(null!=l&&Math.abs(d-l)<this.MinXDistance)){var f=R(d);if(this.IsShowXLine&&(2==c.LineType?(this.Canvas.strokeStyle=c.LineColor,this.Canvas.setLineDash([5*s,5*s]),this.Canvas.beginPath(),this.Canvas.moveTo(f,n),this.Canvas.lineTo(f,r),this.Canvas.stroke(),this.Canvas.setLineDash([])):3==c.LineType||c.LineType>0&&(Qe.FrameXLineDash?(this.Canvas.strokeStyle=c.LineColor,this.Canvas.setLineDash(Qe.FrameXLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(f,n),this.Canvas.lineTo(f,r),this.Canvas.stroke(),this.Canvas.setLineDash([])):(this.Canvas.strokeStyle=c.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(f,n),this.Canvas.lineTo(f,r),this.Canvas.stroke()))),null!=c.Message[0]&&this.ChartBorder.Bottom>5*s){null!=c.Font&&(this.Canvas.font=c.Font);var p=0;this.Canvas.fillStyle=c.TextColor,this.Canvas.strokeStyle=c.TextColor;var m=this.Canvas.measureText(c.Message[0]).width;if(d<m/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top",p=d):d+m/2>=i.ChartWidth?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top",p=d-m):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top",p=d-m/2),null==h||p>h){var v=r;if(3==c.LineType){var g=this.ShortXLineLength*s;this.Canvas.beginPath(),this.Canvas.moveTo(f,v),this.Canvas.lineTo(f,v+g),this.Canvas.stroke(),v+=g+2*s}this.Canvas.fillText(c.Message[0],d,v+this.XBottomOffset),h=p+m}}l=d}}}},this.DrawBeforeDataBG=function(){var t=this.ChartBorder.GetBorder();if(t.DayBorder)this.DrawMultiDayBeforeDataBG(t);else if(!(this.ChartBorder.LeftExtendWidth<10&&this.ChartBorder.RightExtendWidth<10)){var e=R(t.Top),i=R(t.Bottom);if(this.Canvas.fillStyle=this.BeforeBGColor,this.ChartBorder.LeftExtendWidth>10){var a=R(t.Left),n=R(this.ChartBorder.GetLeft())-a,r=i-e;this.Canvas.fillRect(a,e,n,r),this.DrawCallAuctionVertical(this.BeforeOpenVerticalInfo,this.YSplitOperator.BeforeOpenData,t,!0)}if(this.ChartBorder.RightExtendWidth>10){this.Canvas.fillStyle=this.AfterBGColor;a=R(this.ChartBorder.GetRight()),n=R(t.Right)-a,r=i-e;this.Canvas.fillRect(a,e,n,r)}}},this.DrawPictureXCoordinate=function(t,e,i){if(!this.IsHScreen&&e&&Ce.IsNonEmptyArray(e.Points)){var a=this.GetBorder(),n=a.Left,r=a.Right;this.Canvas.font=this.DrawPicture.Font;var o=this.GetFontHeight();if(e.X){var s=e.X,l=s.Min.X,h=s.Max.X;l<n&&(l=n),h>r&&(h=r),this.Canvas.fillStyle=this.DrawPicture.BGColor,this.Canvas.fillRect(l,a.Bottom,h-l,o)}for(var u=0;u<e.Points.length;++u){var c=e.Points[u];if(!(c.X<n||c.X>r)){var d=parseInt(this.GetXData(c.X)),f=this.GetKItem(d,i);if(f){var p=Ce.FormatTimeString(f.Time,"HH:MM"),m=this.Canvas.measureText(p).width+2,v=c.X-m/2;v<n&&(v=n),this.Canvas.fillStyle=this.DrawPicture.TextBGColor,this.Canvas.fillRect(v,a.Bottom,m,o),this.Canvas.fillStyle=this.DrawPicture.TextColor;var g=a.Bottom+o;this.Canvas.fillText(p,v+1,g)}}}}},this.GetKItem=function(t,e){if(!this.Data)return null;if(!Ce.IsNonEmptyArray(this.Data.Data))return null;if(t<this.Data.Data.length)return this.Data.Data[t];var i=this.Data.Data[this.Data.Data.length-1],a=bi.GetTimeData(e.Symbol),n=a[t%a.length];return{Date:i.Date,Time:n}},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.XSplitOperator&&this.XSplitOperator.Operator(),null!=this.YSplitOperator&&this.YSplitOperator.Operator())},this.GetMultiDayXFromIndex=function(t,e){var i=e.DayBorder,a=t%this.MinuteCount,n=parseInt(t/this.MinuteCount);n>=i.length&&(n=i.length-1);var r=i[n],o=this.MinuteCount-1;if(a>=o)return r.RightEx;var s=r.RightEx-r.LeftEx;return r.LeftEx+s*a/o},this.GetXFromIndex=function(t){var e=this.XPointCount-1,i=this.ChartBorder.GetBorder();if(i.DayBorder)return this.GetMultiDayXFromIndex(t,i);if(1==e)return 0==t?i.LeftEx:i.RightEx;if(e<=0)return i.LeftEx;if(t>=e)return i.RightEx;var a=i.RightEx-i.LeftEx;return i.LeftEx+a*t/e},this.GetMultiDayXData=function(t,e){for(var i=e.DayBorder,a=0;a<i.length;++a){var n=i[a];if(t>=n.Left&&t<=n.Right){var r=this.MinuteCount-1,o=this.MinuteCount*a;if(t<=n.LeftEx)return 0+o;if(t>=n.RightEx)return r+o;var s=n.RightEx-n.LeftEx;return(t-n.LeftEx)*(1*r/s)+o}}},this.GetXData=function(t){var e=this.XPointCount-1;e<0&&(e=0);var i=this.ChartBorder.GetBorder();if(i.DayBorder)return this.GetMultiDayXData(t,i);if(t<=i.LeftEx)return 0;if(t>=i.RightEx)return e;var a=i.RightEx-i.LeftEx;return(t-i.LeftEx)*(1*e/a)},this.DrawCustomHorizontal=function(){if(!this.IsMinSize)for(var t in this.CustomHorizontalInfo){var e=this.CustomHorizontalInfo[t];switch(e.Type){case 0:case 1:this.DrawCustomItem(e)}}},this.GetLeftExtendXFromIndex=function(t,e){var i=e.TotalCount-1,a=this.ChartBorder.GetBorder();return a.DayBorder?this.GetLeftExtendMultiDayXFromIndex(t,e,a):a.Left+this.ChartBorder.LeftExtendWidth*t/i},this.GetLeftExtendMultiDayXFromIndex=function(t,e,i){var a=i.DayBorder[e.Index],n=e.TotalCount-1,r=a.Left;return r+(a.LeftEx-r)*t/n},this.GetLeftExtendMultiDayXData=function(t,e,i){for(var a=i.DayBorder,n=0;n<a.length;++n){var r=a[n];if(t>=r.Left&&t<=r.LeftEx){if(!e[n])return null;var o=e[n].TotalCount-1,s=r.Left,l=1*o/(r.LeftEx-s)*(t-s);return{DayIndex:parseInt(n),DataIndex:l}}}},this.GetLeftExtendXData=function(t,e){var i=this.ChartBorder.GetBorder();if(i.DayBorder)return this.GetLeftExtendMultiDayXData(t,e,i);var a=e.TotalCount-1;a<0&&(a=0);var n=i.Left,r=i.LeftEx;return t<=n?0:t>=r?a:1*a/(r-n)*(t-n)},this.MoveXIndexLeft=function(t,e){if(g.Chart.Log("[MinuteFrame::MoveXIndexLeft] obj ",e),2==e.DataType){var i=e.IndexData.DayIndex,a=e.IndexData.DataIndex-t,n=-1;if(20==e.IndexData.Type)n=0;else if(10==e.IndexData.Type)n=1;else{if(30!=e.IndexData.Type)return!1;n=2}for(var r=i,o=n;r>=0;--r){for(var s=e.Data[r];o>=0;--o){if((h=s[o]).DayItem&&h.DayItem.Data){for(null==a&&(a=h.DayItem.Data.length-1);a>=0;--a){if(u=h.DayItem.Data[a]){if(10==h.Type){var l=this.MinuteCount*r+a;return e.Point.X=this.GetXFromIndex(l),e.Point.Y=this.GetYFromData(u.Close),e.IndexData.CursorIndex=l,e.IndexData.DayIndex=r,e.IndexData.DataIndex=a,e.IndexData.Type=h.Type,!0}if(20==h.Type){if(!Ce.IsNumber(u.Price))continue;return e.Point.X=this.GetLeftExtendXFromIndex(a,h.DayItem),e.Point.Y=this.GetLeftExtendYFromData(u.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=r,e.IndexData.DataIndex=a,e.IndexData.Type=h.Type,!0}if(30==h.Type){if(!Ce.IsNumber(u.Price))continue;return e.Point.X=this.GetRightExtendXFromIndex(a,h.DayItem),e.Point.Y=this.GetRightExtendYFromData(u.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=r,e.IndexData.DataIndex=a,e.IndexData.Type=h.Type,!0}}}a=null}}o=2}return!1}if(1==e.DataType){i=e.IndexData.DayIndex,a=e.IndexData.DataIndex-t,n=-1;if(2==e.IndexData.Type)n=0;else if(1==e.IndexData.Type)n=1;else{if(3!=e.IndexData.Type)return!1;n=2}for(r=n;r>=0;--r){var h;if((h=e.Data[r])&&h.DayItem&&h.DayItem.Data){for(null==a&&(a=h.DayItem.Data.length-1);a>=0;--a){var u;if(u=h.DayItem.Data[a]){if(1==h.Type){l=a;return e.Point.X=this.GetXFromIndex(l),e.Point.Y=this.GetYFromData(u.Close),e.IndexData.CursorIndex=l,e.IndexData.DayIndex=0,e.IndexData.DataIndex=a,e.IndexData.Type=h.Type,!0}if(2==h.Type){if(!Ce.IsNumber(u.Price))continue;return e.Point.X=this.GetLeftExtendXFromIndex(a,h.DayItem),e.Point.Y=this.GetLeftExtendYFromData(u.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=0,e.IndexData.DataIndex=a,e.IndexData.Type=h.Type,!0}if(3==h.Type){if(!Ce.IsNumber(u.Price))continue;return e.Point.X=this.GetRightExtendXFromIndex(a,h.DayItem),e.Point.Y=this.GetRightExtendYFromData(u.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=0,e.IndexData.DataIndex=a,e.IndexData.Type=h.Type,!0}}}a=null}}}},this.MoveXIndexRight=function(t,e){if(g.Chart.Log("[MinuteFrame::MoveXIndexRight] obj ",e),2==e.DataType){var i=e.IndexData.DayIndex,a=e.IndexData.DataIndex+t,n=-1;if(20==e.IndexData.Type)n=0;else if(10==e.IndexData.Type)n=1;else{if(30!=e.IndexData.Type)return!1;n=2}for(var r=i,o=n;r<e.Data.length;++r){for(var s=e.Data[r];o<3;++o){if((h=s[o]).DayItem&&h.DayItem.Data){for(null==a&&(a=0);a<h.DayItem.Data.length;++a){if(u=h.DayItem.Data[a]){if(10==h.Type){var l=this.MinuteCount*r+a;return e.Point.X=this.GetXFromIndex(l),e.Point.Y=this.GetYFromData(u.Close),e.IndexData.CursorIndex=l,e.IndexData.DayIndex=r,e.IndexData.DataIndex=a,e.IndexData.Type=h.Type,!0}if(20==h.Type){if(!Ce.IsNumber(u.Price))continue;return e.Point.X=this.GetLeftExtendXFromIndex(a,h.DayItem),e.Point.Y=this.GetLeftExtendYFromData(u.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=r,e.IndexData.DataIndex=a,e.IndexData.Type=h.Type,!0}if(30==h.Type){if(!Ce.IsNumber(u.Price))continue;return e.Point.X=this.GetRightExtendXFromIndex(a,h.DayItem),e.Point.Y=this.GetRightExtendYFromData(u.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=r,e.IndexData.DataIndex=a,e.IndexData.Type=h.Type,!0}}}a=null}}o=0}return!1}if(1==e.DataType){i=e.IndexData.DayIndex,a=e.IndexData.DataIndex+t,n=-1;if(2==e.IndexData.Type)n=0;else if(1==e.IndexData.Type)n=1;else{if(3!=e.IndexData.Type)return!1;n=2}for(r=n;r<e.Data.length;++r){var h;if((h=e.Data[r]).DayItem&&h.DayItem.Data){for(null==a&&(a=0);a<h.DayItem.Data.length;++a){var u;if(u=h.DayItem.Data[a]){if(1==h.Type){l=a;return e.Point.X=this.GetXFromIndex(l),e.Point.Y=this.GetYFromData(u.Close),e.IndexData.CursorIndex=l,e.IndexData.DayIndex=0,e.IndexData.DataIndex=a,e.IndexData.Type=h.Type,!0}if(2==h.Type){if(!Ce.IsNumber(u.Price))continue;return e.Point.X=this.GetLeftExtendXFromIndex(a,h.DayItem),e.Point.Y=this.GetLeftExtendYFromData(u.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=0,e.IndexData.DataIndex=a,e.IndexData.Type=h.Type,!0}if(3==h.Type){if(!Ce.IsNumber(u.Price))continue;return e.Point.X=this.GetRightExtendXFromIndex(a,h.DayItem),e.Point.Y=this.GetRightExtendYFromData(u.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=0,e.IndexData.DataIndex=a,e.IndexData.Type=h.Type,!0}}}a=null}}}},this.GetLeftExtendXValidData=function(t,e){if(this.ChartBorder.GetBorder().DayBorder){var i=this.GetLeftExtendXData(t,e.Data);if(!i)return!1;var a=parseInt(i.DataIndex.toFixed(0)),n=e.Data[i.DayIndex];if(a>=0&&a<n.Data.length){var r=n.Data[a];if(Ce.IsNumber(r.Price))return e.IndexData.DataIndex=a,!0}a<0?a=0:a>=n.Data.length&&(a=n.Data.length-1);for(var o=-1,s=a;s>=0;--s){r=n.Data[s];if(Ce.IsNumber(r.Price)){o=s;break}}return!(o<0)&&(e.IndexData.DataIndex=o,e.IndexData.Point.X=this.GetLeftExtendXFromIndex(o,n),g.Chart.Log("[MinuteFrame::GetLeftExtendXValidData] DayIndex:"+e.IndexData.DayIndex+", Type:"+e.IndexData.Type+", x:"+t+"=>"+e.IndexData.Point.X+", index:"+a+"=>"+o),!0)}a=this.GetLeftExtendXData(t,e.Data);if((a=parseInt(a.toFixed(0)))>=0&&a<e.Data.Data.length){r=e.Data.Data[a];if(Ce.IsNumber(r.Price))return e.IndexData.DataIndex=a,!0}a<0?a=0:a>=e.Data.Data.length&&(a=e.Data.Data.length-1);for(o=-1,s=a;s>=0;--s){r=e.Data.Data[s];if(Ce.IsNumber(r.Price)){o=s;break}}if(o<0)for(s=a+1;s<e.Data.Data.length;++s){r=e.Data.Data[s];if(Ce.IsNumber(r.Price)){o=s;break}}return!(o<0)&&(e.IndexData.DataIndex=o,e.IndexData.Point.X=this.GetLeftExtendXFromIndex(o,e.Data),g.Chart.Log("[MinuteFrame::GetLeftExtendXValidData] DayIndex:"+e.IndexData.DayIndex+", Type:"+e.IndexData.Type+", x:"+t+"=>"+e.IndexData.Point.X+", index:"+a+"=>"+o),!0)},this.GetRightExtendXValidData=function(t,e){},this.GetLeftExtendYFromData=function(t,e,i){if(!i||!i.Range)return this.GetYFromData(t,e);var a=i.Range,n=this.ChartBorder.GetBorder(),r=(n.BottomEx-n.TopEx)*(t-a.Min)/(a.Max-a.Min);return n.BottomEx-r},this.GetLeftExtendYData=function(t,e,i){if(!i||!i.Range)return this.GetYData(t,e);var a=i.Range,n=this.ChartBorder.GetBorder(),r=n.BottomEx-n.TopEx;return(n.BottomEx-t)/r*(a.Max-a.Min)+a.Min},this.GetRightExtendMultiDayXFromIndex=function(t,e,i){var a=i.DayBorder[e.Index],n=e.TotalCount-1,r=a.RightEx;return r+(a.Right-r)*t/n},this.GetRightExtendXFromIndex=function(t,e){var i=e.TotalCount-1,a=this.ChartBorder.GetBorder();return a.DayBorder?this.GetRightExtendMultiDayXFromIndex(t,e,a):a.RightEx+this.ChartBorder.RightExtendWidth*t/i},this.GetRightExtendYFromData=function(t,e,i){return this.GetLeftExtendYFromData(t,e,i)},this.GetRightExtendYData=function(t,e,i){return i&&i.Range?this.GetLeftExtendYData(t,e,i):this.GetYData(t,e)},this.GetRightExtendMultiDayXData=function(t,e,i){for(var a=i.DayBorder,n=0;n<a.length;++n){var r=a[n];if(t>=r.RightEx&&t<=r.Right){if(!e[n])return null;var o=e[n].TotalCount-1,s=r.RightEx,l=1*o/(r.Right-s)*(t-s);return{DayIndex:parseInt(n),DataIndex:l}}}return null},this.GetRightExtendXData=function(t,e){var i=this.ChartBorder.GetBorder();if(i.DayBorder)return this.GetRightExtendMultiDayXData(t,e,i);var a=e.TotalCount-1;a<0&&(a=0);var n=i.RightEx,r=i.Right;return t<=n?0:t>=r?a:1*a/(r-n)*(t-n)}}function $(){this.newMethod=K,this.newMethod(),delete this.newMethod,this.ClassName="MinuteHScreenFrame",this.IsHScreen=!0,this.DrawTitleBG=function(){if(!(this.ChartBorder.TitleHeight<=0)){var t=this.ChartBorder.GetHScreenBorder(),e=R(t.RightEx),i=R(t.Top),a=R(t.Bottom),n=this.ChartBorder.TitleHeight,r=a-i;this.Canvas.fillStyle=this.TitleBGColor,this.Canvas.fillRect(e,i,n,r)}},this.DrawToolbar=function(){},this.DrawBeforeDataBG=function(){if(!(this.ChartBorder.LeftExtendWidth<10&&this.ChartBorder.RightExtendWidth<10)){var t=this.ChartBorder.GetHScreenBorder(),e=R(t.Left),i=R(t.Right);if(this.Canvas.fillStyle=this.BeforeBGColor,this.ChartBorder.LeftExtendWidth>10){var a=R(t.Top),n=i-e,r=R(t.TopEx)-a;this.Canvas.fillRect(e,a,n,r)}if(this.ChartBorder.RightExtendWidth>10){a=t.BottomEx,n=i-e,r=t.Bottom-a;this.Canvas.fillRect(e,a,n,r)}}},this.GetYData=function(t){var e=this.ChartBorder.GetHScreenBorder();if(t<e.LeftEx)return this.HorizontalMin;if(t>e.RightEx)return this.HorizontalMax;var i=e.RightEx-e.LeftEx;return(t-e.LeftEx)/i*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin},this.GetXData=function(t){var e=this.ChartBorder.GetHScreenBorder(),i=this.XPointCount-1;if(i<0&&(i=0),t<=e.TopEx)return 0;if(t>=e.BottomEx)return i;var a=e.BottomEx-e.TopEx;return(t-e.TopEx)*(1*i/a)},this.GetXFromIndex=function(t){var e=this.XPointCount-1,i=this.ChartBorder.GetHScreenBorder();if(1==e)return 0==t?i.TopEx:i.BottomEx;if(e<=0)return i.TopEx;if(t>=e)return i.BottomEx;var a=i.BottomEx-i.TopEx;return i.TopEx+a*t/e},this.GetYFromData=function(t){var e=this.ChartBorder.GetHScreenBorder();if(t<=this.HorizontalMin)return e.LeftEx;if(t>=this.HorizontalMax)return e.RightEx;var i=(e.RightEx-e.LeftEx)*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return e.LeftEx+i},this.DrawVolTitle=function(t){if(Ii.IsShowMinuteVolTitle(t)&&1==this.Identify){var e=L(),i=this.ChartBorder.GetRight()-2*e,a=this.ChartBorder.GetTopEx()+2*e;this.Canvas.save(),this.Canvas.translate(i,a),this.Canvas.rotate(90*Math.PI/180);var n=this.YInsideOffset;if(this.Canvas.textAlign="left",this.Canvas.textBaseline="top",Qe.Minute.VolBarColor||Qe.Minute.VolTitleColor){Qe.Minute.VolBarColor?this.Canvas.fillStyle=Qe.Minute.VolBarColor:this.Canvas.fillStyle=Qe.Minute.VolTitleColor;var r=this.YSplitOperator.LanguageID,o=ei.GetText("MVol-Vol",r);this.Canvas.fillText(o,n,0),n+=this.Canvas.measureText(o).width,n+=6*L()}this.IsShowPositionTitle&&(o=ei.GetText("MVol-Position",r),this.Canvas.fillStyle=Qe.Minute.PositionColor,this.Canvas.fillText(o,n,0)),this.Canvas.restore()}},this.DrawHorizontal=function(){for(var t=this.ChartBorder.GetHScreenBorder(),e=t.Top,i=t.Bottom,a=t.Left,n=t.Right,r=this.ChartBorder.Top,o=this.ChartBorder.Bottom,s=null,l=this.HorizontalInfo.length-1;l>=0;--l){var h=this.HorizontalInfo[l],u=this.GetYFromData(h.Value);if(!(null!=u&&Math.abs(u-s)<this.MinYDistance)){if(this.Canvas.strokeStyle=h.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(R(u),e),this.Canvas.lineTo(R(u),i),this.Canvas.stroke(),u>=n-2)this.Canvas.textBaseline="top",u=n;else if(u<=a+2){if(this.Canvas.textBaseline="bottom",null!=(u=a)&&Math.abs(u-s)<2*this.MinYDistance)continue}else this.Canvas.textBaseline="middle";if(null!=h.Message[0]&&r>10){null!=h.Font&&(this.Canvas.font=h.Font),this.Canvas.fillStyle=h.TextColor,this.Canvas.textAlign="right";var c=u,d=e;this.Canvas.save(),this.Canvas.translate(c,d),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(h.Message[0],-2,0),this.Canvas.restore()}if(null!=h.Message[1]&&o>10){null!=h.Font&&(this.Canvas.font=h.Font),this.Canvas.fillStyle=h.TextColor,this.Canvas.textAlign="left";c=u,d=i;this.Canvas.save(),this.Canvas.translate(c,d),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(h.Message[1],2,0),this.Canvas.restore()}s=u}}},this.DrawInsideClientHorizontal=function(){for(var t=this.GetBorder(),e=t.Left,i=t.Right,a=t.BottomEx,n=t.TopEx,r=(L(),null),o=this.HorizontalInfo.length-1;o>=0;--o){var s=this.HorizontalInfo[o];if(s&&s.Message[2]&&s.Message[3]){var l=this.GetYFromData(s.Value);if(!(null!=l&&null!=r&&Math.abs(l-r)<this.MinYDistance)){if(l>=i-2)this.Canvas.textBaseline="top",l=i;else if(l<=e+2){if(this.Canvas.textBaseline="bottom",null!=(l=e)&&Math.abs(l-r)<2*this.MinYDistance)continue}else this.Canvas.textBaseline="middle";if(s.Message[2]){null!=s.Font&&(this.Canvas.font=s.Font),this.Canvas.fillStyle=s.TextColor,this.Canvas.textAlign="left";var h=l,u=n;this.Canvas.save(),this.Canvas.translate(h,u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(s.Message[2],2,0),this.Canvas.restore()}if(s.Message[3]){null!=s.Font&&(this.Canvas.font=s.Font),this.Canvas.fillStyle=s.TextColor,this.Canvas.textAlign="right";h=l,u=a;this.Canvas.save(),this.Canvas.translate(h,u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(s.Message[3],-2,0),this.Canvas.restore()}r=l}}}},this.DrawVertical=function(){var t=this.ChartBorder.GetHScreenBorder(),e=t.Left,i=t.Right,a=t.Bottom,n=null;for(var r in this.VerticalInfo){var o=this.GetXFromIndex(this.VerticalInfo[r].Value);if(o>a)break;if(!(null!=n&&Math.abs(o-n)<this.MinXDistance)){if(this.Canvas.strokeStyle=this.VerticalInfo[r].LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e,R(o)),this.Canvas.lineTo(i,R(o)),this.Canvas.stroke(),null!=this.VerticalInfo[r].Message[0]){null!=this.VerticalInfo[r].Font&&(this.Canvas.font=this.VerticalInfo[r].Font),this.Canvas.fillStyle=this.VerticalInfo[r].TextColor;var s=this.Canvas.measureText(this.VerticalInfo[r].Message[0]).width;o<s/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top"):o+s/2>=this.ChartBorder.GetChartHeight()?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top"):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top");var l=e,h=o;this.Canvas.save(),this.Canvas.translate(l,h),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.VerticalInfo[r].Message[0],0,0),this.Canvas.restore()}n=o}}},this.DrawInsideHorizontal=function(){if(!this.IsMinSize&&(!1!==this.IsShowYText[0]||!1!==this.IsShowYText[1])){this.DrawInsideClientHorizontal();var t=this.ChartBorder.GetHScreenBorder(),e=t.Left,i=t.RightEx,a=t.Top,n=t.Bottom,r=this.ChartBorder.Top,o=this.ChartBorder.Bottom;this.ChartBorder.TitleHeight;if(r<10*(s=L())&&!0===this.IsShowYText[0]||o<10*s&&!0===this.IsShowYText[1])for(var s=L(),l=null,h=null,u=this.HorizontalInfo.length-1;u>=0;--u){var c=this.HorizontalInfo[u],d=this.GetYFromData(c.Value);if(!(null!=d&&null!=l&&Math.abs(d-l)<this.MinYDistance)){if(null!=c.Message[0]&&r<10*s&&!0===this.IsShowYText[0]){null!=c.Font&&(this.Canvas.font=c.Font),this.Canvas.fillStyle=c.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline=d>=i-2?"top":d<=e+2?"bottom":"middle";this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,c.Message[0];var f=d,p=a;this.Canvas.save(),this.Canvas.translate(f,p),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(c.Message[0],2*s,0),this.Canvas.restore(),(null==h||h<f)&&(this.YInsideOffset=this.Canvas.measureText(c.Message[0]).width+4*L(),h=f)}if(null!=c.Message[1]&&o<10*s&&!0===this.IsShowYText[1]){null!=c.Font&&(this.Canvas.font=c.Font),this.Canvas.fillStyle=c.TextColor,this.Canvas.textAlign="right",this.Canvas.textBaseline=d>=i-2?"top":d<=e+2?"bottom":"middle";this.Canvas.measureText(c.Message[1]).width,this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,c.Message[1],f=d,p=n;this.Canvas.save(),this.Canvas.translate(f,p),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(c.Message[1],-2*s,0),this.Canvas.restore()}l=d}}}},this.GetLeftExtendXFromIndex=function(t,e){var i=e.TotalCount-1;return this.ChartBorder.GetHScreenBorder().Top+this.ChartBorder.LeftExtendWidth*t/i},this.GetLeftExtendXData=function(t,e){var i=e.TotalCount-1;i<0&&(i=0);var a=this.ChartBorder.GetHScreenBorder(),n=a.Top,r=a.TopEx;return t<=n?0:t>=r?i:1*i/(r-n)*(t-n)},this.GetLeftExtendYFromData=function(t,e,i){if(!i||!i.Range)return this.GetYFromData(t,e);var a=i.Range,n=this.ChartBorder.GetHScreenBorder(),r=(n.RightEx-n.LeftEx)*(t-a.Min)/(a.Max-a.Min);return n.LeftEx+r},this.GetLeftExtendYData=function(t,e,i){if(!i||!i.Range)return this.GetYData(y,e);var a=i.Range,n=this.ChartBorder.GetHScreenBorder(),r=n.RightEx-n.LeftEx;return(t-n.LeftEx)/r*(a.Max-a.Min)+a.Min},this.GetRightExtendXFromIndex=function(t,e){var i=e.TotalCount-1;return this.ChartBorder.GetHScreenBorder().BottomEx+this.ChartBorder.RightExtendWidth*t/i},this.GetRightExtendXData=function(t,e){var i=e.TotalCount-1;i<0&&(i=0);var a=this.ChartBorder.GetHScreenBorder(),n=a.BottomEx,r=a.Bottom;return t<=n?0:t>=r?i:1*i/(r-n)*(t-n)},this.GetRightExtendYFromData=function(t,e,i){return i&&i.Range?this.GetLeftExtendYFromData(t,e,i):this.GetYFromData(t,e)}}function q(){this.newMethod=K,this.newMethod(),delete this.newMethod,this.ClassName="OverlayMinuteFrame",this.IsShow=!0,this.IsShareY=!1,this.IsCalculateYMaxMin=!0,this.Draw=function(){this.SplitXYCoordinate(),this.IsShow,this.SizeChange=!1,this.XYSplit=!1},this.DrawToolbar=function(){},this.GetScaleTextWidth=function(){return{TextWidth:0}},this.SplitXYCoordinate=function(){if(0!=this.XYSplit)if(this.IsShareY)for(var t in this.HorizontalMax=this.MainFrame.HorizontalMax,this.HorizontalMin=this.MainFrame.HorizontalMin,this.HorizontalInfo=[],this.MainFrame.HorizontalInfo){var e=this.MainFrame.HorizontalInfo[t];this.HorizontalInfo.push(e)}else null!=this.YSplitOperator&&this.YSplitOperator.Operator()}}function J(){this.newMethod=$,this.newMethod(),delete this.newMethod,this.ClassName="OverlayMinuteHScreenFrame",this.IsShow=!0,this.Draw=function(){this.SplitXYCoordinate(),this.IsShow,this.SizeChange=!1,this.XYSplit=!1},this.SplitXYCoordinate=function(){if(0!=this.XYSplit)if(this.IsShareY)for(var t in this.HorizontalMax=this.MainFrame.HorizontalMax,this.HorizontalMin=this.MainFrame.HorizontalMin,this.HorizontalInfo=[],this.MainFrame.HorizontalInfo){var e=this.MainFrame.HorizontalInfo[t];this.HorizontalInfo.push(e)}else null!=this.YSplitOperator&&this.YSplitOperator.Operator()}}function Z(){this.newMethod=z,this.newMethod(),delete this.newMethod,this.ClassName="KLineFrame",this.ToolbarID=P(),this.ModifyIndex=!0,this.ChangeIndex=!0,this.CloseIndex=!0,this.OverlayIndex=!1,this.MaxMinWindow=!0,this.TitlteWindow=!0,this.ModifyIndexEvent,this.ChangeIndexEvent,this.ToolbarRect=null,this.ReDrawToolbar=!1,this.LastCalculateStatus={Width:0,XPointCount:0},this.CustomHorizontalInfo=[],this.IsDrawTitleBG=!1,this.CustomVerticalInfo=[],this.DrawCustomVerticalEvent,this.RightSpaceCount=0,this.Logarithmic=null,this.CustomToolbar=[],this.ToolbarType=0,this.DrawToolbar=function(){if(1!=this.ToolbarButtonStyle&&void 0!==m.default&&this.ChartBorder.UIElement&&this.ChartBorder.UIElement.parentNode){var t=document.getElementById(this.ToolbarID);if(!t||0!=this.SizeChange||0!=this.ReDrawToolbar)if(t||((t=document.createElement("div")).className="klineframe-toolbar",t.id=this.ToolbarID,t.oncontextmenu=function(){return!1},t.setAttribute("identify",this.Identify.toString()),this.ChartBorder.UIElement.parentNode.appendChild(t)),this.ModifyIndex||this.ChangeIndex||this.OverlayIndex||this.CloseIndex||Ce.IsNonEmptyArray(this.CustomToolbar)){var e=L(),i=parseInt(this.ChartBorder.UIElement.parentElement.style.width.replace("px","")),a=(parseInt(this.ChartBorder.UIElement.parentElement.style.height.replace("px","")),this.ChartBorder.GetTitleHeight()),n=i-this.ChartBorder.Right/e-100,r=this.ChartBorder.GetTop()/e;if(!this.ToolbarRect||this.ToolbarRect.Left!=n||this.ToolbarRect.Top!=r||100!=this.ToolbarRect.Width||this.ToolbarRect.Height!=a/e){this.ToolbarRect={Left:n,Top:r,Width:100,Height:a/e};var o="<span class='index_param icon iconfont icon-index_param' id='modifyindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='调整指标参数'></span><span class='index_change icon iconfont icon-change_index' id='changeindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='切换指标'></span><span class='index_overlay icon iconfont icon-overlay_index' id='overlayindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='叠加指标'></span>";if(0!==this.Identify&&this.CloseIndex&&(o+="<span class='index_close icon iconfont icon-close' id='closeindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='关闭指标窗口'></span>"),Ce.IsNonEmptyArray(this.CustomToolbar))for(var s=0;s<this.CustomToolbar.length;++s){o+=(l=this.CustomToolbar[s]).Html}t.style.left=n+"px",t.style.top=r+"px",t.style.width="100px",t.style.height=a/e+"px",t.innerHTML=o;this.ChartBorder.UIElement.JSChartContainer,this.Identify;if(this.ModifyIndex?"function"==typeof this.ModifyIndexEvent&&(0,m.default)("#"+t.id+" .index_param").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify},this.ModifyIndexEvent):(0,m.default)("#"+t.id+" .index_param").hide(),this.ChangeIndex?"function"==typeof this.ChangeIndexEvent&&(0,m.default)("#"+t.id+" .index_change").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify,IsOverlay:!1},this.ChangeIndexEvent):(0,m.default)("#"+t.id+" .index_change").hide(),this.OverlayIndex?(0,m.default)("#"+t.id+" .index_overlay").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify,IsOverlay:!0},this.ChangeIndexEvent):(0,m.default)("#"+t.id+" .index_overlay").hide(),(0,m.default)("#"+t.id+" .index_close").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify},function(t){var e=t.data.Chart,i=t.data.Identify;e.RemoveIndexWindow(i)}),Ce.IsNonEmptyArray(this.CustomToolbar))for(s=0;s<this.CustomToolbar.length;++s){var l=this.CustomToolbar[s];(0,m.default)("#"+l.ID).click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify,ID:l.ID},l.Click)}t.style.display="block"}}else"none"!=t.style.display&&(t.style.display="none")}},this.DrawToolbarV2=function(t,e){if(this.Buttons=[],1!=this.IsMinSize&&!(this.ChartBorder.TitleHeight<5)){var i=[];if(this.CloseIndex&&0!==this.Identify&&i.push({ID:E.CLOSE_INDEX_WINDOW,Style:this.CloseWindowButton}),this.MaxMinWindow&&0!=this.Identify&&i.push({ID:E.MAX_MIN_WINDOW,Style:this.MaxMinWindowButton}),this.TitlteWindow&&0!=this.Identify&&i.push({ID:E.TITLE_WINDOW,Style:this.TitleWindowButton}),this.OverlayIndex&&i.push({ID:E.OVERLAY_INDEX,Style:this.OverlayIndexButton}),this.ChangeIndex&&i.push({ID:E.CHANGE_INDEX,Style:this.ChangeIndexButton}),this.ModifyIndex&&i.push({ID:E.MODIFY_INDEX_PARAM,Style:this.ModifyIndexParamButton}),Ce.IsNonEmptyArray(this.CustomToolbar))for(var a=0;a<this.CustomToolbar.length;++a){var n=this.CustomToolbar[a];n.ID&&n.Style&&i.push({ID:n.ID,Style:n.Style,TooltipText:n.TooltipText})}this.DrawTitleButton(i,t,e)}},this.DrawFrame=function(){this.IsMinSize||(this.SplitXYCoordinate(),1==this.SizeChange&&(this.CalculateDataWidth(),this.Logarithmic&&this.SplitLogarithmicXYCoordinate()),this.BeforeDrawXYCallback&&this.BeforeDrawXYCallback(this),this.DrawTitleBG(),this.DrawHorizontal(),this.DrawVertical()),1!=this.SizeChange&&1!=this.ReDrawToolbar||(this.DrawToolbar(),this.ReDrawToolbar=!1)},this.GetXFromIndex=function(t,e){if(!1===e)if(t>=0)for(var i=this.ChartBorder.GetLeft()+Qe.FrameLeftMargin+this.DistanceWidth/2+this.DataWidth/2,a=1;a<=t;++a)i+=this.DistanceWidth+this.DataWidth;else{i=this.ChartBorder.GetLeft()-(this.DistanceWidth/2+this.DataWidth+this.DistanceWidth);var n=Math.abs(t);for(a=1;a<n;++a)i-=this.DistanceWidth+this.DataWidth}else{t<0&&(t=0),t>this.xPointCount-1&&(t=this.xPointCount-1);for(i=this.ChartBorder.GetLeft()+Qe.FrameLeftMargin+this.DistanceWidth/2+this.DataWidth/2,a=1;a<=t;++a)i+=this.DistanceWidth+this.DataWidth}return i},this.GetXData=function(t,e){var i=this.DistanceWidth,a=this.DataWidth,n=this.ChartBorder.GetLeft()+Qe.FrameLeftMargin;if(0==e){if(t<this.ChartBorder.GetLeft()){for(var r=-1,o=this.ChartBorder.GetLeft()-(i/2+a+i);r>-1e4&&!(o<=t);)o-=a+i,--r;return r}for(r=0,o=n+i/2+a+i;r<1e4&&!(o>=t);)o+=a+i,++r;return r}if(t<=this.ChartBorder.GetLeft())return 0;if(t>=this.ChartBorder.GetRight())return this.XPointCount-1;var s=this.ChartBorder.GetRight()-Qe.FrameRightMargin;for(r=0,o=n+i/2+a+i;o<s&&r<1e4&&r+1<this.XPointCount&&!(o>=t);)o+=a+i,++r;return r},this.CalculateDataWidth=function(){if(!(this.XPointCount<2)){var t=this.GetFrameWidth()-Qe.FrameMargin;if(this.ZoomIndex>=0&&this.LastCalculateStatus.Width==t&&this.LastCalculateStatus.XPointCount==this.XPointCount){var e=this.DistanceWidth/2+Qe.FrameLeftMargin+(this.DataWidth+this.DistanceWidth)*(this.XPointCount-1);this.DataWidth,this.DistanceWidth,this.XPointCount;if(e<=t)return}this.LastCalculateStatus.Width=t,this.LastCalculateStatus.XPointCount=this.XPointCount;for(var i=0;i<wt.length;++i)if((wt[i][0]+wt[i][1])*this.XPointCount<t)return this.ZoomIndex=i,this.DataWidth=wt[i][0],this.DistanceWidth=wt[i][1],this.TrimKLineDataWidth(t),void g.Chart.Log("[KLineFrame::CalculateDataWidth] ZOOM_SEED, DataWidth, DistanceWidth, XPointCount",wt[this.ZoomIndex],this.DataWidth,this.DistanceWidth,this.XPointCount);this.ZoomIndex=wt.length-1,this.DataWidth=t/this.XPointCount,this.DistanceWidth=0}},this.OnSize=function(t){for(var e=this.GetFrameWidth()-Qe.FrameMargin,i=0,a=this.DistanceWidth/2+Qe.FrameLeftMargin+(this.DataWidth+this.DistanceWidth);a<e;a+=this.DataWidth+this.DistanceWidth,++i);return t.CurCount=this.XPointCount,t.CalcCount=i,t.DataWidth=this.DataWidth,t.DistanceWidth=this.DistanceWidth,t.Changed=!1,this.LastCalculateStatus.Width=e,t.CurCount==t.CalcCount?t:(this.XPointCount=i,this.LastCalculateStatus.XPointCount=this.XPointCount,this.Data&&(this.Data.DataOffset+=t.CurCount-t.CalcCount,this.Data.DataOffset<0&&(this.Data.DataOffset=0),t.Changed=!0),t)},this.SetDataWidth=function(t){var e=wt.length-1;for(var i in wt){if(wt[i][0]<=t){e=parseInt(i)-1;break}}this.ZoomIndex=e,this.DataWidth=wt[this.ZoomIndex][0],this.DistanceWidth=wt[this.ZoomIndex][1];for(var a=this.GetFrameWidth()-Qe.FrameMargin,n=0,r=this.DistanceWidth/2+Qe.FrameLeftMargin+(this.DataWidth+this.DistanceWidth);r<=a;r+=this.DataWidth+this.DistanceWidth,++n);return this.XPointCount=n,this.LastCalculateStatus.XPointCount=this.XPointCount,this.LastCalculateStatus.Width=a,{XPointCount:this.XPointCount,DataWidth:this.DataWidth,DistanceWidth:this.DistanceWidth}},this.TrimKLineDataWidth=function(t){var e=wt[this.ZoomIndex][0],i=wt[this.ZoomIndex][1];if(1!=e||0!=i)for(;;){if((this.DistanceWidth+this.DataWidth)*this.XPointCount+this.DistanceWidth>t){this.DistanceWidth-=.01;break}this.DistanceWidth+=.01}else this.DataWidth=t/this.XPointCount},this.IsOverlayMaxMin=function(t){if(!this.ChartKLine)return!1;if(!this.ChartKLine.Max||!this.ChartKLine.Min)return!1;var e=this.Canvas.measureText(t.Text.Value).width+4;"right"===t.Text.TextAlign&&(t.X-=e);var i=this.ChartKLine.Max,a=this.ChartKLine.Min,n=!1,r=!1;if(i.X>=t.X&&i.X<=t.X+e){var o=i.Y+20,s=i.Y-20;(o>=t.Y-20&&o<=t.Y+20||s>=t.Y-20&&s<=t.Y+20)&&(n=!0)}if(1==n)return!0;if(a.X>=t.X&&a.X<=t.X+e){o=a.Y+20,s=a.Y-20;(o>=t.Y-20&&o<=t.Y+20||s>=t.Y-20&&s<=t.Y+20)&&(r=!0)}return n||r},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.YSplitOperator&&this.YSplitOperator.Operator(),null!=this.XSplitOperator&&this.XSplitOperator.Operator(),this.Logarithmic&&this.SplitLogarithmicXYCoordinate())},this.SplitLogarithmicXYCoordinate=function(){for(var t=this.Logarithmic.Up,e=this.Logarithmic.Down,i=0,a=0,n=Math.max(t.length,e.length),r=[],o=0;o<n;++o)r[o]=2*o;o=0;for(var s=r.length-1;o<t.length;++o,--s){(m=t[o]).LogHeight=r[s],i+=m.LogHeight,++a}for(o=0,s=r.length-1;o<e.length;++o,--s){(m=e[o]).LogHeight=r[s],i+=m.LogHeight,++a}var l=2*L(),h=this.ChartBorder.GetTopEx(),u=this.ChartBorder.GetBottomEx(),c=u-h,d=(c-i*l)/a;if(d<0&&(d=0,l=c/i),1==this.CoordinateType){var f=h;for(o=e.length-1;o>=0;--o){(m=e[o]).Height=d+l*m.LogHeight,m.Top=f,m.Bottom=m.Top+m.Height,f=m.Bottom}var p=u;for(o=t.length-1;o>=0;--o){(m=t[o]).Height=d+l*m.LogHeight,m.Bottom=p,m.Top=p-m.Height,p=m.Top}}else{for(f=h,o=t.length-1;o>=0;--o){(m=t[o]).Height=d+l*m.LogHeight,m.Top=f,m.Bottom=m.Top+m.Height,f=m.Bottom}for(p=u,o=e.length-1;o>=0;--o){var m;(m=e[o]).Height=d+l*m.LogHeight,m.Bottom=p,m.Top=p-m.Height,p=m.Top}}g.Chart.Log("[KLineFrame::SplitLogarithmicXYCoordinate]",this.Logarithmic)},this.GetYLogarithmicFromData=function(t,e){if(1==this.CoordinateType){if(t<=this.HorizontalMin)return this.ChartBorder.GetTopEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetBottomEx();if(t>this.Logarithmic.OpenPrice){var i=this.Logarithmic.Up;for(var a in i){if(t>=(o=i[a]).Start&&t<=o.End){var n=(o.Bottom-o.Top)*(t-o.Start)/(o.End-o.Start);return o.Top+n}}}else{var r=this.Logarithmic.Down;for(var a in r){if(t>=(o=r[a]).Start&&t<=o.End){n=(o.Bottom-o.Top)*(t-o.Start)/(o.End-o.Start);return o.Top+n}}}}else{if(t<=this.HorizontalMin)return this.ChartBorder.GetBottomEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetTopEx();if(t>this.Logarithmic.OpenPrice){i=this.Logarithmic.Up;for(var a in i){if(t>=(o=i[a]).Start&&t<=o.End){n=(o.Bottom-o.Top)*(t-o.Start)/(o.End-o.Start);return o.Bottom-n}}}else{r=this.Logarithmic.Down;for(var a in r){var o;if(t>=(o=r[a]).Start&&t<=o.End){n=(o.Bottom-o.Top)*(t-o.Start)/(o.End-o.Start);return o.Bottom-n}}}}},this.GetYLogarithmicData=function(t){if(1==this.CoordinateType){if(t<this.ChartBorder.GetTopEx())return this.HorizontalMin;if(t>this.ChartBorder.GetBottomEx())return this.HorizontalMax;var e=this.Logarithmic.Up;for(var i in e){if(t>=(n=e[i]).Top&&t<=n.Bottom)return(t-n.Top)/n.Height*(n.End-n.Start)+n.Start}var a=this.Logarithmic.Down;for(var i in a){if(t>=(n=a[i]).Top&&t<=n.Bottom)return(t-n.Top)/n.Height*(n.End-n.Start)+n.Start}}else{if(t<this.ChartBorder.GetTopEx())return this.HorizontalMax;if(t>this.ChartBorder.GetBottomEx())return this.HorizontalMin;e=this.Logarithmic.Up;for(var i in e){if(t>=(n=e[i]).Top&&t<=n.Bottom)return(n.Bottom-t)/n.Height*(n.End-n.Start)+n.Start}a=this.Logarithmic.Down;for(var i in a){var n;if(t>=(n=a[i]).Top&&t<=n.Bottom)return(n.Bottom-t)/n.Height*(n.End-n.Start)+n.Start}}},this.CalculateCount=function(t){var e=this.GetFrameWidth()-Qe.FrameMargin;return parseInt(e/(wt[t][0]+wt[t][1]))},this.ZoomUp=function(t){if(this.ZoomIndex<=0)return!1;if(this.Data.DataOffset<0)return!1;var e=this.Data.Data.length,i=e+this.RightSpaceCount,a=0,n=this.Data.DataOffset+this.XPointCount-1,r=this.Data.DataOffset+t.Index;n>=e&&(a=n-(this.Data.Data.length-1),n=this.Data.Data.length-1,a>this.RightSpaceCount&&(a=this.RightSpaceCount));var o=this.CalculateCount(this.ZoomIndex-1);g.Chart.Log("[KLineFrame::ZoomUp] old status. XPointCount="+o+" ZoomIndex="+this.ZoomIndex+" DataCount= "+this.Data.Data.length+" rightSpaceCount="+a);var s=!1;if(--this.ZoomIndex,1==t.IsLockRight){var l=this.Data.DataOffset+this.XPointCount;if(o>l)o=l,this.XPointCount=o,this.Data.DataOffset=0;else{var h=n-(o-a)+1;this.XPointCount=o,this.Data.DataOffset=h,this.Data.DataOffset<0&&(this.Data.DataOffset=0)}}else if(o>=i)this.Data.DataOffset=0,this.XPointCount=o,s=!0,g.Chart.Log("[KLineFrame::ZoomUp] Show all data. XPointCount="+o+" ZoomIndex="+this.ZoomIndex+" DataCount= "+e);else{h=n-(o-a)+1;if(1==t.ZoomType){var u=this.XPointCount-o+1,c=parseInt(t.Index/this.XPointCount*u);this.Data.DataOffset+c<e&&(h=this.Data.DataOffset+c)}this.XPointCount=o,this.Data.DataOffset=h,this.Data.DataOffset<0&&(this.Data.DataOffset=0),g.Chart.Log("[KLineFrame::ZoomUp] calculate. XPointCount="+o+" ZoomIndex="+this.ZoomIndex+" DataCount= "+e+" DataOffset="+this.Data.DataOffset)}if(this.DataWidth=wt[this.ZoomIndex][0],this.DistanceWidth=wt[this.ZoomIndex][1],!s){var d=this.GetFrameWidth()-Qe.FrameMargin;this.TrimKLineDataWidth(d)}return this.LastCalculateStatus.XPointCount=this.XPointCount,t.Index=r-this.Data.DataOffset,!0},this.XCoordinateZoom=function(t){var e=this.XPointCount;if(t){if(this.ZoomIndex<=0)return!1;if(this.Data.DataOffset<0)return!1;var i=this.ZoomIndex-1,a=this.CalculateCount(i),n=this.Data.Data.length;if((r=e-a)<=0)return!1;this.Data.DataOffset+=r,this.Data.DataOffset>n&&(this.Data.DataOffset=0)}else{if(this.ZoomIndex+1>=wt.length)return!1;if(this.Data.DataOffset<0)return!1;i=this.ZoomIndex+1;var r=(a=this.CalculateCount(i))-e;this.Data.DataOffset-=r,this.Data.DataOffset<0&&(this.Data.DataOffset=0)}this.XPointCount=a,this.ZoomIndex=i,this.DataWidth=wt[this.ZoomIndex][0],this.DistanceWidth=wt[this.ZoomIndex][1];var o=this.GetFrameWidth()-Qe.FrameMargin;return this.TrimKLineDataWidth(o),this.LastCalculateStatus.XPointCount=this.XPointCount,!0},this.ZoomDown=function(t){if(this.ZoomIndex+1>=wt.length)return!1;if(this.Data.DataOffset<0)return!1;if(this.Data.DataOffset<=0&&1==t.IsLockRight)return!1;var e=this.Data.Data.length,i=e+this.RightSpaceCount,a=0,n=this.Data.DataOffset+this.XPointCount-1;n>=this.Data.Data.length&&(a=n-(this.Data.Data.length-1),n=this.Data.Data.length-1,a>this.RightSpaceCount&&(a=this.RightSpaceCount));var r=this.CalculateCount(this.ZoomIndex+1),o=this.Data.DataOffset+t.Index;g.Chart.Log("[KLineFrame::ZoomDown] old status. XPointCount="+r+" ZoomIndex="+this.ZoomIndex+" DataCount= "+this.Data.Data.length+" lastCursorIndex="+o+" rightSpaceCount="+a);var s=!1;if(++this.ZoomIndex,1==t.IsLockRight){var l=this.Data.DataOffset+this.XPointCount;if(r>l)r=l,this.XPointCount=r,this.Data.DataOffset=0;else{var h=n-(r-a)+1;this.XPointCount=r,this.Data.DataOffset=h,this.Data.DataOffset<0&&(this.Data.DataOffset=0)}}else if(r>=i)this.XPointCount=r,this.Data.DataOffset=0,s=!0,g.Chart.Log("[KLineFrame::ZoomDown] Show all data. XPointCount="+r+" ZoomIndex="+this.ZoomIndex+" DataCount= "+e);else{h=n-(r-a)+1;if(1==t.ZoomType){var u=r-this.XPointCount+1,c=parseInt(t.Index/this.XPointCount*u);(h=this.Data.DataOffset-c)+(r-this.RightSpaceCount)>=e&&(h=this.Data.DataOffset-u)}this.XPointCount=r,this.Data.DataOffset=h,this.Data.DataOffset<0&&(this.Data.DataOffset=0),g.Chart.Log("[KLineFrame::ZoomDown] calculate. XPointCount="+r+" ZoomIndex="+this.ZoomIndex+" DataCount= "+e+" DataOffset="+this.Data.DataOffset)}if(this.DataWidth=wt[this.ZoomIndex][0],this.DistanceWidth=wt[this.ZoomIndex][1],!s){var d=this.GetFrameWidth()-Qe.FrameMargin;this.TrimKLineDataWidth(d)}return this.LastCalculateStatus.XPointCount=this.XPointCount,t.Index=o-this.Data.DataOffset,!0},this.GetFrameWidth=function(){var t;return this.IsHScreen?(t=this.ChartBorder.GetHScreenBorder()).BottomEx-t.TopEx:(t=this.ChartBorder.GetBorder()).RightEx-t.LeftEx},this.DrawCustomHorizontal=function(){if(!this.IsMinSize&&!this.ChartBorder.IsShowTitleOnly)for(var t=0;t<this.CustomHorizontalInfo.length;++t){var e=this.CustomHorizontalInfo[t];switch(e.Type){case 0:case 1:this.DrawCustomItem(e);break;case 2:case 3:case 4:this.DrawCustomItem(e)}}},this.DrawCustomVerticalItem=function(t){this.Canvas.save(),1==t.Data.Line.Type&&this.Canvas.setLineDash([5,5]),this.Canvas.strokeStyle=t.Data.Line.Color,this.Canvas.beginPath(),t.IsHScreen?(this.Canvas.moveTo(t.Top,R(t.X)),this.Canvas.lineTo(t.Bottom,R(t.X))):(this.Canvas.moveTo(R(t.X),t.Top),this.Canvas.lineTo(R(t.X),t.Bottom)),this.Canvas.stroke(),this.Canvas.restore()},this.DrawCustomVertical=function(){if(this.CustomVerticalInfo&&!(this.CustomVerticalInfo.length<=0)&&this.Data){var t=this.IsHScreen,e=this.ChartBorder.GetTopEx(),i=this.ChartBorder.GetBottomEx(),a=this.DataWidth,n=this.DistanceWidth,r=this.ChartBorder.GetLeft()+n/2+2;t&&(r=this.ChartBorder.GetTop()+n/2+2,e=this.ChartBorder.GetLeftEx(),i=this.ChartBorder.GetRightEx());for(var o=0,s=this.Data.DataOffset;s<this.Data.Data.length&&o<this.XPointCount;++s,++o,r+=a+n){var l=this.Data.Data[s];for(var h in this.CustomVerticalInfo){if(0==(c=this.CustomVerticalInfo[h]).Type){if(Ce.IsNumber(c.Time)){if(l.Date!=c.Date||l.Time!=c.Time)continue}else if(l.Date!=c.Date)continue;var u={X:(d=r)+(r+a-d)/2,Top:e,Bottom:i,Data:c,IsHScreen:t};this.DrawCustomVerticalItem(u),this.DrawCustomVerticalEvent&&this.DrawCustomVerticalEvent.Callback(this.DrawCustomVerticalEvent,u,this);break}}}for(s=1;o<this.XPointCount;++s,++o,r+=a+n)for(var h in this.CustomVerticalInfo){var c;if(1==(c=this.CustomVerticalInfo[h]).Type&&c.Space==s){var d;u={X:(d=r)+(r+a-d)/2,Top:e,Bottom:i,Data:c,IsHScreen:t};this.DrawCustomVerticalItem(u),this.DrawCustomVerticalEvent&&this.DrawCustomVerticalEvent.Callback(this.DrawCustomVerticalEvent,u,this);break}}}}}function Q(){this.newMethod=Z,this.newMethod(),delete this.newMethod,this.ClassName="OverlayKLineFrame",this.MainFrame=null,this.IsShareY=!1,this.IsCalculateYMaxMin=!0,this.RightOffset=50,this.PenBorder=Qe.OverlayFrame.BolderPen,this.IsShow=!0,this.IsShowToolbar=!0,this.Title=null,this.TitleColor=Qe.OverlayFrame.TitleColor,this.TitleFont=Qe.OverlayFrame.TitleFont,this.Buttons=[],this.CloseButton=V(Qe.Buttons.CloseOverlayIndex),this.ModifyIndexParamButton=V(Qe.Buttons.ModifyIndexParam),this.KLineFrame_ReloadResource=this.ReloadResource,this.ReloadResource=function(t){this.KLineFrame_ReloadResource(t),t||(this.CloseButton=V(Qe.Buttons.CloseOverlayIndex),this.ModifyIndexParamButton=V(Qe.Buttons.ModifyIndexParam),this.PenBorder=Qe.OverlayFrame.BolderPen,this.TitleColor=Qe.OverlayFrame.TitleColor,this.TitleFont=Qe.OverlayFrame.TitleFont)},this.Draw=function(){this.Buttons=[],this.ChartBorder.IsShowTitleOnly||(this.SplitXYCoordinate(),this.IsShow&&(this.DrawVertical(),this.DrawHorizontal(),this.DrawTitle()),this.SizeChange=!1,this.XYSplit=!1)},this.DrawTitle=function(){if(this.Title){var t=this.ChartBorder.GetBorder(),e=this.ChartBorder.GetTopTitle(),i=t.Bottom,a=t.Right;a+=this.RightOffset,this.Canvas.fillStyle=this.TitleColor,this.Canvas.font=this.TitleFont,this.Canvas.textAlign="center",this.Canvas.textBaseline="top";var n=a-2,r=e+(i-e)/2;this.Canvas.save(),this.Canvas.translate(n,r),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.Title,0,0),this.Canvas.restore()}},this.GetScaleTextWidth=function(){if(!this.IsShow)return null;this.ChartBorder.GetBorder();var t=L();if(this.IsHScreen)var e=this.ChartBorder.Bottom>10*t&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1];else e=this.ChartBorder.Right>10&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1];if(!e)return null;for(var i={Left:null,Right:0},a=0;a<this.HorizontalInfo.length;++a){var n=null,r=this.HorizontalInfo[a];r&&(null!=r.Message[1]&&e&&(null!=r.Font&&(this.Canvas.font=r.Font),n=this.Canvas.measureText(r.Message[1]).width,i.Right<n&&(i.Right=n)))}return{TextWidth:i}},this.SplitXYCoordinate=function(){if(0!=this.XYSplit)if(this.IsShareY){for(var t in this.HorizontalMax=this.MainFrame.HorizontalMax,this.HorizontalMin=this.MainFrame.HorizontalMin,this.HorizontalInfo=[],this.MainFrame.HorizontalInfo){var e=this.MainFrame.HorizontalInfo[t];this.HorizontalInfo.push(e)}this.CoordinateType=this.MainFrame.CoordinateType}else null!=this.YSplitOperator&&this.YSplitOperator.Operator()},this.DrawHorizontal=function(){var t=this.ChartBorder.GetBorder(),e=(t.Left,t.Right),i=t.Bottom,a=this.ChartBorder.GetTopTitle(),n=this.ChartBorder.Right;e+=this.RightOffset;for(var r=null,o=this.HorizontalInfo.length-1;o>=0;--o){var s=this.HorizontalInfo[o],l=this.GetYFromData(s.Value);if(!(null!=l&&Math.abs(l-r)<this.MinYDistance)){if(this.Canvas.textBaseline=l>=i-2?"bottom":l<=a+2?"top":"middle",this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),this.Canvas.moveTo(e-2,R(l)),this.Canvas.lineTo(e,R(l)),this.Canvas.stroke(),null!=s.Message[1]&&n>10){null!=s.Font&&(this.Canvas.font=s.Font);var h=s.Message[1];Array.isArray(s.Message[1])&&(h=s.Message[1][0]),this.Canvas.fillStyle=s.TextColor,this.Canvas.textAlign="left",this.Canvas.fillText(h,e+2,l)}r=l}}},this.DrawVertical=function(){var t=this.ChartBorder.GetBorder(),e=t.TopEx,i=t.Right,a=t.BottomEx;i+=this.RightOffset,this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),this.Canvas.moveTo(R(i),R(e)),this.Canvas.lineTo(R(i),R(a)),this.Canvas.stroke()},this.DrawToolbar=function(t,e,i){if(this.Buttons=[],1!=e&&!this.ChartBorder.IsShowTitleOnly&&!(this.ChartBorder.TitleHeight<5)&&this.IsShowToolbar){var a=this.ChartBorder.GetBorder(),n=a.Top+this.ChartBorder.TitleHeight/2,r=a.Right+this.RightOffset+this.CloseButton.MerginLeft,o=[];o.push({ID:E.MODIFY_OVERLAY_INDEX_PARAM,Style:this.ModifyIndexParamButton}),o.push({ID:E.CLOSE_OVERLAY_INDEX,Style:this.CloseWindowButton});for(var s=0;s<o.length;++s){var l=o[s],h=l.Style.Size,u=h+"px "+l.Style.Family,c={Left:r,Top:n-h/2,Right:r+h+l.Style.MerginLeft,Bottom:n+h/2,Width:h+l.Style.MerginLeft,Height:h},d=this.CloseButton.Color;t&&t.X>=c.Left&&t.X<c.Right&&t.Y>=c.Top&&t.Y<=c.Bottom&&(d=l.Style.MoveOnColor,i&&(i.MouseOnToolbar={Rect:c,Item:l,Frame:this,Point:{X:t.X,Y:t.Y}})),this.Canvas.fillStyle=d,this.Canvas.font=u,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(l.Style.Text,r,n),this.Buttons.push({ID:l.ID,Rect:c}),r=c.Right}}}}function tt(){this.newMethod=Z,this.newMethod(),delete this.newMethod,this.ClassName="KLineHScreenFrame",this.IsHScreen=!0,this.DrawTitleBG=function(){if(!(this.ChartBorder.TitleHeight<=0)){var t=this.ChartBorder.GetHScreenBorder(),e=R(t.RightTitle),i=R(t.Top),a=R(t.Bottom),n=this.ChartBorder.TitleHeight,r=a-i;this.Canvas.fillStyle=this.TitleBGColor,this.Canvas.fillRect(e,i,n,r)}},this.DrawToolbar=function(){},this.GetYFromData=function(t,e){var i=this.ChartBorder.GetHScreenBorder();if(!1===e){var a=(i.RightEx-i.LeftEx)*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return i.LeftEx+a}if(t<=this.HorizontalMin)return i.LeftEx;if(t>=this.HorizontalMax)return i.RightEx;a=(i.RightEx-i.LeftEx)*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return i.LeftEx+a},this.DrawHorizontal=function(){for(var t=this.ChartBorder.GetHScreenBorder(),e=t.Top,i=t.Bottom,a=this.ChartBorder.Top,n=this.ChartBorder.Bottom,r=t.Left,o=(t.Right,null),s=L(),l=a>10*s&&!0===this.IsShowYText[0]&&2!=this.YTextPosition[0],h=n>10*s&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1],u=this.HorizontalInfo.length-1;u>=0;--u){var c=this.HorizontalInfo[u],d=this.GetYFromData(c.Value);if(!(null!=d&&Math.abs(d-o)<this.MinYDistance)){if(d!=r&&(2==c.LineType?(this.Canvas.strokeStyle=c.LineColor,this.Canvas.setLineDash([5*s,5*s]),this.Canvas.beginPath(),this.Canvas.moveTo(R(d),e),this.Canvas.lineTo(R(d),i),this.Canvas.stroke(),this.Canvas.setLineDash([])):c.LineType>0&&(this.Canvas.strokeStyle=c.LineColor,Qe.FrameYLineDash?(this.Canvas.setLineDash(Qe.FrameYLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(R(d),e),this.Canvas.lineTo(R(d),i),this.Canvas.stroke(),this.Canvas.setLineDash([])):(this.Canvas.beginPath(),this.Canvas.moveTo(R(d),e),this.Canvas.lineTo(R(d),i),this.Canvas.stroke()))),null!=c.Message[0]&&l){null!=c.Font&&(this.Canvas.font=c.Font),this.Canvas.fillStyle=c.TextColor,this.Canvas.textAlign="right",this.Canvas.textBaseline="middle";var f=d,p=e;this.Canvas.save(),this.Canvas.translate(f,p),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(c.Message[0],-2,0),this.Canvas.restore()}if(null!=c.Message[1]&&h){var m;null!=c.Font&&(this.Canvas.font=c.Font),this.Canvas.fillStyle=c.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",m=Array.isArray(c.Message[1])?c.Message[1][0]:c.Message[1];f=d,p=i;this.Canvas.save(),this.Canvas.translate(f,p),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(m,2,0),this.Canvas.restore()}o=d}}},this.DrawInsideHorizontal=function(){if(!this.IsMinSize&&(!1!==this.IsShowYText[0]||!1!==this.IsShowYText[1])){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRightEx(),i=this.ChartBorder.GetTop(),a=this.ChartBorder.GetBottom(),n=this.ChartBorder.Top,r=this.ChartBorder.Bottom,o=(this.ChartBorder.TitleHeight,(n<10*(l=L())||2==this.YTextPosition[0])&&!0===this.IsShowYText[0]),s=(r<10*l||2==this.YTextPosition[1])&&!0===this.IsShowYText[1];if(o||s)for(var l=L(),h=null,u=this.HorizontalInfo.length-1;u>=0;--u){var c=this.HorizontalInfo[u],d=this.GetYFromData(c.Value);if(!(null!=d&&null!=h&&Math.abs(d-h)<this.MinYDistance)){if(null!=c.Message[0]&&o){null!=c.Font&&(this.Canvas.font=c.Font),this.Canvas.fillStyle=c.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline=d>=e-2?"top":d<=t+2?"bottom":"middle";this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,c.Message[0];var f=d,p=i;this.Canvas.save(),this.Canvas.translate(f,p),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(c.Message[0],-2,0),this.Canvas.restore()}if(null!=c.Message[1]&&s){if(null!=c.Font&&(this.Canvas.font=c.Font),this.Canvas.fillStyle=c.TextColor,this.Canvas.textAlign="right",this.Canvas.textBaseline=d>=e-2?"top":d<=t+2?"bottom":"middle",Array.isArray(c.Message[1]))var m=c.Message[1][0];else m=c.Message[1];this.Canvas.measureText(m).width,this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,f=d,p=a;this.Canvas.save(),this.Canvas.translate(f,p),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(m,-2,0),this.Canvas.restore()}h=d}}}},this.GetXFromIndex=function(t,e){if(!1===e){var i=this.ChartBorder.GetHScreenBorder();if(t>=0)for(var a=i.TopEx+Qe.FrameLeftMargin+this.DistanceWidth/2+this.DataWidth/2,n=1;n<=t;++n)a+=this.DistanceWidth+this.DataWidth;else{a=i.TopEx-(this.DistanceWidth/2+this.DataWidth+this.DistanceWidth);var r=Math.abs(t);for(n=1;n<r;++n)a-=this.DistanceWidth+this.DataWidth}}else{t<0&&(t=0),t>this.xPointCount-1&&(t=this.xPointCount-1);for(a=(i=this.ChartBorder.GetHScreenBorder()).TopEx+Qe.FrameLeftMargin+this.DistanceWidth/2+this.DataWidth/2,n=1;n<=t;++n)a+=this.DistanceWidth+this.DataWidth}return a},this.DrawVertical=function(){var t=this.ChartBorder.GetHScreenBorder(),e=t.Left,i=t.RightTitle,a=t.Bottom,n=L(),r=null;for(var o in this.VerticalInfo){var s=this.GetXFromIndex(this.VerticalInfo[o].Value);if(s>=a)break;if(!(null!=r&&Math.abs(s-r)<80)){var l=this.VerticalInfo[o];if(2==l.LineType?(this.Canvas.strokeStyle=this.VerticalInfo[o].LineColor,this.Canvas.setLineDash([5*n,5*n]),this.Canvas.beginPath(),this.Canvas.moveTo(e,R(s)),this.Canvas.lineTo(i,R(s)),this.Canvas.stroke(),this.Canvas.setLineDash([])):l.LineType>0&&(this.Canvas.strokeStyle=this.VerticalInfo[o].LineColor,Qe.FrameXLineDash?(this.Canvas.setLineDash(Qe.FrameXLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(e,R(s)),this.Canvas.lineTo(i,R(s)),this.Canvas.stroke(),this.Canvas.setLineDash([])):(this.Canvas.beginPath(),this.Canvas.moveTo(e,R(s)),this.Canvas.lineTo(i,R(s)),this.Canvas.stroke())),null!=this.VerticalInfo[o].Message[0]){null!=this.VerticalInfo[o].Font&&(this.Canvas.font=this.VerticalInfo[o].Font),this.Canvas.fillStyle=this.VerticalInfo[o].TextColor,s<this.Canvas.measureText(this.VerticalInfo[o].Message[0]).width/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top"):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top");var h=e,u=s;this.Canvas.save(),this.Canvas.translate(h,u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.VerticalInfo[o].Message[0],0,this.XBottomOffset),this.Canvas.restore()}r=s}}},this.GetYData=function(t,e){var i=this.ChartBorder.GetHScreenBorder();if(!1===e){var a=i.RightEx-i.LeftEx;return(t-i.LeftEx)/a*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin}if(t<i.LeftEx)return this.HorizontalMin;if(t>i.RightEx)return this.HorizontalMax;a=i.RightEx-i.LeftEx;return(t-i.LeftEx)/a*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin},this.GetXData=function(t,e){var i=this.ChartBorder.GetHScreenBorder(),a=i.TopEx+Qe.FrameLeftMargin,n=i.BottomEx,r=this.DistanceWidth,o=this.DataWidth;if(0==e){if(t<a){for(var s=-1,l=a-(r/2+o+r);s>-1e4&&!(l<=t);)l-=o+r,--s;return s}for(s=0,l=a+r/2+o+r;s<1e4&&!(l>=t);)l+=o+r,++s;return s}if(t<=i.TopEx)return 0;if(t>=i.BottomEx)return this.XPointCount-1;for(s=0,l=a+r/2+o+r;l<n&&s<1e4&&s+1<this.XPointCount&&!(l>t);)l+=o+r,++s;return s},this.DrawBottons=function(){}}function et(){this.newMethod=tt,this.newMethod(),delete this.newMethod,this.ClassName="OverlayKLineHScreenFrame",this.MainFrame=null,this.IsShareY=!1,this.IsCalculateYMaxMin=!0,this.RightOffset=50,this.PenBorder=Qe.OverlayFrame.BolderPen,this.IsShow=!0,this.Title=null,this.TitleColor=Qe.OverlayFrame.TitleColor,this.TitleFont=Qe.OverlayFrame.TitleFont,this.Draw=function(){this.SplitXYCoordinate(),this.IsShow&&(this.DrawVertical(),this.DrawHorizontal(),this.DrawTitle()),this.SizeChange=!1,this.XYSplit=!1},this.DrawTitle=function(){},this.SplitXYCoordinate=function(){if(0!=this.XYSplit)if(this.IsShareY)for(var t in this.HorizontalMax=this.MainFrame.HorizontalMax,this.HorizontalMin=this.MainFrame.HorizontalMin,this.HorizontalInfo=[],this.MainFrame.HorizontalInfo){var e=this.MainFrame.HorizontalInfo[t];this.HorizontalInfo.push(e)}else null!=this.YSplitOperator&&this.YSplitOperator.Operator()},this.DrawHorizontal=function(){},this.DrawVertical=function(){},this.GetScaleTextWidth=function(){return{TextWidth:0}}}function it(){this.Frame,this.Height,this.OverlayIndex=[],this.Interval=60}function at(){this.Frame,this.ChartPaint=[],this.Identify=P(),this.Scprit,this.UpdateFrameMaxMin=function(){var t={Max:null,Min:null};if(this.Frame.IsShareY)this.Frame.XYSplit=!0;else{if(this.Frame.YSpecificMaxMin)t.Max=this.Frame.YSpecificMaxMin.Max,t.Min=this.Frame.YSpecificMaxMin.Min;else for(var e in this.ChartPaint){var i=this.ChartPaint[e].GetMaxMin();Ce.IsNumber(i.Max)&&(null==t.Max||t.Max<i.Max)&&(t.Max=i.Max),Ce.IsNumber(i.Min)&&(null==t.Min||t.Min>i.Min)&&(t.Min=i.Min)}null!=t.Max&&null!=t.Min&&(this.Frame.HorizontalMax=t.Max,this.Frame.HorizontalMin=t.Min,this.Frame.XYSplit=!0)}}}function nt(){this.SubFrame=new Array,this.SizeChange=!0,this.ChartBorder,this.Canvas,this.ScreenImageData,this.Data,this.Position,this.SizeChange=!0,this.MinSubFrameHeight=Qe.DragSubFrameBorder.MinFrameHeight,this.DragBorderHeight=Qe.DragSubFrameBorder.TopBorderHeight,this.AutoLeftBorder=null,this.AutoRightBorder=null,this.OverlayBlankWidth=40,this.AuotRightWidth,this.ZoomWindowsInfo=null,this.ZoomStartWindowIndex=1,this.GetExtendChartByClassName,this.OnMoveFromeBorder=function(t,e){if(this.SubFrame.length<=0)return!1;for(var i=this.SubFrame[t],a=null,n=t+1;n<this.SubFrame.length;++n){var r=this.SubFrame[n];if(r.Height>0){a=r;break}}if(!i||!a)return!1;var o=i.Frame.ChartBorder.Bottom,s=a.Frame.ChartBorder.Top;i.Frame.ChartBorder.Bottom-=e,a.Frame.ChartBorder.Top+=e;var l=i.Frame.ChartBorder.GetHeightEx(),h=a.Frame.ChartBorder.GetHeightEx();return!(l<this.MinSubFrameHeight&&e<0||h<this.MinSubFrameHeight&&e>0)||(i.Frame.ChartBorder.Bottom=o,a.Frame.ChartBorder.Top=s,!1)},this.ReDrawToolbar=function(){for(var t in this.SubFrame)this.SubFrame[t].Frame.ReDrawToolbar=!0},this.SetFrameBorderSizeChange=function(){var t=this.SubFrame[0];if(t&&t.Frame){var e=t.Frame.YSplitOperator;e&&2==e.CoordinateType&&(t.Frame.XYSplit=!0)}},this.CancelZoomUpDownFrameY=function(t){var e=t.Index;if(this.SubFrame.length<=0)return!1;if(!this.SubFrame[e])return!1;var i=this.SubFrame[e],a=i.Frame,n=a.YSplitOperator;if(n.FixedYMaxMin){for(var r in n.FixedYMaxMin=null,n.EnableZoomUpDown=!1,a.XYSplit=!0,i.OverlayIndex){var o=i.OverlayIndex[r];o.Frame.IsShareY&&(o.Frame.XYSplit=!0)}return g.Chart.Log("[HQTradeFrame::CancelZoomUpDownFrameY]"),!0}return!1},this.OnZoomUpDownFrameY=function(t,e){var i=t.Index;if(this.SubFrame.length<=0)return!1;if(!this.SubFrame[i])return!1;var a=this.SubFrame[i],n=a.Frame,r=n.ChartBorder.GetTopEx(),o=n.ChartBorder.GetBottomEx(),s=n.HorizontalMax,l=n.HorizontalMin,h=(s-l)*Math.abs(e)/(o-r),u=n.YSplitOperator,c={Max:s,Min:l};if(1==t.Position){var d=e>0?-h:h;c.Max+=d}else if(2==t.Position){d=e>0?-h:h;c.Min+=d}else{if(0!=t.Position)return!1;d=e>0?h:-h;c.Max+=d,c.Min-=d}if(c.Max>c.Min){for(var f in u.FixedYMaxMin=c,u.EnableZoomUpDown=!0,n.XYSplit=!0,a.OverlayIndex){var p=a.OverlayIndex[f];p.Frame.IsShareY&&(p.Frame.XYSplit=!0)}return g.Chart.Log("[HQTradeFrame::OnZoomUpDownFrameY] Max="+c.Max+", Min="+c.Min),!0}return!1},this.OnUpDonwFrameY=function(t,e){var i=t.Index;if(this.SubFrame.length<=0)return!1;if(!this.SubFrame[i])return!1;var a=this.SubFrame[i],n=a.Frame,r=n.ChartBorder.GetTopEx(),o=n.ChartBorder.GetBottomEx(),s=n.YSplitOperator;if(!s)return!1;var l=n.HorizontalMax,h=n.HorizontalMin,u=(l-h)*Math.abs(e)/(o-r),c=e>0?-u:u,d={Max:l,Min:h};for(var f in d.Max-=c,d.Min-=c,s.FixedYMaxMin=d,s.EnableZoomUpDown=!0,n.XYSplit=!0,a.OverlayIndex){var p=a.OverlayIndex[f];p.Frame.IsShareY&&(p.Frame.XYSplit=!0)}return g.Chart.Log("[HQTradeFrame::OnUpDonwFrameY] Max="+d.Max+", Min="+d.Min+", yMove="+e+", moveStep="+u),!0},this.ClearUpDonwFrameYData=function(t){if(!(this.SubFrame.length<=0))if(t){var e=t.Index;if(e<0||e>=this.SubFrame.length)return;if(!(a=this.SubFrame[e])||!a.Frame||!a.Frame.YSplitOperator)return;1==(n=a.Frame.YSplitOperator).EnableZoomUpDown&&(n.FixedYMaxMin=null)}else for(var i=0;i<this.SubFrame.length;++i){var a,n;if((a=this.SubFrame[i])&&a.Frame&&a.Frame.YSplitOperator)1==(n=a.Frame.YSplitOperator).EnableZoomUpDown&&(n.FixedYMaxMin=null)}},this.ClearCoordinateText=function(t){for(var e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e];i.Frame&&i.Frame.ClearCoordinateText(t)}},this.RestoreIndexWindows=function(){if(!this.ZoomWindowsInfo)return!1;this.SubFrame[this.ZoomWindowsInfo.FrameID];for(var t=this.ZoomStartWindowIndex;t<this.ZoomWindowsInfo.Data.length;++t){var e=this.ZoomWindowsInfo.Data[t],i=this.SubFrame[t];i.Height=e.Height,i.Frame.IsMinSize=!1,i.Frame.ReDrawToolbar=!0,i.Frame.XSplitOperator.ShowText=e.ShowXText,i.Frame.XYSplit=!0;for(var a=0;a<i.OverlayIndex.length;++a){i.OverlayIndex[a].Frame.IsMinSize=!1}}return this.ZoomWindowsInfo=null,!0},this.ZoomIndexWindow=function(t,e){var i=this.SubFrame[t];if(!i)return!1;if(i.Frame.ChartBorder.IsShowTitleOnly=!1,this.ZoomWindowsInfo)return this.RestoreIndexWindows();for(var a={FrameID:t,Data:[]},n=0;n<this.SubFrame.length;++n){var r=this.SubFrame[n];a.Data[n]={Height:r.Height,ShowXText:r.Frame.XSplitOperator.ShowText}}this.ZoomWindowsInfo=a;var o=0;for(n=this.ZoomStartWindowIndex;n<this.SubFrame.length;++n){var s=(r=this.SubFrame[n]).Frame;if(s.XYSplit=!0,o+=r.Height,n!=t){r.Height=0,s.IsMinSize=!0,s.HideToolbar(),s.XSplitOperator.ShowText=!1;for(var l=0;l<r.OverlayIndex.length;++l){r.OverlayIndex[l].Frame.IsMinSize=!0}}}return i.Height=o,i.Frame.XSplitOperator.ShowText=!0,!0},this.SaveSubFrameHeightRate=function(){for(var t=this.ChartBorder.GetHeight(),e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e],a=i.Frame.ChartBorder.GetHeight()/t*100;i.Height=a}},this.ShowIndexTitleOnly=function(t,e){var i=this.SubFrame[t];if(!i&&!i.Frame)return!1;var a=i.Frame;if(!a.ChartBorder)return!1;var n=a.ChartBorder;return!(n.TitleHeight<10)&&(this.RestoreIndexWindows(),n.IsShowTitleOnly?n.IsShowTitleOnly=!1:n.IsShowTitleOnly=!0,!0)},this.CalculateChartBorder=function(){if(!(this.SubFrame.length<=0)){for(var t=this.ChartBorder.GetTop(),e=this.ChartBorder.GetHeight(),i=0,a=0,n=0;n<this.SubFrame.length;++n){(o=(r=this.SubFrame[n]).Frame)&&o.ChartBorder&&o.ChartBorder.IsShowTitleOnly&&r.Height>0?a+=o.ChartBorder.TitleHeight:i+=r.Height}e-=a;for(n=0;n<this.SubFrame.length;++n){var r,o=(r=this.SubFrame[n]).Frame;if(r.Frame.ChartBorder.Top=t,r.Frame.ChartBorder.Left=this.ChartBorder.Left,r.Frame.ChartBorder.Right=this.ChartBorder.Right,r.Frame.ChartBorder.LeftExtendWidth=this.ChartBorder.LeftExtendWidth,r.Frame.ChartBorder.RightExtendWidth=this.ChartBorder.RightExtendWidth,o&&o.ChartBorder&&o.ChartBorder.IsShowTitleOnly&&r.Height>0){var s=r.Frame.ChartBorder.Top+o.ChartBorder.TitleHeight;r.Frame.ChartBorder.Bottom=this.ChartBorder.GetChartHeight()-s,t=s}else{s=e*(r.Height/i)+t;r.Frame.ChartBorder.Bottom=this.ChartBorder.GetChartHeight()-s,t=s}}}},this.SetExtendWidth=function(t){if(t){var e=null,i=null;for(var a in Ce.IsNumber(t.Left)&&(e=t.Left,this.ChartBorder.LeftExtendWidth=e),Ce.IsNumber(t.Right)&&(i=t.Right,this.ChartBorder.RightExtendWidth=i),this.SubFrame){var n=this.SubFrame[a];null!=e&&(n.Frame.ChartBorder.LeftExtendWidth=e),null!=i&&(n.Frame.ChartBorder.RightExtendWidth=i)}}},this.CalculateChartBorder2=function(){if(!(this.SubFrame.length<=0)){var t=this.ChartBorder.Top,e=this.ChartBorder.Bottom,i=this.ChartBorder.GetHeight(),a=0;for(var n in this.SubFrame){a+=(o=this.SubFrame[n]).Height}var r=0;for(var n in this.SubFrame){var o;(o=this.SubFrame[n]).Frame.ChartBorder.Top=t,o.Frame.ChartBorder.Left=this.ChartBorder.Left,o.Frame.ChartBorder.Right=this.ChartBorder.Right,o.Frame.ChartBorder.X=this.ChartBorder.X,o.Frame.ChartBorder.Y=this.ChartBorder.Y,o.Frame.ChartBorder.Width=this.ChartBorder.Width,o.Frame.ChartBorder.Height=this.ChartBorder.Height;var s=i*(o.Height/a);r+=s,e=this.ChartBorder.Bottom+(i-r),o.Frame.ChartBorder.Bottom=e,t+=s}}},this.GetScaleTextWidth=function(){for(var t={Left:null,Right:null,OverlayRight:0},e=[],i=0;i<this.SubFrame.length;++i){if(!((p=this.SubFrame[i]).Height<=0)){var a=p.Frame;if(a&&a.XSplitOperator){var n=a.HorizontalMax,r=a.HorizontalMin;a.YSplitOperator.Operator();var o=a.GetScaleTextWidth();if(a.HorizontalMax=n,a.HorizontalMin=r,o&&o.TextWidth){var s=o.TextWidth;Ce.IsNumber(s.Left)&&(null==t.Left||t.Left<s.Left)&&(t.Left=s.Left),Ce.IsNumber(s.Right)&&(null==t.Right||t.Right<s.Right)&&(t.Right=s.Right)}if(Ce.IsNonEmptyArray(p.OverlayIndex))for(var l=0,h=0;l<p.OverlayIndex.length;++l){var u=p.OverlayIndex[l];if(u.Frame){n=u.Frame.HorizontalMax,r=u.Frame.HorizontalMin;u.Frame.YSplitOperator.Operator();o=u.Frame.GetScaleTextWidth();if(u.Frame.HorizontalMax=n,u.Frame.HorizontalMin=r,u.RightWidth={Index:-1,Width:0},o&&o.TextWidth){s=o.TextWidth;Ce.IsNumber(s.Right)&&(u.RightWidth.Index=h,u.RightWidth.Width=s.Right,e[h]?e[h][i]=u.RightWidth:(e[h]=[],e[h][i]=u.RightWidth),++h)}}}}}}var c=[];for(i=0;i<e.length;++i){var d=e[i],f=0;for(l=0;l<d.length;++l){var p;if(d[l])f<(p=d[l].Width)&&(f=p)}f>0&&(f+=this.OverlayBlankWidth);for(l=0;l<d.length;++l)d[l]&&(d[l].Width=f);c[i]=f}for(i=0;i<c.length;++i){o=c[i];Ce.IsNumber(o)&&(t.OverlayRight+=o)}return t},this.IsFrameXYSplit=function(){for(var t in this.SubFrame){var e=this.SubFrame[t];if(e.Frame.XYSplit)return!0;for(var i=0;i<e.OverlayIndex.length;++i){if(e.OverlayIndex[i].Frame.XYSplit)return!0}}return!1},this.Draw=function(t){!0===this.SizeChange&&this.CalculateChartBorder();var e=!1;if(t&&!0===t.IsEnableSplash&&(e=!0),0==e&&(this.AutoLeftBorder||this.AutoRightBorder)&&this.IsFrameXYSplit()){this.AutoRightOverlayWidth=[];var i=this.GetScaleTextWidth();if(Ce.IsNumber(i.Left)&&this.AutoLeftBorder){var a=0;Ce.IsNumber(this.AutoLeftBorder.Blank)&&(a=this.AutoLeftBorder.Blank);var n=i.Left+a;Ce.IsNumber(this.AutoLeftBorder.MinWidth)&&this.AutoLeftBorder.MinWidth>n&&(n=this.AutoLeftBorder.MinWidth),this.IsHScreen?this.ChartBorder.Top=n:this.ChartBorder.Left=n;for(var r=0;r<this.SubFrame.length;++r){var o=this.SubFrame[r];this.IsHScreen?o.Frame.ChartBorder.Top=n:o.Frame.ChartBorder.Left=n}}if(Ce.IsNumber(i.Right)&&this.AutoRightBorder){a=0;Ce.IsNumber(this.AutoRightBorder.Blank)&&(a=this.AutoRightBorder.Blank);n=i.Right+a;if(Ce.IsNumber(this.AutoRightBorder.MinWidth)&&this.AutoRightBorder.MinWidth>n&&(n=this.AutoRightBorder.MinWidth),this.AuotRightWidth=n,Ce.IsPlusNumber(i.OverlayRight)&&(n+=this.OverlayBlankWidth,this.AuotRightWidth=n,n+=i.OverlayRight),this.GetExtendChartRightWidth){var s=this.GetExtendChartRightWidth();if(this.GetExtendChartByClassName){var l=this.GetExtendChartByClassName("StockChip");l&&l.Chart&&(l.Chart.Left=n)}n+=s}this.IsHScreen?(this.ChartBorder.Bottom!=n&&!0,this.ChartBorder.Bottom=n):(this.ChartBorder.Right!=n&&!0,this.ChartBorder.Right=n);for(r=0;r<this.SubFrame.length;++r){o=this.SubFrame[r];this.IsHScreen?o.Frame.ChartBorder.Bottom=n:o.Frame.ChartBorder.Right=n,o.Frame.ReDrawToolbar=!0,o.Interval=this.AuotRightWidth}}this.SetSizeChage(!0)}for(r=0;r<this.SubFrame.length;++r){if(!((o=this.SubFrame[r]).Height<=0))if(o.Frame.Draw(),this.AutoRightBorder)for(var h=this.AuotRightWidth,u=0;u<o.OverlayIndex.length;++u){(c=o.OverlayIndex[u]).Frame.DataWidth=o.Frame.DataWidth,c.Frame.DistanceWidth=o.Frame.DistanceWidth,c.Frame.XPointCount=o.Frame.XPointCount,c.ChartPaint.length>0&&c.Frame&&(c.Frame.RightOffset=h,c.Frame.Draw(),h+=c.RightWidth.Width)}else{h=o.Interval;for(var u in o.Frame.RightTextMaxWidth>h&&(h=o.Frame.RightTextMaxWidth),o.OverlayIndex){var c;(c=o.OverlayIndex[u]).Frame.DataWidth=o.Frame.DataWidth,c.Frame.DistanceWidth=o.Frame.DistanceWidth,c.Frame.XPointCount=o.Frame.XPointCount,c.ChartPaint.length>0&&c.Frame&&(c.Frame.RightOffset=h,c.Frame.Draw(),c.Frame.IsShow&&(h+=o.Interval))}}}this.SizeChange=!1},this.DrawOveraly=function(t){for(var e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e];if(!(i.Height<=0))for(var a=0;a<i.OverlayIndex.length;++a)for(var n=i.OverlayIndex[a],r=0;r<n.ChartPaint.length;++r){var o=n.ChartPaint[r];o.IsShow&&(t?o.IsDrawFirst&&o.Draw():o.IsDrawFirst||o.Draw())}}},this.DrawOveralySelectedStatus=function(t){if(t.MoveOn.Identify||t.Selected.Identify)for(var e in this.SubFrame){var i=this.SubFrame[e];for(var a in i.OverlayIndex){var n=i.OverlayIndex[a];for(var r in n.ChartPaint){var o=n.ChartPaint[r];o.IsShow&&(o.Identify&&(o.Identify!=t.MoveOn.Identify&&o.Identify!=t.Selected.Identify||o.DrawSelectedStatus&&o.DrawSelectedStatus()))}}}},this.PtInOveralyChart=function(t,e){var i=null;for(var a in this.SubFrame){var n=this.SubFrame[a];for(var r in n.OverlayIndex){var o=n.OverlayIndex[r];for(var s in o.ChartPaint){var l=o.ChartPaint[s];if(l.IsShow&&(l.PtInChart&&(i=l.PtInChart(t,e))))return i}}}return null},this.DrawPictureCoordinate=function(t,e){if(t&&t.Frame&&Ce.IsNonEmptyArray(t.Point)&&t.GetXYCoordinate){var i=t.GetXYCoordinate();t.Frame.DrawPictureYCoordinate(t,i,e);for(var a=0;a<this.SubFrame.length;++a){var n=this.SubFrame[a];if(n&&n.Frame&&n.Frame.XSplitOperator.ShowText){n.Frame.DrawPictureXCoordinate(t,i,e);break}}}},this.DrawLock=function(){for(var t in this.SubFrame){this.SubFrame[t].Frame.DrawLock()}},this.DrawLogo=function(){for(var t=0;t<this.SubFrame.length;++t){var e=this.SubFrame[t];if(e.Frame.DrawLogo){e.Frame.DrawLogo();break}}},this.CalculateLock=function(){for(var t in this.SubFrame){this.SubFrame[t].Frame.CalculateLock()}},this.DrawInsideHorizontal=function(){for(var t in this.SubFrame){var e=this.SubFrame[t];e.Frame.DrawInsideHorizontal&&e.Frame.DrawInsideHorizontal()}},this.DrawCustomHorizontal=function(){for(var t in this.SubFrame){var e=this.SubFrame[t];e.Frame.DrawCustomHorizontal&&e.Frame.DrawCustomHorizontal()}},this.DrawEx=function(t){for(var e in this.SubFrame){var i=this.SubFrame[e];"MinuteFrame"!=i.Frame.ClassName&&"MinuteHScreenFrame"!=i.Frame.ClassName||1!=e||i.Frame.DrawVolTitle(t.Symbol)}},this.DrawCustomVertical=function(t){for(var e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e];i.Frame.DrawCustomVerticalEvent=t,i.Frame.DrawCustomVertical&&i.Frame.DrawCustomVertical()}},this.DrawToolbar=function(t){var e=null;t&&t.MoveOnPoint&&(e=t.MoveOnPoint);for(var i=0;i<this.SubFrame.length;++i){var a=this.SubFrame[i];if(!(a.Height<=0)){var n=a.Frame;if(n){1==n.ToolbarButtonStyle&&n.DrawToolbarV2&&n.DrawToolbarV2(e,t);for(var r=0;r<a.OverlayIndex.length;++r){var o=a.OverlayIndex[r].Frame;o.DrawToolbar&&o.DrawToolbar(e,n.IsMinSize,t)}}}}},this.SetSizeChage=function(t){for(var e in this.SizeChange=t,this.SubFrame){var i=this.SubFrame[e];for(var a in i.Frame.SizeChange=t,i.OverlayIndex){var n=i.OverlayIndex[a];n.Frame&&(n.Frame.SizeChange=t)}}this.ChartBorder.UIElement&&(this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight})},this.SetBeforeDrawXYCallback=function(t){for(var e=0;e<this.SubFrame.length;++e){this.SubFrame[e].Frame.BeforeDrawXYCallback=t}},this.Snapshot=function(){this.ScreenImageData=this.Canvas.getImageData(0,0,this.ChartBorder.GetChartWidth(),this.ChartBorder.GetChartHeight())},this.GetXData=function(t){return this.SubFrame[0].Frame.GetXData(t)},this.GetYData=function(t,e){for(var i,a=0;a<this.SubFrame.length;++a){var n=this.SubFrame[a],r=n.Frame.ChartBorder.GetLeft(),o=n.Frame.ChartBorder.GetTopEx(),s=n.Frame.ChartBorder.GetWidth(),l=n.Frame.ChartBorder.GetHeightEx();if(n.Frame.Canvas.beginPath(),n.Frame.Canvas.rect(r,o,s,l),n.Frame.Canvas.isPointInPath(r,t)){i=n.Frame,e&&(e.FrameID=a);break}}if(null!=i){i.RightFrame&&(e.RightYValue=i.RightFrame.GetYData(t));var h=i.GetYData(t);if(1==i.YSplitOperator.CoordinateType){var u=i.YSplitOperator.GetFirstOpenPrice();e.RightYValue=((h-u)/u*100).toFixed(2)+"%"}return h}},this.PtInFrame=function(t,e){for(var i=0;i<this.SubFrame.length;++i){var a=this.SubFrame[i],n=a.Frame.ChartBorder.GetLeft(),r=a.Frame.ChartBorder.GetTop(),o=a.Frame.ChartBorder.GetWidth(),s=a.Frame.ChartBorder.GetHeight();if(a.Frame.Canvas.beginPath(),a.Frame.Canvas.rect(n,r,o,s),a.Frame.Canvas.isPointInPath(t,e))return i}var l=this.ChartBorder.GetBottom(),h=this.ChartBorder.GetChartHeight(),u=(n=this.ChartBorder.GetLeft(),this.ChartBorder.GetRight());return t>=n&&t<=u&&e>l&&e<h?-3:-1},this.PtInChartFrame=function(t,e){for(var i=0;i<this.SubFrame.length;++i){var a=this.SubFrame[i],n=a.Frame.ChartBorder.GetLeft(),r=a.Frame.ChartBorder.GetTopEx(),o=a.Frame.ChartBorder.GetWidth(),s=a.Frame.ChartBorder.GetHeightEx();if(a.Frame.Canvas.beginPath(),a.Frame.Canvas.rect(n,r,o,s),a.Frame.Canvas.isPointInPath(t,e))return i}return-1},this.PtInButtons=function(t,e){for(var i=0;i<this.SubFrame.length;++i){var a=this.SubFrame[i];if(!(a.Height<=0)){if(r=a.Frame.PtInButtons(t,e))return r.Frame=a.Frame,r.FrameID=i,r;for(var n=0;n<a.OverlayIndex.length;++n){var r,o=a.OverlayIndex[n],s=o.Frame;if(s&&s.PtInButtons)if(r=s.PtInButtons(t,e))return r.IndexID=o.Identify,r.FrameID=i,r.OverlayFrame=s,r.Frame=a.Frame,r}}}return null},this.PtInFrameBottom=function(t,e){var i=this.ChartBorder.GetLeft(),a=this.ChartBorder.GetBottom(),n=this.ChartBorder.GetWidth(),r=this.ChartBorder.Bottom;return this.Canvas.beginPath(),this.Canvas.rect(i,a,n,r),!!this.Canvas.isPointInPath(t,e)},this.GetXFromIndex=function(t){return this.SubFrame[0].Frame.GetXFromIndex(t)},this.GetYFromData=function(t){return this.SubFrame[0].Frame.GetYFromData(t)},this.ZoomUp=function(t){var e=this.SubFrame[0].Frame.ZoomUp(t);return this.UpdateAllFrame(),e},this.ZoomDown=function(t){var e=this.SubFrame[0].Frame.ZoomDown(t);return this.UpdateAllFrame(),e},this.XCoordinateZoom=function(t,e){var i=this.SubFrame[0].Frame.XCoordinateZoom(t,e);return this.UpdateAllFrame(),i},this.ResetXYSplit=function(){for(var t in this.SubFrame)this.SubFrame[t].Frame.XYSplit=!0},this.SetLanguage=function(t){for(var e in this.SubFrame){var i=this.SubFrame[e];i&&i.Frame&&(i.Frame.YSplitOperator&&(i.Frame.YSplitOperator.LanguageID=t),i.Frame.XSplitOperator&&(i.Frame.XSplitOperator.LanguageID=t))}},this.GetCurrentPageSize=function(){if(this.SubFrame.length<=0)return null;var t=this.SubFrame[0];return t&&t.Frame?t.Frame.XPointCount:null},this.OnSize=function(){var t={};return this.SubFrame[0].Frame.OnSize(t),this.UpdateAllFrame(),t},this.SetDataWidth=function(t){var e=this.SubFrame[0].Frame.SetDataWidth(t);return this.UpdateAllFrame(),e},this.UpdateAllFrame=function(){for(var t=this.SubFrame[0].Frame,e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e];for(var a in e>0&&(i.Frame.XPointCount=t.XPointCount,i.Frame.ZoomIndex=t.ZoomIndex,i.Frame.DataWidth=t.DataWidth,i.Frame.DistanceWidth=t.DistanceWidth,i.Frame.LastCalculateStatus.Width=t.LastCalculateStatus.Width,i.Frame.LastCalculateStatus.XPointCount=t.LastCalculateStatus.XPointCount),i.OverlayIndex){var n=this.SubFrame[e].OverlayIndex[a];n.Frame.XPointCount=t.XPointCount,n.Frame.ZoomIndex=t.ZoomIndex,n.Frame.DataWidth=t.DataWidth,n.Frame.DistanceWidth=t.DistanceWidth,n.Frame.LastCalculateStatus.Width=t.LastCalculateStatus.Width,n.Frame.LastCalculateStatus.XPointCount=t.LastCalculateStatus.XPointCount}}},this.PtInFrameBorder=function(t,e){for(var i=this.DragBorderHeight,a=0;a<this.SubFrame.length-1;++a){var n=this.SubFrame[a];if(!(n.Frame.Heigh<=0)){var r=n.Frame.ChartBorder.GetBottom(),o=n.Frame.ChartBorder.GetLeft(),s=n.Frame.ChartBorder.GetRight();if(n.Frame.Canvas.beginPath(),n.Frame.Canvas.rect(o,r-i/2,s-o,i),n.Frame.Canvas.isPointInPath(t,e))return{Index:a,Bottom:!0}}}return null},this.IsEnableDragY=function(t){if(!this.SubFrame)return!1;var e=this.SubFrame[t];if(!e||!e.Frame||!e.Frame.YSplitOperator)return!1;var i=e.Frame.YSplitOperator;return"function"==typeof i.IsEnableDragY&&i.IsEnableDragY()},this.PtInFrameY=function(t,e){var i=0;if(this.GetExtendChartByClassName){var a=this.GetExtendChartByClassName("StockChip");a&&a.Chart&&(i=a.Chart.Width)}for(var n=0;n<this.SubFrame.length;++n){var r=this.SubFrame[n];if(!(r.Frame.Heigh<=0)){var o=r.Frame.ChartBorder.Right;o-=i;var s=r.Frame.ChartBorder.GetBorder(),l=s.Bottom,h=s.TopTitle,u=(s.Left,s.Right),c=l-h;if(c/3>30)var d=h+30,f=l-30;else{var p=c/3;d=h+p,f=l-p}var m=0;if(e<d?m=1:e>f&&(m=2),o>=10)if(Ce.IsNonEmptyArray(r.OverlayIndex)){var v=(D=r.OverlayIndex[0]).Frame.RightOffset;if(r.Frame.Canvas.beginPath(),r.Frame.Canvas.rect(u,h,v,l-h),r.Frame.Canvas.isPointInPath(t,e))return{Index:n,Right:!0,Left:!1,Position:m,IsOverlay:!1};for(var g=u+v,C=0;C<r.OverlayIndex.length;++C){var D;if((D=r.OverlayIndex[C]).RightWidth&&Ce.IsNumber(D.RightWidth.Width)){var y=D.RightWidth.Width;if(r.Frame.Canvas.beginPath(),r.Frame.Canvas.rect(g,h,y,l-h),r.Frame.Canvas.isPointInPath(t,e))return{Index:n,Right:!0,Left:!1,Position:m,IsOverlay:!0,OverlayIndex:C};g+=y}}}else if(r.Frame.Canvas.beginPath(),r.Frame.Canvas.rect(u,h,o,l-h),r.Frame.Canvas.isPointInPath(t,e))return{Index:n,Right:!0,Left:!1,Position:m,IsOverlay:!1};var x=r.Frame.ChartBorder.Left;if(x>=10&&(r.Frame.Canvas.beginPath(),r.Frame.Canvas.rect(0,h,x,l-h),r.Frame.Canvas.isPointInPath(t,e)))return{Index:n,Right:!1,Left:!0,Position:m,IsOverlay:!1}}}return null},this.SetDayCount=function(t){this.ChartBorder.MultiDayMinute.Count=t;for(var e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e];i.Frame&&(i.Frame.DayCount=t,i.Frame.ChartBorder.MultiDayMinute.Count=t)}},this.SetMultiDayMinuteWidth=function(t){if(t){Ce.IsNumber(t.Left)&&(this.ChartBorder.MultiDayMinute.Left=t.Left),Ce.IsNumber(t.Right)&&(this.ChartBorder.MultiDayMinute.Right=t.Right);for(var e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e];i.Frame&&(Ce.IsNumber(t.Left)&&(i.Frame.ChartBorder.MultiDayMinute.Left=t.Left),Ce.IsNumber(t.Right)&&(i.Frame.ChartBorder.MultiDayMinute.Right=t.Right))}}}}function rt(){this.newMethod=nt,this.newMethod(),delete this.newMethod,this.IsHScreen=!0,this.CalculateChartBorder=function(){if(!(this.SubFrame.length<=0)){for(var t=this.ChartBorder.GetHScreenBorder(),e=this.ChartBorder.Right,i=t.Right,a=t.Right-t.Left,n=0,r=0,o=0;o<this.SubFrame.length;++o){(l=(s=this.SubFrame[o]).Frame)&&l.ChartBorder&&l.ChartBorder.IsShowTitleOnly&&s.Height>0?r+=l.ChartBorder.TitleHeight:n+=s.Height}a-=r;for(o=0;o<this.SubFrame.length;++o){var s,l=(s=this.SubFrame[o]).Frame;if(s.Frame.ChartBorder.Top=this.ChartBorder.Top,s.Frame.ChartBorder.Bottom=this.ChartBorder.Bottom,l&&l.ChartBorder&&l.ChartBorder.IsShowTitleOnly&&s.Height>0){var h=l.ChartBorder.TitleHeight;s.Frame.ChartBorder.Right=e,s.Frame.ChartBorder.Left=i-h,e+=h,i-=h}else{h=a*(s.Height/n);s.Frame.ChartBorder.Right=e,s.Frame.ChartBorder.Left=i-h,e+=h,i-=h}}}},this.GetYData=function(t,e){for(var i,a=0;a<this.SubFrame.length;++a){var n=this.SubFrame[a],r=n.Frame.ChartBorder.GetLeftEx(),o=n.Frame.ChartBorder.GetTop(),s=n.Frame.ChartBorder.GetWidthEx(),l=n.Frame.ChartBorder.GetHeight();if(n.Frame.Canvas.beginPath(),n.Frame.Canvas.rect(r,o,s,l),n.Frame.Canvas.isPointInPath(t,o)){i=n.Frame,e&&(e.FrameID=a);break}}if(null!=i)return i.GetYData(t)}}function ot(){this.Date,this.YClose,this.Open,this.Close,this.High,this.Low,this.Vol,this.Amount,this.Time,this.FlowCapital=null,this.Position=null,this.IsVirtual=!1,this.YFClose=null,this.FClose=null,this.Stop,this.Up,this.Down,this.Unchanged,this.ExtendData,this.BFactor,this.AFactor,this.OrderFlow,this.ColorData}function st(){this.Close,this.Open,this.High,this.Low,this.Vol,this.Amount,this.DateTime,this.Increase,this.Risefall,this.AvPrice,this.Lead=null,this.Time,this.Date,this.Position=null,this.YClearing,this.ExtendData}function lt(){this.Time,this.Date,this.Price,this.AvPrice,this.Vol=[],this.ColorID}function ht(){this.Time,this.Date,this.Price,this.AvPrice,this.Vol=[],this.ColorID}function ut(){this.Date,this.Time,this.Value}Number.prototype.toFixed2=Number.prototype.toFixed,Number.prototype.toFixed=function(t){return function(t,e){var i=1;if(isNaN(t))return t;t<0&&(i=-1);var a=Math.pow(10,e),n=Math.round(Math.abs(t)*a)/a*i;if(/^(\d+(?:\.\d+)?)(e)([\-]?\d+)$/.test(n))var r=n.toFixed2(e);else r=n.toString();var o=r.indexOf(".");for(o<0&&e>0&&(o=r.length,r+=".");r.length<=o+e;)r+="0";return r}(this,t)},ot.Copy=function(t){var e=new ot;return e.Date=t.Date,Ce.IsNumber(t.Time)&&(e.Time=t.Time),e.YClose=t.YClose,e.Open=t.Open,e.Close=t.Close,e.High=t.High,e.Low=t.Low,e.Vol=t.Vol,e.Amount=t.Amount,Ce.IsNumber(t.FlowCapital)&&(e.FlowCapital=t.FlowCapital),Ce.IsNumber(t.Position)&&(e.Position=t.Position),Ce.IsNumber(t.YFClose)&&(e.YFClose=t.YFClose),Ce.IsNumber(t.FClose)&&(e.FClose=t.FClose),Ce.IsNumber(t.Stop)&&(e.Stop=t.Stop),Ce.IsNumber(t.Up)&&(e.Up=t.Up),Ce.IsNumber(t.Down)&&(e.Down=t.Down),Ce.IsNumber(t.Unchanged)&&(e.Unchanged=t.Unchanged),Ce.IsNumber(t.BFactor)&&(e.BFactor=t.BFactor),Ce.IsNumber(t.AFactor)&&(e.AFactor=t.AFactor),Ce.IsBool(t.IsVirtual)&&(e.IsVirtual=t.IsVirtual),t.OrderFlow&&(e.OrderFlow=t.OrderFlow),t.ColorData&&(e.ColorData=t.ColorData),t.ExtendData&&(e.ExtendData=t.ExtendData),e},ot.CopyTo=function(t,e){t.Date=e.Date,Ce.IsNumber(e.Time)&&(t.Time=e.Time),t.YClose=e.YClose,t.Open=e.Open,t.Close=e.Close,t.High=e.High,t.Low=e.Low,t.Vol=e.Vol,t.Amount=e.Amount,Ce.IsNumber(e.FlowCapital)&&(t.FlowCapital=e.FlowCapital),Ce.IsNumber(e.Position)&&(t.Position=e.Position),Ce.IsNumber(e.YFClose)&&(t.YFClose=e.YFClose),Ce.IsNumber(e.FClose)&&(t.FClose=e.FClose),Ce.IsNumber(e.Stop)&&(t.Stop=e.Stop),Ce.IsNumber(e.Up)&&(t.Up=e.Up),Ce.IsNumber(e.Down)&&(t.Down=e.Down),Ce.IsNumber(e.Unchanged)&&(t.Unchanged=e.Unchanged),Ce.IsNumber(e.BFactor)&&(t.BFactor=e.BFactor),Ce.IsNumber(e.AFactor)&&(t.AFactor=e.AFactor),Ce.IsBool(e.IsVirtual)&&(t.IsVirtual=e.IsVirtual),e.OrderFlow&&(t.OrderFlow=e.OrderFlow),e.ColorData&&(t.ColorData=e.ColorData),e.ExtendData&&(t.ExtendData=e.ExtendData)},ot.CopyRight=function(t,e){var i=new ot;return i.Date=t.Date,i.YClose=t.YClose*e,i.Open=t.Open*e,i.Close=t.Close*e,i.High=t.High*e,i.Low=t.Low*e,i.Vol=t.Vol,i.Amount=t.Amount,i.FlowCapital=t.FlowCapital,i.Position=t.Position,i.YFClose=t.YFClose,i.FClose=t.FClose,i};var ct={INVESTOR:1,ANNOUNCEMENT:2,PFORECAST:3,ANNOUNCEMENT_QUARTER_1:4,ANNOUNCEMENT_QUARTER_2:5,ANNOUNCEMENT_QUARTER_3:6,ANNOUNCEMENT_QUARTER_4:7,RESEARCH:8,BLOCKTRADING:9,TRADEDETAIL:10,ANNOUNCEMENT_EX_START:100,ANNOUNCEMENT_EX_END:200};function dt(){this.ID,this.Date,this.Title,this.InfoType,this.ExtendData}function ft(){this.PeriodCallback=new p.default,this.GetPeriodCallback=function(t){return this.PeriodCallback.has(t)?this.PeriodCallback.get(t):null},this.AddPeriodCallback=function(t){if(Ce.IsNumber(t.Period)&&t.Callback){var e={Period:t.Period,Callback:t.Callback};this.PeriodCallback.set(t.Period,e)}},this.RemovePeriodCallback=function(t){this.PeriodCallback.has(t.ID)&&this.PeriodCallback.delete(t.ID)}}ft.GetMinutePeriodData=null;var pt=new ft;function mt(){this.Data=new Array,this.DataOffset=0,this.Period=0,this.Right=0,this.Symbol,this.Data2=new Array,this.GetCloseMA=function(t){for(var e=new Array,i=0,a=this.Data.length;i<a;i++)if(i<t)e[i]=null;else{for(var n=0,r=0;r<t;r++)n+=this.Data[i-r].Close;e[i]=n/t}return e},this.GetVolMA=function(t){for(var e=new Array,i=0,a=this.Data.length;i<a;i++)if(i<t)e[i]=null;else{for(var n=0,r=0;r<t;r++)n+=this.Data[i-r].Vol;e[i]=n/t}return e},this.GetAmountMA=function(t){for(var e=new Array,i=0,a=this.Data.length;i<a;i++)if(i<t)e[i]=null;else{for(var n=0,r=0;r<t;r++)n+=this.Data[i-r].Amount;e[i]=n/t}return e},this.GetClose=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Close;return t},this.GetYClose=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].YClose;return t},this.GetHigh=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].High;return t},this.GetLow=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Low;return t},this.GetOpen=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Open;return t},this.GetVol=function(t){var e=1;Ce.IsNumber(t)&&(e=t);var i=new Array;for(var a in this.Data)i[a]=this.Data[a].Vol/e;return i},this.GetAmount=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Amount;return t},this.GetPosition=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Position;return t},this.GetSettlementPrice=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].FClose;return t},this.GetIsEqual=function(){var t=[];for(var e in this.Data){var i=this.Data[e];t[e]=i.Close==i.Open?1:0}return t},this.GetIsUp=function(){var t=[];for(var e in this.Data){var i=this.Data[e];t[e]=i.Close>i.Open?1:0}return t},this.GetIsDown=function(){var t=[];for(var e in this.Data){var i=this.Data[e];t[e]=i.Close<i.Open?1:0}return t},this.GetLead=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Lead;return t},this.GetDate=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Date;return t},this.GetTime=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Time;return t},this.GetUp=function(){var t=[];for(var e in this.Data)t[e]=this.Data[e].Up;return t},this.GetDown=function(){var t=[];for(var e in this.Data)t[e]=this.Data[e].Down;return t},this.GetYear=function(){var t=new Array;for(var e in this.Data)t[e]=parseInt(this.Data[e].Date/1e4);return t},this.GetMonth=function(){var t=new Array;for(var e in this.Data)t[e]=parseInt(this.Data[e].Date%1e4/100);return t},this.GetAvPrice=function(){var t=new Array;for(var e in this.Data){var i=this.Data[e].AvPrice;Ce.IsNumber(i)?t[e]=i:t[e]=0}return t},this.GetDateRange=function(){if(!this.Data||this.Data.length<=0)return null;var t=this.Data[0],e=this.Data[this.Data.length-1],i={Start:{Date:t.Date},End:{Date:e.Date}};return Ce.IsNumber(t.Time)&&(i.Start.Time=t.Time),Ce.IsNumber(e.Time)&&(i.End.Time=e.Time),i},this.GetDateList=function(){if(!this.Data||this.Data.length<=0)return null;for(var t=[],e=new c.default,i=0;i<this.Data.length;++i){var a=this.Data[i];Ce.IsNumber(a.Date)&&(e.has(a.Date)||(e.add(a.Date),t.push(a.Date)))}return t},this.GetMinutePeriodData=function(t){if(ft.GetMinutePeriodData)return ft.GetMinutePeriodData(t,this.Data,this);var e=new Array,i=5;if(5==t)i=5;else if(6==t)i=15;else if(7==t)i=30;else if(8==t)i=60;else if(11==t)i=120;else{if(12!=t)return t>Ct&&t<=Dt?(i=t-Ct,this.GetMinuteCustomPeriodData(i)):this.Data;i=240}for(var a=!1,n=null,r=null,o=0;o<this.Data.length;){a=!0;for(var s=0;s<i&&o<this.Data.length;++o){a&&(n=new ot,e.push(n),a=!1);var l=this.Data[o];if(null!=l){if((925!=l.Time||null!=r&&924==r)&&(930!=l.Time||null!=r&&929==r)&&(1300!=l.Time||null!=r&&1259==r)&&++s,n.Date=l.Date,n.Time=l.Time,r=n.Time,null!=l.Open&&null!=l.Close&&(null==n.Open||null==n.Close?(n.Open=l.Open,n.High=l.High,n.Low=l.Low,n.YClose=l.YClose,n.Close=l.Close,n.Vol=l.Vol,n.Amount=l.Amount,n.FlowCapital=l.FlowCapital,n.Position=l.Position,n.YFClose=l.YFClose,n.FClose=l.FClose):(n.High<l.High&&(n.High=l.High),n.Low>l.Low&&(n.Low=l.Low),n.Close=l.Close,n.Vol+=l.Vol,null!=l.Amount&&(n.Amount+=l.Amount),n.Position=l.Position,n.FlowCapital=l.FlowCapital,n.FClose=l.FClose),o+1<this.Data.length)){var h=this.Data[o+1];if(h&&h.Date!=l.Date){++o;break}}}else++s}}return e},this.GetMinuteCustomPeriodData=function(t){for(var e=new Array,i=t,a=!1,n=null,r=0;r<this.Data.length;){a=!0;for(var o=0;o<i&&r<this.Data.length;++r,++o){a&&(n=new ot,e.push(n),a=!1);var s=this.Data[r];null!=s&&(n.Date=s.Date,n.Time=s.Time,null!=s.Open&&null!=s.Close&&(null==n.Open||null==n.Close?(n.Open=s.Open,n.High=s.High,n.Low=s.Low,n.YClose=s.YClose,n.Close=s.Close,n.Vol=s.Vol,n.Amount=s.Amount,n.FlowCapital=s.FlowCapital,n.Position=s.Position,n.YFClose=s.YFClose,n.FClose=s.FClose):(n.High<s.High&&(n.High=s.High),n.Low>s.Low&&(n.Low=s.Low),n.Close=s.Close,n.Vol+=s.Vol,null!=s.Amount&&(n.Amount+=s.Amount),n.Position=s.Position,n.FlowCapital=s.FlowCapital,n.FClose=s.FClose)))}}return e},this.GetDayPeriodData=function(t){if(t>vt&&t<=gt)return this.GetDayCustomPeriodData(t-vt);var e=Ii.IsBIT(this.Symbol),i=new Array,a=0,n=2,r=null;for(var o in this.Data){var s=!1,l=this.Data[o];switch(t){case 1:if(e)var h=mt.GetSunday(l.Date);else h=mt.GetFirday(l.Date);h!=a&&(s=!0,a=h);break;case 21:if(e)h=mt.GetSunday(l.Date);else h=mt.GetFirday(l.Date);h!=a&&(++n>=2&&(s=!0,n=0),a=h);break;case 2:parseInt(l.Date/100)!=parseInt(a/100)&&(s=!0,a=l.Date);break;case 3:parseInt(l.Date/1e4)!=parseInt(a/1e4)&&(s=!0,a=l.Date);break;case 22:var u=mt.GetHalfYear(l.Date);u!=a&&(s=!0,a=u);break;case 9:var c=mt.GetQuarter(l.Date);c=10*parseInt(l.Date/1e4)+c;var d=mt.GetQuarter(a);c!=(d=10*parseInt(a/1e4)+d)&&(s=!0,a=l.Date)}if(s){if((r=new ot).Date=l.Date,i.push(r),null==l.Open||null==l.Close)continue;r.Open=l.Open,r.High=l.High,r.Low=l.Low,r.YClose=l.YClose,r.Close=l.Close,r.Vol=l.Vol,r.Amount=l.Amount,r.FlowCapital=l.FlowCapital,r.Position=l.Position,r.YFClose=l.YFClose,r.FClose=l.FClose}else{if(null==r)continue;if(null==l.Open||null==l.Close)continue;null==r.Open||null==r.Close?(r.Open=l.Open,r.High=l.High,r.Low=l.Low,r.YClose=l.YClose,r.Close=l.Close,r.Vol=l.Vol,r.Amount=l.Amount,r.FlowCapital=l.FlowCapital,r.Position=l.Position,r.YFClose=l.YFClose,r.FClose=l.FClose):(r.High<l.High&&(r.High=l.High),r.Low>l.Low&&(r.Low=l.Low),r.Close=l.Close,r.Vol+=l.Vol,null!=l.Amount&&(r.Amount+=l.Amount),r.Position=l.Position,r.FlowCapital=l.FlowCapital,r.Date=l.Date,r.FClose=l.FClose)}}return i},this.GetDayCustomPeriodData=function(t){for(var e=[],i=t,a=!1,n=null,r=0;r<this.Data.length;){a=!0;for(var o=0;o<i&&r<this.Data.length;++r,++o){a&&(n=new ot,e.push(n),a=!1);var s=this.Data[r];null!=s&&(n.Date=s.Date,null!=s.Open&&null!=s.Close&&(null==n.Open||null==n.Close?(n.Open=s.Open,n.High=s.High,n.Low=s.Low,n.YClose=s.YClose,n.Close=s.Close,n.Vol=s.Vol,n.Amount=s.Amount,n.FlowCapital=s.FlowCapital,n.Position=s.Position,n.YFClose=s.YFClose,n.FClose=s.FClose):(n.High<s.High&&(n.High=s.High),n.Low>s.Low&&(n.Low=s.Low),n.Close=s.Close,n.Vol+=s.Vol,null!=s.Amount&&(n.Amount+=s.Amount),n.Position=s.Position,n.FlowCapital=s.FlowCapital,n.FClose=s.FClose)))}}return e},this.GetPeriodData=function(t){var e=pt.GetPeriodCallback(t);if(e)return e.Callback(t,this.Data,this);if(Ii.IsBIT(this.Symbol)&&(5==t||6==t||7==t||8==t||t>Ct&&t<=Dt)){var i=5;return 5==t?i=5:6==t?i=15:7==t?i=30:8==t?i=60:11==t?i=120:12==t?i=240:t>Ct&&t<=Dt&&(i=t-Ct),this.GetMinuteCustomPeriodData(i)}return mt.IsDayPeriod(t,!1)?this.GetDayPeriodData(t):mt.IsMinutePeriod(t,!1)?this.GetMinutePeriodData(t):void 0},this.GetRightData=function(t,e){var i=[];if(this.Data.length<=0)return i;if(e&&1==e.AlgorithmType){for(var a=0;a<this.Data.length;++a){var n=this.Data[a],r=1==t?n.BFactor:n.AFactor;i[a]=ot.CopyRight(n,r)}return i}if(1==t){var o=this.Data.length-1,s=(r=1,this.Data[o].YClose);for(i[o]=ot.Copy(this.Data[o]),--o;o>=0&&s==this.Data[o].Close;--o)i[o]=ot.Copy(this.Data[o]),s=this.Data[o].YClose;for(;o>=0;--o){var l=this.Data[o].Close;s!=l&&0!=l&&(r*=s/l),i[o]=ot.CopyRight(this.Data[o],r),s=this.Data[o].YClose}}else if(2==t){o=0,r=1;var h=this.Data[o].Close;for(i[o]=ot.Copy(this.Data[o]),++o;o<this.Data.length&&h==this.Data[o].YClose;++o)i[o]=ot.Copy(this.Data[o]),h=this.Data[o].Close;for(;o<this.Data.length;++o)h!=this.Data[o].YClose&&(r*=h/this.Data[o].YClose),i[o]=ot.CopyRight(this.Data[o],r),h=this.Data[o].Close}return i},this.GetRightDate=this.GetRightData,this.GetOverlayData=function(t,e){for(var i=[],a=0,n=0;a<this.Data.length;){var r=this.Data[a].Date;if(n>=t.length)i[a]=new ot,i[a].Date=r,++a;else{var o=t[n].Date;o==r?(i[a]=new ot,i[a].Date=t[n].Date,i[a].YClose=t[n].YClose,i[a].Open=t[n].Open,i[a].High=t[n].High,i[a].Low=t[n].Low,i[a].Close=t[n].Close,i[a].Vol=t[n].Vol,i[a].Amount=t[n].Amount,i[a].Stop=t[n].Stop,i[a].Up=t[n].Up,i[a].Down=t[n].Down,i[a].Unchanged=t[n].Unchanged,++n,++a):o<r?++n:(i[a]=new ot,i[a].Date=r,++a)}}return i},this.GetOverlayMinuteData=function(t,e){for(var i=[],a=0,n=0;a<this.Data.length;){var r=this.Data[a].Date,o=this.Data[a].Time;if(n>=t.length)i[a]=new ot,i[a].Date=r,i[a].Time=o,++a;else{var s=t[n].Date,l=t[n].Time;s==r&&l==o?(i[a]=new ot,i[a].Date=t[n].Date,i[a].Time=t[n].Time,i[a].YClose=t[n].YClose,i[a].Open=t[n].Open,i[a].High=t[n].High,i[a].Low=t[n].Low,i[a].Close=t[n].Close,i[a].Vol=t[n].Vol,i[a].Amount=t[n].Amount,i[a].Stop=t[n].Stop,i[a].Up=t[n].Up,i[a].Down=t[n].Down,i[a].Unchanged=t[n].Unchanged,++n,++a):s<r||s==r&&l<o?++n:(i[a]=new ot,i[a].Date=r,i[a].Time=o,++a)}}return i},this.GetFittingData=function(t){for(var e=new Array,i=0,a=0;i<this.Data.length;){var n=this.Data[i].Date;if(a>=t.length)e[i]=null,++i;else{var r=t[a].Date;if(r==n){var o=new ut;o.Date=t[a].Date,o.Value=t[a].Value,e[i]=o,++a,++i}else r<n?++a:(e[i]=new ut,e[i].Date=n,++i)}}return e},this.GetFittingData2=function(t,e){for(var i=new Array,a=0,n=0;a<this.Data.length;){var r=this.Data[a].Date;if(n>=t.length)i[a]=new ut,i[a].Date=r,i[a].Value=e,++a;else{var o=t[n].Date;if(o==r){var s=new ut;s.Date=t[n].Date,s.Value=t[n].Value,i[a]=s,++n,++a}else o<r?++n:(i[a]=new ut,i[a].Date=r,i[a].Value=e,++a)}}return i},this.GetDateIndex=function(t){for(var e=0,i=0;e<this.Data.length;){var a=this.Data[e].Date;if(i>=t.length)break;var n=t[i];n.Date==a?(n.Index=e,++i):n.Date<a?++i:++e}},this.GetDateTimeIndex=function(t){for(var e=0,i=0;e<this.Data.length;){var a=this.Data[e].Date,n=this.Data[e].Time;if(i>=t.length)break;var r=t[i];r.Date==a&&r.Time==n?(r.Index=e,++i):r.Date<a||r.Date==a&&r.Time<n?++i:++e}},this.GetMinuteFittingData=function(t){for(var e=[],i=0,a=0;i<this.Data.length;){var n=this.Data[i].Date,r=this.Data[i].Time;if(a>=t.length)e[i]=null,++i;else{var o=t[a].Date,s=t[a].Time,l=t[a];if(o==n&&s==r)(h=new ut).Date=l.Date,h.Time=l.Time,h.Value=l.Value,e[i]=h,++a,++i;else if(o<n||o==n&&s<r)++a;else{var h;(h=new ut).Date=n,h.Time=r,e[i]=h,++i}}}return e},this.GetFittingFinanceData=function(t){for(var e=[],i=0,a=0;i<this.Data.length;){var n=this.Data[i].Date;if(a<t.length)if(n<t[a].Date){++i;continue}if(a+1<t.length&&t[a].Date<n&&t[a+1].Date<=n)++a;else{var r=new ut;r.Date=n,a<t.length?(r.Value=t[a].Value,r.FinanceDate=t[a].Date):(r.Value=null,r.FinanceDate=null),e[i]=r,++i}}return e},this.GetMinuteFittingFinanceData=function(t){var e=[];if(!Array.isArray(t)||t.length<=0)return e;var i=0,a=t[0];for(i=0;i<this.Data.length;++i){var n=this.Data[i].Date,r=this.Data[i].Time;if(n>a.Date||n==a.Date&&r>=a.Time)break}for(var o=0;i<this.Data.length;){n=this.Data[i].Date,r=this.Data[i].Time;if(o+1<t.length&&(t[o].Date<n&&t[o+1].Date<=n||t[o].Date==n&&t[o].Time<r&&t[o+1].Time<=r))++o;else{var s=new ut;s.Date=n,s.Time=r,o<t.length?(s.Value=t[o].Value,s.FinanceDate=t[o].Date,s.FinanceTime=t[o].Time):(s.Value=null,s.FinanceDate=null,s.FinanceTime=null),e[i]=s,++i}}return e},this.GetFittingTradeData=function(t,e,i){for(var a=[],n=!1,r=0,o=0;r<this.Data.length;){var s=this.Data[r].Date;if(o<t.length&&t[o].Date>s)(l=new ut).Date=s,l.Value=e,a[r]=l,++r;else if(o+1<t.length&&t[o].Date<s&&t[o+1].Date<=s)++o,n=!1;else{var l;if((l=new ut).Date=s,l.Value=e,l.FinanceDate=null,o<t.length){var h=t[o];0==this.Period&&!0===i?h.Date==l.Date&&(l.Value=h.Value,l.FinanceDate=h.Date,n=!0):0==n&&(l.Value=h.Value,l.FinanceDate=h.Date,n=!0)}a[r]=l,++r}}return a},this.GetMinuteFittingTradeData=function(t,e,i){for(var a=[],n=!1,r=0,o=0;r<this.Data.length;){var s=this.Data[r].Date,l=this.Data[r].Time;if(o<t.length&&(t[o].Date>s||t[o].Date==s&&t[o].Time>l))(h=new ut).Date=s,h.Time=l,h.Value=e,a[r]=h,++r;else if(o+1<t.length&&(t[o].Date<s&&t[o+1].Date<=s||t[o].Date==s&&t[o].Time<l&&t[o+1].Time<=l))++o,n=!1;else{var h;if((h=new ut).Date=s,h.FinanceDate=null,h.Time=l,h.Value=e,o<t.length){var u=t[o];4==this.Period&&!0===i?u.Date==h.Date&&u.Time==h.Time&&(h.Value=u.Value,h.FinanceDate=u.Date,h.FinanceTime=u.Time,n=!0):0==n&&(h.Value=u.Value,h.FinanceDate=u.Date,h.FinanceTime=u.Time,n=!0)}a[r]=h,++r}}return a},this.GetFittingMarketValueData=function(t){for(var e=[],i=0,a=0;i<this.Data.length;){var n=this.Data[i].Date,r=this.Data[i].Close;if(a+1<t.length&&t[a].Date<n&&t[a+1].Date<=n)++a;else{var o=new ut;o.Date=n,o.Value=t[a].Value*r,o.FinanceDate=t[a].Date,e[i]=o,++i}}return e},this.GetFittingMonthData=function(t){for(var e=new Array,i=null,a=0,n=0;a<this.Data.length;){var r=this.Data[a].Date;if(n>=t.length)e[a]=null,++a;else{var o=t[n].Date;if(o==r)(s=new ut).Date=t[n].Date,s.Value=t[n].Value,s.Text=t[n].Text,e[a]=s,++n,++a;else if(null!=i&&i<o&&r>o){var s;(s=new ut).Date=r,s.OverlayDate=t[n].Date,s.Value=t[n].Value,s.Text=t[n].Text,e[a]=s,++n,++a}else o<r?++n:(e[a]=new ut,e[a].Date=r,++a);i=r}}return e},this.GetValue=function(){var t=[];for(var e in this.Data)if(this.Data[e]&&null!=this.Data[e].Value){var i=this.Data[e].Value;isNaN(i)?i instanceof Array?t[e]=i:t[e]=null:t[e]=i}else t[e]=null;return t},this.GetObject=function(){var t=[];for(var e in this.Data)if(this.Data[e]&&this.Data[e].Value){var i=this.Data[e].Value;t[e]=i}else t[e]=null;return t},this.GetPeriodSingleData=function(t){var e=new Array,i=0,a=2,n=null;for(var r in this.Data){var o=!1,s=this.Data[r];if(null!=s&&null!=s.Date){switch(t){case 1:(l=mt.GetFirday(s.Date))!=i&&(o=!0,i=l);break;case 21:var l;(l=mt.GetFirday(s.Date))!=i&&(++a>=2&&(o=!0,a=0),i=l);break;case 2:parseInt(s.Date/100)!=parseInt(i/100)&&(o=!0,i=s.Date);break;case 3:parseInt(s.Date/1e4)!=parseInt(i/1e4)&&(o=!0,i=s.Date);break;case 9:var h=mt.GetQuarter(s.Date);h=10*parseInt(s.Date/1e4)+h;var u=mt.GetQuarter(i);h!=(u=10*parseInt(i/1e4)+u)&&(o=!0,i=s.Date)}if(o)(n=new ut).Date=s.Date,n.Value=s.Value,e.push(n);else{if(null==n)continue;if(null==s.Value||isNaN(s.Value))continue;(null==n.Value||isNaN(n.Value))&&(n.Value=s.Value)}}}return e},this.GetMinuteAvPrice=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].AvPrice;return t},this.MergeMinuteData=function(t){if(!this.Data||this.Data.length<=0)return this.Data=t,!0;for(var e=this.Data[0],i=0,a=null,n=0;n<t.length;++n){if((u=t[n]).Date>e.Date){i=n,a=u;break}if(u.Date==e.Date&&u.Time>=e.Time){i=n,a=u;break}}if(null==a)return!1;var r=null,o=!1;for(n=this.Data.length-1;n>=0;--n){var s=this.Data[n].Date,l=this.Data[n].Time;if(a.Date>s||a.Date==s&&a.Time>=l){r=n,a.Date==s&&a.Time==l&&(o=!0);break}}if(null==r)return!1;var h=r;n=i;if(1==o){var u=t[n];if(h-1>0){var c=this.Data[h-1];u.YClose||(u.YClose=c.Close),!Ce.IsNumber(u.FlowCapital)&&Ce.IsNumber(c.FlowCapital)&&(u.FlowCapital=c.FlowCapital)}var d=ot.Copy(u);this.Data[h]=d,++h,++n}else++h;for(;n<t.length;){u=t[n];if(h>=this.Data.length-1){if(h-1>0){c=this.Data[h-1];u.YClose||(u.YClose=c.Close),!Ce.IsNumber(u.FlowCapital)&&Ce.IsNumber(c.FlowCapital)&&(u.FlowCapital=c.FlowCapital)}d=ot.Copy(u);this.Data[h]=d,++h,++n}else{var f=this.Data[h];f.Date==u.Date&&f.Time==u.Time?(ot.CopyTo(f,u),++h,++n):++h}}return!0},this.ConverPeriod=function(t,e,i){for(var a=[],n=null,r=mt.IsMinutePeriod(e,!0),o=mt.IsMinutePeriod(i,!0),s=r&&o,l=r&&!o,h=!r&&!o,u=0,c=0;u<this.Data.length;++u){for(var d=this.Data[u];c<t.length;++c){var f=t[c];if(s){if(f.Date>d.Date||f.Date==d.Date&&f.Time>=d.Time){n=f;break}}else if((l||h)&&f.Date>=d.Date){n=f;break}}var p=null;n?((p=ot.Copy(n)).PDate=n.Date,p.PTime=n.Time):p=new ot,p.Date=d.Date,(s||l)&&(p.Time=d.Time),a.push(p)}return g.Chart.Log("[ChartData::ConverPeriod] result",a),a},this.GetRef=function(t){for(var e=[],i=0;i<this.Data.length;++i){e[i]=null;var a=this.Data[i];if(i-t<0){(n=new ot).Date=a.Date,n.Time=a.Time,e[i]=n}else{var n,r=this.Data[i-t];(n=ot.Copy(r)).Date=a.Date,n.Time=a.Time,e[i]=n}}return e},this.FitKLineIndex=function(t,e,i,a){for(var n=this.Data.length,r=t.length,o=[mt.IsMinutePeriod(i,!0),mt.IsMinutePeriod(a,!0)],s=[mt.IsDayPeriod(i,!0),mt.IsDayPeriod(a,!0)],l=mt.GetKLineDataTime(this.Data[0]),h=[],u=r,c=0;c<r;++c){var d=mt.GetKLineDataTime(t[c]);if(s[0]&&s[1]||o[0]&&s[1]){if(d.Date>=l.Date){u=c;break}}else if(o[0]&&o[1]){if(d.Date>l.Date){u=c;break}if(d.Date==l.Date&&d.Time>=l.Time){u=c;break}}}c=0;for(var f=u;c<n;){d=mt.GetKLineDataTime(this.Data[c]);if(f>=r){var p={Date:d.Date,Time:d.Time,Index:-1};h[c]=p,++c}else{var m=mt.GetKLineDataTime(t[f]);if(s[0]&&s[1]||o[0]&&s[1])if(m.Date==d.Date){p={Date:d.Date,Time:d.Time,Index:f,Data2:m.Date,Time2:m.Time};h[c]=p,++c}else if(f+1<r){var v=mt.GetKLineDataTime(t[f+1]);if(m.Date<=d.Date&&v.Date>d.Date){p={Date:d.Date,Time:d.Time,Index:f+1,Data2:v.Date,Time2:v.Time};h[c]=p,++c}else if(v.Date<=d.Date)++f;else{p={Date:d.Date,Time:d.Time,Index:-1};h[c]=p,++c}}else++f;else if(o[0]&&o[1])if(m.Date==d.Date&&m.Time==d.Time){p={Date:d.Date,Time:d.Time,Index:f,Data2:m.Date,Time2:m.Time};h[c]=p,++c}else if(f+1<r){v=mt.GetKLineDataTime(t[f+1]);if(m.Date<d.Date&&v.Date>d.Date||m.Date==d.Date&&m.Time<d.Time&&v.Date==d.Date&&v.Time>d.Time||m.Date==d.Date&&m.Time<d.Time&&v.Date>d.Date||m.Date<d.Date&&v.Date==d.Date&&v.Time>d.Time){p={Date:d.Date,Time:d.Time,Index:f+1,Data2:v.Date,Time2:v.Time};h[c]=p,++c}else if(v.Date<d.Date||v.Date==d.Date&&v.Time<=d.Time)++f;else{p={Date:d.Date,Time:d.Time,Index:-1};h[c]=p,++c}}else++f}}var g=[];for(var c in e){d=e[c];if(Array.isArray(d.Data)){var C=[];g[c]={Data:C,Name:d.Name};for(f=0;f<h.length;++f){var D=h[f];C[f]=null,D&&D.Index>=0&&D.Index<d.Data.length&&(C[f]=d.Data[D.Index])}}else g[c]={Data:d.Data,Name:d.Name}}return g},this.FindDataIndexByDateTime=function(t){var e=0;for(var i in t)t[i].Index=-1;for(var i in this.Data){var a=this.Data[i];for(var n in t){var r=t[n];if(!(r.Index>=0)){if(Ce.IsNumber(r.Time)){if(r.Date==a.Date&&r.Time==a.Time){r.Index=parseInt(i),++e;break}}else if(r.Date==a.Date){r.Index=parseInt(i),++e;break}if(e>=t.length)break}}}},this.CloneData=function(t){var e=[];if("HistoryData"==t)for(var i in this.Data){var a=this.Data[i],n=ot.Copy(a);e.push(n)}return e},this.GetAPIDataIndex=function(t,e){var i=[];if(t&&e){for(var a=this.Data.length,n=t.length,r=mt.GetKLineDataTime(this.Data[0]),o=n,s=(o=n,0);s<n;++s){var l=t[s],h=e[s];if(l>r.Date||l==r.Date&&h>=r.Time){o=s;break}}s=0;for(var u=o;s<a;){var c=this.Data[s];if(u>=n){var d={KDate:c.Date,KTime:c.Time,KIndex:s,Index:-1};i[s]=d,++s}else{l=t[u],h=e[u];if(l==c.Date&&h==c.Time){d={KDate:c.Date,KTime:c.Time,KIndex:s,Index:u,Data:l,Time:h};i[s]=d,++s}else if(u+1<n){var f=t[u+1],p=e[u+1];if(l<c.Date&&f>c.Date||l==c.Date&&h<c.Time&&f==c.Date&&p>c.Time||l==c.Date&&h<c.Time&&f>c.Date||l<c.Date&&f==c.Date&&p>c.Time){d={KDate:c.Date,KTime:c.Time,KIndex:s,Index:u,Data:l,Time:h};i[s]=d,++s}else if(f<c.Date||f==c.Date&&p<=c.Time)++u;else{d={KDate:c.Date,KTime:c.Time,KIndex:s,Index:-1};i[s]=d,++s}}else++u}}}else if(t){for(a=this.Data.length,n=t.length,r=mt.GetKLineDataTime(this.Data[0]),o=n,s=0;s<n;++s){if((c=t[s])>=r.Date){o=s;break}}for(s=0,u=o;s<a;){c=this.Data[s];if(u>=n){d={KDate:c.Date,KIndex:s,Index:-1};i[s]=d,++s}else{var m=t[u];if(m==c.Date){d={KDate:c.Date,KIndex:s,Index:u,Data:m};i[s]=d,++s}else if(u+1<n){var v=t[u+1];if(m<=c.Date&&v>c.Date){d={KDate:c.Date,KIndex:s,Index:u,Data:m};i[s]=d,++s}else if(v<=c.Date)++u;else{d={KDate:c.Date,KIndex:s,Index:-1};i[s]=d,++s}}else++u}}}return i},this.FixKData=function(t,e){return mt.IsDayPeriod(e,!0)?this.FixKData_Day(t):mt.IsMinutePeriod(e,!0)?this.FixKData_Minute(t):null},this.FixKData_Day=function(t){for(var e=[],i=t.length,a=0,n=0;a<this.Data.length;){var r=this.Data[a];if(n<i)if((o=t[n]).Date>r.Date){++a;continue}if(n+1<i){var o=t[n],s=t[n+1];if(o.Date<r.Date&&s.Date<=r.Date){++n;continue}}var l=new ot;l.Date=r.Date;o=t[n<i?n:i-1];l.Close=o.Close,l.High=o.High,l.Low=o.Low,l.Open=o.Open,l.YClose=o.YClose,l.Amount=o.Amount,l.Vol=o.Vol,l.ExDate=o.Date,e[a]=l,++a}return e},this.FixKData_Minute=function(t){for(var e=[],i=t.length,a=0,n=0;a<this.Data.length;){var r=this.Data[a],o=mt.DateTimeToNumber(r);if(n<i){var s=t[n];if((h=mt.DateTimeToNumber(s))>o){++a;continue}}if(n+1<i){s=t[n];var l=t[n+1],h=mt.DateTimeToNumber(s),u=mt.DateTimeToNumber(l);if(h<o&&u<=o){++n;continue}}var c=new ot;c.Date=r.Date,c.Time=r.Time;s=t[n<i?n:i-1];c.Close=s.Close,c.High=s.High,c.Low=s.Low,c.Open=s.Open,c.YClose=s.YClose,c.Amount=s.Amount,c.Vol=s.Vol,c.ExDate=s.Date,c.ExTime=s.Time,e[a]=c,++a}return e}}mt.DateTimeToNumber=function(t){return 1e4*t.Date+t.Time},mt.GetKLineDataTime=function(t){var e={Date:t.Date,Time:0};return Ce.IsNumber(t.Time)&&(e.Time=t.Time),e},mt.GetFirday=function(t){var e=new Date(parseInt(t/1e4),t/100%100-1,t%100),i=e.getDay();if(5==i)return t;var a=e.getTime();i<5?a+=864e5*(5-i):a-=864e5*(i-5);e.setTime(a);var n=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();e.getDay();return n},mt.GetSunday=function(t){var e=new Date(parseInt(t/1e4),t/100%100-1,t%100),i=e.getDay();if(0==i)return t;var a=e.getTime();i>0&&(a+=864e5*(7-i));e.setTime(a);var n=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();e.getDay();return n},mt.GetQuarter=function(t){var e=parseInt(t%1e4/100);return 1==e||2==e||3==e?1:4==e||5==e||6==e?2:7==e||8==e||9==e?3:10==e||11==e||12==e?4:0},mt.GetHalfYear=function(t){var e=parseInt(t/1e4);return t%1e4<=630?1e4*e+630:1e4*e+1231};var vt=4e4,gt=49999;mt.IsDayPeriod=function(t,e){return 1==t||2==t||3==t||9==t||21==t||22==t||(t>vt&&t<=gt||0==t&&1==e)};var Ct=2e4,Dt=29999;mt.IsMinutePeriod=function(t,e){return 5==t||6==t||7==t||8==t||11==t||12==t||(t>Ct&&t<=Dt||4==t&&1==e)};var yt=3e4,xt=32e3;function St(){this.ChartPaint,this.Data,this.Type=0}function It(t,e,i,a){this.X=t,this.Y=e,this.Width=i,this.Height=a}mt.IsSecondPeriod=function(t){return t>yt&&t<=xt},mt.IsTickPeriod=function(t){return 10==t},mt.GetPeriodName=function(t){var e=new p.default([[0,"日线"],[1,"周线"],[2,"月线"],[3,"年线"],[9,"季线"],[21,"双周"],[22,"半年"],[4,"1分"],[5,"5分"],[6,"15分"],[7,"30分"],[8,"60分"],[11,"2小时"],[12,"4小时"],[10,"分笔"]]);return e.has(t)?e.get(t):""};var Tt=new function(){this.DataMap=new p.default([["ChartKLine",{Create:function(t){return new Mt}}]]),this.Create=function(t,e){return this.DataMap.has(t)?this.DataMap.get(t).Create(e):(g.Warn("[ChartPaintFactory::Create] can't find class="+t+"."),null)},this.Add=function(t,e){this.DataMap.set(t,{Create:e.Create})}};function bt(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="IChartPainting",this.Data=new mt,this.NotSupportMessage=null,this.MessageFont=Qe.Index.NotSupport.Font,this.MessageColor=Qe.Index.NotSupport.TextColor,this.IsDrawFirst=!1,this.IsShow=!0,this.GetEventCallback,this.SelectedLineWidth=Qe.SelectedChart.LineWidth,this.SelectedLineColor=Qe.SelectedChart.LineColor,this.SelectedRadius=Qe.SelectedChart.Radius,this.SelectedPointMinSpace=Qe.SelectedChart.MinSpace,this.SelectedBGColor=Qe.SelectedChart.BGColor,this.DrawSelectedStatus,this.PtInChart,this.Draw=function(){},this.GetBorder=function(){return this.ChartFrame.IsHScreen?this.ChartBorder.GetHScreenBorder():this.ChartBorder.GetBorder()},this.ClipClient=function(t){if(1==t)var e=this.ChartBorder.GetLeftEx(),i=this.ChartBorder.GetRightEx(),a=this.ChartBorder.GetTop(),n=this.ChartBorder.GetBottom();else e=this.ChartBorder.GetLeft(),i=this.ChartBorder.GetRight(),a=this.ChartBorder.GetTopEx(),n=this.ChartBorder.GetBottomEx();this.Canvas.beginPath(),this.Canvas.rect(e,a,i-e,n-a),this.Canvas.clip()},this.GetYFromData=function(t,e){return this.ChartFrame.GetYFromData(t,e)},this.IsMinuteFrame=function(){return"MinuteFrame"==this.ChartFrame.ClassName||"MinuteHScreenFrame"==this.ChartFrame.ClassName||"OverlayMinuteFrame"==this.ChartFrame.ClassName||"OverlayMinuteHScreenFrame"==this.ChartFrame.ClassName},this.DrawNotSupportmessage=function(){this.Canvas.font=this.MessageFont,this.Canvas.fillStyle=this.MessageColor;var t=this.ChartBorder.GetLeft()+this.ChartBorder.GetWidth()/2,e=this.ChartBorder.GetTopEx()+this.ChartBorder.GetHeightEx()/2;this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillText(this.NotSupportMessage,t,e)},this.GetTooltipData=function(t,e,i){return!1},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset;this.ChartFrame.GlobalOption&&this.ChartFrame.GlobalOption.IsValueFullRange&&(e=0,t=this.Data.Data.length);var i={Min:null,Max:null};if(!this.Data||!this.Data.Data)return i;for(var a=e,n=0;a<this.Data.Data.length&&n<t;++a,++n){var r=this.Data.Data[a];null==r||isNaN(r)||(null==i.Max&&(i.Max=r),null==i.Min&&(i.Min=r),i.Max<r&&(i.Max=r),i.Min>r&&(i.Min=r))}return i},this.GetDynamicFont=function(t,e,i,a,n,r){var o=L();if((i*=o)==(a*=o))return i.toFixed(0)+"px "+r;var s=t+e;return n&&(0==n.Type?n.Value>0&&(s=t*n.Value):1==n.Type?n.Value>0&&(s=(t+e)*n.Value):2==n.Type&&Ce.IsNumber(n.Value)&&(s=t+e+2*n.Value*o)),s<a?s=a:s>i&&(s=i),s.toFixed(0)+"px "+r},this.GetLockRect=function(){return this.ChartFrame.GetLockRect()},this.SetFillStyle=function(t,e,i,a,n){if(Array.isArray(t)){var r=this.Canvas.createLinearGradient(e,i,a,n),o=1/t.length;for(var s in t)r.addColorStop(s*o,t[s]);this.Canvas.fillStyle=r}else this.Canvas.fillStyle=t},this.GetDynamicIconSize=function(t,e,i,a,n){var r=L();if((i*=r)==(a*=r))return i;var o=t+e-2*r;return n&&(0==n.Type?n.Value>0&&(o=t*n.Value):1==n.Type?n.Value>0&&(o=(t+e)*n.Value):2==n.Type&&Ce.IsNumber(n.Value)&&(o=t+e+2*n.Value*r)),o<a?o=a:o>i&&(o=i),o},this.GetFontHeight=function(t){return F(this.Canvas,t,"擎")},this.DrawLinePoint=function(t){var e=!0===this.ChartFrame.IsHScreen;if(!e&&this.IsShow){var i=this.IsMinuteFrame(),a=this.ChartFrame.DataWidth,n=this.ChartFrame.DistanceWidth,r=this.ChartFrame.XPointCount;if(e)var o=(l=this.ChartBorder.GetHScreenBorder()).BottomEx,s=l.TopEx+n/2+Qe.FrameLeftMargin;else{var l;s=(l=this.ChartBorder.GetBorder()).LeftEx+n/2+Qe.FrameLeftMargin,o=l.RightEx}var h=this.GetLockRect();h&&(o=e?h.Top:h.Left);var u=L();this.Canvas.save(),this.ClipClient(e),this.Canvas.lineWidth=this.SelectedLineWidth*u,this.Canvas.strokeStyle=this.SelectedLineColor,this.SelectedBGColor&&(this.Canvas.fillStyle=this.SelectedBGColor);var c=this.SelectedRadius,d=Math.ceil(this.SelectedPointMinSpace/(a+n));if(d<=0&&(d=1),i){var f=(l.Right-l.Left)/r;d=Math.ceil(this.SelectedPointMinSpace/f)}var p=0,m=null,v=null;t&&(t.KLineClose?p=1:t.MinuteVolBar?p=2:t.MinuteOverlayPrice?p=3:t.OverlayKLine?(p=4,m=this.GetFirstOpen()):t.StackedBar&&(p=5));for(var g=this.Data.DataOffset,C=0,D=0;g<this.Data.Data.length&&C<r;++g,++C,++D,s+=a+n){var y=null;if(1==p){var x=this.Data.Data[g];Ce.IsNumber(x.Close)&&(y=x.Close)}else if(2==p){x=this.Data.Data[g];Ce.IsNumber(x.Vol)&&(y=x.Vol)}else if(3==p){var S=this.Data.Data[g].Close;if(null==S)continue;y=S/this.YClose*this.MainYClose}else if(4==p){var I=this.Data.Data[g];null==v&&(v=I.Open),y=I.Close/v*m}else if(5==p){var T=this.Data.Data[g];if(!Ce.IsNonEmptyArray(T))continue;var b=0,w=0;for(D=0;D<T.length;++D){var M=T[D];Ce.IsNumber(M)&&(0!=M&&(M>0?b+=M:M<0&&(w+=M)))}y=(b+w)/2}else y=this.Data.Data[g];if(null!=y&&!(D<d)){if(D=0,i)var E=this.ChartFrame.GetXFromIndex(C);else{var A=s+a;if(A>o)break;E=s+(A-s)/2}var _=this.GetYFromData(y,!1);if(E>o)break;this.Canvas.beginPath(),this.Canvas.arc(E,_,c,0,360,!1),this.Canvas.closePath(),this.SelectedBGColor&&this.Canvas.fill(),this.Canvas.stroke()}}this.Canvas.restore()}},this.PtInLine=function(t,e,i){if(this.IsShow&&!this.ChartFrame.IsMinSize){var a=!0===this.ChartFrame.IsHScreen;if(!a){var n=this.IsMinuteFrame(),r=this.ChartFrame.DataWidth,o=this.ChartFrame.DistanceWidth,s=this.ChartFrame.XPointCount;if(a)var l=(u=this.ChartBorder.GetHScreenBorder()).BottomEx,h=u.TopEx+o/2+Qe.FrameLeftMargin;else{var u;h=(u=this.ChartBorder.GetBorder()).LeftEx+o/2+Qe.FrameLeftMargin,l=u.RightEx}var c=this.GetLockRect();if(c&&(l=a?c.Top:c.Left),t<h||t>l)return null;if(e>u.BottomEx||e<u.TopEx)return null;var d={},f={},p=0;i&&(i.KLineClose?p=1:i.MinuteOverlayPrice&&(p=3));for(var m=this.Data.DataOffset,v=0;m<this.Data.Data.length&&v<s;++m,++v,h+=r+o){var g=null;if(1==p){var C=this.Data.Data[m];Ce.IsNumber(C.Close)&&(g=C.Close)}else if(3==p){var D=this.Data.Data[m].Close;if(null==D)continue;g=D/this.YClose*this.MainYClose}else g=this.Data.Data[m];if(null!=g){if(n)var y=this.ChartFrame.GetXFromIndex(v);else{var x=h+r;if(x>l)break;y=h+(x-h)/2}var S=this.GetYFromData(g,!1);if(!(y<t)){if(y==t){d.X=f.X=y,d.Y=f.Y=S;break}f.X=y,f.Y=S;break}if(d.X=y,d.Y=S,t>l)break}}if(!Ce.IsNumber(d.X)||!Ce.IsNumber(d.Y))return null;if(!Ce.IsNumber(f.X)||!Ce.IsNumber(f.Y))return null;if(t==d.X||e==d.Y)return{Identify:this.Identify,Chart:this};if(t==f.X||e==f.Y)return{Identify:this.Identify,Chart:this};return this.Canvas.beginPath(),d.X==f.X?(this.Canvas.moveTo(d.X-5,d.Y),this.Canvas.lineTo(d.X+5,d.Y),this.Canvas.lineTo(f.X+5,f.Y),this.Canvas.lineTo(f.X-5,f.Y)):(this.Canvas.moveTo(d.X,d.Y+5),this.Canvas.lineTo(d.X,d.Y-5),this.Canvas.lineTo(f.X,f.Y-5),this.Canvas.lineTo(f.X,f.Y+5)),this.Canvas.closePath(),this.Canvas.isPointInPath(t,e)?{Identify:this.Identify,Chart:this}:null}}},this.PtInBar=function(t,e,i){if(!this.IsShow||this.ChartFrame.IsMinSize)return null;if(!0===this.ChartFrame.IsHScreen)return null;var a=this.ChartFrame.DataWidth,n=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetBorder(),o=r.LeftEx+n/2+Qe.FrameLeftMargin,s=r.RightEx,l=this.ChartFrame.XPointCount,h=this.GetLockRect();if(h&&(s=h.Left),t<o||t>s)return null;if(e>r.BottomEx||e<r.TopEx)return null;var u=this.IsMinuteFrame(),c=this.ChartFrame.GetYFromData(0),d=null,f=!1,p=!1;i&&(i.BarWidth>0&&(d=i.BarWidth),1==i.MinuteVolBar?(f=!0,d=4):1==i.StackedBar&&(p=!0));for(var m=this.Data.DataOffset,v=0;m<this.Data.Data.length&&v<l;++m,++v,o+=a+n){var g=this.Data.Data[m];if(null!=g){if(u)var C=(D=this.ChartFrame.GetXFromIndex(v)-d/2)+d;else{var D=o;if((C=o+a)>s)break}if(f){if(!Ce.IsNumber(g.Vol))continue;var y=w=this.ChartFrame.GetYFromData(g.Vol),x=c}else if(p){var S=0,I=0;if(!Ce.IsNonEmptyArray(g))continue;for(var T=0;T<g.length;++T){var b=g[T];Ce.IsNumber(b)&&(0!=b&&(b>0?S+=b:b<0&&(I+=b)))}y=this.ChartFrame.GetYFromData(S),x=this.ChartFrame.GetYFromData(I)}else{var w;y=w=this.ChartFrame.GetYFromData(g),x=c}y>x&&(y=c,x=w);var M=D,E=C;if(d>0&&(E=(M=D+(C-D)/2-d/2)+d),t>=M&&t<=E&&e>=y&&e<=x)return{Identify:this.Identify,Chart:this};if(C>t)break}}return null},this.PtInKBar=function(t,e,i){if(!this.IsShow||this.ChartFrame.IsMinSize)return null;var a=!0===this.ChartFrame.IsHScreen;if(a)return null;var n,r=this.ChartFrame.DataWidth,o=this.ChartFrame.DistanceWidth,s=(n=this.ChartBorder.GetBorder()).LeftEx+o/2+Qe.FrameLeftMargin,l=n.RightEx,h=this.ChartFrame.XPointCount;a&&(s=(n=this.ChartBorder.GetHScreenBorder()).TopEx+o/2+Qe.FrameLeftMargin,l=n.BottomEx);if(t<s||t>l)return null;if(e>n.BottomEx||e<n.TopEx)return null;var u=null,c=0,d=null;i&&i.OverlayKLine&&(c=1,d=this.GetFirstOpen());for(var f=this.Data.DataOffset,p=0;f<this.Data.Data.length&&p<h;++f,++p,s+=r+o){var m=this.Data.Data[f];if(null!=m.Open&&null!=m.High&&null!=m.Low&&null!=m.Close){null==u&&(u=m.Open);var v=s+r;if(v>l)break;if(t>=s&&t<=v){if(1==c)var g=this.GetYFromData(m.Low/u*d,!1),C=this.GetYFromData(m.High/u*d,!1);else g=this.GetYFromData(m.Low,!1),C=this.GetYFromData(m.High,!1);if(e<=g&&e>=C)return{Identify:this.Identify,Chart:this}}if(v>t)break}}},this.IsShowIndexTitleOnly=function(){return!!(this.ChartFrame&&this.ChartFrame.ChartBorder&&this.ChartFrame.ChartBorder.IsShowTitleOnly)}}var wt=[[48,10],[44,10],[40,9],[36,9],[32,8],[28,8],[24,7],[20,7],[18,6],[16,6],[15,5],[13,5],[9,4],[7,4],[5,4],[3,3],[3,1],[2,1],[1,1],[1,0]];function Mt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartKLine",this.Symbol,this.DrawType=0,this.CloseLineColor=Qe.CloseLineColor,this.CloseLineAreaColor=Qe.CloseLineAreaColor,this.CloseLineWidth=Qe.CloseLineWidth,this.UpColor=Qe.UpBarColor,this.DownColor=Qe.DownBarColor,this.UnchagneColor=Qe.UnchagneBarColor,this.ColorData,this.TradeData,this.TradeIcon=Qe.KLine.TradeIcon,this.TooltipRect=[],this.InfoTooltipRect=[],this.TradeIconTooltipRect=[],this.IsShowMaxMinPrice=!0,this.IsShowKTooltip=!0,this.TextFont=Qe.KLine.MaxMin.Font,this.TextColor=Qe.KLine.MaxMin.Color,this.InfoData,this.InfoPosition=0,this.PtMax,this.PtMin,this.TickSymbol="╳",this.TickFontName="arial",this.Period,this.ShowRange={},this.CustomKLine,this.DrawKRange={Start:null,End:null},this.OrderFlow={UpColor:{BG:Qe.OrderFlow.UpColor.BG,Border:Qe.OrderFlow.UpColor.Border},DownColor:{BG:Qe.OrderFlow.DownColor.BG,Border:Qe.OrderFlow.DownColor.Border},UnchagneColor:{BG:Qe.OrderFlow.UnchagneColor.BG,Border:Qe.OrderFlow.UnchagneColor.Border},Text:{Color:Qe.OrderFlow.Text.Color,Family:Qe.OrderFlow.Text.Family,FontMaxSize:Qe.OrderFlow.Text.FontMaxSize,MaxValue:Qe.OrderFlow.Text.MaxValue},Line:{UpDownColor:Qe.OrderFlow.Line.UpDownColor,MiddleColor:Qe.OrderFlow.Line.MiddleColor},POCGBColor:Qe.OrderFlow.POCGBColor,ShowType:0,AskBarColor:Qe.OrderFlow.AskBarColor,BidBarColor:Qe.OrderFlow.BidBarColor,AlwaysShowOrderText:Qe.OrderFlow.AlwaysShowOrderText,IsShowAskText:!0,IsShowAskBar:!1,IsShowBidText:!0,IsShowBidBar:!1,IsShowPOCBG:!0},this.OrderFlow_Style2={BarWidth:Qe.OrderFlow_Style2.BarWidth,UpColor:Qe.OrderFlow_Style2.UpColor,DownColor:Qe.OrderFlow_Style2.DownColor,UnchagneColor:Qe.OrderFlow_Style2.UnchagneColor},this.OrderFlow_Style3={BarWidth:Qe.OrderFlow_Style3.BarWidth,UpColor:Qe.OrderFlow_Style3.UpColor,DownColor:Qe.OrderFlow_Style3.DownColor,UnchagneColor:Qe.OrderFlow_Style3.UnchagneColor},this.IsShowOrderText=!1,this.AryOrderFlowBorder=[],this.ReloadResource=function(t){this.TextFont=Qe.KLine.MaxMin.Font,this.TextColor=Qe.KLine.MaxMin.Color,this.CloseLineColor=Qe.CloseLineColor,this.CloseLineAreaColor=Qe.CloseLineAreaColor,this.CloseLineWidth=Qe.CloseLineWidth,this.UpColor=Qe.UpBarColor,this.DownColor=Qe.DownBarColor,this.UnchagneColor=Qe.UnchagneBarColor,this.OrderFlow.UpColor={BG:Qe.OrderFlow.UpColor.BG,Border:Qe.OrderFlow.UpColor.Border},this.OrderFlow.DownColor={BG:Qe.OrderFlow.DownColor.BG,Border:Qe.OrderFlow.DownColor.Border},this.OrderFlow.UnchagneColor={BG:Qe.OrderFlow.UnchagneColor.BG,Border:Qe.OrderFlow.UnchagneColor.Border},this.OrderFlow.Text={Color:Qe.OrderFlow.Text.Color,Family:Qe.OrderFlow.Text.Family,FontMaxSize:Qe.OrderFlow.Text.FontMaxSize,MaxValue:Qe.OrderFlow.Text.MaxValue},this.OrderFlow.Line={UpDownColor:Qe.OrderFlow.Line.UpDownColor,MiddleColor:Qe.OrderFlow.Line.MiddleColor}},this.ClearCustomKLine=function(){this.CustomKLine=null},this.GetCustomKLine=function(t){if(!this.CustomKLine)return null;if(!t)return null;var e=1e6*t.Date;return Ce.IsNumber(t.Time)&&(e+=t.Time),this.CustomKLine.has(e)?this.CustomKLine.get(e):null},this.DrawAKLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount;if(t)var n=(o=this.ChartBorder.GetHScreenBorder()).TopEx+i/2+Qe.FrameLeftMargin,r=o.BottomEx;else{var o;n=(o=this.ChartBorder.GetBorder()).LeftEx+i/2+Qe.FrameLeftMargin,r=o.RightEx}this.UpColor,this.DownColor,this.UnchagneColor;var s={X:null,Y:null,Value:null,Align:"left"},l={X:null,Y:null,Value:null,Align:"left"};this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=a,this.DrawKRange.Start=this.Data.DataOffset;for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<a;++h,++u,n+=e+i,++this.ShowRange.DataCount){var c=this.Data.Data[h];if(this.ShowRange.End=h,null!=c.Open&&null!=c.High&&null!=c.Low&&null!=c.Close){var d=n,f=n+e;if(f>r)break;var p=d+(f-d)/2,m=this.GetYFromData(c.Low,!1),v=this.GetYFromData(c.High,!1),g=this.GetYFromData(c.Open,!1),C=this.GetYFromData(c.Close,!1);if(this.DrawKRange.End=h,(null==s.Value||s.Value<c.High)&&(s.X=p,s.Y=v,s.Value=c.High,s.Align=u<a/2?"left":"right"),(null==l.Value||l.Value>c.Low)&&(l.X=p,l.Y=m,l.Value=c.Low,l.Align=u<a/2?"left":"right"),c.Open<c.Close?this.Canvas.strokeStyle=this.UpColor:c.Open>c.Close?this.Canvas.strokeStyle=this.DownColor:this.Canvas.strokeStyle=this.UnchagneColor,this.ColorData&&(h<this.ColorData.length&&this.ColorData[h]>0?this.UpColor:this.DownColor),this.Canvas.beginPath(),t?c.High==c.Low&&e<4?(this.Canvas.moveTo(v,R(p)),this.Canvas.lineTo(m-1,R(p))):(this.Canvas.moveTo(v,R(p)),this.Canvas.lineTo(m,R(p))):c.High==c.Low&&e<4?(this.Canvas.moveTo(R(p),v),this.Canvas.lineTo(R(p),m+1)):(this.Canvas.moveTo(R(p),v),this.Canvas.lineTo(R(p),m)),this.Canvas.stroke(),e>=4&&(this.Canvas.beginPath(),t?(this.Canvas.moveTo(R(g),d),this.Canvas.lineTo(R(g),p)):(this.Canvas.moveTo(d,R(g)),this.Canvas.lineTo(p,R(g))),this.Canvas.stroke(),this.Canvas.beginPath(),t?(this.Canvas.moveTo(R(C),f),this.Canvas.lineTo(R(C),p)):(this.Canvas.moveTo(f,R(C)),this.Canvas.lineTo(p,R(C))),this.Canvas.stroke()),0==this.Data.DataType){var D={Xleft:d,XRight:f,YMax:v,XCenter:p,YMin:m,DayData:c,Index:u};this.DrawInfo(D)}}}this.PtMax=s,this.PtMin=l},this.DrawCloseArea=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount;if(t)var n=(s=this.ChartBorder.GetHScreenBorder()).TopEx+i/2+Qe.FrameLeftMargin,r=s.BottomEx,o=s.TopEx;else{var s;n=(s=this.ChartBorder.GetBorder()).LeftEx+i/2+Qe.FrameLeftMargin,r=s.RightEx,o=s.LeftEx}var l=!0,h=null;this.Canvas.beginPath(),this.Canvas.strokeStyle=this.CloseLineColor,Ce.IsNumber(this.CloseLineWidth)&&(this.Canvas.lineWidth=this.CloseLineWidth);var u=null;if(this.Data.DataOffset>0&&((m=this.Data.Data[this.Data.DataOffset-1])&&Ce.IsNumber(m.Close))){var c=o,d=this.GetYFromData(m.Close,!1);t?(this.Canvas.moveTo(d,c),h={X:d,Y:c}):(this.Canvas.moveTo(c,d),h={X:c,Y:d}),l=!1}this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=a,this.DrawKRange.Start=this.Data.DataOffset;for(var f=this.Data.DataOffset,p=0;f<this.Data.Data.length&&p<a;++f,++p,n+=e+i,++this.ShowRange.DataCount){var m=this.Data.Data[f];if(this.ShowRange.End=f,null!=m.Open&&null!=m.High&&null!=m.Low&&null!=m.Close){var v=n,g=n+e;if(g>r)break;c=v+(g-v)/2,d=this.GetYFromData(m.Close,!1);this.DrawKRange.End=f,l?(t?(this.Canvas.moveTo(d,c),h={X:d,Y:c}):(this.Canvas.moveTo(c,d),h={X:c,Y:d}),l=!1):t?this.Canvas.lineTo(d,c):this.Canvas.lineTo(c,d),f==this.Data.Data.length-1&&(u={X:c,Y:d,XLeft:v,XRight:g,KItem:m,ChartRight:r})}}if(this.DrawLastPointEvent(u),!l){if(this.Canvas.stroke(),t?(this.Canvas.lineTo(s.Left,c),this.Canvas.lineTo(s.Left,h.Y)):(this.Canvas.lineTo(c,s.Bottom),this.Canvas.lineTo(h.X,s.Bottom)),this.Canvas.closePath(),Array.isArray(this.CloseLineAreaColor))if(t){var C=this.Canvas.createLinearGradient(this.ChartBorder.GetRightEx(),this.ChartBorder.GetTop(),this.ChartBorder.GetLeft(),this.ChartBorder.GetTop());C.addColorStop(0,this.CloseLineAreaColor[0]),C.addColorStop(1,this.CloseLineAreaColor[1]),this.Canvas.fillStyle=C}else{var D=this.Canvas.createLinearGradient(h.X,this.ChartBorder.GetTopEx(),h.X,this.ChartBorder.GetBottom());D.addColorStop(0,this.CloseLineAreaColor[0]),D.addColorStop(1,this.CloseLineAreaColor[1]),this.Canvas.fillStyle=D}else this.Canvas.fillStyle=this.CloseLineAreaColor;this.Canvas.fill()}},this.DrawCloseLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount;if(t)var n=(o=this.ChartBorder.GetHScreenBorder()).TopEx+i/2+Qe.FrameLeftMargin,r=o.BottomEx;else{var o;n=(o=this.ChartBorder.GetBorder()).LeftEx+i/2+Qe.FrameLeftMargin,r=o.RightEx}var s=!0;this.Canvas.beginPath(),this.Canvas.strokeStyle=this.CloseLineColor,Ce.IsNumber(this.CloseLineWidth)&&(this.Canvas.lineWidth=this.CloseLineWidth),this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=a,this.DrawKRange.Start=this.Data.DataOffset;for(var l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<a;++l,++h,n+=e+i,++this.ShowRange.DataCount){var u=this.Data.Data[l];if(this.ShowRange.End=l,null!=u.Open&&null!=u.High&&null!=u.Low&&null!=u.Close){var c=n+e;if(c>r)break;var d=n+(c-n)/2,f=this.GetYFromData(u.Close,!1);this.DrawKRange.End=l,s?(t?this.Canvas.moveTo(f,d):this.Canvas.moveTo(d,f),s=!1):t?this.Canvas.lineTo(f,d):this.Canvas.lineTo(d,f)}}0==s&&this.Canvas.stroke()},this.DrawKBar=function(){var t,e=!0===this.ChartFrame.IsHScreen,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=(t=this.ChartBorder.GetBorder()).LeftEx+a/2+Qe.FrameLeftMargin,r=t.RightEx,o=this.ChartFrame.XPointCount;e&&(n=(t=this.ChartBorder.GetHScreenBorder()).TopEx+a/2+Qe.FrameLeftMargin,r=t.BottomEx);var s={X:null,Y:null,Value:null,Align:"left"},l={X:null,Y:null,Value:null,Align:"left"},h=this.UpColor,u=this.DownColor,c=this.UnchagneColor;this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o;var d=null;this.DrawKRange.Start=this.Data.DataOffset;for(var f=this.Data.DataOffset,p=0;f<this.Data.Data.length&&p<o;++f,++p,n+=i+a,++this.ShowRange.DataCount){var m=this.Data.Data[f];if(this.ShowRange.End=f,null!=m.Open&&null!=m.High&&null!=m.Low&&null!=m.Close){var v=n,g=n+i;if(g>r)break;var C=v+(g-v)/2,D=this.GetYFromData(m.Low,!1),y=this.GetYFromData(m.High,!1),x=this.GetYFromData(m.Open,!1),S=this.GetYFromData(m.Close,!1),I=y;this.DrawKRange.End=f,(null==s.Value||s.Value<m.High)&&(s.X=C,s.Y=y,s.Value=m.High,s.Align=p<o/2?"left":"right"),(null==l.Value||l.Value>m.Low)&&(l.X=C,l.Y=D,l.Value=m.Low,l.Align=p<o/2?"left":"right"),this.ColorData&&(h=u=c=f<this.ColorData.length&&this.ColorData[f]>0?this.UpColor:this.DownColor);var T=this.GetCustomKLine(m);if(T){var b=T.Color;b||(b=m.Open<m.Close?h:m.Open>m.Close?u:c);var w=this.DrawType;Ce.IsNumber(T.DrawType)&&(w=T.DrawType),this.DrawKBar_Custom(m,i,b,w,T,C,I,v,g,D,y,x,S,t,e)}else 9==this.DrawType&&m.ColorData?this.DrawKBarV2(m,m.ColorData,i,C,I,v,g,D,y,x,S,e):m.Open<m.Close?this.DrawKBar_Up(m,i,h,this.DrawType,C,I,v,g,D,y,x,S,e):m.Open>m.Close?this.DrawKBar_Down(m,i,u,this.DrawType,C,I,v,g,D,y,x,S,e):this.DrawKBar_Unchagne(m,i,c,this.DrawType,C,I,v,g,D,y,x,S,e);if(this.IsShowKTooltip&&!e){var M=Math.min(x,S),E=Math.max(x,S);Math.abs(x-S)<5&&(M=Math.min(y,M-5),E=Math.max(D,E+5));var A=new It(v,M,i,E-M);this.TooltipRect.push([f,A])}if(0==this.Data.DataType){var _={Xleft:v,XRight:g,XCenter:C,YMax:y,YMin:D,DayData:m,Index:p};this.DrawInfo(_)}f==this.Data.Data.length-1&&(d={X:C,Y:S,XLeft:v,XRight:g,KItem:m,ChartRight:r})}}this.DrawLastPointEvent(d),this.PtMax=s,this.PtMin=l},this.DrawKBar_Up=function(t,e,i,a,n,r,o,s,l,h,u,c,d){var f=3==a||6==a;if(e>=4){if(f&&e%2!=0&&(e-=1),this.Canvas.strokeStyle=i,t.High>t.Close){if(this.Canvas.beginPath(),d)this.Canvas.moveTo(R(r),R(n)),this.Canvas.lineTo(R(3==a?Math.max(c,u):c),R(n));else if(f){var p=o+e/2;this.Canvas.moveTo(R(p),R(r)),this.Canvas.lineTo(R(p),R(Math.min(c,u)))}else this.Canvas.moveTo(R(n),R(r)),this.Canvas.lineTo(R(n),R(c));this.Canvas.stroke(),r=c}else r=c;if(this.Canvas.fillStyle=i,d?Math.abs(u-r)<1?this.Canvas.fillRect(k(r),k(o),1,k(e)):f?(this.Canvas.beginPath(),this.Canvas.rect(R(r),R(o),k(u-r),k(e)),this.Canvas.stroke()):this.Canvas.fillRect(k(r),k(o),k(u-r),k(e)):Math.abs(u-r)<1?this.Canvas.fillRect(k(o),k(r),k(e),1):f?(this.Canvas.beginPath(),this.Canvas.rect(R(o),R(r),k(e),k(u-r)),this.Canvas.stroke()):this.Canvas.fillRect(k(o),k(Math.min(r,u)),k(e),k(Math.abs(u-r))),t.Open>t.Low){if(this.Canvas.beginPath(),d)this.Canvas.moveTo(R(3==a?Math.min(c,u):r),R(n)),this.Canvas.lineTo(R(l),R(n));else if(f){p=o+e/2;this.Canvas.moveTo(R(p),R(Math.max(c,u))),this.Canvas.lineTo(R(p),R(l))}else this.Canvas.moveTo(R(n),R(r)),this.Canvas.lineTo(R(n),R(l));this.Canvas.stroke()}}else this.Canvas.beginPath(),d?(this.Canvas.moveTo(h,R(n)),this.Canvas.lineTo(l,R(n))):(this.Canvas.moveTo(R(n),h),this.Canvas.lineTo(R(n),l)),this.Canvas.strokeStyle=i,this.Canvas.stroke()},this.DrawKBar_Down=function(t,e,i,a,n,r,o,s,l,h,u,c,d){var f=6==a;if(e>=4){if(f&&e%2!=0&&(e-=1),this.Canvas.strokeStyle=i,t.High>t.Close){if(this.Canvas.beginPath(),d)this.Canvas.moveTo(R(r),R(n)),this.Canvas.lineTo(R(u),R(n));else if(f){var p=o+e/2;this.Canvas.moveTo(R(p),R(r)),this.Canvas.lineTo(R(p),R(Math.min(c,u)))}else this.Canvas.moveTo(R(n),R(r)),this.Canvas.lineTo(R(n),R(u));this.Canvas.stroke(),r=u}else r=u;if(this.Canvas.fillStyle=i,d?Math.abs(c-r)<1?this.Canvas.fillRect(k(r),k(o),1,k(e)):this.Canvas.fillRect(k(r),k(o),k(c-r),k(e)):Math.abs(c-r)<1?this.Canvas.fillRect(k(o),k(r),k(e),1):f?(this.Canvas.beginPath(),this.Canvas.rect(R(o),R(Math.min(r,c)),k(e),k(Math.abs(c-r))),this.Canvas.stroke()):this.Canvas.fillRect(k(o),k(Math.min(r,c)),k(e),k(Math.abs(c-r))),t.Open>t.Low){if(this.Canvas.beginPath(),d)this.Canvas.moveTo(R(r),R(n)),this.Canvas.lineTo(R(l),R(n));else if(f){p=o+e/2;this.Canvas.moveTo(R(p),R(Math.max(c,u))),this.Canvas.lineTo(R(p),R(l))}else this.Canvas.moveTo(R(n),R(r)),this.Canvas.lineTo(R(n),R(l));this.Canvas.stroke()}}else this.Canvas.beginPath(),d?(this.Canvas.moveTo(h,R(n)),this.Canvas.lineTo(l,R(n))):(this.Canvas.moveTo(R(n),h),this.Canvas.lineTo(R(n),l)),this.Canvas.strokeStyle=i,this.Canvas.stroke()},this.DrawKBar_Unchagne=function(t,e,i,a,n,r,o,s,l,h,u,c,d){if(e>=4){if(e%2!=0&&(e-=1),this.Canvas.strokeStyle=i,this.Canvas.beginPath(),t.High>t.Close){if(d)this.Canvas.moveTo(r,R(n)),this.Canvas.lineTo(u,R(n));else{var f=R(o+e/2);this.Canvas.moveTo(f,r),this.Canvas.lineTo(f,u)}r=u}else r=u;if(d?(this.Canvas.moveTo(R(r),R(o)),this.Canvas.lineTo(R(r),R(s))):(this.Canvas.moveTo(R(o),R(r)),this.Canvas.lineTo(R(o+e),R(r))),t.Open>t.Low)if(d)this.Canvas.moveTo(R(r),R(n)),this.Canvas.lineTo(R(l),R(n));else{f=R(o+e/2);this.Canvas.moveTo(f,R(r)),this.Canvas.lineTo(f,R(l))}this.Canvas.stroke()}else this.Canvas.beginPath(),d?t.High==t.Low?(this.Canvas.moveTo(h,R(n)),this.Canvas.lineTo(l-1,R(n))):(this.Canvas.moveTo(h,R(n)),this.Canvas.lineTo(l,R(n))):t.High==t.Low?(this.Canvas.moveTo(R(n),h),this.Canvas.lineTo(R(n),l+1)):(this.Canvas.moveTo(R(n),h),this.Canvas.lineTo(R(n),l)),this.Canvas.strokeStyle=i,this.Canvas.stroke()},this.DrawKBar_Custom=function(t,e,i,a,n,r,o,s,l,h,u,c,d,f,p){if(n.BGColor){this.Canvas.fillStyle=n.BGColor;var m=this.ChartFrame.DistanceWidth;if(p){var v=s-m/2,g=l+m/2,C=f.RightEx,D=f.LeftEx;this.Canvas.fillRect(k(D),k(v),k(C-D),k(g-v))}else{var y=s-m/2,x=l+m/2,S=f.TopEx,I=f.BottomEx;this.Canvas.fillRect(k(y),k(S),k(x-y),k(I-S))}}e>=4?(this.Canvas.strokeStyle=i,t.High>t.Close?(this.Canvas.beginPath(),p?(this.Canvas.moveTo(R(o),R(r)),this.Canvas.lineTo(R(3==a?Math.max(d,c):d),R(r))):(this.Canvas.moveTo(R(r),R(o)),this.Canvas.lineTo(R(r),R(3==a?Math.min(d,c):d))),this.Canvas.stroke(),o=d):o=d,this.Canvas.fillStyle=i,p?Math.abs(c-o)<1?this.Canvas.fillRect(k(o),k(s),1,k(e)):3==a?(this.Canvas.beginPath(),this.Canvas.rect(R(o),R(s),k(c-o),k(e)),this.Canvas.stroke()):this.Canvas.fillRect(k(o),k(s),k(c-o),k(e)):Math.abs(c-o)<1?this.Canvas.fillRect(k(s),k(o),k(e),1):3==a?(this.Canvas.beginPath(),this.Canvas.rect(R(s),R(o),k(e),k(c-o)),this.Canvas.stroke()):this.Canvas.fillRect(k(s),k(Math.min(o,c)),k(e),k(Math.abs(c-o))),t.Open>t.Low&&(this.Canvas.beginPath(),p?(this.Canvas.moveTo(R(3==a?Math.min(d,c):o),R(r)),this.Canvas.lineTo(R(h),R(r))):(this.Canvas.moveTo(R(r),R(3==a?Math.max(d,c):o)),this.Canvas.lineTo(R(r),R(h))),this.Canvas.stroke())):(this.Canvas.beginPath(),p?(this.Canvas.moveTo(u,R(r)),this.Canvas.lineTo(h,R(r))):(this.Canvas.moveTo(R(r),u),this.Canvas.lineTo(R(r),h)),this.Canvas.strokeStyle=i,this.Canvas.stroke())},this.DrawKBarV2=function(t,e,i,a,n,r,o,s,l,h,u,c){var d=!1,f=!1;if(e.border&&(d=!0),0===e.Type&&(f=!0),i>=4){if(d&&i%2!=0&&(i-=1),t.High>t.Close){if(e.Line){if(this.Canvas.strokeStyle=e.Line.Color,this.Canvas.beginPath(),c)this.Canvas.moveTo(R(n),R(a)),this.Canvas.lineTo(R(Math.max(u,h)),R(a));else if(d){var p=r+i/2;this.Canvas.moveTo(R(p),R(n)),this.Canvas.lineTo(R(p),R(Math.min(u,h)))}else this.Canvas.moveTo(R(a),R(n)),this.Canvas.lineTo(R(a),R(Math.min(u,h)));this.Canvas.stroke()}n=u}else n=u;if(c?(!f&&e.BarColor&&(this.Canvas.fillStyle=e.BarColor,Math.abs(h-n)<1?this.Canvas.fillRect(k(n),k(r),1,k(i)):this.Canvas.fillRect(k(n),k(r),k(h-n),k(i))),e.Border&&(Math.abs(h-n)<1?(this.Canvas.fillStyle=e.Border.Color,this.Canvas.fillRect(k(n),k(r),1,k(i))):(this.Canvas.strokeStyle=e.Border.Color,this.Canvas.beginPath(),this.Canvas.rect(R(n),R(r),k(h-n),k(i)),this.Canvas.stroke()))):(!f&&e.BarColor&&(this.Canvas.fillStyle=e.BarColor,Math.abs(h-n)<1?this.Canvas.fillRect(k(r),k(n),k(i),1):this.Canvas.fillRect(k(r),k(Math.min(n,h)),k(i),k(Math.abs(h-n)))),e.Border&&(Math.abs(h-n)<1?(this.Canvas.fillStyle=e.Border.Color,this.Canvas.fillRect(k(r),k(n),k(i),1)):(this.Canvas.strokeStyle=e.Border.Color,this.Canvas.beginPath(),this.Canvas.rect(R(r),R(n),k(i),k(h-n)),this.Canvas.stroke()))),t.Open>t.Low&&e.Line){if(this.Canvas.strokeStyle=e.Line.Color,this.Canvas.beginPath(),c)this.Canvas.moveTo(R(Math.min(u,h)),R(a)),this.Canvas.lineTo(R(s),R(a));else if(d){p=r+i/2;this.Canvas.moveTo(R(p),R(Math.max(u,h))),this.Canvas.lineTo(R(p),R(s))}else this.Canvas.moveTo(R(a),R(Math.max(u,h))),this.Canvas.lineTo(R(a),R(s));this.Canvas.stroke()}}else{var m;f&&e.Border?m=e.Border.Color:!f&&e.BarColor&&(m=e.BarColor),m&&(this.Canvas.strokeStyle=m,this.Canvas.beginPath(),c?t.High==t.Low?(this.Canvas.moveTo(l,R(a)),this.Canvas.lineTo(s-1,R(a))):(this.Canvas.moveTo(l,R(a)),this.Canvas.lineTo(s,R(a))):t.High==t.Low?(this.Canvas.moveTo(R(a),l),this.Canvas.lineTo(R(a),s+1)):(this.Canvas.moveTo(R(a),l),this.Canvas.lineTo(R(a),s)),this.Canvas.stroke())}},this.DrawRenkoCandle=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount;if(t)var n=(o=this.ChartBorder.GetHScreenBorder()).TopEx+i/2+Qe.FrameLeftMargin,r=o.BottomEx;else{var o;n=(o=this.ChartBorder.GetBorder()).LeftEx+i/2+Qe.FrameLeftMargin,r=o.RightEx}var s={X:null,Y:null,Value:null,Align:"left"},l={X:null,Y:null,Value:null,Align:"left"};this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=a,this.DrawKRange.Start=this.Data.DataOffset;for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<a;++h,++u,n+=e+i,++this.ShowRange.DataCount){var c=this.Data.Data[h];if(this.ShowRange.End=h,null!=c.Open&&null!=c.High&&null!=c.Low&&null!=c.Close){var d=n,f=n+e;if(f>r)break;var p=d+(f-d)/2,m=this.GetYFromData(c.Low,!1),v=this.GetYFromData(c.High,!1);this.DrawKRange.End=h,(null==s.Value||s.Value<c.High)&&(s.X=p,s.Y=v,s.Value=c.High,s.Align=u<a/2?"left":"right"),(null==l.Value||l.Value>c.Low)&&(l.X=p,l.Y=m,l.Value=c.Low,l.Align=u<a/2?"left":"right"),c.YClose<c.Close?(this.Canvas.strokeStyle=this.UpColor,this.Canvas.fillStyle=this.UpColor):c.YClose>c.Close&&(this.Canvas.strokeStyle=this.DownColor,this.Canvas.fillStyle=this.DownColor),e>=4?t?this.Canvas.fillRect(k(m),k(d),k(Math.abs(m-v)),k(e)):this.Canvas.fillRect(k(d),k(v),k(e),k(Math.abs(m-v))):(this.Canvas.beginPath(),t?(this.Canvas.moveTo(v,R(p)),this.Canvas.lineTo(m,R(p))):(this.Canvas.moveTo(R(p),v),this.Canvas.lineTo(R(p),m)),this.Canvas.stroke())}}this.PtMax=s,this.PtMin=l},this.DrawLineBreak=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount,n=i/2;if(t)var r=(s=this.ChartBorder.GetHScreenBorder()).TopEx+i/2+Qe.FrameLeftMargin-n,o=s.BottomEx;else{var s;r=(s=this.ChartBorder.GetBorder()).LeftEx+i/2+Qe.FrameLeftMargin-n,o=s.RightEx}var l={X:null,Y:null,Value:null,Align:"left"},h={X:null,Y:null,Value:null,Align:"left"};this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=a,this.DrawKRange.Start=this.Data.DataOffset;for(var u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<a;++u,++c,r+=e+i,++this.ShowRange.DataCount){var d=this.Data.Data[u];if(this.ShowRange.End=u,null!=d.Open&&null!=d.High&&null!=d.Low&&null!=d.Close){var f=r,p=r+e+i;if(p>o)break;var m=f+(p-f)/2,v=this.GetYFromData(d.Low,!1),g=this.GetYFromData(d.High,!1);this.DrawKRange.End=u,(null==l.Value||l.Value<d.High)&&(l.X=m,l.Y=g,l.Value=d.High,l.Align=c<a/2?"left":"right"),(null==h.Value||h.Value>d.Low)&&(h.X=m,h.Y=v,h.Value=d.Low,h.Align=c<a/2?"left":"right"),d.YClose<d.Close?(this.Canvas.strokeStyle=this.UpColor,this.Canvas.fillStyle=this.UpColor):d.YClose>d.Close&&(this.Canvas.strokeStyle=this.DownColor,this.Canvas.fillStyle=this.DownColor),e>=4?t?this.Canvas.fillRect(k(v),k(f),k(Math.abs(v-g)),k(e+i)):this.Canvas.fillRect(k(f),k(g),k(e+i),k(Math.abs(v-g))):(this.Canvas.beginPath(),t?(this.Canvas.moveTo(g,R(m)),this.Canvas.lineTo(v,R(m))):(this.Canvas.moveTo(R(m),g),this.Canvas.lineTo(R(m),v)),this.Canvas.stroke())}}this.PtMax=l,this.PtMin=h},this.DrawTrade=function(){if(this.TradeData){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetLeft()+i/2+2,n=this.ChartBorder.GetRight(),r=this.ChartFrame.XPointCount;t&&(a=this.ChartBorder.GetTop()+i/2+2,n=this.ChartBorder.GetBottom());var o=this.TradeData.Sell,s=this.TradeData.Buy,l=e;l>10&&(l=10);for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<r;++h,++u,a+=e+i){var c=this.Data.Data[h];if(null!=c.Open&&null!=c.High&&null!=c.Low&&null!=c.Close){var d=!1,f=!1;if(o&&h<o.length&&(f=o[h]>0),s&&h<s.length&&(d=s[h]>0),f||d){var p=a+e;if(p>n)break;var m=a+(p-a)/2,v=this.GetYFromData(c.Low,!1),g=this.GetYFromData(c.High,!1);this.GetYFromData(c.Open,!1),this.GetYFromData(c.Close,!1);d&&(this.Canvas.fillStyle=this.UpColor,this.Canvas.strokeStyle=this.UnchagneColor,this.Canvas.beginPath(),t?(this.Canvas.moveTo(v-1,m),this.Canvas.lineTo(v-l-1,m-l/2),this.Canvas.lineTo(v-l-1,m+l/2)):(this.Canvas.moveTo(m,v+1),this.Canvas.lineTo(m-l/2,v+l+1),this.Canvas.lineTo(m+l/2,v+l+1)),this.Canvas.closePath(),this.Canvas.fill(),this.Canvas.stroke()),f&&(this.Canvas.fillStyle=this.DownColor,this.Canvas.strokeStyle=this.UnchagneColor,this.Canvas.beginPath(),t?(this.Canvas.moveTo(g+1,m),this.Canvas.lineTo(g+l+1,m-l/2),this.Canvas.lineTo(g+l+1,m+l/2)):(this.Canvas.moveTo(m,g-1),this.Canvas.lineTo(m-l/2,g-l-1),this.Canvas.lineTo(m+l/2,g-l-1)),this.Canvas.closePath(),this.Canvas.fill(),this.Canvas.stroke())}}}}},this.DrawTick=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetLeft()+i/2+2;t&&(a=this.ChartBorder.GetTop()+i/2+2);var n=this.ChartBorder.GetRight();t&&(n=this.ChartBorder.GetBottom());var r=this.ChartFrame.XPointCount,o=parseInt(e);o<=1?o=2:o>=18&&(o=18);var s=L(),l=o*s;this.Canvas.beginPath(),this.Canvas.font=o*s+"px "+this.TickFontName,this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=r,this.DrawKRange.Start=this.Data.DataOffset;for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<r;++h,++u,a+=e+i){var c=this.Data.Data[h];if(this.ShowRange.End=h,null!=c.Open&&null!=c.High&&null!=c.Low&&null!=c.Close){var d=a+e;if(d>n)break;var f=a+(d-a)/2,p=this.ChartFrame.GetYFromData(c.Close,!1);if(this.DrawKRange.End=h,0===c.Flag?this.Canvas.fillStyle=this.UpColor:1==c.Flag?this.Canvas.fillStyle=this.DownColor:this.Canvas.fillStyle=this.UnchagneColor,this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",t?this.Canvas.fillText(this.TickSymbol,p,f):this.Canvas.fillText(this.TickSymbol,f,p),this.IsShowKTooltip&&!t){var m=new It(f-l/2,p-l/2,l,l);this.TooltipRect.push([h,m])}}}},this.ClipTickClient=function(t){var e=this.GetBorder();if(1==t)var i=this.ChartBorder.GetLeftEx(),a=this.ChartBorder.GetRightEx(),n=this.ChartBorder.GetTop(),r=this.ChartBorder.GetBottom();else i=e.Left,a=e.Right,n=e.TopTitle,r=e.Bottom;this.Canvas.beginPath(),this.Canvas.rect(i,n,a-i,r-n),this.Canvas.clip()},this.ClipClient=function(t){if(1==t)var e=this.ChartBorder.GetLeftEx(),i=this.ChartBorder.GetRightEx(),a=this.ChartBorder.GetTop(),n=this.ChartBorder.GetBottom();else{e=this.ChartBorder.GetLeft(),i=this.ChartBorder.GetRight(),a=this.ChartBorder.GetTopEx(),n=this.ChartBorder.GetBottomEx();this.ChartBorder.BottomSpace>0&&(n+=1)}this.Canvas.beginPath(),this.Canvas.rect(e,a,i-e,n-a),this.Canvas.clip()},this.Draw=function(){if(this.IsShowOrderText=!1,this.TooltipRect=[],this.InfoTooltipRect=[],this.TradeIconTooltipRect=[],this.PtMax={X:null,Y:null,Value:null,Align:"left"},this.PtMin={X:null,Y:null,Value:null,Align:"left"},this.DrawKRange={Start:null,End:null},this.ChartFrame.ChartKLine={Max:null,Min:null},this.IsShow&&(!this.ChartFrame.IsMinSize||"Self Kline"!=this.Name)){if(mt.IsTickPeriod(this.Period))return this.Canvas.save(),1==this.DrawType?(this.ClipClient(this.ChartFrame.IsHScreen),this.DrawCloseLine()):4==this.DrawType?(this.ClipClient(this.ChartFrame.IsHScreen),this.DrawCloseArea()):(this.ClipTickClient(this.ChartFrame.IsHScreen),this.DrawTick()),void this.Canvas.restore();if(this.Canvas.save(),this.ClipClient(this.ChartFrame.IsHScreen),1==this.DrawType)return this.DrawCloseLine(),void this.Canvas.restore();2==this.DrawType?this.DrawAKLine():4==this.DrawType?this.DrawCloseArea():5==this.DrawType?this.DrawOrderFlow():7==this.DrawType?this.DrawOrderFlow_Style2():8==this.DrawType?this.DrawOrderFlow_Style3():9==this.DrawType?this.DrawKBar():10==this.DrawType?this.DrawRenkoCandle():12==this.DrawType?this.DrawLineBreak():this.DrawKBar(),this.TradeIcon?this.DrawTradeIcon():this.DrawTrade(),this.Canvas.restore(),this.IsShowMaxMinPrice&&(!0===this.ChartFrame.IsHScreen?this.HScreenDrawMaxMinPrice(this.PtMax,this.PtMin):this.DrawMaxMinPrice(this.PtMax,this.PtMin))}},this.DrawMaxMinPrice=function(t,e){if(null!=t.X&&null!=t.Y&&null!=t.Value&&null!=e.X&&null!=e.Y&&null!=e.Value){var i=Qe.KLine.MaxMin.LeftArrow,a=Qe.KLine.MaxMin.RightArrow,n=Qe.KLine.MaxMin.HighYOffset,r=Qe.KLine.MaxMin.LowYOffset,o=Ni(this.Symbol);this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.TextColor;var s=this.ChartBorder.GetTopEx(),l=this.ChartBorder.GetBottomEx(),h=t;1==this.ChartFrame.CoordinateType?(t.Y<e.Y&&(h=e),this.Canvas.textBaseline="top"):(t.Y>e.Y&&(h=e),this.Canvas.textBaseline="bottom"),this.Canvas.textAlign=h.Align;var u=(h.Align,h.X);Ce.IsNumber(n)&&(h.Y+=n);var c=h.Value.toFixed(o);"left"==h.Align?c=i+c:c+=a,h.Y>s-2&&(this.Canvas.fillText(c,u,h.Y),this.ChartFrame.ChartKLine.Max={X:u,Y:h.Y,Text:{BaseLine:"bottom"}});var d=e;1==this.ChartFrame.CoordinateType?(e.Y>t.Y&&(d=t),this.Canvas.textBaseline="bottom"):(t.Y>e.Y&&(h=e),this.Canvas.textBaseline="top"),this.Canvas.textAlign=d.Align;u=(d.Align,d.X);Ce.IsNumber(r)&&(d.Y+=r);c=e.Value.toFixed(o);"left"==d.Align?c=i+c:c+=a,d.Y<l+1&&(this.Canvas.fillText(c,u,d.Y),this.ChartFrame.ChartKLine.Min={X:u,Y:d.Y,Text:{BaseLine:"top"}})}},this.HScreenDrawMaxMinPrice=function(t,e){if(null!=t.X&&null!=t.Y&&null!=t.Value&&null!=e.X&&null!=e.Y&&null!=e.Value){var i=Qe.KLine.MaxMin.LeftArrow,a=Qe.KLine.MaxMin.RightArrow,n=Qe.KLine.MaxMin.HighYOffset,r=Qe.KLine.MaxMin.LowYOffset,o=Ni(this.Symbol),s=t.Y,l=t.X;Ce.IsNumber(n)&&(s+=n),this.Canvas.save(),this.Canvas.translate(s,l),this.Canvas.rotate(90*Math.PI/180),this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.TextColor,this.Canvas.textAlign=t.Align,this.Canvas.textBaseline="bottom";var h=t.Value.toFixed(o);"left"==t.Align?h=i+h:h+=a,this.Canvas.fillText(h,0,0),this.Canvas.restore();s=e.Y,l=e.X;Ce.IsNumber(r)&&(s+=r),this.Canvas.save(),this.Canvas.translate(s,l),this.Canvas.rotate(90*Math.PI/180),this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.TextColor,this.Canvas.textAlign=e.Align,this.Canvas.textBaseline="top";h=e.Value.toFixed(o);"left"==e.Align?h=i+h:h+=a,this.Canvas.fillText(h,0,0),this.Canvas.restore()}},this.DrawInfo=function(t){if(this.InfoData&&!(this.InfoData.size<=0)){var e=!0===this.ChartFrame.IsHScreen,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=this.ChartBorder.GetBottom(),r=this.ChartBorder.GetTop(),o=this.InfoData.get(t.DayData.Date.toString());if(o&&!(o.Data.length<=0)){var s=L(),l=i+a,h=18*s,u=!0;l<=15&&(u=!1),l<h&&(l=h);var c,f="",m=new p.default,v=t.YMax+1*s,g=t.YMin+1*s+l,C=!0,D=0;for(var y in o.Data){var x=o.Data[y],S=m.get(x.InfoType);if(S)S.Data.push(x);else{var I=mi.GetIconFont(x.InfoType);if(this.Canvas.fillStyle=I.Color,this.Canvas.font=l+"px "+I.Family,e){this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.fillText(I.HScreenText,v,t.XCenter,l);var T=new It(t.XCenter-l/2,v-l,l,l),b={Data:new Array(x),Rect:T,Type:x.InfoType,TextRect:{X:v,Y:t.XCenter}};m.set(x.InfoType,b),v+=l}else if(this.Canvas.textBaseline="bottom",this.Canvas.textAlign="center",1===this.InfoPosition){var w=n+D;this.Canvas.fillText(I.Text,t.XCenter,w,l);T=new It(t.XCenter-l/2,w-l,l,l),b={Data:new Array(x),Rect:T,Type:x.InfoType,TextRect:{X:t.XCenter,Y:w}};m.set(x.InfoType,b),D-=l}else if(C){this.Canvas.fillText(I.Text,t.XCenter,v,l);T=new It(t.XCenter-l/2,v-l,l,l),b={Data:new Array(x),Rect:T,Type:x.InfoType,TextRect:{X:t.XCenter,Y:v}};m.set(x.InfoType,b),(v-=l)-l<r&&(C=!1)}else{this.Canvas.fillText(I.Text,t.XCenter,g,l);T=new It(t.XCenter-l/2,g-l,l,l),b={Data:new Array(x),Rect:T,Type:x.InfoType,TextRect:{X:t.XCenter,Y:g}};m.set(x.InfoType,b),g+=l}}}Qe.KLine.NumIcon&&(c=e?Qe.KLine.NumIcon.HScreenText:Qe.KLine.NumIcon.Text);var M=!0,E=!1,A=void 0;try{for(var _,F=(0,d.default)(m);!(M=(_=F.next()).done);M=!0){var O=(t=_.value)[1];if(O.Data.length>=2&&c&&u){var P=O.Data.length;P>=c.length&&(P=0),this.Canvas.fillStyle=Qe.KLine.NumIcon.Color;f=c[P];this.Canvas.fillText(f,O.TextRect.X,O.TextRect.Y,l)}e||this.InfoTooltipRect.push(O)}}catch(t){E=!0,A=t}finally{try{!M&&F.return&&F.return()}finally{if(E)throw A}}}}},this.DrawTradeIcon=function(){if(this.TradeData){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetLeft()+i/2+2,n=this.ChartBorder.GetRight(),r=this.ChartFrame.XPointCount;t&&(a=this.ChartBorder.GetTop()+i/2+2,n=this.ChartBorder.GetBottom());var o=this.TradeData.Sell,s=this.TradeData.Buy,l=e+i,h=L(),u=24*h,c=12*h;l<c?l=c:l>u&&(l=u),this.Canvas.font=l+"px "+this.TradeIcon.Family;for(var d=this.Data.DataOffset,f=0;d<this.Data.Data.length&&f<r;++d,++f,a+=e+i){var p=this.Data.Data[d];if(null!=p.Open&&null!=p.High&&null!=p.Low&&null!=p.Close){var m=!1,v=!1;if(o&&d<o.length&&(v=o[d]>0),s&&d<s.length&&(m=s[d]>0),v||m){var g=a+e;if(g>n)break;var C=a+(g-a)/2,D=this.GetYFromData(p.Low,!1),y=this.GetYFromData(p.High,!1);this.GetYFromData(p.Open,!1),this.GetYFromData(p.Close,!1);if(m)if(this.Canvas.fillStyle=this.TradeIcon.Buy.Color,t)this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillText(this.TradeIcon.Buy.HScreenText,D,C);else{this.Canvas.textAlign="center",this.Canvas.textBaseline="top",this.Canvas.fillText(this.TradeIcon.Buy.Text,C,D);var x=new It(C-l/2,D,l,l),S={Data:{Type:1,KData:p,Name:this.TradeData.Name,Param:this.TradeData.Param},Rect:x,TextRect:{X:C,Y:D}};this.TradeIconTooltipRect.push(S)}if(v)if(this.Canvas.fillStyle=this.TradeIcon.Sell.Color,t)this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(this.TradeIcon.Sell.HScreenText,y,C);else{this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.Canvas.fillText(this.TradeIcon.Sell.Text,C,y);x=new It(C-l/2,y-l,l,l),S={Data:{Type:2,KData:p,Name:this.TradeData.Name,Param:this.TradeData.Param},Rect:x,TextRect:{X:C,Y:y}};this.TradeIconTooltipRect.push(S)}}}}}},this.GetTooltipData=function(t,e,i){if(!this.IsShow)return!1;for(var a in this.TradeIconTooltipRect){if((r=this.TradeIconTooltipRect[a]).Rect){var n=r.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e))return g.Chart.Log("[ChartKLine::GetTooltipData] trade icon ",r),i.Data=r,i.ChartPaint=this,i.Type=2,!0}}for(var a in this.InfoTooltipRect){var r;if((r=this.InfoTooltipRect[a]).Rect){n=r.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e))return i.Data=r,i.ChartPaint=this,i.Type=1,!0}}for(var a in this.TooltipRect){n=this.TooltipRect[a][1];if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e)){var o=this.TooltipRect[a][0];return i.Data=this.Data.Data[o],i.ChartPaint=this,i.Type=0,!0}}return!1},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={Max:null,Min:null};if(1==this.DrawType||4==this.DrawType)for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var n=this.Data.Data[i];Ce.IsNumber(n.Close)&&(null==e.Max&&(e.Max=n.Close),null==e.Min&&(e.Min=n.Close),e.Max<n.Close&&(e.Max=n.Close),e.Min>n.Close&&(e.Min=n.Close))}else for(i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){if(null!=(n=this.Data.Data[i]).Open&&null!=n.High&&null!=n.Low&&null!=n.Close)if(5==this.DrawType&&n.OrderFlow&&Ce.IsNumber(n.OrderFlow.PriceOffset)){var r=n.High,o=n.Low;if(Ce.IsNonEmptyArray(n.OrderFlow.High))for(var s=0;s<n.OrderFlow.High.length;++s){r<(l=n.OrderFlow.High[s]).Price&&(r=l.Price)}if(Ce.IsNonEmptyArray(n.OrderFlow.Low))for(s=0;s<n.OrderFlow.Low.length;++s){var l;o>(l=n.OrderFlow.Low[s]).Price&&(o=l.Price)}r+=n.OrderFlow.PriceOffset,o-=n.OrderFlow.PriceOffset,null==e.Max&&(e.Max=r),null==e.Min&&(e.Min=o),e.Max<r&&(e.Max=r),e.Min>o&&(e.Min=o)}else null==e.Max&&(e.Max=n.High),null==e.Min&&(e.Min=n.Low),e.Max<n.High&&(e.Max=n.High),e.Min>n.Low&&(e.Min=n.Low)}return e},this.GetAllPrice=function(){for(var t=this.ChartFrame.XPointCount,e=new c.default,i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var n=this.Data.Data[i];if(null!=n.Open&&null!=n.High&&null!=n.Low&&null!=n.Close){var r=n.Close;e.add(r)}}var o=[],s=!0,l=!1,h=void 0;try{for(var u,f=(0,d.default)(e);!(s=(u=f.next()).done);s=!0){var p=u.value;o.push(p)}}catch(t){l=!0,h=t}finally{try{!s&&f.return&&f.return()}finally{if(l)throw h}}return o.sort(function(t,e){return t-e}),o},this.DrawLastPointEvent=function(t){if(this.GetEventCallback){var e=this.GetEventCallback(b.ON_DRAW_KLINE_LAST_POINT);if(e){var i={Data:this.ChartFrame.DataWidth,Distance:this.ChartFrame.DistanceWidth};if(t)var a={LastPoint:{X:t.X,Y:t.Y,XLeft:t.XLeft,XRight:t.XRight},KItem:t.KItem,DrawType:this.DrawType,KWidth:i,ChartRight:t.ChartRight};else a={LastPoint:null,KItem:null,KWidth:i};e.Callback(e,a,this)}}},this.DrawOrderFlow=function(){var t,e=!0===this.ChartFrame.IsHScreen,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=(t=this.ChartBorder.GetBorder()).LeftEx+a/2+Qe.FrameLeftMargin,r=t.RightEx,o=this.ChartFrame.XPointCount;e&&(n=(t=this.ChartBorder.GetHScreenBorder()).TopEx+a/2+Qe.FrameLeftMargin,r=t.BottomEx);this.UpColor,this.DownColor,this.UnchagneColor;this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o,this.DrawKRange.Start=this.Data.DataOffset;this.DrawOrderFlowHBar();for(var s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<o;++s,++l,n+=i+a,++this.ShowRange.DataCount){var h=this.Data.Data[s];if(this.ShowRange.End=s,null!=h.Open&&null!=h.High&&null!=h.Low&&null!=h.Close){var u=n,c=n+i;if(c>r)break;var d=u+(c-u)/2,f=this.GetYFromData(h.Low,!1),p=this.GetYFromData(h.High,!1),m=this.GetYFromData(h.Open,!1),v=this.GetYFromData(h.Close,!1);this.DrawKRange.End=s;var g={Low:f,High:p,Open:m,Close:v},C={Left:u,Center:d,Right:c,DataWidth:i};if(this.DrawOrderFlowBar(h.OrderFlow,h,C,g,e),this.IsShowKTooltip&&!e){var D=Math.min(m,v),y=Math.max(m,v);Math.abs(m-v)<5&&(D=Math.min(p,D-5),y=Math.max(f,y+5));var x=new It(u,D,i,y-D);this.TooltipRect.push([s,x])}if(0==this.Data.DataType){var S={Xleft:u,XRight:c,XCenter:d,YMax:p,YMin:f,DayData:h,Index:l};this.DrawInfo(S)}s==this.Data.Data.length-1&&{X:d,Y:v,XLeft:u,XRight:c,KItem:h,ChartRight:r}}}},this.DrawOrderFlowBar=function(t,e,i,a,n){var r=Math.min(a.Open,a.Close),o=Math.max(a.Open,a.Close),s=Math.abs(a.Open-a.Close),l=0;t&&Ce.IsNumber(t.PriceOffset)&&(l=this.GetPriceYOffset(t.PriceOffset));var h,u=this.GetDynamicOrderFlowFont(l,i.DataWidth/2);this.IsShowOrderText=l>5&&i.DataWidth>10,this.OrderFlow.AlwaysShowOrderText&&(this.IsShowOrderText=!0),h=e.Open<e.Close?this.OrderFlow.UpColor:e.Open>e.Close?this.OrderFlow.DownColor:this.OrderFlow.UnchagneColor;var c=i.DataWidth<4;c?(this.Canvas.strokeStyle=h.Border,this.Canvas.beginPath(),this.Canvas.moveTo(R(i.Center),r-l/2),this.Canvas.lineTo(R(i.Center),o+l/2),this.Canvas.stroke()):(this.Canvas.fillStyle=h.BG,this.Canvas.fillRect(k(i.Left),k(r-l/2),k(i.DataWidth),k(s+l))),this.Canvas.textBaseline="middle",this.Canvas.textAlign="center",this.Canvas.font=u;var d=i.DataWidth/2/2;if(t&&Ce.IsNonEmptyArray(t.Order)){var f=0,p=0,m=null;if(this.OrderFlow.IsShowAskBar||this.OrderFlow.IsShowBidBar||this.OrderFlow.IsShowPOCBG)for(var v=0,g=0,C=0;C<t.Order.length;++C){g=0,(D=t.Order[C]).Ask&&Ce.IsNumber(D.Ask.Value)&&(f+=D.Ask.Value,g+=D.Ask.Value),D.Bid&&Ce.IsNumber(D.Bid.Value)&&(p+=D.Bid.Value,g+=D.Bid.Value),v<g&&(v=g,m=C)}for(C=0;C<t.Order.length;++C){var D=t.Order[C],y=this.GetYFromData(D.Price,!1);if((x={Left:i.Left,Right:i.Center,Bottom:y+l/2,Top:y-l/2}).Width=x.Right-x.Left,x.Height=x.Bottom-x.Top,D.Ask.BG&&(this.Canvas.fillStyle=D.Ask.BG,this.Canvas.fillRect(k(x.Left),k(x.Top),k(x.Width),k(x.Height))),this.OrderFlow.IsShowPOCBG&&m==C&&(this.Canvas.fillStyle=this.OrderFlow.POCGBColor,this.Canvas.fillRect(k(x.Left),k(x.Top),k(x.Width),k(x.Height))),this.OrderFlow.IsShowAskBar&&Ce.IsNumber(D.Ask.Value)&&f>0)(S=x.Width*(D.Ask.Value/f))<1&&(S=1),this.Canvas.fillStyle=this.OrderFlow.AskBarColor,this.Canvas.fillRect(k(x.Right),k(x.Top),k(-S),k(x.Height));var x,S,I=null;if(Ce.IsString(D.Ask.Text)?I=D.Ask.Text:Ce.IsNumber(D.Ask.Value)&&(I=D.Ask.Value.toString()),I&&this.IsShowOrderText&&this.OrderFlow.IsShowAskText)if(D.Ask.Color?this.Canvas.fillStyle=D.Ask.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color,D.Ask.Font){var T=this.GetDynamicOrderFlowFont(l,i.DataWidth/2,D.Ask.Font);this.Canvas.font=T,this.Canvas.fillText(I,i.Left+d,y),this.Canvas.font=u}else this.Canvas.fillText(I,i.Left+d,y);if((x={Left:i.Center,Right:i.Right,Bottom:y+l/2,Top:y-l/2}).Width=x.Right-x.Left,x.Height=x.Bottom-x.Top,D.Bid.BG&&(this.Canvas.fillStyle=D.Bid.BG,this.Canvas.fillRect(k(x.Left),k(x.Top),k(x.Width),k(x.Height))),this.OrderFlow.IsShowPOCBG&&m==C&&(this.Canvas.fillStyle=this.OrderFlow.POCGBColor,this.Canvas.fillRect(k(x.Left),k(x.Top),k(x.Width),k(x.Height))),this.OrderFlow.IsShowBidBar&&Ce.IsNumber(D.Bid.Value)&&p>0)(S=x.Width*(D.Bid.Value/p))<1&&(S=1),this.Canvas.fillStyle=this.OrderFlow.BidBarColor,this.Canvas.fillRect(k(x.Left),k(x.Top),k(S),k(x.Height));I=null;if(Ce.IsString(D.Bid.Text)?I=D.Bid.Text:Ce.IsNumber(D.Bid.Value)&&(I=D.Bid.Value.toString()),I&&this.IsShowOrderText&&this.OrderFlow.IsShowBidText)if(D.Bid.Color?this.Canvas.fillStyle=D.Bid.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color,D.Bid.Font){T=this.GetDynamicOrderFlowFont(l,i.DataWidth/2,D.Bid.Font);this.Canvas.font=T,this.Canvas.fillText(I,i.Center+d,y),this.Canvas.font=u}else this.Canvas.fillText(I,i.Center+d,y)}}(a.High<r||a.Low>o)&&(this.Canvas.strokeStyle=this.OrderFlow.Line.UpDownColor,a.High<r&&(this.Canvas.beginPath(),this.Canvas.moveTo(R(i.Center),a.High-l/2),this.Canvas.lineTo(R(i.Center),r-l/2),this.Canvas.stroke()),a.Low>o&&(this.Canvas.beginPath(),this.Canvas.moveTo(R(i.Center),a.Low+l/2),this.Canvas.lineTo(R(i.Center),o+l/2),this.Canvas.stroke())),!c&&Math.abs(a.Open-a.Close)>1&&(this.Canvas.strokeStyle=this.OrderFlow.Line.MiddleColor,this.Canvas.beginPath(),this.Canvas.moveTo(R(i.Center),r-l/2),this.Canvas.lineTo(R(i.Center),o+l/2),this.Canvas.stroke()),c||(this.Canvas.beginPath(),this.Canvas.strokeStyle=h.Border,this.Canvas.rect(R(i.Left),R(r-l/2),k(i.DataWidth),k(s+l)),this.Canvas.stroke());u=this.GetDynamicOrderFlowFont(l,i.DataWidth);if(t&&Ce.IsNonEmptyArray(t.High)&&this.IsShowOrderText)for(C=0;C<t.High.length;++C){D=t.High[C];if(Ce.IsString(D.Text)?I=D.Text:Ce.IsNumber(D.Value)&&(I=D.Value.toString()),I){D.Color?this.Canvas.fillStyle=D.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color;y=this.GetYFromData(D.Price,!1);if(D.Font){T=this.GetDynamicOrderFlowFont(l,i.DataWidth,D.Font);this.Canvas.font=T,this.Canvas.fillText(I,i.Center,y),this.Canvas.font=u}else this.Canvas.fillText(I,i.Center,y)}}if(t&&Ce.IsNonEmptyArray(t.Low)&&this.IsShowOrderText)for(C=0;C<t.Low.length;++C){D=t.Low[C];if(Ce.IsString(D.Text)?I=D.Text:Ce.IsNumber(D.Value)&&(I=D.Value.toString()),I){D.Color?this.Canvas.fillStyle=D.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color;y=this.GetYFromData(D.Price,!1);if(D.Font){T=this.GetDynamicOrderFlowFont(l,i.DataWidth,D.Font);this.Canvas.font=T,this.Canvas.fillText(I,i.Center,y),this.Canvas.font=u}else this.Canvas.fillText(I,i.Center,y)}}},this.GetPriceYOffset=function(t){var e=this.ChartFrame;return e.ChartBorder.GetHeightEx()*t/(e.HorizontalMax-e.HorizontalMin)},this.GetDynamicOrderFlowFont=function(t,e,i){var a=parseInt(t)-2;t<5&&(a=parseInt(t)),a>this.OrderFlow.Text.FontMaxSize?a=this.OrderFlow.Text.FontMaxSize:a<=0&&(a=1);for(var n=this.FormatFontString(a,this.OrderFlow.Text.Family,i),r=a;r>0;r-=2){n=this.FormatFontString(r,this.OrderFlow.Text.Family,i);if(this.Canvas.font=n,this.Canvas.measureText(this.OrderFlow.Text.MaxValue).width+2<e)break}return n},this.FormatFontString=function(t,e,i){var a;return i?i.Weight&&(a=i.Weight+" "+t+"px "+e):a=t+"px "+e,a},this.DrawOrderFlowHBar=function(){for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartFrame.HorizontalMax,n=this.ChartFrame.HorizontalMin,r=this.Data.DataOffset,o=this.Data.DataOffset+i,s=0;s<this.Data.Data.length;++s){var l=this.Data.Data[s];if(l&&l.OrderFlow&&Ce.IsNonEmptyArray(l.OrderFlow.Order))for(var h=0;h<l.OrderFlow.Order.length;++h){var u=l.OrderFlow.Order[h];if(u.HBar&&(Ce.IsNumber(u.HBar.Width)&&Ce.IsNumber(u.Price)&&!(u.Price>a||u.Price<n))){var c=Math.ceil(s+u.HBar.Width),d=Math.min(s,c);Math.max(s,c)<r||d>o||this.DrawOrderFlowHBarItem(s,l.OrderFlow,u,t,e)}}}},this.DrawOrderFlowHBarItem=function(t,e,i,a,n){var r=this.ShowRange.Start,o=(this.ShowRange.Start,this.ShowRange.ShowCount,this.GetYFromData(i.Price,!1)),s=t-r,l=parseInt(t+i.HBar.Width)-r;if(s<0&&(s=0),l<0&&(l=0),s<=l){this.ChartBorder.GetRight(),this.ChartFrame.XPointCount;var h=r,u=this.GetPriceYOffset(e.PriceOffset),c=this.ChartFrame.GetXFromIndex(s)-a/2;if(1==i.HBar.Type)for(var d=0,f=t+1;d<i.HBar.Width&&f<this.Data.Data.length;++d,++f){if(this.Data.Data[f].Close<i.Price){l=f-1-h;break}}else if(2==i.HBar.Type)for(d=0,f=t+1;d<i.HBar.Width&&f<this.Data.Data.length;++d,++f){if(this.Data.Data[f].Close>i.Price){l=f-1-h;break}}if(l<0)return;var p=this.ChartFrame.GetXFromIndex(l)+a/2,m=o-u/2,v=u+.5;Ce.IsNumber(i.HBar.Height)&&(v=i.HBar.Height*u+.1);var g=i.HBar.Width-parseInt(i.HBar.Width);g>1e-6&&(p+=(a+n)*g),this.Canvas.fillStyle=i.HBar.Color,this.Canvas.fillRect(k(c),k(m),k(p-c),k(v))}},this.PtInChart=function(t,e){return 1==this.DrawType||4==this.DrawType?this.PtInLine(t,e,{KLineClose:!0}):this.PtInKBar(t,e)},this.DrawSelectedStatus=function(){this.DrawLinePoint({KLineClose:!0})},this.DrawOrderFlow_Style2=function(){var t,e=!0===this.ChartFrame.IsHScreen,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=(t=this.ChartBorder.GetBorder()).LeftEx+a/2+Qe.FrameLeftMargin,r=t.RightEx,o=this.ChartFrame.XPointCount;(this.AryOrderFlowBorder=[],e)&&(n=(t=this.ChartBorder.GetHScreenBorder()).TopEx+a/2+Qe.FrameLeftMargin,r=t.BottomEx);var s=this.OrderFlow_Style2.UpColor,l=this.OrderFlow_Style2.DownColor,h=this.OrderFlow_Style2.UnchagneColor,u=k(this.OrderFlow_Style2.BarWidth),c=i-u;c/7<u&&(u=c/7),u<=1&&(u=2),this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o,this.DrawKRange.Start=this.Data.DataOffset,this.DrawOrderFlowHBar();for(var d=this.Data.DataOffset,f=0;d<this.Data.Data.length&&f<o;++d,++f,n+=i+a,++this.ShowRange.DataCount){var p=this.Data.Data[d];if(this.ShowRange.End=d,null!=p.Open&&null!=p.High&&null!=p.Low&&null!=p.Close){var m=n,v=n+i;if(v>r)break;var g=m+(v-m)/2,C=this.GetYFromData(p.Low,!1),D=this.GetYFromData(p.High,!1),y=this.GetYFromData(p.Open,!1),x=this.GetYFromData(p.Close,!1);this.DrawKRange.End=d;var S=Math.min(y,x),I=Math.max(y,x),T=k(m),b=T+u;p.Open<p.Close?this.Canvas.fillStyle=s:p.Open>p.Close?this.Canvas.fillStyle=l:this.Canvas.fillStyle=h;var w=0;p.OrderFlow&&Ce.IsNumber(p.OrderFlow.PriceOffset)&&(w=this.GetPriceYOffset(p.OrderFlow.PriceOffset)),this.Canvas.fillRect(T,k(S-w/2),u,k(I-S+w));var M={Low:C,High:D,Open:y,Close:x},E={Left:b,Center:g,Right:v,DataWidth:v-b};E.Center=E.Left+E.DataWidth/2,this.DrawOrderFlowBar_Style2(p.OrderFlow,p,E,M,e)}}if(i-u>5)for(d=0;d<this.AryOrderFlowBorder.length;++d){var A=this.AryOrderFlowBorder[d];if(A&&A.Rect&&A.Color){var _=A.Rect;this.Canvas.strokeStyle=A.Color,this.Canvas.beginPath(),this.Canvas.rect(R(_.Left),R(_.Top),k(_.Width),k(_.Height)),this.Canvas.stroke()}}this.AryOrderFlowBorder=[]},this.DrawOrderFlow_Style3=function(){var t,e=!0===this.ChartFrame.IsHScreen,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=(t=this.ChartBorder.GetBorder()).LeftEx+a/2+Qe.FrameLeftMargin,r=t.RightEx,o=this.ChartFrame.XPointCount;(this.AryOrderFlowBorder=[],e)&&(n=(t=this.ChartBorder.GetHScreenBorder()).TopEx+a/2+Qe.FrameLeftMargin,r=t.BottomEx);var s=this.OrderFlow_Style3.UpColor,l=this.OrderFlow_Style3.DownColor,h=this.OrderFlow_Style3.UnchagneColor,u=k(this.OrderFlow_Style3.BarWidth);i/4<u&&(u=i/4),u<=1&&(u=2),this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o,this.DrawKRange.Start=this.Data.DataOffset,this.DrawOrderFlowHBar();for(var c=this.Data.DataOffset,d=0;c<this.Data.Data.length&&d<o;++c,++d,n+=i+a,++this.ShowRange.DataCount){var f=this.Data.Data[c];if(this.ShowRange.End=c,null!=f.Open&&null!=f.High&&null!=f.Low&&null!=f.Close){var p=n,m=n+i;if(m>r)break;var v=this.GetYFromData(f.Low,!1),g=this.GetYFromData(f.High,!1),C=this.GetYFromData(f.Open,!1),D=this.GetYFromData(f.Close,!1);this.DrawKRange.End=c;var y=Math.min(C,D),x=Math.max(C,D),S=k(p),I=S+u;f.Open<f.Close?this.Canvas.fillStyle=s:f.Open>f.Close?this.Canvas.fillStyle=l:this.Canvas.fillStyle=h;var T=0;f.OrderFlow&&Ce.IsNumber(f.OrderFlow.PriceOffset)&&(T=this.GetPriceYOffset(f.OrderFlow.PriceOffset)),this.Canvas.fillRect(S,k(y-T/2),u,k(x-y+T));var b={Low:v,High:g,Open:C,Close:D},w={Left:I,Right:m,DataWidth:m-I};this.DrawOrderFlowBar_Style3(f.OrderFlow,f,w,b,e)}}if(i-u>5)for(c=0;c<this.AryOrderFlowBorder.length;++c){var M=this.AryOrderFlowBorder[c];if(M&&M.Rect&&M.Color){var E=M.Rect;this.Canvas.strokeStyle=M.Color,this.Canvas.beginPath(),this.Canvas.rect(R(E.Left),R(E.Top),k(E.Width),k(E.Height)),this.Canvas.stroke()}}this.AryOrderFlowBorder=[]},this.DrawOrderFlowBar_Style2=function(t,e,i,a,n){Math.min(a.Open,a.Close),Math.max(a.Open,a.Close),Math.abs(a.Open-a.Close);var r=0;t&&Ce.IsNumber(t.PriceOffset)&&(r=this.GetPriceYOffset(t.PriceOffset));var o=this.GetDynamicOrderFlowFont(r,i.DataWidth/2);this.IsShowOrderText=r>5&&i.DataWidth>10,this.OrderFlow.AlwaysShowOrderText&&(this.IsShowOrderText=!0),this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.font=o;i.DataWidth;if(t&&Ce.IsNonEmptyArray(t.Order))for(var s=0;s<t.Order.length;++s){var l=t.Order[s],h=this.GetYFromData(l.Price,!1);if((c={Left:i.Left,Right:i.Center,Bottom:h+r/2,Top:h-r/2}).Width=c.Right-c.Left,c.Height=c.Bottom-c.Top,l.Ask.BG&&(this.Canvas.fillStyle=l.Ask.BG,this.Canvas.fillRect(k(c.Left),k(c.Top),k(c.Width),k(c.Height))),l.Ask.BorderColor){var u={Rect:c,Color:l.Ask.BorderColor};this.AryOrderFlowBorder.push(u)}var c,d=null;if(Ce.IsString(l.Ask.Text)?d=l.Ask.Text:Ce.IsNumber(l.Ask.Value)&&(d=l.Ask.Value.toString()),d&&this.IsShowOrderText)if(l.Ask.Color?this.Canvas.fillStyle=l.Ask.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color,l.Ask.Font){var f=this.GetDynamicOrderFlowFont(r,i.DataWidth/2,l.Ask.Font);this.Canvas.font=f,this.Canvas.fillText(d,i.Left+2,h),this.Canvas.font=o}else this.Canvas.fillText(d,i.Left+2,h);if((c={Left:i.Center,Right:i.Right,Bottom:h+r/2,Top:h-r/2}).Width=c.Right-c.Left,c.Height=c.Bottom-c.Top,l.Bid.BG&&(this.Canvas.fillStyle=l.Bid.BG,this.Canvas.fillRect(k(c.Left),k(c.Top),k(c.Width),k(c.Height))),l.Bid.BorderColor){u={Rect:c,Color:l.Bid.BorderColor};this.AryOrderFlowBorder.push(u)}d=null;if(Ce.IsString(l.Bid.Text)?d=l.Bid.Text:Ce.IsNumber(l.Bid.Value)&&(d=l.Bid.Value.toString()),d&&this.IsShowOrderText)if(l.Bid.Color?this.Canvas.fillStyle=l.Bid.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color,l.Bid.Font){f=this.GetDynamicOrderFlowFont(r,i.DataWidth/2,l.Bid.Font);this.Canvas.font=f,this.Canvas.fillText(d,i.Center+2,h),this.Canvas.font=o}else this.Canvas.fillText(d,i.Center+2,h)}},this.DrawOrderFlowBar_Style3=function(t,e,i,a,n){Math.min(a.Open,a.Close),Math.max(a.Open,a.Close),Math.abs(a.Open-a.Close);var r=i.DataWidth-4,o=0;t&&Ce.IsNumber(t.PriceOffset)&&(o=this.GetPriceYOffset(t.PriceOffset));var s=this.GetDynamicOrderFlowFont(o,r);this.IsShowOrderText=o>5&&i.DataWidth>10,this.OrderFlow.AlwaysShowOrderText&&(this.IsShowOrderText=!0),this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.font=s;if(t&&Ce.IsNonEmptyArray(t.Order))for(var l=0;l<t.Order.length;++l){var h=t.Order[l],u=this.GetYFromData(h.Price,!1),c={Left:i.Left,Right:i.Right,Bottom:u+o/2,Top:u-o/2};if(c.Width=c.Right-c.Left,c.Height=c.Bottom-c.Top,h.Item.BG&&(this.Canvas.fillStyle=h.Item.BG,this.Canvas.fillRect(k(c.Left),k(c.Top),k(c.Width),k(c.Height))),h.Item.BorderColor){var d={Rect:c,Color:h.Item.BorderColor};this.AryOrderFlowBorder.push(d)}var f=null;if(Ce.IsString(h.Item.Text)?f=h.Item.Text:Ce.IsNumber(h.Item.Value)&&(f=h.Item.Value.toString()),f&&this.IsShowOrderText)if(h.Item.Color?this.Canvas.fillStyle=h.Item.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color,h.Item.Font){var p=this.GetDynamicOrderFlowFont(o,r,h.Item.Font);this.Canvas.font=p,this.Canvas.fillText(f,i.Left+2,u),this.Canvas.font=s}else this.Canvas.fillText(f,i.Left+2,u)}}}function Et(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartColorKline",this.Symbol,this.Color="rgb(0,255,44)",this.IsEmptyBar=!1,this.DrawType=0,this.KLineColor,this.DrawName,this.Draw=function(){if(this.IsShow)if("DRAWCOLORKLINE"==this.DrawName)this.DrawColorBar();else{if(!this.KLineColor)return;this.DrawBar()}},this.DrawUpBarItem=function(t,e,i,a){var n=!0===this.ChartFrame.IsHScreen,r=e,o=r+(e+i-r)/2,s=this.ChartFrame.GetYFromData(t.Low),l=this.ChartFrame.GetYFromData(t.High),h=this.ChartFrame.GetYFromData(t.Open),u=this.ChartFrame.GetYFromData(t.Close),c=l;i>=4?(t.High>t.Close?(this.Canvas.beginPath(),n?(this.Canvas.moveTo(R(c),R(o)),this.Canvas.lineTo(R(3==this.DrawType?Math.max(u,h):u),R(o))):(this.Canvas.moveTo(R(o),R(c)),this.Canvas.lineTo(R(o),R(3==this.DrawType?Math.min(u,h):u))),this.Canvas.stroke(),c=u):c=u,n?Math.abs(h-c)<1?this.Canvas.fillRect(k(c),k(r),1,k(i)):3==this.DrawType?(this.Canvas.beginPath(),this.Canvas.rect(R(c),R(r),k(h-c),k(i)),this.Canvas.stroke()):this.Canvas.fillRect(k(c),k(r),k(h-c),k(i)):Math.abs(h-c)<1?this.Canvas.fillRect(k(r),k(c),k(i),1):3==this.DrawType?(this.Canvas.beginPath(),this.Canvas.rect(R(r),R(c),k(i),k(h-c)),this.Canvas.stroke()):this.Canvas.fillRect(k(r),k(Math.min(c,h)),k(i),k(Math.abs(h-c))),t.Open>t.Low&&(this.Canvas.beginPath(),n?(this.Canvas.moveTo(R(3==this.DrawType?Math.min(u,h):c),R(o)),this.Canvas.lineTo(R(s),R(o))):(this.Canvas.moveTo(R(o),R(3==this.DrawType?Math.max(u,h):c)),this.Canvas.lineTo(R(o),R(s))),this.Canvas.stroke())):(this.Canvas.beginPath(),n?(this.Canvas.moveTo(l,R(o)),this.Canvas.lineTo(s,R(o))):(this.Canvas.moveTo(R(o),l),this.Canvas.lineTo(R(o),s)),this.Canvas.stroke())},this.DrawDownBarItem=function(t,e,i,a){var n=!0===this.ChartFrame.IsHScreen,r=e,o=r+(e+i-r)/2,s=this.ChartFrame.GetYFromData(t.Low),l=this.ChartFrame.GetYFromData(t.High),h=this.ChartFrame.GetYFromData(t.Open),u=this.ChartFrame.GetYFromData(t.Close),c=l;i>=4?(t.High>t.Close?(this.Canvas.beginPath(),n?(this.Canvas.moveTo(R(c),R(o)),this.Canvas.lineTo(R(h),R(o))):(this.Canvas.moveTo(R(o),R(c)),this.Canvas.lineTo(R(o),R(h))),this.Canvas.stroke(),c=h):c=h,n?Math.abs(u-c)<1?this.Canvas.fillRect(k(c),k(r),1,k(i)):this.Canvas.fillRect(k(c),k(r),k(u-c),k(i)):Math.abs(u-c)<1?this.Canvas.fillRect(k(r),k(c),k(i),1):this.Canvas.fillRect(k(r),k(Math.min(c,u)),k(i),k(Math.abs(u-c))),t.Open>t.Low&&(this.Canvas.beginPath(),n?(this.Canvas.moveTo(R(c),R(o)),this.Canvas.lineTo(R(s),R(o))):(this.Canvas.moveTo(R(o),R(c)),this.Canvas.lineTo(R(o),R(s))),this.Canvas.stroke())):(this.Canvas.beginPath(),n?(this.Canvas.moveTo(l,R(o)),this.Canvas.lineTo(s,R(o))):(this.Canvas.moveTo(R(o),l),this.Canvas.lineTo(R(o),s)),this.Canvas.stroke())},this.DrawUnChangeBarItem=function(t,e,i,a){var n=!0===this.ChartFrame.IsHScreen,r=e,o=e+i,s=r+(o-r)/2,l=this.ChartFrame.GetYFromData(t.Low),h=this.ChartFrame.GetYFromData(t.High),u=this.ChartFrame.GetYFromData(t.Open),c=(this.ChartFrame.GetYFromData(t.Close),h);i>=4?(this.Canvas.beginPath(),t.High>t.Close?(n?(this.Canvas.moveTo(c,R(s)),this.Canvas.lineTo(u,R(s))):(this.Canvas.moveTo(R(s),c),this.Canvas.lineTo(R(s),u)),c=u):c=u,n?(this.Canvas.moveTo(R(c),R(r)),this.Canvas.lineTo(R(c),R(o))):(this.Canvas.moveTo(R(r),R(c)),this.Canvas.lineTo(R(o),R(c))),t.Open>t.Low&&(n?(this.Canvas.moveTo(R(c),R(s)),this.Canvas.lineTo(R(l),R(s))):(this.Canvas.moveTo(R(s),R(c)),this.Canvas.lineTo(R(s),R(l)))),this.Canvas.stroke()):(this.Canvas.beginPath(),n?(this.Canvas.moveTo(h,R(s)),this.Canvas.lineTo(l,R(s))):(this.Canvas.moveTo(R(s),h),this.Canvas.lineTo(R(s),l)),this.Canvas.stroke())},this.DrawBar=function(){var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+e/2+2,a=this.ChartBorder.GetRight(),n=this.ChartFrame.XPointCount;this.IsHScreen&&(i=this.ChartBorder.GetTop()+e/2+2,a=this.ChartBorder.GetBottom());for(var r=this.Data.DataOffset,o=0;r<this.Data.Data.length&&o<n;++r,++o,i+=t+e){var s=this.Data.Data[r];if(null!=s.Open&&null!=s.High&&null!=s.Low&&null!=s.Close&&this.KLineColor.has(r)){var l=this.KLineColor.get(r);if(i+t>a)break;l.Color?(this.Canvas.strokeStyle=l.Color,this.Canvas.fillStyle=l.Color):(this.Canvas.strokeStyle=this.Color,this.Canvas.fillStyle=this.Color),s.Open<s.Close?this.DrawUpBarItem(s,i,t,l):s.Open>s.Close?this.DrawDownBarItem(s,i,t,l):this.DrawUnChangeBarItem(s,i,t,l)}}},this.DrawColorBar=function(){var t,e=!0===this.ChartFrame.IsHScreen,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=(t=this.ChartBorder.GetBorder()).LeftEx+a/2+Qe.FrameLeftMargin,r=t.RightEx,o=this.ChartFrame.XPointCount;e&&(n=(t=this.ChartBorder.GetHScreenBorder()).TopEx+a/2+Qe.FrameLeftMargin,r=t.BottomEx);for(var s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<o;++s,++l,n+=i+a){var h=this.Data.Data[s];if(h&&(Ce.IsNumber(h.Open)&&Ce.IsNumber(h.High)&&Ce.IsNumber(h.Low)&&Ce.IsNumber(h.Close))){var u=n,c=n+i;if(c>r)break;var d=u+(c-u)/2,f=this.GetYFromData(h.Low,!1),p=this.GetYFromData(h.High,!1),m=this.GetYFromData(h.Open,!1),v=this.GetYFromData(h.Close,!1),g=p;h.Open==h.Close?this.DrawKBar_Unchagne(h,i,this.Color,this.IsEmptyBar,d,g,u,c,f,p,m,v,e):this.DrawKBar_Custom(h,i,this.Color,this.IsEmptyBar,d,g,u,c,f,p,m,v,e)}}},this.DrawKBar_Unchagne=function(t,e,i,a,n,r,o,s,l,h,u,c,d){if(e>=4){if(e%2!=0&&(e-=1),this.Canvas.strokeStyle=i,this.Canvas.beginPath(),t.High>t.Close){if(d)this.Canvas.moveTo(r,R(n)),this.Canvas.lineTo(u,R(n));else{var f=R(o+e/2);this.Canvas.moveTo(f,r),this.Canvas.lineTo(f,u)}r=u}else r=u;if(d?(this.Canvas.moveTo(R(r),R(o)),this.Canvas.lineTo(R(r),R(s))):(this.Canvas.moveTo(R(o),R(r)),this.Canvas.lineTo(R(o+e),R(r))),t.Open>t.Low)if(d)this.Canvas.moveTo(R(r),R(n)),this.Canvas.lineTo(R(l),R(n));else{f=R(o+e/2);this.Canvas.moveTo(f,R(r)),this.Canvas.lineTo(f,R(l))}this.Canvas.stroke()}else this.Canvas.beginPath(),d?(this.Canvas.moveTo(h,R(n)),this.Canvas.lineTo(l,R(n))):(this.Canvas.moveTo(R(n),h),this.Canvas.lineTo(R(n),l)),this.Canvas.strokeStyle=i,this.Canvas.stroke()},this.DrawKBar_Custom=function(t,e,i,a,n,r,o,s,l,h,u,c,d){if(a&&e%2!=0&&(e-=1),e>=4){if(this.Canvas.strokeStyle=i,t.High>t.Close){if(this.Canvas.beginPath(),d)this.Canvas.moveTo(R(r),R(n)),this.Canvas.lineTo(R(a?Math.max(c,u):c),R(n));else if(a){var f=o+e/2;this.Canvas.moveTo(R(f),R(r)),this.Canvas.lineTo(R(f),R(Math.min(c,u)))}else this.Canvas.moveTo(R(n),R(r)),this.Canvas.lineTo(R(n),R(c));this.Canvas.stroke(),r=c}else r=c;if(this.Canvas.fillStyle=i,d?Math.abs(u-r)<1?this.Canvas.fillRect(k(r),k(o),1,k(e)):a?(this.Canvas.beginPath(),this.Canvas.rect(R(r),R(o),k(u-r),k(e)),this.Canvas.stroke()):this.Canvas.fillRect(k(r),k(o),k(u-r),k(e)):Math.abs(u-r)<1?this.Canvas.fillRect(k(o),k(r),k(e),1):a?(this.Canvas.beginPath(),this.Canvas.rect(R(o),R(r),k(e),k(u-r)),this.Canvas.stroke()):this.Canvas.fillRect(k(o),k(Math.min(r,u)),k(e),k(Math.abs(u-r))),t.Open>t.Low){if(this.Canvas.beginPath(),d)this.Canvas.moveTo(R(a?Math.min(c,u):r),R(n)),this.Canvas.lineTo(R(l),R(n));else if(a){f=o+e/2;this.Canvas.moveTo(R(f),R(Math.max(c,u))),this.Canvas.lineTo(R(f),R(l))}else this.Canvas.moveTo(R(n),R(r)),this.Canvas.lineTo(R(n),R(l));this.Canvas.stroke()}}else this.Canvas.beginPath(),d?(this.Canvas.moveTo(h,R(n)),this.Canvas.lineTo(l,R(n))):(this.Canvas.moveTo(R(n),h),this.Canvas.lineTo(R(n),l)),this.Canvas.strokeStyle=i,this.Canvas.stroke()},this.GetMaxMin=function(){var t={Max:null,Min:null};if("DRAWCOLORKLINE"==this.DrawName)for(var e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<e;++i,++a){var n=this.Data.Data[i];n&&(null!=n.Open&&null!=n.High&&null!=n.Low&&null!=n.Close&&(null==t.Max&&(t.Max=n.High),null==t.Min&&(t.Min=n.Low),t.Max<n.High&&(t.Max=n.High),t.Min>n.Low&&(t.Min=n.Low)))}return t}}var At={STATUS_NONE_ID:0,STATUS_REQUESTDATA_ID:1,STATUS_RECVDATA_ID:2,STATUS_FINISHED_ID:3};function _t(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartMinuteVolumBar",this.UpColor=Qe.UpBarColor,this.DownColor=Qe.DownBarColor,this.UnchangeColor=Qe.UnchagneBarColor,this.CustomColor=Qe.Minute.VolBarColor,this.YClose,this.Symbol,this.BeforeOpenData,this.AfterCloseData,this.BeforeVolColor=Qe.Minute.Before.VolColor,this.ShareAfterVol=0,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.PtInChart=function(t,e){return this.PtInBar(t,e,{MinuteVolBar:!0})},this.DrawSelectedStatus=function(){return this.DrawLinePoint({MinuteVolBar:!0})},this.Draw=function(){var t=!0===this.ChartFrame.IsHScreen;if(t)var e=this.ChartBorder.GetHScreenBorder().BottomEx;else e=this.ChartBorder.GetBorder().RightEx;this.DrawBeforeOpen(),this.DrawMultiDayBeforeOpen();var i=this.ChartFrame.XPointCount,a=this.ChartFrame.GetYFromData(0),n=this.YClose,r=this.Data,o=Ii.IsShowMinuteColorVolBar(this.Symbol);o&&(this.Canvas.strokeStyle=this.CustomColor);for(var s=r.DataOffset,l=0;s<r.Data.length&&l<i;++s,++l){var h,u=r.Data[s];if(u){var c;if(h=u.Vol,c=u.Close,h){var d=this.ChartFrame.GetYFromData(h),f=this.ChartFrame.GetXFromIndex(l);if(f>e)break;o||(this.Canvas.strokeStyle=c>=n?this.UpColor:this.DownColor),this.Canvas.beginPath(),t?(this.Canvas.moveTo(d,R(f)),this.Canvas.lineTo(a,R(f))):(this.Canvas.moveTo(R(f),d),this.Canvas.lineTo(R(f),a)),this.Canvas.stroke(),c&&(n=c)}}}this.DrawAfterClose(),this.DrawMultiDayAfterClose()},this.DrawBeforeOpen=function(){this.ChartBorder.LeftExtendWidth<10||this.BeforeOpenData&&this.DrawCallAuction(-1,this.BeforeOpenData,!0)},this.DrawAfterClose=function(){this.ChartBorder.RightExtendWidth<10||this.AfterCloseData&&this.DrawCallAuction(-1,this.AfterCloseData,!1)},this.DrawMultiDayBeforeOpen=function(){if(!(this.ChartBorder.MultiDayMinute.Count<=1||this.ChartBorder.MultiDayMinute.Left<=0)&&this.MultiDayBeforeOpenData){var t=0,e=this.MultiDayBeforeOpenData.length;this.DayOffset&&(Ce.IsNumber(this.DayOffset.Offset)&&(t=this.DayOffset.Offset),Ce.IsNumber(this.DayOffset.ShowDayCount)&&(e=this.DayOffset.ShowDayCount));for(var i=t,a=0;i<this.MultiDayBeforeOpenData.length&&a<e;++i,++a){var n=this.MultiDayBeforeOpenData[i];this.DrawCallAuction(a,n,!0)}}},this.DrawMultiDayAfterClose=function(){if(!(this.ChartBorder.MultiDayMinute.Count<=1||this.ChartBorder.MultiDayMinute.Right<=0)&&this.MultiDayAfterCloseData){var t=0,e=this.MultiDayAfterCloseData.length;this.DayOffset&&(Ce.IsNumber(this.DayOffset.Offset)&&(t=this.DayOffset.Offset),Ce.IsNumber(this.DayOffset.ShowDayCount)&&(e=this.DayOffset.ShowDayCount));for(var i=t,a=0;i<this.MultiDayAfterCloseData.length&&a<e;++i,++a){var n=this.MultiDayAfterCloseData[i];this.DrawCallAuction(a,n,!1)}}},this.DrawCallAuction=function(t,e,i){if(e){e.Index=t;var a=this.GetBorder(),n=!0===this.ChartFrame.IsHScreen,r=this.YClose,o=this.ChartFrame.GetYFromData(0);if(1==e.Ver)for(var s in e.Data){if((c=e.Data[s])&&Ce.IsNumber(c.Vol[0])){if(i)var l=this.ChartFrame.GetLeftExtendXFromIndex(s,e),h=this.ChartFrame.GetLeftExtendYFromData(c.Vol[0]);else l=this.ChartFrame.GetRightExtendXFromIndex(s,e),h=this.ChartFrame.GetRightExtendYFromData(c.Vol[0]);this.Canvas.strokeStyle=c.Price>=r?this.UpColor:this.DownColor,this.Canvas.beginPath(),n?(this.Canvas.moveTo(h,R(l)),this.Canvas.lineTo(o,R(l))):(this.Canvas.moveTo(R(l),h),this.Canvas.lineTo(R(l),o)),this.Canvas.stroke(),c.Price&&(r=c.Price)}}else if(2==e.Ver||3==e.Ver){var u={Max:e.VolMax,Min:e.VolMin};for(var s in e.Data){var c;if(c=e.Data[s]){if(Ce.IsPlusNumber(c.Vol[0])){if(i)l=this.ChartFrame.GetLeftExtendXFromIndex(s,e),h=this.ChartFrame.GetLeftExtendYFromData(c.Vol[0],!1,{Range:u});else{l=this.ChartFrame.GetRightExtendXFromIndex(s,e);if(1==this.ShareAfterVol)h=this.ChartFrame.GetYFromData(c.Vol[0]);else h=this.ChartFrame.GetRightExtendYFromData(c.Vol[0],!1,{Range:u})}this.Canvas.strokeStyle=this.GetBarColor(c.ColorID),this.Canvas.beginPath(),n?(this.Canvas.moveTo(h,R(l)),this.Canvas.lineTo(o,R(l))):(this.Canvas.moveTo(R(l),h),this.Canvas.lineTo(R(l),o)),this.Canvas.stroke()}if(Ce.IsPlusNumber(c.Vol[1])){if(i)l=this.ChartFrame.GetLeftExtendXFromIndex(s,e),h=this.ChartFrame.GetLeftExtendYFromData(c.Vol[1],!1,{Range:u});else{l=this.ChartFrame.GetRightExtendXFromIndex(s,e);if(1==this.ShareAfterVol)h=this.ChartFrame.GetYFromData(c.Vol[1]);else h=this.ChartFrame.GetRightExtendYFromData(c.Vol[1],!1,{Range:u})}this.Canvas.strokeStyle=this.GetBarColor(c.ColorID),this.Canvas.beginPath(),n?(h-=o,h=a.RightEx-h,this.Canvas.moveTo(h,R(l)),this.Canvas.lineTo(a.RightEx,R(l))):(h-=o,h=a.TopEx-h,this.Canvas.moveTo(R(l),h),this.Canvas.lineTo(R(l),a.TopEx)),this.Canvas.stroke()}}}}}},this.GetBarColor=function(t){switch(t){case 0:return this.UnchangeColor;case 1:return this.UpColor;case 2:return this.DownColor}if(this.BeforeVolColor&&Array.isArray(this.BeforeVolColor)){var e=t-3;if(e>=0&&e<this.BeforeVolColor.length)return this.BeforeVolColor[e]}return this.UnchangeColor},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset;this.ChartFrame.GlobalOption&&!0===this.ChartFrame.GlobalOption.IsValueFullRange&&(t=this.Data.Data.length,e=0);for(var i={Min:0,Max:null},a=e,n=0;a<this.Data.Data.length&&n<t;++a,++n){var r=this.Data.Data[a];r&&r.Vol&&(null==i.Max&&(i.Max=r.Vol),i.Max<r.Vol&&(i.Max=r.Vol))}return 1==this.ShareAfterVol&&(this.GetAfterCloseMaxMin(i),this.GetMultiDayAfterCloseMaxMin(i)),i},this.GetAfterCloseMaxMin=function(t){if(!(this.ChartBorder.RightExtendWidth<10)&&this.AfterCloseData){var e=this.AfterCloseData;(null==t.Max||t.Max<e.VolMax)&&(t.Max=e.VolMax)}},this.GetMultiDayAfterCloseMaxMin=function(t){if(!(this.ChartBorder.MultiDayMinute.Count<=1||this.ChartBorder.MultiDayMinute.Right<=0)&&this.MultiDayAfterCloseData)for(var e=0;e<this.MultiDayAfterCloseData.length;++e){var i=this.MultiDayAfterCloseData[e];2!=i.Ver&&3!=i.Ver||(null==t.Max||t.Max<i.VolMax)&&(t.Max=i.VolMax)}}}function Lt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartLine",this.Color="rgb(255,193,37)",this.LineWidth,this.DrawType=0,this.IsDotLine=!1,this.DrawSelectedStatus=this.DrawLinePoint,this.PtInChart=this.PtInLine,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&!this.IsShowIndexTitleOnly())if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data)switch(this.DrawType){case 0:return this.DrawLine();case 1:return this.DrawStraightLine()}},this.DrawLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());t&&(e=this.ChartBorder.GetBottom());var i=this.ChartFrame.XPointCount;this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*L()),this.IsDotLine&&this.Canvas.setLineDash(Qe.DOTLINE.LineDash);for(var a=!0,n=0,r=this.Data.DataOffset,o=0;r<this.Data.Data.length&&o<i;++r,++o){var s=this.Data.Data[r];if(null!=s){var l=this.ChartFrame.GetXFromIndex(o),h=this.GetYFromData(s);if(l>e)break;a?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(h,l):this.Canvas.moveTo(l,h),a=!1):t?this.Canvas.lineTo(h,l):this.Canvas.lineTo(l,h),++n}}n>0&&this.Canvas.stroke(),this.Canvas.restore()},this.DrawStraightLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.IsMinuteFrame(),i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=this.ChartFrame.XPointCount;if(t)var r=(s=this.ChartBorder.GetHScreenBorder()).BottomEx,o=s.TopEx+a/2+Qe.FrameLeftMargin;else{var s;o=(s=this.ChartBorder.GetBorder()).LeftEx+a/2+Qe.FrameLeftMargin,r=s.RightEx}var l=this.GetLockRect();l&&(r=t?l.Top:l.Left),this.Canvas.save(),this.ClipClient(t),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*L()),this.Canvas.strokeStyle=this.Color,this.IsDotLine&&this.Canvas.setLineDash(Qe.DOTLINE.LineDash);for(var h=!0,u=0,c=this.Data.DataOffset,d=0;c<this.Data.Data.length&&d<n;++c,++d,o+=i+a){var f=this.Data.Data[c];if(null!=f){if(e)var p=this.ChartFrame.GetXFromIndex(d);else{var m=o+i;if(m>r)break;p=o+(m-o)/2}var v=this.GetYFromData(f,!1);if(p>r)break;h?(this.Canvas.beginPath(),t?this.Canvas.moveTo(v,p):this.Canvas.moveTo(p,v),h=!1):t?this.Canvas.lineTo(v,p):this.Canvas.lineTo(p,v),++u}else u>0&&this.Canvas.stroke(),h=!0,u=0}u>0&&this.Canvas.stroke(),this.Canvas.restore()}}function Ft(){this.newMethod=Lt,this.newMethod(),delete this.newMethod,this.ClassName="ChartSubLine",this.Color="rgb(255,193,37)",this.LineWidth,this.DrawType=0,this.IsDotLine=!1,this.SubFrame={Max:null,Min:null},this.Draw=function(){if(this.IsShow&&this.Data&&this.Data.Data)switch(this.CalculateDataMaxMin(),this.DrawType){case 0:return this.DrawLine();case 1:return this.DrawStraightLine()}},this.GetYFromData=function(t){if(!0===this.ChartFrame.IsHScreen){if(t<=this.SubFrame.Min)return this.ChartBorder.GetLeftEx();if(t>=this.SubFrame.Max)return this.ChartBorder.GetRightEx();var e=this.ChartBorder.GetWidthEx()*(t-this.SubFrame.Min)/(this.SubFrame.Max-this.SubFrame.Min);return this.ChartBorder.GetLeftEx()+e}if(t<=this.SubFrame.Min)return this.ChartBorder.GetBottomEx();if(t>=this.SubFrame.Max)return this.ChartBorder.GetTopEx();var i=this.ChartBorder.GetHeightEx()*(t-this.SubFrame.Min)/(this.SubFrame.Max-this.SubFrame.Min);return this.ChartBorder.GetBottomEx()-i},this.CalculateDataMaxMin=function(){this.SubFrame={Max:null,Min:null};var t=!0===this.ChartFrame.IsHScreen,e=this.ChartBorder.GetRight();t&&(e=this.ChartBorder.GetBottom());for(var i=this.ChartFrame.XPointCount,a=this.Data.DataOffset,n=0;a<this.Data.Data.length&&n<i;++a,++n){var r=this.Data.Data[a];if(null!=r){if(this.ChartFrame.GetXFromIndex(n)>e)break;(null==this.SubFrame.Min||this.SubFrame.Min>r)&&(this.SubFrame.Min=r),(null==this.SubFrame.Max||this.SubFrame.Max<r)&&(this.SubFrame.Max=r)}}},this.GetMaxMin=function(){return{Min:null,Max:null}}}function Ot(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartPartLine",this.LineWidth,this.Draw=function(){this.IsShow&&!this.ChartFrame.IsMinSize&&(this.NotSupportMessage?this.DrawNotSupportmessage():this.Data&&this.Data.Data&&this.DrawLine())},this.DrawLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());t&&(e=this.ChartBorder.GetBottom());var i=this.ChartFrame.XPointCount;this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*L());for(var a,n=0,r={X:null,Y:null},o=!1,s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<i;++s,++l){var h=this.Data.Data[s];if(null!=h&&null!=h.Value){var u=h.Value,c=h.RGB,d=this.ChartFrame.GetXFromIndex(l),f=this.ChartFrame.GetYFromData(u);if(d>e)break;c!=a||1==o?(a&&n>0&&this.Canvas.stroke(),n=0,a=c,this.Canvas.strokeStyle=c,this.Canvas.beginPath(),null!=r.X&&null!=r.Y?(t?this.Canvas.moveTo(r.Y,r.X):this.Canvas.moveTo(r.X,r.Y),t?this.Canvas.lineTo(f,d):this.Canvas.lineTo(d,f),++n):t?this.Canvas.moveTo(f,d):this.Canvas.moveTo(d,f)):(t?this.Canvas.lineTo(f,d):this.Canvas.lineTo(d,f),++n),r.X=d,r.Y=f,o=!1}else r.X=null,r.Y=null,o=!0}n>0&&this.Canvas.stroke(),this.Canvas.restore()},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:null,Max:null},i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var n=this.Data.Data[i];n&&n.Value&&((null==e.Max||e.Max<n.Value)&&(e.Max=n.Value),(null==e.Min||e.Min>n.Value)&&(e.Min=n.Value))}return e}}function Pt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartStepLine",this.LineWidth=1,this.DotLine,this.IsHScreen,this.IsDotLine=!1,this.PtInChart=function(t,e){if(this.IsShow&&!this.ChartFrame.IsMinSize){var i=!0===this.ChartFrame.IsHScreen;if(!i){var a=this.IsMinuteFrame(),n=this.ChartFrame.DataWidth,r=this.ChartFrame.DistanceWidth,o=this.ChartFrame.XPointCount,s=this.GetLockRect();if(i){var l=(u=this.ChartBorder.GetHScreenBorder()).BottomEx,h=u.TopEx+r/2+Qe.FrameLeftMargin;s&&(l=s.Top)}else{var u;h=(u=this.ChartBorder.GetBorder()).LeftEx+r/2+Qe.FrameLeftMargin,l=u.RightEx;s&&(l=s.Left)}if(t<h||t>l)return null;if(e>u.BottomEx||e<u.TopEx)return null;for(var c={},d={},f=this.Data.DataOffset;f>=0;--f){var p=this.Data.Data[f];if(Ce.IsNumber(p)){var m=this.GetYFromData(p,!1),v=null;v=a?this.ChartFrame.GetXFromIndex(0):h,c.Y=m,c.X=v}}f=this.Data.DataOffset;for(var g=0;f<this.Data.Data.length&&g<o;++f,++g,h+=n+r){p=this.Data.Data[f];if(Ce.IsNumber(p)){if(a)var C=this.ChartFrame.GetXFromIndex(g);else{var D=h+n;if(D>l)break;C=h+(D-h)/2}var y=this.GetYFromData(p,!1);if(!(C<t)){if(C==t){c.X=d.X=C,c.Y=d.Y=y;break}d.X=C,d.Y=y;break}if(c.X=C,c.Y=y,t>l)break}}return Ce.IsNumber(c.X)&&Ce.IsNumber(c.Y)&&Ce.IsNumber(d.X)&&Ce.IsNumber(d.Y)?t==c.X||e==c.Y?{Identify:this.Identify,Chart:this}:t==d.X||e==d.Y?{Identify:this.Identify,Chart:this}:t>=c.X&&t<=d.X&&e>=c.Y-3&&e<=c.Y+3?{Identify:this.Identify,Chart:this}:t>=d.X-3&&t<=d.X+3&&e>=Math.min(c.Y,d.Y)&&e<Math.max(c.Y,d.Y)?{Identify:this.Identify,Chart:this}:null:null}}},this.Draw=function(){this.IsShow&&!this.ChartFrame.IsMinSize&&(this.NotSupportMessage?this.DrawNotSupportmessage():this.Data&&this.Data.Data&&(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.Canvas.save(),this.ClipClient(this.IsHScreen),this.DrawLine(),this.Canvas.restore()))},this.DrawLine=function(){var t=this.IsMinuteFrame(),e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount,n=this.GetLockRect();if(this.IsHScreen){var r=(s=this.ChartBorder.GetHScreenBorder()).BottomEx,o=s.TopEx+i/2+Qe.FrameLeftMargin;n&&(r=n.Top)}else{var s;o=(s=this.ChartBorder.GetBorder()).LeftEx+i/2+Qe.FrameLeftMargin,r=s.RightEx;n&&(r=n.Left)}this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*L()),this.IsDotLine&&this.Canvas.setLineDash(Qe.DOTLINE.LineDash),this.DotLine&&this.Canvas.setLineDash(this.DotLine),this.Canvas.strokeStyle=this.Color;for(var l=!0,h=0,u={X:null,Y:null},c=this.Data.DataOffset;c>=0;--c){var d=this.Data.Data[c];if(Ce.IsNumber(d)){var f=this.GetYFromData(d,!1),p=null;p=t?this.ChartFrame.GetXFromIndex(0):o,this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(f,p):this.Canvas.moveTo(p,f),l=!1,u.Y=f,u.X=p}}c=this.Data.DataOffset;for(var m=0;c<this.Data.Data.length&&m<a;++c,++m,o+=e+i){if(t)p=this.ChartFrame.GetXFromIndex(m);else{var v=o+e;if(v>r)break;p=o+(v-o)/2}if(p>r)break;d=this.Data.Data[c];if(Ce.IsNumber(d)){f=this.GetYFromData(d,!1);l?(this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(f,p):this.Canvas.moveTo(p,f),l=!1,u.X=p,u.Y=f):(this.IsHScreen?(this.Canvas.lineTo(u.Y,p),this.Canvas.lineTo(f,p)):(this.Canvas.lineTo(p,u.Y),this.Canvas.lineTo(p,f)),u.X=p,u.Y=f),++h}}h>0&&this.Canvas.stroke()},this.DrawSelectedStatus=function(){this.DrawLinePoint()}}function Nt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartPointDot",this.Color="rgb(255,193,37)",this.Radius=1,this.EnableUpDownColor=!1,this.HistoryData,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize)if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());!0===t&&(e=this.ChartBorder.GetBottom());var i,a=this.ChartFrame.XPointCount;this.Canvas.save(),this.Canvas.fillStyle=this.Color;for(var n=this.Data.DataOffset,r=0;n<this.Data.Data.length&&r<a;++n,++r){var o=this.Data.Data[n];if(null!=o){var s=this.ChartFrame.GetXFromIndex(r),l=this.ChartFrame.GetYFromData(o);if(s>e)break;if(this.EnableUpDownColor)i=this.HistoryData.Data[n].Close>o?"rgb(255,61,61)":"rgb(0,199,65)",this.Canvas.fillStyle=i;this.Canvas.beginPath(),t?this.Canvas.arc(l,s,this.Radius,0,2*Math.PI,!0):this.Canvas.arc(s,l,this.Radius,0,2*Math.PI,!0),this.Canvas.closePath(),this.Canvas.fill()}}this.Canvas.restore()}}}function Rt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.Color="rgb(255,193,37)",this.LineWidth,this.ClassName="ChartStick",this.DrawLine=function(){if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());!0===t&&(e=this.ChartBorder.GetBottom());var i=this.ChartFrame.XPointCount;this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*L());for(var a=!0,n=0,r=this.Data.DataOffset,o=0;r<this.Data.Data.length&&o<i;++r,++o){var s=this.Data.Data[r];if(null!=s){var l=this.ChartFrame.GetXFromIndex(o),h=this.ChartFrame.GetYFromData(s);if(l>e)break;a?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(h,l):this.Canvas.moveTo(l,h),a=!1):t?this.Canvas.lineTo(h,l):this.Canvas.lineTo(l,h),++n}}n>0&&this.Canvas.stroke(),this.Canvas.restore()}},this.DrawStick=function(){if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartBorder.GetRight();t&&(e=this.ChartBorder.GetBottom());var i=this.ChartFrame.XPointCount,a=this.ChartBorder.GetBottom(),n=this.ChartBorder.GetLeft();this.Canvas.save(),this.Canvas.strokeStyle=this.Color,this.LineWidth&&(this.Canvas.lineWidth=this.LineWidth*L());for(var r=this.Canvas.lineWidth,o=this.Data.DataOffset,s=0;o<this.Data.Data.length&&s<i;++o,++s){var l=this.Data.Data[o];if(null!=l){var h=this.ChartFrame.GetXFromIndex(s),u=this.ChartFrame.GetYFromData(l);if(h>e)break;if(this.Canvas.beginPath(),t)this.Canvas.moveTo(n,h),this.Canvas.lineTo(u,h),this.Canvas.stroke();else{var c=B(r,h);this.Canvas.moveTo(c,u),this.Canvas.lineTo(c,a)}this.Canvas.stroke()}}this.Canvas.restore()}},this.Draw=function(){this.IsShow&&!this.ChartFrame.IsMinSize&&(this.NotSupportMessage?this.DrawNotSupportmessage():this.Data&&this.Data.Data&&this.DrawStick())}}function Bt(){this.newMethod=Rt,this.newMethod(),delete this.newMethod,this.ClassName="ChartLineStick",this.Draw=function(){this.IsShow&&!this.ChartFrame.IsMinSize&&(this.NotSupportMessage?this.DrawNotSupportmessage():(this.DrawStick(),this.DrawLine()))}}function kt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.UpColor=Qe.UpBarColor,this.DownColor=Qe.DownBarColor,this.HistoryData,this.KLineDrawType=0,this.ClassName="ChartVolStick",this.PtInChart=this.PtInBar,this.DrawSelectedStatus=this.DrawLinePoint,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&!this.IsShowIndexTitleOnly())if(!0!==this.ChartFrame.IsHScreen){var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetBorder(),a=i.LeftEx+e/2+Qe.FrameLeftMargin,n=i.RightEx,r=this.ChartFrame.XPointCount,o=this.GetLockRect();o&&(n=o.Left);var s=this.IsMinuteFrame(),l=this.ChartFrame.GetYFromData(0);if(t>=4){l=k(l);for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<r;++h,++u,a+=t+e){var c=this.Data.Data[h],d=this.HistoryData.Data[h];if(null!=c&&null!=d){var f=a;if(a+t>n)break;var p=this.ChartFrame.GetYFromData(c),m=(C=this.GetBarColor(d)).IsUp;this.Canvas.fillStyle=C.Color;var v=k(Math.abs(l-p)>=1?l-p:1);p=l-v,6==this.KLineDrawType?(this.Canvas.strokeStyle=C.Color,this.Canvas.beginPath(),this.Canvas.rect(R(f),R(p),k(t),v),this.Canvas.stroke()):!m||1!=this.KLineDrawType&&2!=this.KLineDrawType&&3!=this.KLineDrawType?this.Canvas.fillRect(k(f),p,k(t),v):(this.Canvas.strokeStyle=this.UpColor,this.Canvas.beginPath(),this.Canvas.rect(R(f),R(p),k(t),v),this.Canvas.stroke())}}}else for(h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<r;++h,++u,a+=t+e){c=this.Data.Data[h],d=this.HistoryData.Data[h];if(null!=c&&null!=d){p=this.ChartFrame.GetYFromData(c);if(s)var g=this.ChartFrame.GetXFromIndex(u);else g=(f=a)+(a+t-f)/2;if(g>n)break;var C=this.GetBarColor(d);this.Canvas.strokeStyle=C.Color;g=this.ChartFrame.GetXFromIndex(u);this.Canvas.beginPath(),this.Canvas.moveTo(R(g),p),this.Canvas.lineTo(R(g),l),this.Canvas.stroke()}}}else this.HScreenDraw()},this.HScreenDraw=function(){var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetHScreenBorder(),a=i.TopEx+e/2+Qe.FrameLeftMargin,n=i.BottomEx,r=this.ChartFrame.XPointCount,o=this.GetLockRect();o&&(n=o.Top);var s=this.ChartFrame.GetYFromData(0);if(t>=4){s=k(s);for(var l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<r;++l,++h,a+=t+e){var u=this.Data.Data[l],c=this.HistoryData.Data[l];if(null!=u&&null!=c){var d=a;if(a+t>n)break;var f=this.ChartFrame.GetYFromData(u),p=!1;c.Close>=c.Open?(p=!0,this.Canvas.fillStyle=this.UpColor):this.Canvas.fillStyle=this.DownColor;var m=k(f-s);!p||1!=this.KLineDrawType&&2!=this.KLineDrawType&&3!=this.KLineDrawType?this.Canvas.fillRect(s,k(d),m,k(t)):(this.Canvas.strokeStyle=this.UpColor,this.Canvas.beginPath(),this.Canvas.rect(R(s),R(d),m,k(t)),this.Canvas.stroke())}}}else for(l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<r;++l,++h,a+=t+e){u=this.Data.Data[l],c=this.HistoryData.Data[l];if(null!=u&&null!=c){f=this.ChartFrame.GetYFromData(u);if((v=this.ChartFrame.GetXFromIndex(h))>n)break;c.Close>c.Open?this.Canvas.strokeStyle=this.UpColor:this.Canvas.strokeStyle=this.DownColor;var v=this.ChartFrame.GetXFromIndex(h);this.Canvas.beginPath(),this.Canvas.moveTo(f,R(v)),this.Canvas.lineTo(s,R(v)),this.Canvas.stroke()}}},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:0,Max:null},i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var n=this.Data.Data[i];null==e.Max&&(e.Max=n),e.Max<n&&(e.Max=n)}return e},this.GetBarColor=function(t){return t.Close>=t.Open?{Color:this.UpColor,IsUp:!0}:{Color:this.DownColor,IsUp:!1}}}function Vt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartVericaltLine",this.LineWidth=2,this.LineCap,this.Draw=function(){if(!this.ChartFrame.IsMinSize){var t=1==this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.GetBorder(),n=this.ChartFrame.XPointCount;if(t)var r=a.RightEx,o=a.LeftEx,s=a.TopEx+i/2+Qe.FrameLeftMargin;else r=a.TopEx,o=a.BottomEx,s=a.LeftEx+i/2+Qe.FrameLeftMargin;this.Canvas.save(),this.Canvas.strokeStyle=this.Color,this.LineType&&this.Canvas.setLineDash(this.LineType),this.LineCap&&(this.Canvas.lineCap=this.LineCap),this.Canvas.beginPath();var l=this.Canvas.lineWidth;this.LineWidth>0&&(l=this.LineWidth*L(),this.Canvas.lineWidth=l);for(var h=0,u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<n;++u,++c,s+=e+i){if(this.Data.Data[u]){var d=s+e/2;d=B(l,d),t?(this.Canvas.moveTo(r,d),this.Canvas.lineTo(o,d)):(this.Canvas.moveTo(d,r),this.Canvas.lineTo(d,o)),++h}}h>0&&this.Canvas.stroke(),this.Canvas.restore()}},this.GetMaxMin=function(){return{Min:null,Max:null}}}function Ht(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartHorizontalLine",this.LineWidth=2,this.LineCap,this.ExtendType=0,this.Draw=function(){if(!this.ChartFrame.IsMinSize){var t=1==this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.GetBorder(),n=this.ChartFrame.XPointCount;if(t)var r=a.TopEx,o=a.BottomEx,s=a.TopEx+i/2+Qe.FrameLeftMargin;else r=a.LeftEx,o=a.RightEx,s=a.LeftEx+i/2+Qe.FrameLeftMargin;this.Canvas.save(),this.Canvas.strokeStyle=this.Color,this.LineType&&this.Canvas.setLineDash(this.LineType),this.LineCap&&(this.Canvas.lineCap=this.LineCap),this.Canvas.beginPath();var l=this.Canvas.lineWidth;this.LineWidth>0&&(l=this.LineWidth*L(),this.Canvas.lineWidth=l);for(var h=0,u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<n;++u,++c,s+=e+i){var d=this.Data.Data[u];if(d&&Ce.IsNumber(d)){var f=this.ChartFrame.GetYFromData(d);f=B(l,f);var p=s+e/2;p=B(l,p),3==this.ExtendType?t?(this.Canvas.moveTo(f,r),this.Canvas.lineTo(f,o)):(this.Canvas.moveTo(r,f),this.Canvas.lineTo(o,f)):1==this.ExtendType?t?(this.Canvas.moveTo(f,r),this.Canvas.lineTo(f,p)):(this.Canvas.moveTo(r,f),this.Canvas.lineTo(p,f)):t?(this.Canvas.moveTo(f,p),this.Canvas.lineTo(f,o)):(this.Canvas.moveTo(p,f),this.Canvas.lineTo(o,f)),++h}}h>0&&this.Canvas.stroke(),this.Canvas.restore()}}}function Gt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartLineMultiData",this.Color="rgb(255,193,37)",this.PointColor,this.PointRadius,this.LineWidth,this.Draw=function(){if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());t&&(e=this.ChartBorder.GetBottom());var i=this.ChartFrame.XPointCount;this.Canvas.save(),Ce.IsPlusNumber(this.LineWidth)&&(this.Canvas.lineWidth=this.LineWidth*L());for(var a,n=!0,r=0,o=[],s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<i;++s,++l){var h=this.Data.Data[s];if(h){var u=this.ChartFrame.GetXFromIndex(l);if(u>e)break;a=Array.isArray(h)?h:[h];for(var c=0;c<a.length;++c){var d=a[c];if(d){var f=d.Value,p=this.ChartFrame.GetYFromData(f);n?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(p,u):this.Canvas.moveTo(u,p),n=!1,1===d.Type&&o.push({X:u,Y:p})):(t?this.Canvas.lineTo(p,u):this.Canvas.lineTo(u,p),1===d.Type&&o.push({X:u,Y:p})),++r}}}}r>0&&this.Canvas.stroke(),this.DrawPoint(o),this.Canvas.restore()}},this.DrawPoint=function(t){if(this.PointColor&&Ce.IsPlusNumber(this.PointRadius))for(var e=this.PointRadius*L(),i=0;i<t.length;++i){var a=t[i];this.Canvas.beginPath(),this.Canvas.arc(a.X,a.Y,e,0,360,!1),this.Canvas.fillStyle=this.PointColor,this.Canvas.fill(),this.Canvas.closePath()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={Min:null,Max:null};if(!this.Data||!this.Data.Data)return e;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var n=this.Data.Data[i];if(n){var r;r=Array.isArray(n)?n:[n];for(a=0;a<r.length;++a){var o=r[a].Value;Ce.IsNumber(o)&&(null==e.Max&&(e.Max=o),null==e.Min&&(e.Min=o),e.Max<o&&(e.Max=o),e.Min>o&&(e.Min=o))}}}return e}}function Yt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartStickLine",this.Color="rgb(255,193,37)",this.BarType=0,this.LineDotted=[3,3],this.Width=0,this.SetEmptyBar=function(){if(1!=this.BarType&&-1!=this.BarType)return!1;this.Canvas.lineWidth=L(),this.Canvas.strokeStyle=this.Color;var t=Qe.EmptyBarBGColor;return t&&(this.Canvas.fillStyle=t),-1==this.BarType&&this.Canvas.setLineDash(this.LineDotted),!0},this.IsEmptyBar=function(){return 1==this.BarType||-1==this.BarType},this.Draw=function(){if(!this.ChartFrame.IsMinSize)if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetRight();this.ChartFrame.ZoomIndex;t&&(a=this.ChartBorder.GetBottom());var n=this.ChartFrame.XPointCount,r=this.ChartBorder.GetLeft()+i/2+Qe.FrameLeftMargin;t&&(r=this.ChartBorder.GetTop()+i/2+Qe.FrameLeftMargin);var o=this.IsMinuteFrame();this.Canvas.save();var s=!1,l=!1,h=Qe.EmptyBarBGColor;if(o)this.Width>1?this.Canvas.lineWidth=2*L():this.Canvas.lineWidth=L(),this.Canvas.strokeStyle=this.Color;else if(0==this.Width)this.SetEmptyBar();else if(3==this.Width||50==this.Width)e>=4?(l=!0,this.SetEmptyBar(),this.IsEmptyBar()||(this.Canvas.fillStyle=this.Color),this.Canvas.strokeStyle=this.Color):(this.Canvas.lineWidth=L(),this.Canvas.strokeStyle=this.Color);else if(101==this.Width){var u=e+i+1*L();this.Canvas.lineWidth=u,this.Canvas.strokeStyle=this.Color}else if(this.Width<=3){var c=2*L();(d=e*(this.Width/3))<c&&(d=c),this.SetEmptyBar(),this.IsEmptyBar()||(this.Canvas.fillStyle=this.Color),s=!0}else{var d=this.Width*L()+e;this.SetEmptyBar(),this.IsEmptyBar()||(this.Canvas.fillStyle=this.Color),s=!0}for(var f=this.Data.DataOffset,p=0;f<this.Data.Data.length&&p<n;++f,++p,r+=e+i){var m=this.Data.Data[f];if(null!=m){var v=m.Value,g=m.Value2;if(null==g&&(g=0),o)var C=this.ChartFrame.GetXFromIndex(p);else C=(x=r)+(r+e-x)/2;var D=this.ChartFrame.GetYFromData(v),y=this.ChartFrame.GetYFromData(g);if(C>a)break;if(s)if(t){var x=C-d/2,S=d;this.IsEmptyBar()?(this.Canvas.beginPath(),this.Canvas.rect(R(Math.min(D,y)),R(x),k(Math.abs(D-y)),k(S)),this.Canvas.stroke()):this.Canvas.fillRect(k(Math.min(D,y)),k(x),k(Math.abs(D-y)),k(S))}else{(x=C-d/2)+(S=d)>a&&(S=a-x),this.IsEmptyBar()?(h&&this.Canvas.fillRect(k(x),k(Math.min(D,y)),k(S),k(Math.abs(D-y))),this.Canvas.beginPath(),this.Canvas.rect(R(x),R(Math.min(D,y)),k(S),k(Math.abs(D-y))),this.Canvas.stroke()):this.Canvas.fillRect(k(x),k(Math.min(D,y)),k(S),k(Math.abs(D-y)))}else if(l)this.IsEmptyBar()?t?(this.Canvas.beginPath(),this.Canvas.rect(R(Math.min(D,y)),R(r),k(Math.abs(D-y)),k(e)),this.Canvas.stroke()):(h&&this.Canvas.fillRect(k(r),k(Math.min(D,y)),k(e),k(Math.abs(D-y))),this.Canvas.beginPath(),this.Canvas.rect(R(r),R(Math.min(D,y)),k(e),k(Math.abs(D-y))),this.Canvas.stroke()):t?this.Canvas.fillRect(k(Math.min(D,y)),k(r),k(Math.abs(D-y)),k(e)):this.Canvas.fillRect(k(r),k(Math.min(D,y)),k(e),k(Math.abs(D-y)));else if(t)this.Canvas.beginPath(),this.Canvas.moveTo(D,R(C)),this.Canvas.lineTo(y,R(C)),this.Canvas.stroke();else{var I=parseInt(C.toString())+.5;this.Canvas.beginPath(),this.Canvas.moveTo(I,D),this.Canvas.lineTo(I,y),this.Canvas.stroke()}}}this.Canvas.restore()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={Min:null,Max:null};if(!this.Data||!this.Data.Data)return e;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var n=this.Data.Data[i];if(null!=n){var r=n.Value2;if(null==r&&(r=0),null!=n&&!isNaN(n.Value)&&!isNaN(r)){var o=Math.max(n.Value,r),s=Math.min(n.Value,r);null==e.Max&&(e.Max=o),null==e.Min&&(e.Min=s),e.Max<o&&(e.Max=o),e.Min>s&&(e.Min=s)}}}return e}}function Wt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartSingleText",this.Color="rgb(255,193,37)",this.TextFont="14px 微软雅黑",this.Text,this.TextAlign="left",this.TextBG,this.Direction=0,this.FixedFontSize=-1,this.YOffset=0,this.Position,this.IconFont,this.IconSize={Max:Qe.DRAWICON.Icon.MaxSize,Min:Qe.DRAWICON.Icon.MinSize,Zoom:{Type:Qe.DRAWICON.Icon.Zoom.Type,Value:Qe.DRAWICON.Icon.Zoom.Value},YOffset:Qe.DRAWICON.Icon.YOffset},this.TextSize={Max:Qe.DRAWICON.Text.MaxSize,Min:Qe.DRAWICON.Text.MinSize,Zoom:{Type:Qe.DRAWICON.Text.Zoom.Type,Value:Qe.DRAWICON.Text.Zoom.Value},FontName:Qe.DRAWICON.Text.FontName,YOffset:Qe.DRAWICON.Text.YOffset},this.Font={DRAWTEXT_FIX:Qe.DRAWTEXT_FIX.Font,DRAWNUMBER_FIX:Qe.DRAWNUMBER_FIX.Font},this.ReloadResource=function(t){"DRAWTEXT"==this.Name?this.TextSize={Max:Qe.DRAWTEXT.MaxSize,Min:Qe.DRAWTEXT.MinSize,Zoom:{Type:Qe.DRAWTEXT.Zoom.Type,Value:Qe.DRAWTEXT.Zoom.Value},FontName:Qe.DRAWTEXT.FontName,YOffset:Qe.DRAWTEXT.YOffset}:"DRAWNUMBER"==this.Name?this.TextSize={Max:Qe.DRAWNUMBER.MaxSize,Min:Qe.DRAWNUMBER.MinSize,Zoom:{Type:Qe.DRAWNUMBER.Zoom.Type,Value:Qe.DRAWNUMBER.Zoom.Value},FontName:Qe.DRAWNUMBER.FontName,YOffset:Qe.DRAWNUMBER.YOffset}:"DRAWTEXT_FIX"==this.Name?this.Font.DRAWTEXT_FIX=Qe.DRAWTEXT_FIX.Font:"DRAWNUMBER_FIX"==this.Name&&(this.Font.DRAWNUMBER_FIX=Qe.DRAWNUMBER_FIX.Font)},this.SuperGetMaxMin=this.GetMaxMin,this.GetMaxMin=function(){return"DRAWTEXT_FIX"==this.Name||"DRAWNUMBER_FIX"==this.Name?{Min:null,Max:null}:"DRAWTEXTREL"==this.Name||"DRAWTEXTABS"==this.Name?{Min:null,Max:null}:this.SuperGetMaxMin()},this.DrawRectText=function(){if(this.DrawData){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.GetBorder();if("DRAWTEXTREL"==this.Name)if(t)var i=e.RightTitle-e.LeftEx,a=e.BottomEx-e.TopEx,n=this.DrawData.Point.X/1e3*a+e.TopEx,r=e.RightTitle-this.DrawData.Point.Y/1e3*a;else a=e.RightEx-e.LeftEx,i=e.BottomEx-e.TopTitle,n=this.DrawData.Point.X/1e3*a+e.LeftEx,r=this.DrawData.Point.Y/1e3*i+e.TopTitle;else{if("DRAWTEXTABS"!=this.Name)return;if(t)n=this.DrawData.Point.X+e.TopEx,r=e.RightTitle-this.DrawData.Point.Y;else n=this.DrawData.Point.X+e.LeftEx,r=this.DrawData.Point.Y+e.TopTitle}1==this.Direction?this.Canvas.textBaseline="bottom":2==this.Direction?this.Canvas.textBaseline="top":this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.Color,this.DrawText(this.DrawData.Text,n,r,t)}},this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize)if(this.NotSupportMessage)this.DrawNotSupportmessage();else if("DRAWTEXTREL"!=this.Name&&"DRAWTEXTABS"!=this.Name){if(this.Position)this.DrawPosition();else if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.IsMinuteFrame(),i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=this.ChartBorder.GetLeft()+a/2+Qe.FrameLeftMargin,r=this.ChartBorder.GetRight(),o=this.ChartBorder.GetTopEx(),s=this.ChartBorder.GetBottomEx();t&&(r=this.ChartBorder.GetBottom(),o=this.ChartBorder.GetRightEx(),s=this.ChartBorder.GetLeftEx(),n=this.ChartBorder.GetTop()+a/2+Qe.FrameLeftMargin);var l=this.ChartFrame.XPointCount,h=Array.isArray(this.Text),u=L(),c={Text:{},Font:{}};if(1==this.Direction?(this.Canvas.textBaseline="bottom",c.Text={Baseline:"bottom"}):2==this.Direction?(this.Canvas.textBaseline="top",c.Text={Baseline:"top"}):(this.Canvas.textBaseline="middle",c.Text={Baseline:"middle"}),this.IconFont){if(this.Color=this.IconFont.Color,this.Text=this.IconFont.Text,this.FixedFontSize>0)var d=this.FixedFontSize;else d=this.GetDynamicIconSize(i,a,this.IconSize.Max,this.IconSize.Min,this.IconSize.Zoom);this.Canvas.font=d+"px "+this.IconFont.Family}else this.FixedFontSize>0?this.TextFont=this.FixedFontSize+"px "+this.TextSize.FontName:this.TextFont=this.GetDynamicFont(i,a,this.TextSize.Max,this.TextSize.Min,this.TextSize.Zoom,this.TextSize.FontName),this.Canvas.font=this.TextFont;c.Font={Height:this.GetFontHeight()};for(var f=this.Data.DataOffset,p=0;f<this.Data.Data.length&&p<l;++f,++p,n+=i+a){var m=this.Data.Data[f];if(null!=m){if(e)var v=this.ChartFrame.GetXFromIndex(p);else{var g=n+i;if(g>r)break;v=n+(g-n)/2}var C=this.ChartFrame.GetYFromData(m);if(v>r)break;if(this.Canvas.textAlign=this.TextAlign,this.Canvas.fillStyle=this.Color,c.Text.Color=this.Color,c.Text.Align=this.TextAlign,c.X=v,c.Y=C,this.YOffset>0&&this.Direction>0){var D=C;this.Canvas.setLineDash([5,10]),this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?(1==this.Direction?(C=o-this.YOffset*u,D+=5*u):(C=s+this.YOffset*u,D-=5*u),this.Canvas.moveTo(R(D),R(v)),this.Canvas.lineTo(R(C),R(v))):(1==this.Direction?(C=o+this.YOffset*u,D+=5*u):(C=s-this.YOffset*u,D-=5*u),this.Canvas.moveTo(R(v),R(D)),this.Canvas.lineTo(R(v),R(C))),this.Canvas.stroke(),this.Canvas.setLineDash([])}if(h){var y=this.Text[f];if(!y)continue;"DRAWNUMBER"==this.Name&&(1==this.Direction?C-=Qe.DRAWABOVE.YOffset*u:2==this.Direction&&(C+=this.TextSize.YOffset*u)),"DRAWTEXT"==this.Name?this.DrawTextV2(y,c,t):this.DrawText(y,v,C,t)}else"DRAWICON"==this.Name?1==this.Direction?C-=Qe.DRAWABOVE.YOffset*u:2==this.Direction&&(this.IconFont?C+=this.IconSize.YOffset*u:C+=this.TextSize.YOffset*u):"DRAWTEXT"==this.Name&&(1==this.Direction?C-=Qe.DRAWABOVE.YOffset*u:2==this.Direction&&(C+=this.TextSize.YOffset*u)),"DRAWTEXT"==this.Name?this.DrawTextV2(this.Text,c,t):this.DrawText(this.Text,v,C,t)}}}}else this.DrawRectText()},this.DrawPosition=function(){if(this.Text){var t=!0===this.ChartFrame.IsHScreen;if(t)var e=this.ChartBorder.GetRightEx()-this.ChartBorder.GetWidthEx()*this.Position.Y,i=this.ChartBorder.GetTop()+this.ChartBorder.GetHeight()*this.Position.X;else i=this.ChartBorder.GetLeft()+this.ChartBorder.GetWidth()*this.Position.X,e=this.ChartBorder.GetTopEx()+this.ChartBorder.GetHeightEx()*this.Position.Y;if(this.Canvas.fillStyle=this.Color,"DRAWTEXT_FIX"==this.Name?this.Canvas.font=this.Font.DRAWTEXT_FIX:"DRAWNUMBER_FIX"==this.Name&&(this.Canvas.font=this.Font.DRAWNUMBER_FIX),0==this.Position.Type?this.Canvas.textAlign="left":1==this.Position.Type?this.Canvas.textAlign="right":this.Canvas.textAlign="center",1==this.Direction?this.Canvas.textBaseline="bottom":2==this.Direction?this.Canvas.textBaseline="top":this.Canvas.textBaseline="middle",Array.isArray(this.Text)){if(!this.Data||!this.Data.Data)return;for(var a=this.ChartFrame.XPointCount,n=this.Data.DataOffset,r=0;n<this.Data.Data.length&&r<a;++n,++r){var o=this.Text[n];if(o){this.DrawText(o,i,e,t);break}}}else this.DrawText(this.Text,i,e,t)}},this.DrawText=function(t,e,i,a){a?(this.Canvas.save(),this.Canvas.translate(i,e),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(t,0,0),this.Canvas.restore()):this.Canvas.fillText(t,e,i)},this.DrawTextV2=function(t,e,i){var a=this.Canvas.measureText(t).width;if(i){var n=e.Y,r=e.X;if("right"==e.Text.Align?r-=a:"center"==e.Text.Align&&(r-=a/2),"top"==e.Text.Baseline?n-=e.Font.Height:"middle"==e.Text.Baseline&&(n-=e.Font.Height/2),this.TextBG&&(this.TextBG.Color||this.TextBG.Border)){var o=n-(u=this.TextBG.Margin)[0],s=r-u[2],l=a+u[2]+u[3],h=e.Font.Height+u[0]+u[1];this.TextBG.Color&&(this.Canvas.fillStyle=this.TextBG.Color,this.Canvas.fillRect(o,s,h,l)),this.TextBG.Border&&(this.Canvas.strokeStyle=this.TextBG.Border,this.Canvas.strokeRect(R(o),R(s),k(h),k(l)))}this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left",this.Canvas.fillStyle=e.Text.Color,this.Canvas.save(),this.Canvas.translate(n,r),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(t,0,0),this.Canvas.restore()}else{n=e.X,r=e.Y;if("right"==e.Text.Align?n-=a:"center"==e.Text.Align&&(n-=a/2),"top"==e.Text.Baseline?r+=e.Font.Height:"middle"==e.Text.Baseline&&(r+=e.Font.Height/2),this.TextBG&&(this.TextBG.Color||this.TextBG.Border)){var u;o=n-(u=this.TextBG.Margin)[2],s=r-e.Font.Height-u[1],l=a+u[2]+u[3],h=e.Font.Height+u[0]+u[1];this.TextBG.Color&&(this.Canvas.fillStyle=this.TextBG.Color,this.Canvas.fillRect(o,s,l,h)),this.TextBG.Border&&(this.Canvas.strokeStyle=this.TextBG.Border,this.Canvas.strokeRect(R(o),R(s),k(l),k(h)))}this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left",this.Canvas.fillStyle=e.Text.Color,this.Canvas.fillText(t,n,r)}}}function Xt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawText",this.Color="rgb(255,193,37)",this.TextFont="14px 微软雅黑",this.TextBaseline="middle",this.TextAlign="left",this.Text,this.TextBG,this.FixedFontSize=-1,this.YOffset=0,this.FixedPosition=-1,this.VerticalLine,this.TextSize={Max:Qe.DRAWICON.Text.MaxSize,Min:Qe.DRAWICON.Text.MinSize,Zoom:{Type:Qe.DRAWICON.Text.Zoom.Type,Value:Qe.DRAWICON.Text.Zoom.Value},FontName:Qe.DRAWICON.Text.FontName,YOffset:Qe.DRAWICON.Text.YOffset},this.ReloadResource=function(t){this.TextSize={Max:Qe.DRAWTEXT.MaxSize,Min:Qe.DRAWTEXT.MinSize,Zoom:{Type:Qe.DRAWTEXT.Zoom.Type,Value:Qe.DRAWTEXT.Zoom.Value},FontName:Qe.DRAWTEXT.FontName,YOffset:Qe.DRAWTEXT.YOffset}},this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize)if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.IsMinuteFrame(),i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=this.ChartBorder.GetLeft()+a/2+Qe.FrameLeftMargin,r=this.ChartBorder.GetRight(),o=this.ChartBorder.GetTopEx(),s=this.ChartBorder.GetBottomEx();t&&(r=this.ChartBorder.GetBottom(),o=this.ChartBorder.GetRightEx(),s=this.ChartBorder.GetLeftEx(),n=this.ChartBorder.GetTop()+a/2+Qe.FrameLeftMargin);var l=this.ChartFrame.XPointCount,h=Array.isArray(this.Text),u={Text:{Color:this.Color,Align:this.TextAlign,Baseline:this.TextBaseline},Font:{}};this.FixedFontSize>0?this.TextFont=this.FixedFontSize+"px "+this.TextSize.FontName:this.TextFont=this.GetDynamicFont(i,a,this.TextSize.Max,this.TextSize.Min,this.TextSize.Zoom,this.TextSize.FontName),this.Canvas.font=this.TextFont,u.Font={Height:this.GetFontHeight()};for(var c=this.Data.DataOffset,d=0;c<this.Data.Data.length&&d<l;++c,++d,n+=i+a){var f=this.Data.Data[c];if(null!=f){if(e)var p=this.ChartFrame.GetXFromIndex(d);else{var m=n+i;if(m>r)break;p=n+(m-n)/2}var v;if(v=1===this.FixedPosition?o:2===this.FixedPosition?s:this.ChartFrame.GetYFromData(f),p>r)break;if(u.X=p,u.Y=v,h){var g=this.Text[c];if(!g)continue;this.DrawText(g,u,t)}else this.DrawText(this.Text,u,t);this.DrawVerticalLine(c,u,t)}}}},this.DrawText=function(t,e,i){var a=this.Canvas.measureText(t).width;if(i){var n=e.Y,r=e.X;if("right"==e.Text.Align?r-=a:"center"==e.Text.Align&&(r-=a/2),"top"==e.Text.Baseline?n-=e.Font.Height:"middle"==e.Text.Baseline&&(n-=e.Font.Height/2),this.TextBG&&(this.TextBG.Color||this.TextBG.Border)){var o=n-(u=this.TextBG.Margin)[0],s=r-u[2],l=a+u[2]+u[3],h=e.Font.Height+u[0]+u[1];this.TextBG.Color&&(this.Canvas.fillStyle=this.TextBG.Color,this.Canvas.fillRect(o,s,h,l)),this.TextBG.Border&&(this.Canvas.strokeStyle=this.TextBG.Border,this.Canvas.strokeRect(R(o),R(s),k(h),k(l))),e.Rect={Bottom:o,Top:o+h}}else{o=n,h=e.Font.Height;e.Rect={Bottom:o,Top:o+h}}this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left",this.Canvas.fillStyle=e.Text.Color,this.Canvas.save(),this.Canvas.translate(n,r),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(t,0,0),this.Canvas.restore()}else{n=e.X,r=e.Y;if("right"==e.Text.Align?n-=a:"center"==e.Text.Align&&(n-=a/2),"top"==e.Text.Baseline?r+=e.Font.Height:"middle"==e.Text.Baseline&&(r+=e.Font.Height/2),this.TextBG&&(this.TextBG.Color||this.TextBG.Border)){var u;o=n-(u=this.TextBG.Margin)[2],s=r-e.Font.Height-u[1],l=a+u[2]+u[3],h=e.Font.Height+u[0]+u[1];this.TextBG.Color&&(this.Canvas.fillStyle=this.TextBG.Color,this.Canvas.fillRect(o,s,l,h)),this.TextBG.Border&&(this.Canvas.strokeStyle=this.TextBG.Border,this.Canvas.strokeRect(R(o),R(s),k(l),k(h))),e.Rect={Top:s,Bottom:s+h}}else{s=r-e.Font.Height,h=e.Font.Height;e.Rect={Top:s,Bottom:s+h}}this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left",this.Canvas.fillStyle=e.Text.Color,this.Canvas.fillText(t,n,r)}},this.DrawVerticalLine=function(t,e,i){if(this.VerticalLine){var a=this.VerticalLine.Data[t];if(a&&Ce.IsNumber(a.High)&&Ce.IsNumber(a.Low)){var n,r,o=this.ChartFrame.GetYFromData(a.High),s=this.ChartFrame.GetYFromData(a.Low);if(i)if(e.Rect.Bottom>o)n=e.Rect.Bottom-1,r=o+1;else{if(!(e.Rect.Top<s))return;n=e.Rect.Top-1,r=s-1}else if(e.Rect.Bottom<o)n=e.Rect.Bottom+1,r=o-1;else{if(!(e.Rect.Top>s))return;n=e.Rect.Top-1,r=s+1}this.Canvas.save();var l=L(),h=e.X;1==this.VerticalLine.LineType&&(this.VerticalLine.LineDotted?this.Canvas.setLineDash(this.VerticalLine.LineDotted):this.Canvas.setLineDash([5,10])),Ce.IsPlusNumber(this.VerticalLine.LineWidth)&&(this.Canvas.lineWidth=this.VerticalLine.LineWidth*l),this.Canvas.strokeStyle=this.VerticalLine.Color,this.Canvas.beginPath(),i?(this.Canvas.moveTo(R(n),R(h)),this.Canvas.lineTo(R(r),R(h))):(this.Canvas.moveTo(R(h),R(n)),this.Canvas.lineTo(R(h),R(r))),this.Canvas.stroke(),this.Canvas.restore()}}}}function Ut(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartStraightArea",this.Color="rgb(255,193,37)",this.Font="11px 微软雅黑",this.Draw=function(){if(!this.ChartFrame.IsMinSize)if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data)if(!0!==this.ChartFrame.IsHScreen){this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight(),this.ChartBorder.GetBottom();var t=this.ChartBorder.GetLeft(),e=this.ChartFrame.XPointCount,i=this.ChartFrame.GetXFromIndex(e-1);for(var a in this.Data.Data){var n=this.Data.Data[a];if(null!=n&&!isNaN(n.Value)&&!isNaN(n.Value2)&&null!=n.Color){var r=Math.max(n.Value,n.Value2),o=Math.min(n.Value,n.Value2),s=this.ChartFrame.GetYFromData(r),l=this.ChartFrame.GetYFromData(o);if(this.Canvas.fillStyle=n.Color,this.Canvas.fillRect(k(t),k(s),k(i-t),k(l-s)),n.Title&&n.TitleColor){this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=n.TitleColor,this.Canvas.font=this.Font;var h=s+(l-s)/2;this.Canvas.fillText(n.Title,i,h)}}}}else this.HScreenDraw()},this.HScreenDraw=function(){var t=this.ChartBorder.GetBottom(),e=this.ChartBorder.GetTop(),i=this.ChartBorder.GetHeight();for(var a in this.Data.Data){var n=this.Data.Data[a];if(null!=n&&!isNaN(n.Value)&&!isNaN(n.Value2)&&null!=n.Color){var r=Math.max(n.Value,n.Value2),o=Math.min(n.Value,n.Value2),s=this.ChartFrame.GetYFromData(r),l=this.ChartFrame.GetYFromData(o);if(this.Canvas.fillStyle=n.Color,this.Canvas.fillRect(k(l),k(e),k(s-l),k(i)),n.Title&&n.TitleColor){var h=s+(l-s)/2,u=t;this.Canvas.save(),this.Canvas.translate(h,u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=n.TitleColor,this.Canvas.font=this.Font,this.Canvas.fillText(n.Title,0,-2),this.Canvas.restore()}}}},this.GetMaxMin=function(){this.ChartFrame.XPointCount;var t={Min:null,Max:null};if(!this.Data||!this.Data.Data)return t;for(var e in this.Data.Data){var i=this.Data.Data[e];if(null!=i&&!isNaN(i.Value)&&!isNaN(i.Value2)){var a=Math.max(i.Value,i.Value2),n=Math.min(i.Value,i.Value2);null==t.Max&&(t.Max=a),null==t.Min&&(t.Min=n),t.Max<a&&(t.Max=a),t.Min>n&&(t.Min=n)}}return t}}function zt(){this.newMethod=Lt,this.newMethod(),delete this.newMethod,this.ClassName="ChartMinutePriceLine",this.YClose,this.IsDrawArea=!0,this.AreaColor="rgba(0,191,255,0.1)",this.IsShowLead=!1,this.LeadData,this.UpColor=Qe.UpBarColor,this.DownColor=Qe.DownBarColor,this.BeforeOpenData,this.BeforeLineColor=Qe.Minute.Before.LineColor,this.BeforeAvPriceColor=Qe.Minute.Before.AvPriceColor,this.BeforePoint=V(Qe.Minute.Before.Point),this.AfterCloseData,this.AfterLineColor=Qe.Minute.After.LineColor,this.AfterAvPriceColor=Qe.Minute.After.AvPriceColor,this.AfterPoint=V(Qe.Minute.After.Point),this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.ColorLineData,this.Source,this.PtInChart=this.PtInLine,this.DrawSelectedStatus=this.DrawLinePoint,this.PtInChart=this.PtInLine,this.DrawSelectedStatus=this.DrawLinePoint,this.DayOffset,this.Draw=function(){if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.IsShow){var t=!0===this.ChartFrame.IsHScreen;this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight();!0===t&&this.ChartBorder.GetBottom();var e=this.ChartFrame.XPointCount,i=this.ChartFrame.MinuteCount,a=this.ChartBorder.GetBottomEx(),n=this.ChartBorder.GetLeftEx(),r=this.Data;if(this.DrawBeforeOpen(),this.DrawMultiDayBeforeOpen(),this.IsShowLead&&this.DrawLead(),r){var o=!0,s={},l={},h=0,u=0;this.Canvas.save(),Ce.IsPlusNumber(this.LineWidth>0)&&(this.Canvas.lineWidth=this.LineWidth);for(var c=r.DataOffset,d=0;c<r.Data.length&&d<e;++c,++d){var f;if(++u,null!=(f=r.Data[c])){var p=this.ChartFrame.GetXFromIndex(d),m=this.ChartFrame.GetYFromData(f);o?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(m,p):this.Canvas.moveTo(p,m),o=!1,s={X:p,Y:m}):t?this.Canvas.lineTo(m,p):this.Canvas.lineTo(p,m),l.X=p,l.Y=m,l.Price=f,++h,u>=i&&(o=!0,this.Canvas.stroke(),this.IsDrawArea&&(t?(this.Canvas.lineTo(n,p),this.Canvas.lineTo(n,s.X),this.SetFillStyle(this.AreaColor,this.ChartBorder.GetRightEx(),a,this.ChartBorder.GetLeftEx(),a)):(this.Canvas.lineTo(p,a),this.Canvas.lineTo(s.X,a),this.SetFillStyle(this.AreaColor,n,this.ChartBorder.GetTopEx(),n,a)),this.Canvas.fill()),u=0,h=0)}}if(h>0&&(this.Canvas.stroke(),this.IsDrawArea&&(t?(this.Canvas.lineTo(n,p),this.Canvas.lineTo(n,s.X),this.SetFillStyle(this.AreaColor,this.ChartBorder.GetRightEx(),a,this.ChartBorder.GetLeftEx(),a)):(this.Canvas.lineTo(p,a),this.Canvas.lineTo(s.X,a),this.SetFillStyle(this.AreaColor,n,this.ChartBorder.GetTopEx(),n,a)),this.Canvas.fill())),this.Canvas.restore(),this.DrawColorLine(),this.DrawAfterClose(),this.DrawMultiDayAfterClose(),this.GetEventCallback){var v=this.GetEventCallback(b.ON_DRAW_MINUTE_LAST_POINT);if(v){r={LastPoint:{X:l.X,Y:l.Y},Price:l.Price};v.Callback(v,r,this)}}}}},this.DrawLead=function(){if(this.LeadData){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.XPointCount,i=this.ChartFrame.MinuteCount,a=(this.ChartBorder.GetBottomEx(),this.ChartBorder.GetTopEx());if(!0===t&&(a=this.ChartBorder.GetRightEx()),!(e>i)){for(var n=[],r=null,o=null,s=this.ChartFrame.GetYFromData(this.YClose),l=(s-a)/3,h=this.LeadData,u=h.DataOffset,c=0;u<h.Data.length&&c<e;++u,++c){var d=h.Data[u];if(Ce.IsNumber(d)&&0!=d){var f=this.ChartFrame.GetXFromIndex(c);(null==r||r<d)&&(r=d),(null==o||o>d)&&(o=d),n.push({X:f,Value:d})}}if(!(n.length<=0)){var p=Math.max(Math.abs(r),Math.abs(o));for(var u in n){var m=n[u];m.Value>0?this.Canvas.strokeStyle=this.UpColor:this.Canvas.strokeStyle=this.DownColor;var v=s-m.Value*l/p;f=R(m.X);this.Canvas.beginPath(),!0===t?(this.Canvas.moveTo(s,f),this.Canvas.lineTo(v,f)):(this.Canvas.moveTo(f,s),this.Canvas.lineTo(f,v)),this.Canvas.stroke()}}}}},this.DrawBeforeOpen=function(){this.ChartBorder.LeftExtendWidth<10||this.BeforeOpenData&&this.DrawCallAuction(-1,this.BeforeOpenData,!0)},this.DrawAfterClose=function(){this.ChartBorder.RightExtendWidth<10||this.AfterCloseData&&this.DrawCallAuction(-1,this.AfterCloseData,!1)},this.DrawMultiDayBeforeOpen=function(){if(!(this.ChartBorder.MultiDayMinute.Count<=1||this.ChartBorder.MultiDayMinute.Left<=0)&&this.MultiDayBeforeOpenData){var t=0,e=this.MultiDayBeforeOpenData.length;this.DayOffset&&(Ce.IsNumber(this.DayOffset.Offset)&&(t=this.DayOffset.Offset),Ce.IsNumber(this.DayOffset.ShowDayCount)&&(e=this.DayOffset.ShowDayCount));for(var i=t,a=0;i<this.MultiDayBeforeOpenData.length&&a<e;++i,++a){var n=this.MultiDayBeforeOpenData[i];this.DrawCallAuction(a,n,!0)}}},this.DrawMultiDayAfterClose=function(){if(!(this.ChartBorder.MultiDayMinute.Count<=1||this.ChartBorder.MultiDayMinute.Right<=0)&&this.MultiDayAfterCloseData){var t=0,e=this.MultiDayAfterCloseData.length;this.DayOffset&&(Ce.IsNumber(this.DayOffset.Offset)&&(t=this.DayOffset.Offset),Ce.IsNumber(this.DayOffset.ShowDayCount)&&(e=this.DayOffset.ShowDayCount));for(var i=t,a=0;i<this.MultiDayAfterCloseData.length&&a<e;++i,++a){var n=this.MultiDayAfterCloseData[i];this.DrawCallAuction(a,n,!1)}}},this.DrawCallAuction=function(t,e,i){if(e){e.Index=t;var a=!0===this.ChartFrame.IsHScreen,n=!0,r=0;e.TotalCount;if(3==e.Ver){for(var o in e.Data){if((u=e.Data[o])&&Ce.IsNumber(u.AvPrice)){if(i)var s=this.ChartFrame.GetLeftExtendXFromIndex(o,e),l=this.ChartFrame.GetLeftExtendYFromData(u.AvPrice);else s=this.ChartFrame.GetRightExtendXFromIndex(o,e),l=this.ChartFrame.GetRightExtendYFromData(u.AvPrice);n?(this.Canvas.strokeStyle=this.BeforeAvPriceColor,this.Canvas.beginPath(),a?this.Canvas.moveTo(l,s):this.Canvas.moveTo(s,l),n=!1):a?this.Canvas.lineTo(l,s):this.Canvas.lineTo(s,l),++r}}r>0&&this.Canvas.stroke()}n=!0,r=0;var h=[];for(var o in e.Data){if((u=e.Data[o])&&Ce.IsNumber(u.Price)){if(i)s=this.ChartFrame.GetLeftExtendXFromIndex(o,e),l=this.ChartFrame.GetLeftExtendYFromData(u.Price);else s=this.ChartFrame.GetRightExtendXFromIndex(o,e),l=this.ChartFrame.GetRightExtendYFromData(u.Price);n?(this.Canvas.strokeStyle=i?this.BeforeLineColor:this.AfterLineColor,this.Canvas.beginPath(),a?this.Canvas.moveTo(l,s):this.Canvas.moveTo(s,l),n=!1,h.push({X:s,Y:l})):(a?this.Canvas.lineTo(l,s):this.Canvas.lineTo(s,l),h.push({X:s,Y:l})),++r}else if(0==o&&i&&Ce.IsNumber(this.YClose)){var s=this.ChartFrame.GetLeftExtendXFromIndex(o,e),l=this.ChartFrame.GetLeftExtendYFromData(this.YClose);this.Canvas.strokeStyle=this.BeforeLineColor,this.Canvas.beginPath(),a?this.Canvas.moveTo(l,s):this.Canvas.moveTo(s,l),n=!1}}if(r>0&&this.Canvas.stroke(),2==e.Ver&&this.BeforePoint.Radius>0)for(var o in this.Canvas.fillStyle=i?this.BeforePoint.Color:this.AfterPoint.Color,h){var u=h[o];this.Canvas.beginPath(),a?this.Canvas.arc(u.Y,u.X,this.BeforePoint.Radius,0,2*Math.PI):this.Canvas.arc(u.X,u.Y,this.BeforePoint.Radius,0,2*Math.PI),this.Canvas.fill()}}},this.FindColorLineItem=function(t){if(!t||!this.ColorLineData)return null;for(var e in this.ColorLineData){var i=this.ColorLineData[e];if(i.Date==t.Date&&t.Time>=i.Start&&t.Time<=i.End)return i}return null},this.DrawColorLine=function(){if(this.ColorLineData&&this.Source&&this.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartBorder.GetBorder(),this.ChartFrame.XPointCount),i=(this.ChartFrame.MinuteCount,this.Data),a=!0,n={},r=0,o=null;this.Canvas.save();for(var s=i.DataOffset,l=0;s<i.Data.length&&l<e;++s,++l){var h;h=i.Data[s];var u=this.Source.Data[s];if(h&&u){var c=this.FindColorLineItem(u);if(c){o&&o!=c.Color&&(this.Canvas.stroke(),a=!0);var d=this.ChartFrame.GetXFromIndex(l),f=this.ChartFrame.GetYFromData(h);a?(this.Canvas.strokeStyle=c.Color,Ce.IsNumber(c.LineWidth)&&(this.Canvas.lineWidth=c.LineWidth),this.Canvas.beginPath(),t?this.Canvas.moveTo(f,d):this.Canvas.moveTo(d,f),a=!1,{X:d,Y:f},o=c.Color):t?this.Canvas.lineTo(f,d):this.Canvas.lineTo(d,f),n.X=d,n.Y=f,n.Price=h,++r}else r>0&&(this.Canvas.stroke(),a=!0)}}r>0&&this.Canvas.stroke(),this.Canvas.restore()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(null==this.YClose)return e;if(!this.IsShow)return e;if(e.Min=this.YClose,e.Max=this.YClose,this.ChartBorder.LeftExtendWidth>10&&this.BeforeOpenData)for(var i in this.BeforeOpenData.Data){var a=this.BeforeOpenData.Data[i];a&&(Ce.IsNumber(a.Price)&&(null==e.Max&&(e.Max=a.Price),null==e.Min&&(e.Min=a.Price),e.Max<a.Price&&(e.Max=a.Price),e.Min>a.Price&&(e.Min=a.Price)),3==this.BeforeOpenData.Ver&&Ce.IsNumber(a.AvPrice)&&(null==e.Max&&(e.Max=a.AvPrice),null==e.Min&&(e.Min=a.AvPrice),e.Max<a.AvPrice&&(e.Max=a.AvPrice),e.Min>a.AvPrice&&(e.Min=a.AvPrice)))}for(var n=this.Data,r=(i=n.DataOffset,0);i<n.Data.length&&r<t;++i,++r){var o;null!=(o=n.Data[i])&&(null==e.Max&&(e.Max=o),null==e.Min&&(e.Min=o),e.Max<o&&(e.Max=o),e.Min>o&&(e.Min=o))}if(e.Max==this.YClose&&e.Min==this.YClose)return e.Max=this.YClose+.1*this.YClose,e.Min=this.YClose-.1*this.YClose,e;var s=Math.max(Math.abs(this.YClose-e.Max),Math.abs(this.YClose-e.Min));return e.Max=this.YClose+s,e.Min=this.YClose-s,e},this.GetTooltipData=function(t,e,i){var a=!0===this.ChartFrame.IsHScreen;if(a)return!1;if(!this.IsShow)return!1;if(!this.Data||!Ce.IsNonEmptyArray(this.Data.Data))return!1;if(1!=this.ChartBorder.PtInClient(t,e,this.Canvas,a))return!1;var n=this.Data,r=this.ChartFrame.GetXData(t),o=Math.ceil(r),s=Math.floor(r);if(o>=n.Data.length||s>=n.Data.length)return!1;if(o==s)n.Data[s];else{var l=n.Data[s],h=n.Data[o],u={X:this.ChartFrame.GetXFromIndex(s),Y:this.ChartFrame.GetYFromData(l)},c={X:this.ChartFrame.GetXFromIndex(o),Y:this.ChartFrame.GetYFromData(h)};if(this.Canvas.beginPath(),this.Canvas.moveTo(u.X,u.Y+5),this.Canvas.lineTo(u.X,u.Y-5),this.Canvas.lineTo(c.X,c.Y-5),this.Canvas.lineTo(c.X,c.Y+5),this.Canvas.closePath(),this.Canvas.isPointInPath(t,e))return i.Data={Index:r,Start:{Index:s,Item:n.Data[s]},End:{Index:o,Value:n.Data[o]}},i.ChartPaint=this,i.Type=5,!0}return!1}}function Kt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartMACD",this.UpColor=Qe.UpBarColor,this.DownColor=Qe.DownBarColor,this.LineWidth=1,this.DrawSelectedStatus=this.DrawLinePoint,this.PtInChart=function(t,e){var i=this.ChartFrame.DataWidth,a=this.LineWidth*L();return 50==this.barWidth?a=null:a>i&&(a=i),a<4&&(a=4),this.PtInBar(t,e,{BarWidth:a})},this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&!this.IsShowIndexTitleOnly())if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(!0!==this.ChartFrame.IsHScreen){var t=this.IsMinuteFrame(),e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetBorder(),n=a.LeftEx+i/2+Qe.FrameLeftMargin,r=a.RightEx,o=this.ChartFrame.XPointCount,s=this.GetLockRect();s&&(r=s.Left);var l=this.ChartFrame.GetYFromData(0),h=this.LineWidth*L();50==this.LineWidth?h=e:h>e&&(h=e);var u=this.Canvas.lineWidth;this.Canvas.lineWidth=h;for(var c=this.Data.DataOffset,d=0;c<this.Data.Data.length&&d<o;++c,++d,n+=e+i){var f=this.Data.Data[c];if(null!=f){if(t)var p=this.ChartFrame.GetXFromIndex(d);else{var m=n+e;if(m>r)break;p=n+(m-n)/2}var v=this.ChartFrame.GetYFromData(f);if(p>r)break;var g=B(h,p);this.Canvas.beginPath(),this.Canvas.moveTo(g,l),this.Canvas.lineTo(g,v),this.Canvas.strokeStyle=f>=0?this.UpColor:this.DownColor,this.Canvas.stroke(),this.Canvas.closePath()}}this.Canvas.lineWidth=u}else this.HScreenDraw()},this.HScreenDraw=function(){var t=this.ChartFrame.DataWidth,e=(this.ChartFrame.DistanceWidth,this.ChartBorder.GetHScreenBorder().BottomEx),i=this.ChartFrame.XPointCount,a=this.GetLockRect();a&&(e=a.Top);var n=this.ChartFrame.GetYFromData(0),r=this.LineWidth*L();50==this.LineWidth?r=t:r>t&&(r=t);var o=this.Canvas.lineWidth;this.Canvas.lineWidth=r;for(var s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<i;++s,++l){var h=this.Data.Data[s];if(null!=h){var u=this.ChartFrame.GetXFromIndex(l),c=this.ChartFrame.GetYFromData(h);if(u>e)break;this.Canvas.beginPath(),this.Canvas.moveTo(n,R(u)),this.Canvas.lineTo(c,R(u)),this.Canvas.strokeStyle=h>=0?this.UpColor:this.DownColor,this.Canvas.stroke(),this.Canvas.closePath()}}this.Canvas.lineWidth=o}}function $t(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartBar",this.UpBarColor=Qe.UpBarColor,this.DownBarColor=Qe.DownBarColor,this.Draw=function(){if(!this.ChartFrame.IsMinSize)if(this.NotSupportMessage)this.DrawNotSupportmessage();else{var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetRight(),a=this.ChartFrame.XPointCount,n=this.ChartBorder.GetLeft()+e/2+2,r=this.ChartFrame.GetYFromData(0);if(t>=4){r=k(r);for(var o=this.Data.DataOffset,s=0;o<this.Data.Data.length&&s<a;++o,++s,n+=t+e){if(null!=(d=this.Data.Data[o])&&0!=d){var l=n;if(n+t>i)break;var h=this.ChartFrame.GetXFromIndex(s),u=this.ChartFrame.GetYFromData(d);this.Canvas.fillStyle=d>0?this.UpBarColor:this.DownBarColor;var c=k(Math.abs(r-u));u=r-u>0?r-c:r+c,this.Canvas.fillRect(k(l),u,k(t),c)}}}else for(o=this.Data.DataOffset,s=0;o<this.Data.Data.length&&s<a;++o,++s,n+=t+e){var d;if(null!=(d=this.Data.Data[o])&&0!=d){l=n;if(n+t>i)break;h=this.ChartFrame.GetXFromIndex(s),u=this.ChartFrame.GetYFromData(d);this.Canvas.strokeStyle=d>0?this.UpBarColor:this.DownBarColor,this.Canvas.beginPath(),this.Canvas.moveTo(R(h),u),this.Canvas.lineTo(R(h),r),this.Canvas.stroke()}}}},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:0,Max:null},i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var n=this.Data.Data[i];null==e.Max&&(e.Max=n),e.Max<n&&(e.Max=n)}return e}}function jt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.ClassName="ChartBand",this.FirstColor=Qe.Index.LineColor[0],this.SecondColor=Qe.Index.LineColor[1],this.Draw=function(){if(!this.ChartFrame.IsMinSize)if(this.NotSupportMessage)this.DrawNotSupportmessage();else for(var t=this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount,n=this.ChartBorder.GetLeft()+i/2+2,r=0,o=0,s=0,l=[],h=[],u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<a;++u,++c,n+=e+i){for(l=[],h=[];u<this.Data.Data.length&&c<a;++u,++c,n+=e+i){var d=this.Data.Data[u];if(null==d||null==d.Value||null==d.Value2)break;r=this.ChartFrame.GetXFromIndex(c),o=this.ChartFrame.GetYFromData(d.Value),s=this.ChartFrame.GetYFromData(d.Value2),t?(l.push({x:o,y:r}),h.push({x:s,y:r})):(l.push({x:r,y:o}),h.push({x:r,y:s}))}l.length>1&&h.length>1&&this.DrawBand(l,h)}},this.ClipTop=function(t){var e=this.ChartFrame.IsHScreen;this.Canvas.beginPath();for(var i=0;i<t.length;++i)0==i?this.Canvas.moveTo(t[i].x,t[i].y):this.Canvas.lineTo(t[i].x,t[i].y);var a=t[0],n=t[t.length-1];if(e){var r=this.ChartBorder.GetRightEx();this.Canvas.lineTo(r,n.y),this.Canvas.lineTo(r,a.y)}else{var o=this.ChartBorder.GetTopEx();this.Canvas.lineTo(n.x,o),this.Canvas.lineTo(a.x,o)}this.Canvas.closePath(),this.Canvas.clip()},this.ClipBottom=function(t){var e=this.ChartFrame.IsHScreen;this.Canvas.beginPath();for(var i=0;i<t.length;++i)0==i?this.Canvas.moveTo(t[i].x,t[i].y):this.Canvas.lineTo(t[i].x,t[i].y);var a=t[0],n=t[t.length-1];if(e){var r=this.ChartBorder.GetLeftEx();this.Canvas.lineTo(r,n.y),this.Canvas.lineTo(r,a.y)}else{var o=this.ChartBorder.GetBottomEx();this.Canvas.lineTo(n.x,o),this.Canvas.lineTo(a.x,o)}this.Canvas.closePath(),this.Canvas.clip()},this.DrawArea=function(t,e,i){this.Canvas.beginPath();for(var a=0;a<t.length;++a)0==a?this.Canvas.moveTo(t[a].x,t[a].y):this.Canvas.lineTo(t[a].x,t[a].y);for(a=e.length-1;a>=0;--a)this.Canvas.lineTo(e[a].x,e[a].y);this.Canvas.closePath(),this.Canvas.fillStyle=i,this.Canvas.fill()},this.DrawBand=function(t,e){this.FirstColor&&(this.Canvas.save(),this.ClipTop(t),this.DrawArea(t,e,this.FirstColor),this.Canvas.restore()),this.SecondColor&&(this.Canvas.save(),this.ClipBottom(t),this.DrawArea(t,e,this.SecondColor),this.Canvas.restore())},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:null,Max:null},i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var n=this.Data.Data[i];if(null!=n&&null!=n.Value&&null!=n.Value2){var r=n.Value>n.Value2?n.Value:n.Value2,o=n.Value<n.Value2?n.Value:n.Value2;null==e.Max?e.Max=r:e.Max<r&&(e.Max=r),null==e.Min?e.Min=o:e.Min>o&&(e.Min=o)}}return e}}function qt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.ClassName="ChartLineArea",this.Color="rgb(56,67,99)",this.IsHScreen=!1,this.Draw=function(){if(!this.ChartFrame.IsMinSize)if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data){for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartBorder.GetLeft()+e/2+Qe.FrameLeftMargin,n=0,r=0,o=0,s=[],l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<i;++l,++h,a+=t+e){var u=this.Data.Data[l];s[l]=null,null!=u&&null!=u.Value&&null!=u.Value2&&(n=this.ChartFrame.GetXFromIndex(h),r=this.ChartFrame.GetYFromData(u.Value),o=this.ChartFrame.GetYFromData(u.Value2),this.IsHScreen?s[l]={Line:{X:r,Y:n},Line2:{X:o,Y:n}}:s[l]={Line:{X:n,Y:r},Line2:{X:n,Y:o}})}this.Canvas.fillStyle=this.Color;var c=!0,d=0,f=[];for(var l in s){var p=s[l];if(p)c?(this.Canvas.beginPath(),this.Canvas.moveTo(p.Line.X,p.Line.Y),c=!1):this.Canvas.lineTo(p.Line.X,p.Line.Y),f.push(p),++d;else{if(d>0){for(h=f.length-1;h>=0;--h){var m=f[h];this.Canvas.lineTo(m.Line2.X,m.Line2.Y)}this.Canvas.closePath(),this.Canvas.fill()}c=!0,d=0,f=[]}}if(d>0){for(h=f.length-1;h>=0;--h){m=f[h];this.Canvas.lineTo(m.Line2.X,m.Line2.Y)}this.Canvas.closePath(),this.Canvas.fill()}}},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:null,Max:null},i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var n=this.Data.Data[i];if(n&&null!=n.Value&&null!=n.Value2){var r=n.Value>n.Value2?n.Value:n.Value2,o=n.Value<n.Value2?n.Value:n.Value2;null==e.Max?e.Max=r:e.Max<r&&(e.Max=r),null==e.Min?e.Min=o:e.Min>o&&(e.Min=o)}}return e}}function Jt(){this.newMethod=qt,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.IsHScreen=!1,this.ClassName="ChartFillRGN",this.DrawRGB=function(t){var e=!0,i=0,a=[],n=null;for(var r in t){var o=t[r];if(!o||n&&o.Color!=n){if(i>0){for(var s=a.length-1;s>=0;--s){var l=a[s];this.Canvas.lineTo(l.Line2.X,l.Line2.Y)}this.Canvas.closePath(),this.Canvas.fillStyle=n,this.Canvas.fill()}e=!0,i=0,a=[],n=null}o&&(e?(this.Canvas.beginPath(),this.Canvas.moveTo(o.Line.X,o.Line.Y),e=!1,n=o.Color):this.Canvas.lineTo(o.Line.X,o.Line.Y),a.push(o),++i)}if(i>0){for(s=a.length-1;s>=0;--s){l=a[s];this.Canvas.lineTo(l.Line2.X,l.Line2.Y)}this.Canvas.closePath(),this.Canvas.fillStyle=n,this.Canvas.fill()}},this.Draw=function(){if(!this.ChartFrame.IsMinSize)if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data){for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartBorder.GetLeft()+e/2+Qe.FrameLeftMargin,n=0,r=0,o=0,s=[],l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<i;++l,++h,a+=t+e){var u=this.Data.Data[l];s[l]=null,null!=u&&null!=u.Value&&null!=u.Value2&&u.Color&&(n=this.ChartFrame.GetXFromIndex(h),r=this.ChartFrame.GetYFromData(u.Value),o=this.ChartFrame.GetYFromData(u.Value2),this.IsHScreen?s[l]={Line:{X:r,Y:n},Line2:{X:o,Y:n},Color:u.Color}:s[l]={Line:{X:n,Y:r},Line2:{X:n,Y:o},Color:u.Color})}this.DrawRGB(s)}}}function Zt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.ClassName="ChartChannel",this.IsHScreen=!1,this.PointCount=0,this.DataWidth=0,this.DistanceWidth=0,this.ChartRight=0,this.LineColor="RGB(255,0,0)",this.LineDotted=[3,3],this.AreaColor="RGB(255,222,173)",this.LineWidth=1,this.CalculateData=function(){for(var t=[],e=[],i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<this.PointCount;++i,++a){var n=this.Data.Data[i];if(n&&Ce.IsNumber(n.Value)&&Ce.IsNumber(n.Value2)){var r=this.ChartFrame.GetXFromIndex(a);if(r>this.ChartRight)break;var o=this.ChartFrame.GetYFromData(n.Value),s=this.ChartFrame.GetYFromData(n.Value2);e.push({X:r,Y:o,Y2:s})}else e.length>0&&(t.push(e),e=[])}return e.length>0&&t.push(e),t},this.DrawArea=function(t){if(!(t.length<=0)){this.Canvas.beginPath();var e=t[0];this.IsHScreen?this.Canvas.moveTo(e.Y,e.X):this.Canvas.moveTo(e.X,e.Y);for(var i=1;i<t.length;++i){var a=t[i];this.IsHScreen?this.Canvas.lineTo(a.Y,a.X):this.Canvas.lineTo(a.X,a.Y),0}for(i=t.length-1;i>=0;--i){a=t[i];this.IsHScreen?this.Canvas.lineTo(a.Y2,a.X):this.Canvas.lineTo(a.X,a.Y2),0}this.Canvas.closePath(),this.Canvas.fillStyle=this.AreaColor,this.Canvas.fill()}},this.DrawLine=function(t){this.Canvas.strokeStyle=this.LineColor;for(var e=0;e<2;++e){for(var i=!0,a=0,n=0;n<t.length;++n){var r=t[n];i?(this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(0===e?r.Y:r.Y2,r.X):this.Canvas.moveTo(r.X,0===e?r.Y:r.Y2),i=!1):this.IsHScreen?this.Canvas.lineTo(0===e?r.Y:r.Y2,r.X):this.Canvas.lineTo(r.X,0===e?r.Y:r.Y2),++a}a>0&&this.Canvas.stroke()}},this.Draw=function(){if(!this.ChartFrame.IsMinSize)if(this.NotSupportMessage)this.DrawNotSupportmessage();else{this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.PointCount=this.ChartFrame.XPointCount,this.DataWidth=this.ChartFrame.DataWidth,this.DistanceWidth=this.ChartFrame.DistanceWidth,this.IsHScreen?this.ChartRight=this.ChartBorder.GetBottom():this.ChartRight=this.ChartBorder.GetRight();var t=this.CalculateData();if(t&&!(t.length<=0)){this.Canvas.save(),this.Canvas.lineWidth=this.LineWidth*L(),this.Canvas.setLineDash(this.LineDotted);for(var e=0;e<t.length;++e){var i=t[e];this.DrawArea(i),this.DrawLine(i)}this.Canvas.restore()}}},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:null,Max:null},i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var n=this.Data.Data[i];if(null!=n&&null!=n.Value&&null!=n.Value2){var r=n.Value>n.Value2?n.Value:n.Value2,o=n.Value<n.Value2?n.Value:n.Value2;null==e.Max?e.Max=r:e.Max<r&&(e.Max=r),null==e.Min?e.Min=o:e.Min>o&&(e.Min=o)}}return e}}function Qt(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartBackground",this.Color=null,this.ColorAngle=0,this.IsDrawFirst=!0,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Color&&!(this.Color.length<=0)){if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,2==this.Color.length){if(this.IsHScreen)if(0==this.ColorAngle)var t={X:this.ChartBorder.GetRight(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()};else t={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetBottomEx()};else if(0==this.ColorAngle)t={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetBottomEx()};else t={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetRight(),Y:this.ChartBorder.GetTopEx()};var i=this.Canvas.createLinearGradient(t.X,t.Y,e.X,e.Y);i.addColorStop(0,this.Color[0]),i.addColorStop(1,this.Color[1]),this.Canvas.fillStyle=i}else{if(1!=this.Color.length)return;this.Canvas.fillStyle=this.Color[0]}if("DRAWGBK2"!=this.Name&&"KLINE_BG"!=this.Name){if(this.IsHScreen)var a=this.ChartBorder.GetLeftEx(),n=this.ChartBorder.GetTop(),r=this.ChartBorder.GetWidthEx(),o=this.ChartBorder.GetHeight();else a=this.ChartBorder.GetLeft(),n=this.ChartBorder.GetTopEx(),r=this.ChartBorder.GetWidth(),o=this.ChartBorder.GetHeightEx();this.Canvas.fillRect(a,n,r,o)}else this.DrawRegion()}},this.DrawRegion=function(){var t=this.ChartFrame.XPointCount,e=this.ChartBorder.GetLeft()+a/2+Qe.FrameLeftMargin,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=this.ChartBorder.GetTopEx(),r=this.ChartBorder.GetBottomEx();this.IsHScreen&&(n=this.ChartBorder.GetRightEx(),r=this.ChartBorder.GetLeftEx());for(var o=[],s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<t;++s,++l,e+=i+a){var h=this.Data.Data[s];if(o[s]=null,Ce.IsNumber(h)&&!(h<=0)){var u=this.ChartFrame.GetXFromIndex(l);this.ChartFrame.GetYFromData(h.Value);this.IsHScreen?o[s]={Line:{X:r,Y:u},Line2:{X:n,Y:u}}:o[s]={Line:{X:u,Y:n},Line2:{X:u,Y:r}}}}this.DrawBG(o)},this.DrawBG=function(t){var e=this.ChartFrame.DataWidth,i=(this.ChartFrame.DistanceWidth+e)/2,a=!0,n=0,r=[],o=null;for(var s in t){var l=t[s];if(!l||o&&l.Color!=o){if(n>0){for(var h=r.length-1;h>=0;--h){var u=r[h];this.IsHScreen?(this.Canvas.lineTo(u.Line2.X,u.Line2.Y+i),this.Canvas.lineTo(u.Line2.X,u.Line2.Y-i)):(this.Canvas.lineTo(u.Line2.X+i,u.Line2.Y),this.Canvas.lineTo(u.Line2.X-i,u.Line2.Y))}this.Canvas.closePath(),this.Canvas.fill()}a=!0,n=0,r=[],o=null}l&&(a?(this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(l.Line.X,l.Line.Y-i),this.Canvas.lineTo(l.Line.X,l.Line.Y+i)):(this.Canvas.moveTo(l.Line.X-i,l.Line.Y),this.Canvas.lineTo(l.Line.X+i,l.Line.Y)),a=!1,o=l.Color):this.IsHScreen?(this.Canvas.lineTo(l.Line.X,l.Line.Y-i),this.Canvas.lineTo(l.Line.X,l.Line.Y+i)):(this.Canvas.lineTo(l.Line.X-i,l.Line.Y),this.Canvas.lineTo(l.Line.X+i,l.Line.Y)),r.push(l),++n)}if(n>0){for(h=r.length-1;h>=0;--h){u=r[h];this.IsHScreen?(this.Canvas.lineTo(u.Line2.X,u.Line2.Y+i),this.Canvas.lineTo(u.Line2.X,u.Line2.Y-i)):(this.Canvas.lineTo(u.Line2.X+i,u.Line2.Y),this.Canvas.lineTo(u.Line2.X-i,u.Line2.Y))}this.Canvas.closePath(),this.Canvas.fill()}},this.GetMaxMin=function(){return{Min:null,Max:null}}}function te(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartTextLine",this.Text,this.Line,this.Price,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Text&&this.Line&&Ce.IsNumber(this.Price)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),i=this.ChartBorder.GetBottomEx(),a=this.ChartBorder.GetTopEx(),n=this.ChartFrame.GetYFromData(this.Price),r=0;if(this.Text.Title){var o=t+2*L(),s=n;this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var l=8*L();n-l<a?(this.Canvas.textBaseline="top",s=a):n+l>i&&(this.Canvas.textBaseline="bottom",s=i),this.Canvas.fillStyle=this.Text.Color,this.Canvas.font=this.Text.Font,this.Canvas.fillText(this.Text.Title,o,s),r=this.Canvas.measureText(this.Text.Title).width+4*L()}if(this.Line.Type>0){2==this.Line.Type&&(this.Canvas.save(),this.Canvas.setLineDash([3,5]));o=t+r;this.Canvas.strokeStyle=this.Line.Color,this.Canvas.beginPath(),this.Canvas.moveTo(o,R(n)),this.Canvas.lineTo(e,R(n)),this.Canvas.stroke(),2==this.Line.Type&&this.Canvas.restore()}}},this.GetMaxMin=function(){var t={Min:null,Max:null};return Ce.IsNumber(this.Price)&&(t.Min=this.Price,t.Max=this.Price),t}}function ee(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiBar",this.Bars=[],this.IsHScreen=!1,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&!(this.Data.length<=0)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,i=this.ChartFrame.DataWidth,a=L(),n=[];for(var r in this.Bars){var o={Point:[],Color:(f=this.Bars[r]).Color,Width:i,Type:0};for(var s in f.Type>0&&(o.Type=f.Type),f.Width>0?(o.Width=f.Width*a,o.Width>i&&(o.Width=i)):o.Width<4&&(o.Width=1*a),f.Point){var l=f.Point[s];if(Ce.IsNumber(l.Index)){var h=l.Index-e;if(h>=0&&h<t){var u=this.ChartFrame.GetXFromIndex(h),c=this.ChartFrame.GetYFromData(l.Value),d=this.ChartFrame.GetYFromData(l.Value2);o.Point.push({X:u,Y:c,Y2:d})}}}o.Point.length>0&&n.push(o)}for(var r in n){var f;(f=n[r]).Width>=4?1==f.Type?this.DrawHollowBar(f):this.DrawFillBar(f):this.DrawLineBar(f)}}},this.DrawLineBar=function(t){this.Canvas.strokeStyle=t.Color;var e=this.Canvas.lineWidth;for(var i in this.Canvas.lineWidth=t.Width,t.Point){var a=t.Point[i];this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(R(a.Y),R(a.X)),this.Canvas.lineTo(R(a.Y2),R(a.X))):(this.Canvas.moveTo(R(a.X),R(a.Y)),this.Canvas.lineTo(R(a.X),R(a.Y2))),this.Canvas.stroke()}this.Canvas.lineWidth=e},this.DrawFillBar=function(t){for(var e in this.Canvas.fillStyle=t.Color,t.Point){var i=t.Point[e],a=i.X-t.Width/2,n=Math.min(i.Y,i.Y2),r=t.Width,o=Math.abs(i.Y-i.Y2);this.IsHScreen?this.Canvas.fillRect(k(n),k(a),k(o),k(r)):this.Canvas.fillRect(k(a),k(n),k(r),k(o))}},this.DrawHollowBar=function(t){this.Canvas.strokeStyle=t.Color;for(var e in t.Point){var i=t.Point[e],a=i.X-t.Width/2,n=Math.min(i.Y,i.Y2),r=t.Width,o=Math.abs(i.Y-i.Y2);this.Canvas.beginPath(),this.IsHScreen?this.Canvas.rect(R(n),R(a),k(o),k(r)):this.Canvas.rect(R(a),R(n),k(r),k(o)),this.Canvas.stroke()}this.Canvas.lineWidth=1},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=i+e;for(var n in this.Bars){var r=this.Bars[n];for(var o in r.Point){var s=r.Point[o];if(s.Index>=i&&s.Index<a){var l=Math.min(s.Value,s.Value2),h=Math.max(s.Value,s.Value2);null==t.Max?t.Max=h:t.Max<h&&(t.Max=h),null==t.Min?t.Min=l:t.Min>l&&(t.Min=l)}}}return t}}function ie(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiLine",this.Lines=[],this.LineDash,this.LineWidth=1,this.IsHScreen=!1,this.ArrawAngle=35,this.ArrawLength=10,this.ArrawLineWidth=5,this.Arrow={Start:!1,End:!1},this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&!(this.Data.length<=0)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,i=[],a=[];for(var n in this.Lines){var r=this.Lines[n],o={Point:[],Color:r.Color},s={Start:[],End:[]};r.BGColor&&(o.BGColor=r.BGColor);for(var l=0;l<r.Point.length;++l){var h=r.Point[l];if(Ce.IsNumber(h.Index)){var u=h.Index-e;if(u>=0&&u<t){var c={X:this.ChartFrame.GetXFromIndex(u),Y:this.ChartFrame.GetYFromData(h.Value,!1),End:!1};o.Point.push(c),0!=l&&1!=l||s.Start.push(c),l!=r.Point.length-1&&l!=r.Point.length-2||s.End.push(c)}else o.Point.length>0&&(o.Point[o.Point.length-1].End=!0)}}o.Point.length>=2&&(i.push(o),a.push(s))}var d=L();for(var n in this.Canvas.save(),i){this.LineDash&&this.Canvas.setLineDash(this.LineDash),Ce.IsPlusNumber(this.LineWidth)?this.Canvas.lineWidth=this.LineWidth*d:this.Canvas.lineWidth=1*d;var f=i[n];this.DrawLine(f,a[n])}this.Canvas.restore()}},this.DrawLine=function(t,e){if(t.BGColor){for(var i in this.Canvas.fillStyle=t.BGColor,t.Point){var a=t.Point[i];0==i?(this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(a.Y,a.X):this.Canvas.moveTo(a.X,a.Y)):this.IsHScreen?this.Canvas.lineTo(a.Y,a.X):this.Canvas.lineTo(a.X,a.Y)}this.Canvas.closePath(),this.Canvas.fill()}this.Canvas.strokeStyle=t.Color;var n=0;for(var i in t.Point){a=t.Point[i];0==n?(this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(a.Y,a.X):this.Canvas.moveTo(a.X,a.Y),++n):(this.IsHScreen?this.Canvas.lineTo(a.Y,a.X):this.Canvas.lineTo(a.X,a.Y),++n),1==a.End&&(n>0&&this.Canvas.stroke(),n=0)}n>0&&this.Canvas.stroke(),2==e.End.length&&1==this.Arrow.End&&this.DrawArrow(e.End[0],e.End[1]),2==e.Start.length&&1==this.Arrow.Start&&this.DrawArrow(e.Start[1],e.Start[0])},this.DrawArrow=function(t,e){var i=this.ArrawAngle,a=this.ArrawLength,n=180*Math.atan2(t.Y-e.Y,t.X-e.X)/Math.PI,r=(n+i)*Math.PI/180,o=(n-i)*Math.PI/180,s=a*Math.cos(r),l=a*Math.sin(r),h=a*Math.cos(o),u=a*Math.sin(o);this.Canvas.beginPath();var c=e.X+s,d=e.Y+l;this.Canvas.moveTo(c,d),this.Canvas.lineTo(e.X,e.Y),c=e.X+h,d=e.Y+u,this.Canvas.lineTo(c,d),this.Canvas.setLineDash([]),this.Canvas.lineWidth=this.ArrawLineWidth*L(),this.Canvas.stroke()},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=i+e;for(var n in this.Lines){var r=this.Lines[n];for(var o in r.Point){var s=r.Point[o];s.Index>=i&&s.Index<a&&(null==t.Max?t.Max=s.Value:t.Max<s.Value&&(t.Max=s.Value),null==t.Min?t.Min=s.Value:t.Min>s.Value&&(t.Min=s.Value))}}return t}}function ae(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiText",this.Texts=[],this.Font=Qe.DefaultTextFont,this.Color=Qe.DefaultTextColor,this.IsHScreen=!1,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&!(this.Data.length<=0)&&this.Texts){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,i=this.ChartBorder.GetLeft(),a=this.ChartBorder.GetRight();for(var n in this.IsHScreen&&(i=this.ChartBorder.GetTop(),a=this.ChartBorder.GetBottom()),this.Texts){var r=this.Texts[n];if(r.Text&&Ce.IsNumber(r.Index)){var o=r.Index-e;if(o>=0&&o<t){var s=this.ChartFrame.GetXFromIndex(o),l=this.ChartFrame.GetYFromData(r.Value);r.Color?this.Canvas.fillStyle=r.Color:this.Canvas.fillStyle=this.Color,r.Font?this.Canvas.font=r.Font:this.Canvas.font=this.Font;var h=this.Canvas.measureText(r.Text).width;if(this.Canvas.textAlign="center",s+h/2>=a?(this.Canvas.textAlign="right",s=a):s-h/2<i&&(this.Canvas.textAlign="left",s=i),1==r.Baseline?this.Canvas.textBaseline="top":2==r.Baseline?this.Canvas.textBaseline="bottom":this.Canvas.textBaseline="middle",this.IsHScreen?(this.Canvas.save(),this.Canvas.translate(l,s),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(r.Text,0,0),this.Canvas.restore()):this.Canvas.fillText(r.Text,s,l),r.Line){var u=this.Data.Data[r.Index],c="H"==r.Line.KData?u.High:u.Low,d=this.ChartFrame.GetYFromData(c),f=l;Array.isArray(r.Line.Offset)&&2==r.Line.Offset.length&&(f>d?(f-=r.Line.Offset[1],d+=r.Line.Offset[0]):f<d&&(f+=r.Line.Offset[1],d-=r.Line.Offset[0])),this.Canvas.save(),r.Line.Dash&&this.Canvas.setLineDash(r.Line.Dash),r.Line.Width>0&&(this.Canvas.lineWidth=r.Line.Width),this.Canvas.strokeStyle=r.Line.Color,this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(f,R(s)),this.Canvas.lineTo(d,R(s))):(this.Canvas.moveTo(R(s),f),this.Canvas.lineTo(R(s),d)),this.Canvas.stroke(),this.Canvas.restore()}}}}}},this.GetMaxMin=function(){var t={Min:null,Max:null};if(!this.Texts)return t;var e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=i+e;for(var n in this.Texts){var r=this.Texts[n];r.Index>=i&&r.Index<a&&(null==t.Max?t.Max=r.Value:t.Max<r.Value&&(t.Max=r.Value),null==t.Min?t.Min=r.Value:t.Min>r.Value&&(t.Min=r.Value))}return t}}function ne(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiSVGIcon",this.Icon,this.IconSize={Max:Qe.DRAWICON.Icon.MaxSize,Min:Qe.DRAWICON.Icon.MinSize,Zoom:{Type:Qe.DRAWICON.Icon.Zoom.Type,Value:Qe.DRAWICON.Icon.Zoom.Value}},this.Family,this.Color=Qe.DefaultTextColor,this.IsHScreen=!1,this.IconRect=[],this.Draw=function(){if(this.IconRect=[],this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&!(this.Data.length<=0)&&this.Family&&this.Icon&&Ce.IsNonEmptyArray(this.Icon)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset;this.DataWidth=this.ChartFrame.DataWidth,this.DistanceWidth=this.ChartFrame.DistanceWidth;var i=this.GetBorder();if(this.IsHScreen)var a=i.TopEx,n=i.BottomEx;else a=i.LeftEx,n=i.RightEx;var r=this.GetDynamicIconSize(this.DataWidth,this.DistanceWidth,this.IconSize.Max,this.IconSize.Min,this.IconSize.Zoom);this.Canvas.font=r+"px "+this.Family;for(var o=0;o<this.Icon.length;++o){var s=this.Icon[o];if(Ce.IsNumber(s.Index)){var l=s.Index-e;if(l>=0&&l<t){var h=this.ChartFrame.GetXFromIndex(l),u=this.ChartFrame.GetYFromData(s.Value);s.Color?this.Canvas.fillStyle=s.Color:this.Canvas.fillStyle=this.Color;var c=this.Canvas.measureText(s.Text).width;this.Canvas.textAlign="center";var d=new It(h-r/2,u-r/2,r,r);if(h+c/2>=n?(this.Canvas.textAlign="right",h+=this.DataWidth/2,d.X=h-r):h-c/2<a&&(this.Canvas.textAlign="left",h-=this.DataWidth/2,d.X=h),1==s.Baseline?(this.Canvas.textBaseline="top",d.Y=u):2==s.Baseline?(this.Canvas.textBaseline="bottom",d.Y=u-r):(this.Canvas.textBaseline="middle",d.Y=u-r/2),this.IsHScreen?(this.Canvas.save(),this.Canvas.translate(u,h),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(s.Symbol,0,0),this.Canvas.restore()):(this.Canvas.fillText(s.Symbol,h,u),s.Text&&this.IconRect.push({Index:o,Rect:d,Item:s})),s.Line){var f=this.Data.Data[s.Index],p="H"==s.Line.KData?f.High:f.Low,m=this.ChartFrame.GetYFromData(p),v=u;Array.isArray(s.Line.Offset)&&2==s.Line.Offset.length&&(v>m?(v-=s.Line.Offset[1],m+=s.Line.Offset[0]):v<m&&(v+=s.Line.Offset[1],m-=s.Line.Offset[0])),this.Canvas.save(),s.Line.Dash&&this.Canvas.setLineDash(s.Line.Dash),s.Line.Width>0&&(this.Canvas.lineWidth=s.Line.Width),this.Canvas.strokeStyle=s.Line.Color,this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(v,R(h)),this.Canvas.lineTo(m,R(h))):(this.Canvas.moveTo(R(h),v),this.Canvas.lineTo(R(h),m)),this.Canvas.stroke(),this.Canvas.restore()}}}}}},this.GetTooltipData=function(t,e,i){if(!Ce.IsNonEmptyArray(this.IconRect))return!1;for(var a=0;a<this.IconRect.length;++a){var n=this.IconRect[a];if(n.Rect){var r=n.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(r.X,r.Y,r.Width,r.Height),this.Canvas.isPointInPath(t,e))return g.Chart.Log("[ChartMultiSVGIcon::GetTooltipData] icon ",n),i.Data=n,i.ChartPaint=this,i.Type=4,!0}}return!1},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=i+e;for(var n in this.Icon){var r=this.Icon[n];r.Index>=i&&r.Index<a&&(null==t.Max?t.Max=r.Value:t.Max<r.Value&&(t.Max=r.Value),null==t.Min?t.Min=r.Value:t.Min>r.Value&&(t.Min=r.Value))}return t}}function re(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiHtmlDom",this.Texts=[],this.IsHScreen=!1,this.DrawCallback,this.DrawItem=[],this.EnableDraw=!0,this.HQChart,this.IsDestroy=!1,this.Draw=function(){this.EnableDraw&&(this.IsDestroy||(this.DrawItem=[],this.DrawCallback&&this.DrawCallback(1,{Self:this}),this.DrawDom(),this.DrawCallback&&this.DrawCallback(2,{Self:this,DrawItem:this.DrawItem})))},this.OnDestroy=function(){this.IsDestroy=!0,this.DrawCallback&&this.DrawCallback(4,{Self:this})},this.DrawDom=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&!(this.Data.length<=0)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,i=this.ChartBorder.GetTopEx(),a=this.ChartBorder.GetBottomEx(),n=L();if(this.HQChart)var r=this.HQChart.UIElement.getBoundingClientRect().left,o=this.HQChart.UIElement.getBoundingClientRect().top;else r=null,o=null;for(var s in this.Texts){var l=this.Texts[s];if(l.Text&&Ce.IsNumber(l.Index)){var h=this.IsMinuteFrame(),u=l.Index-e,c={KData:m=this.Data.Data[l.Index],Item:l,IsShow:!1,Self:this};if(u>=0&&u<t){var d=this.ChartFrame.GetXFromIndex(u);if("Top"==l.Value)var f=i;else if("Bottom"==l.Value)f=a;else f=this.ChartFrame.GetYFromData(l.Value);c.X=d/n,c.Y=f/n,c.UIElement={Left:r,Top:o},c.IsShow=!0}if(this.DrawItem.push(c),this.DrawCallback&&this.DrawCallback(3,c),l.Line){if(h)var p=this.Data.Data[l.Index];else{var m=this.Data.Data[l.Index];p="H"==l.Line.KData?m.High:m.Low}var v=this.ChartFrame.GetYFromData(p),g=f;Array.isArray(l.Line.Offset)&&2==l.Line.Offset.length&&(g>v?(g-=l.Line.Offset[1],v+=l.Line.Offset[0]):g<v&&(g+=l.Line.Offset[1],v-=l.Line.Offset[0])),this.Canvas.save(),l.Line.Dash&&this.Canvas.setLineDash(l.Line.Dash);var C=L(),D=1*C;l.Line.Width>0&&(D=l.Line.Width*C),this.Canvas.lineWidth=D,this.Canvas.strokeStyle=l.Line.Color,this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(g,R(d)),this.Canvas.lineTo(v,R(d))):(this.Canvas.moveTo(B(D,d),g),this.Canvas.lineTo(B(D,d),v)),this.Canvas.stroke(),this.Canvas.restore()}}}}},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=i+e;for(var n in this.Texts){var r=this.Texts[n];Ce.IsNumber(r.Index)&&(r.Index>=i&&r.Index<a&&(null==t.Max?t.Max=r.Value:t.Max<r.Value&&(t.Max=r.Value),null==t.Min?t.Min=r.Value:t.Min>r.Value&&(t.Min=r.Value)))}return t}}function oe(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawSVG",this.Family,this.TextFont,this.Texts=[],this.IsHScreen=!1,this.IsDestroy=!1,this.EnableTooltip=!0,this.TooltipRect=[],this.Draw=function(){this.TooltipRect=[],this.IsShow&&!this.ChartFrame.IsMinSize&&(this.IsShowIndexTitleOnly()||this.DrawSVG())},this.DrawSVG=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&Ce.IsNonEmptyArray(this.Data.Data)&&Ce.IsNonEmptyArray(this.Texts)&&this.Family){this.IsHScreen=!0===this.ChartFrame.IsHScreen;for(var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,i=this.ChartBorder.GetTopEx(),a=this.ChartBorder.GetBottomEx(),n=L(),r=0,o=0,s=0;s<this.Texts.length;++s){var l=this.Texts[s];if(l.SVG&&l.SVG.Symbol&&Ce.IsNumber(l.Index)){this.IsMinuteFrame();var h=l.Index-e,u=this.Data.Data[l.Index];if(!(h<0||h>=t)){r=this.ChartFrame.GetXFromIndex(h),o="Top"==l.Value?i:"Bottom"==l.Value?a:this.ChartFrame.GetYFromData(l.Value);var c=l.SVG;Ce.IsNumber(c.YOffset)&&(o+=c.YOffset);var d=c.Size+"px "+this.Family;this.Canvas.font=d;var f=c.Size/2,p={Left:r-f,Right:r+f,Top:o-c.Size,Bottom:o,Height:c.Size,Width:c.Size};if(p.Top<0&&(p.Top=0,p.Bottom=c.Size,o=p.Bottom),this.Canvas.textBaseline="bottom",this.Canvas.textAlign="center",this.Canvas.fillStyle=c.Color,this.Canvas.fillText(c.Symbol,r,o),this.EnableTooltip&&this.TooltipRect.push({Rect:p,Index:s}),l.Text&&l.Text.Content&&this.TextFont){var m=l.Text;this.Canvas.font=this.TextFont,this.Canvas.fillStyle=m.Color;var v=o;Ce.IsNumber(m.YOffset)&&(v+=m.YOffset),this.Canvas.fillText(m.Content,r,v)}if(l.Line){var g,C=l.Line;u=this.Data.Data[l.Index];switch(C.Value){case"C":g=u.Close;break;case"H":g=u.High;break;case"L":g=u.Low}if(!Ce.IsNumber(g))continue;var D=this.ChartFrame.GetYFromData(g);if(D>=p.Top&&D<=p.Bottom)continue;D<p.Top?(v=p.Top,Ce.IsNumber(C.SVGBlank)&&(v-=C.SVGBlank)):(v=p.Bottom,Ce.IsNumber(C.SVGBlank)&&(v+=C.SVGBlank)),C.Dash&&this.Canvas.setLineDash(C.Dash);var y=1*n;C.Width>0&&(y=C.Width*n),this.Canvas.lineWidth=y,this.Canvas.strokeStyle=C.Color,this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(v,R(r)),this.Canvas.lineTo(D,R(r))):(this.Canvas.moveTo(B(y,r),v),this.Canvas.lineTo(B(y,r),D)),this.Canvas.stroke(),this.Canvas.setLineDash([])}}}}}},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=i+e;if(!Ce.IsNonEmptyArray(this.Texts))return t;for(var n=0;n<this.Texts.length;++n){var r=this.Texts[n];if(Ce.IsNumber(r.Index)&&(r.Index>=i&&r.Index<a)){if(!Ce.IsNumber(r.Value))continue;null==t.Max?t.Max=r.Value:t.Max<r.Value&&(t.Max=r.Value),null==t.Min?t.Min=r.Value:t.Min>r.Value&&(t.Min=r.Value)}}return t},this.GetTooltipData=function(t,e,i){if(!this.IsShow)return!1;for(var a=0;a<this.TooltipRect.length;++a){var n=this.TooltipRect[a];if(n.Rect){var r=n.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(r.Left,r.Top,r.Width,r.Height),this.Canvas.isPointInPath(t,e)){var o=this.Texts[n.Index];return g.Chart.Log("[ChartDrawSVG::GetTooltipData] svg icon.",n),i.Data={Rect:n.Rect,Item:o,Index:n.Index},i.ChartPaint=this,i.Type=7,!0}}}return!1}}function se(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartStackedBar",this.Data,this.BarName=[],this.BarColor=["rgb(255,165,0)","rgb(95,158,160)"],this.LineWidth=1,this.BarType=0,this.IsHScreen,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&Ce.IsNonEmptyArray(this.Data.Data)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount;if(this.IsHScreen)var a=(s=this.ChartBorder.GetHScreenBorder()).TopEx+e/2+Qe.FrameLeftMargin,n=s.BottomEx,r=s.RightEx,o=s.LeftEx;else{a=(s=this.ChartFrame.GetBorder()).LeftEx+e/2+Qe.FrameLeftMargin,n=s.RightEx,r=s.TopEx,o=s.BottomEx;var s,l=this.GetLockRect();l&&(n=l.Left)}var h=this.IsMinuteFrame();if(this.Canvas.save(),1==this.BarType);else{this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*L());var u=this.Canvas.lineWidth}for(var c=this.ChartFrame.GetYFromData(0),d=this.Data.DataOffset,f=0;d<this.Data.Data.length&&f<i;++d,++f,a+=t+e){var p=this.Data.Data[d];if(Ce.IsNonEmptyArray(p)){if(h)var m=this.ChartFrame.GetXFromIndex(f);else{var v=a,g=a+t;if(g>n)break;m=a+(g-a)/2}if(m>n)break;1==this.BarType&&t>=4?this.DrawKBarItem(p,m,v,g,r,o,c,t):this.DrawBarItem(p,m,r,o,c,u)}}this.Canvas.restore()}},this.DrawKBarItem=function(t,e,i,a,n,r,o,s){for(var l=0,h=o,u=0,c=o,d=0;d<t.length;++d){var f=t[d];if(Ce.IsNumber(f)&&0!=f){if(this.Canvas.fillStyle=this.BarColor[d],f>0){l+=f;var p={Left:i,Top:m=this.ChartFrame.GetYFromData(l),Width:s,Height:h-m};h=m}else{u+=f;var m;p={Left:i,Top:m=this.ChartFrame.GetYFromData(u),Width:s,Height:c-m};c=m}this.IsHScreen?this.Canvas.fillRect(p.Top,p.Left,p.Height,p.Width):this.Canvas.fillRect(p.Left,p.Top,p.Width,p.Height)}}},this.DrawBarItem=function(t,e,i,a,n,r){e=B(r,e);for(var o=0,s=n,l=0,h=n,u=0;u<t.length;++u){var c=t[u];if(Ce.IsNumber(c)&&0!=c){var d={};if(c>0){o+=c;d={X:e,Y:s,X2:e,Y2:f=this.ChartFrame.GetYFromData(o)};s=f}else{l+=c;var f;d={X:e,Y:h,X2:e,Y2:f=this.ChartFrame.GetYFromData(l)};h=f}this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(d.Y,d.X),this.Canvas.lineTo(d.Y2,d.X2)):(this.Canvas.moveTo(d.X,d.Y),this.Canvas.lineTo(d.X2,d.Y2)),this.Canvas.strokeStyle=this.BarColor[u],this.Canvas.stroke()}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={Min:null,Max:null};if(!this.Data||!this.Data.Data)return e;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var n=this.Data.Data[i];if(n&&Ce.IsNonEmptyArray(n)){for(var r=0,o=0,s=0;s<n.length;++s){var l=n[s];Ce.IsNumber(l)&&(0!=l&&(l>0?r+=l:l<0&&(o+=l)))}null==e.Max&&(e.Max=r,e.Min=o),e.Max<r&&(e.Max=r),e.Min>o&&(e.Min=o)}}return e},this.PtInChart=function(t,e){var i={StackedBar:!0};return 0==this.BarType&&(i.BarWidth=4),this.PtInBar(t,e,i)},this.DrawSelectedStatus=function(){this.DrawLinePoint({StackedBar:!0})}}function le(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartLock",this.WidthDiv=.2,this.LockCount=20,this.BGColor=Qe.LockBGColor,this.TextColor=Qe.LockTextColor,this.Font=Qe.DefaultTextFont,this.Title="🔒开通权限",this.LockRect=null,this.LockID,this.Callback,this.IndexName,this.MinWidth=null,this.Draw=function(t){if(this.LockRect=null,this.NotSupportMessage)this.DrawNotSupportmessage();else if(!0!==this.ChartFrame.IsHScreen){var e=this.ChartBorder.GetRight(),i=0;if(null!=this.ChartFrame.Data){var a=this.ChartFrame.DataWidth,n=this.ChartFrame.DistanceWidth;e=this.ChartBorder.GetLeft()+n/2+2;for(var r=this.ChartBorder.GetRight(),o=this.ChartFrame.XPointCount,s=this.ChartFrame.Data.DataOffset,l=0;s<this.ChartFrame.Data.Data.length&&l<o;++s,++l,e+=a+n){var h=this.ChartFrame.Data.Data[s];if(null!=h.Open&&null!=h.High&&null!=h.Low&&null!=h.Close){if(e+a>r)break}}i=(a+n)*this.LockCount}0==i&&(i=(e-this.ChartBorder.GetLeft())*this.WidthDiv);var u=e-i;u<this.ChartBorder.GetLeft()&&(u=this.ChartBorder.GetLeft());var c=this.ChartBorder.GetBottom()-this.ChartBorder.GetTop(),d=this.ChartBorder.GetRight()-u;if(this.MinWidth>10&&d<this.MinWidth&&(d=this.MinWidth,(u=this.ChartBorder.GetRight()-d)<this.ChartBorder.GetLeft()&&(u=this.ChartBorder.GetLeft())),t){this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(u,this.ChartBorder.GetTop(),d,c);var f=u+d/2,p=this.ChartBorder.GetTop()+c/2;this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.Title,f,p)}this.LockRect={Left:u,Top:this.ChartBorder.GetTop(),Width:d,Heigh:c}}else this.HScreenDraw(t)},this.HScreenDraw=function(t){var e=this.ChartBorder.GetBottom(),i=0;if(null!=this.ChartFrame.Data){var a=this.ChartFrame.DataWidth,n=this.ChartFrame.DistanceWidth;e=this.ChartBorder.GetTop()+n/2+2;for(var r=this.ChartBorder.GetBottom(),o=this.ChartFrame.XPointCount,s=this.ChartFrame.Data.DataOffset,l=0;s<this.ChartFrame.Data.Data.length&&l<o;++s,++l,e+=a+n){var h=this.ChartFrame.Data.Data[s];if(null!=h.Open&&null!=h.High&&null!=h.Low&&null!=h.Close){if(e+a>r)break}}i=(a+n)*this.LockCount}0==i&&(i=(e-this.ChartBorder.GetTop())*this.WidthDiv);var u=e-i;u<this.ChartBorder.GetTop()&&(u=this.ChartBorder.GetTop());var c=this.ChartBorder.GetRight()-this.ChartBorder.GetLeft(),d=this.ChartBorder.GetBottom()-u;this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(this.ChartBorder.GetLeft(),u,c,d);var f=this.ChartBorder.GetLeft()+c/2,p=u+d/2;this.Canvas.save(),this.Canvas.translate(f,p),this.Canvas.rotate(90*Math.PI/180),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.Title,0,0),this.Canvas.restore(),this.LockRect={Left:this.ChartBorder.GetLeft(),Top:u,Width:c,Heigh:d}},this.GetTooltipData=function(t,e,i){return null!=this.LockRect&&(this.Canvas.beginPath(),this.Canvas.rect(this.LockRect.Left,this.LockRect.Top,this.LockRect.Width,this.LockRect.Heigh),!!this.Canvas.isPointInPath(t,e)&&(i.Data={ID:this.LockID,Callback:this.Callback,IndexName:this.IndexName},i.ChartPaint=this,!0))}}function he(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.Radius=100,this.Distance=30,this.txtLine=20,this.paddingX=20/3,this.Draw=function(){if(!(this.Data&&this.Data.Data&&this.Data.Data.length>0))return this.DrawEmptyData();this.ChartBorder.GetLeft(),this.ChartBorder.GetRight(),this.ChartBorder.GetTop(),this.ChartBorder.GetBottom();var t=this.ChartBorder.GetWidth(),e=this.ChartBorder.GetHeight();if(isNaN(this.Radius)){var i=this.Radius.replace("%","");i/=100,t>=e&&(this.Radius=i*e),t<e&&(this.Radius=i*t)}this.Canvas.save(),this.Canvas.translate(t/2,e/2);var a=0;for(var n in this.Data.Data)a+=this.Data.Data[n].Value;var r=0,o=0;for(var s in this.Data.Data){var l=this.Data.Data[s],h=(l.Value/a).toFixed(2);this.Canvas.beginPath(),this.Canvas.moveTo(0,0),o+=2*h*Math.PI,this.Canvas.strokeStyle="white",this.Canvas.fillStyle=l.Color,this.Canvas.arc(0,0,this.Radius,r,o),this.Canvas.fill(),this.Canvas.closePath(),this.Canvas.stroke(),this.Canvas.beginPath(),this.Canvas.strokeStyle=l.Color,this.Canvas.moveTo(0,0);var u=(this.Radius+this.Distance)*Math.cos(o-(o-r)/2),c=(this.Radius+this.Distance)*Math.sin(o-(o-r)/2);this.Canvas.lineTo(u,c);var d=this.txtLine,f=this.paddingX;if(this.Canvas.textAlign="left",o-(o-r)/2<1.5*Math.PI&&o-(o-r)/2>.5*Math.PI&&(d=-this.txtLine,f=-this.paddingX,this.Canvas.textAlign="right"),this.Canvas.lineTo(u+d,c),this.Canvas.stroke(),l.Text)this.Canvas.fillText(l.Text,u+d+f,c);else{var p=l.Name+":"+l.Value;this.Canvas.fillText(p,u+d+f,c)}r+=2*h*Math.PI}this.Canvas.restore()},this.DrawEmptyData=function(){g.Chart.Log("[ChartPie::DrawEmptyData]")}}function ue(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.BorderPoint=[],this.DataPoint=[],this.CenterPoint={},this.StartAngle=0,this.Color="rgb(198,198,198)",this.AreaColor="rgba(242,154,118,0.4)",this.AreaLineColor="rgb(242,154,118)",this.TitleFont=24*L()+"px 微软雅黑",this.TitleColor="rgb(102,102,102)",this.BGColor=["rgb(255,255,255)","rgb(224,224,224)"],this.DrawBorder=function(){if(!(this.BorderPoint.length<=0)){this.Canvas.font=this.TitleFont,this.Canvas.strokeStyle=this.Color;var t=[1,.8,.6,.4,.2];for(var e in t){var i=t[e],a=!0;for(var n in this.BorderPoint){(o=this.BorderPoint[n]).X=this.CenterPoint.X+o.Radius*Math.cos(o.Angle*Math.PI/180)*i,o.Y=this.CenterPoint.Y+o.Radius*Math.sin(o.Angle*Math.PI/180)*i,a?(this.Canvas.beginPath(),this.Canvas.moveTo(o.X,o.Y),a=!1):this.Canvas.lineTo(o.X,o.Y)}this.Canvas.closePath(),this.Canvas.stroke(),this.Canvas.fillStyle=this.BGColor[e%2==0?0:1],this.Canvas.fill()}for(var r in this.Canvas.beginPath(),this.BorderPoint){var o;(o=this.BorderPoint[r]).X=this.CenterPoint.X+o.Radius*Math.cos(o.Angle*Math.PI/180),o.Y=this.CenterPoint.Y+o.Radius*Math.sin(o.Angle*Math.PI/180),this.Canvas.moveTo(this.CenterPoint.X,this.CenterPoint.Y),this.Canvas.lineTo(o.X,o.Y),this.DrawText(o)}this.Canvas.stroke()}},this.DrawArea=function(){if(this.DataPoint&&!(this.DataPoint.length<=0)){this.Canvas.fillStyle=this.AreaColor,this.Canvas.strokeStyle=this.AreaLineColor,this.Canvas.beginPath();var t=!0;for(var e in this.DataPoint){var i=this.DataPoint[e];t?(this.Canvas.beginPath(),this.Canvas.moveTo(i.X,i.Y),t=!1):this.Canvas.lineTo(i.X,i.Y)}this.Canvas.closePath(),this.Canvas.fill(),this.Canvas.stroke()}},this.DrawText=function(t){if(t.Text){this.Canvas.fillStyle=this.TitleColor;var e=t.X,i=t.Y;t.Angle>0&&t.Angle<45?(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",e+=2):t.Angle>=0&&t.Angle<90?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top",e+=2):t.Angle>=90&&t.Angle<135?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top",e-=2):t.Angle>=135&&t.Angle<180?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top",e-=2):t.Angle>=180&&t.Angle<225?(this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",e-=2):t.Angle>=225&&t.Angle<=270?(this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom"):t.Angle>270&&t.Angle<315?(this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",e+=2):(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",e+=2),this.Canvas.fillText(t.Text,e,i)}},this.Draw=function(){this.BorderPoint=[],this.DataPoint=[],this.CenterPoint={},this.Data&&this.Data.Data&&this.Data.Data.length>0?this.CalculatePoints(this.Data.Data):this.CalculatePoints(null),this.DrawBorder(),this.DrawArea()},this.CalculatePoints=function(t){for(var e=this.ChartBorder.GetLeft(),i=(this.ChartBorder.GetRight(),this.ChartBorder.GetTop()),a=(this.ChartBorder.GetBottom(),this.ChartBorder.GetWidth()),n=this.ChartBorder.GetHeight(),r={X:e+a/2,Y:i+n/2},o=Math.min(a/2,n/2)-2,s=Math.max(5,t?t.length:0),l=360/s,h=0;h<s;++h){var u={Index:h,Radius:o,Angle:h*l+this.StartAngle},c=u.Angle;if(t&&h<t.length){var d=t[h],f={Index:h,Text:d.Text};if(u.Text=d.Name,d.Value){var p=d.Value;p>=1&&(p=1);var m=o*p;f.X=r.X+m*Math.cos(c*Math.PI/180),f.Y=r.Y+m*Math.sin(c*Math.PI/180)}else f.X=r.X,f.Y=r.Y;this.DataPoint.push(f)}this.BorderPoint.push(u)}this.CenterPoint=r},this.DrawEmptyData=function(){g.Chart.Log("[ChartPie::DrawEmptyData]")}}var ce=new function(){this.DataMap=new p.default([["FrameSplitPaint",{Create:function(){return new ve}}],["RectSelectPaint",{Create:function(){return new function(){this.newMethod=de,this.newMethod(),delete this.newMethod,this.ClassName="RectSelectPaint",this.LineColor=Qe.RectSelect.LineColor,this.LineWidth=Qe.RectSelect.LineWidth,this.LineDotted=Qe.RectSelect.LineDotted,this.AreaColor=Qe.RectSelect.AreaColor,this.SubAreaColor=Qe.RectSelect.SubAreaColor,this.FirstPoint,this.SecondPoint,this.CenterPoint,this.PreventClose=!1,this.SpaceReselected=!1,this.SubClient={FirstPoint:null,SecondPoint:null,Start:null,End:null},this.StartDate,this.EndDate,this.CenterDate,this.HQChart,this.DragRect,this.ShowRangeText={Enable:!1,Position:0,Font:Qe.RectSelect.RangeTextFont,Color:Qe.RectSelect.RangeTextColor,BGColor:Qe.RectSelect.RangeTextBGColor,SubPosition:0,SubFont:Qe.RectSelect.RangeTextSubFont,SubColor:Qe.RectSelect.RangeTextSubColor,SubBGColor:Qe.RectSelect.RangeTextSubBGColor},this.BorderCache,this.SetOption=function(t){if(t&&(t.LineColor&&(this.LineColor=t.LineColor),t.AreaColor&&(this.AreaColor=t.AreaColor),Ce.IsBool(t.SpaceReselected)&&(this.SpaceReselected=t.SpaceReselected),t.ShowRangeText)){var e=t.ShowRangeText;Ce.IsBool(e.Enable)&&(this.ShowRangeText.Enable=e.Enable),Ce.IsNumber(e.Position)&&(this.ShowRangeText.Position=e.Position),Ce.IsNumber(e.SubPosition)&&(this.ShowRangeText.SubPosition=e.SubPosition)}},this.ReloadResource=function(t){this.LineColor=Qe.RectSelect.LineColor,this.LineWidth=Qe.RectSelect.LineWidth,this.LineDotted=Qe.RectSelect.LineDotted,this.AreaColor=Qe.RectSelect.AreaColor,this.ShowRangeText.Font=Qe.RectSelect.RangeTextFont,this.ShowRangeText.Color=Qe.RectSelect.RangeTextColor,this.ShowRangeText.BGColor=Qe.RectSelect.RangeTextBGColor},this.IsMinuteChart=function(){var t=this.HQChart.ClassName,e="MinuteChartContainer"==t||"MinuteChartHScreenContainer"==t;return e},this.GetKData=function(){if(!this.HQChart)return null;var t=this.IsMinuteChart(),e=null;if(t){if(!this.HQChart.SourceData)return null;e=this.HQChart.SourceData}else{if(!this.HQChart.ChartPaint[0])return null;if(!(e=this.HQChart.ChartPaint[0].Data))return null}return e},this.GetPointCount=function(){var t=0;return this.FirstPoint&&++t,this.SecondPoint&&++t,t},this.DateToNumber=function(t,e){if(e)return Ce.IsNumber(t.Date)?1e4*t.Date+t.Time:t.Time;var i=this.HQChart.Period;return mt.IsDayPeriod(i,!0)?t.Date:mt.IsMinutePeriod(i,!0)?1e4*t.Date+t.Time:mt.IsSecondPeriod(i)||mt.IsTickPeriod(i)?1e6*t.Date+t.Time:null},this.GetSelectRectData=function(){if(!this.FirstPoint&&!this.SecondPoint)return null;var t=this.GetKData();if(!t)return null;for(var e=this.IsMinuteChart(),i=this.DateToNumber(this.FirstPoint,e),a=this.DateToNumber(this.SecondPoint,e),n={Start:null,End:null,Data:t},r=0;r<t.Data.length;++r){var o=t.Data[r];if(o){var s=this.DateToNumber(o,e);if(i==s&&(n.Start=r),a==s&&(n.End=r),Ce.IsNumber(n.Start)&&Ce.IsNumber(n.End)){if(n.Start>n.End){var l=n.Start;n.Start=n.End,n.End=l}return n}}}return null},this.SortPoint=function(){var t=this.IsMinuteChart();if(this.CenterData=null,this.FirstPoint&&!this.SecondPoint)this.StartDate={Date:this.DateToNumber(this.FirstPoint,t),Index:0};else if(this.FirstPoint&&this.SecondPoint){var e=this.DateToNumber(this.FirstPoint,t),i=this.DateToNumber(this.SecondPoint,t);if(e<i?(this.StartDate={Date:e,Index:0},this.EndDate={Date:i,Index:1}):(this.StartDate={Date:i,Index:1},this.EndDate={Date:e,Index:0}),this.CenterPoint){var a=this.DateToNumber(this.CenterPoint,t);this.CenterDate={Date:a,Index:2}}if(this.SubClient.FirstPoint&&this.SubClient.SecondPoint){var e=this.DateToNumber(this.SubClient.FirstPoint,t),i=this.DateToNumber(this.SubClient.SecondPoint,t);e<i?(this.SubClient.Start={Date:e,Index:3},this.SubClient.End={Date:i,Index:4}):(this.SubClient.Start={Date:i,Index:4},this.SubClient.End={Date:e,Index:3}),this.SubClient.End.Date<=this.StartDate.Date||this.SubClient.Start.Date>=this.EndDate.Date?(this.SubClient.Start=null,this.SubClient.End=null):(this.SubClient.Start.Date<this.StartDate.Date&&(this.SubClient.Start.Date=this.StartDate.Date),this.SubClient.End.Date>this.EndDate.Date&&(this.SubClient.End.Date=this.EndDate.Date))}}},this.GetCenterPoint=function(){if(!this.FirstPoint||!this.SecondPoint)return null;if(!Ce.IsNumber(this.FirstPoint.DataIndex))return null;if(!Ce.IsNumber(this.SecondPoint.DataIndex))return null;var t=this.FirstPoint.DataIndex-this.SecondPoint.DataIndex;if(Math.abs(t)<3)return null;var e=parseInt(this.FirstPoint.DataIndex+(this.SecondPoint.DataIndex-this.FirstPoint.DataIndex)/2);if(e<0)return null;var i=this.GetKData();if(!i||!i.Data)return null;var a=i.Data[e];return a?{Date:a.Date,Time:a.Time,DataIndex:e}:null},this.MovePoint=function(t){if(!this.FirstPoint||!this.SecondPoint)return!1;var e=this.GetKData();if(!e||!e.Data)return!1;var i=this.FirstPoint.DataIndex+t,a=e.Data[i];if(!a)return!1;var n={Date:a.Date,Time:a.Time,DataIndex:i},i=this.SecondPoint.DataIndex+t,a=e.Data[i];if(!a)return!1;var r={Date:a.Date,Time:a.Time,DataIndex:i},i=this.CenterPoint.DataIndex+t,a=e.Data[i];if(!a)return!1;var o={Date:a.Date,Time:a.Time,DataIndex:i};return this.FirstPoint=n,this.SecondPoint=r,this.CenterPoint=o,!0},this.MoveSubRect=function(t,e){if(!this.FirstPoint||!this.SecondPoint)return!1;if(!this.SubClient||!this.SubClient.FirstPoint||!this.SubClient.SecondPoint)return!1;var i=this.GetKData();if(!i||!i.Data)return!1;var a=Math.min(this.FirstPoint.DataIndex,this.SecondPoint.DataIndex),n=Math.max(this.FirstPoint.DataIndex,this.SecondPoint.DataIndex),r=this.SubClient.FirstPoint,o=this.SubClient.SecondPoint;if(this.SubClient.FirstPoint.DataIndex>this.SubClient.SecondPoint.DataIndex)var r=this.SubClient.SecondPoint,o=this.SubClient.FirstPoint;var s=r.DataIndex,l=o.DataIndex;if(e){if(s<=a)return!1;s-=t,l-=t}else{if(o.DataIndex>=n)return!1;s+=t,l+=t}var h=!1;if(s!=r.DataIndex){r.DataIndex=s;var u=i.Data[s];r.Date=u.Date,r.Time=u.Time,h=!0}if(l!=r.DataIndex){o.DataIndex=l;var u=i.Data[l];o.Date=u.Date,o.Time=u.Time,h=!0}return h},this.SetPoint=function(t,e){var i=null;if(e&&Ce.IsNumber(e.DataIndex)&&(i=e.DataIndex),!e||!Ce.IsNumber(e.Index))return this.FirstPoint?!this.SecondPoint&&(this.SecondPoint={Date:t.Date,Time:t.Time,DataIndex:i},this.CenterPoint=this.GetCenterPoint(),!0):(this.FirstPoint={Date:t.Date,Time:t.Time,DataIndex:i},!0);switch(e.Index){case 0:return this.FirstPoint={Date:t.Date,Time:t.Time,DataIndex:i},this.CenterPoint=this.GetCenterPoint(),!0;case 1:return this.SecondPoint={Date:t.Date,Time:t.Time,DataIndex:i},this.CenterPoint=this.GetCenterPoint(),!0;case 2:var a=i-this.CenterPoint.DataIndex;return Math.abs(a)>0&&this.MovePoint(a);case 3:return this.SubClient.FirstPoint={Date:t.Date,Time:t.Time,DataIndex:i},!0;case 4:return this.SubClient.SecondPoint={Date:t.Date,Time:t.Time,DataIndex:i},!0;default:return!1}},this.ClearPoint=function(){if(this.PreventClose)return!1;var t=!1;return this.FirstPoint&&(this.FirstPoint=null,t=!0),this.SecondPoint&&(this.SecondPoint=null,t=!0),this.SubClient.FirstPoint=null,this.SubClient.SecondPoint=null,t},this.Draw=function(){if(this.BorderCache=null,this.StartDate=null,this.EndDate=null,this.CenterDate=null,this.DragRect=[],this.SubClient.Start=null,this.SubClient.End=null,this.FirstPoint||this.SecondPoint){this.SortPoint();var t=this.GetKData();if(t&&(this.Data=t,this.ChartFrame&&this.ChartFrame.SubFrame)){var e=this.ChartFrame.SubFrame[0].Frame;if(e){var i=!0===e.IsHScreen,a=e.DataWidth,n=e.DistanceWidth,r=e.XPointCount;if(i){var o=e.GetBorder(),s=o.TopEx+n/2+Qe.FrameLeftMargin;o.BottomEx,this.BorderCache=o}else{var o=e.GetBorder(),s=o.LeftEx+n/2+Qe.FrameLeftMargin,l=(o.RightEx,o.ChartHeight,o.TopTitle,L(),o.TopEx),h=o.BottomEx;this.BorderCache=o}this.Canvas.save(),mt.IsDayPeriod(this.HQChart.Period,!0);for(var u=this.IsMinuteChart(),c=null,d=null,f=null,p=null,m=[],v=this.Data.DataOffset,g=0;v<this.Data.Data.length&&g<r;++v,++g,s+=a+n){var C=this.Data.Data[v];if(C){var D=s,y=s+a;if(u)var x=e.GetXFromIndex(g);else var x=D+(y-D)/2;var S=this.DateToNumber(C,u);if(this.StartDate&&S==this.StartDate.Date&&(c={XIndex:v,X:x,Top:l,Bottom:h,PointIndex:this.StartDate.Index,Type:0,Item:C},m.push(c)),this.EndDate&&S==this.EndDate.Date&&(d={XIndex:v,X:x,Top:l,Bottom:h,PointIndex:this.EndDate.Index,Type:1,Item:C},m.push(d)),this.CenterDate&&S==this.CenterDate.Date){var I={XIndex:v,X:x,Top:l,Bottom:h,PointIndex:this.CenterDate.Index,Type:2,Item:C};m.push(I)}if(this.SubClient&&this.SubClient.Start&&this.SubClient.End&&(S==this.SubClient.Start.Date&&(this.SubClient.Start.Point={Date:S,X:x,Top:l,Bottom:h,KItem:C}),S==this.SubClient.End.Date&&(this.SubClient.End.Point={Date:S,X:x,Top:l,Bottom:h,kItem:C})),f?(p.Date=S,p.X=x):(f={Date:S,X:x,Top:l,Bottom:h},p={Date:S,X:x,Top:l,Bottom:h}),c&&d)break}}if(this.DrawLines(m),this.DrawArea(c,d,f,p,this.AreaColor),this.SubClient&&this.SubClient.Start&&this.SubClient.End&&(this.DrawArea(this.SubClient.Start.Point,this.SubClient.End.Point,f,p,this.SubAreaColor,4),this.SubClient.Start.Point)){var C=this.SubClient.Start.Point,T={X:C.X,Top:C.Top,Bottom:C.Bottom,PointIndex:C.DataIndex,Type:3,Item:C.KItem};m.push(T)}this.DrawRangeText(m),this.Canvas.restore()}}}},this.DrawRangeText=function(t){if(this.ShowRangeText&&0!=this.ShowRangeText.Enable)for(var e,i,a,n=this.BorderCache,r=this.IsMinuteChart(),o=this.HQChart.Period,s=0;s<t.length;++s){var l=t[s];if(0===l.Type||1==l.Type||3==l.Type){if(r){var h=Ce.FormatDateString(l.Item.Date,"YYYY-MM-DD"),u=Ce.FormatTimeString(l.Item.Time,"HH:MM");a=h+" "+u}else{var h=Ce.FormatDateString(l.Item.Date,"YYYY-MM-DD"),u=null;mt.IsMinutePeriod(o,!0)?u=Ce.FormatTimeString(l.Item.Time,"HH:MM"):(mt.IsSecondPeriod(o)||mt.IsTickPeriod(o))&&(u=Ce.FormatTimeString(l.Item.Time,"HH:MM:SS")),a=u?h+" "+u:h}if(3==l.Type){var c=this.ShowRangeText.SubPosition,d=this.ShowRangeText.SubBGColor,f=this.ShowRangeText.SubColor;this.Canvas.font=this.ShowRangeText.SubFont;var p=this.GetFontHeight()}else{var c=this.ShowRangeText.Position,d=this.ShowRangeText.BGColor,f=this.ShowRangeText.Color;this.Canvas.font=this.ShowRangeText.Font;var p=this.GetFontHeight()}var m=this.Canvas.measureText(a).width+4,v={Height:p,Width:m};0==l.Type||3==l.Type?m>l.X?(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",e=l.X+2,v.X=l.X):(this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",e=l.X-2,v.X=l.X-m):1==l.Type&&(m>n.Right-l.X?(this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",e=l.X-2,v.X=l.X-m):(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",e=l.X+2,v.X=l.X)),1==c?(i=l.Top+(l.Bottom-l.Top)/2,3==l.Type&&(i+=p),v.Y=i-p/2):2==c?(i=l.Bottom,v.Y=i-p/2):(i=l.Top,v.Y=i-p/2),d&&(this.Canvas.fillStyle=d,this.Canvas.fillRect(R(v.X),R(v.Y),k(v.Width),k(v.Height))),f&&(this.Canvas.fillStyle=f,this.Canvas.fillText(a,e,i,m))}}},this.DrawLines=function(t){if(Ce.IsNonEmptyArray(t)){var e=this.LineWidth*L();this.Canvas.strokeStyle=this.LineColor,this.Canvas.lineWidth=e;for(var i=0;i<t.length;++i){var a=t[i],n=B(e,a.X);0==a.Type||1==a.Type?(this.LineDotted&&this.Canvas.setLineDash(this.LineDotted),this.Canvas.beginPath(),this.Canvas.moveTo(n,a.Top),this.Canvas.lineTo(n,a.Bottom),this.Canvas.stroke(),this.LineDotted&&this.Canvas.setLineDash([])):(this.Canvas.beginPath(),this.Canvas.moveTo(n,a.Top),this.Canvas.lineTo(n,a.Bottom),this.Canvas.stroke());var r=new It(n-3,a.Top,10,a.Bottom-a.Top);this.DragRect[i]={Rect:r,PointIndex:a.PointIndex,Type:a.Type}}}},this.PtInPaint=function(t,e){if(!Ce.IsNonEmptyArray(this.DragRect))return null;for(var i=0;i<this.DragRect.length;++i){var a=this.DragRect[i],n=a.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e))return(0,u.default)({Index:i,PointIndex:a.PointIndex,Type:a.Type,Self:this},"Type",a.Type)}return null},this.DrawArea=function(t,e,i,a,n,r){var o;if(i&&a&&this.StartDate&&this.EndDate&&(t&&e?o=[t,e]:!t&&e?o=[i,e]:t&&!e?o=[t,a]:i.Date>this.StartDate.Date&&a.Date<this.EndDate.Date&&(o=[i,a]),o&&2==o.length)){var s=o[0],l=o[1],h=R(s.X),u=R(l.X),c=u-h,d=s.Bottom-s.Top;this.Canvas.fillStyle=n,this.Canvas.fillRect(h,s.Top,c,d);var f={X:h,Y:s.Top,Right:u,Bottom:s.Top+d,Width:c,Height:d};Ce.IsNumber(r)&&this.DragRect.push({Rect:f,Type:r})}}}}}],["DragMovePaint",{Create:function(){return new function(){this.newMethod=de,this.newMethod(),delete this.newMethod,this.ClassName="DragMovePaint",this.DrawAfterTitle=!0,this.IsDynamic=!0,this.Info,this.IsShow=!1,this.Point,this.TextColor=Qe.DragMovePaint.TextColor,this.Font=Qe.DragMovePaint.Font,this.ReloadResource=function(t){this.TextColor=Qe.DragMovePaint.TextColor,this.Font=Qe.DragMovePaint.Font},this.Clear=function(){this.Info=null,this.IsShow=!1,this.Point=null},this.Draw=function(){if(this.Info&&this.IsShow&&this.Point){var t,e=this.Info.FrameID+1;this.Info.Type==ge.MAIN_KLINE?t="K线:"+this.Info.Name+", 窗口:"+e:this.Info.Type==ge.OVERLAY_KLINE?t="叠加K线:"+this.Info.Name+", 窗口:"+e:this.Info.Type==ge.MAIN_INDEX?t="指标:"+this.Info.IndexName+", 窗口:"+e:this.Info.Type==ge.OVERLAY_INDEX?t="叠加指标:"+this.Info.IndexName+", 窗口:"+e:this.Info.Type==ge.OVERLAY_MINUTE?t="走势图, 叠加价格线:"+this.Info.Name+", 窗口:"+e:this.Info.Type==ge.MAIN_MINUTE?t="走势图, 价格线:"+this.Info.Name+", 窗口:"+e:this.Info.Type==ge.MAIN_AVERAGE_MINUTE?t="走势图, 均线:"+this.Info.Name+", 窗口:"+e:this.Info.Type==ge.MAIN_MINUTE_VOL&&(t="走势图, 成交量:"+this.Info.Name+", 窗口:"+e),t&&(this.Canvas.font=this.Font,this.Canvas.fillStyle=this.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.Canvas.fillText(t,this.Point.X,this.Point.Y))}}}}}]]),this.Create=function(t){return this.DataMap.has(t)?this.DataMap.get(t).Create():null},this.Add=function(t,e){this.DataMap.set(t,{Create:e.Create})}};function de(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.Data,this.IsDynamic=!1,this.IsAnimation=!1,this.ClassName="IExtendChartPainting",this.SizeChange=!0,this.IsEraseBG=!1,this.DrawAfterTitle=!1,this.IsCallbackDraw=!1,this.Left=5,this.Right=5,this.Top=5,this.Bottom=5,this.Draw=function(){},this.SetOption=function(t){},this.GetFontHeight=function(t){return F(this.Canvas,t,"擎")}}function fe(){this.newMethod=de,this.newMethod(),delete this.newMethod,this.IsDynamic=!0,this.IsEraseBG=!0,this.DrawAfterTitle=!0,this.ClassName="KLineTooltipPaint",this.BorderColor=Qe.TooltipPaint.BorderColor,this.BGColor=Qe.TooltipPaint.BGColor,this.TitleColor=Qe.TooltipPaint.TitleColor,this.DateTimeColor=Qe.TooltipPaint.DateTimeColor,this.VolColor=Qe.TooltipPaint.VolColor,this.AmountColor=Qe.TooltipPaint.AmountColor,this.LatestPoint,this.ShowPosition=0,this.Left=1*L(),this.Top=5*L(),this.Width=50,this.Height=100,this.LineHeight=15*L(),this.Font=[Qe.TooltipPaint.TitleFont],this.HQChart,this.KLineTitlePaint,this.IsHScreen=!1,this.LanguageID=ti.LANGUAGE_CHINESE_ID,this.ReloadResource=function(t){this.BorderColor=Qe.TooltipPaint.BorderColor,this.BGColor=Qe.TooltipPaint.BGColor,this.TitleColor=Qe.TooltipPaint.TitleColor,this.DateTimeColor=Qe.TooltipPaint.DateTimeColor,this.VolColor=Qe.TooltipPaint.VolColor,this.AmountColor=Qe.TooltipPaint.AmountColor},this.GetLeft=function(){return this.IsHScreen?this.ChartBorder.GetRightEx()-this.Height-this.Top:0==this.ShowPosition?this.ChartBorder.GetLeft()+this.Left:this.ChartBorder.GetRight()-this.Width-this.Left},this.GetTop=function(){return this.IsHScreen?0==this.ShowPosition?this.ChartBorder.GetTop()+this.Left:this.ChartBorder.GetBottom()-this.Width-this.Left:this.ChartBorder.GetTopEx()+this.Top},this.IsEnableDraw=function(){if(!this.HQChart||!this.HQChart.TitlePaint||!this.HQChart.TitlePaint[0])return!1;if(this.HQChart.DragMode==M.CLICK_TOUCH_MODE_ID){if(0==this.HQChart.TouchStatus.CorssCursorShow)return!1}else if(!this.HQChart.IsOnTouch)return!1;return!this.HQChart.CurrentChartDrawPicture},this.Draw=function(){if(this.IsEnableDraw()){this.KLineTitlePaint=this.HQChart.TitlePaint[0];var t=this.KLineTitlePaint.GetCurrentKLineData();if(t){var e,i=8;this.HQChart.Symbol&&(e=this.HQChart.Symbol.toUpperCase()),"MinuteTooltipPaint"===this.ClassName?(i=7,Ii.IsFutures(e)&&++i):(Ce.IsNumber(t.Time)&&++i,Ii.IsSHSZStockA(this.HQChart.Symbol)&&t.FlowCapital>0&&++i,Ii.IsFutures(e)&&Ce.IsNumber(t.Position)&&++i),this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.Canvas.font=this.Font[0];var a=Ni(this.HQChart.Symbol),n=" 擎: 9999.99亿 ";a>=5&&(n=" 擎: "+99.99.toFixed(a)+" "),this.Width=this.Canvas.measureText(n).width;var r=this.GetFontHeight();if(r>this.LineHeight&&(this.LineHeight=r),this.Height=this.LineHeight*i+2*L()*2,t&&t.High>0){n=" 擎: "+t.High.toFixed(a)+" ";var o=this.Canvas.measureText(n).width;o>this.Width&&(this.Width=o)}this.CalculateShowPosition(),this.DrawBG(),this.DrawTooltipData(t),this.DrawBorder()}}},this.CalculateShowPosition=function(){if(this.ShowPosition=0,this.LatestPoint)if(this.IsHScreen){var t=this.ChartBorder.GetTop()+this.ChartBorder.GetHeight()/2;this.LatestPoint.Y<t&&(this.ShowPosition=1)}else{var e=this.ChartBorder.GetLeft()+this.ChartBorder.GetWidth()/2;this.LatestPoint.X<e&&(this.ShowPosition=1)}},this.DrawTooltipData=function(t){this.HQChart.Symbol&&(d=this.HQChart.Symbol.toUpperCase());var e=Ni(this.HQChart.Symbol),i=this.GetLeft()+2*L(),a=this.GetTop()+3*L();if(this.IsHScreen){this.Canvas.save();var n=this.GetLeft()+this.Height,r=this.GetTop();this.Canvas.translate(n,r),this.Canvas.rotate(90*Math.PI/180),i=2*L(),a=3*L()}this.Canvas.textBaseline="top",this.Canvas.textAlign="left",this.Canvas.font=this.Font[0];var o=this.Canvas.measureText("擎: ").width,s=Ce.FormatDateString(t.Date);this.Canvas.fillStyle=this.DateTimeColor,this.Canvas.fillText(s,i,a);var l=this.HQChart.Period;mt.IsMinutePeriod(l,!0)&&Ce.IsNumber(t.Time)?(a+=this.LineHeight,s=Ce.FormatTimeString(t.Time),this.Canvas.fillText(s,i,a)):mt.IsSecondPeriod(l)&&Ce.IsNumber(t.Time)&&(a+=this.LineHeight,s=Ce.FormatTimeString(t.Time,"HH:MM:SS"),this.Canvas.fillText(s,i,a)),a+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,s=ei.GetText("Tooltip-Open",this.LanguageID),this.Canvas.fillText(s,i,a);var h=this.KLineTitlePaint.GetColor(t.Open,t.YClose);s=t.Open.toFixed(e),this.Canvas.fillStyle=h,this.Canvas.fillText(s,i+o,a),a+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,s=ei.GetText("Tooltip-High",this.LanguageID),this.Canvas.fillText(s,i,a);h=this.KLineTitlePaint.GetColor(t.High,t.YClose),s=t.High.toFixed(e);this.Canvas.fillStyle=h,this.Canvas.fillText(s,i+o,a),a+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,s=ei.GetText("Tooltip-Low",this.LanguageID),this.Canvas.fillText(s,i,a);h=this.KLineTitlePaint.GetColor(t.Low,t.YClose),s=t.Low.toFixed(e);this.Canvas.fillStyle=h,this.Canvas.fillText(s,i+o,a),a+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,s=ei.GetText("Tooltip-Close",this.LanguageID),this.Canvas.fillText(s,i,a);h=this.KLineTitlePaint.GetColor(t.Close,t.YClose),s=t.Close.toFixed(e);if(this.Canvas.fillStyle=h,this.Canvas.fillText(s,i+o,a),a+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,s=ei.GetText("Tooltip-Increase",this.LanguageID),this.Canvas.fillText(s,i,a),t.YFClose>0&&Ii.IsChinaFutures(d)){var u=(t.Close-t.YFClose)/t.YFClose*100;h=this.KLineTitlePaint.GetColor(u,0),s=u.toFixed(2)+"%"}else if(t.YClose>0)u=(t.Close-t.YClose)/t.YClose*100,h=this.KLineTitlePaint.GetColor(u,0),s=u.toFixed(2)+"%";else s="--.--",h=this.KLineTitlePaint.GetColor(0,0);this.Canvas.fillStyle=h,this.Canvas.fillText(s,i+o,a),a+=this.LineHeight,s=ei.GetText("Tooltip-Vol",this.LanguageID),this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(s,i,a);var c=t.Vol;d&&Ii.IsSHSZ(d)&&(c/=100);s=Ce.FromatIntegerString(c,2,this.LanguageID);if(this.Canvas.fillStyle=this.VolColor,this.Canvas.fillText(s,i+o,a),Ce.IsNumber(t.Amount)){a+=this.LineHeight,s=ei.GetText("Tooltip-Amount",this.LanguageID),this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(s,i,a);s=Ce.FormatValueString(t.Amount,2,this.LanguageID);this.Canvas.fillStyle=this.AmountColor,this.Canvas.fillText(s,i+o,a)}if(Ii.IsSHSZStockA(this.HQChart.Symbol)&&t.FlowCapital>0){a+=this.LineHeight,s=ei.GetText("Tooltip-Exchange",this.LanguageID),this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(s,i,a);s=(u=t.Vol/t.FlowCapital*100).toFixed(2)+"%";this.Canvas.fillText(s,i+o,a)}var d=this.HQChart.Symbol.toUpperCase();if(Ii.IsFutures(d)&&Ce.IsNumber(t.Position)){this.Canvas.fillStyle=this.TitleColor,a+=this.LineHeight,s=ei.GetText("Tooltip-Position",this.LanguageID),this.Canvas.fillText(s,i,a);s=Ce.FromatIntegerString(t.Position,2,this.LanguageID);this.Canvas.fillText(s,i+o,a)}this.IsHScreen&&this.Canvas.restore()},this.DrawBorder=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.GetLeft(),i=this.GetTop();this.Canvas.strokeStyle=this.BorderColor,t?this.Canvas.strokeRect(R(e),R(i),this.Height,this.Width):this.Canvas.strokeRect(R(e),R(i),k(this.Width),k(this.Height))},this.DrawBG=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.GetLeft(),i=this.GetTop();this.Canvas.fillStyle=this.BGColor,t?this.Canvas.fillRect(e,i,this.Height,this.Width):this.Canvas.fillRect(e,i,this.Width,this.Height)},this.SetOption=function(t){t.LineHeight>0&&(this.LineHeight=t.LineHeight*L()),t.BGColor&&(this.BGColor=t.BGColor),t.LanguageID>0&&(this.LanguageID=t.LanguageID)}}function pe(){this.newMethod=fe,this.newMethod(),delete this.newMethod,this.ClassName="MinuteTooltipPaint",this.Left=1*L(),this.Top=1*L(),this.YClose,this.IsShowAveragePrice=!0,this.GetTop=function(){if(this.IsHScreen){var t=this.ChartBorder.GetHScreenBorder();return 0==this.ShowPosition?t.TopEx+this.Left:t.BottomEx-this.Width-this.Left}return(t=this.ChartBorder.GetBorder()).Top+this.Top},this.GetLeft=function(){if(this.IsHScreen)return(t=this.ChartBorder.GetHScreenBorder()).Right-this.Height-this.Top;var t=this.ChartBorder.GetBorder();return 0==this.ShowPosition?t.LeftEx+this.Left:t.RightEx-this.Width-this.Left},this.DrawTooltipData=function(t){if(this.HQChart.Symbol){var e=Ni(this.HQChart.Symbol),i=this.GetLeft()+2*L(),a=this.GetTop()+3*L();this.YClose=this.KLineTitlePaint.YClose;var n=this.HQChart.Symbol.toUpperCase();if(this.IsHScreen){this.Canvas.save();var r=this.GetLeft()+this.Height,o=this.GetTop();this.Canvas.translate(r,o),this.Canvas.rotate(90*Math.PI/180),i=2*L(),a=3*L()}this.Canvas.textBaseline="top",this.Canvas.textAlign="left",this.Canvas.font=this.Font[0];var s=this.Canvas.measureText("擎: ").width,l=t.DateTime.split(" ");if(l&&2==l.length){var h=Ce.FormatDateString(l[0]);this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(h,i,a),a+=this.LineHeight,h=Ce.FormatTimeString(l[1]),this.Canvas.fillText(h,i,a)}var u=t.Close,c=(t.Increase,t.Vol),d=t.Amount;t.Before&&(u=t.Before.Close,t.Before.Increase,c=t.Before.Vol,d=t.Before.Amount),a+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,h=ei.GetText("Tooltip-Price",this.LanguageID),this.Canvas.fillText(h,i,a);var f=this.KLineTitlePaint.GetColor(u,this.YClose);h=u.toFixed(e);this.Canvas.fillStyle=f,this.Canvas.fillText(h,i+s,a);var p=!0;if(t.Before?p=!1:Ii.IsForeignExchange(n)?p=!1:Ii.IsET(n)&&!Ii.IsETShowAvPrice(n)?p=!1:Ii.IsShowAvPrice&&!Ii.IsShowAvPrice(n)&&(p=!1),p&&Ce.IsNumber(t.AvPrice)&&this.IsShowAveragePrice){a+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,h=ei.GetText("Tooltip-AvPrice",this.LanguageID),this.Canvas.fillText(h,i,a);f=this.KLineTitlePaint.GetColor(t.AvPrice,this.YClose),h=t.AvPrice.toFixed(e);this.Canvas.fillStyle=f,this.Canvas.fillText(h,i+s,a)}a+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,h=ei.GetText("Tooltip-Increase",this.LanguageID),this.Canvas.fillText(h,i,a);var m=(u-this.YClose)/this.YClose*100;f=this.KLineTitlePaint.GetColor(m,0),h=m.toFixed(2)+"%";if(this.Canvas.fillStyle=f,this.Canvas.fillText(h,i+s,a),Ce.IsNumber(c)){this.Canvas.fillStyle=this.TitleColor,a+=this.LineHeight,h=ei.GetText("Tooltip-Vol",this.LanguageID),this.Canvas.fillText(h,i,a);h=Ce.FromatIntegerString(c,2,this.LanguageID);this.Canvas.fillText(h,i+s,a)}if(Ce.IsNumber(d)){a+=this.LineHeight,h=ei.GetText("Tooltip-Amount",this.LanguageID),this.Canvas.fillText(h,i,a);h=Ce.FormatValueString(d,2,this.LanguageID);this.Canvas.fillText(h,i+s,a)}if(Ce.IsNumber(t.Position)){a+=this.LineHeight,h=ei.GetText("Tooltip-Position",this.LanguageID),this.Canvas.fillText(h,i,a);h=Ce.FormatValueString(t.Position,2,this.LanguageID);this.Canvas.fillText(h,i+s,a)}this.IsHScreen&&this.Canvas.restore()}}}function me(){this.newMethod=de,this.newMethod(),delete this.newMethod,this.ClassName="DrawToolsButton",this.HQChart,this.ID=P(),this.ToolsDiv,this.Color="#696969",this.Top=5*L(),this.Width=45*L(),this.SetOption=function(t){var e=L();t&&t.Width>10&&(this.Width=t.Width*e)},this.Clear=function(){this.ToolsDiv&&this.ChartBorder.UIElement.parentNode.removeChild(this.ToolsDiv)},this.Draw=function(){var t=this;if(0!=this.SizeChange){var e=[[{HTML:{Title:"线段",IClass:"iconfont icon-draw_line",ID:"icon-segment"},Name:"线段"},{HTML:{Title:"尺子",IClass:"iconfont icon-ruler",ID:"icon_ruler"},Name:"尺子"},{HTML:{Title:"射线",IClass:"iconfont icon-draw_rays",ID:"icon-beam"},Name:"射线"},{HTML:{Title:"标价线",IClass:"iconfont icon-price_line",ID:"icon-price-line"},Name:"标价线"},{HTML:{Title:"垂直线",IClass:"iconfont icon-vertical_line",ID:"icon-vertical-line"},Name:"垂直线"},{HTML:{Title:"箭头",IClass:"iconfont icon-draw_rays",ID:"icon-beam2"},Name:"箭头"},{HTML:{Title:"趋势线",IClass:"iconfont icon-draw_trendline",ID:"icon-trendline"},Name:"趋势线"},{HTML:{Title:"水平线",IClass:"iconfont icon-draw_hline",ID:"icon-hline"},Name:"水平线"},{HTML:{Title:"水平线段",IClass:"iconfont icon-draw_hlinesegment",ID:"icon-hlineseg"},Name:"水平线段"},{HTML:{Title:"平行射线",IClass:"iconfont icon-draw_p_rays_lines",ID:"icon-rayslineseg"},Name:"平行射线"},{HTML:{Title:"平行线",IClass:"iconfont icon-draw_parallel_lines",ID:"icon-parallellines"},Name:"平行线"},{HTML:{Title:"平行通道",IClass:"iconfont icon-draw_parallelchannel",ID:"icon-parallelchannel"},Name:"平行通道"},{HTML:{Title:"价格通道线",IClass:"iconfont icon-draw_pricechannel",ID:"icon-pricechannel"},Name:"价格通道线"},{HTML:{Title:"M头W底",IClass:"iconfont icon-draw_wavemw",ID:"icon-wavemw"},Name:"M头W底"},{HTML:{Title:"头肩型",IClass:"iconfont icon-draw_head_shoulders_bt",ID:"icon-Head-Shoulders"},Name:"头肩型"},{HTML:{Title:"波浪尺",IClass:"iconfont icon-waveruler",ID:"icon-wave-ruler"},Name:"波浪尺"},{HTML:{Title:"AB波浪尺",IClass:"iconfont icon-waveruler",ID:"icon-wave-ruler"},Name:"AB波浪尺"},{HTML:{Title:"箱型线",IClass:"iconfont icon-draw_box",ID:"icon-drawbox"},Name:"箱型线"},{HTML:{Title:"涂鸦线段",IClass:"iconfont icon-draw_line",ID:"icon-segment2"},Name:"涂鸦线段"}],[{HTML:{Title:"圆弧",IClass:"iconfont icon-draw_arc",ID:"icon-arc"},Name:"圆弧线"},{HTML:{Title:"矩形",IClass:"iconfont icon-rectangle",ID:"icon-rect"},Name:"矩形"},{HTML:{Title:"平行四边形",IClass:"iconfont icon-draw_quadrangle",ID:"icon-quad"},Name:"平行四边形"},{HTML:{Title:"三角形",IClass:"iconfont icon-draw_triangle",ID:"icon-triangle"},Name:"三角形"},{HTML:{Title:"圆",IClass:"iconfont icon-draw_circle",ID:"icon-circle"},Name:"圆"},{HTML:{Title:"对称角度",IClass:"iconfont icon-draw_symangle",ID:"icon-symangle"},Name:"对称角度"}],[{HTML:{Title:"文本",IClass:"iconfont icon-draw_text",ID:"icon-text"},Name:"文本"},{HTML:{Title:"向上箭头",IClass:"iconfont icon-arrow_up",ID:"icon-arrowup"},Name:"icon-arrow_up"},{HTML:{Title:"向下箭头",IClass:"iconfont icon-arrow_down",ID:"icon-arrowdown"},Name:"icon-arrow_down"},{HTML:{Title:"向左箭头",IClass:"iconfont icon-arrow_left",ID:"icon-arrowleft"},Name:"icon-arrow_left"},{HTML:{Title:"向右箭头",IClass:"iconfont icon-arrow_right",ID:"icon-arrowright"},Name:"icon-arrow_right"}],[{HTML:{Title:"江恩角度线",IClass:"iconfont icon-draw_gannfan",ID:"icon-gannfan"},Name:"江恩角度线"},{HTML:{Title:"斐波那契周期线",IClass:"iconfont icon-draw_fibonacci",ID:"icon-fibonacci"},Name:"斐波那契周期线"},{HTML:{Title:"阻速线",IClass:"iconfont icon-draw_resline",ID:"icon-resline"},Name:"阻速线"},{HTML:{Title:"黄金分割",IClass:"iconfont icon-draw_goldensection",ID:"icon-goldensection"},Name:"黄金分割"},{HTML:{Title:"百分比线",IClass:"iconfont icon-draw_percentage",ID:"icon-percentage"},Name:"百分比线"},{HTML:{Title:"波段线",IClass:"iconfont icon-draw_waveband",ID:"icon-waveband"},Name:"波段线"},{HTML:{Title:"线形回归线",IClass:"iconfont icon-linear_3",ID:"icon-waveband2"},Name:"线形回归线"},{HTML:{Title:"线形回归带",IClass:"iconfont icon-linear_1",ID:"icon-waveband3"},Name:"线形回归带"},{HTML:{Title:"延长线形回归带",IClass:"iconfont icon-linear_2",ID:"icon-waveband5"},Name:"延长线形回归带"}],[{HTML:{Title:"全部删除",IClass:"iconfont icon-recycle_bin",ID:"icon-delete"},Name:"全部删除"}]],i=this.HQChart;if(!this.ToolsDiv){var a=document.createElement("div");a.className="drawtools",a.id=this.ID;var n="",r="",o=new Array;e.forEach(function(t,e){o.push(t[0])});for(var s=0;s<e.length;s++){for(var l=o[s],h=e[s],u="",c="",d=0;d<h.length;d++){var f=h[d],p=f.Name;p.indexOf("up")>-1?p="向上箭头":p.indexOf("down")>-1?p="向下箭头":p.indexOf("left")>-1?p="向左箭头":p.indexOf("right")>-1&&(p="向右箭头"),u+='<p class="menuTwoItem '+f.HTML.ID+'">'+p+'<i class="'+f.HTML.IClass+'" title="'+f.HTML.Title+'"></i></p>'}s!==e.length-1?(r='<div class="menuTwo">'+u+"</div>",c='<i class="contentArrow iconfont icon-menu_arraw_left"></i>'):(r="",c=""),n+='<div class="icon-image first-'+l.HTML.ID+'"><i class="'+l.HTML.IClass+'" title="'+l.HTML.Title+'"></i>'+r+c+"</div>"}for(var s in this.ChartBorder.UIElement.parentNode.appendChild(a),a.innerHTML=n,this.ToolsDiv=a,e){var v=e[s][0];if((0,m.default)("#"+this.ID+" .first-"+v.HTML.ID).hover(function(){(0,m.default)(".drawtools").find(".contentArrow").hide(),(0,m.default)(this).find(".contentArrow").removeClass("trans").show()}),(0,m.default)("#"+this.ID+" .first-"+v.HTML.ID+" .contentArrow").click(function(t){t.stopPropagation(),(0,m.default)(".drawtools").find(".menuTwo").hide(),(0,m.default)(this).siblings(".menuTwo").show()}),(0,m.default)("#"+this.ID+" .first-"+v.HTML.ID+" .trans").click(function(){event.stopPropagation(),(0,m.default)(this).siblings(".menuTwo").hide()}),"全部删除"==v.Name)(0,m.default)("#"+this.ID+" .first-icon-delete").click(function(){(0,m.default)(".drawtools").find(".menuTwo").hide(),(0,m.default)(this).siblings().removeClass("active"),(0,m.default)(this).addClass("active"),i.ClearChartDrawPicture(),(0,m.default)(".subTolls").css("display","none")});else{(0,m.default)("#"+this.ID+" .first-"+o[s].HTML.ID).click({CurrentIndex:s},function(t){(0,m.default)(".drawtools").find(".menuTwo").hide(),(0,m.default)(this).siblings().removeClass("active"),(0,m.default)(this).addClass("active"),i.CreateChartDrawPicture(o[t.data.CurrentIndex].Name)});var g=function(){var a=(C=e[s][d]).HTML.IClass;(0,m.default)("#"+t.ID+" ."+C.HTML.ID).hover(function(t){t.stopPropagation(),(0,m.default)(this).closest(".icon-image").find(".contentArrow").addClass("trans")}),(0,m.default)("#"+t.ID+" ."+C.HTML.ID).click({DrawName:C.Name,CurrentIndex:s,CurrentData:C},function(t){t.stopPropagation(),(0,m.default)(this).closest(".icon-image").find(".contentArrow").hide(),(0,m.default)(this).siblings().removeClass("current"),(0,m.default)(this).addClass("current"),(0,m.default)(this).closest(".icon-image").children("i").eq(0).removeClass().addClass(a,"active").attr("title",t.data.CurrentData.HTML.Title),o.splice(t.data.CurrentIndex,1,t.data.CurrentData),(0,m.default)(this).parent().hide(),i.CreateChartDrawPicture(t.data.DrawName)})};for(var d in e[s]){var C;g()}}}}var D=this.ID;(0,m.default)(document).click(function(t){(0,m.default)("#"+D).is(t.target)||0!==(0,m.default)("#"+D).has(t.target).length||((0,m.default)("#"+D+" .menuTwo").hide(),(0,m.default)("#"+D+" .contentArrow").hide())});N();var y=L(),x=R(this.ChartBorder.GetRight()+this.Left),S=this.ChartBorder.GetTop();this.ToolsDiv.style.left=x/y+"px",this.ToolsDiv.style.top=S/y+"px",this.ToolsDiv.style.width=(this.Width-5)/y+"px",this.ToolsDiv.style.height="auto",this.ToolsDiv.style.position="absolute",this.ToolsDiv.style.display="block",this.SizeChange}}}function ve(){this.newMethod=de,this.newMethod(),delete this.newMethod,this.ClassName="FrameSplitPaint",this.LineColor="rgb(255,0,0)",this.TextColor="rgb(255,0,0)",this.LineWidth=2,this.Font="bold "+18*L()+"px 微软雅黑",this.TextTopOffset=10*L(),this.SetOption=function(t){t&&(t.LineColor&&(this.LineColor=t.LineColor),t.TextColor&&(this.TextColor=t.TextColor),t.Font&&(this.Font=t.Font),Ce.IsNumber(t.LineWidth)&&(this.LineWidth=t.LineWidth),Ce.IsNumber(t.TextTopOffset)&&(this.TextTopOffset=t.TextTopOffset))},this.Draw=function(){if(this.HQChart&&(0==this.HQChart.Period||1==this.HQChart.Period)&&this.HQChart.ChartPaint[0]){var t=this.HQChart.ChartPaint[0].Data;if(t&&(this.Data=t,this.ChartFrame&&this.ChartFrame.SubFrame)){var e=this.ChartFrame.SubFrame[0].Frame;if(e){var i=!0===e.IsHScreen,a=e.DataWidth,n=e.DistanceWidth,r=e.XPointCount,o=this.LineWidth*L();if(i)var s=(h=this.ChartBorder.GetHScreenBorder()).TopEx+n/2+Qe.FrameLeftMargin,l=h.BottomEx;else{s=(h=this.ChartBorder.GetBorder()).LeftEx+n/2+Qe.FrameLeftMargin,l=h.RightEx;var h,u=h.ChartHeight-h.TopTitle-5*L()}this.Canvas.save(),this.Canvas.lineWidth=o,this.Canvas.font=this.Font,this.Canvas.textAlign="center",this.Canvas.textBaseline="top";for(var c={Left:h.LeftEx,Top:B(o,h.TopTitle),Height:u,LineWidth:o},d=this.Data.DataOffset,f=0;d<this.Data.Data.length&&f<r;++d,++f,s+=a+n){var p=this.Data.Data[d];if(p){var m=this.GetQuarter(p.Date);if(m){var v=s+a;if(v>l)break;var g=s+(v-s)/2;if(c.DateInfo){var C=c.DateInfo;C.Year!=m.Year||C.Quarter!=m.Quarter?(c.Right=g,this.DrawQuarter(c),c.Left=g,c.Right=null,c.DateInfo=m):c.Right=g}else c.DateInfo=m,c.Right=g}}}this.DrawQuarter(c),this.Canvas.restore()}}}},this.DrawQuarter=function(t){if(Ce.IsNumber(t.Left)&&Ce.IsNumber(t.Right)){var e=B(t.LineWidth,t.Left),i=B(t.LineWidth,t.Right)-e;this.Canvas.strokeStyle=this.LineColor,this.Canvas.strokeRect(e,t.Top,i,t.Height);var a=t.DateInfo,n=a.Year%100;if(n<10)var r="0"+n;else r=n.toString();var o=r+"年"+a.Quarter+"季度";if(this.Canvas.measureText(o).width<i+5){var s=e+i/2,l=t.Top+this.TextTopOffset;this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(o,s,l)}}},this.GetQuarter=function(t){if(!Ce.IsNumber(t))return null;var e=parseInt(t/1e4),i=parseInt(t%1e4/100);switch(i){case 1:case 2:case 3:var a=1;break;case 4:case 5:case 6:a=2;break;case 7:case 8:case 9:a=3;break;case 10:case 11:case 12:a=4;break;default:return null}return{Year:e,Month:i,Quarter:a}}}var ge={MAIN_KLINE:1,OVERLAY_KLINE:2,MAIN_INDEX:3,OVERLAY_INDEX:4,OVERLAY_MINUTE:5,MAIN_MINUTE:6,MAIN_AVERAGE_MINUTE:7,MAIN_MINUTE_VOL:8};function Ce(){this.ChartBorder,this.Frame,this.FrameSplitData,this.SplitCount=5,this.StringFormat=0,this.IsShowLeftText=!0,this.IsShowRightText=!0,this.LanguageID=ti.LANGUAGE_CHINESE_ID,this.GetEventCallback,this.IntegerCoordinateSplit=function(t){var e=this.FrameSplitData.Find(t.Interval);if(!e)return!1;if(t.Interval==e.FixInterval)return!0;var i=t.Max,a=t.Min,n=t.Max/e.FixInterval,r=t.Min/e.FixInterval;Ce.IsFloat(n)&&(i=parseInt((n+.5).toFixed(0))*e.FixInterval),Ce.IsFloat(r)&&(a=parseInt((r-.5).toFixed(0))*e.FixInterval),0==t.Min&&(a=0),a<0&&t.Min>0&&(a=0);for(var o=0,s=a;s-i<1e-8;s+=e.FixInterval)++o;return t.Interval=e.FixInterval,t.Max=i,t.Min=a,t.Count=o,!0},this.Filter=function(t,e){if(this.SplitCount<=0||t.length<=0||t.length<=this.SplitCount)return t;var i=parseInt(t.length/this.SplitCount);i<=1&&(i=2);for(var a=[],n=0;n<t.length;n+=i)n+i>=t.length&&n!=t.length-1?a.push(t[t.length-1]):a.push(t[n]);if(2==this.SplitCount&&a.length>2)for(n=1;n<a.length-1;++n){(o=a[n]).Message[0]=null,o.Message[1]=null}if(e){var r=!1;for(n=0;n<a.length;++n){var o=a[n];if(Math.abs(o.Value)<1e-8){r=!0;break}}if(0==r){var s=new Y;s.Value=0,s.Message[0]=null,s.Message[1]=null,a.push(s)}}return a},this.RemoveZero=function(t){for(var e=[!0,!0,!0,!0],i=0;i<t.length;++i){var a=(n=t[i]).Message[0];this.IsDecimalZeroEnd(a)||(e[0]=!1);a=n.Message[1];this.IsDecimalZeroEnd(a)||(e[1]=!1);a=n.Message[2];this.IsDecimalZeroEnd(a)||(e[2]=!1);a=n.Message[3];this.IsDecimalZeroEnd(a)||(e[3]=!1)}if(0!=e[0]||0!=e[1]||0!=e[2]||0!=e[3])for(i=0;i<t.length;++i){var n=t[i];if(e[0])null!=(a=n.Message[0])&&("number"==typeof a&&(a=a.toString()),n.Message[0]=a.replace(/[.][0]+/g,""));if(e[1])null!=(a=n.Message[1])&&("number"==typeof a&&(a=a.toString()),n.Message[1]=a.replace(/[.][0]+/g,""));if(e[2])null!=(a=n.Message[2])&&("number"==typeof a&&(a=a.toString()),n.Message[2]=a.replace(/[.][0]+/g,""));if(e[3])null!=(a=n.Message[3])&&("number"==typeof a&&(a=a.toString()),n.Message[3]=a.replace(/[.][0]+/g,""))}},this.IsDecimalZeroEnd=function(t){if(null==t)return!0;if("number"==typeof t&&(t=t.toString()),"0"==t)return!0;var e=t.search(/[.]/);if(e<0)return!1;for(var i=e+1;i<t.length;++i){var a=t.charAt(i);if(a>="1"&&a<="9")return!1}return!0}}function De(){this.newMethod=Ce,this.newMethod(),delete this.newMethod,this.CoordinateType=0,this.Symbol,this.Data,this.FrameSplitData2,this.FloatPrecision=null,this.Period,this.KLineChart,this.Custom=[],this.SplitType=0,this.DefaultSplitType=0,this.DefaultYMaxMin,this.FixedYMaxMin,this.EnableZoomUpDown=!1,this.LastMaxMin,this.PercentageTextFormat=0,this.IsEnableDragY=function(){return 0==this.CoordinateType||1==this.CoordinateType},this.Operator=function(){var t={};t.Max=this.Frame.HorizontalMax,t.Min=this.Frame.HorizontalMin,t.Count=this.SplitCount,t.Max==t.Min&&(t.Max+=.01*t.Max,t.Min-=.01*t.Min);var e=this.FixedYMaxMin&&Ce.IsNumber(this.FixedYMaxMin.Max)&&Ce.IsNumber(this.FixedYMaxMin.Min);if(e)t.Max=this.FixedYMaxMin.Max,t.Min=this.FixedYMaxMin.Min;else if(this.DefaultYMaxMin){var i=this.DefaultYMaxMin;Ce.IsNumber(i.Max)&&(t.Min>i.Max?t.Min=i.Max:t.Max<i.Max&&(t.Max=i.Max)),Ce.IsNumber(i.Min)&&(t.Max<i.Min?t.Max=i.Min:t.Min>i.Min&&(t.Min=i.Min))}t.Interval=(t.Max-t.Min)/(t.Count-1);var a=L(),n=this.Frame.ChartBorder.GetChartWidth()<450*a,r=Ni(this.Symbol);n&&Ii.IsSHSZIndex(this.Symbol)&&(r=0),null!=this.FloatPrecision&&(r=this.FloatPrecision),g.Chart.Log("[FrameSplitKLinePriceY::Operator] Max="+t.Max+" Min="+t.Min+" Count="+t.Count+" isPhoneModel="+n+" defaultfloatPrecision="+r+" "),this.Frame.Logarithmic=null,this.Frame.MultiTextFormat=0;var o=!0;if(t.IsFixedMaxMin=e,t.IsFilter=o,mt.IsTickPeriod(this.Period))this.SplitTickData(t,r),o=t.IsFilter;else if(De.SplitCustom)De.SplitCustom(this,t,r),o=!1;else switch(this.CoordinateType){case 1:this.SplitPercentage(t,r,e)?(this.Frame.MultiTextFormat=this.PercentageTextFormat,o=!1):this.SplitDefault(t,r,e);break;case 3:this.SplitIncrease(t,r)?o=!1:this.SplitDefault(t,r);break;case 4:this.SplitAverage(t,r),o=!1;break;case 5:this.SplitGoldenSection(t,r),o=!1;break;case 2:this.SplitLogarithmic(t,r)?o=!1:this.SplitDefault(t,r);break;default:1==this.SplitType?(this.SplitFixed(t,r),o=!1):2==this.SplitType?(this.SplitFixedV2(t,r),o=!1):this.SplitDefault(t,r,e)}if(this.CustomCoordinate(r),o&&(this.Frame.HorizontalInfo=this.Filter(this.Frame.HorizontalInfo,!1)),this.Frame.HorizontalMax=t.Max,this.Frame.HorizontalMin=t.Min,1!=this.EnableZoomUpDown||this.FixedYMaxMin||(this.FixedYMaxMin={Max:t.Max,Min:t.Min}),g.Chart.Log("[FrameSplitKLinePriceY::Operator] fixed . Max="+t.Max+" Min="+t.Min+" Count="+t.Count),this.GetEventCallback){var s=this.GetEventCallback(b.ON_SPLIT_YCOORDINATE);if(s&&s.Callback){var l={ID:this.Frame.Identify,Frame:this.Frame};s.Callback(s,l,this)}}},this.SplitTickData=function(t,e){switch(this.CoordinateType){case 1:this.SplitPercentage(t,e,t.IsFixedMaxMin)?(this.Frame.MultiTextFormat=this.PercentageTextFormat,t.IsFilter=!1):this.SplitDefault(t,e,t.IsFixedMaxMin);break;default:3==this.SplitType?this.SplitTickPrice(t,e):this.SplitDefault(t,e,t.IsFixedMaxMin)}},this.SplitTickPrice=function(t,e){var i=this.KLineChart.GetAllPrice();for(var a in this.Frame.HorizontalInfo=[],i){var n=i[a];this.Frame.HorizontalInfo[a]=new Y,this.Frame.HorizontalInfo[a].Value=n,this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=n.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=n.toFixed(e))}},this.SplitPercentage=function(t,e,i){var a=this.GetFirstOpenPrice();if(!Ce.IsNumber(a))return!1;t.Max=(t.Max-a)/a,t.Min=(t.Min-a)/a,t.Interval=(t.Max-t.Min)/(t.Count-1),i||this.IntegerCoordinateSplit2(t);var n,r=(1+t.Min)*a,o=(1+t.Max)*a;Qe.Frame&&Qe.Frame.PercentageText&&(n={PriceColor:(d=Qe.Frame.PercentageText).PriceColor,PercentageColor:d.PercentageColor,SplitColor:d.SplitColor,Font:d.Font});for(var s=[],l=0;l<=t.Max;l+=t.Interval){var h=(l+1)*a;if((d=new Y).Value=h,this.IsShowLeftText&&(d.Message[0]=h.toFixed(e)),this.IsShowRightText){var u=h.toFixed(e),c=(100*l).toFixed(2);c=Ce.RemoveZero(c),c+="%",d.Message[1]=[c,u],d.ExtendData=n}s.push(d)}for(l=-t.Interval;l>=t.Min;l-=t.Interval){if(!((h=(l+1)*a)<r||h>o)){var d;if((d=new Y).Value=h,this.IsShowLeftText&&(d.Message[0]=h.toFixed(e)),this.IsShowRightText){u=h.toFixed(e),c=(100*l).toFixed(2);c=Ce.RemoveZero(c),c+="%",d.Message[1]=[c,u],d.ExtendData=n}s.push(d)}}return s.sort(function(t,e){return t.Value-e.Value}),this.Frame.HorizontalInfo=s,t.Min=r,t.Max=o,!0},this.SplitIncrease=function(t,e){var i=this.GetLast2ndClose();if(!Ce.IsNumber(i))return!1;this.IntegerCoordinateSplit(t),this.Frame.HorizontalInfo=[];for(var a=Qe.FrameSplitIncrease.Increase,n=[],r=i;r<t.Max;r*=1+a){(s=new Y).Value=r;var o=r.toFixed(e);this.IsShowLeftText&&(s.Message[0]=o),this.IsShowRightText&&(s.Message[1]=o),n.push(s)}for(r=.9*i;r>t.Min;r*=1-a){var s;(s=new Y).Value=r;o=r.toFixed(e);this.IsShowLeftText&&(s.Message[0]=o),this.IsShowRightText&&(s.Message[1]=o),n.push(s)}return this.Frame.HorizontalInfo=n,!0},this.SplitAverage=function(t,e){var i=t.Max,a=t.Min;this.Frame.HorizontalInfo=[];for(var n=Qe.FrameSplitAverage.Count,r=(i-a)/n,o=0;o<=n;++o){var s=new Y;s.Value=a+r*o;var l=s.Value.toFixed(e);this.IsShowLeftText&&(s.Message[0]=l),this.IsShowRightText&&(s.Message[1]=l),this.Frame.HorizontalInfo[o]=s}},this.SplitGoldenSection=function(t,e){var i=t.Max,a=t.Min;this.Frame.HorizontalInfo=[];var n=[],r=Qe.FrameGoldenSection.Golden;for(var o in r){var s=(i-a)*r[o]+a;item=new Y,item.Value=s;var l=s.toFixed(e);this.IsShowLeftText&&(item.Message[0]=l),this.IsShowRightText&&(item.Message[1]=l),n.push(item)}this.Frame.HorizontalInfo=n},this.SplitLogarithmic=function(t,e){var i=Qe.FrameLogarithmic.MinInterval,a=this.GetFirstOpenPrice();if(!Ce.IsNumber(a))return!1;for(var n=this.ChartBorder.GetHeightEx(),r=[.01,.02,.04,.08,.1,.2],o=r[r.length-1],s=0;s<r.length;++s){var l=r[s];if(a*l*(n/(t.Max-t.Min))>i){o=l;break}}var h=[],u=a;s=o;do{var c={Start:u};u=a*(1+s),c.End=u,h.push(c),s+=o}while(u<t.Max);var d=u,f=[];u=a,s=o;do{c={End:u};u=a*(1-s),c.Start=u,f.push(c),s+=o}while(u>t.Min);var p=u;t.Max=d,t.Min=p,g.Chart.Log("[FrameSplitKLinePriceY::SplitLogarithmic] up, down",h,f),this.Frame.HorizontalInfo=[],(c=new Y).Value=a,c.Font=Qe.FrameLogarithmic.OpenPriceFont;var m=c.Value.toFixed(e);for(var s in this.IsShowLeftText&&(c.Message[0]=m),this.IsShowRightText&&(c.Message[1]=m),this.Frame.HorizontalInfo.push(c),h){(c=new Y).Value=h[s].End;m=c.Value.toFixed(e);this.IsShowLeftText&&(c.Message[0]=m),this.IsShowRightText&&(c.Message[1]=m),this.Frame.HorizontalInfo.push(c)}for(var s in f){(c=new Y).Value=f[s].End;m=c.Value.toFixed(e);this.IsShowLeftText&&(c.Message[0]=m),this.IsShowRightText&&(c.Message[1]=m),this.Frame.HorizontalInfo.splice(0,0,c)}return this.Frame.Logarithmic={Up:h,Down:f,OpenPrice:a},!0},this.SplitDefault=function(t,e,i){i||this.IntegerCoordinateSplit(t),this.Frame.HorizontalInfo=[];for(var a=0,n=t.Min;a<t.Count;++a,n+=t.Interval)this.Frame.HorizontalInfo[a]=new Y,this.Frame.HorizontalInfo[a].Value=n,this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=n.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=n.toFixed(e))},this.SplitFixed=function(t,e){this.Frame.HorizontalInfo=[];for(var i=0,a=t.Min;i<t.Count;++i,a+=t.Interval)this.Frame.HorizontalInfo[i]=new Y,this.Frame.HorizontalInfo[i].Value=a,this.IsShowLeftText&&(this.Frame.HorizontalInfo[i].Message[0]=a.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[i].Message[1]=a.toFixed(e))},this.SplitFixedV2=function(t,e){this.Frame.HorizontalInfo=[];for(var i=0,a=t.Min;i<t.Count;++i,a+=t.Interval)this.Frame.HorizontalInfo[i]=new Y,this.Frame.HorizontalInfo[i].Value=a,this.IsShowLeftText&&(this.Frame.HorizontalInfo[i].Message[0]=a.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[i].Message[1]=a.toFixed(e));t.IsFixedMaxMin||(0==e?(t.Max+=1,t.Min-=1):1==e?(t.Max+=.1,t.Min-=.1):2==e&&(t.Max+=.01,t.Min-=.01))},this.CustomCoordinate=function(t){this.Frame.CustomHorizontalInfo=[];for(var e=0;e<this.Custom.length;++e){var i=this.Custom[e];if(0==i.Type||3==i.Type||2==i.Type){var a=t;Ce.IsNumber(i.FloatPrecision)&&i.FloatPrecision>=0&&(a=i.FloatPrecision);var n=this.GetLatestPrice(a,i);n&&this.Frame.CustomHorizontalInfo.push(n)}else 1==i.Type&&this.CustomFixedCoordinate(i)}},this.GetLatestPrice=function(t,e){if(!this.Data||!this.Data.Data)return null;if(this.Data.Data.length<=0)return null;var i=this.Data.Data[this.Data.Data.length-1],a=new Y;a.Type=0,e&&Ce.IsNumber(e.Type)&&(a.Type=e.Type),a.Value=i.Close,a.TextColor=Qe.FrameLatestPrice.TextColor,a.LineType=2;var n=i.Close.toFixed(t);if("HH:MM"==e.DateTime&&mt.IsMinutePeriod(this.Period,!0)){var r=[{Text:n},{Text:Ce.FormatTimeString(i.Time,e.DateTime)}];"left"==e.Position?a.Message[0]=r:a.Message[1]=r}else if(Ce.IsBool(e.CountDown)){r=[{Text:n},{Type:1}];"left"==e.Position?a.Message[0]=r:a.Message[1]=r}else"left"==e.Position?a.Message[0]=n:a.Message[1]=n;return i.Close>i.Open?a.LineColor=Qe.FrameLatestPrice.UpBarColor:i.Close<i.Open?a.LineColor=Qe.FrameLatestPrice.DownBarColor:a.LineColor=Qe.FrameLatestPrice.UnchagneBarColor,Ce.IsNumber(e.LineType)&&(a.LineType=e.LineType),Ce.IsPlusNumber(e.LineWidth)&&(a.LineWidth=e.LineWidth),e.LineDash&&(a.LineDash=e.LineDash),0==e.IsShowLine&&(a.LineType=-1),1===e.PositionEx&&(a.ExtendData={Custom:{Position:1}}),a},this.GetFirstOpenPrice=function(){if(!this.Data)return null;for(var t=this.Frame.XPointCount,e=this.Data.DataOffset,i=0;e<this.Data.Data.length&&i<t;++e,++i){var a=this.Data.Data[e];if(null!=a.Open&&null!=a.High&&null!=a.Low&&null!=a.Close)return mt.IsTickPeriod(this.Period)?a.YClose:a.Open}return null},this.GetLast2ndClose=function(){if(!this.Data)return null;if(this.Data.Data.length<=0)return null;var t=this.Frame.XPointCount,e=this.Data.DataOffset+t-1;e>=this.Data.Data.length&&(e=this.Data.Data.length-1);for(var i=null,a=e,n=0;a>=0&&a<this.Data.Data.length;--a){var r=this.Data.Data[a];if(null!=r.Open&&null!=r.High&&null!=r.Low&&null!=r.Close&&(0==n?i=r.Open:1==n&&(i=r.Close),++n>=2))break}return i},this.CustomFixedCoordinate=function(t){var e=Ni(this.Symbol);for(var i in t.Data){var a,n=t.Data[i],r=new Y;r.Type=1,r.TextColor=n.TextColor,r.LineColor=n.Color,r.LineType=2,Ce.IsNumber(t.LineType)&&(r.LineType=t.LineType),Ce.IsPlusNumber(t.LineWidth)&&(r.LineWidth=t.LineWidth),t.LineDash&&(r.LineDash=t.LineDash),0==t.IsShowLine&&(r.LineType=-1),r.Value=n.Value,a=n.Text?n.Text:r.Value.toFixed(e),"left"==t.Position?r.Message[0]=a:r.Message[1]=a,1===t.PositionEx&&(r.ExtendData={Custom:{Position:1}}),this.Frame.CustomHorizontalInfo.push(r)}},this.IntegerCoordinateSplit2=function(t){var e=this.FrameSplitData2.Find(t.Interval);if(!e)return!1;if(t.Interval==e.FixInterval)return!0;var i=parseInt((t.Max/e.FixInterval+.5).toFixed(0))*e.FixInterval,a=parseInt((t.Min/e.FixInterval-.5).toFixed(0))*e.FixInterval;0==t.Min&&(a=0),a<0&&t.Min>0&&(a=0);for(var n=0,r=a;r-i<1e-8;r+=e.FixInterval)++n;return t.Interval=e.FixInterval,t.Max=i,t.Min=a,t.Count=n,!0}}function ye(){this.newMethod=Ce,this.newMethod(),delete this.newMethod,this.SplitCount=3,this.FloatPrecision=2,this.FLOATPRECISION_RANGE=[1,.1,.01,.001,1e-4],this.SplitType=0,this.DefaultSplitType=0,this.Custom=[],this.DefaultYMaxMin,this.EnableRemoveZero=!0,this.LineType=null,this.IgnoreYValue=null,this.FixedYMaxMin,this.EnableZoomUpDown=!1,this.IsBeforeData=!1,this.BeforeOpenData,this.IsAfterData=!1,this.AfterCloseData,this.ShareAfterVol=0,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.IsEnableDragY=function(){return!0},this.GetFloatPrecision=function(t,e){if(t>this.FLOATPRECISION_RANGE[0])return e;if(e<0)return 2;for(;e<this.FLOATPRECISION_RANGE.length&&!(t>this.FLOATPRECISION_RANGE[e]);++e);return e},this.Operator=function(){var t={};t.Max=this.Frame.HorizontalMax,t.Min=this.Frame.HorizontalMin,t.Max==t.Min&&(0==t.Max?(t.Max=1,t.Min=-1):(t.Max+=.01*t.Max,t.Min-=.01*t.Min));var e=!1;if(this.FixedYMaxMin&&Ce.IsNumber(this.FixedYMaxMin.Max)&&Ce.IsNumber(this.FixedYMaxMin.Min)&&(e=!0),e)t.Max=this.FixedYMaxMin.Max,t.Min=this.FixedYMaxMin.Min;else if(this.DefaultYMaxMin){var i=this.DefaultYMaxMin;Ce.IsNumber(i.Max)&&(t.Min>i.Max?t.Min=i.Max:t.Max<i.Max&&(t.Max=i.Max)),Ce.IsNumber(i.Min)&&(t.Max<i.Min?t.Max=i.Min:t.Min>i.Min&&(t.Min=i.Min))}if(this.Frame.YSpecificMaxMin?(t.Count=this.Frame.YSpecificMaxMin.Count,t.Interval=(t.Max-t.Min)/(t.Count-1)):1==this.SplitType||e?(t.Count=this.SplitCount,t.Interval=(t.Max-t.Min)/(t.Count-1)):2==this.SplitType?(t.Max=100,t.Min=0,t.Count=this.SplitCount,t.Interval=(t.Max-t.Min)/(t.Count-1)):(t.Count=this.SplitCount,t.Interval=(t.Max-t.Min)/(t.Count-1),this.IntegerCoordinateSplit(t)),this.Frame.HorizontalInfo=[],this.Frame.YSplitScale)for(var a in this.Frame.YSplitScale){var n=this.Frame.YSplitScale[a];(s=new Y).Value=n,Ce.IsNumber(this.LineType)&&(s.LineType=this.LineType);var r=Math.abs(n);if(r<1e-10)s.Message[1]=0;else if(r<this.FLOATPRECISION_RANGE[this.FLOATPRECISION_RANGE.length-1])s.Message[1]=n.toExponential(2).toString();else{var o=this.GetFloatPrecision(r,this.FloatPrecision);s.Message[1]=Ce.FormatValueString(n,o,this.LanguageID)}s.Message[0]=s.Message[1],0==this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=null),0==this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=null),this.Frame.HorizontalInfo.push(s)}else for(a=0,n=t.Min;a<t.Count;++a,n+=t.Interval){var s=new Y;this.Frame.HorizontalInfo[a]=s,s.Value=n,Ce.IsNumber(this.LineType)&&(s.LineType=this.LineType);var l=this.FormatValueString(n);this.Frame.HorizontalInfo[a].Message[0]=this.Frame.HorizontalInfo[a].Message[1]=l,0==this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=null),0==this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=null)}if(this.FilterIgnoreYValue(),this.CustomCoordinate(),1!=this.SplitType&&(this.Frame.HorizontalInfo=this.Filter(this.Frame.HorizontalInfo,t.Max>0&&t.Min<0)),this.RightFrameSplitY(),this.CallAcutionSplitY(this.SplitCount,t),this.EnableRemoveZero&&this.RemoveZero(this.Frame.HorizontalInfo),this.DynamicMessageText(),this.Frame.HorizontalMax=t.Max,this.Frame.HorizontalMin=t.Min,1!=this.EnableZoomUpDown||this.FixedYMaxMin||(this.FixedYMaxMin={Max:t.Max,Min:t.Min}),this.GetEventCallback){var h=this.GetEventCallback(b.ON_SPLIT_YCOORDINATE);if(h&&h.Callback){var u={ID:this.Frame.Identify,Frame:this.Frame};h.Callback(h,u,this)}}},this.FormatValueString=function(t){var e;if(1==this.StringFormat){var i=this.FloatPrecision;Ce.IsNumber(t)&&Math.abs(t)>1e3&&(i=0),e=Ce.FormatValueString(t,i,this.LanguageID)}else{var a=Math.abs(t);if(a<1e-10)e=0;else if(a<this.FLOATPRECISION_RANGE[this.FLOATPRECISION_RANGE.length-1])e=t.toExponential(2).toString();else{i=this.GetFloatPrecision(a,this.FloatPrecision);e=Ce.FormatValueString(t,i,this.LanguageID)}}return e},this.FilterIgnoreYValue=function(){if(this.IgnoreYValue&&!(this.IgnoreYValue.length<=0)){var t=new c.default(this.IgnoreYValue);this.Frame.HorizontalInfo=this.Frame.HorizontalInfo.filter(function(e){return!t.has(e.Value)})}},this.DynamicMessageText=function(){if(2==this.SplitType)for(var t=0;t<this.Frame.HorizontalInfo.length;++t){var e=this.Frame.HorizontalInfo[t];e.Message[0]&&(e.Message[0]+="%"),e.Message[1]&&(e.Message[1]+="%")}},this.CallAcutionSplitY=function(t,e){if(1!=this.Frame.Identify)return null;var i=this.GetCallAcutionSplitY(t,e);if(i){for(var a=0;a<this.Frame.HorizontalInfo.length;++a){var n=this.Frame.HorizontalInfo[a];i.IsBeforeData&&(n.Message[2]=n.Message[0],n.Message[0]=null),!i.IsAfterData||0!=this.ShareAfterVol&&2!=this.ShareAfterVol||(n.Message[3]=n.Message[1],n.Message[1]=null)}for(a=0;a<i.HorizontalInfo.length;++a){n=i.HorizontalInfo[a];this.Frame.HorizontalInfo.push(n)}}},this.GetCallAcutionSplitY=function(t,e){if(1!=this.Frame.Identify)return null;var i=1==this.IsBeforeData&&this.BeforeOpenData&&(2==this.BeforeOpenData.Ver||3==this.BeforeOpenData.Ver),a=1==this.IsAfterData&&this.AfterCloseData&&(2==this.AfterCloseData.Ver||3==this.AfterCloseData.Ver);if(i||a){var n=(e.Max-e.Min)/(t-1);if(i)var r=(this.BeforeOpenData.VolMax-this.BeforeOpenData.VolMin)/(t-1);if(a)var o=(this.AfterCloseData.VolMax-this.AfterCloseData.VolMin)/(t-1);for(var s=[],l=0;l<t;++l){var h=n*l;if((m=new Y).Value=h,m.LineType=8,i){var u=r*l;m.Message[0]=this.FormatValueString(u)}if(a&&(0==this.ShareAfterVol||2==this.ShareAfterVol)){var c=o*l;m.Message[1]=this.FormatValueString(c)}s.push(m)}return{HorizontalInfo:s,IsBeforeData:i,IsAfterData:a}}var d=!1;r=null;if(this.MultiDayBeforeOpenData&&Ce.IsNonEmptyArray(this.MultiDayBeforeOpenData)&&(d=!0,2==(f=this.MultiDayBeforeOpenData[0]).Ver||3==f.Ver))r=(f.VolMax-f.VolMin)/(t-1);var f,p=!1;o=null;if(this.MultiDayAfterCloseData&&Ce.IsNonEmptyArray(this.MultiDayAfterCloseData)&&(p=!0,2==(f=this.MultiDayAfterCloseData[0]).Ver||3==f.Ver))o=(f.VolMax-f.VolMin)/(t-1);if(d||p){for(n=(e.Max-e.Min)/(t-1),s=[],l=0;l<t;++l){var m;h=n*l;if((m=new Y).Value=h,m.LineType=9,null!=r){u=r*l;m.Message[0]=this.FormatValueString(u)}if(null!=o&&(0==this.ShareAfterVol||2==this.ShareAfterVol)){c=o*l;m.Message[1]=this.FormatValueString(c)}s.push(m)}return{HorizontalInfo:s,IsBeforeData:d,IsAfterData:p}}return null},this.RightFrameSplitY=function(){if(this.Frame.RightFrame){var t=this.Frame.RightFrame;for(var e in this.Frame.HorizontalInfo){var i=this.Frame.HorizontalInfo[e],a=this.Frame.GetYFromData(i.Value),n=t.GetYData(a);i.Message[1]=Ce.FormatValueString(n,this.FloatPrecision,this.LanguageID)}}},this.CustomCoordinate=function(){for(var t in this.Frame.CustomHorizontalInfo=[],this.Custom){var e=this.Custom[t];0==e.Type||1==e.Type&&this.CustomFixedCoordinate(e)}},this.CustomFixedCoordinate=function(t){for(var e in t.Data){var i,a=t.Data[e],n=new Y;n.Type=1,n.TextColor=a.TextColor,n.LineColor=a.Color,n.LineType=2,Ce.IsNumber(t.LineType)&&(n.LineType=t.LineType),0==t.IsShowLine&&(n.LineType=-1),n.Value=a.Value,i=a.Text?a.Text:n.Value.toFixed(2),"left"==t.Position?n.Message[0]=i:n.Message[1]=i,this.Frame.CustomHorizontalInfo.push(n)}}}function xe(){this.newMethod=Ce,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.Period,this.Symbol,this.MinTextDistance=50*L(),this.MinBarDistance=5,this.SplitDateTime=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.DistanceWidth+this.Frame.DataWidth,e=this.Frame.Data.DataOffset,i=this.Frame.XPointCount,a=0,n=0,r=0,o=e;r<i&&o<this.Frame.Data.Data.length;++r,++o){a+=t,++n;var s=null;if(0==r)s={Value:o-e,Text:Ce.FormatDateString(this.Frame.Data.Data[o].Date,"MM-DD")};else if(a>this.MinTextDistance&&n>=this.MinBarDistance){s={Value:o-e,Text:Ce.FormatTimeString(this.Frame.Data.Data[o].Time)}}if(s){var l=new Y;l.Value=s.Value,this.ShowText&&(l.Message[0]=s.Text),0==l.Value&&(l.LineType=-1),this.Frame.VerticalInfo.push(l),a=0,n=0,0==r&&(a=-this.MinTextDistance/2)}}},this.SplitSecond=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.DistanceWidth+this.Frame.DataWidth,e=this.Frame.Data.DataOffset,i=this.Frame.XPointCount,a=0,n=0,r=0,o=e;r<i&&o<this.Frame.Data.Data.length;++r,++o){a+=t,++n;var s=null;if(0==r)s={Value:o-e,Text:Ce.FormatDateString(this.Frame.Data.Data[o].Date,"MM-DD")};else if(a>this.MinTextDistance&&n>=this.MinBarDistance){s={Value:o-e,Text:Ce.FormatTimeString(this.Frame.Data.Data[o].Time,"HH:MM:SS")}}if(s){var l=new Y;l.Value=s.Value,this.ShowText&&(l.Message[0]=s.Text),this.Frame.VerticalInfo.push(l),a=0,n=0,0==r&&(a=-this.MinTextDistance/2)}}},this.SplitDate=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.Data.DataOffset,e=this.Frame.XPointCount,i=null,a=null,n=0,r=0,o=t,s=12;r<e&&o<this.Frame.Data.Data.length;++r,++o){var l=parseInt(this.Frame.Data.Data[o].Date/1e4),h=parseInt(this.Frame.Data.Data[o].Date/100)%100;if(a!=h&&++n,s<12||null!=i&&i==l&&null!=a&&a==h)a=h,++s;else{var u,c=new Y;c.Value=o-t,null==i||i!=l?u=l.toString():null!=a&&a==h||(u=h.toString()+"月",u=ei.GetText(u,this.LanguageID)),i=l,a=h,this.ShowText&&(c.Message[0]=u),0==c.Value&&(c.LineType=-1),this.Frame.VerticalInfo.push(c),s=0}}0==this.Period&&n<=2&&this.SplitShortDate()},this.SplitShortDate=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.Data.DataOffset,e=this.Frame.XPointCount,i=!0,a=0,n=t,r=12;a<e&&n<this.Frame.Data.Data.length;++a,++n){var o=parseInt(this.Frame.Data.Data[n].Date/1e4);if(r<12)++r;else{var s=new Y;s.Value=n-t,i?(u=o.toString(),i=!1):u=Ce.FormatDateString(this.Frame.Data.Data[n].Date,"MM-DD"),this.ShowText&&(s.Message[0]=u),0==s.Value&&(s.LineType=-1),this.Frame.VerticalInfo.push(s),r=0}}if(1==this.Frame.VerticalInfo.length){var l=this.Frame.VerticalInfo[0],h=(n=l.Value+t,this.Frame.Data.Data[n]),u=Ce.FormatDateString(h.Date,"YYYY-MM");this.ShowText&&(l.Message[0]=u)}},this.Operator=function(){if(null!=this.Frame.Data&&(xe.SplitCustom?xe.SplitCustom(this):mt.IsMinutePeriod(this.Period,!0)?this.SplitDateTime():mt.IsSecondPeriod(this.Period)?this.SplitSecond():mt.IsTickPeriod(this.Period)?this.SplitSecond():this.SplitDate(),this.GetEventCallback)){var t=this.GetEventCallback(b.ON_SPLIT_XCOORDINATE);if(t&&t.Callback){var e={ID:this.Frame.Identify,Frame:this.Frame};t.Callback(t,e,this)}}},this.CreateCoordinateInfo=function(){return new Y}}function Se(){this.newMethod=Ce,this.newMethod(),delete this.newMethod,this.High=null,this.Low=null,this.YClose,this.Data,this.SourceData,this.OverlayChartPaint,this.SplitCount=7,this.Symbol,this.SplitType=0,this.DefaultSplitType=0,this.LimitPrice,this.Custom,this.RightTextFormat=0,this.BeforeOpenData,this.IsBeforeData=!1,this.AfterCloseData,this.IsAfterData=!1,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.DayOffset,this.AverageData,this.DayCount=1,this.GlobalOption,this.IsEnableDragY=function(){return!1},this.Operator=function(){if(this.Frame.HorizontalInfo=[],this.Frame.CustomHorizontalInfo=[],this.Data){var t=this.GetMaxMin();if(this.Symbol&&Ii.IsUSA(this.Symbol.toUpperCase())?this.USASplit(t):2==this.SplitType?this.USASplit(t):this.DefaultSplit(t),this.CustomCoordinate(),this.GetEventCallback){var e=this.GetEventCallback(b.ON_SPLIT_YCOORDINATE);if(e&&e.Callback){var i={ID:this.Frame.Identify,Frame:this.Frame};e.Callback(e,i,this)}}}},this.CustomCoordinate=function(){if(this.Custom){var t=Ni(this.Symbol);for(var e in this.Custom){var i=this.Custom[e];if(1==i.Type)this.CustomFixedCoordinate(i);else if(0==i.Type){var a=this.GetLatestPrice(t,i);a&&this.Frame.CustomHorizontalInfo.push(a)}}}},this.GetLatestPrice=function(t,e){if(!this.Data||!this.Data.Data)return null;if(this.Data.Data.length<=0)return null;var i=this.Data.Data[this.Data.Data.length-1];if(!Ce.IsNumber(i)||!Ce.IsNumber(this.YClose))return null;var a=new Y;a.Type=0,a.Value=i,a.TextColor=Qe.FrameLatestPrice.TextColor,a.LineType=2;var n=i.toFixed(t);if("HH:MM"==e.DateTime){var r=this.Frame.Data.Data[this.Frame.Data.Data.length-1],o=[{Text:n},{Text:Ce.FormatTimeString(r.Time,e.DateTime)}];"left"==e.Position?a.Message[0]=o:a.Message[1]=o}else"left"==e.Position?a.Message[0]=n:a.Message[1]=n;return i>this.YClose?a.LineColor=Qe.FrameLatestPrice.UpBarColor:i<this.YClose?a.LineColor=Qe.FrameLatestPrice.DownBarColor:a.LineColor=Qe.FrameLatestPrice.UnchagneBarColor,Ce.IsNumber(e.LineType)&&(a.LineType=e.LineType),Ce.IsPlusNumber(e.LineWidth)&&(a.LineWidth=e.LineWidth),e.LineDash&&(a.LineDash=e.LineDash),0==e.IsShowLine&&(a.LineType=-1),1===e.PositionEx&&(a.ExtendData={Custom:{Position:1}}),a},this.CustomFixedCoordinate=function(t){for(var e=Ni(this.Symbol),i=0;i<t.Data.length;++i){var a,n=t.Data[i],r=new Y;if(r.Type=1,r.TextColor=n.TextColor,r.LineColor=n.Color,r.LineType=2,Ce.IsNumber(t.LineType)&&(r.LineType=t.LineType),Ce.IsPlusNumber(t.LineWidth)&&(r.LineWidth=t.LineWidth),t.LineDash&&(r.LineDash=t.LineDash),0==t.IsShowLine&&(r.LineType=-1),1===t.PositionEx&&(r.ExtendData={Custom:{Position:1}}),Ce.IsNumber(n.Increase)){if(!Ce.IsNumber(this.YClose))continue;r.Value=this.YClose*(1+n.Increase)}else r.Value=n.Value;a=n.Text?n.Text:r.Value.toFixed(e),"left"==t.Position?r.Message[0]=a:r.Message[1]=a,this.Frame.CustomHorizontalInfo.push(r)}},this.GetCallAuctionMaxMin=function(t,e){for(var i in t.Data){var a=t.Data[i];a&&(Ce.IsNumber(a.Price)&&(null==e.Max&&(e.Max=a.Price),null==e.Min&&(e.Min=a.Price),e.Max<a.Price&&(e.Max=a.Price),e.Min>a.Price&&(e.Min=a.Price)),3==t.Ver&&Ce.IsNumber(a.AvPrice)&&(null==e.Max&&(e.Max=a.AvPrice),null==e.Min&&(e.Min=a.AvPrice),e.Max<a.AvPrice&&(e.Max=a.AvPrice),e.Min>a.AvPrice&&(e.Min=a.AvPrice)))}},this.GetMultiDayBeforeOpenData=function(){if(!this.MultiDayBeforeOpenData||!Ce.IsNonEmptyArray(this.MultiDayBeforeOpenData))return null;if(!this.DayOffset)return this.MultiDayBeforeOpenData;if(!Ce.IsNumber(this.DayOffset.Offset)||!Ce.IsNumber(this.DayOffset.ShowDayCount))return null;if(this.GlobalOption&&!0===this.GlobalOption.IsValueFullRange)return this.MultiDayBeforeOpenData;var t=this.DayOffset.ShowDayCount,e=this.DayOffset.Offset;return this.MultiDayBeforeOpenData.slice(e,e+t)},this.GetMultiDayAfterCloseData=function(){if(!this.MultiDayAfterCloseData||!Ce.IsNonEmptyArray(this.MultiDayAfterCloseData))return null;if(!this.DayOffset)return this.MultiDayAfterCloseData;if(!Ce.IsNumber(this.DayOffset.Offset)||!Ce.IsNumber(this.DayOffset.ShowDayCount))return null;if(this.GlobalOption&&!0===this.GlobalOption.IsValueFullRange)return this.MultiDayAfterCloseData;var t=this.DayOffset.ShowDayCount,e=this.DayOffset.Offset;return this.MultiDayAfterCloseData.slice(e,e+t)},this.GetMaxMin=function(){var t=this.YClose,e=this.YClose,i=this.Data,a=!1;if(this.SourceData&&(i=this.SourceData,a=!0),this.DayCount>1){var n=this.DayOffset.DataOffset,r=this.DayOffset.ShowDataCount;this.GlobalOption&&!0===this.GlobalOption.IsValueFullRange&&(n=0,r=i.Data.length);for(var o=n,s=0;o<i.Data.length&&s<r;++o,++s){var l=null;if(a)l=(h=i.Data[o]).Before?h.Before.Close:h.Close;else l=i.Data[o];null!=l&&(t<l&&(t=l),e>l&&(e=l))}if(this.AverageData)for(o=n,s=0;o<this.AverageData.Data.length&&s<r;++o,++s)null!=this.AverageData.Data[o]&&(t<this.AverageData.Data[o]&&(t=this.AverageData.Data[o]),e>this.AverageData.Data[o]&&(e=this.AverageData.Data[o]))}else{for(o=0;o<i.Data.length;++o){l=null;if(a)l=(h=i.Data[o]).Before?h.Before.Close:h.Close;else l=i.Data[o];null!=l&&(t<l&&(t=l),e>l&&(e=l))}if(this.AverageData)for(o=0;o<this.AverageData.Data.length;++o)null!=this.AverageData.Data[o]&&(t<this.AverageData.Data[o]&&(t=this.AverageData.Data[o]),e>this.AverageData.Data[o]&&(e=this.AverageData.Data[o]))}for(var o in this.OverlayChartPaint){var h;(u=(h=this.OverlayChartPaint[o]).GetMaxMin()).Max&&u.Max>t&&(t=u.Max),u.Min&&u.Min<e&&(e=u.Min)}1==this.SplitType&&this.LimitPrice&&(t<this.LimitPrice.Max&&(t=this.LimitPrice.Max),e>this.LimitPrice.Min&&(e=this.LimitPrice.Min)),Ce.IsNumber(this.High)&&Ce.IsNumber(this.Low)&&(t<this.High&&(t=this.High),e>this.Low&&(e=this.Low));var u={Max:null,Min:null};this.IsAfterData&&this.AfterCloseData&&this.GetCallAuctionMaxMin(this.AfterCloseData,u),this.IsBeforeData&&this.BeforeOpenData&&this.GetCallAuctionMaxMin(this.BeforeOpenData,u);var c=this.GetMultiDayBeforeOpenData();if(c&&this.ChartBorder.MultiDayMinute.Count>1&&this.ChartBorder.MultiDayMinute.Left>0)for(o=0;o<c.length;++o){var d=c[o];this.GetCallAuctionMaxMin(d,u)}var f=this.GetMultiDayAfterCloseData();if(f&&this.ChartBorder.MultiDayMinute.Count>1&&this.ChartBorder.MultiDayMinute.Right>0)for(o=0;o<f.length;++o){d=f[o];this.GetCallAuctionMaxMin(d,u)}return Ce.IsNumber(u.Max)&&t<u.Max&&(t=u.Max),Ce.IsNumber(u.Min)&&e>u.Min&&(e=u.Min),{Max:t,Min:e}},this.USASplit=function(t){var e=t.Max,i=t.Min;if(e==i)e+=.1*e,i-=.1*i;else{var a=5*L()*(e-i)/this.Frame.ChartBorder.GetHeight();e+=a,(i-=a)<0&&(i=t.Min)}var n=this.SplitCount,r=(e-i)/(n-1),o=[1,.1,.01,.001,1e-4],s=Ni(this.Symbol);r<o[s]&&(e=i+(r=o[s])*n);for(var l=0;l<n;++l){var h=i+r*l;if(!this.YClose||h!=this.YClose){(d=new Y).Value=h;var u=h.toFixed(s);if(this.IsShowLeftText&&(d.Message[0]=u),this.YClose){var c=100*(h/this.YClose-1);c>0?d.TextColor=Qe.UpTextColor:c<0&&(d.TextColor=Qe.DownTextColor),this.IsShowRightText&&(1==this.RightTextFormat?d.Message[1]=u:d.Message[1]=Ce.FormatValueString(c,2)+"%")}this.Frame.HorizontalInfo.push(d)}}if(this.YClose>i&&this.YClose<e){var d;(d=new Y).Value=this.YClose,d.LineType=2,Qe.FrameDotSplitPen&&(d.LineColor=Qe.FrameDotSplitPen);u=this.YClose.toFixed(s);this.IsShowLeftText&&(d.Message[0]=u),this.IsShowRightText&&(1==this.RightTextFormat?d.Message[1]=u:d.Message[1]="0.00%"),this.Frame.HorizontalInfo.push(d)}this.Frame.HorizontalInfo.sort(function(t,e){return t.Value-e.Value}),this.Frame.HorizontalMax=e,this.Frame.HorizontalMin=i},this.DefaultSplit=function(t){var e=t.Max,i=t.Min;if(this.YClose==e&&this.YClose==i)e=this.YClose+.1*this.YClose,i=this.YClose-.1*this.YClose;else{var a=Math.max(Math.abs(this.YClose-e),Math.abs(this.YClose-i));e=this.YClose+a,(i=this.YClose-a)<0&&(i=t.Min)}var n=L(),r=this.Frame.ChartBorder.GetChartWidth()<450*n;g.Chart.Log("[FrameSplitMinutePriceY]max="+e+" min="+i+" isPhoneModel="+r);var o=this.SplitCount,s=(e-i)/(o-1),l=[1,.1,.01,.001,1e-4],h=Ni(this.Symbol);r&&Ii.IsSHSZIndex(this.Symbol)&&(h=0),s<l[h]&&(s=l[h],e=this.YClose+s*(o-1)/2,i=this.YClose-s*(o-1)/2);for(var u=0;u<o;++u){var c=i+s*u,d=new Y;this.Frame.HorizontalInfo[u]=d,d.Value=c;var f=c.toFixed(h);if(this.IsShowLeftText&&(d.Message[0]=f),c==this.YClose&&(d.LineType=2,Qe.FrameDotSplitPen&&(d.LineColor=Qe.FrameDotSplitPen)),this.YClose){var p=100*(c/this.YClose-1);p>0?d.TextColor=Qe.UpTextColor:p<0&&(d.TextColor=Qe.DownTextColor),this.IsShowRightText&&(1==this.RightTextFormat?d.Message[1]=f:d.Message[1]=Ce.FormatValueString(p,2)+"%")}}this.Frame.HorizontalMax=e,this.Frame.HorizontalMin=i}}function Ie(){this.newMethod=Ce,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.Symbol=null,this.DayCount=1,this.ShowDateFormate=1,this.Operator=function(){this.Frame.VerticalInfo=[];this.Frame.XPointCount;var t=this.Frame.ChartBorder.GetWidth();!0===this.Frame.IsHScreen&&(t=this.Frame.ChartBorder.GetHeight()),t/=L();var e=wi.GetCoordinateData(this.Symbol,t),i=e.Count,a=e.MiddleCount>0?e.MiddleCount:parseInt(i/2),n=e.Data;if(this.Frame.XPointCount=i*this.DayCount,this.Frame.MinuteCount=i,this.Frame.VerticalInfo=[],this.DayCount<=1){this.DayOffset.DataOffset=0,this.DayOffset.ShowDataCount=i,this.DayOffset.PageInfo=null;for(var r=0;r<n.length;++r){var o=new Y;Qe.Minute.FrameSplitTextColor&&(o.TextColor=Qe.Minute.FrameSplitTextColor),o.Value=n[r][0],this.ShowText&&(o.Message[0]=n[r][3]),this.Frame.VerticalInfo[r]=o}}else{var s=0,l=this.DayData.length;this.DayOffset&&(Ce.IsNumber(this.DayOffset.Offset)&&(s=this.DayOffset.Offset),Ce.IsNumber(this.DayOffset.ShowDayCount)&&(l=this.DayOffset.ShowDayCount)),this.DayOffset.DataOffset=s*i,this.DayOffset.ShowDataCount=this.DayOffset.ShowDayCount*i,this.DayOffset.PageInfo={Day:[]};r=this.DayData.length-1-s;for(var h=0;r>=0&&h<l;--r,++h){(o=new Y).Value=h*i+a,o.LineType=-1,this.ShowText&&(o.Message[0]=Ce.FormatDateString(this.DayData[r].Date,0==this.ShowFormate?"YYYY-MM-DD":"MM-DD"),o.BG={Index:{Start:h*i+1,End:(h+1)*i-1},Date:this.DayData[r].Date}),this.Frame.VerticalInfo.push(o),(o=new Y).Value=(h+1)*i,this.Frame.VerticalInfo.push(o),this.DayOffset.PageInfo.Day.push({Date:this.DayData[r].Date,Index:r})}}if(this.GetEventCallback){var u=this.GetEventCallback(b.ON_SPLIT_XCOORDINATE);if(u&&u.Callback){var c={ID:this.Frame.Identify,Frame:this.Frame};u.Callback(u,c,this)}}}}function Te(){this.Frame,this.Value,this.Point,this.ClientPos,this.BeforOpeneData,this.AfterCloseData,this.X,this.Item,this.DataIndex,this.DayIndex,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.DayOffset,this.Operator=function(){return this.Item=null,this.DataIndex=null,this.DayIndex=null,2==this.ClientPos?this.GetBeforeOpenXIndex():3==this.ClientPos?this.GetAfterCloseXIndex():this.ClientPos>=200&&this.ClientPos<=299?this.GetMultiDayBeforeOpenXIndex():this.ClientPos>=300&&this.ClientPos<=399&&this.GetMultiDayAfterCloseXIndex()},this.GetBeforeOpenXIndex=function(){if(!Ce.IsNumber(this.Value))return!1;if(!this.BeforeOpenData||!this.BeforeOpenData.Data)return!1;var t=this.Frame.GetLeftExtendXData(this.Value,this.BeforeOpenData);if((t=parseInt(t.toFixed(0)))>=0&&t<this.BeforeOpenData.Data.length){var e=this.BeforeOpenData.Data[t];if(Ce.IsNumber(e.Price))return this.Item=e,this.X=this.Value,this.DataIndex=t,!0}t<0?t=0:t>=this.BeforeOpenData.Data.length&&(t=this.BeforeOpenData.Data.length-1);for(var i=-1,a=t;a>=0;--a){e=this.BeforeOpenData.Data[a];if(Ce.IsNumber(e.Price)){i=a;break}}if(i<0)for(a=t+1;a<this.BeforeOpenData.Data.length;++a){e=this.BeforeOpenData.Data[a];if(Ce.IsNumber(e.Price)){i=a;break}}return!(i<0)&&(this.Item=e,this.DataIndex=i,this.X=this.Frame.GetLeftExtendXFromIndex(i,this.BeforeOpenData),!0)},this.GetMultiDayBeforeOpenData=function(){if(!this.MultiDayBeforeOpenData||!Ce.IsNonEmptyArray(this.MultiDayBeforeOpenData))return null;if(this.DayOffset||this.MultiDayBeforeOpenData,!Ce.IsNumber(this.DayOffset.Offset)||!Ce.IsNumber(this.DayOffset.ShowDayCount))return null;var t=this.DayOffset.ShowDayCount,e=this.DayOffset.Offset;return this.MultiDayBeforeOpenData.slice(e,e+t)},this.GetMultiDayBeforeOpenXIndex=function(){var t=this.GetMultiDayBeforeOpenData();if(!t||!Ce.IsNonEmptyArray(t))return!1;if((n=this.ClientPos-200)<0||n>=t.length)return!1;var e=t[n],i=this.Frame.GetLeftExtendXData(this.Value,t);if(!i||!Ce.IsNumber(i.DataIndex))return!1;var a=parseInt(i.DataIndex.toFixed(0)),n=i.DayIndex;if(a>=0&&a<e.Data.length){var r=e.Data[a];if(Ce.IsNumber(r.Price))return this.Item=r,this.X=this.Value,this.DataIndex=a,this.DayIndex=n,!0}a<0?a=0:a>=e.Data.length&&(a=e.Data.length-1);for(var o=-1,s=a;s>=0;--s){r=e.Data[s];if(Ce.IsNumber(r.Price)){o=s;break}}return!(o<0)&&(this.Item=r,this.DataIndex=o,this.DayIndex=n,this.X=this.Frame.GetLeftExtendXFromIndex(o,e),!0)},this.GetAfterCloseXIndex=function(){if(!Ce.IsNumber(this.Value))return!1;if(!this.AfterCloseData||!this.AfterCloseData.Data)return!1;var t=this.Frame.GetRightExtendXData(this.Value,this.AfterCloseData);if((t=parseInt(t.toFixed(0)))>=0&&t<this.AfterCloseData.Data.length){var e=this.AfterCloseData.Data[t];if(Ce.IsNumber(e.Price))return this.Item=e,this.X=this.Value,this.DataIndex=t,!0}t<0?t=0:t>=this.AfterCloseData.Data.length&&(t=this.AfterCloseData.Data.length-1);for(var i=-1,a=t;a>=0;--a){e=this.AfterCloseData.Data[a];if(Ce.IsNumber(e.Price)){i=a;break}}if(i<0)for(a=t+1;a<this.AfterCloseData.Data.length;++a){e=this.AfterCloseData.Data[a];if(Ce.IsNumber(e.Price)){i=a;break}}return!(i<0)&&(this.Item=e,this.DataIndex=i,this.X=this.Frame.GetRightExtendXFromIndex(i,this.AfterCloseData),!0)},this.GetMultiDayAfterCloseData=function(){if(!this.MultiDayAfterCloseData||!Ce.IsNonEmptyArray(this.MultiDayAfterCloseData))return null;if(this.DayOffset||this.MultiDayAfterCloseData,!Ce.IsNumber(this.DayOffset.Offset)||!Ce.IsNumber(this.DayOffset.ShowDayCount))return null;var t=this.DayOffset.ShowDayCount,e=this.DayOffset.Offset;return this.MultiDayAfterCloseData.slice(e,e+t)},this.GetMultiDayAfterCloseXIndex=function(){var t=this.GetMultiDayAfterCloseData();if(t&&Ce.IsNonEmptyArray(t)&&!((n=this.ClientPos-300)<0||n>=t.length)){var e=t[n],i=this.Frame.GetRightExtendXData(this.Value,t);if(i){var a=parseInt(i.DataIndex.toFixed(0)),n=i.DayIndex;if(a>=0&&a<e.Data.length){var r=e.Data[a];if(Ce.IsNumber(r.Price))return this.Item=r,this.X=this.Value,this.DataIndex=a,this.DayIndex=n,!0}a<0?a=0:a>=e.Data.length&&(a=e.Data.length-1);for(var o=-1,s=a;s>=0;--s){r=e.Data[s];if(Ce.IsNumber(r.Price)){o=s;break}}return!(o<0)&&(this.Item=r,this.DataIndex=o,this.DayIndex=n,this.X=this.Frame.GetRightExtendXFromIndex(o,e),!0)}}}}function be(){this.ClassName="ChartCorssCursor",this.Frame,this.Canvas,this.HPenColor=Qe.CorssCursorHPenColor,this.HPenType=0,this.VPenColor=Qe.CorssCursorVPenColor,this.VPenType=0,this.VLineType=0,this.Font=Qe.CorssCursorTextFont,this.TextColor=Qe.CorssCursorTextColor,this.TextBGColor=Qe.CorssCursorBGColor,this.BorderColor=Qe.CorssCursorBorderColor,this.XRangeBGColor=Qe.CorssCursorXRangeBGColor,this.TextHeight=20,this.LastPoint,this.CursorIndex,this.IsOnlyDrawKLine=!1,this.IsOnlyDrawMinute=!1,this.IsFixXLastTime=!1,this.IsDrawXRangeBG=!1,this.PointX,this.PointY,this.StringFormatX,this.StringFormatY,this.ShowTextMode={Left:1,Right:1,Bottom:1},this.TextFormat={Right:0},this.IsShowCorss=!0,this.IsShow=!0,this.IsShowClose=!1,this.ClientPos=-1,this.CallAcutionXOperator,this.RightButton={Enable:!1,Rect:null,BGColor:Qe.CorssCursor.RightButton.BGColor,PenColor:Qe.CorssCursor.RightButton.PenColor,Icon:Qe.CorssCursor.RightButton.Icon},this.Close=null,this.Status=0,this.ReloadResource=function(t){this.Font=Qe.CorssCursorTextFont,this.HPenColor=Qe.CorssCursorHPenColor,this.VPenColor=Qe.CorssCursorVPenColor,this.TextColor=Qe.CorssCursorTextColor,this.TextBGColor=Qe.CorssCursorBGColor,this.BorderColor=Qe.CorssCursorBorderColor,this.XRangeBGColor=Qe.CorssCursorXRangeBGColor},this.GetCloseYPoint=function(t){if(!this.StringFormatX.Data)return null;var e=this.StringFormatX.Data;if(!e.Data||e.Data.length<=0)return null;var i=e.DataOffset+t;if(i>=e.Data.length&&(i=e.Data.length-1),i<0)return null;var a=e.Data[i];return a?(this.Close=a.Close,this.Frame.GetYFromData(this.Close)):null},this.GetMinuteCloseYPoint=function(t){if(!Ce.IsNumber(t))return null;if(t=parseInt(t),!this.StringFormatX.Data)return null;var e=this.StringFormatX.Data;if(!e.Data||e.Data.length<=0)return null;var i=e.DataOffset+t;if(i>=e.Data.length&&(i=e.Data.length-1),i<0)return null;var a=e.Data[i];return Ce.IsNumber(t)?(this.Close=a,this.Frame.GetYFromData(this.Close)):null},this.GetDateTimeRange=function(t,e){if(!Ce.IsNumber(t))return null;t=parseInt(t);var i=this.StringFormatX.Data;if(!i.Data||i.Data.length<=0)return null;var a=i.DataOffset+t;if(a>=i.Data.length||a<0)return null;if(!this.Frame||!this.Frame.SubFrame[0]||!this.Frame.SubFrame[0].Frame)return null;var n=this.Frame.SubFrame[0].Frame,r=n.DataWidth,o=n.DistanceWidth,s=n.XPointCount,l=i.Data[a];if(!l)return null;for(var h=1e6*l.Date,u=100*parseInt(l.Time/100),c=h+u,d=h+u+59,f=a,p=a;p<i.Data.length;++p){if(1e6*(v=i.Data[p]).Date+v.Time>d)break;if(p-i.DataOffset>=s)break;f=p}var m=a;for(p=a;p>=0&&p>=i.DataOffset;--p){var v;if(1e6*(v=i.Data[p]).Date+v.Time<c)break;m=p}var g={StartIndex:m,EndIndex:f};return g.XStart=this.Frame.GetXFromIndex(m-i.DataOffset),g.XEnd=this.Frame.GetXFromIndex(f-i.DataOffset),g.XStart-=(o+r)/2,g.XEnd+=(o+r)/2,g},this.FixMinuteLastTimeXPoint=function(t){if(!Ce.IsNumber(t))return null;if(t=parseInt(t),!this.StringFormatX.Data)return null;var e=this.StringFormatX.Data;if(!e.Data||e.Data.length<=0)return null;var i=e.DataOffset+t;return i<e.Data.length?null:(i=e.Data.length-1,i-=e.DataOffset,{X:this.Frame.GetXFromIndex(i),Index:i})},this.PtInClient=function(t,e){if(this.Canvas.beginPath(),!0===this.Frame.IsHScreen){var i=this.Frame.ChartBorder.GetHScreenBorder();this.Canvas.rect(i.Left,i.TopEx,i.Right-i.Left,i.BottomEx-i.TopEx)}else{i=this.Frame.ChartBorder.GetBorder();this.Canvas.rect(i.LeftEx,i.Top,i.RightEx-i.LeftEx,i.Bottom-i.Top)}return this.Canvas.isPointInPath(t,e)?1:this.Frame.ChartBorder.LeftExtendWidth>10&&(this.Canvas.beginPath(),!0===this.Frame.IsHScreen?this.Canvas.rect(i.Left,i.Top,i.Right-i.Left,i.TopEx-i.Top):this.Canvas.rect(i.Left,i.Top,i.LeftEx-i.Left,i.Bottom-i.Top),this.Canvas.isPointInPath(t,e))?2:this.Frame.ChartBorder.RightExtendWidth>10&&(this.Canvas.beginPath(),!0===this.Frame.IsHScreen?this.Canvas.rect(i.Left,i.BottomEx,i.Right-i.Left,i.Bottom-i.BottomEx):this.Canvas.rect(i.RightEx,i.Top,i.Right-i.RightEx,i.Bottom-i.Top),this.Canvas.isPointInPath(t,e))?3:-1},this.GetFontHeight=function(t){return F(this.Canvas,t,"擎")},this.Draw=function(){if(this.Status=0,this.RightButton.Rect=null,this.LastPoint){this.Close=null;var t=this.LastPoint.X,e=this.LastPoint.Y,i=this.PtInClient(t,e);if(this.PointY=null,this.PointY,this.ClientPos=i,!(i<=0))if(!0!==this.Frame.IsHScreen){var a=this.Frame.ChartBorder.GetBorder(),n=a.Left,r=a.Right,o=a.TopTitle,s=a.Bottom,l=this.Frame.ChartBorder.Right,h=a.ChartWidth;if(this.IsOnlyDrawKLine){if(t=this.Frame.GetXFromIndex(this.CursorIndex),this.IsShowClose)null!=(u=this.GetCloseYPoint(this.CursorIndex))&&(e=u)}else if(this.IsOnlyDrawMinute){var u;null!=(u=this.GetMinuteCloseYPoint(this.CursorIndex))&&(e=u)}if(this.CallAcutionXOperator&&(this.CallAcutionXOperator.Value=t,this.CallAcutionXOperator.Point={X:t,Y:e},this.CallAcutionXOperator.ClientPos=i,this.CallAcutionXOperator.Operator()&&(t=this.CallAcutionXOperator.X)),this.IsFixXLastTime){var c=this.FixMinuteLastTimeXPoint(this.CursorIndex);c&&(t=c.X,this.CursorIndex=c.Index)}if(this.PointY=[[n,e],[r,e]],this.PointX=[[t,o],[t,s]],this.IsShowCorss){var d=null;this.IsDrawXRangeBG&&(d=this.GetDateTimeRange(this.CursorIndex));var f=L();if(1!=this.HPenType&&0!=this.HPenType||(this.Canvas.strokeStyle=this.HPenColor,0==this.HPenType&&this.Canvas.setLineDash([3*f,2*f]),this.Canvas.beginPath(),this.Canvas.moveTo(n,R(e)),this.Canvas.lineTo(r,R(e)),this.Canvas.stroke(),0==this.HPenType&&this.Canvas.setLineDash([])),this.Canvas.save(),this.Canvas.strokeStyle=this.VPenColor,0==this.VPenType)this.Canvas.setLineDash([3*f,2*f]);else if(2==this.VPenType){var p=this.Frame.SubFrame[0].Frame.DataWidth;p>2*f&&(this.Canvas.lineWidth=p)}if(this.Canvas.beginPath(),1==this.VLineType)d&&(this.Canvas.fillStyle=this.XRangeBGColor,this.Canvas.fillRect(d.XStart,a.Top,d.XEnd-d.XStart,a.Bottom-a.Top)),this.Canvas.moveTo(R(t),a.Top),this.Canvas.lineTo(R(t),a.Bottom);else if(this.Frame.SubFrame.length>0)for(var m in this.Frame.SubFrame){var v=(O=this.Frame.SubFrame[m].Frame).ChartBorder.GetBorder();o=v.TopTitle,s=v.Bottom,d&&(this.Canvas.fillStyle=this.XRangeBGColor,this.Canvas.fillRect(d.XStart,o,d.XEnd-d.XStart,s-o)),this.Canvas.moveTo(R(t),o),this.Canvas.lineTo(R(t),s)}else this.Canvas.moveTo(R(t),o),this.Canvas.lineTo(R(t),s);this.Canvas.stroke(),this.Canvas.restore()}this.Frame.GetXData(t);var g={},C=this.Frame.GetYData(e,g);(this.IsOnlyDrawMinute||this.IsShowClose)&&null!=this.Close&&(C=this.Close),this.StringFormatX.Value=this.CursorIndex,this.StringFormatX.Point={X:t,Y:e},this.StringFormatX.ClientPos=i,this.StringFormatY.Value=C,this.StringFormatY.RValue=g.RightYValue,this.StringFormatY.FrameID=g.FrameID,this.StringFormatY.Point={X:t,Y:e},this.StringFormatY.ClientPos=i,this.Canvas.font=this.Font;var D=this.GetFontHeight();if(D>this.TextHeight&&(this.TextHeight=D),(1==this.ShowTextMode.Left&&this.Frame.ChartBorder.Left>=30||2==this.ShowTextMode.Left||1==this.ShowTextMode.Right&&this.Frame.ChartBorder.Right>=30||2==this.ShowTextMode.Right)&&this.StringFormatY.Operator()){var y=this.StringFormatY.Text;this.Canvas.font=this.Font;var x=this.Canvas.measureText(y).width+4,S={Y:e,YValue:C,FrameID:g.FrameID};if(this.Frame.ChartBorder.Left>=30&&1==this.ShowTextMode.Left?n<x?(this.DrawTextBGRect(R(2),R(e-this.TextHeight/2),k(x),k(this.TextHeight)),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(y,4,e,x)):(this.DrawTextBGRect(n-2,e-this.TextHeight/2,-x,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(y,n-4,e,x)):2==this.ShowTextMode.Left&&(this.DrawTextBGRect(n,e-this.TextHeight/2,x,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(y,n+2,e,x)),this.StringFormatY.PercentageText&&0==this.TextFormat.Right&&(y=this.StringFormatY.PercentageText+"%",x=this.Canvas.measureText(y).width+4),this.StringFormatY.RText){y=this.StringFormatY.RText;x=this.Canvas.measureText(y).width+4}if(this.Frame.ChartBorder.Right>=30&&1==this.ShowTextMode.Right){var I=!1,T=null;if(g.FrameID>=0)I=(O=this.Frame.SubFrame[g.FrameID]).OverlayIndex.length>0,T=O.Interval;if(I&&x>T){var b=r+T;b>h&&(b=h),this.DrawTextBGRect(b-2-x,e-this.TextHeight/2,x,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(y,b-4,e,x)}else l<x?(this.DrawTextBGRect(h-2-x,e-this.TextHeight/2,x,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(y,h-4,e,x),this.RightButton.Enable&&this.DrawRightButton(e-this.TextHeight/2,h-2-x,this.TextHeight,this.TextHeight,S)):(this.DrawTextBGRect(r+2,e-this.TextHeight/2,x,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(y,r+4,e,x),this.RightButton.Enable&&this.DrawRightButton(e-this.TextHeight/2,r+2,this.TextHeight,this.TextHeight,S));if(this.StringFormatY.RExtendText&&this.StringFormatY.RExtendText.length>0){var w=0;for(var m in this.StringFormatY.RExtendText){var M="--.--";(B=this.StringFormatY.RExtendText[m]).YText?M=B.YText:Ce.IsNumber(B.Y)&&(M=B.Y.toFixed(0));var E=this.Canvas.measureText(M).width+4;l<E?(this.DrawTextBGRect(h-2-E,e+w+this.TextHeight/2,E,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=B.TextColor,this.Canvas.fillText(M,h-4,e+w+this.TextHeight,E)):(this.DrawTextBGRect(r+2,e+w+this.TextHeight/2,E,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=B.TextColor,this.Canvas.fillText(M,r+4,e+w+this.TextHeight,E)),w+=this.TextHeight}}}else if(2==this.ShowTextMode.Right){this.Canvas.fillStyle=this.TextBGColor;var A=r-x;this.DrawTextBGRect(A,e-this.TextHeight/2,x,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(y,A+2,e,x),this.RightButton.Enable&&this.DrawRightButton(e-this.TextHeight/2,A,this.TextHeight,this.TextHeight,S)}}if((1==this.ShowTextMode.Bottom||2==this.ShowTextMode.Bottom)&&this.StringFormatX.Operator()){y=this.StringFormatX.Text;this.Canvas.font=this.Font,this.Canvas.fillStyle=this.TextBGColor;x=this.Canvas.measureText(y).width+4;var _=s+2+this.TextHeight/2,F=s+2;2==this.ShowTextMode.Bottom&&(_=s-this.TextHeight/2-2,F=s-this.TextHeight-2),t-x/2<3?(this.DrawTextBGRect(t-1,F,x,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(y,t+1,_,x)):t+x/2>=r?(this.DrawTextBGRect(r-x,F,x,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(y,r-2,_,x)):(this.DrawTextBGRect(t-x/2,F,x,this.TextHeight),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(y,t,_,x))}if(g.FrameID>=0){var O=this.Frame.SubFrame[g.FrameID],P=!1;this.Frame.AutoRightBorder&&(P=!0);var N=r;for(var m in P&&(N=r+this.Frame.AuotRightWidth),this.Canvas.font=this.Font,O.OverlayIndex){var B;if(!1!==(B=O.OverlayIndex[m]).Frame.IsShow){if(P||(N+=O.Interval),N+30>h)break;for(C=B.Frame.GetYData(e),m=2;m>=0;--m){y=Ce.FormatValueString(C,m);if((x=this.Canvas.measureText(y).width+4)<O.Interval)break}this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(N+2,e-this.TextHeight/2,x,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(y,N+4,e,x),P&&(N+=B.RightWidth.Width)}}}this.Status=1}else this.HScreenDraw()}},this.DrawRightButton=function(t,e,i,a,n){this.Canvas.fillStyle=this.RightButton.BGColor;var r={Left:e-i,Top:t,Width:i,Height:a};this.RightButton.Rect=r,this.RightButton.Data=n,this.Canvas.fillRect(R(r.Left+1),R(r.Top),k(r.Width),k(r.Height));var o=L(),s=r.Top+3+(r.Height-6)/2,l=r.Left+3+(r.Width-6)/2;if(this.RightButton.Icon){var h=this.RightButton.Icon;this.Canvas.font=h.Size*o+"px "+h.Family,this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=h.Color,this.Canvas.fillText("",l,s)}else{this.Canvas.strokeStyle=this.RightButton.PenColor;var u=r.Left+3,c=r.Top+3;this.Canvas.save(),this.Canvas.linewidth=1*o,this.Canvas.beginPath(),this.Canvas.moveTo(R(u),R(s)),this.Canvas.lineTo(R(u+r.Width-6),R(s)),this.Canvas.moveTo(R(l),R(c)),this.Canvas.lineTo(R(l),R(c+r.Height-6)),this.Canvas.stroke(),this.Canvas.restore()}},this.PtInButton=function(t,e){if(!this.RightButton.Enable)return null;if(!this.RightButton.Rect)return null;var i=this.RightButton.Rect;return this.Canvas.beginPath(),this.Canvas.rect(i.Left,i.Top,i.Width,i.Height),this.Canvas.isPointInPath(t,e)?{Data:this.RightButton.Data,Rect:i}:void 0},this.DrawTextBGRect=function(t,e,i,a){this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(R(t),R(e),k(i),k(a)),this.BorderColor&&(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(R(t),R(e),k(i),k(a)))},this.HScreenDraw=function(){var t=this.LastPoint.X,e=this.LastPoint.Y;this.IsOnlyDrawKLine&&(e=this.Frame.GetXFromIndex(this.CursorIndex));var i=this.Frame.ChartBorder.GetHScreenBorder(),a=i.Left,n=i.Right,r=i.Top,o=i.Bottom,s=this.Frame.ChartBorder.Bottom;if(this.CallAcutionXOperator&&(this.CallAcutionXOperator.Value=e,this.CallAcutionXOperator.Point={X:t,Y:e},this.CallAcutionXOperator.ClientPos=this.ClientPos,this.CallAcutionXOperator.Operator()&&(e=this.CallAcutionXOperator.X)),this.PointY=[[a,e],[n,e]],this.PointX=[[t,r],[t,o]],this.IsShowCorss){var l=L();if(this.Canvas.save(),this.Canvas.strokeStyle=this.HPenColor,0==this.HPenType&&this.Canvas.setLineDash([3*l,2*l]),this.Canvas.beginPath(),this.Canvas.moveTo(R(t),r),this.Canvas.lineTo(R(t),o),this.Canvas.stroke(),this.Canvas.restore(),this.Canvas.save(),this.Canvas.strokeStyle=this.VPenColor,0==this.VPenType)this.Canvas.setLineDash([3*l,2*l]);else if(2==this.VPenType){var h=this.Frame.SubFrame[0].Frame.DataWidth;h>2*l&&(this.Canvas.lineWidth=h)}if(this.Canvas.beginPath(),1==this.VLineType)this.Canvas.moveTo(a,R(e)),this.Canvas.lineTo(n,R(e));else if(this.Frame.SubFrame.length>0)for(var u in this.Frame.SubFrame){var c=this.Frame.SubFrame[u].Frame.ChartBorder.GetHScreenBorder();this.Canvas.moveTo(c.Left,R(e)),this.Canvas.lineTo(c.RightEx,R(e))}else this.Canvas.moveTo(a,R(e)),this.Canvas.lineTo(n,R(e));this.Canvas.stroke(),this.Canvas.restore()}var d=this.Frame.GetXData(e),f={},p=this.Frame.GetYData(t,f);if(this.StringFormatX.Value=d,this.StringFormatX.Point={X:t,Y:e},this.StringFormatX.ClientPos=this.ClientPos,this.StringFormatY.Value=p,this.StringFormatY.FrameID=f.FrameID,this.StringFormatY.Point={X:t,Y:e},this.StringFormatY.ClientPos=this.ClientPos,(1==this.ShowTextMode.Left&&this.Frame.ChartBorder.Top>=30||2==this.ShowTextMode.Left||1==this.ShowTextMode.Right&&this.Frame.ChartBorder.Bottom>=30||2==this.ShowTextMode.Right)&&this.StringFormatY.Operator()){var m=this.StringFormatY.Text;this.Canvas.font=this.Font;var v=this.Canvas.measureText(m).width+4;if(this.Frame.ChartBorder.Top>=30&&1==this.ShowTextMode.Left){var g=t,C=r;this.Canvas.save(),this.Canvas.translate(g,C),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,r>=v?(this.Canvas.fillRect(0,-this.TextHeight/2,-v,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,-2,0,v)):(this.Canvas.fillRect(v-r,-this.TextHeight/2,-v,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,v-r-2,0,v)),this.Canvas.restore()}else if(2==this.ShowTextMode.Left){g=t,C=r;this.Canvas.save(),this.Canvas.translate(g,C),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(0,-this.TextHeight/2,v,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,2,0,v),this.Canvas.restore()}if(this.StringFormatY.RText){m=this.StringFormatY.RText;v=this.Canvas.measureText(m).width+4}if(this.Frame.ChartBorder.Bottom>=30&&1==this.ShowTextMode.Right){g=t,C=o;if(this.Canvas.save(),this.Canvas.translate(g,C),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,s>v?(this.Canvas.fillRect(0,-this.TextHeight/2,v,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,2,0,v)):(this.Canvas.fillRect(s-v,-this.TextHeight/2,v,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,s-v+2,0,v)),this.StringFormatY.RExtendText&&this.StringFormatY.RExtendText.length>0){var D=0;for(var u in this.StringFormatY.RExtendText){var y=this.StringFormatY.RExtendText[u],x="--.--";y.YText?x=y.YText:Ce.IsNumber(y.Y)&&(x=y.Y.toFixed(0));var S=this.Canvas.measureText(x).width+4;if(this.Canvas.fillStyle=y.TextBGColor,s>S)this.Canvas.fillRect(0,D+this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=y.TextColor,this.Canvas.fillText(x,2,D+this.TextHeight,S);else{var I=s-S;this.Canvas.fillRect(I,D+this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=y.TextColor,this.Canvas.fillText(x,I+2,D+this.TextHeight,S)}D+=this.TextHeight}}this.Canvas.restore()}else if(2==this.ShowTextMode.Right){g=t,C=o;this.Canvas.save(),this.Canvas.translate(g,C),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(0,-this.TextHeight/2,-v,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,-2,0,v),this.Canvas.restore()}}if(1===this.ShowTextMode.Bottom&&this.StringFormatX.Operator()){m=this.StringFormatX.Text;if(this.Canvas.font=this.Font,this.Canvas.fillStyle=this.TextBGColor,e-(v=this.Canvas.measureText(m).width+4)/2<3){g=a,C=e;this.Canvas.save(),this.Canvas.translate(g,C),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillRect(0,0,v,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,2,this.TextHeight/2,v),this.Canvas.restore()}else if(e+v/2>=o){g=a,C=e;this.Canvas.save(),this.Canvas.translate(g,C),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillRect(-v,0,v,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,-2,this.TextHeight/2,v),this.Canvas.restore()}else{g=a,C=e;this.Canvas.save(),this.Canvas.translate(g,C),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillRect(-v/2,0,v,this.TextHeight),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,0,this.TextHeight/2,v),this.Canvas.restore()}}this.Status=1}}function we(){this.Frame,this.Canvas,this.Font=Qe.DefaultTextFont,this.TextColor=Qe.DefaultTextColor,this.IsEnableSplash=!1,this.SplashTitle="数据加载中",this.HQChart,this.EnableSplash=function(t){if(this.IsEnableSplash=t,this.HQChart){var e=this.HQChart.GetEventCallback(b.ON_ENABLE_SPLASH_DRAW);if(e){var i={Enable:t};e.Callback(e,i,this)}}},this.SetTitle=function(t){this.SplashTitle=t},this.Draw=function(){if(this.IsEnableSplash)if(!0!==this.Frame.IsHScreen){var t=(this.Frame.ChartBorder.GetLeft()+this.Frame.ChartBorder.GetRight())/2,e=(this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.GetBottom())/2;this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.SplashTitle,t,e)}else this.HScreenDraw()},this.HScreenDraw=function(){var t=(this.Frame.ChartBorder.GetLeft()+this.Frame.ChartBorder.GetRight())/2,e=(this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.GetBottom())/2;this.Canvas.save(),this.Canvas.translate(t,e),this.Canvas.rotate(90*Math.PI/180),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.SplashTitle,0,0),this.Canvas.restore()}}function Me(){this.Data,this.Value,this.Text,this.Operator=function(){return!1},this.GetMultiDayBeforeOpenData=function(){if(!this.MultiDayBeforeOpenData||!Ce.IsNonEmptyArray(this.MultiDayBeforeOpenData))return null;if(this.DayOffset||this.MultiDayBeforeOpenData,!Ce.IsNumber(this.DayOffset.Offset)||!Ce.IsNumber(this.DayOffset.ShowDayCount))return null;var t=this.DayOffset.ShowDayCount,e=this.DayOffset.Offset;return this.MultiDayBeforeOpenData.slice(e,e+t)},this.GetMultiDayAfterCloseData=function(){if(!this.MultiDayAfterCloseData||!Ce.IsNonEmptyArray(this.MultiDayAfterCloseData))return null;if(this.DayOffset||this.MultiDayAfterCloseData,!Ce.IsNumber(this.DayOffset.Offset)||!Ce.IsNumber(this.DayOffset.ShowDayCount))return null;var t=this.DayOffset.ShowDayCount,e=this.DayOffset.Offset;return this.MultiDayAfterCloseData.slice(e,e+t)}}Ce.FormatValueThousandsString=function(t,e){if(null==t||isNaN(t)){if(e>0){for(var i="-.",a=0;a<e;++a)i+="-";return i}return"--"}var n="",r=t.toFixed(e);if(e>0){for(var o=r.split(".")[1],s=r.split(".")[0];s.length>3;)n=","+s.slice(-3)+n,s=s.slice(0,s.length-3);s&&(n=s+n+"."+o)}else{for(;r.length>3;)n=","+r.slice(-3)+n,r=r.slice(0,r.length-3);r&&(n=r+n)}return n},Ce.FormatValueString=function(t,e,i){if(null==t||isNaN(t)){if(e>0){for(var a="-.",n=0;n<e;++n)a+="-";return a}return"--"}if(t<1e-11&&t>-1e-11)return"0";var r=Math.abs(t);return i===ti.LANGUAGE_ENGLISH_ID?r<1e4?t.toFixed(e):r<1e6?(t/1e3).toFixed(e)+"K":r<1e9?(t/1e6).toFixed(e)+"M":r<1e12?(t/1e9).toFixed(e)+"B":(t/1e12).toFixed(e)+"T":i===ti.LANGUAGE_TRADITIONAL_CHINESE_ID?r<1e4?t.toFixed(e):r<1e8?(t/1e4).toFixed(e)+"萬":r<1e12?(t/1e8).toFixed(e)+"億":(t/1e12).toFixed(e)+"萬億":r<1e4?t.toFixed(e):r<1e6?(t/1e4).toFixed(e)+"万":r<1e8?(t/1e4).toFixed(e)+"万":r<1e12?(t/1e8).toFixed(e)+"亿":(t/1e12).toFixed(e)+"万亿"},Ce.FormatVolString=function(t,e){var i=Math.abs(t);return i<1e5?i.toFixed(0):i<1e7?(t/1e4).toFixed(1)+"万":i<1e8?(t/1e4).toFixed(0)+"万":i<1e9?(t/1e8).toFixed(2)+"亿":i<1e12?(t/1e8).toFixed(1)+"亿":(t/1e12).toFixed(1)+"万亿"},Ce.FromatIntegerString=function(t,e,i){return t<1e4&&Ce.IsInteger(t)&&(e=0),Ce.FormatValueString(t,e,i)},Ce.NumberToString=function(t){return t<10?"0"+t.toString():t.toString()},Ce.FormatDateString=function(t,e,i){var a=parseInt(t/1e4),n=parseInt(t/100)%100,r=t%100;switch(e){case"MM-DD":return Ce.NumberToString(n)+"-"+Ce.NumberToString(r);case"YYYY-MM":return a+"-"+Ce.NumberToString(n);case"YYYY/MM/DD":return a.toString()+"/"+Ce.NumberToString(n)+"/"+Ce.NumberToString(r);case"YYYY/MM/DD/W":var o=new Date(a,n-1,r),s=ei.GetText(Le[o.getDay()],i);return a.toString()+"/"+Ce.NumberToString(n)+"/"+Ce.NumberToString(r)+"/"+s.toString();case"DD/MM/YYYY":return Ce.NumberToString(r)+"/"+Ce.NumberToString(n)+"/"+a.toString();default:return a.toString()+"-"+Ce.NumberToString(n)+"-"+Ce.NumberToString(r)}},Ce.FormatTimeString=function(t,e){if("HH:MM:SS"==e){var i=parseInt(t/1e4),a=parseInt(t%1e4/100),n=t%100;return Ce.NumberToString(i)+":"+Ce.NumberToString(a)+":"+Ce.NumberToString(n)}if("hh:mm"==e){i=parseInt(t/1e4),a=parseInt(t%1e4/100),n=t%100;return Ce.NumberToString(i)+":"+Ce.NumberToString(a)}if("HH:MM"==e){i=parseInt(t/100),a=t%100;return Ce.NumberToString(i)+":"+Ce.NumberToString(a)}if(t<1e4){i=parseInt(t/100),a=t%100;return Ce.NumberToString(i)+":"+Ce.NumberToString(a)}i=parseInt(t/1e4),a=parseInt(t%1e4/100),n=t%100;return Ce.NumberToString(i)+":"+Ce.NumberToString(a)+":"+Ce.NumberToString(n)},Ce.FormatReportDateString=function(t){var e,i=parseInt(t/1e4);switch(parseInt(t/100)%100){case 3:e="一季度报";break;case 6:e="半年报";break;case 9:e="三季度报";break;case 12:e="年报"}return i.toString()+e},Ce.FormatDateTimeString=function(t,e,i){var a=t.split(" ");if(a.length<2)return"";var n="";if(e){var r=parseInt(a[0]),o=parseInt(r/1e4),s=parseInt(r%1e4/100),l=r%100;n+=d=o.toString()+"-"+(s<10?"0"+s.toString():s.toString())+"-"+(l<10?"0"+l.toString():l.toString())}if(i){var h=parseInt(a[1]),u=h%100,c=parseInt(h/100),d=(c<10?"0"+c.toString():c.toString())+":"+(u<10?"0"+u.toString():u.toString());n.length>0&&(n+=" "),n+=d}return n},Ce.FormatValueColor=function(t,e){return null!=t&&null==e?0==t?"PriceNull":t>0?"PriceUp":"PriceDown":null==t||null==e?"PriceNull":t==e?"PriceNull":t>e?"PriceUp":"PriceDown"},Ce.IsNumber=function(t){return null!=t&&!isNaN(t)},Ce.IsPlusNumber=function(t){return null!=t&&(!isNaN(t)&&t>0)},Ce.IsInteger=function(t){return"number"==typeof t&&t%1==0},Ce.IsObjectExist=function(t){return void 0!==t&&null!=t},Ce.IsBool=function(t){return!0===t||!1===t},Ce.IsString=function(t){return"string"==(void 0===t?"undefined":(0,h.default)(t))},Ce.IsNonEmptyArray=function(t){return!!t&&(!!Array.isArray(t)&&t.length>0)},Ce.IsFloat=function(t){return void 0!==t&&(null!=t&&(!isNaN(t)&&t!=parseInt(t)))},Ce.RemoveZero=function(t){for(;t.length>0;){var e=t.length-1,i=t[e];if("0"!=i){if("."==i){t=t.substr(0,e);break}break}t=t.substr(0,e)}return t};var Ee=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10];function Ae(){this.newMethod=Me,this.newMethod(),delete this.newMethod,this.Symbol,this.FrameID,this.Frame,this.LanguageID=ti.LANGUAGE_CHINESE_ID,this.YClose,this.PercentageText,this.RValue,this.RText,this.Point,this.ClientPos=-1,this.ExtendChartPaint,this.RExtendText=[],this.BeforeOpenData,this.AfterCloseData,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.ShareAfterVol=0,this.PriceFormatType=0,this.DataFormatType=0,this.GetBeforeOpen=function(){if(!this.Frame)return!1;var t=this.Frame.SubFrame[this.FrameID];if(!t||!t.Frame)return!1;if(!this.BeforeOpenData)return!1;var e={Max:this.BeforeOpenData.VolMax,Min:this.BeforeOpenData.VolMin},i=this.Frame.IsHScreen?this.Point.X:this.Point.Y,a=t.Frame.GetLeftExtendYData(i,!1,{Range:e});Ce.IsNumber(a)&&(this.RText=this.Text=Ce.FormatValueString(a,2,this.LanguageID))},this.GetAfterClose=function(){if(!this.Frame)return!1;var t=this.Frame.SubFrame[this.FrameID];if(!t||!t.Frame)return!1;if(!this.AfterCloseData)return!1;var e={Max:this.AfterCloseData.VolMax,Min:this.AfterCloseData.VolMin},i=this.Frame.IsHScreen?this.Point.X:this.Point.Y,a=t.Frame.GetRightExtendYData(i,!1,{Range:e});Ce.IsNumber(a)&&(this.RText=this.Text=Ce.FormatValueString(a,2,this.LanguageID))},this.GetMultiDayBeforeOpen=function(){if(!this.Frame)return!1;var t=this.Frame.SubFrame[this.FrameID];if(!t||!t.Frame)return!1;var e=this.GetMultiDayBeforeOpenData();if(e&&Ce.IsNonEmptyArray(e)){var i=this.ClientPos-200;if(i<0||i>=e.length)return!1;var a=e[i],n={Max:a.VolMax,Min:a.VolMin},r=this.Frame.IsHScreen?this.Point.X:this.Point.Y,o=t.Frame.GetLeftExtendYData(r,!1,{Range:n});Ce.IsNumber(o)&&(this.RText=this.Text=Ce.FormatValueString(o,2,this.LanguageID))}},this.GetMultiDayAfterClose=function(){if(!this.Frame)return!1;var t=this.Frame.SubFrame[this.FrameID];if(!t||!t.Frame)return!1;var e=this.GetMultiDayAfterCloseData();if(e&&Ce.IsNonEmptyArray(e)){var i=this.ClientPos-300;if(i<0||i>=e.length)return!1;var a=e[i],n={Max:a.VolMax,Min:a.VolMin},r=this.Frame.IsHScreen?this.Point.X:this.Point.Y,o=t.Frame.GetRightExtendYData(r,!1,{Range:n});Ce.IsNumber(o)&&(this.RText=this.Text=Ce.FormatValueString(o,2,this.LanguageID))}},this.Operator=function(){if(this.RText=null,this.RExtendText=[],Ce.IsString(this.RValue)&&(this.RText=this.RValue),!this.Value)return!1;this.PercentageText=null;var t=2;if(0==this.FrameID){t=Ni(this.Symbol);1==this.PriceFormatType?this.Text=Ce.FormatValueThousandsString(this.Value,t):this.Text=this.Value.toFixed(t),this.YClose>0&&(this.PercentageText=(100*(this.Value-this.YClose)/this.YClose).toFixed(2)),this.GetExtendPaintData(t)}else 1==this.FrameID?(1==this.DataFormatType?(this.Text=Ce.FormatValueThousandsString(this.Value,t),Ce.IsNumber(this.RValue)&&(this.RText=Ce.FormatValueString(this.RValue,t,this.LanguageID))):(this.Text=Ce.FormatValueString(this.Value,t,this.LanguageID),Ce.IsNumber(this.RValue)&&(this.RText=Ce.FormatValueString(this.RValue,t,this.LanguageID))),2==this.ClientPos?this.GetBeforeOpen():3==this.ClientPos?0!=this.ShareAfterVol&&2!=this.ShareAfterVol||this.GetAfterClose():this.ClientPos>=200&&this.ClientPos<=299?this.GetMultiDayBeforeOpen():this.ClientPos>=300&&this.ClientPos<=399&&(0!=this.ShareAfterVol&&2!=this.ShareAfterVol||this.GetMultiDayAfterClose())):1==this.DataFormatType?this.Text=Ce.FormatValueThousandsString(this.Value,t):this.Text=Ce.FormatValueString(this.Value,t,this.LanguageID);return!0},this.GetExtendPaintData=function(t){var e=parseInt(this.Value*Ee[t]);for(var i in this.ExtendChartPaint){var a=this.ExtendChartPaint[i];if("DepthMapPaint"==a.ClassName&&a.FrameID==this.FrameID){var n=a.GetYValueByXValue(e,t);for(var r in n)this.RExtendText.push(n[r])}}}}function _e(){this.newMethod=Me,this.newMethod(),delete this.newMethod,this.Frame,this.Symbol,this.Point,this.ClientPos=-1,this.BeforeOpenData,this.AfterCloseData,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.GetBeforeOpen=function(){if(!this.BeforeOpenData||!this.BeforeOpenData.Data)return!1;var t=1==this.Frame.IsHScreen?this.Point.Y:this.Point.X,e=this.Frame.GetLeftExtendXData(t,this.BeforeOpenData);if((e=parseInt(e.toFixed(0)))>=this.BeforeOpenData.Data.length)return!1;var i=this.BeforeOpenData.Data[e];return this.Text=this.FormatCallAcutionDateTime(i,this.BeforeOpenData),!0},this.GetAfterClose=function(){if(!this.AfterCloseData||!this.AfterCloseData.Data)return!1;var t=1==this.Frame.IsHScreen?this.Point.Y:this.Point.X,e=this.Frame.GetRightExtendXData(t,this.AfterCloseData);if((e=parseInt(e.toFixed(0)))>=this.AfterCloseData.Data.length)return!1;var i=this.AfterCloseData.Data[e];return this.Text=this.FormatCallAcutionDateTime(i,this.AfterCloseData),!0},this.GetMultiDayBeforeOpen=function(){var t=this.GetMultiDayBeforeOpenData();if(!t)return!1;if(this.Frame.ChartBorder.MultiDayMinute.Count<=1||this.Frame.ChartBorder.MultiDayMinute.Left<=0)return!1;var e=1==this.Frame.IsHScreen?this.Point.Y:this.Point.X,i=this.Frame.GetLeftExtendXData(e,t);if(!i)return!1;if(i.DayIndex>=t.length)return!1;var a=t[i.DayIndex];if(i.DataIndex=parseInt(i.DataIndex.toFixed(0)),i.DataIndex>=a.Data.length)return!1;var n=a.Data[i.DataIndex];return this.Text=this.FormatCallAcutionDateTime(n,a),!0},this.GetMultiDayAfterClose=function(){var t=this.GetMultiDayAfterCloseData();if(!t)return!1;if(this.Frame.ChartBorder.MultiDayMinute.Count<=1||this.Frame.ChartBorder.MultiDayMinute.Right<=0)return!1;var e=1==this.Frame.IsHScreen?this.Point.Y:this.Point.X,i=this.Frame.GetRightExtendXData(e,t);if(!i)return!1;if(i.DayIndex>=t.length)return!1;var a=t[i.DayIndex];if(i.DataIndex=parseInt(i.DataIndex.toFixed(0)),i.DataIndex>=a.Data.length)return!1;var n=a.Data[i.DataIndex];return this.Text=this.FormatCallAcutionDateTime(n,a),!0},this.FormatCallAcutionDateTime=function(t,e){var i=t.Time;return 1==e.Ver?Ce.FormatTimeString(i,"HH:MM"):Ce.FormatTimeString(i,"HH:MM:SS")},this.Operator=function(){if(2==this.ClientPos)return this.GetBeforeOpen();if(3==this.ClientPos)return this.GetAfterClose();if(this.ClientPos>=200&&this.ClientPos<=299)return this.GetMultiDayBeforeOpen();if(this.ClientPos>=300&&this.ClientPos<=399)return this.GetMultiDayAfterClose();if(!Ce.IsNumber(this.Value))return!1;var t=Math.abs(this.Value),e=t=parseInt(t.toFixed(0));this.Frame&&this.Frame.MinuteCount&&(e=t%this.Frame.MinuteCount);var i=bi.GetTimeData(this.Symbol);if(!i)return!1;e<0?e=0:e>i.length&&(e=i.length-1),this.Frame&&t>=this.Frame.XPointCount&&(e=i.length-1);var a=i[e];return this.Text=Ce.FormatTimeString(a),!0}}var Le=["日","一","二","三","四","五","六"];var Fe=new function(){this.DataMap=new p.default([["KLineTradeDataStringFormat",{Create:function(){return new function(){this.newMethod=Me,this.newMethod(),delete this.newMethod,this.Width=120,this.Operator=function(){var t=this.Value.Data;if(!t)return!1;var e,i=t.Data,a="<span class='tooltip-index-name'>"+i.Name+i.Param+":</span>";return e=1==i.Type?"<span class='tooltip-index-buy'>买入</span>":"<span class='tooltip-index-sell'>卖出</span>",this.Text=a+e,!0}}}}],["MinuteInfoDataStringFormat",{Create:function(){return new function(){this.newMethod=Me,this.newMethod(),delete this.newMethod,this.Width=200,this.Operator=function(){var t=this.Value.Data;if(!t)return!1;var e=t.Data.Item,i="<span class='tooltip-minuteinfo-time'>"+Ce.FormatTimeString(e.Time)+" </span>",a="<span class='tooltip-minuteinfo-content'>"+e.Title+"</span>";return e.Content&&(a="<span class='tooltip-minuteinfo-content'>"+e.Content+"</span>"),this.Text=i+a,!0}}}}],["HistoryDataStringFormat",{Create:function(){return new function(){this.newMethod=Me,this.newMethod(),delete this.newMethod,this.Symbol,this.UpColor=Qe.UpTextColor,this.DownColor=Qe.DownTextColor,this.UnchagneColor=Qe.UnchagneTextColor,this.VolColor=Qe.Title.VolColor,this.AmountColor=Qe.Title.AmountColor,this.TurnoverRateColor=Qe.Title.TurnoverRateColor,this.PositionColor=Qe.Title.PositionColor,this.LanguageID=ti.LANGUAGE_CHINESE_ID,this.LineCount=0,this.LineHeight=Qe.PCTooltip.LineHeight,this.Width=157,this.Height=5*this.LineHeight,this.Operator=function(){var t=this.Value.Data;if(!t)return!1;this.Width=157,this.LanguageID==ti.LANGUAGE_ENGLISH_ID&&(this.Width=180);var e=new Date(parseInt(t.Date/1e4),t.Date/100%100-1,t.Date%100),i=Ce.FormatDateString(t.Date),a=ei.GetText(Le[e.getDay()],this.LanguageID),n=mt.IsTickPeriod(this.Value.ChartPaint.Data.Period);mt.IsMinutePeriod(this.Value.ChartPaint.Data.Period,!0)?a=Ce.FormatTimeString(t.Time):(mt.IsSecondPeriod(this.Value.ChartPaint.Data.Period)||n)&&(a=Ce.FormatTimeString(t.Time,"HH:MM:SS"));var r=this.Symbol.toUpperCase(),o=Ni(this.Symbol),s=null;if(t.YClose>0&&(s=(t.Close-t.YClose)/t.YClose*100),n){var l="<span class='tooltip-title'>"+i+"&nbsp&nbsp"+a+"</span><span class='tooltip-con'>"+ei.GetText("DivTooltip-Price",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetColor(t.Open,t.YClose)+";'>"+t.Open.toFixed(o)+"</span><br/><span class='tooltip-con'>"+ei.GetText("DivTooltip-Increase",this.LanguageID)+"</span>"+(null==s?"<span class='tooltip-num' style='color:"+this.GetColor(0,0)+";'>--</span><br/>":"<span class='tooltip-num' style='color:"+this.GetColor(s,0)+";'>"+s.toFixed(2)+"%</span><br/>");this.LineCount=4}else{var h=t.Vol;if(r&&Ii.IsSHSZ(r)&&(h/=100),l="<span class='tooltip-title'>"+i+"&nbsp&nbsp"+a+"</span><span class='tooltip-con'>"+ei.GetText("DivTooltip-Open",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetColor(t.Open,t.YClose)+";'>"+(Ce.IsNumber(t.Open)?t.Open.toFixed(o):"--")+"</span><br/><span class='tooltip-con'>"+ei.GetText("DivTooltip-High",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetColor(t.High,t.YClose)+";'>"+(Ce.IsNumber(t.High)?t.High.toFixed(o):"--")+"</span><br/><span class='tooltip-con'>"+ei.GetText("DivTooltip-Low",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetColor(t.Low,t.YClose)+";'>"+(Ce.IsNumber(t.Low)?t.Low.toFixed(o):"--")+"</span><br/><span class='tooltip-con'>"+ei.GetText("DivTooltip-Close",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetColor(t.Close,t.YClose)+";'>"+(Ce.IsNumber(t.Close)?t.Close.toFixed(o):"--")+"</span><br/><span class='tooltip-con'>"+ei.GetText("DivTooltip-Vol",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.VolColor+";'>"+(Ce.IsNumber(t.vol)?Ce.FormatValueString(h,2,this.LanguageID):"--")+"</span><br/><span class='tooltip-con'>"+ei.GetText("DivTooltip-Amount",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.AmountColor+";'>"+(Ce.IsNumber(t.Amount)?Ce.FormatValueString(t.Amount,2,this.LanguageID):"--")+"</span><br/><span class='tooltip-con'>"+ei.GetText("DivTooltip-Increase",this.LanguageID)+"</span>"+(null==s?"<span class='tooltip-num' style='color:"+this.GetColor(0,0)+";'>--</span><br/>":"<span class='tooltip-num' style='color:"+this.GetColor(s,0)+";'>"+s.toFixed(2)+"%</span><br/>"),this.LineCount=8,Ii.IsSHSZStockA(this.Symbol)&&t.FlowCapital>0){var u=t.Vol/t.FlowCapital*100;l+="<span class='tooltip-con'>"+ei.GetText("DivTooltip-Exchange",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.TurnoverRateColor+";'>"+u.toFixed(2)+"%</span><br/>",++this.LineCount}Ii.IsFutures(r)&&Ce.IsNumber(t.Position)&&(l+="<span class='tooltip-con'>"+ei.GetText("DivTooltip-Position",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.PositionColor+";'>"+t.Position+"</span><br/>",++this.LineCount),"Overlay-KLine"==this.Value.ChartPaint.Name&&(l="<span style='color:rgb(0,0,0);font:微软雅黑;font-size:12px;text-align:center;display: block;'>"+this.Value.ChartPaint.Title+"</span>"+l,++this.LineCount)}return this.Text=l,this.Height=this.LineCount*this.LineHeight,!0},this.GetColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor}}}}],["KLineInfoDataStringFormat",{Create:function(){return new function(){this.newMethod=Me,this.newMethod(),delete this.newMethod,this.UpColor=Qe.UpTextColor,this.DownColor=Qe.DownTextColor,this.UnchagneColor=Qe.UnchagneTextColor,this.Width=500,this.Operator=function(){if(!this.Value)return!1;var t=this.Value.Data.Data,e=this.Value.Data.Type,i="";for(var a in t){var n=t[a],r="";switch(e){case ct.BLOCKTRADING:r=this.BlockTradingFormat(n);break;case ct.TRADEDETAIL:r=this.TradeDetailFormat(n);break;case ct.RESEARCH:r=this.ResearchFormat(n);break;case ct.PFORECAST:r=this.PerformanceForecastFormat(n);break;default:r=this.DefaultFormat(n)}i+=r}var o="<div class='title-length'>"+i+"</div>";return t.length>8&&(o+="<div class='total-list'>共"+t.length+"条</div>"),this.Text=o,!0},this.DefaultFormat=function(t){return"<span>"+Ce.FormatDateString(t.Date)+"&nbsp;&nbsp;&nbsp;"+t.Title+"</span>"},this.BlockTradingFormat=function(t){var e=t.ExtendData;return"<span><i class='date-tipbox'>"+Ce.FormatDateString(t.Date)+"</i>&nbsp;&nbsp;<i class='tipBoxTitle'>成交价:&nbsp;"+e.Price.toFixed(2)+"</i><i class='tipBoxTitle'>收盘价:&nbsp;"+e.ClosePrice.toFixed(2)+"</i><br/><i class='rate-discount tipBoxTitle'>溢折价率:&nbsp;<strong style='color:"+this.GetColor(e.Premium.toFixed(2))+"'>"+e.Premium.toFixed(2)+"%</strong></i><i class='tipBoxTitle'>成交量(万股):&nbsp;"+e.Vol.toFixed(2)+"</i></span>"},this.TradeDetailFormat=function(t){var e=t.ExtendData.Detail,i=Ce.FormatDateString(t.Date),a=[];for(var n in e)a+="<i>"+e[n].TypeExplain+"</i><br/>";return"<span><i class='trade-time'>"+i+"&nbsp;&nbsp;&nbsp;上榜原因:&nbsp;&nbsp;</i><i class='reason-list'>"+a+"</i><br/><i class='trade-detall'>一周后涨幅:&nbsp;<strong style='color:"+this.GetColor(t.ExtendData.FWeek.Week1.toFixed(2))+"'>"+t.ExtendData.FWeek.Week1.toFixed(2)+"%</strong>&nbsp;&nbsp;&nbsp;四周后涨幅:&nbsp;<strong style='color:"+this.GetColor(t.ExtendData.FWeek.Week4.toFixed(2))+";'>"+t.ExtendData.FWeek.Week4.toFixed(2)+"%</strong></i></span>"},this.ResearchFormat=function(t){var e=t.ExtendData.Level,i="";if(0==e.length)i="<i>一般调研</i>";else{for(var a in e)0==e[a]?i+="<i style='color:#00a0e9'>证券代表&nbsp;&nbsp;&nbsp;</i>":1==e[a]?i+="<i>董秘&nbsp;&nbsp;&nbsp;</i>":2==e[a]?i+="<i style='color:#00a0e9'>总经理&nbsp;&nbsp;&nbsp;</i>":3==e[a]&&(i+="<i style='color:#00a0e9'>董事长&nbsp;&nbsp;&nbsp;</i>");i="接待:&nbsp;&nbsp;&nbsp;"+i}var n="";return t.ExtendData.Type&&"其他"!=t.ExtendData.Type&&(n="&nbsp;&nbsp;&nbsp;<i>"+t.ExtendData.Type+"</i>",0==e.length&&(i="")),"<span>"+Ce.FormatDateString(t.Date)+"&nbsp;&nbsp;&nbsp;"+n+i+"</span>"},this.PerformanceForecastFormat=function(t){var e,i=t.ExtendData.ReportDate,a=parseInt(i/1e4),n=i%1e4;1231==n?e="年报":331==n?e="一季度报":630==n?e="半年度报":930==n&&(e="三季度报");var r="";return t.ExtendData.FWeek&&(null!=t.ExtendData.FWeek.Week1&&(r+="一周后涨幅:<i class='increase' style='color:"+this.GetColor(t.ExtendData.FWeek.Week1.toFixed(2))+"'>"+t.ExtendData.FWeek.Week1.toFixed(2)+"%</i>"),null!=t.ExtendData.FWeek.Week4&&(r+="&nbsp;四周后涨幅:<i class='increase' style='color:"+this.GetColor(t.ExtendData.FWeek.Week4.toFixed(2))+"'>"+t.ExtendData.FWeek.Week4.toFixed(2)+"%</i>"),r.length>0&&(r="<br/>&nbsp;&nbsp;<i class='prorecast-week'>"+r+"</i>")),"<span>"+Ce.FormatDateString(t.Date)+"&nbsp;&nbsp;"+a+e+t.Title+"&nbsp;"+r+"</span>"},this.GetColor=function(t){return t>0?this.UpColor:t<0?this.DownColor:this.UnchagneColor}}}}],["IconDataStringFormat",{Create:function(){return new function(){this.newMethod=Me,this.newMethod(),delete this.newMethod,this.Width=200,this.Operator=function(){if(!this.Value||!this.Value.Data)return!1;var t=this.Value.Data;return!!t.Item&&!!t.Item.Text&&(this.Text=t.Item.Text,!0)}}}}],["ChartOXDataStringFormat",{Create:function(){return new function(){this.newMethod=Me,this.newMethod(),delete this.newMethod,this.Width=200,this.Period=0,this.Operator=function(){var t,e,i=this.Value.Data;if(!i||!i.Data)return!1;if(mt.IsDayPeriod(this.Period,!0)){if((t=Ce.FormatDateString(i.Data.Start.Date))==(e=Ce.FormatDateString(i.Data.End.Date)))return this.Text="<span class='tooltip-minuteinfo-content'>"+t+"</span>",!0;var a="<span class='tooltip-minuteinfo-content'>起始时间:"+t+"</span>",n="<span class='tooltip-minuteinfo-content'>结束时间:"+e+"</span>";return this.Text=a+"<br>"+n,!0}return!!mt.IsMinutePeriod(this.Period,!0)&&(a="<span class='tooltip-minuteinfo-content'>起始时间:"+(t=Ce.FormatDateString(i.Data.Start.Date))+" "+Ce.FormatTimeString(i.Data.Start.Time,"HH:MM")+"</span>",n="<span class='tooltip-minuteinfo-content'>结束时间:"+(e=Ce.FormatDateString(i.Data.End.Date))+" "+Ce.FormatTimeString(i.Data.End.Time,"HH:MM")+"</span>",this.Text=a+"<br>"+n,!0)}}}}],["ScatterPlotDataStringFormat",{Create:function(){return new function(){this.newMethod=Me,this.newMethod(),delete this.newMethod,this.Width=200,this.Operator=function(){var t=this.Value.Data;if(!t||!t.Data)return!1;if(!Ce.IsNonEmptyArray(t.Data.Tooltip))return!1;this.Text="";for(var e=0;e<t.Data.Tooltip.length;++e){var i="<span class='tooltip-minuteinfo-content'>"+t.Data.Tooltip[e]+"</span>";this.Text+=i+"<br>"}return!0}}}}],["ChartDrawSVGDataStringFormat",{Create:function(){return new function(){this.newMethod=Me,this.newMethod(),delete this.newMethod,this.Width=200,this.Operator=function(){if(!this.Value||!this.Value.Data)return!1;var t=this.Value.Data;return!(!t.Item||!t.Item.Tooltip||!t.Item.Tooltip.Text||(this.Text=t.Item.Tooltip.Text,0))}}}}],["CorssCursor_XStringFormat",{Create:function(){return new function(){this.newMethod=Me,this.newMethod(),delete this.newMethod,this.DateFormatType=0,this.LanguageID=0,this.Operator=function(){if(!Ce.IsNumber(this.Value))return!1;if(!this.Data)return!1;var t=this.Value;if(t=parseInt(t.toFixed(0)),this.Data.DataOffset+t>=this.Data.Data.length)return!1;var e=this.Data.Data[this.Data.DataOffset+t],i="YYYY-MM-DD";if(1==this.DateFormatType?i="YYYY/MM/DD":2==this.DateFormatType?i="YYYY/MM/DD/W":3==this.DateFormatType&&(i="DD/MM/YYYY"),this.Text=Ce.FormatDateString(e.Date,i,this.LanguageID),mt.IsMinutePeriod(this.Data.Period,!0)){var a=Ce.FormatTimeString(e.Time);this.Text=this.Text+"  "+a}else mt.IsSecondPeriod(this.Data.Period)?(a=Ce.FormatTimeString(e.Time,"HH:MM:SS"),this.Text=this.Text+"  "+a):mt.IsTickPeriod(this.Data.Period)&&(a=Ce.FormatTimeString(e.Time),this.Text=this.Text+"  "+a);return!0}}}}],["CorssCursor_YStringFormat",{Create:function(){return new Ae}}]]),this.Create=function(t){return this.DataMap.has(t)?this.DataMap.get(t).Create():null}};function Oe(){this.Frame,this.Data=new Array,this.Canvas,this.IsDynamic=!1,this.Position=0,this.CursorIndex,this.LastPoint,this.Font=Qe.TitleFont,this.Title,this.TitleColor=Qe.DefaultTextColor,this.ClassName="IChartTitlePainting",this.DrawStatus,this.GetEventCallback,this.ReloadResource=function(){this.Font=Qe.TitleFont,this.TitleColor=Qe.DefaultTextColor}}var Pe=["不复权","前复权","后复权"];function Ne(){this.newMethod=Oe,this.newMethod(),delete this.newMethod,this.ClassName="DynamicKLineTitlePainting",this.IsDynamic=!0,this.IsShow=!0,this.Period,this.UpColor=Qe.UpTextColor,this.DownColor=Qe.DownTextColor,this.UnchagneColor=Qe.UnchagneTextColor,this.VolColor=Qe.Title.VolColor,this.AmountColor=Qe.Title.AmountColor,this.DateTimeColor=Qe.Title.DateTimeColor,this.NameColor=Qe.Title.NameColor,this.SettingColor=Qe.Title.SettingColor,this.TurnoverRateColor=Qe.Title.TurnoverRateColor,this.PositionColor=Qe.Title.PositionColor,this.Symbol,this.Name,this.SpaceWidth=2*L(),this.OverlayChartPaint,this.IsShowName=!0,this.IsShowSettingInfo=!0,this.IsShowDateTime=!0,this.LanguageID=ti.LANGUAGE_CHINESE_ID,this.OnDrawEvent,this.OnMouseMoveEvent,this.HQChart,this.ReloadResource=function(){this.Font=Qe.TitleFont,this.TitleColor=Qe.DefaultTextColor,this.UpColor=Qe.UpTextColor,this.DownColor=Qe.DownTextColor,this.UnchagneColor=Qe.UnchagneTextColor,this.VolColor=Qe.Title.VolColor,this.AmountColor=Qe.Title.AmountColor,this.DateTimeColor=Qe.Title.DateTimeColor,this.NameColor=Qe.Title.NameColor,this.SettingColor=Qe.Title.SettingColor,this.TurnoverRateColor=Qe.Title.TurnoverRateColor,this.PositionColor=Qe.Title.PositionColor},this.GetCurrentKLineData=function(){if(null==this.CursorIndex||!this.Data)return null;if(this.Data.length<=0)return null;var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;return e>=this.Data.Data.length&&(e=this.Data.Data.length-1),e<0?null:this.Data.Data[e]},this.DrawItem=function(t){var e=!0===this.Frame.IsHScreen,i=this.Frame.ChartBorder.GetLeft(),a=this.Frame.ChartBorder.GetTop()-this.Frame.ChartBorder.Top/2,n=(this.Frame.ChartBorder.GetRight(),Ni(this.Symbol)),r=this.Symbol.toUpperCase();if(e){if(this.Frame.ChartBorder.Right<5)return;i=2,a=this.Frame.ChartBorder.Right/2,this.Frame.ChartBorder.GetHeight();var o=this.Frame.ChartBorder.GetChartWidth(),s=this.Frame.ChartBorder.GetTop();this.Canvas.translate(o,s),this.Canvas.rotate(90*Math.PI/180)}else if(this.Frame.ChartBorder.Top<5*L())return;this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.font=this.Font;var l={Left:i,Bottom:a,IsHScreen:e};if(!this.IsShowName||this.DrawText(this.Name,this.NameColor,l)){if(this.IsShowSettingInfo){var h="",u="("+(h=this.Data.Period>Ct&&this.Data.Period<=Dt?this.Data.Period-Ct+ei.GetText("自定义分钟",this.LanguageID):this.Data.Period>vt&&this.Data.Period<=gt?this.Data.Period-vt+ei.GetText("自定义日线",this.LanguageID):this.Data.Period>yt&&this.Data.Period<=xt?this.Data.Period-yt+ei.GetText("自定义秒",this.LanguageID):ei.GetText(mt.GetPeriodName(this.Data.Period),this.LanguageID))+" "+ei.GetText(Pe[this.Data.Right],this.LanguageID)+")";if(Ii.IsEnableRight(this.Data.Period,this.Symbol)||(u="("+h+")"),!this.DrawText(u,this.SettingColor,l))return}if(!(u=this.GetKLineCalculateTitle())||this.DrawText(u,this.NameColor,l)){if(this.IsShowDateTime){u=Ce.FormatDateString(t.Date);if(!this.DrawText(u,this.DateTimeColor,l))return}var c=mt.IsTickPeriod(this.Period);if(mt.IsMinutePeriod(this.Period,!0)&&Ce.IsNumber(t.Time)){u=Ce.FormatTimeString(t.Time);if(!this.DrawText(u,this.DateTimeColor,l))return}else if(mt.IsSecondPeriod(this.Period)&&Ce.IsNumber(t.Time)){u=Ce.FormatTimeString(t.Time,"HH:MM:SS");if(!this.DrawText(u,this.DateTimeColor,l))return}else if(c){u=Ce.FormatTimeString(t.Time,"HH:MM:SS");if(!this.DrawText(u,this.DateTimeColor,l))return}if(c){var d=this.GetColor(t.Open,t.YClose);u=ei.GetText("KTitle-Price",this.LanguageID)+t.Open.toFixed(n);if(!this.DrawText(u,d,l))return;if(t.YClose>0){var f=(t.Close-t.YClose)/t.YClose*100;d=this.GetColor(f,0),u=ei.GetText("KTitle-Increase",this.LanguageID)+f.toFixed(2)+"%";if(!this.DrawText(u,d,l))return}}else{if(Ce.IsNumber(t.Open)){d=this.GetColor(t.Open,t.YClose),u=ei.GetText("KTitle-Open",this.LanguageID)+t.Open.toFixed(n);if(!this.DrawText(u,d,l))return}if(Ce.IsNumber(t.High)){d=this.GetColor(t.High,t.YClose),u=ei.GetText("KTitle-High",this.LanguageID)+t.High.toFixed(n);if(!this.DrawText(u,d,l))return}if(Ce.IsNumber(t.Low)){d=this.GetColor(t.Low,t.YClose),u=ei.GetText("KTitle-Low",this.LanguageID)+t.Low.toFixed(n);if(!this.DrawText(u,d,l))return}if(Ce.IsNumber(t.Close)){d=this.GetColor(t.Close,t.YClose),u=ei.GetText("KTitle-Close",this.LanguageID)+t.Close.toFixed(n);if(!this.DrawText(u,d,l))return}if(t.YFClose>0&&Ii.IsChinaFutures(r)){f=(t.Close-t.YFClose)/t.YFClose*100,d=this.GetColor(f,0),u=ei.GetText("KTitle-Increase",this.LanguageID)+f.toFixed(2)+"%";if(!this.DrawText(u,d,l))return}else if(t.YClose>0){f=(t.Close-t.YClose)/t.YClose*100,d=this.GetColor(f,0),u=ei.GetText("KTitle-Increase",this.LanguageID)+f.toFixed(2)+"%";if(!this.DrawText(u,d,l))return}if(Ce.IsNumber(t.Vol)){var p=t.Vol;r&&Ii.IsSHSZ(r)&&(p/=100);u=ei.GetText("KTitle-Vol",this.LanguageID)+Ce.FromatIntegerString(p,2,this.LanguageID);if(!this.DrawText(u,this.VolColor,l))return}if(Ce.IsNumber(t.Amount)){u=ei.GetText("KTitle-Amount",this.LanguageID)+Ce.FormatValueString(t.Amount,2,this.LanguageID);if(!this.DrawText(u,this.AmountColor,l))return}if(Ii.IsSHSZStockA(this.Symbol)&&t.FlowCapital>0){f=t.Vol/t.FlowCapital*100,u=ei.GetText("KTitle-Exchange",this.LanguageID)+Ce.FormatValueString(f,2,this.LanguageID)+"%";if(!this.DrawText(u,this.TurnoverRateColor,l))return}if(Ii.IsFutures(r)&&Ce.IsNumber(t.Position)){u=ei.GetText("KTitle-Position",this.LanguageID)+t.Position;if(!this.DrawText(u,this.PositionColor,l))return}for(var m in this.OverlayChartPaint){if((t=this.OverlayChartPaint[m]).Symbol&&t.Title){var v=t.Title,g=t.Color;u="["+v+"]";if(!this.DrawText(u,g,l))return}}}}}},this.Draw=function(){if(this.IsShow)if(null==this.CursorIndex||!this.Data||this.Data.length<=0)this.OnDrawEventCallback(null);else{this.Canvas.font=this.Font,this.SpaceWidth=this.Canvas.measureText("0").width;var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;if(e>=this.Data.Data.length&&(e=this.Data.Data.length-1),e<0)this.OnDrawEventCallback(null);else{var i=this.Data.Data[e];this.OnDrawEventCallback(i),this.Canvas.save(),this.DrawItem(i),this.Canvas.restore()}}},this.OnDrawEventCallback=function(t){var e=this.OnDrawEvent&&this.OnDrawEvent.Callback,i=this.OnMouseMoveEvent&&this.OnMouseMoveEvent.Callback;if(e||i){var a={Draw:t,Name:this.ClassName};if(this.Data&&this.Data.Data){var n=Math.abs(this.CursorIndex);n=parseInt(n.toFixed(0));var r=this.Data.DataOffset+n,o=this.Data.Data.length;a.DataIndex=r,a.DataCount=o}if(Ce.IsNonEmptyArray(this.OverlayChartPaint)){a.OverlayStock=[];for(var s=0;s<this.OverlayChartPaint.length;++s){var l=this.OverlayChartPaint[s];l.Symbol&&l.Title&&a.OverlayStock.push({Symbol:l.Symbol,Name:l.Title})}}e&&this.OnDrawEvent.Callback(this.OnDrawEvent,a,this),i&&this.OnMouseMoveEvent.Callback(this.OnMouseMoveEvent,a,this)}},this.GetColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor},this.DrawText=function(t,e,i){if(!t)return!0;var a=!0===this.Frame.IsHScreen,n=this.Frame.ChartBorder.GetRight();a&&(n=this.Frame.ChartBorder.GetHeight()),this.Canvas.fillStyle=e;var r=this.Canvas.measureText(t).width;return!(i.Left+r>n)&&(this.IsShow&&this.Canvas.fillText(t,i.Left,i.Bottom,r),i.Left+=r+this.SpaceWidth,!0)},this.GetKLineCalculateTitle=function(){if(!this.HQChart)return null;var t=this.HQChart.GetKLineCalulate();return t&&t.GetTitle?t.GetTitle():null}}function Re(){this.newMethod=Ne,this.newMethod(),delete this.newMethod,this.ClassName="DynamicMinuteTitlePainting",this.SpaceWidth=1*L(),this.YClose,this.IsShowDate=!1,this.IsShowTime=!0,this.IsShowName=!0,this.IsShowAveragePrice=!0,this.OverlayChartPaint,this.LanguageID=ti.LANGUAGE_CHINESE_ID,this.LastShowData,this.OnDrawEvent,this.PointInfo=null,this.IsAlwaysShowLastData=!1,this.ShowLastDataFormat=0,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.TitleBaseLine=1,this.CallAuctionShowTitle=new c.default(["MTitle-AC-Price","MTitle-AC-Vol","MTitle-AC-NotMatchVol","MTitle-AC-Increase","MTitle-AC-AvPrice"]),this.GetCurrentKLineData=function(){if(this.LastShowData)return this.LastShowData;if(null==this.CursorIndex||!this.Data)return null;if(this.Data.length<=0)return null;var t=Math.abs(this.CursorIndex);t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;return e>=this.Data.Data.length&&(e=this.Data.Data.length-1),e<0?null:this.Data.Data[e]},this.GetCurrentAuctionData=function(){var t=!0===this.Frame.IsHScreen;{if(2==this.PointInfo.ClientPos)return this.BeforeOpenData&&this.CallAcutionXOperator?(this.CallAcutionXOperator.Value=t?this.PointInfo.Point.Y:this.PointInfo.Point.X,this.CallAcutionXOperator.Point={X:this.PointInfo.Point.X,Y:this.PointInfo.Point.Y},this.CallAcutionXOperator.ClientPos=this.PointInfo.ClientPos,this.CallAcutionXOperator.Operator()?((a={Explain:"BeforeOpen",Data:null,DataIndex:null,DataTotalCount:this.BeforeOpenData.TotalCount}).DataIndex=this.CallAcutionXOperator.DataIndex,a.Data=this.CallAcutionXOperator.Item,a.Ver=this.BeforeOpenData.Ver,a):null):null;if(3==this.PointInfo.ClientPos){return this.AfterCloseData&&this.CallAcutionXOperator?(this.CallAcutionXOperator.Value=t?this.PointInfo.Point.Y:this.PointInfo.Point.X,this.CallAcutionXOperator.Point={X:this.PointInfo.Point.X,Y:this.PointInfo.Point.Y},this.CallAcutionXOperator.ClientPos=this.PointInfo.ClientPos,this.CallAcutionXOperator.Operator()?((a={Explain:"AfterClose",Data:null,DataIndex:null,DataTotalCount:this.AfterCloseData.TotalCount}).DataIndex=this.CallAcutionXOperator.DataIndex,a.Data=this.CallAcutionXOperator.Item,a.Ver=this.AfterCloseData.Ver,a):null):null}else{if(this.PointInfo.ClientPos>=200&&this.PointInfo.ClientPos<=299){if(!this.MultiDayBeforeOpenData||!Ce.IsNonEmptyArray(this.MultiDayBeforeOpenData))return null;var e=1==this.Frame.IsHScreen?this.PointInfo.Point.Y:this.PointInfo.Point.X;if(this.CallAcutionXOperator.Value=e,this.CallAcutionXOperator.Point={X:this.PointInfo.Point.X,Y:this.PointInfo.Point.Y},this.CallAcutionXOperator.ClientPos=this.PointInfo.ClientPos,!this.CallAcutionXOperator.Operator())return null;var i=this.MultiDayBeforeOpenData[this.CallAcutionXOperator.DayIndex];return(a={Explain:"MultiDayBeforeOpen",Data:null,DataIndex:null}).DataIndex=this.CallAcutionXOperator.DataIndex,a.DayIndex=this.CallAcutionXOperator.DayIndex,a.Data=this.CallAcutionXOperator.Item,a.Ver=i.Ver,a}if(this.PointInfo.ClientPos>=300&&this.PointInfo.ClientPos<=399){if(!this.MultiDayAfterCloseData||!Ce.IsNonEmptyArray(this.MultiDayAfterCloseData))return null;e=1==this.Frame.IsHScreen?this.PointInfo.Point.Y:this.PointInfo.Point.X;if(this.CallAcutionXOperator.Value=e,this.CallAcutionXOperator.Point={X:this.PointInfo.Point.X,Y:this.PointInfo.Point.Y},this.CallAcutionXOperator.ClientPos=this.PointInfo.ClientPos,!this.CallAcutionXOperator.Operator())return null;var a;i=this.MultiDayAfterCloseData[this.CallAcutionXOperator.DayIndex];return(a={Explain:"MultiDayAfterClose",Data:null,DataIndex:null}).DataIndex=this.CallAcutionXOperator.DataIndex,a.DayIndex=this.CallAcutionXOperator.DayIndex,a.Data=this.CallAcutionXOperator.Item,a.Ver=i.Ver,a}}}return null},this.GetLatestKLineData=function(t){var e=null,i=1;Ce.IsNonEmptyArray(this.MultiDayBeforeOpenData)?(a=this.MultiDayBeforeOpenData[this.MultiDayBeforeOpenData.length-1])&&Ce.IsNonEmptyArray(a.Data)&&(i=a.Ver,e=a.Data[a.Data.length-1]):this.BeforeOpenData&&Ce.IsNonEmptyArray(this.BeforeOpenData.Data)&&(e=this.BeforeOpenData.Data[this.BeforeOpenData.Data.length-1],i=this.BeforeOpenData.Ver);var a,n=null,r=1;Ce.IsNonEmptyArray(this.MultiDayAfterCloseData)?(a=this.MultiDayAfterCloseData[this.MultiDayAfterCloseData.length-1])&&Ce.IsNonEmptyArray(a.Data)&&(r=a.Ver,n=a.Data[a.Data.length-1],a.Data.length==a.TotalCount&&(n=null)):this.AfterOpenData&&Ce.IsNonEmptyArray(this.AfterOpenData.Data)&&(n=this.AfterOpenData.Data[this.AfterOpenData.Data.length-1],r=this.AfterOpenData.Ver);var o=null;if(this.Data&&Ce.IsNonEmptyArray(this.Data.Data)){var s=this.Data.Data.length;o=this.Data.Data[s-1]}return e||n||o?t?o?e&&o&&e.Date>o.Date?{Type:2,Data:e,Ver:i}:n&&o&&n.Date>=o.Date?{Type:1,Data:n,Ver:r}:{Type:0,Data:o}:{Type:1,Data:e,Ver:i}:o:null},this.DrawItem=function(t,e){if(t){var i=!0===this.Frame.IsHScreen,a=this.Frame.GetBorder(),n=a.Left,r=a.Top-this.Frame.ChartBorder.Top/2,o=Ni(this.Symbol);if(this.Canvas.font=this.Font,i){if(this.Frame.ChartBorder.Right<5)return;n=2,r=this.Frame.ChartBorder.Right/2;var s=a.ChartWidth,l=a.Top;this.Canvas.translate(s,l),this.Canvas.rotate(90*Math.PI/180)}else if(this.Frame.ChartBorder.Top<5)return;if(this.Canvas.textAlign="left",0==this.TitleBaseLine)this.Canvas.textBaseline="top",r=2*L();else if(2==this.TitleBaseLine){this.Canvas.textBaseline="bottom";r=a.Top}else this.Canvas.textBaseline="middle";var h={Left:n,Bottom:r,IsHScreen:i};if(!this.IsShowName||this.DrawText(this.Name,this.NameColor,h)){if(this.IsShowDate||this.IsShowTime){var u=!1;if(e&&1==this.ShowLastDataFormat&&this.Data&&this.Data.UpdateTime&&Ce.IsNumber(this.Data.UpdateTime.Date)&&Ce.IsNumber(this.Data.UpdateTime.Time)){var c=Ce.FormatTimeString(this.Data.UpdateTime.Time,"HH:MM:SS");if(!this.DrawText(c,this.DateTimeColor,h))return;u=!0}if(!u){c=Ce.FormatDateTimeString(t.DateTime,this.IsShowDate,this.IsShowTime);if(!this.DrawText(c,this.DateTimeColor,h))return}}var d=t.Close,f=t.Increase,p=t.Vol,m=t.Amount;if(t.Before&&(d=t.Before.Close,f=t.Before.Increase,p=t.Before.Vol,m=t.Before.Amount),d){var v=this.GetColor(d,this.YClose);c=ei.GetText("MTitle-Close",this.LanguageID)+d.toFixed(o);if(!this.DrawText(c,v,h))return}if(null!=f){v=this.GetColor(f,0),c=ei.GetText("MTitle-Increase",this.LanguageID)+f.toFixed(2)+"%";if(!this.DrawText(c,v,h))return}var g=!0,C=this.Symbol.toUpperCase();if(Ii.IsET(C)&&!Ii.IsETShowAvPrice(C)?g=!1:Ii.IsShowAvPrice&&!Ii.IsShowAvPrice(C)&&(g=!1),t.AvPrice&&g&&this.IsShowAveragePrice){v=this.GetColor(t.AvPrice,this.YClose),c=ei.GetText("MTitle-AvPrice",this.LanguageID)+t.AvPrice.toFixed(o);if(!this.DrawText(c,v,h))return}c=ei.GetText("MTitle-Vol",this.LanguageID)+Ce.FromatIntegerString(p,2,this.LanguageID);if(this.DrawText(c,this.VolColor,h)){if(Ce.IsNumber(m)){c=ei.GetText("MTitle-Amount",this.LanguageID)+Ce.FormatValueString(m,2,this.LanguageID);if(!this.DrawText(c,this.AmountColor,h))return}if(Ce.IsNumber(t.Position)){c=ei.GetText("MTitle-Position",this.LanguageID)+Ce.FromatIntegerString(t.Position,2,this.LanguageID);if(!this.DrawText(c,this.VolColor,h))return}if(e&&0==this.ShowLastDataFormat&&this.Data&&this.Data.UpdateTime&&Ce.IsNumber(this.Data.UpdateTime.Date)&&Ce.IsNumber(this.Data.UpdateTime.Time)){c=ei.GetText("MTitle-UpdateTime",this.LanguageID)+Ce.FormatTimeString(this.Data.UpdateTime.Time,"HH:MM:SS");if(!this.DrawText(c,this.DateTimeColor,h))return}for(var D in this.OverlayChartPaint){if((t=this.OverlayChartPaint[D]).Symbol&&t.Title){var y=t.Title,x=t.Color;c="["+y+"]";if(!this.DrawText(c,x,h))return}}}}}},this.DrawCallAuction=function(){var t=!0===this.Frame.IsHScreen,e=this.Frame.GetBorder(),i=e.Left,a=e.Top-this.Frame.ChartBorder.Top/2,n=Ni(this.Symbol),r=!0;if(t){i=2,a=this.Frame.ChartBorder.Right/2;var o=e.ChartWidth,s=e.Top;this.Canvas.translate(o,s),this.Canvas.rotate(90*Math.PI/180)}else this.Frame.ChartBorder.Top<5&&(r=!1);if(this.Canvas.textAlign="left",this.Canvas.font=this.Font,0==this.TitleBaseLine)this.Canvas.textBaseline="top",a=2*L();else if(2==this.TitleBaseLine){this.Canvas.textBaseline="bottom";a=e.Top}else this.Canvas.textBaseline="middle";var l={Left:i,Bottom:a,IsHScreen:t};if(!r||!this.IsShowName||this.DrawText(this.Name,this.NameColor,l)){var h,u=1;if(2==this.PointInfo.ClientPos){if(!this.BeforeOpenData)return;if(!this.CallAcutionXOperator)return;this.CallAcutionXOperator.Value=t?this.PointInfo.Point.Y:this.PointInfo.Point.X,this.CallAcutionXOperator.Point={X:this.PointInfo.Point.X,Y:this.PointInfo.Point.Y},this.CallAcutionXOperator.ClientPos=this.PointInfo.ClientPos;var c={Explain:"BeforeOpen",Data:null,DataIndex:null,DataTotalCount:this.BeforeOpenData.TotalCount};if(!this.CallAcutionXOperator.Operator())return this.OnDrawCallAuctionEventCallback(c),!1;c.DataIndex=this.CallAcutionXOperator.DataIndex;var d=(m=this.CallAcutionXOperator.Item).Time;h=1==this.BeforeOpenData.Ver?Ce.FormatTimeString(d,"HH:MM"):Ce.FormatTimeString(d,"HH:MM:SS"),u=this.BeforeOpenData.Ver,c.Data=m}else if(3==this.PointInfo.ClientPos){if(!this.AfterCloseData)return;if(!this.CallAcutionXOperator)return;this.CallAcutionXOperator.Value=t?this.PointInfo.Point.Y:this.PointInfo.Point.X,this.CallAcutionXOperator.Point={X:this.PointInfo.Point.X,Y:this.PointInfo.Point.Y},this.CallAcutionXOperator.ClientPos=this.PointInfo.ClientPos;c={Explain:"AfterClose",Data:null,DataIndex:null,DataTotalCount:this.AfterCloseData.TotalCount};if(!this.CallAcutionXOperator.Operator())return this.OnDrawCallAuctionEventCallback(c),!1;c.DataIndex=this.CallAcutionXOperator.DataIndex;d=(m=this.CallAcutionXOperator.Item).Time;h=1==this.AfterCloseData.Ver?Ce.FormatTimeString(d,"HH:MM"):Ce.FormatTimeString(d,"HH:MM:SS"),u=this.AfterCloseData.Ver,c.Data=m}else if(this.PointInfo.ClientPos>=200&&this.PointInfo.ClientPos<=299){if(!this.MultiDayBeforeOpenData||!Ce.IsNonEmptyArray(this.MultiDayBeforeOpenData))return;var f=1==this.Frame.IsHScreen?this.PointInfo.Point.Y:this.PointInfo.Point.X;this.CallAcutionXOperator.Value=f,this.CallAcutionXOperator.Point={X:this.PointInfo.Point.X,Y:this.PointInfo.Point.Y},this.CallAcutionXOperator.ClientPos=this.PointInfo.ClientPos;c={Explain:"MultiDayBeforeOpen",Data:null,DataIndex:null};if(!this.CallAcutionXOperator.Operator())return this.OnDrawCallAuctionEventCallback(c),!1;c.DataIndex=this.CallAcutionXOperator.DataIndex,c.DayIndex=this.CallAcutionXOperator.DayIndex;var p=this.MultiDayBeforeOpenData[this.CallAcutionXOperator.DayIndex];d=(m=this.CallAcutionXOperator.Item).Time;h=1==p.Ver?Ce.FormatTimeString(d,"HH:MM"):Ce.FormatTimeString(d,"HH:MM:SS"),h=Ce.FormatDateString(m.Date)+" "+h,u=p.Ver,c.Data=m}else{if(!(this.PointInfo.ClientPos>=300&&this.PointInfo.ClientPos<=399))return;if(!this.MultiDayAfterCloseData||!Ce.IsNonEmptyArray(this.MultiDayAfterCloseData))return;f=1==this.Frame.IsHScreen?this.PointInfo.Point.Y:this.PointInfo.Point.X;this.CallAcutionXOperator.Value=f,this.CallAcutionXOperator.Point={X:this.PointInfo.Point.X,Y:this.PointInfo.Point.Y},this.CallAcutionXOperator.ClientPos=this.PointInfo.ClientPos;c={Explain:"MultiDayAfterClose",Data:null,DataIndex:null};if(!this.CallAcutionXOperator.Operator())return this.OnDrawCallAuctionEventCallback(c),!1;c.DataIndex=this.CallAcutionXOperator.DataIndex,c.DayIndex=this.CallAcutionXOperator.DayIndex;var m;p=this.MultiDayAfterCloseData[this.CallAcutionXOperator.DayIndex],d=(m=this.CallAcutionXOperator.Item).Time;h=1==p.Ver?Ce.FormatTimeString(d,"HH:MM"):Ce.FormatTimeString(d,"HH:MM:SS"),h=Ce.FormatDateString(m.Date)+" "+h,u=p.Ver,c.Data=m}if(!(r&&this.IsShowTime&&h)||this.DrawText(h,this.DateTimeColor,l)){if(r&&m&&Ce.IsNumber(m.Price)&&this.CallAuctionShowTitle.has("MTitle-AC-Price")){var v=this.GetColor(m.Price,this.YClose),g="MTitle-AC-Price";this.BeforeOpenData&&1==this.BeforeOpenData.Ver&&(g="MTitle-Close");var C=ei.GetText(g,this.LanguageID)+m.Price.toFixed(n);if(!this.DrawText(C,v,l))return}if(r&&m&&Ce.IsPlusNumber(this.YClose)&&Ce.IsNumber(m.Price)&&this.CallAuctionShowTitle.has("MTitle-AC-Increase")){var D=(m.Price-this.YClose)/this.YClose*100;v=this.GetColor(D,0),g="MTitle-AC-Increase";this.BeforeOpenData&&1==this.BeforeOpenData.Ver&&(g="MTitle-Increase");C=ei.GetText(g,this.LanguageID)+D.toFixed(2)+"%";if(!this.DrawText(C,v,l))return}if(3==u&&r&&m&&Ce.IsNumber(m.AvPrice)&&this.CallAuctionShowTitle.has("MTitle-AC-AvPrice")){v=this.GetColor(m.Price,this.YClose),C=ei.GetText("MTitle-AC-AvPrice",this.LanguageID)+m.AvPrice.toFixed(n);if(!this.DrawText(C,v,l))return}if(r&&Ce.IsNumber(m.Vol[0])&&this.CallAuctionShowTitle.has("MTitle-AC-Vol")){g="MTitle-AC-Vol";this.BeforeOpenData&&1==this.BeforeOpenData.Ver&&(g="MTitle-Vol");C=ei.GetText(g,this.LanguageID)+Ce.FromatIntegerString(m.Vol[0],2);if(!this.DrawText(C,this.VolColor,l))return}if(r&&Ce.IsNumber(m.Vol[1])&&this.CallAuctionShowTitle.has("MTitle-AC-NotMatchVol")){C=ei.GetText("MTitle-AC-NotMatchVol",this.LanguageID)+Ce.FromatIntegerString(m.Vol[1],2);if(!this.DrawText(C,this.VolColor,l))return}if(r&&m.ExtendData&&Ce.IsNonEmptyArray(m.ExtendData.Amount)){var y=m.ExtendData.Amount;if(Ce.IsNumber(y[0])&&this.CallAuctionShowTitle.has("MTitle-AC-Amount")){C=ei.GetText("MTitle-AC-Amount",this.LanguageID)+Ce.FromatIntegerString(y[0],2);if(!this.DrawText(C,this.AmountColor,l))return}if(Ce.IsNumber(y[1])&&this.CallAuctionShowTitle.has("MTitle-AC-NotMatchAmount")){C=ei.GetText("MTitle-AC-NotMatchAmount",this.LanguageID)+Ce.FromatIntegerString(y[1],2);if(!this.DrawText(C,this.AmountColor,l))return}}this.OnDrawCallAuctionEventCallback(c)}}},this.OnDrawCallAuctionEventCallback=function(t){if(this.OnDrawEvent&&this.OnDrawEvent.Callback){var e={Draw:t,Name:this.ClassName};this.OnDrawEvent.Callback(this.OnDrawEvent,e,this)}if(this.OnMouseMoveEvent&&this.OnMouseMoveEvent.Callback){e={Draw:t,Name:this.ClassName};this.OnMouseMoveEvent.Callback(this.OnDrawEvent,e,this)}},this.Draw=function(){if((this.LastShowData=null,!this.IsShow)&&!(this.OnDrawEvent&&this.OnDrawEvent.Callback||this.OnMouseMoveEvent&&this.OnMouseMoveEvent.Callback))return;if(this.PointInfo&&(2==this.PointInfo.ClientPos||3==this.PointInfo.ClientPos||this.PointInfo.ClientPos>=200&&this.PointInfo.ClientPos<=299||this.PointInfo.ClientPos>=300&&this.PointInfo.ClientPos<=399))return this.Canvas.save(),this.DrawCallAuction(),void this.Canvas.restore();if(null==this.CursorIndex||!this.Data||!this.Data.Data||this.Data.Data.length<=0)return this.OnDrawEventCallback(null),void(this.IsAlwaysShowLastData&&(this.Canvas.save(),this.DrawLastDataItem(),this.Canvas.restore()));this.Canvas.font=this.Font,this.SpaceWidth=this.Canvas.measureText("0").width;var t=!1;if(this.DrawStatus&&this.DrawStatus.IsTitleShowLatestData){var e=this.DrawStatus;!Ce.IsNumber(e.FrameID)||e.FrameID<0?t=!0:e.CorssCursorTouchEnd&&0==e.IsOnTouch&&(t=!0)}var i=!1;if(t){var a=null,n=this.GetLatestKLineData(!1);n&&0==n.Type&&(a=n.Data),i=!0}else{var r=this.CursorIndex,o=(r=parseInt(r.toFixed(0)))+this.Data.DataOffset;o>=this.Data.Data.length&&(o=this.Data.Data.length-1);a=this.Data.Data[o];o==this.Data.Data.length-1&&(i=!0)}this.LastShowData=a,this.Canvas.save(),this.OnDrawEventCallback(a),this.IsAlwaysShowLastData?this.DrawLastDataItem():this.DrawItem(a,i),this.Canvas.restore()},this.DrawCallAuctionItem=function(t,e){if(t){var i=t.Data,a=t.Ver,n=!0===this.Frame.IsHScreen,r=this.Frame.GetBorder(),o=r.Left,s=r.Top-this.Frame.ChartBorder.Top/2,l=Ni(this.Symbol),h=!0;if(n){o=2,s=this.Frame.ChartBorder.Right/2;var u=r.ChartWidth,c=r.Top;this.Canvas.translate(u,c),this.Canvas.rotate(90*Math.PI/180)}else this.Frame.ChartBorder.Top<5&&(h=!1);if(this.Canvas.textAlign="left",this.Canvas.font=this.Font,0==this.TitleBaseLine)this.Canvas.textBaseline="top",s=2*L();else if(2==this.TitleBaseLine){this.Canvas.textBaseline="bottom";s=r.Top}else this.Canvas.textBaseline="middle";var d={Left:o,Bottom:s,IsHScreen:n};if(!h||!this.IsShowName||this.DrawText(this.Name,this.NameColor,d)){var f,p=i.Time;if(f=1==a?Ce.FormatTimeString(p,"HH:MM"):Ce.FormatTimeString(p,"HH:MM:SS"),f=Ce.FormatDateString(i.Date)+" "+f,!(h&&this.IsShowTime&&f)||this.DrawText(f,this.DateTimeColor,d)){if(h&&i&&Ce.IsNumber(i.Price)&&this.CallAuctionShowTitle.has("MTitle-AC-Price")){var m=this.GetColor(i.Price,this.YClose),v="MTitle-AC-Price";this.BeforeOpenData&&1==this.BeforeOpenData.Ver&&(v="MTitle-Close");var g=ei.GetText(v,this.LanguageID)+i.Price.toFixed(l);if(!this.DrawText(g,m,d))return}if(h&&i&&Ce.IsPlusNumber(this.YClose)&&Ce.IsNumber(i.Price)&&this.CallAuctionShowTitle.has("MTitle-AC-Increase")){var C=(i.Price-this.YClose)/this.YClose*100;m=this.GetColor(C,0),v="MTitle-AC-Increase";this.BeforeOpenData&&1==this.BeforeOpenData.Ver&&(v="MTitle-Increase");g=ei.GetText(v,this.LanguageID)+C.toFixed(2)+"%";if(!this.DrawText(g,m,d))return}if(3==a&&h&&i&&Ce.IsNumber(i.AvPrice)&&this.CallAuctionShowTitle.has("MTitle-AC-AvPrice")){m=this.GetColor(i.Price,this.YClose),g=ei.GetText("MTitle-AC-AvPrice",this.LanguageID)+i.AvPrice.toFixed(l);if(!this.DrawText(g,m,d))return}if(h&&Ce.IsNumber(i.Vol[0])&&this.CallAuctionShowTitle.has("MTitle-AC-Vol")){v="MTitle-AC-Vol";this.BeforeOpenData&&1==this.BeforeOpenData.Ver&&(v="MTitle-Vol");g=ei.GetText(v,this.LanguageID)+Ce.FromatIntegerString(i.Vol[0],2);if(!this.DrawText(g,this.VolColor,d))return}if(h&&Ce.IsNumber(i.Vol[1])&&this.CallAuctionShowTitle.has("MTitle-AC-NotMatchVol")){g=ei.GetText("MTitle-AC-NotMatchVol",this.LanguageID)+Ce.FromatIntegerString(i.Vol[1],2);if(!this.DrawText(g,this.VolColor,d))return}if(h&&i.ExtendData&&Ce.IsNonEmptyArray(i.ExtendData.Amount)){var D=i.ExtendData.Amount;if(Ce.IsNumber(D[0])&&this.CallAuctionShowTitle.has("MTitle-AC-Amount")){g=ei.GetText("MTitle-AC-Amount",this.LanguageID)+Ce.FromatIntegerString(D[0],2);if(!this.DrawText(g,this.AmountColor,d))return}if(Ce.IsNumber(D[1])&&this.CallAuctionShowTitle.has("MTitle-AC-NotMatchAmount")){g=ei.GetText("MTitle-AC-NotMatchAmount",this.LanguageID)+Ce.FromatIntegerString(D[1],2);if(!this.DrawText(g,this.AmountColor,d))return}}}}}},this.DrawLastDataItem=function(){var t=this.GetLatestKLineData(!0);t&&(0==t.Type?this.DrawItem(t.Data,!0):1!=t.Type&&2!=t.Type||this.DrawCallAuctionItem(t,!0))}}var Be={DEFAULT:1,ORIGINAL:2,INTEGER:3,THOUSANDS:21};function ke(t,e,i){this.Data=t,this.Name=e,this.Color=i,this.DataType,this.ChartClassName,this.StringFormat=Be.DEFAULT,this.FloatPrecision=2,this.IsShow=!0,this.Callback}function Ve(){this.newMethod=Oe,this.newMethod(),delete this.newMethod,this.ClassName="DynamicChartTitlePainting",this.IsDynamic=!0,this.Data=[],this.Explain,this.ColorIndex,this.IsShowColorIndexTitle=!0,this.IsShowUpDownArrow=!0,this.IsShowIndexName=!0,this.IsShowIndexTitle=!0,this.TradeIndex,this.IsShowTradeIndexTitle=!0,this.OverlayIndex=new p.default,this.IsShowOverlayIndexName=!0,this.OverlayIndexType={Position:0,LineSpace:5,BGColor:Qe.OverlayIndexTitleBGColor},this.LanguageID=ti.LANGUAGE_CHINESE_ID,this.TitleRect,this.IsDrawTitleBG=!1,this.BGColor=Qe.IndexTitleBGColor,this.OnDrawEvent,this.ParamSpace=2,this.TitleSpace=2,this.TitleColor=Qe.IndexTitleColor,this.SelectedColor=Qe.IndexTitleSelectedColor,this.IsKLineFrame=!1,this.Identify,this.SelectedChart,this.DynamicTitle={OutName:null,OutValue:null},this.OverlayDynamicTitle=new p.default,this.ReloadResource=function(){this.Font=Qe.TitleFont,this.TitleColor=Qe.DefaultTextColor,this.OverlayIndexType.BGColor=Qe.OverlayIndexTitleBGColor},this.SetDynamicTitleData=function(t,e,i){i.OutName?i.OutName.clear():i.OutName=new p.default,i.OutValue?i.OutValue.clear():i.OutValue=new p.default;var a=new p.default;for(var n in e){var r=e[n];a.set("{"+r.Name+"}",r)}for(var n in t){if((r=t[n]).DynamicName){var o=r.DynamicName.match(/{\w*}/i);if(!o||o.length<=0)i.OutName.set(r.Name,r.DynamicName);else{for(var s=r.DynamicName,l=!0,h=0;h<o.length;++h){var u=o[h];if(!a.has(u)){l=!1;break}var c=a.get(u).Value;s=s.replace(u,c.toString())}l&&i.OutName.set(r.Name,s)}}r.DynamicValue&&i.OutValue.set(r.Name,r.DynamicValue)}},this.SetDynamicTitle=function(t,e,i){if(Ce.IsString(i)){var a=null;this.OverlayDynamicTitle.has(i)?a=this.OverlayDynamicTitle.get(i):(a={OutName:null,OutValue:null},this.OverlayDynamicTitle.set(i,a)),this.SetDynamicTitleData(t,e,a)}else this.SetDynamicTitleData(t,e,this.DynamicTitle)},this.GetDynamicOutName=function(t,e){if(Ce.IsString(e)){if(!this.OverlayDynamicTitle.has(e))return null;var i=this.OverlayDynamicTitle.get(e).OutName}else i=this.DynamicTitle.OutName;return!i||i.size<=0?null:i.has(t)?i.get(t):null},this.GetDynamicOutValue=function(t,e){var i=this.DynamicTitle.OutValue;if(!i||i.size<=0)return null;if(!i.has(t))return null;var a=i.get(t);return a=a.replace("{Value}",e)},this.IsClickTitle=function(t,e){return!!this.TitleRect&&(t>this.TitleRect.Left&&t<this.TitleRect.Left+this.TitleRect.Width&&e>this.TitleRect.Top&&e<this.TitleRect.Top+this.TitleRect.Height)},this.FormatValue=function(t,e){return e.StringFormat==Be.DEFAULT?Ce.FormatValueString(t,e.FloatPrecision,this.LanguageID):e.StringFormat==Be.THOUSANDS?Ce.FormatValueThousandsString(t,e.FloatPrecision):e.StringFormat==Be.ORIGINAL?t.toFixed(e.FloatPrecision).toString():e.StringFormat==Be.INTEGER?Ce.FromatIntegerString(t,e.FloatPrecision,this.LanguageID):void 0},this.FormatMultiReport=function(t,e){var i="";for(var a in t){var n=t[a],r=n.Quarter,o=n.Year,s=n.Value;switch(i.length>0&&(i+=","),i+=o.toString(),r){case 1:i+="一季报 ";break;case 2:i+="半年报 ";break;case 3:i+="三季报 ";break;case 4:i+="年报 "}i+=this.FormatValue(s,e)}return i},this.FromatMultiDataLine=function(t,e){var i="";if(Array.isArray(t))for(var a=0;a<t.length;++a){var n=t[a];if(0!=n.Type&&Ce.IsNumber(n.Value)){var r=this.FormatValue(n.Value,e);i.length>0&&(i+=","),i+=r}}else 0!=t.Type&&Ce.IsNumber(t.Value)&&(i=this.FormatValue(t.Value,e));return i.length<=0?null:i},this.FromatStackedBarTitle=function(t,e){if(!Ce.IsNonEmptyArray(t))return null;if(!Ce.IsNonEmptyArray(e.Color))return null;for(var i=[],a=0;a<t.length;++a){var n=t[a];if(Ce.IsNumber(n)){var r={Text:n.toFixed(2)};e.Name&&e.Name[a]&&(r.Name=e.Name[a]),r.Color=e.Color[a],i.push(r)}}return i.length<=0?null:i},this.ForamtMultiLineTitle=function(t,e){if(!Ce.IsNonEmptyArray(e.Lines))return null;for(var i=[],a=0;a<e.Lines.length;++a)for(var n=e.Lines[a],r=0;r<n.Point.length;++r){if((o=n.Point[r]).Index==t){var o={Text:o.Value.toFixed(2)};0==i.length&&(o.Name=e.Name),o.Color=n.Color,i.push(o);break}}return Ce.IsNonEmptyArray(i)?i:null},this.FormatVPVRTitle=function(t,e){var i=e.Chart,a=[];if(0==i.VolType){var n={Text:" Up/Down ",Color:this.TitleColor};a.push(n)}else{n={Text:" Total ",Color:this.TitleColor};a.push(n)}if(!Ce.IsNumber(t.Y))return a;var r=this.Frame.ChartBorder.GetTopEx(),o=this.Frame.ChartBorder.GetBottomEx();if(t.Y<r||t.Y>o)return a;for(var s=this.Frame.GetYData(t.Y),l=null,h=0;h<e.Data.Data.length;++h){if(s>=(n=e.Data.Data[h]).Price-e.Data.PriceOffset/2&&s<n.Price+e.Data.PriceOffset/2){l=n;break}}if(!l)return null;if(0==i.VolType){var u=0;for(h=0;h<l.Vol.length;++h){var c=l.Vol[h];if(Ce.IsNumber(c.Value)){n={Text:Ce.FormatVolString(c.Value,this.LanguageID)};u+=c.Value,Ce.IsNumber(c.ColorID)?n.Color=i.BarColor[c.ColorID]:c.Color&&(n.Color=c.Color),a.push(n)}}n={Text:Ce.FormatVolString(u,this.LanguageID),Color:this.TitleColor};a.push(n)}else if(l.TotalVol&&Ce.IsNumber(l.TotalVol.Value)){n={Text:Ce.FormatVolString(l.TotalVol.Value,this.LanguageID)};Ce.IsNumber(l.TotalVol.ColorID)?n.Color=i.BarColor[l.TotalVol.ColorID]:l.TotalVol.Color&&(n.Color=l.TotalVol.Color),a.push(n)}return a},this.IsShowLastData=function(){var t=!1;if(this.DrawStatus&&this.DrawStatus.IsTitleShowLatestData){var e=this.DrawStatus;!Ce.IsNumber(e.FrameID)||e.FrameID<0?t=!0:e.CorssCursorTouchEnd&&0==e.IsOnTouch&&(t=!0)}return t},this.OnDrawTitleEvent=function(){var t=this.GetEventCallback(b.ON_INDEXTITLE_DRAW);if(t){var e={Index:null,Data:this.Data,Title:this.Title,FrameID:this.Frame.Identify,OverlayIndex:this.OverlayIndex};if(Ce.IsNumber(this.CursorIndex)){var i=Math.abs(this.CursorIndex);i=parseInt(i.toFixed(0)),e.Index=i}var a=L(),n=this.Frame.GetBorder();e.Left=n.LeftEx/a,e.Top=n.Top/a,e.Right=n.RightEx/a,t.Callback(t,e,this)}},this.IsSelectedChart=function(t){return!!t&&(!!this.SelectedChart&&(!!this.SelectedChart.Selected&&this.SelectedChart.Selected.Identify==t))},this.Draw=function(){if(!this.Frame.IsMinSize&&(this.IsKLineFrame="KLineFrame"==this.Frame.ClassName||"KLineHScreenFrame"==this.Frame.ClassName,this.IsDrawTitleBG=this.Frame.IsDrawTitleBG,this.IsShowUpDownArrow=this.Frame.IsShowTitleArraw,this.IsShowIndexName=this.Frame.IsShowIndexName,this.IsShowOverlayIndexName=this.Frame.IsShowOverlayIndexName,this.OverlayIndexType.Position=this.Frame.OverlayIndexType.Position,this.OverlayIndexType.LineSpace=this.Frame.OverlayIndexType.LineSpace,this.ParamSpace=this.Frame.IndexParamSpace,this.TitleSpace=this.Frame.IndexTitleSpace,this.TitleRect=null,this.OnDrawTitleEvent(),0!=this.Frame.IsShowIndexTitle&&null!=this.CursorIndex&&this.Data&&!(this.Frame.ChartBorder.TitleHeight<5))){if(!0===this.Frame.IsHScreen)return this.Canvas.save(),this.HScreenDraw(),void this.Canvas.restore();var t=this.Frame.ChartBorder.GetLeft()+1,e=this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.TitleHeight/2,i=this.Frame.ChartBorder.GetRight();if(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.font=this.Font,this.Title&&this.IsShowIndexName){var a=this.Canvas.measureText(this.Title).width+2;if(this.IsDrawTitleBG){var n=2*L();this.Canvas.fillStyle=this.BGColor,this.TitleRect={Left:t,Top:this.Frame.ChartBorder.GetTop()+n,Width:a,Height:this.Frame.ChartBorder.TitleHeight-2*n},this.Canvas.fillRect(this.TitleRect.Left,this.TitleRect.Top,this.TitleRect.Width,this.TitleRect.Height)}this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(this.Title,t,e,a),this.IsSelectedChart(this.Identify)&&this.DrawSelectedLine(t,e,a),t+=a,t+=this.TitleSpace}var r=this.IsShowLastData(),o=this.Frame.GetLockRect();if(o){var s=Math.abs(this.CursorIndex);if(this.IsKLineFrame&&(s=this.CursorIndex),this.Frame.GetXFromIndex(s.toFixed(0))>=o.Left)return;if(r)return}for(var l=0;l<this.Data.length;++l){var h=this.Data[l],u=this.GetTitleItem(h,r);if(u){var c=u.Text,d=u.ArrayText;if(d)for(var f=0;f<d.length;++f){var p=d[f];v=p.Name?p.Name+":"+p.Text:p.Text;var m=this.ParamSpace*L();if(t+(a=this.Canvas.measureText(v).width+m)>i)break;this.Canvas.fillStyle=p.Color,this.Canvas.fillText(v,t,e,a),t+=a}else{this.Canvas.fillStyle=h.Color;var v=c;if(h.Name){var g=this.GetDynamicOutName(h.Name);v=g?g+":"+c:h.Name+":"+c}m=this.ParamSpace*L();if(t+(a=this.Canvas.measureText(v).width+m)>i)break;this.Canvas.fillText(v,t,e,a),t+=a}}}if(this.Explain){this.Canvas.fillStyle=this.TitleColor;v="说明:"+this.Explain;t+(a=this.Canvas.measureText(v).width+2)<i&&(this.Canvas.fillText(v,t,e,a),t+=a)}if(this.ColorIndex&&this.IsShowColorIndexTitle){this.Canvas.fillStyle=Qe.Title.ColorIndexColor;var C=this.ColorIndex.Name+this.ColorIndex.Param;a=this.Canvas.measureText(C).width+2;this.Canvas.fillText(C,t,e,a),t+=a}if(this.TradeIndex&&this.IsShowTradeIndexTitle){this.Canvas.fillStyle=Qe.Title.TradeIndexColor;C=this.TradeIndex.Name+this.TradeIndex.Param,a=this.Canvas.measureText(C).width+2;this.Canvas.fillText(C,t,e,a),t+=a}1==this.OverlayIndexType.Position?this.Frame.ChartBorder.IsShowTitleOnly||this.DrawOverlayIndexSingleLine():this.DrawOverlayIndex(t+10*L())}},this.GetTitleItem=function(t,e){if(!t||!t.Data||!t.Data.Data)return null;if(Array.isArray(t.Data.Data)&&t.Data.Data.length<=0)return null;if(!1===t.IsShow)return null;var i=null,a=null,n=null,r=null;if("StraightLine"==t.DataType)n=t.Data.Data[0],i=this.FormatValue(n,t);else{if("ChartVolProfileVisibleRange"==t.ChartClassName)return(a=this.FormatVPVRTitle(this.LastPoint,t))?{Text:null,ArrayText:a}:null;if(e)var o=t.Data.Data.length-1;else{var s=Math.abs(this.CursorIndex);if(s=parseInt(s.toFixed(0)),this.IsKLineFrame&&(s=this.CursorIndex),(o=t.Data.DataOffset+s)>=t.Data.Data.length&&(o=t.Data.Data.length-1),o<0)return null}if("ChartMultiLine"==t.DataType)return(a=this.ForamtMultiLineTitle(o,t))?{Text:null,ArrayText:a}:null;if(null==(n=t.Data.Data[o])&&"ChartStepLine"==t.ChartClassName){if(!(r=this.GetPreVaildItem(t.Data.Data,o)))return null;if(preText=this.FormatValue(r.Item,t),t.Name)(h=this.GetDynamicOutValue(t.Name,preText))&&(preText=h);return{Text:i="--("+preText+")",ArrayText:a}}if(null==n)return null;if("HistoryData-Vol"==t.DataType)n=n.Vol,i=this.FormatValue(n,t);else if("MultiReport"==t.DataType)i=this.FormatMultiReport(n,t);else if("MULTI_POINT_LINE"==t.DataType){if(!(i=this.FromatMultiDataLine(n,t)))return null}else{if("ChartStackedBar"==t.DataType)return(a=this.FromatStackedBarTitle(n,t))?{Text:null,ArrayText:a}:null;if(ia.Has(t.DataType)){var l=ia.Get(t.DataType);if(l&&l.FormatTitleCallback)return l.FormatTitleCallback(n,t,o)}else{var h,u=null;if(this.IsShowUpDownArrow){var c=null;o-1>=0&&(c=t.Data.Data[o-1]),Ce.IsNumber(c)&&(u=c>n?"↓":c<n?"↑":"→")}if(i=this.FormatValue(n,t),t.Name)(h=this.GetDynamicOutValue(t.Name,i))&&(i=h);u&&(i+=u)}}}return{Text:i,ArrayText:a}},this.GetPreVaildItem=function(t,e){for(var i=e;i>=0;--i){var a=t[i];if(a)return{Item:a,Index:i}}return null},this.DrawSelectedLine=function(t,e,i){this.Canvas.save();var a=this.GetFontHeight();this.Canvas.strokeStyle=this.SelectedColor;var n=B(4,e+a/2);this.Canvas.lineWidth=4,this.Canvas.beginPath(),this.Canvas.moveTo(t,n),this.Canvas.lineTo(t+i,n),this.Canvas.stroke(),this.Canvas.restore()},this.DrawOverlayIndexSingleLine=function(){var t=L(),e=this.Frame.GetBorder();if(!0===this.Frame.IsHScreen)var i=1,a=2*t,n=this.Frame.ChartBorder.GetHeight(),r=this.Frame.ChartBorder.GetWidthEx();else a=e.TopTitle+2*t,i=e.Left+1,n=e.Right,r=e.Bottom;var o=this.OverlayIndexType.LineSpace*t,s=i,l=a;this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var h=F(this.Canvas,this.Font,"擎");l=a+h/2;var u=!0,c=!1,f=void 0;try{for(var p,m=(0,d.default)(this.OverlayIndex);!(u=(p=m.next()).done);u=!0){var v=(y=p.value)[1],g=y[0];if(s=i,v.Title&&this.IsShowOverlayIndexName){if(s+(E=this.Canvas.measureText(v.Title).width+2)<n){if(this.OverlayIndexType.BGColor){this.Canvas.fillStyle=this.OverlayIndexType.BGColor;var C={Left:s,Top:l-h/2,Width:E,Height:h+o};this.Canvas.fillRect(C.Left,C.Top,C.Width,C.Height)}this.IsSelectedChart(g)&&this.DrawSelectedLine(s,l,E,v.Title),this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(v.Title,s,l,E)}s+=E}for(var D=0;D<v.Data.length;++D){var y=v.Data[D];if(y&&y.Data&&y.Data.Data&&y.Name&&!(y.Data.Data.length<=0)){var x=null,S=null,I=null;if("StraightLine"==y.DataType)x=y.Data.Data[0],S=this.FormatValue(x,y);else{var T=Math.abs(this.CursorIndex-.5);T=parseInt(T.toFixed(0)),this.IsKLineFrame&&(T=this.CursorIndex);var b=y.Data.DataOffset+T;if(b>=y.Data.Data.length&&(b=y.Data.Data.length-1),b<0)continue;if(null==(x=y.Data.Data[b]))continue;if("HistoryData-Vol"==y.DataType)x=x.Vol,S=this.FormatValue(x,y);else if("MultiReport"==y.DataType)S=this.FormatMultiReport(x,y);else if("ChartStackedBar"==y.DataType){if(!(I=this.FromatStackedBarTitle(x,y)))continue}else S=this.FormatValue(x,y)}if(I)for(var w=0;w<I.length;++w){var M=I[w];if(A=M.Name?M.Name+":"+M.Text:M.Text,s+(E=this.Canvas.measureText(A).width+2)>n)break;if(this.OverlayIndexType.BGColor){this.Canvas.fillStyle=this.OverlayIndexType.BGColor;C={Left:s,Top:l-h/2,Width:E,Height:h+o};this.Canvas.fillRect(C.Left,C.Top,C.Width,C.Height)}this.Canvas.fillStyle=M.Color,this.Canvas.fillText(A,s,l,E),s+=E}else{var E,A=S;if(y.Name){var _=this.GetDynamicOutName(y.Name,g);A=_?_+":"+S:y.Name+":"+S}if(s+(E=this.Canvas.measureText(A).width+2)>n)break;if(this.OverlayIndexType.BGColor){this.Canvas.fillStyle=this.OverlayIndexType.BGColor;C={Left:s,Top:l-h/2,Width:E,Height:h+o};this.Canvas.fillRect(C.Left,C.Top,C.Width,C.Height)}this.Canvas.fillStyle=y.Color,this.Canvas.fillText(A,s,l,E),s+=E}}}if((l+=h+o)+h+o>=r)break}}catch(t){c=!0,f=t}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}},this.DrawOverlayIndex=function(t){var e=this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.TitleHeight/2,i=this.Frame.ChartBorder.GetRight();if(!0===this.Frame.IsHScreen&&(e=-this.Frame.ChartBorder.TitleHeight/2,i=this.Frame.ChartBorder.GetHeight()),!(t>i)){var a=5*L(),n=t,r=!0,o=!1,s=void 0;try{for(var l,h=(0,d.default)(this.OverlayIndex);!(r=(l=h.next()).done);r=!0){t+=a;var u=(p=l.value)[1],c=p[0];if(u.Title&&this.IsShowOverlayIndexName){if(this.Canvas.fillStyle=this.TitleColor,n=t,(t+=D=this.Canvas.measureText(u.Title).width+2)>i)break;this.Canvas.fillText(u.Title,n,e,D),this.IsSelectedChart(c)&&this.DrawSelectedLine(n,e,D)}for(var f in u.Data){var p=u.Data[f];if(p&&p.Data&&p.Data.Data&&p.Name&&!(p.Data.Data.length<=0)){var m=null,v=null;if("StraightLine"==p.DataType)m=p.Data.Data[0],v=this.FormatValue(m,p);else{var g=Math.abs(this.CursorIndex-.5);g=parseInt(g.toFixed(0)),this.IsKLineFrame&&(g=this.CursorIndex);var C=p.Data.DataOffset+g;if(C>=p.Data.Data.length&&(C=p.Data.Data.length-1),C<0)continue;if(null==(m=p.Data.Data[C]))continue;"HistoryData-Vol"==p.DataType?(m=m.Vol,v=this.FormatValue(m,p)):v="MultiReport"==p.DataType?this.FormatMultiReport(m,p):this.FormatValue(m,p)}this.Canvas.fillStyle=p.Color;var D,y=p.Name+":"+v;if(n=t,(t+=D=this.Canvas.measureText(y).width+2)>i)break;this.Canvas.fillText(y,n,e,D)}}if(t>i)break}}catch(t){o=!0,s=t}finally{try{!r&&h.return&&h.return()}finally{if(o)throw s}}}},this.HScreenDraw=function(){var t=this.Frame.ChartBorder.GetHScreenBorder(),e=this.Frame.ChartBorder.GetRightTitle(),i=t.TopEx;this.Canvas.translate(e,i),this.Canvas.rotate(90*Math.PI/180);var a=1,n=-this.Frame.ChartBorder.TitleHeight/2,r=this.Frame.ChartBorder.GetHeight();if(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.font=this.Font,this.Title&&this.IsShowIndexName){var o=this.Canvas.measureText(this.Title).width+2;if(this.IsDrawTitleBG){var s=2*L();this.Canvas.fillStyle=this.BGColor,this.TitleRect={Left:this.Frame.ChartBorder.GetRightTitle(),Top:t.TopEx,Width:this.Frame.ChartBorder.TitleHeight,Height:o};var l={Left:a,Top:-this.Frame.ChartBorder.TitleHeight+s,Width:o,Height:this.Frame.ChartBorder.TitleHeight-2*s};this.Canvas.fillRect(l.Left,l.Top,l.Width,l.Height)}this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(this.Title,a,n,o),a+=o,a+=this.TitleSpace}var h=this.IsShowLastData(),u=this.Frame.GetLockRect();if(u){var c=Math.abs(this.CursorIndex-.5);if(this.IsKLineFrame&&(c=this.CursorIndex),this.Frame.GetXFromIndex(c.toFixed(0))>=u.Top)return;if(h)return}for(var d in this.Data){var f=this.Data[d],p=this.GetTitleItem(f,h);if(p){var m=p.Text,v=p.ArrayText;if(v)for(var g=0;g<v.length;++g){var C=v[g];y=C.Name?C.Name+":"+C.Text:C.Text;var D=this.ParamSpace*L();if(a+(o=this.Canvas.measureText(y).width+D)>r)break;this.Canvas.fillStyle=C.Color,this.Canvas.fillText(y,a,n,o),a+=o}else{this.Canvas.fillStyle=f.Color;var y=m;if(f.Name){var x=this.GetDynamicOutName(f.Name);y=x?x+":"+m:f.Name+":"+m}D=this.ParamSpace*L();if(a+(o=this.Canvas.measureText(y).width+D)>r)break;this.Canvas.fillText(y,a,n,o),a+=o}}}if(this.Explain){this.Canvas.fillStyle=this.TitleColor;y="说明:"+this.Explain;a+(o=this.Canvas.measureText(y).width+2)<r&&(this.Canvas.fillText(y,a,n,o),a+=o)}1==this.OverlayIndexType.Position?this.Frame.ChartBorder.IsShowTitleOnly||this.DrawOverlayIndexSingleLine():this.DrawOverlayIndex(a+5*L())},this.OnDrawEventCallback=function(t){if(this.OnDrawEvent&&this.OnDrawEvent.Callback){var e={Draw:t,Name:"DynamicChartTitlePainting"};this.OnDrawEvent.Callback(this.OnDrawEvent,e,this)}},this.GetFontHeight=function(t){return F(this.Canvas,t,"擎")}}function He(){this.Frame,this.Canvas,this.Point=new Array,this.Value=new Array,this.LinePoint=[],this.PointCount=2,this.Status=0,this.PointStatus=0,this.MovePointIndex=null,this.ClassName="IChartDrawPicture",this.FinishedCallback,this.Guid=P(),this.Symbol,this.Period,this.Right,this.IsSelected=!1,this.Option,this.EnableMove=!0,this.EnableSave=!0,this.IsDrawFirst=!1,this.LineColor=Qe.DrawPicture.LineColor[0],this.LineWidth=2,this.BackupLineWidth=null,this.AreaColor="rgba(25,25,25,0.4)",this.PointColor=Qe.DrawPicture.PointColor[0],this.MoveOnPointColor=Qe.DrawPicture.PointColor[1],this.PointRadius=5,this.SquareSize=8,this.PointType=Qe.DrawPicture.PointType,this.IsShowPoint=Qe.DrawPicture.IsShowPoint,this.SetLastPoint=null,this.Update=null,this.GetActiveDrawPicture=null,this.Draw=function(){},this.SetOption=function(t){t&&(t.LineColor&&(this.LineColor=t.LineColor),t.LineWidth>0&&(this.LineWidth=t.LineWidth),t.AreaColor&&(this.AreaColor=t.AreaColor),t.PointColor&&(this.PointColor=t.PointColor),t.MoveOnPointColor&&(this.SelectPointColor=t.PointColor),t.PointRadius&&(this.PointRadius=t.PointRadius),Ce.IsNumber(t.SquareSize)&&(this.SquareSize=t.SquareSize),Ce.IsBool(t.IsShowPoint)&&(this.IsShowPoint=t.IsShowPoint))},this.SetLineWidth=function(){this.BackupLineWidth=null,this.LineWidth>0&&(this.BackupLineWidth=this.Canvas.lineWidth,this.Canvas.lineWidth=this.LineWidth*L())},this.GetFontHeight=function(t){return F(this.Canvas,t,"擎")},this.RestoreLineWidth=function(){null!=this.BackupLineWidth&&(this.Canvas.lineWidth=this.BackupLineWidth)},this.PointToValue=function(){return!!this.Frame&&("MinuteFrame"==this.Frame.ClassName||"MinuteHScreenFrame"==this.Frame.Class?this.PointToValue_Minute():this.PointToValue_KLine())},this.PointToKLine=function(t){if(!this.Frame)return null;var e=this.Frame.Data;if(!e)return null;var i=[];if(this.Frame.IsHScreen)for(var a in t){var n=t[a],r={XValue:s=parseInt(this.Frame.GetXData(n.Y))+e.DataOffset,YValue:this.Frame.GetYData(n.X)},o=e.Data[s];r.DateTime={Date:o.Date},Ce.IsNumber(o.Time)&&(r.DateTime.Time=o.Time),i[a]=r}else for(var a in t){n=t[a];var s,l=parseInt(this.Frame.GetXData(n.X,!1));(s=l+e.DataOffset)<0?s=0:s>=e.Data.length&&(l=(s=e.Data.length-1)-e.DataOffset);r={XValue:s,YValue:this.Frame.GetYData(n.Y,!1),XIndex:l},o=e.Data[s];r.DateTime={Date:o.Date},Ce.IsNumber(o.Time)&&(r.DateTime.Time=o.Time),i[a]=r}return i},this.PointToValue_KLine=function(){if(!this.Frame)return!1;var t=this.Frame.Data;if(!t)return!1;if(this.Frame.IsHScreen)for(var e in this.Point){var i=this.Point[e],a={XValue:r=parseInt(this.Frame.GetXData(i.Y,!1))+t.DataOffset,YValue:this.Frame.GetYData(i.X,!1)},n=t.Data[r];a.DateTime={Date:n.Date},Ce.IsNumber(n.Time)&&(a.DateTime.Time=n.Time),this.Value[e]=a}else for(var e in this.Point){var r;i=this.Point[e];(r=parseInt(this.Frame.GetXData(i.X,!1))+t.DataOffset)<0?r=0:r>=t.Data.length&&(r=t.Data.length-1);a={XValue:r,YValue:this.Frame.GetYData(i.Y,!1)},n=t.Data[r];a.DateTime={Date:n.Date},Ce.IsNumber(n.Time)&&(a.DateTime.Time=n.Time),this.Value[e]=a}return!0},this.PointToValue_Minute=function(){if(!this.Frame)return!1;var t=this.Frame.Data;if(!t)return!1;if(this.Frame.IsHScreen)for(var e=0;e<this.Point.length;++e){var i=this.Point[e],a={XValue:o=parseInt(this.Frame.GetXData(i.Y)),YValue:s=this.Frame.GetYData(i.X)},n=t.Data[o];a.DateTime={Date:n.Date,Time:n.Time},this.Value[e]=a}else{var r=bi.GetTimeData(this.Symbol);for(e=0;e<this.Point.length;++e){i=this.Point[e];var o=parseInt(this.Frame.GetXData(i.X)),s=this.Frame.GetYData(i.Y);if(o>=t.Data.length){var l=o%r.length,h=t.Data.length-1,u=(a={XValue:o,YValue:s},n=t.Data[h],r[l]);a.DateTime={Date:n.Date,Time:u},this.Value[e]=a}else{a={XValue:o,YValue:s},n=t.Data[o];a.DateTime={Date:n.Date,Time:n.Time},this.Value[e]=a}}}return!0},this.IsPointIn=function(t,e,i){return!1},this.ValueToPoint=function(){if(!this.Frame)return!1;var t=this.Frame.Data;if(!t)return!1;var e=this.Frame.IsHScreen;for(var i in this.Point=[],this.Value){var a=this.Value[i],n=new H;e?(n.Y=this.Frame.GetXFromIndex(a.XValue-t.DataOffset,!1),n.X=this.Frame.GetYFromData(a.YValue,!1)):(n.X=this.Frame.GetXFromIndex(a.XValue-t.DataOffset,!1),n.Y=this.Frame.GetYFromData(a.YValue,!1)),this.Point[i]=n}},this.UpdateXValue=function(){if(!this.Frame)return!1;var t=this.Frame.Data;if(!t)return!1;var e=[];for(var i in this.Value){var a=this.Value[i],n={Date:a.DateTime.Date};Ce.IsNumber(a.DateTime.Time)&&(n.Time=a.DateTime.Time),e[i]=n}for(var i in t.FindDataIndexByDateTime(e),e){var r=e[i],o=this.Value[i];r.Index>=0&&(o.XValue=r.Index)}},this.Move=function(t,e){if(20!=this.Status)return fasle;if(!this.Frame)return!1;if(!this.Frame.Data)return!1;if(null==this.MovePointIndex)return!1;var i=parseInt(this.MovePointIndex);if(100===i)for(var a in this.Point)this.Point[a].X+=t,this.Point[a].Y+=e;else{if(0!==i&&1!==i&&2!==i&&3!==i&&4!==i&&5!==i)return!1;i<this.Point.length&&(this.Point[i].X+=t,this.Point[i].Y+=e)}},this.ClipFrame=function(){if(this.Frame.IsHScreen)var t=this.Frame.ChartBorder.GetLeftEx(),e=this.Frame.ChartBorder.GetTop(),i=this.Frame.ChartBorder.GetWidthEx(),a=this.Frame.ChartBorder.GetHeight();else t=this.Frame.ChartBorder.GetLeft(),e=this.Frame.ChartBorder.GetTopEx(),i=this.Frame.ChartBorder.GetWidth(),a=this.Frame.ChartBorder.GetHeightEx();this.Canvas.save(),this.Canvas.beginPath(),this.Canvas.rect(t,e,i,a),this.Canvas.clip()},this.CalculateDrawPoint=function(t){if(this.Status<2)return null;if(!this.Point.length||!this.Frame)return null;var e=new Array;if(10==this.Status){var i=this.Frame.Data;if(!i)return null;for(var a=this.Frame.XPointCount,n=0,r=this.Frame.IsHScreen,o=0;o<this.Value.length;++o){var s=this.Value[o],l=s.XValue-i.DataOffset;(l<0||l>=a)&&++n;var h=new H;r?(h.Y=this.Frame.GetXFromIndex(s.XValue-i.DataOffset,!1),h.X=this.Frame.GetYFromData(s.YValue,!1)):(h.X=this.Frame.GetXFromIndex(s.XValue-i.DataOffset,!1),h.Y=this.Frame.GetYFromData(s.YValue,!1)),e.push(h)}if(t&&!0===t.IsCheckX&&n==this.Value.length)return null}else e=this.Point;return e},this.IsYValueInFrame=function(t){return!!this.Frame&&!(t>this.Frame.HorizontalMax||t<this.Frame.HorizontalMin)},this.DrawPoint=function(t){if(t&&!(t.length<=0)){var e=this.PointColor;if(this.IsShowPoint);else if(this.GetActiveDrawPicture){var i=this.GetActiveDrawPicture();if(i.Move.Guid!=this.Guid&&i.Select.Guid!=this.Guid&&i.MoveOn.Guid!=this.Guid)return;i.Select.Guid!=this.Guid&&i.MoveOn.Guid==this.Guid&&(e=this.MoveOnPointColor)}this.ClipFrame();var a=L();for(var n in this.Canvas.fillStyle=e,t){var r=t[n];if(1==this.PointType){var o=this.SquareSize*a,s=r.X-o/2,l=r.Y-o/2;this.Canvas.fillRect(s,l,o,o)}else this.Canvas.beginPath(),this.Canvas.arc(r.X,r.Y,this.PointRadius*a,0,360,!1),this.Canvas.fill(),this.Canvas.closePath()}this.Canvas.restore()}},this.CalculateExtendLinePoint=function(t,e){var i={},a=(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetRight(),this.Frame.ChartBorder.GetTopEx()),n=this.Frame.ChartBorder.GetBottom(),r=e.X-t.X,o=e.Y-t.Y;if(r>0){var s=r*(h=n-t.Y)/o;(l=new H).X=t.X+s,l.Y=n,i.End=l;s=r*(h=e.Y-a)/o;(u=new H).Y=a,u.X=e.X-s,i.Start=u}else{var l,h=n-t.Y;s=Math.abs(r)*h/o;(l=new H).X=t.X-s,l.Y=n,i.End=l;var u;h=e.Y-a,s=Math.abs(r)*h/o;(u=new H).Y=a,u.X=e.X+s,i.Start=u}return i},this.CalculateExtendLineEndPoint=function(t){var e=this.Frame.ChartBorder.GetLeft(),i=this.Frame.ChartBorder.GetRight(),a=t[1].X-t[0].X,n=t[1].Y-t[0].Y;if(a>0){var r=(i-t[0].X)*n/a+t[0].Y;return(o=new H).X=i,o.Y=r,o}var o;r=(t[0].X-e)*n/Math.abs(a)+t[0].Y;return(o=new H).X=e,o.Y=r,o},this.IsPointInXYValue=function(t,e,i){if(!this.Frame)return-1;var a=this.Frame.Data;if(!a)return-1;if(!this.Value)return-1;var n=5;i&&Ce.IsNumber(i.Zoom)?n+=i.Zoom:this.Option&&Ce.IsNumber(this.Option.Zoom)&&(n+=this.Option.Zoom);var r=this.Frame.IsHScreen;n*=L();for(var o=0;o<this.Value.length;++o){var s=this.Value[o],l=new H;if(r?(l.Y=this.Frame.GetXFromIndex(s.XValue-a.DataOffset),l.X=this.Frame.GetYFromData(s.YValue)):(l.X=this.Frame.GetXFromIndex(s.XValue-a.DataOffset),l.Y=this.Frame.GetYFromData(s.YValue)),this.Canvas.beginPath(),this.Canvas.arc(l.X,l.Y,n,0,360),this.Canvas.isPointInPath(t,e))return o}return-1},this.IsPointInLine=function(t,e,i){if(!this.LinePoint)return-1;var a=5;i&&Ce.IsNumber(i.Zoom)?a+=i.Zoom:this.Option&&Ce.IsNumber(this.Option.Zoom)&&(a+=this.Option.Zoom),a*=L();for(var n=0;n<this.LinePoint.length;++n){var r=this.LinePoint[n],o=r.Start,s=r.End;if(this.Canvas.beginPath(),o.X==s.X?(this.Canvas.moveTo(o.X-a,o.Y),this.Canvas.lineTo(o.X+a,o.Y),this.Canvas.lineTo(s.X+a,s.Y),this.Canvas.lineTo(s.X-a,s.Y)):(this.Canvas.moveTo(o.X,o.Y+a),this.Canvas.lineTo(o.X,o.Y-a),this.Canvas.lineTo(s.X,s.Y-a),this.Canvas.lineTo(s.X,s.Y+a)),this.Canvas.closePath(),this.Canvas.isPointInPath(t,e))return n}return-1},this.IsPointIn_XYValue_Line=function(t,e,i){if(10!=this.Status)return-1;var a=this.IsPointInXYValue(t,e,i);return a>=0?a:(a=this.IsPointInLine(t,e,i))>=0?100:-1},this.DrawLine=function(t,e,i){i&&this.Canvas.setLineDash([5,10]),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.stroke(),i&&this.Canvas.setLineDash([])},this.CreateLineData=function(t,e){var i={Start:new H,End:new H};return i.Start.Y=t.Y,i.Start.X=t.X,i.End.Y=e.Y,i.End.X=e.X,i},this.ExportStorageData=function(){for(var t={ClassName:this.ClassName,Symbol:this.Symbol,Guid:this.Guid,Period:this.Period,Value:[],FrameID:this.Frame.Identify,LineColor:this.LineColor,AreaColor:this.AreaColor,LineWidth:this.LineWidth,Right:this.Right,EnableSave:this.EnableSave},e=0;e<this.Value.length;++e){var i=this.Value[e];t.Value.push({XValue:i.XValue,YValue:i.YValue,DateTime:i.DateTime})}return this.Text&&(t.Text=this.Text),this.FontOption&&(t.FontOption=this.FontOption),t},this.IsFrameMinSize=function(){return this.Frame&&this.Frame.IsMinSize},this.PointRange=function(t){if(!Ce.IsNonEmptyArray(t))return null;if(1==t.length)return{Points:[{X:t[0].X,Y:t[0].Y}]};for(var e=t[0].X,i=e,a=t[0].Y,n=a,r=[{X:t[0].X,Y:t[0].Y}],o=1;o<t.length;++o)e<t[o].X&&(e=t[o].X),i>t[o].X&&(i=t[o].X),a<t[o].Y&&(a=t[o].Y),n>t[o].Y&&(n=t[o].Y),r.push({X:t[o].X,Y:t[o].Y});return{X:{Max:{X:e},Min:{X:i}},Y:{Max:{Y:a},Min:{Y:n}},Points:r}},this.GetXYCoordinate_default=function(){if(this.IsFrameMinSize())return null;var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});return this.PointRange(t)},this.GetXYCoordinate=function(){return null}}function Ge(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureWaveMW",this.PointCount=5,this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.IsHScreen=!1,this.Draw=function(){if(this.IsHScreen=this.Frame.IsHScreen,this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){for(var e in this.AreaColor=He.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),this.CalculateLines(t),this.SetLineWidth(),this.LinePoint){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End)}this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}}},this.CalculateLines=function(t){if(this.Frame&&!(t.length<2))if(2==this.Status){(r={Start:new H,End:new H}).Start.Y=t[0].Y,r.Start.X=t[0].X,r.End.Y=t[1].Y,r.End.X=t[1].X,this.LinePoint.push(r);var e=t[1].X-t[0].X,i=t[1].Y-t[0].Y;r={Start:new H,End:new H},this.IsHScreen?(r.Start.Y=t[1].Y,r.Start.X=t[1].X,r.End.Y=t[1].Y+i,r.End.X=t[0].X):(r.Start.Y=t[1].Y,r.Start.X=t[1].X,r.End.Y=t[0].Y,r.End.X=t[1].X+e),this.LinePoint.push(r);var a=r.End;(n=new H).X=a.X,n.Y=a.Y,this.Point[2]=n,r={Start:new H,End:new H},this.IsHScreen?(r.Start.Y=a.Y,r.Start.X=a.X,r.End.Y=a.Y+i,r.End.X=t[1].X):(r.Start.Y=a.Y,r.Start.X=a.X,r.End.Y=t[1].Y,r.End.X=a.X+e),this.LinePoint.push(r);a=r.End;(n=new H).X=a.X,n.Y=a.Y,this.Point[3]=n,r={Start:new H,End:new H},this.IsHScreen?(r.Start.Y=a.Y,r.Start.X=a.X,r.End.Y=a.Y+i,r.End.X=t[0].X):(r.Start.Y=a.Y,r.Start.X=a.X,r.End.Y=t[0].Y,r.End.X=a.X+e),this.LinePoint.push(r);var n;a=r.End;(n=new H).X=a.X,n.Y=a.Y,this.Point[4]=n,this.PointCount=this.Point.length}else if(5==t.length){var r;(r={Start:new H,End:new H}).Start.Y=t[0].Y,r.Start.X=t[0].X,r.End.Y=t[1].Y,r.End.X=t[1].X,this.LinePoint.push(r),(r={Start:new H,End:new H}).Start.Y=t[1].Y,r.Start.X=t[1].X,r.End.Y=t[2].Y,r.End.X=t[2].X,this.LinePoint.push(r),(r={Start:new H,End:new H}).Start.Y=t[2].Y,r.Start.X=t[2].X,r.End.Y=t[3].Y,r.End.X=t[3].X,this.LinePoint.push(r),(r={Start:new H,End:new H}).Start.Y=t[3].Y,r.Start.X=t[3].X,r.End.Y=t[4].Y,r.End.X=t[4].X,this.LinePoint.push(r)}}}function Ye(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureParallelLines",this.IsPointIn=this.IsPointIn_XYValue_Line,this.PointCount=3,this.LastPoint,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.AreaColor=He.ColorToRGBA(this.LineColor,.3);var e=t.slice(0);for(var i in this.CalculateLines(e),this.ClipFrame(),this.LinePoint){var a=this.LinePoint[i];this.DrawLine(a.Start,a.End)}this.DrawArea(),this.DrawPoint(e),this.Canvas.restore()}}},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.DrawArea=function(){2==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.lineTo(this.LinePoint[0].End.X,this.LinePoint[0].End.Y),this.Canvas.lineTo(this.LinePoint[1].End.X,this.LinePoint[1].End.Y),this.Canvas.lineTo(this.LinePoint[1].Start.X,this.LinePoint[1].Start.Y),this.Canvas.closePath(),this.Canvas.fill())},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new H;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2==t.length){var i=this.CalculateExtendLinePoint(t[0],t[1]);this.LinePoint.push(i)}else if(3==t.length){i=this.CalculateExtendLinePoint(t[0],t[1]);this.LinePoint.push(i);var a=t[2].X-t[1].X,n=t[2].Y-t[1].Y,r=new H,o=new H;r.X=t[0].X+a,r.Y=t[0].Y+n,o.X=t[1].X+a,o.Y=t[1].Y+n,i=this.CalculateExtendLinePoint(r,o),this.LinePoint.push(i)}}}function We(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawFlatTop",this.IsPointIn=this.IsPointIn_XYValue_Line,this.PointCount=3,this.LastPoint,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.AreaColor=He.ColorToRGBA(this.LineColor,.3);var e=t.slice(0);this.CalculateLines(e),this.ClipFrame();for(var i=0;i<this.LinePoint.length;++i){var a=this.LinePoint[i];this.DrawLine(a.Start,a.End)}this.DrawArea(),this.DrawPoint(e),this.Canvas.restore()}}},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.DrawArea=function(){2==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.lineTo(this.LinePoint[0].End.X,this.LinePoint[0].End.Y),this.Canvas.lineTo(this.LinePoint[1].End.X,this.LinePoint[1].End.Y),this.Canvas.lineTo(this.LinePoint[1].Start.X,this.LinePoint[1].Start.Y),this.Canvas.closePath(),this.Canvas.fill())},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=t[1],i=new H;i.X=e.X,i.Y=this.LastPoint.Y,t[2]=i}if(2==t.length)this.LinePoint.push({Start:t[0],End:t[1]});else if(3==t.length){this.LinePoint.push({Start:t[0],End:t[1]});var a=t[2];a.X=t[1].X;var n={X:t[0].X,Y:a.Y},r={X:t[1].X,Y:a.Y};this.LinePoint.push({Start:n,End:r})}}}function Xe(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureIconFont",this.PointCount=1,this.Text="",this.FontOption={Family:"iconfont",Size:24},this.TextRect=null,this.SettingMenu,this.Angle=0,this.SetOption=function(t){t&&(t.LineColor&&(this.LineColor=t.LineColor),t.FontOption&&t.FontOption.Size>0&&(this.FontOption.Size=t.FontOption.Size),Ce.IsNumber(t.Angle)&&(this.Angle=t.Angle))},this.Draw=function(){if(this.TextRect=null,!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&1==t.length){var e=this.GetTextFont();if(e){this.ClipFrame();var i=this.Frame.IsHScreen,a=L();this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.font=e,i?(this.Canvas.translate(t[0].X,t[0].Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.Text,0,0)):0!=this.Angle?(this.Canvas.translate(t[0].X,t[0].Y),this.Canvas.rotate(this.Angle*(Math.PI/180)),this.Canvas.fillText(this.Text,0,0)):this.Canvas.fillText(this.Text,t[0].X,t[0].Y);var n=this.Canvas.measureText(this.Text).width;this.TextRect={},this.TextRect.Left=t[0].X-n/2,this.TextRect.Top=t[0].Y-this.FontOption.Size*a,this.TextRect.Width=n,this.TextRect.Height=this.FontOption.Size*a,this.Canvas.restore()}}}},this.GetTextFont=function(){if(!this.FontOption||!this.FontOption.Family||this.FontOption.Size<=0)return null;var t="";return this.FontOption.Size>=0&&(t+=this.FontOption.Size*L()+"px "),t+=this.FontOption.Family},this.IsPointIn=function(t,e){if(!this.Frame||10!=this.Status)return-1;if(!this.Frame.Data)return-1;if(!this.TextRect)return-1;var i=0;return this.Option&&this.Option.Zoom>=1&&(i=this.Option.Zoom*L()),this.Canvas.beginPath(),this.Canvas.rect(this.TextRect.Left-i,this.TextRect.Top-i,this.TextRect.Width+2*i,this.TextRect.Height+2*i),this.Canvas.isPointInPath(t,e)?100:-1}}function Ue(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureGannFan",this.IsPointIn=this.IsPointIn_XYValue_Line,this.LinePoint=[],this.Font=16*L()+"px 微软雅黑",this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.AreaColor=He.ColorToRGBA(this.LineColor,.3),this.ClipFrame();var e=this.GetQuadrant(t[0],t[1]);if(this.SetLineWidth(),1===e||4===e){for(var i in this.CalculateLines(t[0],t[1],e),this.DrawArea(),this.LinePoint){var a=this.LinePoint[i];this.DrawLine(a.Start,a.End,a.IsDottedLine)}for(var i in this.LinePoint){(a=this.LinePoint[i]).Text&&a.PtEnd&&this.DrawTitle(a.PtEnd,a.Text)}}else this.DrawLine(t[0],t[1],!1);this.RestoreLineWidth(),this.Canvas.restore(),this.DrawPoint(t)}}},this.GetQuadrant=function(t,e){return t.X<e.X&&t.Y>e.Y?1:t.X<e.X&&t.Y>e.Y?2:t.X<e.X&&t.Y<e.Y?4:3},this.DrawLine=function(t,e,i){i&&this.Canvas.setLineDash([5,10]),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.stroke(),i&&this.Canvas.setLineDash([])},this.DrawTitle=function(t,e){this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.Canvas.font=this.Font,this.Canvas.fillText(e,t.X,t.Y)},this.DrawArea=function(){var t=null,e=null;for(var i in this.LinePoint){var a=this.LinePoint[i];"1:8"==a.Text?t=this.LinePoint[i]:"8:1"==a.Text&&(e=this.LinePoint[i])}t&&e&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.End.X,t.End.Y),this.Canvas.lineTo(t.Start.X,t.Start.Y),this.Canvas.lineTo(e.End.X,e.End.Y),this.Canvas.closePath(),this.Canvas.fill())},this.CalculateLines=function(t,e,i){if(!this.Frame)return!1;this.Frame.ChartBorder.GetTopEx(),this.Frame.ChartBorder.GetRight(),this.Frame.ChartBorder.GetBottom();var a=[.5,1/3,.25,.125,2/3],n=["1:2","1:3","1:4","1:8","2:3"],r=["2:1","3:1","4:1","8:1","3:2"],o=new H,s=new H;o.X=t.X,o.Y=t.Y,s.X=e.X,s.Y=e.Y;var l=Math.abs(t.X-e.X),h=Math.abs(t.Y-e.Y);if(1===i){var u={Start:o,End:(d=this.CalculateExtendLinePoint(t,e)).Start,IsDottedLine:!1,PtEnd:s,Text:"1:1"};for(var c in this.LinePoint.push(u),a){if(l>5){(u={Start:o,End:null,IsDottedLine:!1,PtEnd:new H,Text:n[c]}).PtEnd.Y=e.Y,u.PtEnd.X=t.X+l*a[c];var d=this.CalculateExtendLinePoint(u.Start,u.PtEnd);u.End=d.Start,this.LinePoint.push(u)}if(h>5){(u={Start:o,End:null,IsDottedLine:!1,PtEnd:new H,Text:r[c]}).PtEnd.Y=t.Y-h*a[c],u.PtEnd.X=e.X;d=this.CalculateExtendLinePoint(u.Start,u.PtEnd);u.End=d.Start,this.LinePoint.push(u)}}}else{if(4!=i)return!1;u={Start:o,End:(d=this.CalculateExtendLinePoint(t,e)).End,IsDottedLine:!1,PtEnd:s,Text:"1:1"};for(var c in this.LinePoint.push(u),a){if(l>5){(u={Start:o,End:null,IsDottedLine:!1,PtEnd:new H,Text:n[c]}).PtEnd.Y=e.Y,u.PtEnd.X=t.X+l*a[c];d=this.CalculateExtendLinePoint(u.Start,u.PtEnd);u.End=d.End,this.LinePoint.push(u)}if(h>5){(u={Start:o,End:null,IsDottedLine:!1,PtEnd:new H,Text:r[c]}).PtEnd.Y=t.Y+h*a[c],u.PtEnd.X=e.X;d=this.CalculateExtendLinePoint(u.Start,u.PtEnd);u.End=d.End,this.LinePoint.push(u)}}}return!0}}function ze(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureGoldenSectionLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.Font=14*L()+"px 微软雅黑",this.GetSectionData=function(){return[0,.236,.382,.5,.618,.8,1,1.236,1.382,1.5,1.618,1.8,2]},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint();if(t&&2==t.length){for(var e in this.AreaColor=He.ColorToRGBA(this.LineColor,.3),this.CalculateLines(t[0],t[1]),this.ClipFrame(),this.SetLineWidth(),this.LinePoint){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End,i.IsDottedLine)}for(var e in this.RestoreLineWidth(),this.LinePoint){(i=this.LinePoint[e]).Text&&this.DrawTitle(i.Start,i.Text)}this.DrawPoint(t),this.Canvas.restore()}}},this.CalculateHSCreenLines=function(t,e){for(var i=this.GetSectionData(),a=this.Frame.ChartBorder.GetTop(),n=this.Frame.ChartBorder.GetBottom(),r=t.X-e.X,o=0;o<i.length;++o){var s=r*i[o],l={Start:new H,End:new H};l.Start.X=t.X-s,l.Start.Y=a,l.End.X=t.X-s,l.End.Y=n;var h="";h=0==o?"Base ":(100*i[o]).toFixed(2)+"% ",h+=this.Frame.GetYData(l.Start.X).toFixed(2),l.Text=h,this.LinePoint.push(l)}},this.CalculateLines=function(t,e){if(this.Frame.IsHScreen)this.CalculateHSCreenLines(t,e);else for(var i=this.GetSectionData(),a=this.Frame.ChartBorder.GetLeft(),n=this.Frame.ChartBorder.GetRight(),r=t.Y-e.Y,o=0;o<i.length;++o){var s=r*i[o],l={Start:new H,End:new H};l.Start.Y=t.Y-s,l.Start.X=a,l.End.Y=t.Y-s,l.End.X=n;var h="";h=0==o?"Base ":(100*i[o]).toFixed(2)+"% ",h+=this.Frame.GetYData(l.Start.Y).toFixed(2),l.Text=h,this.LinePoint.push(l)}},this.DrawLine=function(t,e){this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.stroke()},this.DrawTitle=function(t,e){this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.Canvas.font=this.Font,this.Frame.IsHScreen?(this.Canvas.save(),this.Canvas.translate(t.X,t.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(e,0,0),this.Canvas.restore()):this.Canvas.fillText(e,t.X,t.Y)}}function Ke(t){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawLinearRegression",this.PointCount=2,this.IsPointIn=this.IsPointIn_XYValue_Line,this.ChartBorder,this.Lines=[],this.IsShowMaxMinLine=!1,this.IsShowExtendLine=!1,this.ExtendLineDash=[5,5],this.MaxPoint,this.MinPoint,t&&(1==t.IsShowMaxMinLine&&(this.IsShowMaxMinLine=!0),1==t.IsShowExtendLine&&(this.IsShowExtendLine=!0)),this.ImportStorageData=function(t){1==t.IsShowMaxMinLine&&(this.IsShowMaxMinLine=!0),1==t.IsShowExtendLine&&(this.IsShowExtendLine=!0),t.Lines&&(this.Lines=t.Lines),t.MaxPoint&&t.MinPoint&&(this.MaxPoint=t.MaxPoint,this.MinPoint=t.MinPoint)},this.Super_ExportStorageData=this.ExportStorageData,this.ExportStorageData=function(){var t;return this.Super_ExportStorageData&&((t=this.Super_ExportStorageData()).IsShowMaxMinLine=this.IsShowMaxMinLine,t.IsShowExtendLine=this.IsShowExtendLine,t.Lines=this.Lines,this.IsShowMaxMinLine&&(t.MaxPoint=this.MaxPoint,t.MinPoint=this.MinPoint)),t},this.PointToValue_Backup=this.PointToValue,this.PointToValue=function(){this.Point[0]={X:this.Lines[0].X,Y:this.Lines[0].Y},this.Point[1]={X:this.Lines[this.Lines.length-1].X,Y:this.Lines[this.Lines.length-1].Y},this.PointToValue_Backup()},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.ClipFrame(),this.ChartBorder=this.Frame.ChartBorder,this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor;var e=t[0],i=t[1];if(10==this.Status)this.DrawLinearLines();else{var a=this.ChartBorder.GetTopEx(),n=this.ChartBorder.GetBottomEx(),r=this.PointToKLine([e,i]),o=this.Calculate(r);this.Lines=o.Points,this.MaxPoint=o.Max,this.MinPoint=o.Min,this.DrawLinearLines(),this.Canvas.beginPath(),this.Canvas.moveTo(e.X,a),this.Canvas.lineTo(e.X,n),this.Canvas.moveTo(i.X,a),this.Canvas.lineTo(i.X,n),this.Canvas.stroke()}this.RestoreLineWidth();var s={Start:e,End:i};this.LinePoint.push(s),this.DrawPoint(t),this.Canvas.restore()}else 10==this.Status&&(this.ClipFrame(),this.ChartBorder=this.Frame.ChartBorder,this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.DrawLinearLines(),this.RestoreLineWidth(),this.Canvas.restore())}},this.Calculate=function(t){var e=t[0],i=t[1];e.XValue>i.XValue&&(e=t[1],i=t[0]);var a,n,r,o,s=i.XValue-e.XValue+1,l=this.Frame.Data.Data,h=i.XValue,u=0,c=0,d=0,f=0;for(r=0,D=s;r<s&&r<=h;++r,--D)u+=D,c+=l[h-r].Close;for(u/=s,c/=s,r=0,D=s;r<s&&r<=h;++r,--D)d+=(D-u)*(l[h-r].Close-c),f+=(D-u)*(D-u);a=c-u*(n=d/f);var p=[],m=null,v=null;for(r=0,o=s;r<s&&r<=h;++r,--o){var g=i.XIndex-r,C=i.XValue-r,D=this.Frame.GetXFromIndex(g),y=n*o+a,x=this.Frame.GetYFromData(y,!1),S={X:D,Y:x,XValue:C,YValue:y};p.push(S),(null==m||m.High<l[C].High)&&(m={X:D,Y:x,XValue:C,YValue:y,High:l[C].High}),(null==v||v.Low>l[C].Low)&&(v={X:D,Y:x,XValue:C,YValue:y,Low:l[C].Low})}return{Points:p,Slope:n,Const:a,Max:m,Min:v}},this.DrawLinearLines=function(){if(!this.Frame)return null;var t=this.Frame.Data;if(!t)return null;var e=this.Frame.XPointCount,i=t.DataOffset,a=this.Frame.IsHScreen,n=[];for(var r in this.Lines){var o=(l=this.Lines[r]).XValue-i;if(!(o<0||o>=e)){var s={};a||(s.X=this.Frame.GetXFromIndex(o,!1),s.Y=this.Frame.GetYFromData(l.YValue,!1),s.YValue=l.YValue),n.push(s)}}if(n.length>1){for(var r in n){var l=n[r];0==r?(this.Canvas.beginPath(),this.Canvas.moveTo(l.X,l.Y)):(this.Canvas.lineTo(l.X,l.Y),r==n.length-1&&this.Canvas.stroke())}this.DrawExtendLine(n)}if(this.IsShowMaxMinLine&&n.length>1&&this.MaxPoint&&this.MinPoint){var h=this.MaxPoint.High-this.MaxPoint.YValue;for(var r in n){(l=n[r]).Y=this.Frame.GetYFromData(l.YValue+h,!1),0==r?(this.Canvas.beginPath(),this.Canvas.moveTo(l.X,l.Y)):(this.Canvas.lineTo(l.X,l.Y),r==n.length-1&&this.Canvas.stroke())}this.DrawExtendLine(n);var u=this.MinPoint.Low-this.MinPoint.YValue;for(var r in n){(l=n[r]).Y=this.Frame.GetYFromData(l.YValue+u,!1),0==r?(this.Canvas.beginPath(),this.Canvas.moveTo(l.X,l.Y)):(this.Canvas.lineTo(l.X,l.Y),r==n.length-1&&this.Canvas.stroke())}this.DrawExtendLine(n)}},this.DrawExtendLine=function(t){if(this.IsShowExtendLine){var e,i=t[0],a=t[t.length-1];e=a.X>i.X?[i,a]:[a,i];var n=this.CalculateExtendLineEndPoint(e);this.Canvas.beginPath(),this.Canvas.moveTo(a.X,a.Y),this.Canvas.lineTo(n.X,n.Y),this.Canvas.setLineDash(this.ExtendLineDash),this.Canvas.stroke(),this.Canvas.setLineDash([])}}}function $e(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawTwoPointDemo",this.PointCount=2,this.Font=16*L()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.IsHScreen=!1,this.PointInfo=[],this.PointToValue_Backup=this.PointToValue,this.PointToValue=function(){this.OnFinish(),this.PointToValue_Backup()},this.OnFinish=function(){for(var t in this.PointInfo){var e=this.PointInfo[t];e&&e.Point&&Ce.IsNumber(e.Point.Y2)&&(this.Point[t].Y=this.PointInfo[t].Point.Y2)}},this.Draw=function(){if(this.LinePoint=[],this.PointInfo=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.IsHScreen=this.Frame.IsHScreen,this.ClipFrame(),this.SetLineWidth();t[0],t[1];if(this.CalculatePointInfo(t),10==this.Status)this.DrawEx();else for(var e=1;e<t.length;++e)this.DrawLine(t[e-1],t[e]);this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}}},this.CalculatePointInfo=function(t){if(this.Frame&&this.Frame.Data){var e=this.PointToKLine(t);if(3==this.PointCount&&2==this.PointStatus&&this.LastPoint)(r=new H).X=this.LastPoint.X,r.Y=this.LastPoint.Y,t[2]=r;var i=this.Frame.Data;for(var a in e){var n=e[a],r=t[a],o={KItem:i.Data[n.XValue],Data:n,Point:{X:r.X,Y:r.Y}};this.PointInfo.push(o)}this.CalculateYPoint(),g.Chart.Log("[ChartDrawTwoPointDemo::CalculateLines] kPoint",this.PointInfo)}},this.CalculateYPoint=function(){var t=this.PointInfo[0],e=this.Frame.GetYFromData(t.KItem.Low,!1);t.Point.Y2=e;var i=this.PointInfo[1],a=this.Frame.GetYFromData(i.KItem.High,!1);i.Point.Y2=a},this.DrawEx=function(){var t=this.PointInfo[0],e=this.PointInfo[1],i=(this.Frame.ChartBorder.GetRight(),{X:t.Point.X,Y:t.Point.Y2}),a={X:e.Point.X,Y:e.Point.Y2};this.DrawLine(i,a),this.LinePoint.push({Start:i,End:a}),this.Canvas.setLineDash([5,5]);var n=.09*e.KItem.YClose+e.KItem.High,r=this.Frame.GetYFromData(n,!1);this.DrawLine({X:this.ToFixedPoint(a.X),Y:a.Y},{X:this.ToFixedPoint(a.X),Y:r}),this.Canvas.textAlign="right",this.Canvas.textBaseline="center",this.Canvas.fillStyle="rgb(33,45,100)";for(var o=3;o>0;--o){var s=e.KItem.YClose*(.03*o)+e.KItem.High;r=this.Frame.GetYFromData(s,!1);r=this.ToFixedPoint(r),this.DrawLine({X:a.X,Y:r},{X:a.X+100,Y:r}),this.Canvas.fillText(s.toFixed(2),a.X-5,r)}this.Canvas.setLineDash([])},this.ToFixedPoint=function(t,e){return Ce.IsNumber(e)||(e=this.LineWidth),B(e,t)}}function je(){this.newMethod=$e,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawThreePointDemo",this.PointCount=3,this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.CalculateYPoint=function(){var t;for(var e in this.PointInfo){var i=this.PointInfo[e];t=0==e||2==e?this.Frame.GetYFromData(i.KItem.Low,!1):this.Frame.GetYFromData(i.KItem.High,!1),i.Point.Y2=t}},this.DrawEx=function(){var t=this.PointInfo[0],e=this.PointInfo[1],i=this.PointInfo[2],a=this.Frame.ChartBorder,n=(a.GetRight(),a.GetLeft(),{X:t.Point.X,Y:t.Point.Y2}),r={X:e.Point.X,Y:e.Point.Y2},o={X:i.Point.X,Y:i.Point.Y2};this.DrawLine(n,r),this.DrawLine(r,o),this.LinePoint.push({Start:n,End:r}),this.LinePoint.push({Start:r,End:o}),this.Canvas.setLineDash([5,5]);var s=.09*i.KItem.YClose+i.KItem.High,l=this.Frame.GetYFromData(s,!1);this.DrawLine({X:this.ToFixedPoint(o.X),Y:o.Y},{X:this.ToFixedPoint(o.X),Y:l}),this.Canvas.textAlign="right",this.Canvas.textBaseline="center",this.Canvas.fillStyle="rgb(33,45,100)";for(var h=3;h>0;--h){var u=i.KItem.YClose*(.03*h)+i.KItem.High;l=this.Frame.GetYFromData(u,!1);l=this.ToFixedPoint(l),this.DrawLine({X:o.X,Y:l},{X:o.X+100,Y:l}),this.Canvas.fillText(u.toFixed(2),o.X-5,l)}this.Canvas.setLineDash([])}}function qe(){this.DrawData=new p.default,this.StorageKey,this.GetEventCallback,this.Load=function(t){if(t){this.StorageKey=t;var e=localStorage[this.StorageKey];if(g.Chart.Log("[ChartDrawStorage::Save] Load to localStorage, key="+this.StorageKey+", cache="+e),e&&"string"==typeof e){var i=JSON.parse(e);for(var a in i){var n=i[a],r=new p.default;for(var o in n.Value){var s=n.Value[o];r.set(s.Key,s.Value)}this.DrawData.set(n.Key,r)}}}},this.Save=function(){if(this.StorageKey){var t=[],e=!0,i=!1,a=void 0;try{for(var n,r=(0,d.default)(this.DrawData);!(e=(n=r.next()).done);e=!0){var o=n.value,s=o[0],l=o[1],h={Key:s,Value:[]},u=!0,c=!1,p=void 0;try{for(var m,v=(0,d.default)(l);!(u=(m=v.next()).done);u=!0){var C=m.value;C[1]&&!1===C[1].EnableSave||h.Value.push({Key:C[0],Value:C[1]})}}catch(t){c=!0,p=t}finally{try{!u&&v.return&&v.return()}finally{if(c)throw p}}Ce.IsNonEmptyArray(h.Value)&&t.push(h)}}catch(t){i=!0,a=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw a}}g.Chart.Log("[ChartDrawStorage::Save] save to localStorage, key="+this.StorageKey);var D=(0,f.default)(t);localStorage[this.StorageKey]=D}},this.GetItemKey=function(t){return t.Symbol+"-"+t.Period},this.SaveDrawData=function(t){var e=this.GetItemKey(t),i=t.ExportStorageData();if(i){if(this.DrawData.has(e))g.Chart.Log("[ChartDrawStorage::SaveDrawData] Upate: key, drawPicture, data",e,t,i),this.DrawData.get(e).set(i.Guid,i);else{g.Chart.Log("[ChartDrawStorage::SaveDrawData] Insert: key, drawPicture, data",e,t,i);var a=new p.default;a.set(i.Guid,i),this.DrawData.set(e,a)}g.Chart.Log("[ChartDrawStorage::SaveDrawData] All draw data： ",this.DrawData),this.Save()}},this.DeleteDrawData=function(t){var e=this.GetItemKey(t);if(this.DrawData.has(e)){var i=this.DrawData.get(e);i.has(t.Guid)&&(i.delete(t.Guid),this.Save())}},this.Clear=function(){this.DrawData=new p.default,this.Save()},this.GetDrawData=function(t){var e=[],i=this.GetItemKey(t);if(!this.DrawData.has(i))return e;var a=this.DrawData.get(i),n=!0,r=!1,o=void 0;try{for(var s,l=(0,d.default)(a);!(n=(s=l.next()).done);n=!0){var h=s.value;e.push(h[1])}}catch(t){r=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return e}}function Je(){this.Data=[[1e-6,2e-6,1e-6,1e-7],[2e-6,4e-6,2e-6,2e-7],[4e-6,5e-6,4e-6,1e-7],[5e-6,1e-5,5e-6,5e-7],[1e-5,2e-5,1e-5,1e-6],[2e-5,4e-5,2e-5,2e-6],[4e-5,5e-5,4e-5,1e-6],[5e-5,1e-4,5e-5,5e-6],[1e-4,2e-4,1e-4,1e-5],[2e-4,4e-4,2e-4,2e-5],[4e-4,5e-4,4e-4,1e-5],[5e-4,.001,5e-4,5e-5],[.001,.002,.001,1e-4],[.002,.004,.002,2e-4],[.004,.005,.004,1e-4],[.005,.01,.005,5e-4],[.01,.02,.01,.001],[.02,.04,.02,.002],[.04,.05,.04,.001],[.05,.1,.05,.005],[.1,.2,.1,.01],[.2,.4,.2,.02],[.4,.5,.4,.01],[.5,1,.5,.05],[1,2,.5,.05],[2,4,.5,.05],[4,5,.5,.05],[5,10,.5,.05],[10,20,10,2],[20,40,20,5],[40,50,40,2],[50,100,50,10],[100,200,100,10],[200,400,200,20],[400,500,400,10],[500,1e3,500,50],[1e3,2e3,1e3,50],[2e3,4e3,2e3,50],[4e3,5e3,4e3,50],[5e3,1e4,5e3,100],[1e4,2e4,1e4,1e3],[2e4,4e4,1e4,1e3],[4e4,5e4,1e4,1e3],[5e4,1e5,1e4,1e3],[1e5,2e5,1e5,1e4],[2e5,4e5,1e5,1e4],[4e5,5e5,1e5,1e4],[5e5,1e6,1e5,1e4],[1e6,2e6,1e6,1e5],[2e6,4e6,1e6,1e5],[4e6,5e6,1e6,1e5],[5e6,1e7,1e6,1e5],[1e7,2e7,1e7,1e6],[2e7,4e7,1e7,1e6],[4e7,5e7,1e7,1e6],[5e7,1e8,1e7,1e6],[1e8,2e8,1e8,1e7],[2e8,4e8,1e8,1e7],[4e8,5e8,1e8,1e7],[5e8,1e9,1e8,1e7],[1e9,2e9,1e9,1e8],[2e9,4e9,1e9,1e8],[4e9,5e9,1e9,1e8],[5e9,1e10,1e9,1e8]],this.Find=function(t){for(var e in this.Data){var i=this.Data[e];if(t>i[0]&&t<=i[1]){var a={};return a.FixInterval=i[2],a.Increase=i[3],a}}return null}}function Ze(){this.TooltipBGColor="rgb(255, 255, 255)",this.TooltipAlpha=.92,this.SelectRectBGColor="rgba(1,130,212,0.06)",this.UpBarColor="rgb(238,21,21)",this.DownBarColor="rgb(25,158,0)",this.UnchagneBarColor="rgb(0,0,0)",this.EmptyBarBGColor="rgb(255,255,255)",this.Minute={},this.Minute.VolBarColor=null,this.Minute.VolTitleColor="rgb(105,105,105)",this.Minute.PriceColor="rgb(50,171,205)",this.Minute.PriceLineWidth=1*L(),this.Minute.AreaPriceColor="rgba(50,171,205,0.1)",this.Minute.AvPriceColor="rgb(238,127,9)",this.Minute.PositionColor="rgb(218,165,32)",this.Minute.FrameSplitTextColor=null,this.Minute.Before={BGColor:"rgba(240,240,240,0.7)",LineColor:"rgb(50,171,205)",VolColor:["rgb(192,192,0)"],AvPriceColor:"rgb(190,190,190)",Point:{Color:"rgb(65,105,225)",Radius:2*L()},CloseIcon:{Family:"iconfont",Text:"",Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Size:12*L()}},this.Minute.After={BGColor:"rgba(240,240,240,0.7)",LineColor:"rgb(50,171,205)",VolColor:["rgb(192,192,0)"],AvPriceColor:"rgb(190,190,190)",Point:{Color:"rgb(65,105,225)",Radius:2*L()}},this.DefaultTextColor="rgb(43,54,69)",this.DefaultTextFont=14*L()+"px 微软雅黑",this.TitleFont=13*L()+"px 微软雅黑",this.IndexTitleBGColor="rgb(217,219,220)",this.IndexTitleColor="rgb(43,54,69)",this.IndexTitleSelectedColor="rgb(65,105,225)",this.OverlayIndexTitleBGColor="rgba(255,255,255,0.7)",this.Title={TradeIndexColor:"rgb(105,105,105)",ColorIndexColor:"rgb(112,128,144)",VolColor:"rgb(43,54,69)",AmountColor:"rgb(43,54,69)",DateTimeColor:"rgb(43,54,69)",SettingColor:"rgb(43,54,69)",NameColor:"rgb(43,54,69)",TurnoverRateColor:"rgb(43,54,69)",PositionColor:"rgb(43,54,69)"},this.UpTextColor="rgb(238,21,21)",this.DownTextColor="rgb(25,158,0)",this.UnchagneTextColor="rgb(0,0,0)",this.CloseLineColor="rgb(0,191,255)",this.CloseLineAreaColor=["rgba(0,191,255,0.8)","rgba(0,191,255,0.2)"],this.CloseLineWidth=2,this.FrameBorderPen="rgb(225,236,242)",this.MultiDayBorderPen="rgb(225,236,242)",this.FrameSplitPen="rgb(225,236,242)",this.FrameDotSplitPen="rgb(105,105,105)",this.FrameYLineDash=null,this.FrameXLineDash=null,this.FrameSplitTextColor="rgb(117,125,129)",this.FrameSplitTextFont=14*L()+"px 微软雅黑",this.FrameTitleBGColor="rgb(246,251,253)",this.Frame={XBottomOffset:1*L(),YTopOffset:2*L(),YTextPadding:[2,2]},this.ToolbarButtonStyle=0,this.FrameLogo={TextColor:"rgb(178,34,34)",Font:"bold "+16*L()+"px 微软雅黑",Text:"*仅学习使用*"},this.Frame.PercentageText={PriceColor:"rgb(117,125,129)",PercentageColor:"rgb(117,125,129)",SplitColor:"rgb(117,125,129)",Font:14*L()+"px 微软雅黑"},this.FrameLogarithmic={OpenPriceFont:"bold "+14*L()+"px 微软雅黑",MinInterval:45*L()},this.FrameSplitIncrease={Increase:.1},this.FrameSplitAverage={Count:4},this.FrameGoldenSection={Golden:[0,.191,.382,.5,.618,.809,1]},this.FrameLatestPrice={TextColor:"rgb(255,255,255)",UpBarColor:"rgb(238,21,21)",DownBarColor:"rgb(25,158,0)",UnchagneBarColor:"rgb(0,0,0)",BGAlpha:.6,OverlayTextColor:"rgb(255,255,255)"},this.FrameMargin=4,this.FrameLeftMargin=2,this.FrameRightMargin=2,this.DragSubFrameBorder={TopBorderHeight:6*L(),MinFrameHeight:50*L()},this.OverlayFrame={BolderPen:"rgb(190,190,190)",TitleColor:"rgb(105,105,105)",TitleFont:11*L()+"px arial"},this.CorssCursorBGColor="rgb(43,54,69)",this.CorssCursorTextColor="rgb(255,255,255)",this.CorssCursorTextFont=14*L()+"px 微软雅黑",this.CorssCursorHPenColor="rgb(130,130,130)",this.CorssCursorVPenColor="rgb(130,130,130)",this.CorssCursorXRangeBGColor="rgba(100,149,237,0.3)",this.CorssCursor={RightButton:{BGColor:"rgb(43,54,69)",PenColor:"rgb(255,255,255)",Icon:{Text:"",Color:"rgb(255,255,255)",Family:"iconfont",Size:18}}},this.LockBGColor="rgb(220, 220, 220)",this.LockTextColor="rgb(210, 34, 34)",this.Domain="https://opensource.zealink.com",this.CacheDomain="https://opensourcecache.zealink.com",this.PyIndexDomain="https://py.zealink.com",this.KLine={MaxMin:{Font:12*L()+"px 微软雅黑",Color:"rgb(43,54,69)",RightArrow:"→",LeftArrow:"←",HighYOffset:0,LowYOffset:0},Info:{Investor:{ApiUrl:"/API/NewsInteract",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#1c65db"}},Announcement:{ApiUrl:"/API/ReportList",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#f5a521"},IconFont2:{Family:"iconfont",Text:"",HScreenText:"",Color:"#ed7520"}},Pforecast:{ApiUrl:"/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#986cad"}},Research:{ApiUrl:"/API/InvestorRelationsList",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#19b1b7"}},BlockTrading:{ApiUrl:"/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#f39f7c"}},TradeDetail:{ApiUrl:"/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#b22626"}},IconLibrary:{Family:"iconfont",Icon:[{Text:"",HScreenText:"",Color:"#f39f7c"},{Text:"",HScreenText:"",Color:"#19b1b7"},{Text:"",HScreenText:"",Color:"#b22626"},{Text:"",HScreenText:"",Color:"#ed7520"}]}},NumIcon:{Color:"rgb(251,80,80)",Family:"iconfont",Text:["","","","","","","","","","","","","","","","","","","","",""]},TradeIcon:{Family:"iconfont",Buy:{Color:"rgb(255,15,4)",Text:"",HScreenText:""},Sell:{Color:"rgb(64,122,22)",Text:"",HScreenText:""}}},this.OrderFlow={UpColor:{BG:"rgb(223,191,180)",Border:"rgb(196,84,86)"},DownColor:{BG:"rgb(176,212,184)",Border:"rgb(66,94,74)"},UnchagneColor:{BG:"rgb(216,221,177)",Border:"rgb(209,172,129)"},Text:{Color:"rgb(92,96,89)",Family:"Arial",FontMaxSize:18,MaxValue:"8888"},Line:{UpDownColor:"rgb(0,0,0)",MiddleColor:"rgb(211,211,211)"},AlwaysShowOrderText:!0,POCGBColor:"rgba(178,34,34,0.8)",AskBarColor:"rgb(14,209,69)",BidBarColor:"rgb(236,28,36)"},this.OrderFlow_Style2={BarWidth:10,UpColor:"rgb(241,55,63)",DownColor:"rgb(75,105,150)",UnchagneColor:"rgb(79,79,79)"},this.OrderFlow_Style3={BarWidth:20,UpColor:"rgb(241,55,63)",DownColor:"rgb(75,105,150)",UnchagneColor:"rgb(79,79,79)"},this.Index={},this.Index.LineColor=["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"],this.OverlaySymbol={Random:0},this.OverlaySymbol.Color=["rgb(38,198,218)","rgb(103,58,183)","rgb(0,191,165)","rgb(130,177,255)"],this.Index.StockHistoryDayApiUrl="https://opensource.zealink.com/API/StockHistoryDay",this.Index.MarketLongShortApiUrl="https://opensource.zealink.com/API/FactorTiming",this.Index.MarketAttentionApiUrl="https://opensource.zealink.com/API/MarketAttention",this.Index.MarketHeatApiUrl="https://opensource.zealink.com/API/MarketHeat",this.Index.CustomIndexHeatApiUrl="https://opensource.zealink.com/API/QuadrantCalculate",this.Index.NotSupport={Font:"14px 微软雅黑",TextColor:"rgb(52,52,52)"},this.Buttons={CloseOverlayIndex:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:12*L(),MerginLeft:3},CloseWindow:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:13*L(),MerginLeft:4},ChangeIndex:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:13*L(),MerginLeft:4},OverlayIndex:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:13*L(),MerginLeft:4},ModifyIndexParam:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:13*L(),MerginLeft:4},MaxMinWindow:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:13*L(),MerginLeft:4},TitleWindow:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:13*L(),MerginLeft:4},Tooltip:{Font:14*L()+"px 微软雅黑",Color:"rgb(255,255,255)",ColorBG:"rgb(42,46,57)",ColorBorder:"rgb(0,0,0)"}},this.DrawPicture={LineColor:["rgb(30,144,255)"],PointColor:["rgb(128,128,128)","rgb(192,192,192)"],XYCoordinate:{BGColor:"rgba(203,216,255,0.5)",TextBGColor:"rgb(52,101,255)",TextColor:"rgb(255,255,255)",Font:14*L()+"px 微软雅黑"},PointType:0,IsShowPoint:!1},this.ChartOX={Family:"iconfont",Up:{Color:"rgb(178,34,34)",Text:""},Down:{Color:"rgb(0,206,209)",Text:""},SquareLineColor:"rgb(119,136,153)"},this.KLineTrain={Font:"bold 14px arial",LastDataIcon:{Color:"rgb(0,0,205)",Text:"⬇"},BuyIcon:{Color:"rgb(0,205,102 )",Text:"B"},SellIcon:{Color:"rgb(255,127,36 )",Text:"S"},IconFont:{Family:"iconfont",Buy:{Text:"",HScreenText:"",Color:"rgb(255,140,0)"},Sell:{Text:"",HScreenText:"",Color:"rgb(6,79,18)"},Last:{Text:"",HScreenText:"",Color:"rgb(55,0,255)"}}},this.ChartKLineTable={TextFont:{Family:"Arial",FontMaxSize:25},ItemMergin:{Left:5,Right:5,Top:4,Bottom:2}},this.TooltipPaint={BGColor:"rgba(250,250,250,0.8)",BorderColor:"rgb(120,120,120)",TitleColor:"rgb(120,120,120)",TitleFont:13*L()+"px 微软雅黑",DateTimeColor:"rgb(210,210,210)",VolColor:"rgb(210,210,210)",AmountColor:"rgb(210,210,210)"},this.PCTooltipPaint={BGColor:"rgba(250,250,250)",BorderColor:"rgb(120,120,120)",TitleColor:"rgb(60,60,60)",TitleFont:12*L()+"px 微软雅黑",DateTimeColor:"rgb(60,60,60)",VolColor:"rgb(60,60,60)",AmountColor:"rgb(60,60,60)"},this.PCTooltip={LineHeight:25},this.Barrage={Font:16*L()+"px 微软雅黑",Height:20,Color:"RGB(109,109,109)"},this.MinuteInfo={TextColor:"rgb(84,143,255)",Font:14*L()+"px 微软雅黑",PointColor:"rgb(38,113,254)",LineColor:"rgb(120,167,255)",TextBGColor:"rgba(255,255,255,0.8)"},this.ChartDrawRuler={TitleColor:null},this.ChartDrawWaveRuler={RulerWidth:10,RulerLineWidth:1,MaxScaleRuler:2,Font:14*L()+"px 微软雅黑",ScaleRuler:[{Value:0,Text:"0.0%"},{Value:.382,Text:"38.2%"},{Value:.618,Text:"61.8%"},{Value:1,Text:"100%"},{Value:1.618,Text:"161.8%"},{Value:2,Text:"200%"}]},this.ChartDrawWaveRuler2Point={RulerWidth:20,RulerLineWidth:1,MaxScaleRuler:2,Font:14*L()+"px 微软雅黑",ScaleRuler:[{Value:0,Text:"base"},{Value:.618,Text:"61.8%"},{Value:1,Text:"100%"},{Value:1.618,Text:"161.8%"}]},this.ChartDrawVolProfile={BGColor:"rgba(244,250,254,0.8)",BorderColor:"rgba(255,255,255)",VolLineColor:"rgb(232,5,9)",UpVolColor:"rgba(103,179,238, 0.24)",DownVolColor:"rgba(237,208,105,0.24)",AreaUpColor:"rgb(103,179,238,0.7)",AreaDonwColor:"rgba(237,208,105,0.7)",Text:{Color:"rgb(0,0,0)",Family:"Arial",FontMaxSize:18,FontMinSize:6}},this.ChartVolProfileVisibleRange={VolLineColor:"rgb(232,5,9)",VolLineFont:14*L()+"px 微软雅黑",VolLineTextColor:"rgb(255,255,255)",UpVolColor:"rgba(103,179,238, 0.24)",DownVolColor:"rgba(237,208,105,0.24)",AreaUpColor:"rgb(103,179,238,0.7)",AreaDonwColor:"rgba(237,208,105,0.7)",Text:{Color:"rgb(0,0,0)",Family:"Arial",FontMaxSize:18,FontMinSize:6},VAHLineColor:"rgb(0,0,255)",VAHTextColor:"rgb(255,255,255)",VALLineColor:"rgb(0,0,255)",VALTextColor:"rgb(255,255,255)",VAFont:14*L()+"px 微软雅黑"},this.DRAWICON={Icon:{MaxSize:24,MinSize:12,YOffset:0,Zoom:{Type:1,Value:1}},Text:{MaxSize:50,MinSize:12,YOffset:0,Zoom:{Type:1,Value:1},FontName:"Arial"}},this.DRAWTEXT={MaxSize:30,MinSize:20,YOffset:0,Zoom:{Type:1,Value:1},FontName:"微软雅黑"},this.DRAWNUMBER={MaxSize:30,MinSize:20,YOffset:0,Zoom:{Type:1,Value:1},FontName:"微软雅黑"},this.DRAWABOVE={YOffset:0},this.DRAWTEXT_FIX={Font:14*L()+"px 微软雅黑"},this.DRAWNUMBER_FIX={Font:14*L()+"px 微软雅黑"},this.DOTLINE={LineDash:[3,5]},this.DRAWSL={PixelWidth:15},this.CIRCLEDOT={Radius:1.3*L()},this.POINTDOT={Radius:2*L()},this.DepthMapPaint={LineColor:"rgba(255,185,15)",AreaColor:["rgba(255,185,15,0.8)","rgba(255,185,15,0.4)"],TextColor:"rgba(255,255,255)",TextBGColor:"rgb(43,54,69)"},this.StockChip={InfoColor:"rgb(0,0,0)",DayInfoColor:"rgb(255,255,255)",DefaultButton:{Color:"rgb(128,128,128)",MoveOnColor:"rgb(30,144,255)",SelectedColor:"rgb(255,0,0)",Family:"iconfont",Text:"",Size:13*L(),MerginLeft:4},LongButton:{Color:"rgb(128,128,128)",MoveOnColor:"rgb(30,144,255)",SelectedColor:"rgb(255,128,0)",Family:"iconfont",Text:"",Size:13*L(),MerginLeft:4},RecentButton:{Color:"rgb(128,128,128)",MoveOnColor:"rgb(30,144,255)",SelectedColor:"rgb(0,0,204)",Family:"iconfont",Text:"",Size:13*L(),MerginLeft:4}},this.DepthChart={BidColor:{Line:"rgb(82,176,123)",Area:"rgba(82,176,123,0.8)"},AskColor:{Line:"rgb(207,76,89)",Area:"rgba(207,76,89, 0.8)"},LineWidth:4},this.DepthCorss={BidColor:{Line:"rgb(82,176,123)"},AskColor:{Line:"rgb(207,76,89)"},LineWidth:2,LineDash:[3,3],Tooltip:{BGColor:"rgba(236,240,245, 0.8)",TextColor:"rgb(130,140,151)",Border:{Top:5,Left:20,Bottom:5,Center:5},Font:14*L()+"px 微软雅黑",LineHeight:16}},this.RectSelect={LineColor:"rgb(64,64,64)",LineWidth:1*L(),LineDotted:[3,3],AreaColor:"rgba(234,234,234,0.5)",SubAreaColor:"rgba(105,105,105,0.5)",RangeTextColor:"rgb(248,248,255)",RangeTextFont:14*L()+"px 微软雅黑",RangeTextBGColor:"rgb(43,54,69)",RangeTextSubColor:"rgb(255,255,255)",RangeTextSubFont:12*L()+"px 微软雅黑",RangeTextSubBGColor:"rgb(54,54,54)"},this.SelectedChart={LineWidth:1,LineColor:"rgb(55,100,100)",Radius:4,MinSpace:200,BGColor:"rgb(255,255,255)"},this.DragMovePaint={TextColor:"rgb(0,0,0)",Font:14*L()+"px 微软雅黑"},this.DealList={BorderColor:"rgb(192,192,192)",Header:{Color:"RGB(60,60,60)",Mergin:{Left:5,Right:5,Top:4,Bottom:2},Font:{Size:12,Name:"微软雅黑"}},Row:{Mergin:{Top:2,Bottom:2},Font:{Size:15,Name:"微软雅黑"},BarMergin:{Top:2,Left:3,Right:3,Bottom:2}},FieldColor:{Vol:"rgb(90,90,90)",Time:"rgb(60,60,60)",Deal:"rgb(90,90,90)",Index:"rgb(60,60,60)",BarTitle:"rgb(60,60,60)",Text:"rgb(60,60,60)",Bar:["rgb(255,0,0)","rgb(34,139,34)","rgb(119,136,153)","rgb(75,0,130)","rgb(65,105,225)","rgb(255,215,0)","rgb(255,0,255)","rgb(128,128,0)"]},UpTextColor:"rgb(238,21,21)",DownTextColor:"rgb(25,158,0)",UnchagneTextColor:"rgb(0,0,0)"},this.Report={BorderColor:"rgb(192,192,192)",SelectedColor:"rgb(180,240,240)",Header:{Color:"rgb(60,60,60)",SortColor:"rgb(255,0,0)",Mergin:{Left:5,Right:5,Top:4,Bottom:2},Font:{Size:12,Name:"微软雅黑"}},Item:{Mergin:{Top:2,Bottom:0,Left:5,Right:5},Font:{Size:15,Name:"微软雅黑"},BarMergin:{Top:2,Left:3,Right:3,Bottom:2},NameFont:{Size:14,Name:"微软雅黑"},SymbolFont:{Size:12,Name:"微软雅黑"}},FixedItem:{Font:{Size:15,Name:"微软雅黑"}},LimitBorder:{Color:"rgb(180,180,180)",Mergin:{Top:1,Bottom:1,Left:0,Right:0}},FieldColor:{Index:"rgb(60,60,60)",Symbol:"rgb(60,60,60)",Name:"rgb(60,60,60)",Vol:"rgb(90,90,90)",Amount:"rgb(90,90,90)",Text:"rgb(60,60,60)"},UpTextColor:"rgb(238,21,21)",DownTextColor:"rgb(25,158,0)",UnchagneTextColor:"rgb(90,90,90)",Tab:{Font:{Size:12,Name:"微软雅黑"},ScrollBarWidth:100,ButtonColor:"rgb(252,252,252)",BarColor:"rgb(180,180,180)",BorderColor:"rgb(180,180,180)",Mergin:{Left:5,Right:5,Top:4,Bottom:2},TabTitleColor:"rgb(60,60,60)",TabSelectedTitleColor:"rgb(0,0,0)",TabSelectedBGColor:"rgb(252,252,252)",TabMoveOnTitleColor:"rgb(0,0,0)",TabBGColor:"rgb(220,220,220)"},PageInfo:{Font:{Size:15,Name:"微软雅黑"},TextColor:"rgb(0,0,0)",BGColor:"rgba(180,180,180,0.5)",Mergin:{Left:5,Right:5,Top:4,Bottom:2}},DragRow:{Color:"rgba(190,190,190,0.8)",TextColor:"rgba(0,0, 0, 0.8)",MoveRowColor:"rgb(240,128,128)",SrcRowColor:"rgb(180,240,240)"}},this.Keyboard={BorderColor:"rgb(192,192,192)",SelectedColor:"rgb(180,240,240)"},this.SetStyle=function(t){var e=function(t,e){t&&(t.Color&&(e.Color=t.Color),t.MoveOnColor&&(e.MoveOnColor=t.MoveOnColor),t.SelectedColor&&(e.SelectedColor=t.SelectedColor),t.Family&&(e.Family=t.Family),t.Text&&(e.Text=t.Text),Ce.IsNumber(t.Size)&&(e.Size=t.Size),Ce.IsNumber(t.MerginLeft)&&(e.MerginLeft=t.MerginLeft))};if(t.TooltipBGColor&&(this.TooltipBGColor=t.TooltipBGColor),t.TooltipAlpha&&(this.TooltipAlpha=t.TooltipAlpha),t.SelectRectBGColor&&(this.SelectRectBGColor=t.SelectRectBGColor),t.UpBarColor&&(this.UpBarColor=t.UpBarColor),t.DownBarColor&&(this.DownBarColor=t.DownBarColor),t.UnchagneBarColor&&(this.UnchagneBarColor=t.UnchagneBarColor),t.EmptyBarBGColor&&(this.EmptyBarBGColor=t.EmptyBarBGColor),t.Minute){if(t.Minute.VolBarColor&&(this.Minute.VolBarColor=t.Minute.VolBarColor),t.Minute.VolTitleColor&&(this.Minute.VolTitleColor=t.Minute.VolTitleColor),t.Minute.PriceColor&&(this.Minute.PriceColor=t.Minute.PriceColor),Ce.IsNumber(t.Minute.PriceLineWidth)&&(this.Minute.PriceLineWidth=t.Minute.PriceLineWidth),t.Minute.AvPriceColor&&(this.Minute.AvPriceColor=t.Minute.AvPriceColor),t.Minute.AreaPriceColor&&(this.Minute.AreaPriceColor=t.Minute.AreaPriceColor),t.Minute.PositionColor&&(this.Minute.PositionColor=t.Minute.PositionColor),t.Minute.FrameSplitTextColor&&(this.Minute.FrameSplitTextColor=t.Minute.FrameSplitTextColor),t.Minute.Before)(i=t.Minute.Before).BGColor&&(this.Minute.Before.BGColor=i.BGColor),i.LineColor&&(this.Minute.Before.LineColor=i.LineColor),i.VolColor&&(this.Minute.Before.VolColor=i.VolColor),i.AvPriceColor&&(this.Minute.Before.AvPriceColor=i.AvPriceColor),i.CloseIcon&&e(i.CloseIcon,this.Minute.Before.CloseIcon),i.Point&&(i.Point.Color&&(this.Minute.Before.Point.Color=i.Point.Color),i.Point.Radius&&(this.Minute.Before.Point.Radius=i.Point.Radius));if(t.Minute.After)(i=t.Minute.After).BGColor&&(this.Minute.After.BGColor=i.BGColor),i.LineColor&&(this.Minute.After.LineColor=i.LineColor),i.VolColor&&(this.Minute.After.VolColor=i.VolColor),i.AvPriceColor&&(this.Minute.After.AvPriceColor=i.AvPriceColor),i.Point&&(i.Point.Color&&(this.Minute.After.Point.Color=i.Point.Color),i.Point.Radius&&(this.Minute.After.Point.Radius=i.Point.Radius))}(t.DefaultTextColor&&(this.DefaultTextColor=t.DefaultTextColor),t.DefaultTextFont&&(this.DefaultTextFont=t.DefaultTextFont),t.TitleFont&&(this.TitleFont=t.TitleFont),t.IndexTitleBGColor&&(this.IndexTitleBGColor=t.IndexTitleBGColor),t.IndexTitleColor&&(this.IndexTitleColor=t.IndexTitleColor),t.IndexTitleSelectedColor&&(this.IndexTitleSelectedColor=t.IndexTitleSelectedColor),t.OverlayIndexTitleBGColor&&(this.OverlayIndexTitleBGColor=t.OverlayIndexTitleBGColor),t.UpTextColor&&(this.UpTextColor=t.UpTextColor),t.DownTextColor&&(this.DownTextColor=t.DownTextColor),t.UnchagneTextColor&&(this.UnchagneTextColor=t.UnchagneTextColor),t.CloseLineColor&&(this.CloseLineColor=t.CloseLineColor),t.CloseLineAreaColor&&(this.CloseLineAreaColor=t.CloseLineAreaColor),t.CloseLineWidth&&(this.CloseLineWidth=t.CloseLineWidth),t.FrameBorderPen&&(this.FrameBorderPen=t.FrameBorderPen),t.MultiDayBorderPen&&(this.MultiDayBorderPen=t.MultiDayBorderPen),t.FrameSplitPen&&(this.FrameSplitPen=t.FrameSplitPen),t.FrameDotSplitPen&&(this.FrameDotSplitPen=t.FrameDotSplitPen),t.FrameSplitTextColor&&(this.FrameSplitTextColor=t.FrameSplitTextColor),t.FrameSplitTextFont&&(this.FrameSplitTextFont=t.FrameSplitTextFont),t.FrameTitleBGColor&&(this.FrameTitleBGColor=t.FrameTitleBGColor),t.Frame)&&(t.Frame.XBottomOffset&&(this.Frame.XBottomOffset=t.Frame.XBottomOffset),t.Frame.YTopOffset&&(this.Frame.YTopOffset=t.Frame.YTopOffset),t.Frame.PercentageText&&((i=t.Frame.PercentageText).PriceColor&&(this.Frame.PercentageText.PriceColor=i.PriceColor),i.PercentageColor&&(this.Frame.PercentageText.PercentageColor=i.PercentageColor),i.SplitColor&&(this.Frame.PercentageText.SplitColor=i.SplitColor),i.Font&&(this.Frame.PercentageText.Font=i.Font)));(t.FrameLatestPrice&&(t.FrameLatestPrice.TextColor&&(this.FrameLatestPrice.TextColor=t.FrameLatestPrice.TextColor),t.FrameLatestPrice.UpBarColor&&(this.FrameLatestPrice.UpBarColor=t.FrameLatestPrice.UpBarColor),t.FrameLatestPrice.DownBarColor&&(this.FrameLatestPrice.DownBarColor=t.FrameLatestPrice.DownBarColor),t.FrameLatestPrice.UnchagneBarColor&&(this.FrameLatestPrice.UnchagneBarColor=t.FrameLatestPrice.UnchagneBarColor),t.FrameLatestPrice.BGAlpha&&(this.FrameLatestPrice.BGAlpha=t.FrameLatestPrice.BGAlpha),t.FrameLatestPrice.OverlayTextColor&&(this.FrameLatestPrice.OverlayTextColor=t.FrameLatestPrice.OverlayTextColor)),t.CorssCursorBGColor&&(this.CorssCursorBGColor=t.CorssCursorBGColor),t.CorssCursorTextColor&&(this.CorssCursorTextColor=t.CorssCursorTextColor),t.CorssCursorTextFont&&(this.CorssCursorTextFont=t.CorssCursorTextFont),t.CorssCursorVPenColor&&(this.CorssCursorVPenColor=t.CorssCursorVPenColor),t.CorssCursorHPenColor&&(this.CorssCursorHPenColor=t.CorssCursorHPenColor),t.CorssCursorBorderColor&&(this.CorssCursorBorderColor=t.CorssCursorBorderColor),t.CorssCursorXRangeBGColor&&(this.CorssCursorXRangeBGColor=t.CorssCursorXRangeBGColor),t.CorssCursor&&t.CorssCursor.RightButton)&&((i=t.CorssCursor.RightButton).BGColor&&(this.CorssCursor.RightButton.BGColor=i.BGColor),i.PenColor&&(this.CorssCursor.RightButton.PenColor=i.PenColor),i.Icon&&(this.CorssCursor.RightButton.Icon=i.Icon));(t.KLine&&(this.KLine=t.KLine),t.Index&&(t.Index.LineColor&&(this.Index.LineColor=t.Index.LineColor),t.Index.NotSupport&&(this.Index.NotSupport=t.Index.NotSupport)),t.ColorArray&&(this.ColorArray=t.ColorArray),t.DrawPicture)&&((i=t.DrawPicture).LineColor&&(this.DrawPicture.LineColor=i.LineColor),i.PointColor&&(this.DrawPicture.PointColor=i.PointColor),i.XYCoordinate&&(this.DrawPicture.XYCoordinate=i.XYCoordinate),Ce.IsNumber(i.PointType)&&(this.DrawPicture.PointType=i.PointType),Ce.IsBool(i.IsShowPoint)&&(this.DrawPicture.IsShowPoint=i.IsShowPoint));(t.TooltipPaint&&(t.TooltipPaint.BGColor&&(this.TooltipPaint.BGColor=t.TooltipPaint.BGColor),t.TooltipPaint.BorderColor&&(this.TooltipPaint.BorderColor=t.TooltipPaint.BorderColor),t.TooltipPaint.TitleColor&&(this.TooltipPaint.TitleColor=t.TooltipPaint.TitleColor),t.TooltipPaint.TitleFont&&(this.TooltipPaint.TitleFont=t.TooltipPaint.TitleFont),t.TooltipPaint.DateTimeColor&&(this.TooltipPaint.DateTimeColor=t.TooltipPaint.DateTimeColor),t.TooltipPaint.VolColor&&(this.TooltipPaint.VolColor=t.TooltipPaint.VolColor),t.TooltipPaint.AmountColor&&(this.TooltipPaint.AmountColor=t.TooltipPaint.AmountColor)),t.PCTooltipPaint)&&((i=t.PCTooltipPaint).BGColor&&(this.PCTooltipPaint.BGColor=i.BGColor),i.BorderColor&&(this.PCTooltipPaint.BorderColor=i.BorderColor),i.TitleColor&&(this.PCTooltipPaint.TitleColor=i.TitleColor),i.TitleFont&&(this.PCTooltipPaint.TitleFont=i.TitleFont),i.DateTimeColor&&(this.PCTooltipPaint.DateTimeColor=i.DateTimeColor),i.VolColor&&(this.PCTooltipPaint.VolColor=i.VolColor),i.AmountColor&&(this.PCTooltipPaint.AmountColor=i.AmountColor));if(t.MinuteInfo&&(t.MinuteInfo.TextColor&&(this.MinuteInfo.TextColor=t.MinuteInfo.TextColor),t.MinuteInfo.Font&&(this.MinuteInfo.Font=t.MinuteInfo.Font),t.MinuteInfo.PointColor&&(this.MinuteInfo.PointColor=t.MinuteInfo.PointColor),t.MinuteInfo.LineColor&&(this.MinuteInfo.LineColor=t.MinuteInfo.LineColor),t.MinuteInfo.TextBGColor&&(this.MinuteInfo.TextBGColor=t.MinuteInfo.TextBGColor)),t.Title&&(t.Title.TradeIndexColor&&(this.Title.TradeIndexColor=t.Title.TradeIndexColor),t.Title.ColorIndexColor&&(this.Title.ColorIndexColor=t.Title.ColorIndexColor),t.Title.VolColor&&(this.Title.VolColor=t.Title.VolColor),t.Title.AmountColor&&(this.Title.AmountColor=t.Title.AmountColor),t.Title.DateTimeColor&&(this.Title.DateTimeColor=t.Title.DateTimeColor),t.Title.NameColor&&(this.Title.NameColor=t.Title.NameColor),t.Title.SettingColor&&(this.Title.SettingColor=t.Title.SettingColor),t.Title.TurnoverRateColor&&(this.Title.TurnoverRateColor=t.Title.TurnoverRateColor),t.Title.PositionColor&&(this.Title.PositionColor=t.Title.PositionColor)),t.DRAWICON){if(t.DRAWICON.Icon){var i=t.DRAWICON.Icon;Ce.IsPlusNumber(i.MaxSize)&&(this.DRAWICON.Icon.MaxSize=i.MaxSize),Ce.IsPlusNumber(i.MinSize)&&(this.DRAWICON.Icon.MinSize=i.MinSize),i.Zoom&&(this.DRAWICON.Icon.Zoom=i.Zoom),Ce.IsNumber(i.YOffset)&&(this.DRAWICON.Icon.YOffset=i.YOffset)}if(t.DRAWICON.Text){var i=t.DRAWICON.Text;Ce.IsPlusNumber(i.MaxSize)&&(this.DRAWICON.Text.MaxSize=i.MaxSize),Ce.IsPlusNumber(i.MinSize)&&(this.DRAWICON.Text.MinSize=i.MinSize),i.Zoom&&(this.DRAWICON.Text.Zoom=i.Zoom),i.FontName&&(this.DRAWICON.Text.FontName=i.FontName),Ce.IsNumber(i.YOffset)&&(this.DRAWICON.Text.YOffset=i.YOffset)}}if(t.DRAWTEXT){var i=t.DRAWTEXT;Ce.IsPlusNumber(i.MaxSize)&&(this.DRAWICON.MaxSize=i.MaxSize),Ce.IsPlusNumber(i.MinSize)&&(this.DRAWICON.MinSize=i.MinSize),i.Zoom&&(this.DRAWTEXT.Zoom=i.Zoom),i.FontName&&(this.DRAWTEXT.FontName=i.FontName),Ce.IsNumber(i.YOffset)&&(this.DRAWTEXT.YOffset=i.YOffset)}t.DRAWTEXT_FIX&&((i=t.DRAWTEXT_FIX).Font&&(this.DRAWTEXT_FIX.Font=i.Font));t.DRAWNUMBER_FIX&&((i=t.DRAWNUMBER_FIX).Font&&(this.DRAWNUMBER_FIX.Font=i.Font));if(t.DRAWNUMBER){var i=t.DRAWNUMBER;Ce.IsPlusNumber(i.MaxSize)&&(this.DRAWNUMBER.MaxSize=i.MaxSize),Ce.IsPlusNumber(i.MinSize)&&(this.DRAWNUMBER.MinSize=i.MinSize),i.Zoom&&(this.DRAWNUMBER.Zoom=i.Zoom),i.FontName&&(this.DRAWNUMBER.FontName=i.FontName),Ce.IsNumber(i.YOffset)&&(this.DRAWNUMBER.YOffset=i.YOffset)}if(t.DRAWABOVE){var i=t.DRAWABOVE;Ce.IsNumber(i.YOffset)&&(this.DRAWABOVE.YOffset=i.YOffset)}(t.DOTLINE&&(this.DOTLINE=t.DOTLINE),t.DRAWSL&&(this.DOTLINE=t.DRAWSL),t.DragSubFrameBorder&&(this.DragSubFrameBorder=t.DragSubFrameBorder),t.DepthMapPaint)&&((i=t.DepthMapPaint).LineColor&&(this.DepthMapPaint.LineColor=i.LineColor),i.AreaColor&&(this.DepthMapPaint.AreaColor=i.AreaColor),i.TextColor&&(this.DepthMapPaint.TextColor=i.TextColor),i.TextBGColor&&(this.DepthMapPaint.TextBGColor=i.TextBGColor));t.StockChip&&((i=t.StockChip).InfoColor&&(this.StockChip.InfoColor=i.InfoColor),i.DayInfoColor&&(this.StockChip.DayInfoColor=i.DayInfoColor),i.DefaultButton&&e(i.DefaultButton,this.StockChip.DefaultButton),i.LongButton&&e(i.LongButton,this.StockChip.LongButton),i.RecentButton&&e(i.RecentButton,this.StockChip.RecentButton));t.DepthChart&&((i=t.DepthChart).BidColor&&(i.BidColor.Line&&(this.DepthChart.BidColor.Line=i.BidColor.Line),i.BidColor.Area&&(this.DepthChart.BidColor.Area=i.BidColor.Area)),i.AskColor&&(i.AskColor.Line&&(this.DepthChart.AskColor.Line=i.AskColor.Line),i.AskColor.Area&&(this.DepthChart.AskColor.Area=i.AskColor.Area)),i.LineWidth&&(this.DepthChart.LineWidth=i.LineWidth));if(t.DepthCorss&&((i=t.DepthCorss).BidColor&&i.BidColor.Line&&(this.DepthCorss.BidColor.Line=i.BidColor.Line),i.AskColor&&i.AskColor.Line&&(this.DepthCorss.AskColor.Line=i.AskColor.Line),i.LineWidth&&(this.DepthCorss.LineWidth=i.LineWidth),i.LineDash&&(this.DepthCorss.LineDash=i.LineDash),i.Tooltip)){var a=i.Tooltip;a.BGColor&&(this.DepthCorss.Tooltip.BGColor=a.BGColor),a.TextColor&&(this.DepthCorss.Tooltip.TextColor=a.TextColor),a.Font&&(this.DepthCorss.Tooltip.Font=a.Font),a.LineHeight&&(this.DepthCorss.Tooltip.LineHeight=a.LineHeight);var n=a.Border;Ce.IsNumber(n.Top)&&(this.DepthCorss.Tooltip.Border.Top=n.Top),Ce.IsNumber(n.Left)&&(this.DepthCorss.Tooltip.Border.Left=n.Left),Ce.IsNumber(n.Bottom)&&(this.DepthCorss.Tooltip.Border.Bottom=n.Bottom),Ce.IsNumber(n.Center)&&(this.DepthCorss.Tooltip.Border.Center=n.Center)}if(t.CIRCLEDOT){i=t.CIRCLEDOT;Ce.IsNumber(i.Radius)&&(this.CIRCLEDOT.Radius=i.Radius)}if(t.POINTDOT){i=t.POINTDOT;Ce.IsNumber(i.Radius)&&(this.POINTDOT.Radius=i.Radius)}t.RectSelect&&((i=t.RectSelect).LineColor&&(this.RectSelect.LineColor=i.LineColor),i.LineWidth>0&&(this.RectSelect.LineWidth=i.LineWidth),i.LineDotted&&(this.RectSelect.LineDotted=i.LineDotted),i.AreaColor&&(this.RectSelect.AreaColor=i.AreaColor),i.SubAreaColor&&(this.RectSelect.SubAreaColor=i.SubAreaColor),i.RangeTextColor&&(this.RectSelect.RangeTextColor=i.RangeTextColor),i.RangeTextFont&&(this.RectSelect.RangeTextFont=i.RangeTextFont),i.RangeTextBGColor&&(this.RectSelect.RangeTextBGColor=i.RangeTextBGColor),i.RangeTextSubColor&&(this.RectSelect.RangeTextSubColor=i.RangeTextSubColor),i.RangeTextSubFont&&(this.RectSelect.RangeTextSubFont=i.RangeTextSubFont),i.RangeTextSubBGColor&&(this.RectSelect.RangeTextSubBGColor=i.RangeTextSubBGColor));(t.OrderFlow&&((i=t.OrderFlow).UpColor&&(this.OrderFlow.UpColor=i.UpColor),i.DownColor&&(this.OrderFlow.DownColor=i.DownColor),i.UnchagneColor&&(this.OrderFlow.UnchagneColor=i.UnchagneColor),i.Text&&(this.OrderFlow.Text=i.Text),i.Line&&(this.OrderFlow.Line=i.Line)),t.OrderFlow_Style2&&((i=t.OrderFlow_Style2).UpColor&&(this.OrderFlow_Style2.UpColor=i.UpColor),i.DownColor&&(this.OrderFlow_Style2.DownColor=i.DownColor),i.UnchagneColor&&(this.OrderFlow_Style2.UnchagneColor=i.UnchagneColor),Ce.IsNumber(i.BarWidth)&&(this.OrderFlow_Style2.BarWidth=i.BarWidth)),t.ChartOX)&&((i=t.ChartOX).Family&&(this.ChartOX.Family=i.Family),i.Up&&(this.ChartOX.Up=i.Up),i.Down&&(this.ChartOX.Down=i.Down),i.SquareLineColor&&(this.ChartOX.SquareLineColor=i.SquareLineColor));if(t.DealList){if((i=t.DealList).BorderColor&&(this.DealList.BorderColor=i.BorderColor),i.UpTextColor&&(this.DealList.UpTextColor=i.UpTextColor),i.DownTextColor&&(this.DealList.DownTextColor=i.DownTextColor),i.UnchagneTextColor&&(this.DealList.UnchagneTextColor=i.UnchagneTextColor),i.Header){if((l=i.Header).Color&&(this.DealList.Header.Color=l.Color),l.Mergin){var r=l.Mergin;Ce.IsNumber(r.Left)&&(this.DealList.Header.Mergin.Left=r.Left),Ce.IsNumber(r.Right)&&(this.DealList.Header.Mergin.Left=r.Right),Ce.IsNumber(r.Top)&&(this.DealList.Header.Mergin.Top=r.Top),Ce.IsNumber(r.Bottom)&&(this.DealList.Header.Mergin.Bottom=r.Bottom)}if(l.Font)(d=l.Font).Name&&(this.DealList.Header.Font.Name=d.Name),Ce.IsNumber(d.Size)&&(this.DealList.Header.Font.Size=d.Size)}if(i.Row){if((h=i.Row).Mergin){r=h.Mergin;Ce.IsNumber(r.Top)&&(this.DealList.Row.Mergin.Top=r.Top),Ce.IsNumber(r.Bottom)&&(this.DealList.Row.Mergin.Bottom=r.Bottom)}if(h.Font)(d=h.Font).Name&&(this.DealList.Row.Font.Name=d.Name),Ce.IsNumber(d.Size)&&(this.DealList.Row.Font.Size=d.Size);if(h.BarMergin){r=h.BarMergin;Ce.IsNumber(r.Left)&&(this.DealList.Row.BarMergin.Left=r.Left),Ce.IsNumber(r.Top)&&(this.DealList.Row.BarMergin.Top=r.Top),Ce.IsNumber(r.Right)&&(this.DealList.Row.BarMergin.Right=r.Right),Ce.IsNumber(r.Bottom)&&(this.DealList.Row.BarMergin.Bottom=r.Bottom)}}if(i.FieldColor)if((s=i.FieldColor).Vol&&(this.DealList.FieldColor.Vol=s.Vol),s.Time&&(this.DealList.FieldColor.Time=s.Time),s.Deal&&(this.DealList.FieldColor.Deal=s.Deal),s.Index&&(this.DealList.FieldColor.Index=s.Index),s.BarTitle&&(this.DealList.FieldColor.BarTitle=s.BarTitle),s.Text&&(this.DealList.FieldColor.Text=s.Text),Ce.IsNonEmptyArray(s.Bar))for(var o=0;o<s.Bar.length;++o)this.DealList.FieldColor.Bar[o]=s.Bar[o]}if(t.Report){var s;if((i=t.Report).BorderColor&&(this.Report.BorderColor=i.BorderColor),i.UpTextColor&&(this.Report.UpTextColor=i.UpTextColor),i.DownTextColor&&(this.Report.DownTextColor=i.DownTextColor),i.UnchagneTextColor&&(this.Report.UnchagneTextColor=i.UnchagneTextColor),i.BorderColor&&(this.Report.SelectedColor=i.SelectedColor),i.Header){var l;if((l=i.Header).Color&&(this.Report.Header.Color=l.Color),l.SortColor&&(this.Report.Header.SortColor=l.SortColor),l.Mergin){r=l.Mergin;Ce.IsNumber(r.Left)&&(this.Report.Header.Mergin.Left=r.Left),Ce.IsNumber(r.Right)&&(this.Report.Header.Mergin.Left=r.Right),Ce.IsNumber(r.Top)&&(this.Report.Header.Mergin.Top=r.Top),Ce.IsNumber(r.Bottom)&&(this.Report.Header.Mergin.Bottom=r.Bottom)}if(l.Font)(d=l.Font).Name&&(this.Report.Header.Font.Name=d.Name),Ce.IsNumber(d.Size)&&(this.Report.Header.Font.Size=d.Size)}if(i.Item){var h;if((h=i.Item).Mergin){r=h.Mergin;Ce.IsNumber(r.Left)&&(this.Report.Item.Mergin.Left=r.Left),Ce.IsNumber(r.Right)&&(this.Report.Item.Mergin.Right=r.Right),Ce.IsNumber(r.Top)&&(this.Report.Item.Mergin.Top=r.Top),Ce.IsNumber(r.Bottom)&&(this.Report.Item.Mergin.Bottom=r.Bottom)}if(h.Font)(d=h.Font).Name&&(this.Report.Item.Font.Name=d.Name),Ce.IsNumber(d.Size)&&(this.Report.Item.Font.Size=d.Size);if(h.BarMergin){r=h.BarMergin;Ce.IsNumber(r.Left)&&(this.Report.Item.BarMergin.Left=r.Left),Ce.IsNumber(r.Top)&&(this.Report.Item.BarMergin.Top=r.Top),Ce.IsNumber(r.Right)&&(this.Report.Item.BarMergin.Right=r.Right),Ce.IsNumber(r.Bottom)&&(this.Report.Item.BarMergin.Bottom=r.Bottom)}if(h.NameFont)(d=h.NameFont).Name&&(this.Report.Item.NameFont.Name=d.Name),Ce.IsNumber(d.Size)&&(this.Report.Item.NameFont.Size=d.Size);if(h.SymbolFont)(d=h.SymbolFont).Name&&(this.Report.Item.SymbolFont.Name=d.Name),Ce.IsNumber(d.Size)&&(this.Report.Item.SymbolFont.Size=d.Size)}if(i.FixedItem)if((h=i.FixedItem).Font)(d=h.Font).Name&&(this.Report.FixedItem.Font.Name=d.Name),Ce.IsNumber(d.Size)&&(this.Report.FixedItem.Font.Size=d.Size);if(i.LimitBorder){var u=i.LimitBorder;if(u.Color&&(this.Report.LimitBorder.Color=u.Color),u.Mergin){r=u.Mergin;Ce.IsNumber(r.Left)&&(this.Report.LimitBorder.Mergin.Left=r.Left),Ce.IsNumber(r.Top)&&(this.Report.LimitBorder.Mergin.Top=r.Top),Ce.IsNumber(r.Right)&&(this.Report.LimitBorder.Mergin.Right=r.Right),Ce.IsNumber(r.Bottom)&&(this.Report.LimitBorder.Mergin.Bottom=r.Bottom)}}if(i.FieldColor)if((s=i.FieldColor).Name&&(this.Report.FieldColor.Name=s.Name),s.Symbol&&(this.Report.FieldColor.Symbol=s.Symbol),s.Vol&&(this.Report.FieldColor.Vol=s.Vol),s.Amount&&(this.Report.FieldColor.Amount=s.Amount),s.Index&&(this.Report.FieldColor.Index=s.Index),s.BarTitle&&(this.Report.FieldColor.BarTitle=s.BarTitle),s.Text&&(this.Report.FieldColor.Text=s.Text),Ce.IsNonEmptyArray(s.Bar))for(o=0;o<s.Bar.length;++o)this.Report.FieldColor.Bar[o]=s.Bar[o];if(i.Tab){var c=i.Tab;if(c.Font)(d=c.Font).Name&&(this.Report.Tab.Font.Name=d.Name),Ce.IsNumber(d.Size)&&(this.Report.Tab.Font.Size=d.Size);Ce.IsNumber(c.ScrollBarWidth)&&(this.Report.Tab.ScrollBarWidth=c.ScrollBarWidth),c.ButtonColor&&(this.Report.Tab.ButtonColor=c.ButtonColor),c.BarColor&&(this.Report.Tab.BarColor=c.BarColor),c.BorderColor&&(this.Report.Tab.BorderColor=c.BorderColor),c.TabTitleColor&&(this.Report.Tab.TabTitleColor=c.TabTitleColor),c.TabSelectedTitleColor&&(this.Report.Tab.TabSelectedTitleColor=c.TabSelectedTitleColor),c.TabSelectedBGColor&&(this.Report.Tab.TabSelectedBGColor=c.TabSelectedBGColor),c.TabMoveOnTitleColor&&(this.Report.Tab.TabMoveOnTitleColor=c.TabMoveOnTitleColor),c.TabBGColor&&(this.Report.Tab.TabBGColor=c.TabBGColor)}if(i.PageInfo){var d,f=i.PageInfo;if(f.Font)(d=f.Font).Name&&(this.Report.PageInfo.Font.Name=d.Name),Ce.IsNumber(d.Size)&&(this.Report.PageInfo.Font.Size=d.Size);if(f.TextColor&&(this.Report.PageInfo.TextColor=f.TextColor),f.BGColor&&(this.Report.PageInfo.BGColor=f.BGColor),f.Mergin){r=f.Mergin;Ce.IsNumber(r.Left)&&(this.Report.PageInfo.Mergin.Left=r.Left),Ce.IsNumber(r.Top)&&(this.Report.PageInfo.Mergin.Top=r.Top),Ce.IsNumber(r.Right)&&(this.Report.PageInfo.Mergin.Right=r.Right),Ce.IsNumber(r.Bottom)&&(this.Report.PageInfo.Mergin.Bottom=r.Bottom)}}if(i.DragRow){var p=i.DragRow;p.Color&&(this.Report.DragRow.Color=p.Color),p.TextColor&&(this.Report.DragRow.TextColor=p.TextColor),p.MoveRowColor&&(this.Report.DragRow.MoveRowColor=p.MoveRowColor),p.SrcRowColor&&(this.Report.DragRow.SrcRowColor=p.SrcRowColor)}}if(t.SelectedChart){i=t.SelectedChart;Ce.IsNumber(i.LineWidth)&&(this.SelectedChart.LineWidth=i.LineWidth),Ce.IsNumber(i.Radius)&&(this.SelectedChart.Radius=i.Radius),Ce.IsNumber(i.MinSpace)&&(this.SelectedChart.MinSpace=i.MinSpace),i.LineColor&&(this.SelectedChart.LineColor=i.LineColor),i.LineColor&&(this.SelectedChart.BGColor=i.BGColor)}t.DragMovePaint&&((i=t.DragMovePaint).TextColor&&(this.DragMovePaint.TextColor=i.TextColor),i.Font&&(this.DragMovePaint.Font=i.Font));if(Ce.IsNumber(t.ToolbarButtonStyle)&&(this.ToolbarButtonStyle=t.ToolbarButtonStyle),t.Buttons){var m=t.Buttons;e(m.CloseOverlayIndex,this.Buttons.CloseOverlayIndex),e(m.CloseWindow,this.Buttons.CloseWindow),e(m.ChangeIndex,this.Buttons.ChangeIndex),e(m.OverlayIndex,this.Buttons.OverlayIndex),e(m.ModifyIndexParam,this.Buttons.ModifyIndexParam),e(m.MaxMinWindow,this.Buttons.MaxMinWindow),e(m.TitleWindow,this.Buttons.TitleWindow)}t.ChartDrawVolProfile&&((i=t.ChartDrawVolProfile).UpVolColor&&(this.ChartDrawVolProfile.UpVolColor=i.UpVolColor),i.DownVolColor&&(this.ChartDrawVolProfile.DownVolColor=i.DownVolColor),i.AreaUpColor&&(this.ChartDrawVolProfile.AreaUpColor=i.AreaUpColor),i.AreaDonwColor&&(this.ChartDrawVolProfile.AreaDonwColor=i.AreaDonwColor),i.BGColor&&(this.ChartDrawVolProfile.BGColor=i.BGColor),i.BorderColor&&(this.ChartDrawVolProfile.BorderColor=i.BorderColor),i.VolLineColor&&(this.ChartDrawVolProfile.VolLineColor=i.VolLineColor),i.Text&&(i.Text.Color&&(this.ChartDrawVolProfile.Text.Color=i.Text.Color),i.Text.Family&&(this.ChartDrawVolProfile.Text.Family=i.Text.Family),Ce.IsNumber(i.Text.FontMaxSize)&&(this.ChartDrawVolProfile.Text.FontMaxSize=i.Text.FontMaxSize),Ce.IsNumber(i.Text.FontMinSize)&&(this.ChartDrawVolProfile.Text.FontMinSize=i.Text.FontMinSize)))}}He.ColorToRGBA=function(t,e){if(/^(rgb|RGB)/.test(t)){for(var i="#",a=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),n=0;n<a.length;n++){var r=Number(a[n]).toString(16);"0"===r&&(r+=r),i+=r}t=i}return"rgba("+parseInt("0x"+t.slice(1,3))+","+parseInt("0x"+t.slice(3,5))+","+parseInt("0x"+t.slice(5,7))+","+e+")"},He.RGBToHex=function(t){var e=t.indexOf(",")>-1?",":" ",i=(+(t=t.substr(4).split(")")[0].split(e))[0]).toString(16),a=(+t[1]).toString(16),n=(+t[2]).toString(16);return 1==i.length&&(i="0"+i),1==a.length&&(a="0"+a),1==n.length&&(n="0"+n),"#"+i+a+n},He.ArrayDrawPricture=[{Name:"线段",ClassName:"ChartDrawPictureLine",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.ClipFrame();var e=t[0],i=t[1];this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e.X,e.Y),this.Canvas.lineTo(i.X,i.Y),this.Canvas.stroke(),this.RestoreLineWidth();var a={Start:e,End:i};this.LinePoint.push(a),this.DrawPoint(t),this.Canvas.restore()}}}}}},{Name:"射线",ClassName:"ChartDrawPictureHaflLine",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureHaflLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){var e=t[0],i=t[1];this.ClipFrame(),this.Canvas.strokeStyle=this.LineColor,this.SetLineWidth(),this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y),this.Canvas.lineTo(t[1].X,t[1].Y);var a=this.CalculateExtendLineEndPoint(t);this.Canvas.lineTo(a.X,a.Y),this.Canvas.stroke(),this.RestoreLineWidth();var n={Start:e,End:i};this.LinePoint.push(n),this.DrawPoint(t),this.Canvas.restore()}}}}}},{Name:"箭头",ClassName:"ChartDrawArrowLine",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawArrowLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.ArrawLineWidth=5,this.ArrawLength=15,this.ArrawAngle=35,this.GetXYCoordinate=this.GetXYCoordinate_default,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.ClipFrame();var e=t[0],i=t[1],a=this.ArrawAngle,n=this.ArrawLength,r=180*Math.atan2(e.Y-i.Y,e.X-i.X)/Math.PI,o=(r+a)*Math.PI/180,s=(r-a)*Math.PI/180,l=n*Math.cos(o),h=n*Math.sin(o),u=n*Math.cos(s),c=n*Math.sin(s);this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e.X,e.Y),this.Canvas.lineTo(i.X,i.Y),this.Canvas.stroke(),this.Canvas.beginPath();var d=i.X+l,f=i.Y+h;this.Canvas.moveTo(d,f),this.Canvas.lineTo(i.X,i.Y),d=i.X+u,f=i.Y+c,this.Canvas.lineTo(d,f),this.Canvas.lineWidth=this.ArrawLineWidth*L(),this.Canvas.stroke(),this.RestoreLineWidth();var p={Start:e,End:i};this.LinePoint.push(p),this.DrawPoint([t[0]]),this.Canvas.restore()}}}}}},{Name:"水平线",ClassName:"ChartDrawPictureHorizontalLine",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.Super_SetOption=this.SetOption,this.Super_ExportStorageData=this.ExportStorageData,this.Label,this.SetOption=function(t){this.Super_SetOption&&this.Super_SetOption(t),t&&t.Label&&(this.Label=t.Label)},this.ExportStorageData=function(){var t;return this.Super_ExportStorageData&&(t=this.Super_ExportStorageData(),this.Label&&(t.Label=this.Label)),t},this.PointCount=1,this.ClassName="ChartDrawPictureHorizontalLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.Font=16*L()+"px 微软雅黑",this.GetXYCoordinate=function(){if(this.IsFrameMinSize())return null;var t=this.CalculateDrawPoint();return this.PointRange(t)},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint();if(t&&1==t.length&&this.Frame&&1==this.Value.length){if(!this.IsYValueInFrame(this.Value[0].YValue))return null;var e=this.Frame.IsHScreen,i=this.Frame.ChartBorder.GetLeft(),a=this.Frame.ChartBorder.GetRight();e&&(i=this.Frame.ChartBorder.GetTop(),a=this.Frame.ChartBorder.GetBottom()),this.ClipFrame(),this.Canvas.strokeStyle=this.LineColor,this.SetLineWidth(),this.Canvas.beginPath(),e?(this.Canvas.moveTo(t[0].X,i),this.Canvas.lineTo(t[0].X,a)):(this.Canvas.moveTo(i,t[0].Y),this.Canvas.lineTo(a,t[0].Y)),this.Canvas.stroke(),this.RestoreLineWidth();var n={Start:new H,End:new H};if(e?(n.Start.X=t[0].X,n.Start.Y=i,n.End.X=t[0].X,n.End.Y=a):(n.Start.X=i,n.Start.Y=t[0].Y,n.End.X=a,n.End.Y=t[0].Y),this.LinePoint.push(n),this.DrawPoint(t),this.Canvas.fillStyle=this.LineColor,this.Canvas.font=this.Font,e){this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom";var r=t[0].X,o=i;this.Canvas.translate(r,o),this.Canvas.rotate(90*Math.PI/180);var s=this.Frame.GetYData(t[0].X),l=s.toFixed(2);this.Label&&(0==this.Label.Position?l=this.Label.Text+s.toFixed(2):1==this.Label.Position&&(l=s.toFixed(2)+this.Label.Text)),this.Canvas.fillText(l,0,0)}else{this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom";var s=this.Frame.GetYData(t[0].Y),l=s.toFixed(2);this.Label&&(0==this.Label.Position?l=this.Label.Text+s.toFixed(2):1==this.Label.Position&&(l=s.toFixed(2)+this.Label.Text)),this.Canvas.fillText(l,i,t[0].Y)}this.Canvas.restore()}}}}}},{Name:"趋势线",ClassName:"ChartDrawPictureTrendLine",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureTrendLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){var e=t[0],i=t[1],a=this.CalculateExtendLinePoint(e,i);this.ClipFrame(),this.Canvas.strokeStyle=this.LineColor,this.SetLineWidth(),this.Canvas.beginPath(),this.Canvas.moveTo(a.Start.X,a.Start.Y),this.Canvas.lineTo(a.End.X,a.End.Y),this.Canvas.stroke(),this.RestoreLineWidth();var n={Start:e,End:i};this.LinePoint.push(n),this.DrawPoint(t),this.Canvas.restore()}}}}}},{Name:"矩形",ClassName:"ChartDrawPictureRect",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureRect",this.GetXYCoordinate=this.GetXYCoordinate_default,this.Draw=function(){if(!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});t&&2==t.length&&(this.AreaColor=He.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),this.Canvas.strokeStyle=this.LineColor,this.SetLineWidth(),this.Canvas.beginPath(),this.Canvas.rect(t[0].X,t[0].Y,t[1].X-t[0].X,t[1].Y-t[0].Y),this.Canvas.stroke(),this.RestoreLineWidth(),this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.fillRect(t[0].X,t[0].Y,t[1].X-t[0].X,t[1].Y-t[0].Y),this.Canvas.restore(),this.DrawPoint(t))}},this.IsPointIn=function(t,e,i){if(this.IsFrameMinSize())return-1;if(!this.Frame||10!=this.Status)return-1;var a=this.Frame.Data;if(!a)return-1;var n=this.IsPointInXYValue(t,e,i);if(n>=0)return n;var r=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(!r||2!=r.length)return-1;var o=[{X:r[0].X,Y:r[0].Y},{X:r[1].X,Y:r[0].Y}];return this.IsPointInLine(o,t,e,i)?100:(o=[{X:r[1].X,Y:r[0].Y},{X:r[1].X,Y:r[1].Y}],this.IsPointInLine2(o,t,e,i)?100:(o=[{X:r[1].X,Y:r[1].Y},{X:r[0].X,Y:r[1].Y}],this.IsPointInLine(o,t,e,i)?100:(o=[{X:r[0].X,Y:r[1].Y},{X:r[0].X,Y:r[0].Y}],this.IsPointInLine2(o,t,e,i)?100:-1)))},this.IsPointInLine=function(t,e,i,a){var n=5;a&&Ce.IsNumber(a.Zoom)?n+=a.Zoom:this.Option&&Ce.IsNumber(this.Option.Zoom)&&(n+=this.Option.Zoom);var r=L();if(n*=r,this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y+n),this.Canvas.lineTo(t[0].X,t[0].Y-n),this.Canvas.lineTo(t[1].X,t[1].Y-n),this.Canvas.lineTo(t[1].X,t[1].Y+n),this.Canvas.closePath(),this.Canvas.isPointInPath(e,i))return!0},this.IsPointInLine2=function(t,e,i,a){var n=5;a&&Ce.IsNumber(a.Zoom)?n+=a.Zoom:this.Option&&Ce.IsNumber(this.Option.Zoom)&&(n+=this.Option.Zoom);var r=L();if(n*=r,this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X-n,t[0].Y),this.Canvas.lineTo(t[0].X+n,t[0].Y),this.Canvas.lineTo(t[1].X+n,t[1].Y),this.Canvas.lineTo(t[1].X-n,t[1].Y),this.Canvas.closePath(),this.Canvas.isPointInPath(e,i))return!0}}}},{Name:"圆弧线",ClassName:"ChartDrawPictureArc",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureArc",this.Draw=function(){if(!this.IsFrameMinSize()){var t=this.CalculateDrawPoint();if(t&&2==t.length){if(this.ClipFrame(),this.SetLineWidth(),t[0].X<t[1].X&&t[0].Y>t[1].Y){var e=t[1].X-t[0].X,i=t[0].Y-t[1].Y,a=e>i?1/e:1/i,n=t[0].X,r=t[1].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var o=1.5*Math.PI;o<2*Math.PI;o+=a)this.Canvas.lineTo(n+e*Math.cos(o),r+i*Math.sin(o)*-1);for(var s=0;s<=.5*Math.PI;s+=a)this.Canvas.lineTo(n+e*Math.cos(s),r+i*Math.sin(s)*-1)}else if(t[0].X>t[1].X&&t[0].Y>t[1].Y){var e=t[0].X-t[1].X,i=t[0].Y-t[1].Y,a=e>i?1/e:1/i,n=t[1].X,r=t[0].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var o=0;o<=Math.PI;o+=a)this.Canvas.lineTo(n+e*Math.cos(o),r+i*Math.sin(o)*-1)}else if(t[0].X>t[1].X&&t[0].Y<t[1].Y){var e=t[0].X-t[1].X,i=t[1].Y-t[0].Y,a=e>i?1/e:1/i,n=t[0].X,r=t[1].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var o=.5*Math.PI;o<=1.5*Math.PI;o+=a)this.Canvas.lineTo(n+e*Math.cos(o),r+i*Math.sin(o)*-1)}else if(t[0].X<t[1].X&&t[0].Y<t[1].Y){var e=t[1].X-t[0].X,i=t[1].Y-t[0].Y,a=e>i?1/e:1/i,n=t[1].X,r=t[0].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var o=Math.PI;o<=2*Math.PI;o+=a)this.Canvas.lineTo(n+e*Math.cos(o),r+i*Math.sin(o)*-1)}this.Canvas.strokeStyle=this.LineColor,this.Canvas.stroke(),this.RestoreLineWidth(),this.Canvas.restore(),this.DrawPoint(t)}}},this.IsPointIn=function(t,e,i){if(this.IsFrameMinSize())return-1;if(!this.Frame||10!=this.Status)return-1;var a=this.Frame.Data;if(!a)return-1;var n=this.IsPointInXYValue(t,e,i);if(n>=0)return n;var r=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(!r||2!=r.length)return-1;var o=[{X:r[0].X,Y:r[0].Y},{X:r[1].X,Y:r[1].Y}];return this.IsPointInArc(o,t,e)?100:-1},this.IsPointInArc=function(t,e,i){if(2!=t.length)return!1;if(t[0].X<t[1].X&&t[0].Y>t[1].Y){var a=t[1].X-t[0].X,n=t[0].Y-t[1].Y,r=a>n?1/a:1/n,o=.8*a,s=.8*n,l=o>s?1/o:1/s,h=t[0].X,u=t[1].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var c=1.5*Math.PI;c<2*Math.PI;c+=r)this.Canvas.lineTo(h+a*Math.cos(c),u+n*Math.sin(c)*-1);for(var d=0;d<=.5*Math.PI;d+=r)this.Canvas.lineTo(h+a*Math.cos(d),u+n*Math.sin(d)*-1);for(var f=.5*Math.PI;f>=0;f-=l)this.Canvas.lineTo(h+o*Math.cos(f),u+s*Math.sin(d)*-1);for(var p=2*Math.PI;p>=1.5*Math.PI;p-=l)this.Canvas.lineTo(h+o*Math.cos(p),u+s*Math.sin(p)*-1);this.Canvas.closePath()}else if(t[0].X>t[1].X&&t[0].Y>t[1].Y){var a=t[0].X-t[1].X,n=t[0].Y-t[1].Y,r=a>n?1/a:1/n,o=.8*a,s=.8*n,l=o>s?1/o:1/s,h=t[1].X,u=t[0].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var c=0;c<=Math.PI;c+=r)this.Canvas.lineTo(h+a*Math.cos(c),u+n*Math.sin(c)*-1);for(var d=Math.PI;d>=0;d-=l)this.Canvas.lineTo(h+o*Math.cos(d),u+s*Math.sin(d)*-1);this.Canvas.closePath()}else if(t[0].X>t[1].X&&t[0].Y<t[1].Y){var a=t[0].X-t[1].X,n=t[1].Y-t[0].Y,r=a>n?1/a:1/n,o=.8*a,s=.8*n,l=o>s?1/o:1/s,h=t[0].X,u=t[1].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var c=.5*Math.PI;c<=1.5*Math.PI;c+=r)this.Canvas.lineTo(h+a*Math.cos(c),u+n*Math.sin(c)*-1);for(var d=1.5*Math.PI;d>=.5*Math.PI;d-=l)this.Canvas.lineTo(h+o*Math.cos(d),u+s*Math.sin(d)*-1);this.Canvas.closePath()}else if(t[0].X<t[1].X&&t[0].Y<t[1].Y){var a=t[1].X-t[0].X,n=t[1].Y-t[0].Y,r=a>n?1/a:1/n,o=.8*a,s=.8*n,l=o>s?1/o:1/s,h=t[1].X,u=t[0].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var c=Math.PI;c<=2*Math.PI;c+=r)this.Canvas.lineTo(h+a*Math.cos(c),u+n*Math.sin(c)*-1);for(var d=2*Math.PI;d>=Math.PI;d-=l)this.Canvas.lineTo(h+o*Math.cos(d),u+s*Math.sin(d)*-1);this.Canvas.closePath()}return!!this.Canvas.isPointInPath(e,i)}}}},{Name:"M头W底",ClassName:"ChartDrawPictureWaveMW",Create:function(){return new Ge}},{Name:"头肩型",ClassName:"ChartDrawHeadShouldersBT",Create:function(){return new function(){this.newMethod=Ge,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawHeadShouldersBT",this.CalculateLines_Backup=this.CalculateLines,this.CalculateLines=function(t){if(this.Frame&&!(t.length<2)){if(2!=this.Status)return this.CalculateLines_Backup(t);var e={Start:new H,End:new H};e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[1].X,this.LinePoint.push(e);var i=t[1].X-t[0].X,a=t[1].Y-t[0].Y;e={Start:new H,End:new H},this.IsHScreen?(e.Start.Y=t[1].Y,e.Start.X=t[1].X,e.End.Y=t[1].Y+a,e.End.X=t[0].X-i):(e.Start.Y=t[1].Y,e.Start.X=t[1].X,e.End.Y=t[0].Y-a,e.End.X=t[1].X+i),this.LinePoint.push(e);var n=e.End,r=new H;r.X=n.X,r.Y=n.Y,this.Point[2]=r,e={Start:new H,End:new H},this.IsHScreen?(e.Start.Y=n.Y,e.Start.X=n.X,e.End.Y=n.Y+a,e.End.X=t[1].X):(e.Start.Y=n.Y,e.Start.X=n.X,e.End.Y=t[1].Y,e.End.X=n.X+i),this.LinePoint.push(e);var n=e.End,r=new H;r.X=n.X,r.Y=n.Y,this.Point[3]=r,e={Start:new H,End:new H},this.IsHScreen?(e.Start.Y=n.Y,e.Start.X=n.X,e.End.Y=n.Y+a,e.End.X=t[0].X):(e.Start.Y=n.Y,e.Start.X=n.X,e.End.Y=t[0].Y,e.End.X=n.X+i),this.LinePoint.push(e);var n=e.End,r=new H;r.X=n.X,r.Y=n.Y,this.Point[4]=r,this.PointCount=this.Point.length}}}}},{Name:"平行线",ClassName:"ChartDrawPictureParallelLines",Create:function(){return new Ye}},{Name:"平行通道",ClassName:"ChartDrawPictureParallelChannel",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureParallelChannel",this.ChannelWidth=50,this.AreaColor="rgba(25,25,25,0.4)",this.LinePoint=[],this.CalculateDrawPoint=function(){if(this.Status<2)return null;if(!this.Point.length||!this.Frame)return null;var t=this.Frame.Data;if(!t)return null;var e=[];if(10==this.Status)for(var i=0;i<2;++i){var a=this.Value[i],n=new H;n.X=this.Frame.GetXFromIndex(a.XValue-t.DataOffset),n.Y=this.Frame.GetYFromData(a.YValue),e.push(n)}else for(var i=0;i<this.Point.length;++i){var a=this.Point[i],n=new H;n.X=a.X,n.Y=a.Y,e.push(n)}if(e.length>=2){var r={Start:new H,End:new H};if(r.Start.X=e[0].X,r.Start.Y=e[0].Y,r.End.X=e[1].X,r.End.Y=e[1].Y,this.LinePoint.push(r),3==e.length||10==this.Status){var o=r.End.X-r.Start.X,s=r.End.Y-r.Start.Y,l=Math.atan(Math.abs(o/s)),h=this.ChannelWidth/Math.sin(l);(r={Start:new H,End:new H}).Start.X=e[0].X,r.Start.Y=e[0].Y-h,r.End.X=e[1].X,r.End.Y=e[1].Y-h,this.LinePoint.push(r);var u=new H;u.X=r.Start.X+(r.End.X-r.Start.X)/2,u.Y=r.Start.Y+(r.End.Y-r.Start.Y)/2,e[3]=u,this.Point[2]=u;var c=parseInt(this.Frame.GetXData(u.X))+t.DataOffset,d=this.Frame.GetYData(u.Y);this.Value[2]={XValue:c,YValue:d},this.PointCount=this.Point.length}}return e},this.DrawLine=function(t,e){this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.stroke()},this.DrawArea=function(t,e,i,a){this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.lineTo(i.X,i.Y),this.Canvas.lineTo(a.X,a.Y),this.Canvas.closePath(),this.Canvas.fill()},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint();if(t){for(var e in this.AreaColor=He.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),this.LinePoint){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End)}2==this.LinePoint.length&&this.DrawArea(this.LinePoint[0].Start,this.LinePoint[0].End,this.LinePoint[1].End,this.LinePoint[1].Start),this.Canvas.restore(),this.DrawPoint(t)}}},this.Move=function(t,e){if(20!=this.Status)return fasle;if(!this.Frame)return!1;var i=this.Frame.Data;if(!i)return!1;if(100==this.MovePointIndex)for(var a in this.Point)this.Point[a].X+=t,this.Point[a].Y+=e;else if(0==this.MovePointIndex||1==this.MovePointIndex)this.MovePointIndex<this.Point.length&&(this.Point[this.MovePointIndex].X+=t,this.Point[this.MovePointIndex].Y+=e);else if(2==this.MovePointIndex){this.Point[this.MovePointIndex].X+=t,this.Point[this.MovePointIndex].Y+=e;var n=this.Point[1].X-this.Point[0].X,r=this.Point[1].Y-this.Point[0].Y,o=Math.atan(Math.abs(n/r)),s=this.ChannelWidth/Math.sin(o)-e;this.ChannelWidth=Math.sin(o)*s}},this.IsPointIn=function(t,e){if(!this.Frame||10!=this.Status)return-1;var i=this.Frame.Data;if(!i)return-1;for(var a=0;a<this.Value.length;++a){var n=this.Value[a],r=new H;if(a<2)r.X=this.Frame.GetXFromIndex(n.XValue-i.DataOffset),r.Y=this.Frame.GetYFromData(n.YValue);else{if(a>=this.Point.length)continue;r.X=this.Point[a].X,r.Y=this.Point[a].Y}if(this.Canvas.beginPath(),this.Canvas.arc(r.X,r.Y,5,0,360),this.Canvas.isPointInPath(t,e))return a}for(var a in this.LinePoint){var n=this.LinePoint[a],o=n.Start,s=n.End;if(this.Canvas.beginPath(),this.Canvas.moveTo(o.X,o.Y+5),this.Canvas.lineTo(o.X,o.Y-5),this.Canvas.lineTo(s.X,s.Y-5),this.Canvas.lineTo(s.X,s.Y+5),this.Canvas.closePath(),this.Canvas.isPointInPath(t,e))return 100}return-1}}}},{Name:"价格通道线",ClassName:"ChartDrawPicturePriceChannel",Create:function(){return new function(){this.newMethod=Ye,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPicturePriceChannel",this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new H;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2==t.length){var i=this.CalculateExtendLinePoint(t[0],t[1]);this.LinePoint.push(i)}else if(3==t.length){var i=this.CalculateExtendLinePoint(t[0],t[1]);this.LinePoint.push(i);var a=t[2].X-t[1].X,n=t[2].Y-t[1].Y,r=new H,o=new H;r.X=t[0].X+a,r.Y=t[0].Y+n,o.X=t[1].X+a,o.Y=t[1].Y+n,i=this.CalculateExtendLinePoint(r,o),this.LinePoint.push(i);var r=new H,o=new H;r.X=t[0].X-a,r.Y=t[0].Y-n,o.X=t[1].X-a,o.Y=t[1].Y-n,i=this.CalculateExtendLinePoint(r,o),this.LinePoint.push(i)}},this.DrawArea=function(){3==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[1].Start.X,this.LinePoint[1].Start.Y),this.Canvas.lineTo(this.LinePoint[1].End.X,this.LinePoint[1].End.Y),this.Canvas.lineTo(this.LinePoint[2].End.X,this.LinePoint[2].End.Y),this.Canvas.lineTo(this.LinePoint[2].Start.X,this.LinePoint[2].Start.Y),this.Canvas.closePath(),this.Canvas.fill())}}}},{Name:"文本",ClassName:"ChartDrawPictureText",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureText",this.Text="文本",this.PointCount=1,this.FontOption={Family:"微软雅黑",Size:20,Weight:null,Style:null},this.TextRect=null,this.IsInitialized=!1,this.SettingMenu,this.HQChart,this.SetOption=function(t){t&&(t.LineColor&&(this.LineColor=t.LineColor),t.Text&&(this.Text=t.Text),t.FontOption&&(this.FontOption=t.FontOption))},this.Draw=function(t){if(this.TextRect=null,!this.IsFrameMinSize()){var e=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(e&&1==e.length){this.ClipFrame(),this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.Canvas.font=this.GetTextFont(),this.Canvas.fillText(this.Text,e[0].X,e[0].Y);var i=this.Canvas.measureText(this.Text).width,a=this.FontOption.Size*L();this.TextRect={},this.TextRect.Left=e[0].X-i/2,this.TextRect.Top=e[0].Y-a,this.TextRect.Width=i,this.TextRect.Height=a,this.Canvas.restore(),!1===this.IsInitialized&&(this.SetTextOption(),this.IsInitialized=!0)}}},this.GetTextFont=function(){var t=16*L()+"px 微软雅黑";if(!this.FontOption||!this.FontOption.Family||this.FontOption.Size<=0)return t;var e="";return this.FontOption.Color&&(e+=this.FontOption.Color+" "),this.FontOption.Style&&(e+=this.FontOption.Style+" "),this.FontOption.Weight&&(e+=this.FontOption.Weight+" "),this.FontOption.Size>=0&&(e+=this.FontOption.Size*L()+"px "),e+=this.FontOption.Family},this.SetTextOption=function(){g.Chart.Log("[ChartDrawPictureText::SetTextOption]"),this.SettingMenu||(this.SettingMenu=new Si(this.Frame.ChartBorder.UIElement.parentNode)),this.SettingMenu.ChartPicture=this,this.SettingMenu.HQChart=this.HQChart,this.SettingMenu.Position={Left:this.TextRect.Left+this.TextRect.Width,Top:this.TextRect.Top},this.SettingMenu.DoModal()},this.IsPointIn=function(t,e){if(!this.Frame||10!=this.Status)return-1;var i=this.Frame.Data;return i&&this.TextRect?(this.Canvas.beginPath(),this.Canvas.rect(this.TextRect.Left,this.TextRect.Top,this.TextRect.Width,this.TextRect.Height),this.Canvas.isPointInPath(t,e)?100:-1):-1}}}},{Name:"江恩角度线",ClassName:"ChartDrawPictureGannFan",Create:function(){return new Ue}},{Name:"阻速线",ClassName:"ChartDrawPictureResistanceLine",Create:function(){return new function(){this.newMethod=Ue,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureResistanceLine",this.CalculateLines=function(t,e,i){if(!this.Frame)return!1;this.Frame.ChartBorder.GetTopEx(),this.Frame.ChartBorder.GetRight(),this.Frame.ChartBorder.GetBottom();var a=[1/3,2/3],n=["3:1","3:2"],r=new H,o=new H;r.X=t.X,r.Y=t.Y,o.X=e.X,o.Y=e.Y;Math.abs(t.X-e.X);var s=Math.abs(t.Y-e.Y);if(1===i){var l=this.CalculateExtendLinePoint(t,e),h={Start:r,End:l.Start,IsDottedLine:!1,PtEnd:o,Text:"1:1"};for(var u in this.LinePoint.push(h),a)if(s>5){(h={Start:r,End:null,IsDottedLine:!1,PtEnd:new H,Text:n[u]}).PtEnd.Y=t.Y-s*a[u],h.PtEnd.X=e.X;var l=this.CalculateExtendLinePoint(h.Start,h.PtEnd);h.End=l.Start,this.LinePoint.push(h)}}else{if(4!=i)return!1;var l=this.CalculateExtendLinePoint(t,e),h={Start:r,End:l.End,IsDottedLine:!1,PtEnd:o,Text:"1:1"};for(var u in this.LinePoint.push(h),a)if(s>5){(h={Start:r,End:null,IsDottedLine:!1,PtEnd:new H,Text:n[u]}).PtEnd.Y=t.Y+s*a[u],h.PtEnd.X=e.X;var l=this.CalculateExtendLinePoint(h.Start,h.PtEnd);h.End=l.End,this.LinePoint.push(h)}}return!0},this.DrawArea=function(){var t=null,e=null;for(var i in this.LinePoint){var a=this.LinePoint[i];"1:1"==a.Text?t=this.LinePoint[i]:"3:1"==a.Text&&(e=this.LinePoint[i])}t&&e&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.End.X,t.End.Y),this.Canvas.lineTo(t.Start.X,t.Start.Y),this.Canvas.lineTo(e.End.X,e.End.Y),this.Canvas.closePath(),this.Canvas.fill())}}}},{Name:"黄金分割",ClassName:"ChartDrawPictureGoldenSection",Create:function(){return new ze}},{Name:"百分比线",ClassName:"ChartDrawPicturePercentage",Create:function(){return new function(){this.newMethod=ze,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPicturePercentage",this.GetSectionData=function(){return[0,.25,.333,.5,1]}}}},{Name:"波段线",ClassName:"ChartDrawPictureWaveBand",Create:function(){return new function(){this.newMethod=ze,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureWaveBand",this.GetSectionData=function(){return[0,.125,.25,.375,.5,.625,.75,.875,1]}}}},{Name:"三角形",ClassName:"ChartDrawPictureTriangle",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureTriangle",this.PointCount=3,this.Font=16*L()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.LastPoint,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){var e=t.slice(0);for(var i in this.AreaColor=He.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),this.CalculateLines(e),this.LinePoint){var a=this.LinePoint[i];this.DrawLine(a.Start,a.End)}this.DrawArea(e),this.DrawPoint(e),this.DrawTitle(e),this.Canvas.restore()}}},this.DrawArea=function(t){3==t.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y),this.Canvas.lineTo(t[1].X,t[1].Y),this.Canvas.lineTo(t[2].X,t[2].Y),this.Canvas.lineTo(t[0].X,t[0].Y),this.Canvas.closePath(),this.Canvas.fill())},this.DrawTitle=function(t){this.Status},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new H;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2===t.length){var i={Start:new H,End:new H};i.Start.Y=t[0].Y,i.Start.X=t[0].X,i.End.Y=t[1].Y,i.End.X=t[1].X,this.LinePoint.push(i)}else if(3===t.length){var i={Start:new H,End:new H};i.Start.Y=t[0].Y,i.Start.X=t[0].X,i.End.Y=t[1].Y,i.End.X=t[1].X,this.LinePoint.push(i),(i={Start:new H,End:new H}).Start.Y=t[1].Y,i.Start.X=t[1].X,i.End.Y=t[2].Y,i.End.X=t[2].X,this.LinePoint.push(i),(i={Start:new H,End:new H}).Start.Y=t[2].Y,i.Start.X=t[2].X,i.End.Y=t[0].Y,i.End.X=t[0].X,this.LinePoint.push(i)}}}}},{Name:"对称角度",ClassName:"ChartDrawPictureSymmetryAngle",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureSymmetryAngle",this.PointCount=2,this.Font=16*L()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){for(var e in this.AreaColor=He.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),this.CalculateLines(t),this.LinePoint){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End)}this.DrawArea(),this.DrawPoint(t),this.DrawTitle(t),this.Canvas.restore()}}},this.CalculateLines=function(t){if(2==t.length&&this.Frame){var e={Start:new H,End:new H};e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[1].X,this.LinePoint.push(e),(e={Start:new H,End:new H}).Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[0].X,this.LinePoint.push(e);var i=t[0].X-t[1].X;(e={Start:new H,End:new H}).Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[0].X+i,this.LinePoint.push(e)}},this.DrawArea=function(){3==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.lineTo(this.LinePoint[0].End.X,this.LinePoint[0].End.Y),this.Canvas.lineTo(this.LinePoint[2].End.X,this.LinePoint[2].End.Y),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.closePath(),this.Canvas.fill())},this.DrawTitle=function(t){this.Status}}}},{Name:"圆",ClassName:"ChartDrawPictureCircle",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureCircle",this.PointCount=2,this.CircleData,this.GetXYCoordinate=this.GetXYCoordinate_default,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.AreaColor=He.ColorToRGBA(this.LineColor,.3),this.ClipFrame();var e=t[0].X-t[1].X,i=t[0].Y-t[1].Y,a=Math.sqrt(e*e+i*i);this.Canvas.fillStyle=this.AreaColor,this.Canvas.strokeStyle=this.LineColor,this.DrawLine(t[0],t[1]),this.Canvas.beginPath(),this.Canvas.arc(t[0].X,t[0].Y,a,0,2*Math.PI),this.Canvas.stroke(),this.Canvas.fill(),this.CircleData={X:t[0].X,Y:t[0].Y,R:a},this.DrawPoint(t),this.Canvas.restore()}}},this.IsPointIn=function(t,e,i){if(this.IsFrameMinSize())return-1;if(10!=this.Status)return-1;var a=this.IsPointInXYValue(t,e,i);if(a>=0)return a;if(this.CircleData&&this.CircleData.R>8){var n=this.CircleData.X-t,r=this.CircleData.Y-e,o=Math.sqrt(n*n+r*r);if(o<this.CircleData.R&&o>this.CircleData.R-8)return 100}return-1}}}},{Name:"平行四边形",ClassName:"ChartDrawPictureQuadrangle",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureQuadrangle",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.PointCount=3,this.LastPoint,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.AreaColor=He.ColorToRGBA(this.LineColor,.3);var e=t.slice(0);for(var i in this.CalculateLines(e),this.ClipFrame(),this.LinePoint){var a=this.LinePoint[i];this.DrawLine(a.Start,a.End)}this.DrawArea(),this.DrawPoint(e),this.Canvas.restore()}}},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.DrawArea=function(){4==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.lineTo(this.LinePoint[0].End.X,this.LinePoint[0].End.Y),this.Canvas.lineTo(this.LinePoint[1].End.X,this.LinePoint[1].End.Y),this.Canvas.lineTo(this.LinePoint[2].End.X,this.LinePoint[2].End.Y),this.Canvas.closePath(),this.Canvas.fill())},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new H;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2==t.length){var i=this.CreateLineData(t[0],t[1]);this.LinePoint.push(i)}else if(3==t.length){var i=this.CreateLineData(t[0],t[1]);this.LinePoint.push(i);var i=this.CreateLineData(t[1],t[2]);this.LinePoint.push(i);var a=t[2].X-t[1].X,n=t[2].Y-t[1].Y,r=new H;r.X=t[0].X+a,r.Y=t[0].Y+n;var i=this.CreateLineData(t[2],r);this.LinePoint.push(i);var i=this.CreateLineData(r,t[0]);this.LinePoint.push(i)}}}}},{Name:"斐波那契周期线",ClassName:"ChartDrawPictureFibonacci",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureFibonacci",this.PointCount=1,this.Font=14*L()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint();if(t&&(this.CalculateLines(),!(this.LinePoint.length<=0))){for(var e in this.ClipFrame(),this.SetLineWidth(),this.LinePoint){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End),this.DrawTitle(i.Start,i.Title)}this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}}},this.DrawTitle=function(t,e){this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="top",this.Canvas.font=this.Font,this.Frame.IsHScreen?(this.Canvas.save(),this.Canvas.translate(t.X,t.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(e,2,10),this.Canvas.restore()):this.Canvas.fillText(e,t.X+2,t.Y+10)},this.CalculateHSCreenLines=function(){var t=this.Frame.Data;if(t){var e=null;if(10==this.Status){if(1!=this.Value.length)return;e=this.Value[0].XValue}else{if(1!=this.Point.length)return;e=parseInt(this.Frame.GetXData(this.Point[0].Y))+t.DataOffset}for(var i=this.Frame.ChartBorder.GetRightEx(),a=this.Frame.ChartBorder.GetLeftEx(),n=this.Frame.XPointCount,r=[1,2,3,5,8,13,21,34,55,89,144,233],o=0;o<r.length;++o){var s=e+r[o],l=s-t.DataOffset;if(!(l<0||l>=n)){var h=this.Frame.GetXFromIndex(s-t.DataOffset,!1),u={Start:new H,End:new H,Title:r[o]};u.Start.X=i,u.Start.Y=h,u.End.X=a,u.End.Y=h,this.LinePoint.push(u)}}}},this.CalculateLines=function(){if(!(this.Status<2)&&this.Frame){var t=this.Frame.Data;if(t)if(this.Frame.IsHScreen)this.CalculateHSCreenLines();else{var e=null;if(10==this.Status){if(1!=this.Value.length)return;e=this.Value[0].XValue}else{if(1!=this.Point.length)return;e=parseInt(this.Frame.GetXData(this.Point[0].X))+t.DataOffset}for(var i=this.Frame.ChartBorder.GetTopEx(),a=this.Frame.ChartBorder.GetBottom(),n=this.Frame.XPointCount,r=[1,2,3,5,8,13,21,34,55,89,144,233],o=0;o<r.length;++o){var s=e+r[o],l=s-t.DataOffset;if(!(l<0||l>=n)){var h=this.Frame.GetXFromIndex(s-t.DataOffset,!1),u={Start:new H,End:new H,Title:r[o]};u.Start.Y=i,u.Start.X=h,u.End.Y=a,u.End.X=h,this.LinePoint.push(u)}}}}}}}},{Name:"线形回归线",ClassName:"ChartDrawLinearRegression",Create:function(){return new Ke}},{Name:"线形回归带",ClassName:"ChartDrawLinearRegression",Create:function(){return new Ke({IsShowMaxMinLine:!0})}},{Name:"延长线形回归带",ClassName:"ChartDrawLinearRegression",Create:function(){return new Ke({IsShowMaxMinLine:!0,IsShowExtendLine:!0})}},{Name:"尺子",ClassName:"ChartDrawRuler",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawRuler",this.PointCount=2,this.Font=16*L()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.TitleColor=Qe.ChartDrawRuler.TitleColor,this.IsHScreen=!1,this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.IsHScreen=this.Frame.IsHScreen,this.ClipFrame();var e=t[0],i=t[1],a=this.PointToKLine([e,i]),n=this.Calculate(a),r=Ce.IsNumber(n.Increase)?n.Increase.toFixed(2)+"%":"--",o=Ce.IsNumber(n.Risefall)?n.Risefall.toFixed(2):"--",s="间距:"+n.Count+" 涨跌:"+o+" 涨幅:"+r;this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e.X,e.Y),this.Canvas.lineTo(i.X,i.Y),this.Canvas.stroke(),this.RestoreLineWidth();var l={Start:e,End:i};this.LinePoint.push(l),this.DrawPoint(t),this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left",this.Canvas.font=this.Font,this.TitleColor?this.Canvas.fillStyle=this.TitleColor:Ce.IsNumber(n.Increase)?n.Increase>0?this.Canvas.fillStyle=Qe.UpTextColor:n.Increase<0?this.Canvas.fillStyle=Qe.DownTextColor:this.Canvas.fillStyle=Qe.UnchagneTextColor:this.Canvas.fillStyle=Qe.UnchagneTextColor;var h=3*L(),u=e.X,c=e.Y;this.IsHScreen?(this.Canvas.translate(u+h,c+h),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(s,0,0)):this.Canvas.fillText(s,u+h,c-h),this.Canvas.restore()}},this.Calculate=function(t){var e=t[0],i=t[1];e.XValue>i.XValue&&(e=t[1],i=t[0]);for(var a,n,r,o,s,l=this.Frame.Data.Data,h=0,u=e.XValue;u<=i.XValue;++u,++h){var c=l[u];0==h?(o=c.YClose,a=c.Open,s=c.Close,r=c.Low,n=c.High):(s=c.Close,r>c.Low&&(r=c.Low),n<c.High&&(n=c.High))}if(!Ce.IsPlusNumber(o)){var d=e.XValue-1;d>=0&&d<l.length&&(o=l[d].Close)}var f={YClose:o,Open:a,High:n,Low:r,Close:s,Count:h};return Ce.IsPlusNumber(o)&&(f.Increase=(s-o)/o*100,f.Risefall=s-o),f}}}},{Name:"标价线",ClassName:"ChartDrawPriceLine",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPriceLine",this.Font=16*L()+"px 微软雅黑",this.PointCount=1,this.IsPointIn=this.IsPointIn_XYValue_Line,this.IsHScreen=!1,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!1,IsCheckY:!0});if(t&&1==t.length){this.IsHScreen=this.Frame.IsHScreen;var e=t[0],i=this.Frame.ChartBorder;if(this.IsHScreen){var a=i.GetLeftEx(),n=i.GetRightEx();if(e.X<a||e.X>n)return;var r=i.GetBottom(),o={X:e.X,Y:r},s=this.Frame.GetYData(e.X,!1)}else{var r=i.GetBottomEx(),l=i.GetTopEx();if(e.Y<l||e.Y>r)return;var n=i.GetRight(),o={X:n,Y:e.Y},s=this.Frame.GetYData(e.Y,!1)}this.ClipFrame(),this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e.X,e.Y),this.Canvas.lineTo(o.X,o.Y),this.Canvas.stroke(),this.RestoreLineWidth();var h={Start:e,End:o};this.LinePoint.push(h),this.DrawPoint(t),this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left",this.Canvas.fillStyle=this.LineColor,this.Canvas.font=this.Font;var u=2*L(),c=e.X,d=e.Y;this.IsHScreen?(this.Canvas.translate(c+u,d+u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(s.toFixed(2),0,0)):this.Canvas.fillText(s.toFixed(2),c+u,d-u),this.Canvas.restore()}}}}}},{Name:"标价线2",ClassName:"ChartDrawPriceLineV2",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPriceLineV2",this.Font=12*L()+"px 微软雅黑",this.PointCount=1,this.IsPointIn=this.IsPointIn_XYValue_Line,this.IsHScreen=!1,this.LineWidth=1,this.IsDrawFirst=!0,this.TextColor="rgb(255,255,255)",this.Title,this.Super_SetOption=this.SetOption,this.SetOption=function(t){this.Super_SetOption&&this.Super_SetOption(t),t&&(t.TextColor&&(this.TextColor=t.TextColor),t.Title&&(this.Title=t.Title))},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!1,IsCheckY:!0});if(t&&1==t.length&&this.IsYValueInFrame(this.Value[0].YValue)){this.IsHScreen=this.Frame.IsHScreen;var e=this.Frame.ChartBorder,i=this.Frame.GetBorder();if(this.IsHScreen){var a=i.LeftEx,n=i.RightEx,r=i.Bottom,o=i.Top,s={X:t[0].X,Y:o};if(s.X<a||s.X>n)return;var l={X:t[0].X,Y:r},h=this.Frame.GetYData(s.X,!1)}else{var r=i.BottomEx,o=i.TopTitle,a=i.Left,n=i.Right,s={X:a,Y:t[0].Y};if(s.Y<o||s.Y>r)return;var l={X:n,Y:t[0].Y},h=this.Frame.GetYData(s.Y,!1)}this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(R(s.X),R(s.Y)),this.Canvas.lineTo(R(l.X),R(l.Y)),this.Canvas.stroke(),this.RestoreLineWidth();var u={Start:s,End:l};this.LinePoint.push(u);var c=L();this.Canvas.font=this.Font;var d=2*c,f=l.X,p=l.Y;this.Canvas.textBaseline="middle",this.Canvas.textAlign="left";var m=this.GetFontHeight(),v=h.toFixed(2),g=this.Canvas.measureText(v).width+2*d;if(this.IsHScreen){if(e.Bottom>10)var C={Left:f-m/2,Top:p,Width:m,Height:g};else var C={Left:f-m/2,Top:p-=g,Width:m,Height:g};if(this.Canvas.fillStyle=this.LineColor,this.Canvas.fillRect(C.Left,C.Top,C.Width,C.Height),this.Canvas.save(),this.Canvas.translate(f,p+1*c),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(v,0,0),this.Canvas.restore(),this.Title){var g=this.Canvas.measureText(this.Title).width+2*c;if(e.Bottom>10)var D={Left:C.Left,Top:r-g-1*c,Width:m,Height:g};else var D={Left:C.Left,Top:C.Top-g-1*c,Width:m,Height:g};this.Canvas.fillStyle=this.LineColor,this.Canvas.fillRect(D.Left,D.Top,D.Width,D.Height),this.Canvas.save(),this.Canvas.translate(f,D.Top+1*c),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(this.Title,0,0),this.Canvas.restore()}}else{if(e.Right>10){var C={Left:f,Top:p-m/2-1*c,Width:g,Height:m};C.Left+C.Width>i.ChartWidth&&(C.Left=i.ChartWidth-C.Width-2*c)}else var C={Left:f-g,Top:p-m/2-1*c,Width:g,Height:m};if(this.Canvas.fillStyle=this.LineColor,this.Canvas.fillRect(C.Left,C.Top,C.Width,C.Height),this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(v,C.Left+d,p),this.Title){var g=this.Canvas.measureText(this.Title).width+2*c;if(e.Right>10){var D={Left:n-g-1*c,Top:C.Top,Width:g,Height:m};C.Left!=n&&(D.Left=C.Left-g-1*c)}else var D={Left:C.Left-g,Top:C.Top,Width:g,Height:m};this.Canvas.fillStyle=this.LineColor,this.Canvas.fillRect(D.Left,D.Top,D.Width,D.Height),this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(this.Title,D.Left+1*c,p)}}}}},this.DrawPrice=function(){}}}},{Name:"垂直线",ClassName:"ChartDrawVerticalLine",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawVerticalLine",this.PointCount=1,this.IsPointIn=this.IsPointIn_XYValue_Line,this.IsHScreen=!1,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()&&this.Frame&&this.Frame.Data){var t=this.Frame.Data,e=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(e&&1==e.length){this.IsHScreen=this.Frame.IsHScreen;var i=e[0],a=this.Frame.ChartBorder;if(this.IsHScreen){var n=Math.round(this.Frame.GetXData(i.Y,!1))+t.DataOffset;n<0?n=0:n>=t.Data.length&&(n=t.Data.length-1);var r=this.Frame.GetXFromIndex(n-t.DataOffset,!1);r=B(this.LineWidth,r);var o=a.GetLeftEx(),s=a.GetRightEx(),l={X:o,Y:r},h={X:s,Y:r}}else{var n=Math.round(this.Frame.GetXData(i.X,!1))+t.DataOffset;n<0?n=0:n>=t.Data.length&&(n=t.Data.length-1);var u=this.Frame.GetXFromIndex(n-t.DataOffset,!1);u=B(this.LineWidth,u);var c=a.GetTopEx(),d=a.GetBottomEx(),l={X:u,Y:c},h={X:u,Y:d}}this.ClipFrame(),this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(l.X,l.Y),this.Canvas.lineTo(h.X,h.Y),this.Canvas.stroke(),this.RestoreLineWidth();var f={Start:l,End:h};this.LinePoint.push(f),10==this.Status&&this.DrawPoint(e),this.Canvas.restore()}}}}}},{Name:"波浪尺",ClassName:"ChartDrawWaveRuler",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawWaveRuler",this.PointCount=3,this.Font=16*L()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.LastPoint,this.LinePoint,this.ScaleRuler=Qe.ChartDrawWaveRuler.ScaleRuler,this.RulerWidth=Qe.ChartDrawWaveRuler.RulerWidth,this.RulerLineWidth=Qe.ChartDrawWaveRuler.RulerLineWidth,this.MaxScaleRuler=Qe.ChartDrawWaveRuler.MaxScaleRuler,this.Font=Qe.ChartDrawWaveRuler.MaxScaleRuler,this.IsHScreen=!1,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){for(var e in this.IsHScreen=this.Frame.IsHScreen,this.CalculateLines(t),this.ClipFrame(),this.SetLineWidth(),this.LinePoint){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End)}3==t.length&&this.DrawWaveRuler(t),this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}}},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new H;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2==t.length){var i={Start:{X:t[0].X,Y:t[0].Y},End:{X:t[1].X,Y:t[1].Y}};this.LinePoint.push(i)}else if(3==t.length){var i={Start:{X:t[0].X,Y:t[0].Y},End:{X:t[1].X,Y:t[1].Y}};this.LinePoint.push(i),i={Start:{X:t[1].X,Y:t[1].Y},End:{X:t[2].X,Y:t[2].Y}},this.LinePoint.push(i)}},this.DrawWaveRuler=function(t){var e=t[1],i=t[0],a=t[2],n=this.RulerLineWidth*L();this.Canvas.lineWidth=n,this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.fillStyle=this.LineColor,this.Canvas.font=this.Font;var r=this.RulerWidth*L();if(this.IsHScreen){var o=i.X-e.X,s={X:a.X-this.MaxScaleRuler*o,Y:a.Y};this.DrawLine(a,s),this.LinePoint.push({Start:a,End:s});var l=a.Y-r/2,h=a.Y+r/2}else{var o=i.Y-e.Y,s={X:B(n,a.X),Y:a.Y-this.MaxScaleRuler*o};this.DrawLine({X:B(n,a.X),Y:a.Y},s),this.LinePoint.push({Start:a,End:s});var u=a.X-r/2,c=a.X+r/2}var d=4*L();for(var f in this.ScaleRuler){var p=this.ScaleRuler[f];if(this.IsHScreen){var u=a.X-p.Value*o,m=this.Frame.GetYData(u,!1);this.DrawLine({X:u,Y:l},{X:u,Y:h});var v=m.toFixed(2)+"  "+(p.Text?p.Text:p.Value.toFixed(3));this.Canvas.save(),this.Canvas.translate(u,a.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(v,d,0),this.Canvas.restore()}else{var l=a.Y-p.Value*o,m=this.Frame.GetYData(l,!1);this.DrawLine({X:u,Y:B(n,l)},{X:c,Y:B(n,l)});var v=m.toFixed(2)+"  "+(p.Text?p.Text:p.Value.toFixed(3));this.Canvas.fillText(v,c+d,l)}}}}}},{Name:"AB波浪尺",ClassName:"ChartDrawWaveRuler2Point",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawWaveRuler2Point",this.PointCount=2,this.Font=14*L()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.PointRate=[510,517,511.4],this.LinePoint,this.CPoint,this.ScaleRuler=Qe.ChartDrawWaveRuler2Point.ScaleRuler,this.RulerWidth=Qe.ChartDrawWaveRuler2Point.RulerWidth,this.RulerLineWidth=Qe.ChartDrawWaveRuler2Point.RulerLineWidth,this.MaxScaleRuler=Qe.ChartDrawWaveRuler2Point.MaxScaleRuler,this.Font=Qe.ChartDrawWaveRuler2Point.MaxScaleRuler,this.IsHScreen=!1,this.Super_SetOption=this.SetOption,this.SetOption=function(t){this.Super_SetOption&&this.Super_SetOption(t),t&&t.PointRate&&(this.PointRate=t.PointRate)},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){for(var e in this.IsHScreen=this.Frame.IsHScreen,this.CalculateLines(t),this.ClipFrame(),this.SetLineWidth(),this.LinePoint){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End)}var a=[t[0],t[1],this.CPoint];this.DrawWaveRuler(a),this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}}},this.CalculateLines=function(t){var e={Start:{X:t[0].X,Y:t[0].Y},End:{X:t[1].X,Y:t[1].Y}};this.LinePoint.push(e);var i=t[0].Y,a=t[1].Y,n=this.PointRate[1]-this.PointRate[0],r=this.PointRate[2]-this.PointRate[0],o=i-(i-a)*r/n;this.CPoint={X:t[1].X,Y:o}},this.DrawWaveRuler=function(t){var e=t[1],i=t[0],a=t[2],n=this.RulerLineWidth*L();this.Canvas.lineWidth=n,this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.fillStyle=this.LineColor,this.Canvas.font=this.Font;var r=this.RulerWidth*L();if(this.IsHScreen){var o=i.X-e.X,s={X:a.X-this.MaxScaleRuler*o,Y:a.Y};this.DrawLine(a,s),this.LinePoint.push({Start:a,End:s});var l=a.Y-r/2,h=a.Y+r/2}else{var o=i.Y-e.Y,s={X:B(n,a.X),Y:a.Y-this.MaxScaleRuler*o};this.DrawLine({X:B(n,a.X),Y:a.Y},s),this.LinePoint.push({Start:a,End:s});var u=a.X,c=a.X+r}var d=4*L();for(var f in this.ScaleRuler){var p=this.ScaleRuler[f];if(this.IsHScreen){var u=a.X-p.Value*o,m=this.Frame.GetYData(u,!1);this.DrawLine({X:u,Y:l},{X:u,Y:h});var v=m.toFixed(2)+"  "+(p.Text?p.Text:p.Value.toFixed(3));this.Canvas.save(),this.Canvas.translate(u,a.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(v,d,0),this.Canvas.restore()}else{var l=a.Y-p.Value*o,m=this.Frame.GetYData(l,!1);this.DrawLine({X:u,Y:B(n,l)},{X:c,Y:B(n,l)});var v=m.toFixed(2)+"  "+(p.Text?p.Text:p.Value.toFixed(3));this.Canvas.fillText(v,c+d,l)}}}}}},{Name:"箱型线",ClassName:"ChartDrawBox",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawBox",this.PointCount=2,this.Font=16*L()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.IsHScreen=!1,this.AvPriceLineDash=[5*L(),5*L()],this.KLineBorder,this.PointToValue_Backup=this.PointToValue,this.PointToValue=function(){this.Point[0]={X:this.KLineBorder.Left,Y:this.KLineBorder.Top},this.Point[1]={X:this.KLineBorder.Right,Y:this.KLineBorder.Bottom},this.PointToValue_Backup()},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.IsHScreen=this.Frame.IsHScreen,this.ClipFrame();var e=t[0],i=t[1],a=this.PointToKLine([e,i]);g.Chart.Log("[ChartDrawBox::Draw] kPoint",a);var n=this.Calculate(a);g.Chart.Log("[ChartDrawBox::Draw] kDataInfo",n);var r,o=this.GetKLineBorder(t,n);if(this.KLineBorder=o,this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.strokeRect(k(o.Left),k(o.Top),k(o.Right-o.Left),k(o.Bottom-o.Top)),n.Amount>0&&n.Vol>0){var s=n.Amount/n.Vol;if(r="均价"+s.toFixed(2),this.Canvas.beginPath(),this.IsHScreen){var l=this.Frame.GetYFromData(s,!1);this.Canvas.moveTo(B(this.Canvas.lineWidth,l),o.Top),this.Canvas.lineTo(B(this.Canvas.lineWidth,l),o.Bottom)}else{var h=this.Frame.GetYFromData(s,!1);this.Canvas.moveTo(o.Left,B(this.Canvas.lineWidth,h)),this.Canvas.lineTo(o.Right,B(this.Canvas.lineWidth,h))}this.Canvas.setLineDash(this.AvPriceLineDash),this.Canvas.stroke(),this.Canvas.setLineDash([])}this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.textBaseline="top",this.Canvas.textAlign="left",this.Canvas.font=this.Font,this.Canvas.fillStyle=this.LineColor;var u=2*L(),c="K线数"+n.Count;this.IsHScreen?this.DrawText(c,o.Right,o.Top,u,u):this.DrawText(c,o.Left,o.Top,u,u),r&&(this.IsHScreen?this.DrawText(r,l,o.Top,u,u):this.DrawText(r,o.Left,h,u,u));var d=Ce.IsNumber(n.YClose)?n.YClose:n.Open,f=(n.Close-d)/d*100;c=f.toFixed(2)+"%",this.IsHScreen?this.DrawText(c,o.Right,o.Bottom,u,u):this.DrawText(c,o.Right,o.Top,u,u),f=n.Close-d,c=""+f.toFixed(2),this.Canvas.textBaseline="bottom",this.IsHScreen?this.DrawText(c,o.Left,o.Bottom,u,0):this.DrawText(c,o.Right,o.Bottom,u,0),this.Canvas.restore()}}},this.Calculate=function(t){var e=t[0],i=t[1];e.XValue>i.XValue&&(e=t[1],i=t[0]);for(var a,n,r,o,s,l=this.Frame.Data.Data,h=0,u=0,c=0,d=e.XValue;d<=i.XValue;++d,++c){var f=l[d];0==c?(o=f.YClose,a=f.Open,s=f.Close,r=f.Low,n=f.High):(s=f.Close,r>f.Low&&(r=f.Low),n<f.High&&(n=f.High)),h+=f.Vol,u+=f.Amount}var p={YClose:o,Open:a,High:n,Low:r,Close:s,Count:c,Vol:h,Amount:u};return p},this.GetKLineBorder=function(t,e){var i=t[0],a=t[1],n=this.Frame.Data;if(this.IsHScreen){var r=Math.round(this.Frame.GetXData(i.Y,!1))+n.DataOffset;r<0?r=0:r>=n.Data.length&&(r=n.Data.length-1);var o=this.Frame.GetXFromIndex(r-n.DataOffset,!1);(r=Math.round(this.Frame.GetXData(a.Y,!1))+n.DataOffset)<0?r=0:r>=n.Data.length&&(r=n.Data.length-1);var s=this.Frame.GetXFromIndex(r-n.DataOffset,!1),l=this.Frame.GetYFromData(e.High,!1),h=this.Frame.GetYFromData(e.Low,!1),u={Left:h,Top:o,Right:l,Bottom:s};return this.LinePoint.push({Start:{X:h,Y:o},End:{X:s,Y:o}}),this.LinePoint.push({Start:{X:h,Y:s},End:{X:s,Y:s}}),this.LinePoint.push({Start:{X:h,Y:o},End:{X:h,Y:s}}),this.LinePoint.push({Start:{X:l,Y:o},End:{X:l,Y:s}}),u}var r=Math.round(this.Frame.GetXData(i.X,!1))+n.DataOffset;r<0?r=0:r>=n.Data.length&&(r=n.Data.length-1);var c=this.Frame.GetXFromIndex(r-n.DataOffset,!1);(r=Math.round(this.Frame.GetXData(a.X,!1))+n.DataOffset)<0?r=0:r>=n.Data.length&&(r=n.Data.length-1);var d=this.Frame.GetXFromIndex(r-n.DataOffset,!1),f=this.Frame.GetYFromData(e.High,!1),p=this.Frame.GetYFromData(e.Low,!1),u={Left:c,Top:f,Right:d,Bottom:p};return this.LinePoint.push({Start:{X:c,Y:f},End:{X:d,Y:f}}),this.LinePoint.push({Start:{X:c,Y:p},End:{X:d,Y:p}}),this.LinePoint.push({Start:{X:c,Y:f},End:{X:c,Y:p}}),this.LinePoint.push({Start:{X:d,Y:f},End:{X:d,Y:p}}),u},this.DrawText=function(t,e,i,a,n){this.IsHScreen?(this.Canvas.save(),this.Canvas.translate(e,i),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(t,a,n),this.Canvas.restore()):this.Canvas.fillText(t,e+a,i+n)}}}},{Name:"2点画图例子",ClassName:"ChartDrawTwoPointDemo",Create:function(){return new $e}},{Name:"3点画图例子",ClassName:"ChartDrawThreePointDemo",Create:function(){return new je}},{Name:"水平线段",ClassName:"ChartDrawHLineSegment",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawHLineSegment",this.PointCount=2,this.IsPointIn=this.IsPointIn_XYValue_Line,this.ChartBorder,this.PointToValue_Backup=this.PointToValue,this.PointToValue=function(){this.Frame.IsHScreen?this.Point[1].X=this.Point[0].X:this.Point[1].Y=this.Point[0].Y,this.PointToValue_Backup()},this.GetXYCoordinate=function(){if(this.IsFrameMinSize())return null;var t=this.CalculateDrawPoint({IsCheckX:!1,IsCheckY:!0});return this.PointRange(t)},this.Draw=function(){if(this.Frame&&(this.IsHScreen=this.Frame.IsHScreen,this.LinePoint=[],!this.IsFrameMinSize())){var t=this.CalculateDrawPoint({IsCheckX:!1,IsCheckY:!0});if(t&&2==t.length){this.ClipFrame(),this.ChartBorder=this.Frame.ChartBorder,this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor;var e=t[0],i=t[1];10==this.Status?this.DrawLine(e,i,!1):this.DrawVerticalLine(e,i),this.RestoreLineWidth();var a={Start:e,End:i};this.LinePoint.push(a),this.DrawPoint(t),this.Canvas.restore()}}},this.DrawVerticalLine=function(t,e){var i=this.Frame.Data;if(this.IsHScreen){var a=this.ChartBorder.GetLeft(),n=this.ChartBorder.GetRight(),r=Math.round(this.Frame.GetXData(t.Y,!1))+i.DataOffset;r<0?r=0:r>=i.Data.length&&(r=i.Data.length-1);var o=this.Frame.GetXFromIndex(r-i.DataOffset,!1);(r=Math.round(this.Frame.GetXData(e.Y,!1))+i.DataOffset)<0?r=0:r>=i.Data.length&&(r=i.Data.length-1);var s=this.Frame.GetXFromIndex(r-i.DataOffset,!1);this.Canvas.beginPath(),this.Canvas.moveTo(a,o),this.Canvas.lineTo(n,o),this.Canvas.moveTo(a,s),this.Canvas.lineTo(n,s),this.Canvas.stroke(),this.Canvas.beginPath(),this.Canvas.moveTo(t.X,o),this.Canvas.lineTo(t.X,s),this.Canvas.stroke()}else{var l=this.ChartBorder.GetTopEx(),h=this.ChartBorder.GetBottomEx(),r=Math.round(this.Frame.GetXData(t.X,!1))+i.DataOffset;r<0?r=0:r>=i.Data.length&&(r=i.Data.length-1);var u=this.Frame.GetXFromIndex(r-i.DataOffset,!1);(r=Math.round(this.Frame.GetXData(e.X,!1))+i.DataOffset)<0?r=0:r>=i.Data.length&&(r=i.Data.length-1);var c=this.Frame.GetXFromIndex(r-i.DataOffset,!1);this.Canvas.beginPath(),this.Canvas.moveTo(u,l),this.Canvas.lineTo(u,h),this.Canvas.moveTo(c,l),this.Canvas.lineTo(c,h),this.Canvas.stroke(),this.Canvas.beginPath(),this.Canvas.moveTo(u,t.Y),this.Canvas.lineTo(c,t.Y),this.Canvas.stroke()}}}}},{Name:"平行射线",ClassName:"ChartDrawParallelRaysLines",Create:function(){return new function(){this.newMethod=Ye,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawParallelRaysLines",this.DrawArea=function(){},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new H;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2==t.length){var i=this.CalculateExtendLineEndPoint([t[0],t[1]]);this.LinePoint.push({Start:t[0],End:i})}else if(3==t.length){var i=this.CalculateExtendLineEndPoint([t[0],t[1]]);this.LinePoint.push({Start:t[0],End:i});var a=t[2].X-t[1].X,n=t[2].Y-t[1].Y,r=new H,o=new H;r.X=t[0].X+a,r.Y=t[0].Y+n,o.X=t[1].X+a,o.Y=t[1].Y+n,i=this.CalculateExtendLineEndPoint([r,o]),this.LinePoint.push({Start:t[2],End:i})}}}}},{ClassName:"ChartDrawPictureIconFont",Create:function(){return new Xe}},{Name:"涂鸦线段",ClassName:"ChartDrawGraffitiLine",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawGraffitiLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=null,this.PointCount=2,this.PointToValue=function(){if(!this.Frame)return!1;var t=this.Frame.IsHScreen;if(t)for(var e=0;e<this.Point.length;++e){var i=this.Point[e],a=this.Frame.GetYData(i.X),n={XValue:i.Y,YValue:a};this.Value[e]=n}else for(var e=0;e<this.Point.length;++e){var i=this.Point[e],a=this.Frame.GetYData(i.Y),n={XValue:i.X,YValue:a};this.Value[e]=n}return!0},this.ValueToPoint=function(){if(!this.Frame)return!1;var t=this.Frame.IsHScreen;for(var e in this.Point=[],this.Value){var i=this.Value[e],a=new H;t?(a.Y=i.XValue,a.X=this.Frame.GetYFromData(i.YValue)):(a.X=i.XValue,a.Y=this.Frame.GetYFromData(i.YValue,!1)),this.Point[e]=a}},this.UpdateXValue=function(){},this.CalculateDrawPoint=function(t){if(this.Status<2)return null;if(!this.Point.length||!this.Frame)return null;var e=[];if(10==this.Status){var i=this.Frame.IsHScreen;for(var a in this.Value){var n=this.Value[a],r=new H;i?(r.Y=n.XValue,r.X=this.Frame.GetYFromData(n.YValue,!1)):(r.X=n.XValue,r.Y=this.Frame.GetYFromData(n.YValue,!1)),e.push(r)}}else e=this.Point;return e},this.IsPointInXYValue=function(t,e,i){if(!this.Frame)return-1;if(!this.Value)return-1;var a=5;i&&Ce.IsNumber(i.Zoom)?a+=i.Zoom:this.Option&&Ce.IsNumber(this.Option.Zoom)&&(a+=this.Option.Zoom);var n=this.Frame.IsHScreen;a*=L();for(var r=0;r<this.Value.length;++r){var o=this.Value[r],s=new H;if(n?(s.Y=o.XValue,s.X,this.Frame.GetYFromData(o.YValue)):(s.X=o.XValue,s.Y=this.Frame.GetYFromData(o.YValue)),this.Canvas.beginPath(),this.Canvas.arc(s.X,s.Y,a,0,360),this.Canvas.isPointInPath(t,e))return r}return-1},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.ClipFrame();var e=t[0],i=t[1];this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e.X,e.Y),this.Canvas.lineTo(i.X,i.Y),this.Canvas.stroke(),this.RestoreLineWidth();var a={Start:e,End:i};this.LinePoint.push(a),this.DrawPoint(t),this.Canvas.restore()}}}}}},{Name:"固定范围成交量分布图",ClassName:"ChartDrawVolProfile",Create:function(){return new function(){this.newMethod=He,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawVolProfile",this.PointCount=2,this.IsPointIn=this.IsPointIn_XYValue_Line,this.ChartBorder,this.GetXYCoordinate=this.GetXYCoordinate_default,this.IsShowText=!0,this.VolType=0,this.BarPosition=0,this.VolFont,this.VAVol=60,this.BarWidthRate=.3,this.Data,this.MaxVol,this.MaxVolPrice,this.DataStatus=0,this.BGColor=Qe.ChartDrawVolProfile.BGColor,this.BorderColor=Qe.ChartDrawVolProfile.BorderColor,this.VolLineColor=Qe.ChartDrawVolProfile.VolLineColor,this.TextConfig=(0,u.default)({Color:Qe.ChartDrawVolProfile.Text.Color,Family:Qe.ChartDrawVolProfile.Text.Family,FontMaxSize:Qe.ChartDrawVolProfile.Text.FontMaxSize,FontMinSize:Qe.ChartDrawVolProfile.Text.FontMinSize},"Color",Qe.ChartDrawVolProfile.Text.Color),this.BarColor=[Qe.ChartDrawVolProfile.UpVolColor,Qe.ChartDrawVolProfile.DownVolColor,Qe.ChartDrawVolProfile.AreaUpColor,Qe.ChartDrawVolProfile.AreaDonwColor],this.Super_SetOption=this.SetOption,this.SetOption=function(t){this.Super_SetOption&&this.Super_SetOption(t),t&&(t.BGColor&&(this.BGColor=t.BGColor),t.BorderColor&&(this.BGColor=t.BorderColor),t.VolLineColor&&(this.BGColor=t.VolLineColor),t.UpVolColor&&(this.BarColor[0]=t.UpVolColor),t.DownVolColor&&(this.BarColor[1]=t.DownVolColor),t.AreaUpColor&&(this.BarColor[2]=t.AreaUpColor),t.AreaDonwColor&&(this.BarColor[3]=t.AreaDonwColor),Ce.IsNumber(t.BarWidthRate)&&(this.BarWidthRate=t.BarWidthRate),Ce.IsBool(t.IsShowText)&&(this.IsShowText=t.IsShowText),Ce.IsNumber(t.VolType)&&(this.VolType=t.VolType),Ce.IsNumber(t.BarPosition)&&(this.BarPosition=t.BarPosition),Ce.IsNumber(t.VAVol)&&(this.VAVol=t.VAVol))},this.OnFinish=function(){this.RequestVolumeProfileData()},this.OnMoveFinish=function(){this.RequestVolumeProfileData()},this.IsDrawMain=function(){if(!this.GetActiveDrawPicture)return!0;var t=this.GetActiveDrawPicture();return t.Select.Guid!=this.Guid},this.RequestVolumeProfileData=function(){var t=this.Value[0],e=this.Value[1];t.XValue>e.XValue&&(t=this.Value[1],e=this.Value[0]);var i={Start:{Date:t.DateTime.Date,DataIndex:t.XValue},End:{Date:e.DateTime.Date,DataIndex:e.XValue},Chart:this};Ce.IsNumber(t.DateTime.Time)&&(i.Start.Time=t.DateTime.Time),Ce.IsNumber(e.DateTime.Time)&&(i.End.Time=e.DateTime.Time),i.ValueAreaVol=this.VAVol,this.DataStatus=0,this.HQChart&&this.HQChart.RequestVolumeProfileData&&this.HQChart.RequestVolumeProfileData(i)},this.OnRecvVolumeProfileData=function(t){if(t&&Ce.IsNonEmptyArray(t.Data)){for(var e=0,i=0,a=null,n=0,r=0;n<t.Data.length;++n){var o=t.Data[n];for(i=0,r=0;r<o.Vol.length;++r){var s=o.Vol[r];Ce.IsNumber(s.Value)&&(i+=s.Value)}e<i&&(e=i,a=o.Price)}if(this.MaxVolPrice=a,this.MaxVol=e,!(this.MaxVolPrice<=0||this.MaxVol<=0)&&Ce.IsNumber(t.MaxPrice)&&Ce.IsNumber(t.MinPrice)){var l=this.Frame.GetYFromData(t.MaxPrice,!1),h=this.Frame.GetYFromData(t.MinPrice,!1);this.Point[0].Y=l,this.Point[1].Y=h,this.PointToValue(),this.Data=t,this.DataStatus=1}}},this.Draw=function(){if(this.VolFont=null,this.IsDrawMain()||this.MainDraw(),!this.IsFrameMinSize()){this.Frame&&(this.ChartBorder=this.Frame.ChartBorder);var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.ClipFrame(),this.SetLineWidth();var e=t[0],i=t[1];10==this.Status?0==this.DataStatus&&this.DrawLineBorder(e,i):this.DrawLineBorder(e,i),this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}}},this.MainDraw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()&&1==this.DataStatus&&10==this.Status){this.ClipFrame();this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});this.DrawVolBar(),this.Canvas.restore()}},this.DrawLineBorder=function(t,e){this.Canvas.strokeStyle=this.LineColor;var i=this.ChartBorder.GetTopEx(),a=this.ChartBorder.GetBottomEx();this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.moveTo(t.X,i),this.Canvas.lineTo(t.X,a),this.Canvas.moveTo(e.X,i),this.Canvas.lineTo(e.X,a),this.Canvas.stroke()},this.DrawVolBar=function(){var t=this.Value[0],e=this.Value[1];t.XValue>e.XValue&&(t=this.Value[1],e=this.Value[0]);var i=this.GetKDataOffset(),a=this.GetPriceYOffset(this.Data.PriceOffset),n=this.Frame.GetXFromIndex(t.XValue-i,!1),r=this.Frame.GetXFromIndex(e.XValue-i,!1),o=this.Frame.GetYFromData(this.Data.MaxPrice)-a/2,s=this.Frame.GetYFromData(this.Data.MinPrice)+a/2,l=r-n,h=s-o,u=l*this.BarWidthRate;if(this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(n,o,l,h),this.MaxVolPrice>=this.Frame.HorizontalMin&&this.MaxVolPrice<=this.Frame.HorizontalMax){var c=B(2,this.Frame.GetYFromData(this.MaxVolPrice,!1));this.Canvas.lineWidth=2,this.Canvas.strokeStyle=this.VolLineColor,this.Canvas.beginPath(),this.Canvas.moveTo(n,c),this.Canvas.lineTo(r,c),this.Canvas.stroke();var d={Start:{X:n,Y:c},End:{X:r,Y:c}};this.LinePoint.push(d)}this.IsShowText&&(this.VolFont=this.GetDynamicVolTextFont(a,u),this.VolFont&&(this.Canvas.font=this.VolFont));for(var f=0;f<this.Data.Data.length;++f){var p=this.Data.Data[f];p.Price<this.Frame.HorizontalMin||p.Price>this.Frame.HorizontalMax||this.DrawVolBarItem(p,n,r,u,a)}},this.DrawVolBarItem=function(t,e,i,a,n){var r=e,o=i,s=this.Frame.GetYFromData(t.Price)-n/2,l=n-1;if(l<1&&(l=1),1==this.VolType){if(!t.TotalVol)return;if(!Ce.IsNumber(t.TotalVol.Value))return;var h=t.TotalVol.Value*a/this.MaxVol;if(Ce.IsNumber(t.TotalVol.ColorID)?d=this.BarColor[t.TotalVol.ColorID]:t.TotalVol.Color&&(d=t.TotalVol.Color),this.Canvas.fillStyle=d,1==this.BarPosition?this.Canvas.fillRect(o,k(s),-h,k(l)):this.Canvas.fillRect(r,k(s),h,k(l)),this.IsShowText&&this.VolFont){var u=Ce.FormatVolString(t.TotalVol.Value,this.HQChart.LanguageID);this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextConfig.Color,1==this.BarPosition?(this.Canvas.textAlign="right",this.Canvas.fillText(u,i-5,s+n/2)):(this.Canvas.textAlign="left",this.Canvas.fillText(u,e+5,s+n/2))}}else{for(var u="",c=0;c<t.Vol.length;++c){var d,f=t.Vol[c];if(Ce.IsNumber(f.Value))if(Ce.IsNumber(f.ColorID)?d=this.BarColor[f.ColorID]:f.Color&&(d=f.Color),d){var h=f.Value*a/this.MaxVol;this.Canvas.fillStyle=d,1==this.BarPosition?(this.Canvas.fillRect(o,k(s),-h,k(l)),o-=h):(this.Canvas.fillRect(r,k(s),h,k(l)),r+=h);var p=Ce.FormatVolString(f.Value,this.HQChart.LanguageID);u.length>0&&(u+="x"),u+=p}}this.IsShowText&&this.VolFont&&(this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextConfig.Color,1==this.BarPosition?(this.Canvas.textAlign="right",this.Canvas.fillText(u,i-5,s+n/2)):(this.Canvas.textAlign="left",this.Canvas.fillText(u,e+5,s+n/2)))}},this.GetKDataOffset=function(){var t=this.HQChart.ChartPaint[0].Data;return t.DataOffset},this.GetPriceYOffset=function(t){var e=this.Frame,i=e.ChartBorder.GetHeightEx()*t/(e.HorizontalMax-e.HorizontalMin);return i},this.GetDynamicVolTextFont=function(t,e,i){var a=parseInt(t)-2;if(t<5&&(a=parseInt(t)),a>this.TextConfig.FontMaxSize?a=this.TextConfig.FontMaxSize:a<=0&&(a=1),a<this.TextConfig.FontMinSize)return null;var n=this.FormatFontString(a,this.TextConfig.Family,i);return n},this.FormatFontString=function(t,e,i){var a;return i?i.Weight&&(a=i.Weight+" "+t+"px "+e):a=t+"px "+e,a}}}},{Name:"DisjointChannel",ClassName:"ChartDrawDisjontChannel",Create:function(){return new function(){this.newMethod=We,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawDisjontChannel",this.IsPointIn=this.IsPointIn_XYValue_Line,this.PointCount=3,this.LastPoint}}},{Name:"FlatTop",ClassName:"ChartDrawDisjontChannel",Create:function(){return new We}}],He.MapIonFont=new p.default([["icon-arrow_up",{Text:"",Color:"#318757",Family:"iconfont"}],["icon-arrow_down",{Text:"",Color:"#db563e",Family:"iconfont"}],["icon-arrow_right",{Text:"",Color:"#318757",Family:"iconfont"}],["icon-arrow_left",{Text:"",Color:"#318757",Family:"iconfont"}]]),He.GetDrawPictureByName=function(t){for(var e in He.ArrayDrawPricture){var i=He.ArrayDrawPricture[e];if(i.Name==t)return i}return null},He.GetDrawPictureByClassName=function(t){for(var e in He.ArrayDrawPricture){var i=He.ArrayDrawPricture[e];if(i.ClassName==t)return i}return null},He.RegisterDrawPicture=function(t){if(!t.Name||!t.ClassName||!t.Create)return!1;var e={Name:t.Name,ClassName:t.ClassName,Create:t.Create};return He.ArrayDrawPricture.push(e),g.Chart.Log("[IChartDrawPicture.RegisterDrawPicture] registered new draw picture class. item=",e),!0},He.RegisterIonFont=function(t){if(!t.Name||!t.Text||!t.Family)return!1;var e=He.MapIonFont.has(t.Name);return He.MapIonFont.set(t.Name,t),g.Chart.Log("[IChartDrawPicture.RegisterIonFont] registered new icon font, obj=, isOverwirte=",t,e),!0},He.CreateChartDrawPicture=function(t){var e=He.GetDrawPictureByClassName(t.ClassName);if(!e)return null;var i=e.Create();return t.Period>=0&&(i.Period=t.Period),t.Right>=0&&(i.Right=t.Right),t.Guid&&(i.Guid=t.Guid),t.Symbol&&(i.Symbol=t.Symbol),t.Value&&(i.Value=t.Value),t.Text&&(i.Text=t.Text),t.LineColor&&(i.LineColor=t.LineColor),t.AreaColor&&(i.AreaColor=t.AreaColor),t.FontOption&&(i.FontOption=t.FontOption),t.Label&&(i.Label=t.Label),t.LineWidth>0&&(i.LineWidth=t.LineWidth),!1===t.EnableMove&&(i.EnableMove=t.EnableMove),Ce.IsBool(t.EnableSave)&&(i.EnableSave=t.EnableSave),i};var Qe=new Ze,ti={LANGUAGE_CHINESE_ID:0,LANGUAGE_ENGLISH_ID:1,LANGUAGE_TRADITIONAL_CHINESE_ID:2};var ei=new function(){this.TextResource=new p.default([["Tooltip-Open",{CN:"开:",EN:"O:",TC:"開"}],["Tooltip-High",{CN:"高:",EN:"H:",TC:"高"}],["Tooltip-Low",{CN:"低:",EN:"L:",TC:"低"}],["Tooltip-Close",{CN:"收:",EN:"C:",TC:"收"}],["Tooltip-Increase",{CN:"幅:",EN:"I:",TC:"幅"}],["Tooltip-Vol",{CN:"量:",EN:"V:",TC:"量"}],["Tooltip-Amount",{CN:"额:",EN:"A:",TC:"額"}],["Tooltip-AvPrice",{CN:"均:",EN:"AP:",TC:"均"}],["Tooltip-Price",{CN:"价:",EN:"P:",TC:"價"}],["Tooltip-Exchange",{CN:"换:",EN:"E:",TC:"換"}],["Tooltip-Position",{CN:"持:",EN:"P:",TC:"持"}],["DivTooltip-Open",{CN:"开盘:",EN:"Open:",TC:"開盤"}],["DivTooltip-High",{CN:"最高:",EN:"High:",TC:"最高"}],["DivTooltip-Low",{CN:"最低:",EN:"Low:",TC:"最低"}],["DivTooltip-Close",{CN:"收盘:",EN:"Close:",TC:"收盤"}],["DivTooltip-Increase",{CN:"涨幅:",EN:"Increase:",TC:"漲幅"}],["DivTooltip-Vol",{CN:"数量:",EN:"Volume:",TC:"數量"}],["DivTooltip-Amount",{CN:"金额:",EN:"Amount:",TC:"金額"}],["DivTooltip-Exchange",{CN:"换手:",EN:"Exchange:",TC:"換手"}],["DivTooltip-Position",{CN:"持仓:",EN:"Position:",TC:"持倉"}],["DivTooltip-Price",{CN:"价格:",EN:"Open:",TC:"價格"}],["PCTooltip-Date",{CN:"日期",EN:"Date",TC:"日期"}],["PCTooltip-Time",{CN:"时间",EN:"Time",TC:"時間"}],["PCTooltip-Price",{CN:"价格",EN:"Price:",TC:"價格"}],["PCTooltip-AvPrice",{CN:"均价",EN:"AVPrice:",TC:"均價"}],["PCTooltip-Increase",{CN:"涨幅",EN:"Increase:",TC:"漲幅"}],["PCTooltip-Vol",{CN:"成交量",EN:"Volume:",TC:"成交量"}],["PCTooltip-Amount",{CN:"成交额",EN:"Amount:",TC:"成交額"}],["PCTooltip-AC-Price",{CN:"匹配价:",EN:"Price:",TC:"匹配價"}],["PCTooltip-AC-Increase",{CN:"竞价涨幅:",EN:"Increase:",TC:"競價漲幅"}],["PCTooltip-AC-Vol",{CN:"匹配量:",EN:"V:",TC:"匹配量"}],["PCTooltip-AC-NotMatchVol",{CN:"未匹配量:",EN:"NV:",TC:"未匹配量"}],["KTitle-Open",{CN:"开:",EN:"O:",TC:"開"}],["KTitle-High",{CN:"高:",EN:"H:",TC:"高"}],["KTitle-Low",{CN:"低:",EN:"L:",TC:"低"}],["KTitle-Close",{CN:"收:",EN:"C:",TC:"收"}],["KTitle-Increase",{CN:"幅:",EN:"I:",TC:"幅"}],["KTitle-Vol",{CN:"量:",EN:"V:",TC:"量"}],["KTitle-Amount",{CN:"额:",EN:"A:",TC:"額"}],["KTitle-Exchange",{CN:"换:",EN:"E:",TC:"換"}],["KTitle-Position",{CN:"持:",EN:"P:",TC:"持"}],["KTitle-Price",{CN:"价:",EN:"Price:",TC:"價"}],["MTitle-AC-Price",{CN:"匹配价:",EN:"C:",TC:"匹配價"}],["MTitle-AC-AvPrice",{CN:"匹配均价:",EN:"C:",TC:"匹配均價"}],["MTitle-AC-Increase",{CN:"竞价涨幅:",EN:"I:",TC:"競價漲幅"}],["MTitle-AC-Vol",{CN:"匹配量:",EN:"V:",TC:"匹配量"}],["MTitle-AC-NotMatchVol",{CN:"未匹配量:",EN:"NV:",TC:"未匹配量"}],["MTitle-AC-Amount",{CN:"匹配量金额:",EN:"A:",TC:"匹配量金额"}],["MTitle-AC-NotMatchAmount",{CN:"未匹配量金额:",EN:"NA:",TC:"未匹配量金额"}],["MTitle-Close",{CN:"价:",EN:"C:",TC:"價"}],["MTitle-AvPrice",{CN:"均:",EN:"AC:",TC:"均"}],["MTitle-Increase",{CN:"幅:",EN:"I:",TC:"幅"}],["MTitle-Vol",{CN:"量:",EN:"V:",TC:"量"}],["MTitle-Amount",{CN:"额:",EN:"A:",TC:"額"}],["MTitle-Position",{CN:"持:",EN:"P:",TC:"持"}],["MTitle-UpdateTime",{CN:"更新:",EN:"Update:",TC:"更新:"}],["日线",{CN:"日线",EN:"1D",TC:"日綫"}],["周线",{CN:"周线",EN:"1W",TC:"周綫"}],["双周",{CN:"双周",EN:"2W",TC:"雙周"}],["月线",{CN:"月线",EN:"1M",TC:"月綫"}],["半年",{CN:"半年",EN:"HY",TC:"半年"}],["年线",{CN:"年线",EN:"1Y",TC:"年綫"}],["1分",{CN:"1分",EN:"1Min",TC:"1分"}],["5分",{CN:"5分",EN:"5Min",TC:"5分"}],["15分",{CN:"15分",EN:"15Min",TC:"15分"}],["30分",{CN:"30分",EN:"30Min",TC:"30分"}],["60分",{CN:"60分",EN:"60Min",TC:"60分"}],["季线",{CN:"季线",EN:"1Q",TC:"季綫"}],["分笔",{CN:"分笔",EN:"Tick",TC:"分筆"}],["2小时",{CN:"2小时",EN:"2H",TC:"2小時"}],["4小时",{CN:"4小时",EN:"4H",TC:"4小時"}],["不复权",{CN:"不复权",EN:"No Right",TC:"不復權"}],["前复权",{CN:"前复权",EN:"Pro Right",TC:"前復權"}],["后复权",{CN:"后复权",EN:"Post Right",TC:"后復權"}],["日",{CN:"日",EN:"Sun.",TC:"日"}],["一",{CN:"一",EN:"Mon.",TC:"壹"}],["二",{CN:"二",EN:"Tues.",TC:"貳"}],["三",{CN:"三",EN:"Wed.",TC:"叁"}],["四",{CN:"四",EN:"Thur.",TC:"肆"}],["五",{CN:"五",EN:"Fri.",TC:"伍"}],["六",{CN:"六",EN:"Sat.",TC:"陸"}],["1月",{CN:"1月",EN:"Jan",TC:"1月"}],["2月",{CN:"2月",EN:"Feb",TC:"2月"}],["3月",{CN:"3月",EN:"Mar",TC:"3月"}],["4月",{CN:"4月",EN:"Apr",TC:"4月"}],["5月",{CN:"5月",EN:"May",TC:"5月"}],["6月",{CN:"6月",EN:"Jun",TC:"6月"}],["7月",{CN:"7月",EN:"Jul",TC:"7月"}],["8月",{CN:"8月",EN:"Aug",TC:"8月"}],["9月",{CN:"9月",EN:"Sept",TC:"9月"}],["10月",{CN:"10月",EN:"Oct",TC:"10月"}],["11月",{CN:"11月",EN:"Nov",TC:"11月"}],["12月",{CN:"12月",EN:"Dec",TC:"12月"}],["自定义分钟",{CN:"分",EN:"Min",TC:"分"}],["自定义日线",{CN:"日",EN:"D",TC:"日"}],["自定义秒",{CN:"秒",EN:"S",TC:"秒"}],["MVol-Vol",{CN:"成交量",EN:"Volume",TC:"成交量"}],["MVol-Position",{CN:"持仓量",EN:"Position",TC:"持倉量"}],["Depth-Price",{CN:"委托价",EN:"Price",TC:"委托價"}],["Depth-Sum",{CN:"累计",EN:"Sum",TC:"累計"}],["Toolbar-"+E.MODIFY_INDEX_PARAM,{CN:"调整指标参数",EN:"Change indicator parameters",TC:"调整指标参数"}],["Toolbar-"+E.CHANGE_INDEX,{CN:"选择指标",EN:"Change indicator",TC:"切换指标"}],["Toolbar-"+E.CLOSE_INDEX_WINDOW,{CN:"关闭窗口",EN:"Delete window",TC:"关闭指标窗口"}],["Toolbar-"+E.OVERLAY_INDEX,{CN:"叠加指标",EN:"Overlay indicator",TC:"叠加指标"}],["Toolbar-"+E.MODIFY_OVERLAY_INDEX_PARAM,{CN:"调整叠加指标参数",EN:"Change overlay indicator parameters",TC:"调整叠加指标参数"}],["Toolbar-"+E.MAX_MIN_WINDOW,{CN:"最大化",EN:"Maximize",TC:"最大化"}],["Toolbar-"+E.TITLE_WINDOW,{CN:"折叠窗口",EN:"Collapse window",TC:"折叠窗口"}],["Toolbar-"+E.CLOSE_BEFOREOPEN_ID,{CN:"关闭集合竞价",EN:"Close call auction",TC:"关闭集合竞价"}],["Toolbar-"+E.CLOSE_OVERLAY_INDEX,{CN:"关闭叠加指标",EN:"Delte overlay indicator",TC:"关闭叠加指标"}],["Toolbar-"+E.CHIP_RECENT,{CN:"近期成本分布",EN:"Recent chip",TC:"近期成本分布"}],["Toolbar-"+E.CHIP_LONG,{CN:"远期成本分布",EN:"Long chip",TC:"远期成本分布"}],["Toolbar-"+E.CHIP_DEFULT,{CN:"默认筹码分布",EN:"Default chip",TC:"默认筹码分布"}]]),this.GetText=function(t,e){var i=this.TextResource.get(t);if(!i)return"";switch(e){case ti.LANGUAGE_CHINESE_ID:return i.CN;case ti.LANGUAGE_ENGLISH_ID:return i.EN;case ti.LANGUAGE_TRADITIONAL_CHINESE_ID:return i.TC;default:return i.CN}},this.SetTextResource=function(t,e){this.TextResource.set(t,e)},this.GetLanguageID=function(t){var e=null;switch(t){case"EN":e=ti.LANGUAGE_ENGLISH_ID;break;case"CN":e=ti.LANGUAGE_CHINESE_ID;break;case"TC":e=ti.LANGUAGE_TRADITIONAL_CHINESE_ID}return e}};function ii(){}function ai(){}ii.Get=function(t){return new p.default([["市场多空",{IsMainIndex:!1,Create:function(){return new function(){this.newMethod=di,this.newMethod("Long-Short"),delete this.newMethod,this.Index=new Array(new ci("多头区域",null),new ci("空头区域",null),new ci("市场多空指标",null)),this.Index[0].LineColor=Qe.UpBarColor,this.Index[1].LineColor=Qe.DownBarColor,this.Index[2].LineColor=Qe.Index.LineColor[0],this.LongShortData,this.CreateChart=function(t){if(2==t){var e=new Lt;return e.LineWidth=2,e}return new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartStraightLine",this.Color="rgb(255,193,37)",this.Draw=function(){if(this.Data&&this.Data.Data&&1==this.Data.Data.length){this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight();var t=this.ChartFrame.XPointCount,e=this.Data.Data[0],i=this.ChartFrame.GetYFromData(e),a=this.ChartFrame.GetXFromIndex(0),n=this.ChartFrame.GetXFromIndex(t-1),r=parseInt(i.toString())+.5;this.Canvas.beginPath(),this.Canvas.moveTo(a,r),this.Canvas.lineTo(n,r),this.Canvas.strokeStyle=this.Color,this.Canvas.stroke()}},this.GetMaxMin=function(){this.ChartFrame.XPointCount;var t={Min:null,Max:null};return this.Data&&this.Data.Data?1!=this.Data.Data.length?t:(t.Min=this.Data.Data[0],t.Max=this.Data.Data[0],t):t}}},this.GetOutData=function(){return{LongShortData:this.LongShortData}},this.RequestData=function(t,e,i){var a=this,n={HQChart:t,WindowIndex:e,HistoryData:i};return this.LongShortData=[],n.HQChart.Period>0?(this.NotSupport(n.HQChart,n.WindowIndex,"不支持周期切换"),n.HQChart.Draw(),this.SendEvent(t,e,i,"不支持周期切换"),!1):(C.HttpRequest({url:Qe.Index.MarketLongShortApiUrl,data:{},type:"post",dataType:"json",async:!0,success:function(r){a.RecvData(r,n),a.SendEvent(t,e,i)}}),!0)},this.RecvData=function(t,e){if(!(t.data.length<=0)){var i=new Array;for(var a in t.data){var n=t.data[a],r=new ut;r.Date=n[0],r.Value=n[1],i.push(r)}var o=e.HistoryData.GetFittingData(i),s=new mt;s.Data=o,s.Period=e.HQChart.Period,s.Right=e.HQChart.Right,this.LongShortData=s.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e),n=this.IsOverlay();if(a.length!=this.Index.length)return!1;a[2].Data.Data=this.LongShortData,a[0].Data.Data[0]=8,a[1].Data.Data[0]=1;var r=e+1;if(n){this.OverlayIndex.Frame.Frame.YSpecificMaxMin={Max:9,Min:0,Count:3};var o=t.TitlePaint[r];for(var s in o.OverlayIndex.set(this.OverlayIndex.Identify,{Data:[],Title:""}),a){var l=new ke(a[s].Data,this.Index[s].Name,this.Index[s].LineColor);2!=s&&(l.DataType="StraightLine"),o.OverlayIndex.get(this.OverlayIndex.Identify).Data[s]=l}}else for(var s in t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:9,Min:0,Count:3},a)t.TitlePaint[r].Data[s]=new ke(a[s].Data,this.Index[s].Name,this.Index[s].LineColor),2!=s&&(t.TitlePaint[r].Data[s].DataType="StraightLine");return!0}}}}],["市场择时",{IsMainIndex:!1,Create:function(){return new function(){this.newMethod=di,this.newMethod("Market-Timing"),delete this.newMethod,this.Index=new Array(new ci("因子择时",null)),this.TimingData,this.TitleColor=Qe.FrameSplitTextColor,this.CreateChart=function(t){return new Kt},this.GetOutData=function(){return{TimingData:this.TimingData}},this.RequestData=function(t,e,i){var a=this,n={HQChart:t,WindowIndex:e,HistoryData:i};return this.LongShortData=[],n.HQChart.Period>0?(this.NotSupport(n.HQChart,n.WindowIndex,"不支持周期切换"),n.HQChart.Draw(),this.SendEvent(t,e,i,"不支持周期切换"),!1):(C.HttpRequest({url:Qe.Index.MarketLongShortApiUrl,data:{},type:"post",dataType:"json",async:!0,success:function(r){a.RecvData(r,n),a.SendEvent(t,e,i)}}),!0)},this.RecvData=function(t,e){if(!(t.data.length<=0)){var i=new Array;for(var a in t.data){var n=t.data[a],r=new ut;r.Date=n[0],r.Value=n[2],i.push(r)}var o=e.HistoryData.GetFittingData(i),s=new mt;s.Data=o,s.Period=e.HQChart.Period,s.Right=e.HQChart.Right,this.TimingData=s.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e),n=this.IsOverlay();if(a.length!=this.Index.length)return!1;a[0].Data.Data=this.TimingData,a[0].NotSupportMessage=null;var r=e+1;if(n){var o=t.TitlePaint[r];for(var s in o.OverlayIndex.set(this.OverlayIndex.Identify,{Data:[],Title:""}),a){var l=new ke(a[s].Data,this.Index[s].Name,this.Index[s].LineColor);l.StringFormat=Be.THOUSANDS,l.FloatPrecision=0,o.OverlayIndex.get(this.OverlayIndex.Identify).Data[s]=l}}else for(var s in a)t.TitlePaint[r].Data[s]=new ke(a[s].Data,this.Index[s].Name,this.TitleColor),t.TitlePaint[r].Data[s].StringFormat=Be.THOUSANDS,t.TitlePaint[r].Data[s].FloatPrecision=0;return!0}}}}],["市场关注度",{IsMainIndex:!1,Create:function(){return new function(){this.newMethod=di,this.newMethod("Market-Attention"),delete this.newMethod,this.Index=new Array(new ci("市场关注度",null)),this.Data,this.TitleColor=Qe.FrameSplitTextColor,this.ApiUrl=Qe.Index.MarketAttentionApiUrl,this.CreateChart=function(t){return new Kt},this.GetOutData=function(){return{Data:this.Data}},this.SetFrame=function(t,e,i){var a=this.IsOverlay();a?this.OverlayIndex.Frame.Frame.YSpecificMaxMin={Max:6,Min:0,Count:3}:t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:6,Min:0,Count:3}},this.RequestData=function(t,e,i){var a=this,n={HQChart:t,WindowIndex:e,HistoryData:i};return this.Data=[],n.HQChart.Period>0?(this.NotSupport(n.HQChart,n.WindowIndex,"不支持周期切换"),n.HQChart.Draw(),this.SendEvent(t,e,i,"不支持周期切换"),!1):(C.HttpRequest({url:this.ApiUrl,data:{symbol:n.HQChart.Symbol,startdate:20100101},type:"post",dataType:"json",async:!0,success:function(r){a.RecvData(r,n),a.SendEvent(t,e,i)}}),!0)},this.RecvData=function(t,e){if(!(t.date.length<0)){var i=new Array;for(var a in t.date){var n=new ut;n.Date=t.date[a],n.Value=t.value[a],i.push(n)}var r=e.HistoryData.GetFittingData(i),o=new mt;o.Data=r,o.Period=e.HQChart.Period,o.Right=e.HQChart.Right,this.Data=o.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),this.SetFrame(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e),n=this.IsOverlay();if(a.length!=this.Index.length)return!1;a[0].Data.Data=this.Data,a[0].NotSupportMessage=null;var r=e+1;if(n){var o=t.TitlePaint[r];for(var s in o.OverlayIndex.set(this.OverlayIndex.Identify,{Data:[],Title:""}),a){var l=new ke(a[s].Data,this.Index[s].Name,this.Index[s].LineColor);l.StringFormat=Be.THOUSANDS,l.FloatPrecision=0,o.OverlayIndex.get(this.OverlayIndex.Identify).Data[s]=l}}else for(var s in a)t.TitlePaint[r].Data[s]=new ke(a[s].Data,this.Index[s].Name,this.TitleColor),t.TitlePaint[r].Data[s].StringFormat=Be.THOUSANDS,t.TitlePaint[r].Data[s].FloatPrecision=0;return!0}}}}],["指数热度",{IsMainIndex:!1,Create:function(){return new function(){this.newMethod=di,this.newMethod("Market-Heat"),delete this.newMethod,this.Index=new Array(new ci("热度",5),new ci("MA",10),new ci("MA",null)),this.Data,this.ApiUrl=Qe.Index.MarketHeatApiUrl,this.Index[0].LineColor=Qe.FrameSplitTextColor,this.Index[1].LineColor=Qe.Index.LineColor[0],this.Index[2].LineColor=Qe.Index.LineColor[1],this.CreateChart=function(t){return 0==t?new Kt:new Lt},this.RequestData=function(t,e,i){var a=this,n={HQChart:t,WindowIndex:e,HistoryData:i};return this.Data=[],n.HQChart.Period>0?(this.NotSupport(n.HQChart,n.WindowIndex,"不支持周期切换"),n.HQChart.Draw(),!1):(C.HttpRequest({url:this.ApiUrl,data:{symbol:n.HQChart.Symbol,startdate:20100101},type:"post",dataType:"json",async:!0,success:function(t){a.RecvData(t,n)}}),!0)},this.RecvData=function(t,e){if(!(t.date.length<0)){var i=new Array;for(var a in t.date){var n=new ut;n.Date=t.date[a],n.Value=t.value[a],i.push(n)}var r=e.HistoryData.GetFittingData(i),o=new mt;o.Data=r,o.Period=e.HQChart.Period,o.Right=e.HQChart.Right,this.Data=o.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e),n=this.IsOverlay();if(a.length!=this.Index.length)return!1;a[0].Data.Data=this.Data,a[0].NotSupportMessage=null;var r=ai.MA(this.Data,this.Index[0].Param);a[1].Data.Data=r;var o=ai.MA(this.Data,this.Index[1].Param);a[2].Data.Data=o;var s=e+1;if(n){var l=t.TitlePaint[s];for(var h in l.OverlayIndex.set(this.OverlayIndex.Identify,{Data:[],Title:""}),a){var u="";u=0==h?t.Name+this.Index[h].Name:"MA"+this.Index[h-1].Param;var c=new ke(a[h].Data,u,this.Index[h].LineColor);c.StringFormat=Be.DEFAULT,c.FloatPrecision=2,l.OverlayIndex.get(this.OverlayIndex.Identify).Data[h]=c}}else for(var h in a){var u="";u=0==h?t.Name+this.Index[h].Name:"MA"+this.Index[h-1].Param,t.TitlePaint[s].Data[h]=new ke(a[h].Data,u,this.Index[h].LineColor),t.TitlePaint[s].Data[h].StringFormat=Be.DEFAULT,t.TitlePaint[s].Data[h].FloatPrecision=2}return!0}}}}],["财务粉饰",{IsMainIndex:!1,Create:function(){return new function(){this.newMethod=di,this.newMethod("财务粉饰"),delete this.newMethod,this.Index=new Array(new ci("区域",null),new ci("系数",null)),this.Data,this.ApiUrl=Qe.Index.StockHistoryDayApiUrl,this.Index[0].LineColor=Qe.Index.LineColor[0],this.Index[1].LineColor="rgb(105,105,105)",this.CreateChart=function(t){return 0==t?new Ut:new Gt},this.GetOutData=function(){return{Data:this.Data}},this.RequestData=function(t,e,i){var a=this,n={HQChart:t,WindowIndex:e,HistoryData:i};if(this.Data=[],2!=n.HQChart.Period)return this.NotSupport(n.HQChart,n.WindowIndex,"只支持月线"),n.HQChart.Draw(),this.SendEvent(t,e,i,"只支持月线"),!1;return C.HttpRequest({url:this.ApiUrl,data:{symbol:[n.HQChart.Symbol],field:["finance.benford","announcement2.quarter","announcement1.quarter","announcement3.quarter","announcement4.quarter"],condition:[{item:["date","int32","gte","20130101"]},{item:["announcement1.year","int32","gte",0,"announcement2.year","int32","gte",0,"announcement3.year","int32","gte",0,"announcement4.year","int32","gte",0,"or"]}]},type:"post",dataType:"json",async:!0,success:function(r){a.RecvData(r,n),a.SendEvent(t,e,i)}}),!0},this.JsonDataToMapSingleData=function(t){var e=t.stock[0].stockday,i=new p.default;for(var a in e){var n=e[a],r=new ut;if(r.Date=n.date,r.Value=new Array,null!=n.finance1&&null!=n.announcement1){var o=n.announcement1.year,s=n.announcement1.quarter,l=n.finance1.benford;r.Value.push({Year:o,Quarter:s,Value:l})}if(null!=n.finance2&&null!=n.announcement2){var h=n.announcement2.year,u=n.announcement2.quarter,c=n.finance2.benford;r.Value.push({Year:h,Quarter:u,Value:c})}if(null!=n.finance3&&null!=n.announcement3){var f=n.announcement3.year,m=n.announcement3.quarter,v=n.finance3.benford;r.Value.push({Year:f,Quarter:m,Value:v})}if(null!=n.finance4&&null!=n.announcement4){var g=n.announcement4.year,C=n.announcement4.quarter,D=n.finance4.benford;r.Value.push({Year:g,Quarter:C,Value:D})}i.set(r.Date,r)}var y=new Array,x=!0,S=!1,I=void 0;try{for(var T,b=(0,d.default)(i);!(x=(T=b.next()).done);x=!0){var n=T.value;y.push(n[1])}}catch(t){S=!0,I=t}finally{try{!x&&b.return&&b.return()}finally{if(S)throw I}}return y},this.RecvData=function(t,e){if(g.Chart.Log(t),!(null==t.stock||t.stock.length<=0)){var i=this.JsonDataToMapSingleData(t),a=e.HistoryData.GetFittingMonthData(i),n=new mt;n.Data=a,n.Period=e.HQChart.Period,n.Right=e.HQChart.Right,this.Data=n.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e);if(a.length!=this.Index.length)return!1;a[0].NotSupportMessage=null,a[0].Data.Data=[{Value:0,Value2:.2,Color:"rgb(50,205,50)",Title:"安全区",TitleColor:"rgb(245,255 ,250)"},{Value:.2,Value2:.4,Color:"rgb(255,140,0)",Title:"预警区",TitleColor:"rgb(245,255 ,250)"},{Value:.4,Value2:1,Color:"rgb(255,106,106)",Title:"警示区",TitleColor:"rgb(245,255 ,250)"}],a[1].Data.Data=this.Data,t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:1,Min:0,Count:3};var n=e+1;return t.TitlePaint[n].Data[1]=new ke(a[1].Data,this.Index[1].Name,this.Index[1].LineColor),t.TitlePaint[n].Data[1].DataType="MultiReport",t.TitlePaint[n].Title=this.FormatIndexTitle(),!0}}}}],["自定义指数热度",{IsMainIndex:!1,Create:function(){return new function(){this.newMethod=di,this.newMethod("Market-Heat"),delete this.newMethod,this.Index=new Array(new ci("区域",3),new ci("热度指数",10),new ci("MA",5),new ci("MA",10)),this.Data,this.ApiUrl=Qe.Index.CustomIndexHeatApiUrl,this.Index[1].LineColor=Qe.Index.LineColor[1],this.Index[2].LineColor=Qe.Index.LineColor[2],this.Index[3].LineColor=Qe.Index.LineColor[3],this.Create=function(t,e){for(var i in this.Index){var a=null;0==i?a=new Ut:(a=new Lt).Color=this.Index[i].LineColor,a.Canvas=t.Canvas,a.Name=this.Name+"-"+i.toString(),a.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,a.ChartFrame=t.Frame.SubFrame[e].Frame,t.ChartPaint.push(a)}},this.RequestData=function(t,e,i){var a=this,n={HQChart:t,WindowIndex:e,HistoryData:i};return this.Data=[],n.HQChart.Period>0?(this.NotSupport(n.HQChart,n.WindowIndex,"不支持周期切换"),n.HQChart.Draw(),!1):(C.HttpRequest({url:this.ApiUrl,data:{stock:n.HQChart.CustomStock,date:{startdate:n.HQChart.QueryDate.Start,enddate:n.HQChart.QueryDate.End},day:[this.Index[0].Param,this.Index[1].Param]},type:"post",dataType:"json",async:!0,success:function(t){a.RecvData(t,n)}}),!0)},this.RecvData=function(t,e){if(!(null==t.data||t.data.length<0)){var i=new Array;for(var a in t.data){var n=t.data[a],r=new ut;r.Date=n[0],r.Value=n[1],i.push(r)}var o=e.HistoryData.GetFittingData(i),s=new mt;s.Data=o,s.Period=e.HQChart.Period,s.Right=e.HQChart.Right,this.Data=s.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,i){var a=t.GetChartPaint(e);if(a.length!=this.Index.length)return!1;a[0].NotSupportMessage=null,a[0].Data.Data=[{Value:0,Value2:.2,Color:"rgb(50,205,50)",Title:"热度1",TitleColor:"rgb(245,255 ,250)"},{Value:.2,Value2:.4,Color:"rgb(255,140,0)",Title:"热度2",TitleColor:"rgb(245,255 ,250)"},{Value:.4,Value2:.8,Color:"rgb(255,106,106)",Title:"热度3",TitleColor:"rgb(245,255 ,250)"},{Value:.8,Value2:1,Color:"rgb(208, 32 ,144)",Title:"热度4",TitleColor:"rgb(245,255 ,250)"}],a[1].Data.Data=this.Data;var n=ai.MA(this.Data,this.Index[2].Param);a[2].Data.Data=n;var r=ai.MA(this.Data,this.Index[3].Param);a[3].Data.Data=r,t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:1,Min:0,Count:3};for(var o=e+1,s=1;s<a.length;++s){var l=this.Index[s].Name;"MA"==l&&(l="MA"+this.Index[s].Param),t.TitlePaint[o].Data[s]=new ke(a[s].Data,l,this.Index[s].LineColor),t.TitlePaint[o].Data[s].StringFormat=Be.DEFAULT,t.TitlePaint[o].Data[s].FloatPrecision=2}return t.TitlePaint[o].Title="热度("+this.Index[0].Param+","+this.Index[1].Param+","+this.Index[2].Param+","+this.Index[3].Param+")",!0}}},Name:"自定义指数热度"}],["CJL",{IsMainIndex:!1,Create:function(){return new function(){this.newMethod=di,this.newMethod("CJL"),delete this.newMethod,this.Index=new Array(new ci("VOL",null),new ci("OPID",null)),this.Index[0].LineColor=Qe.Index.LineColor[0],this.Index[1].LineColor=Qe.Index.LineColor[1],this.CreateChart=function(t){if(0==t){var e=new kt;return e}if(1==t){var e=new Ft;return e.LineWidth=1*L(),e}},this.RequestData=function(t,e,i){return this.BindData(t,e,i),t.UpdataDataoffset(),t.UpdateFrameMaxMin(),t.Draw(),!0},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e),n=this.IsOverlay();if(a.length!=this.Index.length)return!1;var r=i.GetVol(),o=i.GetPosition();a[0].HistoryData=i,a[0].Data.Data=r,a[1].Data.Data=o;var s=e+1;if(n){var l=t.TitlePaint[s];for(var h in l.OverlayIndex.set(this.OverlayIndex.Identify,{Data:[],Title:""}),a){var u=new ke(a[h].Data,this.Index[h].Name,this.Index[h].LineColor);l.OverlayIndex.get(this.OverlayIndex.Identify).Data[h]=u}}else t.TitlePaint[s].Data[0]=new ke(a[0].Data,this.Index[0].Name,this.Index[0].LineColor),t.TitlePaint[s].Data[1]=new ke(a[1].Data,this.Index[1].Name,this.Index[1].LineColor),t.TitlePaint[s].Title=this.Name;return!0}}}}],["OX",{IsMainIndex:!1,Create:function(){return new function(){this.newMethod=di,this.newMethod("OX"),delete this.newMethod,this.ClassName="JSIndex_OX",this.IsUsePageData=!0,this.BlockSize=.5,this.Arguments=[{Name:"Reversal",Value:3}],this.SetArgs=function(t){if(t&&Ce.IsNonEmptyArray(t))for(var e=0;e<t.length;++e){var i=t[e];"Reversal"==i.Name&&this.SetParamValue(i.Name,i.Value)}},this.SetParamValue=function(t,e){for(var i=0;i<this.Arguments.length;++i){var a=this.Arguments[i];a.Name==t&&(a.Value=e)}},this.GetParamValue=function(t){for(var e=0;e<this.Arguments.length;++e){var i=this.Arguments[e];if(i.Name==t)return i.Value}},this.RequestData=function(t,e,i){return this.BindData(t,e,i),t.UpdataDataoffset(),t.UpdateFrameMaxMin(),t.Draw(),!0},this.CreatePaints=function(t,e){var i=null,a=this.IsOverlay();a?(i=this.OverlayIndex.Frame.Frame,this.OverlayIndex.Frame.ChartPaint=[]):(i=t.Frame.SubFrame[e].Frame,t.DeleteIndexPaint(e));var n=[],r=new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartOX",this.Font,this.Family=Qe.ChartOX.Family,this.Color=[Qe.ChartOX.Up.Color,Qe.ChartOX.Down.Color],this.Text=[Qe.ChartOX.Up.Text,Qe.ChartOX.Down.Text],this.IsHScreen=!1,this.SquareSize=10,this.OXData=null,this.SquareLineColor=Qe.ChartOX.SquareLineColor,this.TooltipData=[],this.CalcualteSquare=function(){var t;if(this.IsHScreen)var e=(t=this.ChartBorder.GetHScreenBorder()).LeftEx,i=t.RightEx;else e=(t=this.ChartBorder.GetBorder()).TopEx,i=t.BottomEx;this.SquareSize=(i-e)/(this.OXData.Max-this.OXData.Min)*this.OXData.BlockSize;var a=parseInt(this.SquareSize);this.Font=a+"px "+this.Family},this.DrawSquares=function(){if(this.Canvas.beginPath(),this.Canvas.strokeStyle=this.SquareLineColor,this.IsHScreen)var t=(i=this.ChartBorder.GetHScreenBorder()).Top,e=i.Bottom;else{t=(i=this.ChartBorder.GetBorder()).Left,e=i.Right;var i,a=i.TopEx,n=i.BottomEx}for(var r=this.OXData.StartPrice;r<this.OXData.Max;r+=this.OXData.BlockSize){var o=this.ChartFrame.GetYFromData(r);this.IsHScreen?(this.Canvas.moveTo(R(o),i.Top),this.Canvas.lineTo(R(o),i.Bottom)):(this.Canvas.moveTo(t,R(o)),this.Canvas.lineTo(e,R(o)))}for(r=this.OXData.StartPrice;r>this.OXData.Min;r-=this.OXData.BlockSize)o=this.ChartFrame.GetYFromData(r),this.IsHScreen?(this.Canvas.moveTo(R(o),i.Top),this.Canvas.lineTo(R(o),i.Bottom)):(this.Canvas.moveTo(t,R(o)),this.Canvas.lineTo(e,R(o)));for(var s=t+Qe.FrameLeftMargin;s<e;s+=this.SquareSize)this.IsHScreen?(this.Canvas.moveTo(i.LeftEx,R(s)),this.Canvas.lineTo(i.RightEx,R(s))):(this.Canvas.moveTo(R(s),a),this.Canvas.lineTo(R(s),n));this.Canvas.stroke()},this.Draw=function(){if(this.TooltipData=[],!this.ChartFrame.IsMinSize)if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.OXData&&this.OXData.Data)if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.CalcualteSquare(),this.DrawSquares(),this.IsHScreen){var t=this.ChartBorder.GetTop(),e=this.ChartBorder.GetBottom(),i=t+Qe.FrameLeftMargin;this.Canvas.textBaseline="middle",this.Canvas.textAlign="center",this.Canvas.font=this.Font;for(var a=0;a<this.OXData.Data.length&&!(i>e);++a,i+=this.SquareSize){var n=this.OXData.Data[a];this.Canvas.fillStyle=this.Color[n.Type];var r=this.Text[n.Type];if(Ce.IsNonEmptyArray(n.Data))for(var o=0;o<n.Data.length;++o){var s=n.Data[o],l=this.ChartFrame.GetYFromData(s+this.OXData.BlockSize/2);this.Canvas.fillText(r,l,i+this.SquareSize/2)}}}else for(t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),i=t+Qe.FrameLeftMargin,this.Canvas.textBaseline="middle",this.Canvas.textAlign="center",this.Canvas.font=this.Font,a=0;a<this.OXData.Data.length&&!(i>e);++a,i+=this.SquareSize){n=this.OXData.Data[a],this.Canvas.fillStyle=this.Color[n.Type],r=this.Text[n.Type];var h={X:i,Width:this.SquareSize},u=null,c=null;if(Ce.IsNonEmptyArray(n.Data)){for(o=0;o<n.Data.length;++o)s=n.Data[o],l=this.ChartFrame.GetYFromData(s+this.OXData.BlockSize/2),this.Canvas.fillText(r,i+this.SquareSize/2,l),null==u?u=s:u<s&&(u=s),null==c?c=s:c>s&&(c=s);h.Y=this.ChartFrame.GetYFromData(u+this.OXData.BlockSize),h.Height=this.ChartFrame.GetYFromData(c)-h.Y;var d={Data:n,Rect:h};this.TooltipData.push(d)}}},this.GetTooltipData=function(t,e,i){for(var a in this.TooltipData){var n=this.TooltipData[a];if(n.Rect){var r=n.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(r.X,r.Y,r.Width,r.Height),this.Canvas.isPointInPath(t,e))return g.Chart.Log("[ChartOX::GetTooltipData] item ",n),i.Data=n,i.ChartPaint=this,i.Type=5,!0}}return!1},this.GetMaxMin=function(){var t={Min:null,Max:null};return this.OXData&&(Ce.IsNumber(this.OXData.Max)&&(t.Max=this.OXData.Max),Ce.IsNumber(this.OXData.Min)&&(t.Min=this.OXData.Min)),t}};return r.Canvas=t.Canvas,r.Name=this.Name+"-0",r.ChartBorder=i.ChartBorder,r.ChartFrame=i,a?this.OverlayIndex.Frame.ChartPaint.push(r):t.ChartPaint.push(r),n.push(r),n},this.CalculateBlockSize=function(t,e){var i=t-e;return i<=5?.25:i<=20?.5:i<=100?1:i<=200?2:i<=500?5:i<=1e3?10:50},this.Calculate=function(t,e){if(!t.ChartPaint[0])return null;var i=t.ChartPaint[0].ShowRange;if(!i)return null;if(!Ce.IsNonEmptyArray(e.Data))return null;for(var a=null,n=null,r=null,o=i.Start;o<=i.End&&o<e.Data.length;++o){var s=e.Data[o];null==a?Ce.IsNumber(s.High)&&(a=s.High):Ce.IsNumber(s.High)&&a<s.High&&(a=s.High),null==n?Ce.IsNumber(s.Low)&&(n=s.Low):Ce.IsNumber(s.Low)&&n>s.Low&&(n=s.Low),null==r&&Ce.IsNumber(s.High)&&(r=s.High)}var l=this.GetParamValue("Reversal"),h=this.CalculateBlockSize(a,n);this.BlockSize=h;for(var u={Max:a+h,Min:n-h,StartPrice:r,Data:[],BlockSize:h},c=1,d=r,f={Type:0,Data:[],Start:null,End:null},o=i.Start,p=0;o<=i.End&&o<e.Data.length;++o){var s=e.Data[o];if(1==c){if(s.High>=d+h){var m=parseInt((s.High-d)/h);for(p=0;p<m;++p)d+=h,f.Data.push(d)}else if(s.Low<=d-h*l){c=0,f&&Ce.IsNonEmptyArray(f.Data)&&u.Data.push(f),f={Type:1,Data:[],Start:null,End:null};var m=parseInt((d-s.Low)/h);for(p=0;p<m;++p)d-=h,f.Data.push(d)}}else if(s.Low<=d-h){var m=parseInt((d-s.Low)/h);for(p=0;p<m;++p)d-=h,f.Data.push(d)}else if(s.High>=d+h*l){c=1,f&&Ce.IsNonEmptyArray(f.Data)&&u.Data.push(f),f={Type:0,Data:[],Start:null,End:null};var m=parseInt((s.High-d)/h);for(p=0;p<m;++p)d+=h,f.Data.push(d)}null==f.Start&&(f.Start=s),f.End=s}return f&&Ce.IsNonEmptyArray(f.Data)&&u.Data.push(f),u},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e),n=this.IsOverlay(),r=t.GetEventCallback(b.ON_CALCULATE_INDEX_OX);if(r&&r.Callback){var o={HQChart:t,WidnowIndex:e,HisData:i,OXData:null};r.Callback(r,o,this),a[0].OXData=o.OXData}else a[0].OXData=this.Calculate(t,i);var s=this.BlockSize,l=this.GetParamValue("Reversal"),h=this.Name+" BlockSize="+s+" Reversal="+l,u=e+1;if(n){var c=t.TitlePaint[u];c.OverlayIndex.set(this.OverlayIndex.Identify,{Data:[],Title:""})}else t.TitlePaint[u].Title=h;return!0}}}}],["可视范围成交量分布图",{IsMainIndex:!0,Create:function(t){return new function(t){this.newMethod=di,this.newMethod("VRVR"),delete this.newMethod,this.ClassName="VolProfileVisibleRangeIndex",this.IsUsePageData=!0,this.ChartVolProfile,this.HQChart,this.WindowIndex,this.RequestTimer=null,this.DelayRequestFrequency=500,this.VolType=0,this.BarPosition=1,this.BarWidthRate=.3,this.Arguments=[{Name:"VAVol",Value:70},{Name:"BarPosition",Value:0}],this.SetArgs=function(t){if(t&&Ce.IsNonEmptyArray(t))for(var e=0;e<t.length;++e){var i=t[e];"VAVol"==i.Name?this.SetParamValue(i.Name,i.Value):"BarPosition"==i.Name&&this.SetParamValue(i.Name,i.Value)}},this.SetParamValue=function(t,e){for(var i=0;i<this.Arguments.length;++i){var a=this.Arguments[i];a.Name==t&&(a.Value=e)}},t&&(Ce.IsNumber(t.VolType)&&(this.VolType=t.VolType),Ce.IsNumber(t.BarWidthRate)&&(this.BarWidthRate=t.BarWidthRate),Ce.IsNumber(t.DelayRequestFrequency)&&(this.DelayRequestFrequency=t.DelayRequestFrequency),t.Args&&this.SetArgs(t.Args),Ce.IsNumber(t.BarPosition)&&(this.BarPosition=t.BarPosition,this.SetParamValue("BarPosition",this.BarPosition)));this.GetParamValue=function(t){for(var e=0;e<this.Arguments.length;++e){var i=this.Arguments[e];if(i.Name==t)return i.Value}},this.Create=function(t,e){this.HQChart=t,this.WindowIndex=e},this.CreateChart=function(t,e){var i=null,a=this.IsOverlay();a?(i=this.OverlayIndex.Frame.Frame,this.OverlayIndex.Frame.ChartPaint=[]):(i=t.Frame.SubFrame[e].Frame,t.DeleteIndexPaint(e));var n=[],r=new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartVolProfileVisibleRange",this.IsDrawFirst=!0,this.IsShowText=!0,this.VolType=0,this.BarPosition=1,this.BarWidthRate=.3,this.VolFont,this.HQChart,this.IsDestroy=!1,this.Data=null,this.MaxVol,this.MaxVolPrice,this.VolLineColor=Qe.ChartVolProfileVisibleRange.VolLineColor,this.VolLineFont=Qe.ChartVolProfileVisibleRange.VolLineFont,this.VolLineTextColor=Qe.ChartVolProfileVisibleRange.VolLineTextColor,this.VAHLineColor=Qe.ChartVolProfileVisibleRange.VAHLineColor,this.VAHTextColor=Qe.ChartVolProfileVisibleRange.VAHTextColor,this.VALLineColor=Qe.ChartVolProfileVisibleRange.VALLineColor,this.VALTextColor=Qe.ChartVolProfileVisibleRange.VALTextColor,this.VAFont=Qe.ChartVolProfileVisibleRange.VAFont,this.TextConfig=(0,u.default)({Color:Qe.ChartVolProfileVisibleRange.Text.Color,Family:Qe.ChartVolProfileVisibleRange.Text.Family,FontMaxSize:Qe.ChartVolProfileVisibleRange.Text.FontMaxSize,FontMinSize:Qe.ChartVolProfileVisibleRange.Text.FontMinSize},"Color",Qe.ChartVolProfileVisibleRange.Text.Color),this.BarColor=[Qe.ChartVolProfileVisibleRange.UpVolColor,Qe.ChartVolProfileVisibleRange.DownVolColor,Qe.ChartVolProfileVisibleRange.AreaUpColor,Qe.ChartVolProfileVisibleRange.AreaDonwColor],this.MaxVolLine,this.OnDestroy=function(){this.IsDestroy=!0},this.SetOption=function(t){t&&(Ce.IsBool(t.IsShowText)&&(this.IsShowText=t.IsShowText),Ce.IsNumber(t.VolType)&&(this.IsShowText=t.VolType),Ce.IsNumber(t.BarPosition)&&(this.BarPosition=t.BarPosition),Ce.IsNumber(t.BarWidthRate)&&(this.IsShowText=t.BarWidthRate))},this.PtInChart=function(t,e){return this.MaxVolLine&&t>=this.MaxVolLine.Start.X&&t<=this.MaxVolLine.End.X&&e>=this.MaxVolLine.Start.Y-5&&e<this.MaxVolLine.Start.Y+5?{Identify:this.Identify,Chart:this}:null},this.SetSelectedStatus=function(t){this.IsDrawFirst=0==t},this.DrawSelectedStatus=function(){var t=this.SelectedRadius,e=L();if(this.Canvas.save(),this.MaxVolLine){this.Canvas.lineWidth=this.SelectedLineWidth*e,this.Canvas.strokeStyle=this.SelectedLineColor,this.SelectedBGColor&&(this.Canvas.fillStyle=this.SelectedBGColor);for(var i=(this.MaxVolLine.End.X-this.MaxVolLine.Start.X)/6,a=[],n=this.MaxVolLine.Start.X+i;n<this.MaxVolLine.End.X;n+=i)a.push({X:n,Y:this.MaxVolLine.Start.Y});for(var r=0;r<a.length;++r){var o=a[r];this.Canvas.beginPath(),this.Canvas.arc(o.X,o.Y,t,0,360,!1),this.Canvas.closePath(),this.SelectedBGColor&&this.Canvas.fill(),this.Canvas.stroke()}}this.Canvas.restore()},this.Draw=function(){this.VolFont=null,this.MaxVolLine=null,this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.ChartFrame.IsMinSize||(this.NotSupportMessage?this.DrawNotSupportmessage():this.Data&&this.Data.Data&&(this.Canvas.save(),this.DrawVolBar(),this.Canvas.restore()))},this.DrawPriceLine=function(){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),i=L(),a=[],n=this.MaxVolPrice;Ce.IsNumber(this.Data.MaxVolPrice)&&(n=this.Data.MaxVolPrice),n>=this.ChartFrame.HorizontalMin&&n<=this.ChartFrame.HorizontalMax&&a.push({Price:n,Font:this.VolLineFont,LineColor:this.VolLineColor,LineWidth:2,TextColor:this.VolLineTextColor,Type:1}),Ce.IsNumber(this.Data.VAHPrice)&&this.Data.VAHPrice>=this.ChartFrame.HorizontalMin&&this.Data.VAHPrice<=this.ChartFrame.HorizontalMax&&a.push({Price:this.Data.VAHPrice,Font:this.VAFont,LineColor:this.VAHLineColor,LineWidth:2,TextColor:this.VAHTextColor,Type:2}),Ce.IsNumber(this.Data.VALPrice)&&this.Data.VALPrice>=this.ChartFrame.HorizontalMin&&this.Data.VALPrice<=this.ChartFrame.HorizontalMax&&a.push({Price:this.Data.VALPrice,Font:this.VAFont,LineColor:this.VALLineColor,LineWidth:2,TextColor:this.VALTextColor,Type:3});for(var r=0;r<a.length;++r){var o=a[r],s=B(o.LineWidth,this.ChartFrame.GetYFromData(o.Price,!1));if(this.Canvas.lineWidth=o.LineWidth,this.Canvas.strokeStyle=o.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t,s),this.Canvas.lineTo(e,s),this.Canvas.stroke(),1==o.Type&&(this.MaxVolLine={Start:{X:t,Y:s},End:{X:e,Y:s}}),this.ChartBorder.Right>10){var l=Ni(this.HQChart.Symbol),h=o.Price.toFixed(l);this.Canvas.font=o.Font,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var u=this.GetFontHeight(),c=this.Canvas.measureText(h).width+2*i;this.Canvas.fillStyle=o.LineColor,this.Canvas.fillRect(e,s-u/2,c,u),this.Canvas.fillStyle=o.TextColor,this.Canvas.fillText(h,e+1*i,s)}}},this.DrawVolBar=function(){var t=this.GetPriceYOffset(this.Data.PriceOffset),e=this.ChartBorder.GetLeft(),i=this.ChartBorder.GetRight(),a=(this.ChartFrame.GetYFromData(this.Data.MaxPrice),this.ChartFrame.GetYFromData(this.Data.MinPrice),(i-e)*this.BarWidthRate);this.IsShowText&&(this.VolFont=this.GetDynamicVolTextFont(t,a),this.VolFont&&(this.Canvas.font=this.VolFont));for(var n=0;n<this.Data.Data.length;++n){var r=this.Data.Data[n];r.Price<this.ChartFrame.HorizontalMin||r.Price>this.ChartFrame.HorizontalMax||this.DrawVolBarItem(r,e,i,a,t)}this.DrawPriceLine()},this.DrawVolBarItem=function(t,e,i,a,n){var r=e,o=i,s=this.ChartFrame.GetYFromData(t.Price)-n/2,l=n-1;if(l<1&&(l=1),1==this.VolType){if(!t.TotalVol)return;if(!Ce.IsNumber(t.TotalVol.Value))return;var h=t.TotalVol.Value*a/this.MaxVol;if(Ce.IsNumber(t.TotalVol.ColorID)?d=this.BarColor[t.TotalVol.ColorID]:t.TotalVol.Color&&(d=t.TotalVol.Color),this.Canvas.fillStyle=d,1==this.BarPosition?this.Canvas.fillRect(o,k(s),-h,k(l)):this.Canvas.fillRect(r,k(s),h,k(l)),this.IsShowText&&this.VolFont){var u=Ce.FormatVolString(t.TotalVol.Value,this.HQChart.LanguageID);this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextConfig.Color,1==this.BarPosition?(this.Canvas.textAlign="right",this.Canvas.fillText(u,i-5,s+n/2)):(this.Canvas.textAlign="left",this.Canvas.fillText(u,e+5,s+n/2))}}else{u="";for(var c=0;c<t.Vol.length;++c){var d,f=t.Vol[c];if(Ce.IsNumber(f.Value)&&(Ce.IsNumber(f.ColorID)?d=this.BarColor[f.ColorID]:f.Color&&(d=f.Color),d)){h=f.Value*a/this.MaxVol,this.Canvas.fillStyle=d,1==this.BarPosition?(this.Canvas.fillRect(o,k(s),-h,k(l)),o-=h):(this.Canvas.fillRect(r,k(s),h,k(l)),r+=h);var p=Ce.FormatVolString(f.Value,this.HQChart.LanguageID);u.length>0&&(u+="x"),u+=p}}this.IsShowText&&this.VolFont&&(this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextConfig.Color,1==this.BarPosition?(this.Canvas.textAlign="right",this.Canvas.fillText(u,i-5,s+n/2)):(this.Canvas.textAlign="left",this.Canvas.fillText(u,e+5,s+n/2)))}},this.GetPriceYOffset=function(t){var e=this.ChartFrame;return e.ChartBorder.GetHeightEx()*t/(e.HorizontalMax-e.HorizontalMin)},this.GetDynamicVolTextFont=function(t,e,i){var a=parseInt(t)-2;return t<5&&(a=parseInt(t)),a>this.TextConfig.FontMaxSize?a=this.TextConfig.FontMaxSize:a<=0&&(a=1),a<this.TextConfig.FontMinSize?null:this.FormatFontString(a,this.TextConfig.Family,i)},this.FormatFontString=function(t,e,i){var a;return i?i.Weight&&(a=i.Weight+" "+t+"px "+e):a=t+"px "+e,a},this.GetMaxMin=function(){return{Min:null,Max:null}}};return r.Canvas=t.Canvas,r.Name=this.Name+"-0",r.ChartBorder=i.ChartBorder,r.ChartFrame=i,r.HQChart=this.HQChart,r.Identify=this.Guid,r.SetOption(this),a?this.OverlayIndex.Frame.ChartPaint.push(r):t.ChartPaint.push(r),n.push(r),this.ChartVolProfile=r,n},this.CancelRequestTimer=function(){this.RequestTimer&&(clearTimeout(this.RequestTimer),this.RequestTimer=null)},this.RequestData=function(t,e,i,a){var n=this;this.CancelRequestTimer();var r=function(){var e=t.ChartPaint[0],i=e.Data;if(i&&!Ce.IsNonEmptyArray(!i.Data)){var a=e.DrawKRange;if(a&&Ce.IsNumber(a.Start)&&Ce.IsNumber(a.End)){var r=i.Data[a.Start],o=i.Data[a.End],s={Start:{Date:r.Date,DataIndex:a.Start},End:{Date:o.Date,DataIndex:a.End},Chart:n};Ce.IsNumber(r.Time)&&(s.Start.Time=r.Time),Ce.IsNumber(o.Time)&&(s.End.Time=o.Time),s.ValueAreaVol=n.Arguments[0].Value,n.Arguments[1].Value>0?n.BarPosition=1:n.BarPosition=0,n.ChartVolProfile&&n.ChartVolProfile.SetOption({BarPosition:n.BarPosition}),n.DataStatus=0,t&&t.RequestVolumeProfileData&&t.RequestVolumeProfileData(s)}}};return a&&1==a.Type?this.RequestTimer=setTimeout(function(){r()},this.DelayRequestFrequency):r(),!0},this.OnRecvVolumeProfileData=function(t){return this.BindData(t),this.HQChart.UpdataDataoffset(),this.HQChart.UpdateFrameMaxMin(),this.HQChart.Draw(),!0},this.BindData=function(t){this.ChartVolProfile&&1!=this.ChartVolProfile.IsDestroy||this.CreateChart(this.HQChart,this.WindowIndex);var e=this.ChartVolProfile;if(e.Data=null,t&&Ce.IsNonEmptyArray(t.Data)&&Ce.IsNumber(t.MaxPrice)&&Ce.IsNumber(t.MinPrice)){for(var i=0,a=0,n=null,r=0,o=0;r<t.Data.length;++r){var s=t.Data[r];for(a=0,o=0;o<s.Vol.length;++o){var l=s.Vol[o];Ce.IsNumber(l.Value)&&(a+=l.Value)}i<a&&(i=a,n=s.Price)}if(!(this.maxVolPrice<=0||this.maxVol<=0)){e.MaxVolPrice=n,e.MaxVol=i,e.MaxPrice=t.MaxPrice,e.MinPrice=t.MinPrice,e.Data=t;var h=this.WindowIndex+1;this.HQChart.TitlePaint[h].Title="VPVR",this.HQChart.TitlePaint[h].Identify=this.Guid;var u=new ke(e.Data,"VPVR",e.Data);u.ChartClassName="ChartVolProfileVisibleRange",u.Chart=e,this.HQChart.TitlePaint[h].Data[0]=u}}}}(t)}}]]).get(t)},ai.EMA=function(t,e){var i=[],a=0;if(a>=t.length)return i;for(;a<t.length&&(null==t[a]||isNaN(t[a]));++a);var n=a,r=a+1;i[n]=t[n];for(var o=a+1;o<t.length;++o,++n,++r)i[r]=(2*t[r]+(e-1)*i[n])/(e+1);return i},ai.SMA=function(t,e,i){for(var a=[],n=0,r=null;n<t.length;++n)if(null!=t[n]&&!isNaN(t[n])){r=t[n],a[n]=r;break}for(++n;n<t.length;++n)a[n]=(i*t[n]+(e-i)*r)/e,r=a[n];return a},ai.DMA=function(t,e){var i=[];if(t.length<0||t.length!=e.length)return i;for(var a=0;a<t.length;++a)if(null!=t[a]&&!isNaN(t[a])&&null!=e[a]&&!isNaN(e[a])){i[a]=t[a];break}for(a+=1;a<t.length;++a)null==t[a]||null==e[a]?i[a]=null:t[a]<1?i[a]=e[a]*t[a]+(1-e[a])*i[a-1]:i[a]=t[a];return i},ai.HHV=function(t,e){var i=[];if(e>t.length)return i;for(var a=-1e4,n=e,r=0;n<t.length;++n,++r){if(n<e+a)a=t[n]<t[a]?a:n;else for(r=1+(a=n-e+1);r<=n;++r)t[r]>t[a]&&(a=r);i[n]=t[a]}return i},ai.LLV=function(t,e){var i=[];if(e>t.length)return i;for(var a=-1e4,n=e;n<t.length;++n,++r){if(n<e+a)a=t[n]>t[a]?a:n;else for(var r=1+(a=n-e+1);r<=n;++r)t[r]<t[a]&&(a=r);i[n]=t[a]}return i},ai.REF=function(t,e){var i=[];if(t.length<=0)return i;if(e>=t.length)return i;i=t.slice(0,t.length-e);for(var a=0;a<e;++a)i.unshift(null);return i},ai.REFDATE=function(t,e){var i=[];if(t.length<=0)return i;for(var a in e=t.length-1,t)i[a]=t[e];return i},ai.SUM=function(t,e){var i=[];if(0==e){i[0]=t[0];for(var a=1;a<t.length;++a)i[a]=i[a-1]+t[a]}else{a=e-1;for(var n=0;a<t.length;++a,++n)for(var r=0;r<e;++r)0==r?i[a]=t[r+n]:i[a]+=t[r+n]}return i},ai.ARRAY_SUBTRACT=function(t,e){var i=[];if("number"==typeof e)for(var a in t)null==t[a]||isNaN(t[a])?i[a]=null:i[a]=t[a]-e;else{var n=Math.max(t.length,e.length);for(a=0;a<n;++a)a<t.length&&a<e.length?null==t[a]||null==e[a]?i[a]=null:i[a]=t[a]-e[a]:i[a]=null}return i},ai.ARRAY_GT=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]>e?1:0;else{var n=Math.max(t.length,e.length);for(a=0;a<n;++a)a<t.length&&a<e.length?i[a]=t[a]>e[a]?1:0:i[a]=null}return i},ai.ARRAY_GTE=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]>=e?1:0;else{var n=Math.max(t.length,e.length);for(a=0;a<n;++a)a<t.length&&a<e.length?i[a]=t[a]>=e[a]?1:0:i[a]=null}return i},ai.ARRAY_LT=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]<e?1:0;else{var n=Math.max(t.length,e.length);for(a=0;a<n;++a)a<t.length&&a<e.length?i[a]=t[a]<e[a]?1:0:i[a]=null}return i},ai.ARRAY_LTE=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]<=e?1:0;else{var n=Math.max(t.length,e.length);for(a=0;a<n;++a)a<t.length&&a<e.length?i[a]=t[a]<=e[a]?1:0:i[a]=null}return i},ai.ARRAY_EQ=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]==e?1:0;else{var n=Math.max(t.length,e.length);for(a=0;a<n;++a)a<t.length&&a<e.length?i[a]=t[a]==e[a]?1:0:i[a]=null}return i},ai.ARRAY_IF=function(t,e,i){var a=[],n=["number"==typeof e,"number"==typeof i];for(var r in t)t[r]?a[r]=n[0]?e:e[r]:a[r]=n[1]?i:i[r];return a},ai.ARRAY_AND=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]&&e?1:0;else{var n=Math.max(t.length,e.length);for(a=0;a<n;++a)a<t.length&&a<e.length?i[a]=t[a]&&e[a]?1:0:i[a]=0}return i},ai.ARRAY_OR=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]||e?1:0;else{var n=Math.max(t.length,e.length);for(a=0;a<n;++a)a<t.length&&t[a]?i[a]=1:a<e.length&&e[a]?i[a]=1:i[a]=0}return i},ai.ARRAY_MULTIPLY=function(t,e){if(2==arguments.length){var i=[];if("number"==typeof e)for(var a in t)null==t[a]||isNaN(t[a])?i[a]=null:i[a]=t[a]*e;else{var n=Math.max(t.length,e.length);for(a=0;a<n;++a)a<t.length&&a<e.length?i[a]=t[a]*e[a]:i[a]=null}return i}for(i=ai.ARRAY_MULTIPLY(arguments[0],arguments[1]),a=2;a<arguments.length;++a)i=ai.ARRAY_MULTIPLY(i,arguments[a]);return i},ai.ARRAY_DIVIDE=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]/e;else{var n=Math.max(t.length,e.length);for(a=0;a<n;++a)a<t.length&&a<e.length?null==t[a]||null==e[a]||isNaN(t[a])||isNaN(e[a])?i[a]=null:0==e[a]?i[a]=null:i[a]=t[a]/e[a]:i[a]=null}return i},ai.ARRAY_ADD=function(t,e){if(2==arguments.length){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]+e;else{var n=Math.max(t.length,e.length);for(a=0;a<n;++a)a<t.length&&a<e.length?null==t[a]||null==e[a]||isNaN(t[a])||isNaN(e[a])?i[a]=null:i[a]=t[a]+e[a]:i[a]=null}return i}for(i=ai.ARRAY_ADD(arguments[0],arguments[1]),a=2;a<arguments.length;++a)i=ai.ARRAY_ADD(i,arguments[a]);return i},ai.MAX=function(t,e){var i=[];if("number"==typeof e)for(var a in t)null==t[a]?i[a]=null:i[a]=Math.max(t[a],e);else{var n=Math.max(t.length,e.length);for(a=0;a<n;++a)a<t.length&&a<e.length?null==t[a]||null==e[a]?i[a]=null:i[a]=Math.max(t[a],e[a]):i[a]=null}return i},ai.MIN=function(t,e){var i=[];if("number"==typeof e)for(var a in t)null==t[a]?i[a]=null:i[a]=Math.min(t[a],e);else{var n=Math.max(t.length,e.length);for(a=0;a<n;++a)a<t.length&&a<e.length?null==t[a]||null==e[a]?i[a]=null:i[a]=Math.min(t[a],e[a]):i[a]=null}return i},ai.ABS=function(t){var e=[];for(var i in t)null==t[i]?e[i]=null:e[i]=Math.abs(t[i]);return e},ai.MA=function(t,e){for(var i=[],a=0,n=t.length;a<n;a++)if(a<e)i[a]=null;else{for(var r=0,o=0;o<e;o++)r+=t[a-o];i[a]=r/e}return i},ai.EXPMA=function(t,e){var i=[];if(e>=t.length)return i;for(var a=e;a<t.length;++a)if(null!=t[a]){i[a]=t[a];break}for(a+=1;a<t.length;++a)null!=i[a-1]&&null!=t[a]?i[a]=(2*t[a]+(e-1)*i[a-1])/(e+1):null!=i[a-1]&&(i[a]=i[a-1]);return i},ai.EXPMEMA=function(t,e){var i=[];if(e>=t.length)return i;for(var a=0;a<t.length&&(!t[a]||isNaN(t[a]));++a);for(var n=0,r=0;a<t.length&&r<e;++r,++a)t[a]&&!isNaN(t[a])?n+=t[a]:n+=t[a-1];for(i[a-1]=n/e;a<t.length;++a)null!=i[a-1]&&null!=t[a]?i[a]=(2*t[a]+(e-1)*i[a-1])/(e+1):null!=i[a-1]&&(i[a]=i[a-1]);return i},ai.STD=function(t,e){for(var i=[],a=0,n=[],r=e-1;r<t.length;++r){a=0;for(var o=0;o<e;++o)a+=t[r-o];n[r]=a/e}for(r=e-1;r<t.length;++r){a=0;for(o=0;o<e;++o)a+=Math.pow(t[r-o]-n[r],2);i[r]=Math.sqrt(a/e)}return i},ai.AVEDEV=function(t,e){for(var i=[],a=0,n=[],r=e-1;r<t.length;++r){a=0;for(var o=0;o<e;++o)a+=t[r-o];n[r]=a/e}for(r=e-1;r<t.length;++r){a=0;for(o=0;o<e;++o)a+=Math.abs(t[r-o]-n[r]);i[r]=a/e}return i},ai.COUNT=function(t,e){for(var i=[],a=e-1;a<t.length;++a){for(var n=0,r=0;r<e;++r)t[a-r]&&++n;i[a]=n}return i},ai.CROSS=function(t,e){var i=[];if(t.length!=e.length)return[];for(var a=0;a<t.length&&(null==t[a]||isNaN(t[a])||null==e[a]||!isNaN(e[a]));++a);for(++a;a<t.length;++a)i[a]=t[a]>e[a]&&t[a-1]<e[a-1]?1:0;return i},ai.MULAR=function(t,e){var i=[];if(t.length<e)return i;for(var a=e;a<t.length;++a)if(null!=t[a]&&!isNaN(t[a])){i[a]=t[a];break}for(++a;a<t.length;++a)i[a]=i[a-1]*t[a];return i},ai.STICKLINE=function(t,e,i){var a=[];if(t.length<=0)return a;var n="number"==typeof e,r="number"==typeof i;for(var o in t)if(a[o]=null,!isNaN(t[o])&&t[o])if(n&&r)a[o]={Value:e,Value2:i};else if(n&&!r){if(isNaN(i[o]))continue;a[o]={Value:e,Value2:i[o]}}else if(!n&&r){if(isNaN(e[o]))continue;a[o]={Value:e[o],Value2:i}}else{if(isNaN(e[o])||isNaN(i[o]))continue;a[o]={Value:e[o],Value2:i[o]}}return a};var ni=new function(){this.DataMap=new p.default([["RenkoCalculate",{Create:function(){return new function(){this.BrickSize=.05,this.SourceData,this.LastData,this.ATR={Count:14,BrickSize:.05},this.BrickSizeType=1,this.Symbol,this.FloatPrecision=2,this.ClassName="RenkoCalculate",this.CalculateByClose=function(t){var e=new mt;if(e.Data=[],e.Right=t.Right,e.Period=t.Period,e.DataType=t.DataType,e.Symbol=t.symbol,!Ce.IsNonEmptyArray(t.Data))return e;var i=this.BrickSize;1==this.BrickSizeType&&(i=this.ATR.BrickSize);var a=t.Data[0];this.LastData=ot.Copy(a);for(var n=1;n<t.Data.length;){var a=t.Data[n],r=a.Close-this.LastData.Close,o=a.Close-this.LastData.Open;if(Math.abs(r)>=i&&Math.abs(o)>=i){var s=0;if(r>0||o>0){var l=this.LastData.Close,h=Math.max(this.LastData.Close,this.LastData.Open),u=h+i,c=u,d=h;s=a.Vol}else{var l=this.LastData.Close,h=Math.min(this.LastData.Close,this.LastData.Open),u=h-i,c=h,d=u;s=a.Vol}var f=new ot;f.Date=a.Date,f.Time=a.Time,f.YClose=l,f.Open=h,f.High=c,f.Low=d,f.Close=u,f.Vol=this.LastData.Vol+s,e.Data.push(f),this.LastData.YClose=f.YClose,this.LastData.Open=f.Open,this.LastData.High=f.High,this.LastData.Low=f.Low,this.LastData.Close=f.Close,this.LastData.Date=f.Date,this.LastData.Time=f.Time,this.LastData.Vol=0}else this.LastData.Vol+=a.Vol,++n}return e},this.RecvHistoryData=function(t,e){return this.Symbol=e.Symbol,this.SourceData=t,this.FloatPrecision=Ni(this.Symbol),1==this.BrickSizeType&&this.CalculateATR(),this.CalculateByClose(t)},this.Clear=function(){this.SourceData=null,this.LastData=null,this.Symbol=null},this.GetTitle=function(){if(1==this.BrickSizeType)var t="Renko [ATR("+this.ATR.Count+"), "+this.ATR.BrickSize+"]";else var t="Renko [Traditional, "+this.BrickSize+"]";return t},this.CalculateATR=function(){if(Ce.IsNonEmptyArray(this.SourceData.Data)){for(var t=this.SourceData.Data,e=t.length,i=[],a=e-1,n=0;a>=0&&n<this.ATR.Count;--a,++n){var r=t[a],o=Math.max(r.High-r.Low,r.High-r.Close,r.Close-r.Low);i.push(o)}for(var s=0,a=0;a<i.length;++a)s+=i[a];var l=s/i.length,o=l.toFixed(this.FloatPrecision);this.ATR.BrickSize=parseFloat(o)}}}}}],["HeikinAshiCalculate",{Create:function(){return new function(){this.SourceData,this.Symbol,this.FloatPrecision=2,this.ClassName="HeikinAshiCalculate",this.Clear=function(){this.SourceData=null,this.LastData=null,this.Symbol=null},this.RecvHistoryData=function(t,e){return this.Symbol=e.Symbol,this.SourceData=t,this.FloatPrecision=Ni(this.Symbol),this.Calculate(t)},this.GetTitle=function(){return"Heikin Ashi"},this.Calculate=function(t){var e=new mt;if(e.Data=[],e.Right=t.Right,e.Period=t.Period,e.DataType=t.DataType,e.Symbol=t.symbol,!Ce.IsNonEmptyArray(t.Data))return e;for(var i=null,a=null,n=0;n<t.Data.length;++n){var r=t.Data[n],o=ot.Copy(r);i?(o.Close=(r.Close+r.Open+r.High+r.Low)/4,o.Open=(i.Close+i.Open)/2,o.YClose=a,o.High=Math.max(o.Close,o.Open,r.High),o.Low=Math.min(o.Close,o.Open,r.Low),a=o.Close):(o.Open=(r.Close+r.Open)/2,o.Close=(r.Close+r.Open+r.High+r.Low)/4,a=o.Close),i=r,e.Data.push(o)}return e}}}}],["LineBreakCalcuate",{Create:function(){return new function(){this.SourceData,this.Symbol,this.FloatPrecision=2,this.LineCount=3,this.ClassName="LineBreakCalcuate",this.Clear=function(){this.SourceData=null,this.LastData=null,this.Symbol=null},this.GetTitle=function(){return"Line Break ["+this.LineCount+"]"},this.RecvHistoryData=function(t,e){return this.Symbol=e.Symbol,this.SourceData=t,this.FloatPrecision=Ni(this.Symbol),this.CalculateByClose(t)},this.CalculatePreviousKLine=function(t){for(var e=0;e<t.Data.length;++e){var i=t.Data[e];0==e?(t.High=i.High,t.Low=i.Low):(t.High<i.High&&(t.High=i.High),t.Low<i.Low&&(t.Low=i.Low)),t.Date=i.Date,t.Time=i.Time,t.Vol+=i.Vol,t.Amount+=i.Amount}},this.CalculateByClose=function(t){var e=new mt;if(e.Data=[],e.Right=t.Right,e.Period=t.Period,e.DataType=t.DataType,e.Symbol=t.symbol,!Ce.IsNonEmptyArray(t.Data))return e;for(var i=0,a={High:null,Low:null,Date:null,Time:null,Direction:0};i<t.Data.length&&i<this.LineCount;++i){var n=t.Data[i];0==r?(a.High=n.High,a.Low=n.Low):(a.High<n.High&&(a.High=n.High),a.Low>n.Low&&(a.Low=n.Low)),a.Date=n.Date,a.Time=n.Time,a.Vol+=n.Vol,a.Amount+=n.Amount}for(var r=i;r<t.Data.length;++r){var n=t.Data[r];if(n.Close>a.High){var o=new ot;o.YClose=a.Low,o.Open=a.High,o.Close=n.Close,o.Low=Math.min(o.Open,o.Close),o.High=Math.max(o.Open,o.Close),o.Date=n.Date,o.Time=n.Time,o.Vol=n.Vol,o.Amount=n.Amount,o.Direction=1,e.Data.push(o),a=o}else if(n.Close<a.Low){var o=new ot;o.YClose=a.High,o.Open=a.Low,o.Close=n.Close,o.Low=Math.min(o.Open,o.Close),o.High=Math.max(o.Open,o.Close),o.Date=n.Date,o.Time=n.Time,o.Vol=n.Vol,o.Amount=n.Amount,o.Direction=2,e.Data.push(o),a=o}else a&&(1==a.Direction||a.Direction,a.Vol+=n.Vol,a.Amount+=n.Amount)}return e}}}}]]),this.Create=function(t){return this.DataMap.has(t)?this.DataMap.get(t).Create():null}};function ri(t,e){this.newMethod=_,this.newMethod(t,e),delete this.newMethod,this.ClassName="KLineChartContainer",this.WindowIndex=new Array,this.ColorIndex,this.TradeIndex,this.Symbol,this.Name,this.Period=0,this.IsApiPeriod=!1,this.Right=0,this.RightFormula=0,this.SourceData,this.MaxRequestDataCount=3e3,this.MaxRequestMinuteDayCount=5,this.PageSize=200,this.KLineDrawType=0,this.ScriptErrorCallback,this.FlowCapitalReady=!1,this.EnableFlowCapital={},this.EnableZoomUpDown=null,this.ChartDrawStorage=new qe,this.ChartDrawStorageCache=null,this.RightSpaceCount=0,this.SourceDataLimit=new p.default,this.CtrlMoveStep=5,this.CustomShow=null,this.OverlayIndexFrameWidth=60,this.ZoomType=0,this.IsZoomLockRight=!1,this.KLineSize=null,this.Page={Day:{Enable:!1,Index:0,Finish:!1},Minute:{Enable:!1,Index:0,Finish:!1}},this.DragDownload={Day:{Enable:!1,IsEnd:!1,Status:0},Minute:{Enable:!1,IsEnd:!1,Status:0},Tick:{Enable:!1,IsEnd:!1,Status:0}},this.IsAutoUpdate=!1,this.AutoUpdateFrequency=3e4,this.AutoUpdateTimer,this.KLineApiUrl=Qe.Domain+"/API/KLine2",this.MinuteKLineApiUrl=Qe.Domain+"/API/KLine3",this.DragMinuteKLineApiUrl=Qe.Domain+"/API/KLine4",this.DragKLineApiUrl=Qe.Domain+"/API/KLine5",this.RealtimeApiUrl=Qe.Domain+"/API/Stock",this.KLineMatchUrl=Qe.Domain+"/API/KLineMatch",this.StockHistoryDayApiUrl=Qe.Domain+"/API/StockHistoryDay",this.TickApiUrl=Qe.Domain+"/API/StockDetail",this.MinuteDialog,this.RightMenu,this.BeforeBindMainData=null,this.AfterBindMainData=null,this.KLineCalculate=null,this.GetKLineCalulate=function(){var t,e=this.GetKLineDrawType();if(10==e)t="RenkoCalculate";else if(11==e)t="HeikinAshiCalculate";else{if(12!=e)return null;t="LineBreakCalcuate"}return this.KLineCalculate&&this.KLineCalculate.ClassName==t||(this.KLineCalculate=ni.Create(t)),this.KLineCalculate},this.ClearKLineCaluate=function(){this.KLineCalculate&&this.KLineCalculate.Clear&&this.KLineCalculate.Clear()},this.ResetDragDownload=function(){this.DragDownload.Day.Status=0,this.DragDownload.Day.IsEnd=!1,this.DragDownload.Minute.Status=0,this.DragDownload.Minute.IsEnd=!1,this.DragDownload.Tick.Status=0,this.DragDownload.Tick.IsEnd=!1},this.ResetPage=function(){this.Page.Day.Finish=!1,this.Page.Day.Index=0,this.Page.Minute.Finish=!1,this.Page.Minute.Index=0},this.AddCustomKLine=function(t,e){var i=this.ChartPaint[0];if(i&&t){if(i.CustomKLine||(i.CustomKLine=new p.default),Array.isArray(t))for(var a=0;a<t.length;++a){var n=t[a];i.CustomKLine.set(n.Key,n.Data)}else t&&i.CustomKLine.set(t.Key,t.Data);e&&1==e.Draw&&this.Draw()}},this.ClearCustomKLine=function(t){var e=this.ChartPaint[0];e&&(e.ClearCustomKLine(),t&&1==t.Draw&&this.Draw())},this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::StopAutoUpdate"),this.IsAutoUpdate&&(this.IsAutoUpdate=!1)},this.SandTableOperator=function(t){switch(t.ID){case 1:this.StopAutoUpdate(),t.Data&&this.ManualUpdateKData(t);break;case 2:this.ManualUpdateKData(t);break;case 3:t.IsAutoUpdate&&(this.IsAutoUpdate=t.IsAutoUpdate),this.ChangeSymbol(this.Symbol)}},this.ManualUpdateKData=function(t){var e=t.Data,i=e.length,a=new mt;a.Data=e,a.Period=this.Period,a.Right=this.Right,a.Symbol=this.Symbol,this.UpdateMainData(a,i),this.BindInstructionIndexData(a);for(var n=0;n<this.Frame.SubFrame.length;++n)this.BindIndexData(n,a);if(Ce.IsNumber(t.DataOffset)&&t.DataOffset>=0){var r=null;(r=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data)&&(r.DataOffset=t.DataOffset)}this.UpdataDataoffset(),this.UpdatePointByCursorIndex(1),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendManualKLineUpdateEvent(a)},this.GetKDataInfo=function(){if(!this.ChartPaint[0])return null;var t=this.ChartPaint[0],e={};return t.Data&&t.Data.Data&&(e.Data=t.Data.CloneData("HistoryData")),e.ShowRange=t.ShowRange,e.Period=this.Period,e.RightSpaceCount=this.RightSpaceCount,e},this.ChartOperator=function(t){var e=t.ID;if(e===w.OP_SCROLL_LEFT||e===w.OP_SCROLL_RIGHT){var i=e===w.OP_SCROLL_LEFT,a=1;t.Step>0&&(a=t.Step);var n=this.GetMoveOneStepWidth();this.DataMove(a*n,i)?(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw()):e===w.OP_SCROLL_RIGHT&&this.DragDownloadData&&this.DragDownloadData()}else if(e===w.OP_ZOOM_IN||e===w.OP_ZOOM_OUT){var r={};if(r.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),e===w.OP_ZOOM_IN){if(!this.Frame.ZoomUp(r))return}else if(!this.Frame.ZoomDown(r))return;this.CursorIndex=r.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw()}else if(e===w.OP_GOTO_HOME){if(!(f=this.ChartOperator_Temp_GetHistroyData()))return;var o=this.Frame.SubFrame[0].Frame.XPointCount;o-=this.RightSpaceCount;var s=f.Data.length-o;f.DataOffset=s,this.CursorIndex=0,this.LastPoint.X=null,this.LastPoint.Y=null,g.Chart.Log("[KLineChartContainer::ChartOperator] OP_GOTO_HOME, dataOffset="+f.DataOffset+" CursorIndex="+this.CursorIndex+" PageSize="+o),this.ChartOperator_Temp_Update()}else if(e===w.OP_GOTO_END){if(!(f=this.ChartOperator_Temp_GetHistroyData()))return;f.DataOffset=0,this.CursorIndex=0,this.LastPoint.X=null,this.LastPoint.Y=null,g.Chart.Log("[KLineChartContainer::ChartOperator] OP_GOTO_END "),this.ChartOperator_Temp_Update()}else if(e==w.OP_LEFT_ZOOM_IN||e==w.OP_LEFT_ZOOM_OUT){if(!(f=this.ChartOperator_Temp_GetHistroyData()))return;var l=f.Data.length,h=(o=this.Frame.SubFrame[0].Frame.XPointCount,f.DataOffset);if(e==w.OP_LEFT_ZOOM_IN){if(Ce.IsNumber(t.Step)){if(o>=l)return;if((a=t.Step)>h&&(a=h),o+a>l&&(a=l-o),a<=0)return;o+=a,f.DataOffset-=a}}else if(e==w.OP_LEFT_ZOOM_OUT){var u=this.GetMaxMinPageSize().Min;if(Ce.IsNumber(t.Step)){if(o<u)return;if(o-(a=t.Step)<u&&(a=o-u),a<=0)return;o-=a,f.DataOffset+=a}}for(var c in this.Frame.SubFrame){(I=this.Frame.SubFrame[c].Frame).XPointCount=o}f.DataOffset<0&&(f.DataOffset=0),this.ChartOperator_Temp_Update()}else if(e==w.OP_RIGHT_ZOOM_IN||e==w.OP_RIGHT_ZOOM_OUT){if(!(f=this.ChartOperator_Temp_GetHistroyData()))return;l=f.Data.length,o=this.Frame.SubFrame[0].Frame.XPointCount,h=f.DataOffset;if(e==w.OP_RIGHT_ZOOM_IN){if(Ce.IsNumber(t.Step)){if(o>=l)return;var d=l-(h+o);if(d<=0)return;if((a=t.Step)>d&&(a=d),a<=0)return;o+=a}}else if(e==w.OP_RIGHT_ZOOM_OUT){u=this.GetMaxMinPageSize().Min;if(Ce.IsNumber(t.Step)){if(o<u)return;if((a=t.Step)>o&&(a=o),o-a<u&&(a=o-u),a<=0)return;o-=a}}for(var c in this.Frame.SubFrame){(I=this.Frame.SubFrame[c].Frame).XPointCount=o}f.DataOffset<0&&(f.DataOffset=0),this.ChartOperator_Temp_Update()}else{if(e==w.OP_SET_SELECTRECT){if(!this.ChartPaint[0])return!1;if(!this.ChartPaint[0].Data)return!1;var f=this.ChartOperator_Temp_GetHistroyData();if(!Ce.IsNonEmptyArray(f.Data))return!1;if(!(C=this.GetRectSelectPaint()))return!1;if(!mt.IsDayPeriod(this.Period,!0))return!1;for(c=0;c<f.Data.length;++c){if((I=f.Data[c]).Date==t.Start.Date&&(D={KItem:I,DataIndex:c}),I.Date==t.End.Date&&(y={KItem:I,DataIndex:c}),t.SubClient&&t.SubClient.Start&&I.Date==t.SubClient.Start.Date&&(x={KItem:I,DataIndex:c}),t.SubClient&&t.SubClient.End&&I.Date==t.SubClient.End.Date&&(S={KItem:I,DataIndex:c}),D&&y)break}if(!D||!y)return g.Chart.Warn("[KLineChartContainer::ChartOperator][OP_SET_SELECTRECT] can't find date. firstPoint, secondPoint, obj",D,y,t),!1;C.SetPoint(D.KItem,{Index:0,DataIndex:D.DataIndex}),C.SetPoint(y.KItem,{Index:1,DataIndex:y.DataIndex}),x&&S&&(C.SetPoint(x.KItem,{Index:3,DataIndex:x.DataIndex}),C.SetPoint(S.KItem,{Index:4,DataIndex:S.DataIndex})),Ce.IsBool(t.PreventClose)&&(C.PreventClose=t.PreventClose);var p=!1,m=this.ChartPaint[0].DrawKRange;if(m&&(m.Start>=D.DataIndex&&m.Start>=y.DataIndex||m.End<=D.DataIndex&&m.End<=y.DataIndex)){var v=D.DataIndex;l=f.Data.length;v+(o=this.ChartPaint[0].ShowRange.ShowCount)>l&&(v=l-o),v<0&&(v=0),f.DataOffset=v,p=!0}return p?this.ChartOperator_Temp_Update():this.Draw(),!0}if(e==w.OP_SET_SUB_SELECTRECT){if(!this.ChartPaint[0])return!1;if(!this.ChartPaint[0].Data)return!1;var C,D,y,x,S;f=this.ChartOperator_Temp_GetHistroyData();if(!Ce.IsNonEmptyArray(f.Data))return!1;if(!(C=this.GetRectSelectPaint()))return!1;if(!mt.IsDayPeriod(this.Period,!0))return!1;for(c=0;c<f.Data.length;++c){var I;if((I=f.Data[c]).Date==t.Start.Date&&(D={KItem:I,DataIndex:c}),I.Date==t.End.Date&&(y={KItem:I,DataIndex:c}),D&&y)break}return D&&y?(C.SetPoint(D.KItem,{Index:3,DataIndex:D.DataIndex}),C.SetPoint(y.KItem,{Index:4,DataIndex:y.DataIndex}),this.Draw(),!0):(g.Chart.Warn("[KLineChartContainer::ChartOperator][OP_SET_SUB_SELECTRECT] can't find date. firstPoint, secondPoint, obj",D,y,t),!1)}}},this.ChartOperator_Temp_GetHistroyData=function(){return(this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data)||null},this.ChartOperator_Temp_Update=function(){this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.UpdatePointByCursorIndex()},this.OnWheel=function(t){if(g.Chart.Log("[KLineChartContainer::OnWheel]",t),!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var e,i=L(),a=(t.clientX-this.UIElement.getBoundingClientRect().left)*i,n=(t.clientY-this.UIElement.getBoundingClientRect().top)*i;this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),e=this.Canvas.isPointInPath(a,n);var r=t.wheelDelta;Ce.IsObjectExist(t.wheelDelta)||(r=-.01*t.deltaY);var o=!0;if(this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Wheel&&(o=!1),this.SourceData&&this.SourceData.Data)if(e&&r<0&&o)(s={ZoomType:this.ZoomType,IsLockRight:this.IsZoomLockRight}).Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),this.Frame.ZoomDown(s)&&(this.CursorIndex=s.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.OnKLinePageChange("wheel"));else if(e&&r>0&&o){var s;(s={ZoomType:this.ZoomType,IsLockRight:this.IsZoomLockRight}).Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),this.Frame.ZoomUp(s)&&(g.Chart.Log("[KLineChartContainer::OnWheel] cursorIndex ",s),this.CursorIndex=s.Index,this.UpdatePointByCursorIndex(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw(),this.OnKLinePageChange("wheel"))}e&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}},this.Create=function(t,e){var i=this;for(var a in this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new be,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=Fe.Create("CorssCursor_XStringFormat"),this.ChartCorssCursor.StringFormatX.LanguageID=this.LanguageID,this.ChartCorssCursor.StringFormatY=Fe.Create("CorssCursor_YStringFormat"),this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID,this.ChartCorssCursor.StringFormatY.ExtendChartPaint=this.ExtendChartPaint,this.ChartSplashPaint=new we,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.HQChart=this,this.Frame=new nt,this.Frame.ChartBorder=new W,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.Frame.GetExtendChartRightWidth=function(){return i.GetExtendChartRightWidth()},this.Frame.GetExtendChartByClassName=function(t){return i.GetExtendChartByClassName(t)},this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine(),this.CreateExtendChart("RectSelectPaint",e?e.SelectRect:null),this.EnableIndexChartDrag&&this.CreateExtendChart("DragMovePaint"),this.Frame.SubFrame){var n=new Ve;n.Frame=this.Frame.SubFrame[a].Frame,n.Canvas=this.Canvas,n.LanguageID=this.LanguageID,n.GetEventCallback=function(t){return i.GetEventCallback(t)},n.SelectedChart=this.SelectedChart,this.TitlePaint.push(n)}var r=!0,o=!0;if(e&&e.Listener){var s=e.Listener;!1===s.KeyDown&&(r=!1,g.Chart.Log("[KLineChartContainer::Create] not register keydown event.")),!1===s.Wheel&&(o=!1,g.Chart.Log("[KLineChartContainer::Create] not register wheel event."))}r&&this.UIElement.addEventListener("keydown",function(t){i.OnKeyDown(t)},!0),o&&this.UIElement.addEventListener("wheel",function(t){i.OnWheel(t)},!0)},this.OnCustomKeyDown=function(t,e){return 37==t&&e.ctrlKey?(this.MoveCorssCursorLeft(this.CtrlMoveStep),!0):!(39!=t||!e.ctrlKey)&&(this.MoveCorssCursorRight(this.CtrlMoveStep),!0)},this.MoveCorssCursorLeft=function(t){var e=null;if(e=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data)if(e.DataOffset<=0&&this.CursorIndex<=0)this.DragDownloadData&&this.DragDownloadData();else{if(this.CursorIndex-t<0)return e.DataOffset-=t,e.DataOffset<0&&(e.DataOffset=0,this.CursorIndex=0),this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),void this.OnKLinePageChange("keydown");this.CursorIndex-=t,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo(),this.ShowTooltipByKeyDown()}},this.MoveCorssCursorRight=function(t){var e=null;if(e=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data){var i=0;if(i=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount,!(this.CursorIndex+e.DataOffset+1>=e.Data.length)){var a=!1;if(this.CursorIndex+t+e.DataOffset+1>e.Data.length&&(t=e.Data.length-1-e.DataOffset-this.CursorIndex,a=!0),this.CursorIndex+t>=i){var n=this.CursorIndex+t-(i-1);return e.DataOffset+=n,a&&(this.CursorIndex=i-1),this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),void this.OnKLinePageChange("keydown")}this.CursorIndex+=t,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo(),this.ShowTooltipByKeyDown()}}},this.CreateChildWindow=function(t){for(var e=this,i=0;i<t;++i){var a=new W;a.UIElement=this.UIElement;var n=new Z;if(n.Canvas=this.Canvas,n.ChartBorder=a,n.Identify=i,n.RightSpaceCount=this.RightSpaceCount,this.ModifyIndexDialog&&(n.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(n.ChangeIndexEvent=this.ChangeIndexDialog.DoModal),n.HorizontalMax=20,n.HorizontalMin=10,0==i){n.YSplitOperator=new De,n.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price"),n.YSplitOperator.FrameSplitData2=this.FrameSplitData.get("double"),n.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)};var r=L();a.BottomSpace=15*r,a.TopSpace=15*r,n.GetEventCallback=function(t){return e.GetEventCallback(t)}}else n.YSplitOperator=new ye,n.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),n.YSplitOperator.LanguageID=this.LanguageID,n.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)};n.YSplitOperator.Frame=n,n.YSplitOperator.ChartBorder=a,n.XSplitOperator=new xe,n.XSplitOperator.Frame=n,n.XSplitOperator.ChartBorder=a,n.XSplitOperator.LanguageID=this.LanguageID,n.XSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},i!=t-1&&(n.XSplitOperator.ShowText=!1);for(var o=n.HorizontalMin;o<=n.HorizontalMax;o+=1)n.HorizontalInfo[o]=new Y,n.HorizontalInfo[o].Value=o,0==i&&o==n.HorizontalMin||(n.HorizontalInfo[o].Message[1]=o.toString(),n.HorizontalInfo[o].Font="14px 微软雅黑");var s=new it;s.Frame=n,s.Height=0==i?20:10,this.Frame.SubFrame[i]=s}},this.CreateSubFrameItem=function(t){var e=this,i=new W;i.UIElement=this.UIElement;var a=new Z;a.Canvas=this.Canvas,a.ChartBorder=i,a.Identify=t,this.ModifyIndexDialog&&(a.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(a.ChangeIndexEvent=this.ChangeIndexDialog.DoModal),a.HorizontalMax=20,a.HorizontalMin=10,a.YSplitOperator=new ye,a.YSplitOperator.LanguageID=this.LanguageID,a.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),a.YSplitOperator.Frame=a,a.YSplitOperator.ChartBorder=i,a.XSplitOperator=new xe,a.XSplitOperator.Frame=a,a.XSplitOperator.ChartBorder=i,a.XSplitOperator.ShowText=!1,a.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},a.XSplitOperator.Symbol=this.Symbol,a.XSplitOperator.Period=this.Period;var n=this.Frame.SubFrame[0].Frame.XPointCount;a.XPointCount=n,a.Data=this.ChartPaint[0].Data;for(var r=a.HorizontalMin;r<=a.HorizontalMax;r+=1)a.HorizontalInfo[r]=new Y,a.HorizontalInfo[r].Value=r,a.HorizontalInfo[r].Message[1]=r.toString(),a.HorizontalInfo[r].Font="14px 微软雅黑";var o=new it;return o.Frame=a,o.Height=10,o},this.CreateMainKLine=function(){var t=this,e=Tt.Create("ChartKLine");e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.Name="Main-KLine",e.DrawType=this.KLineDrawType,e.Identify="Main-KLine",e.GetEventCallback=function(e){return t.GetEventCallback(e)},this.ChartPaint[0]=e,this.TitlePaint[0]=new Ne,this.TitlePaint[0].Frame=this.Frame.SubFrame[0].Frame,this.TitlePaint[0].Canvas=this.Canvas,this.TitlePaint[0].OverlayChartPaint=this.OverlayChartPaint,this.TitlePaint[0].LanguageID=this.LanguageID,this.TitlePaint[0].HQChart=this},this.BindMainData=function(t,e){(this.ChartPaint[0].Data=t,this.ChartPaint[0].Symbol=this.Symbol,this.KLineSize)&&(null==this.KLineSize.DataWidth?e=this.Frame.SubFrame[0].Frame.XPointCount-this.RightSpaceCount:(e=this.Frame.SetDataWidth(this.KLineSize.DataWidth).XPointCount-this.RightSpaceCount,this.KLineSize.DataWidth=null));for(var i in this.Frame.SubFrame){(a=this.Frame.SubFrame[i].Frame).XPointCount=e+this.RightSpaceCount,a.Data=this.ChartPaint[0].Data,a.XSplitOperator.Symbol=this.Symbol,a.XSplitOperator.Period=this.Period}for(var i in this.TitlePaint[0].Data=this.ChartPaint[0].Data,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=this.Name,this.TitlePaint[0].Period=this.Period,this.ChartCorssCursor.StringFormatX.Data=this.ChartPaint[0].Data,this.Frame.Data=this.ChartPaint[0].Data,this.OverlayChartPaint){var a;(a=this.OverlayChartPaint[i]).MainData=this.ChartPaint[0].Data}var n=t.Data.length-e;n<0&&(n=0),this.ChartPaint[0].Data.DataOffset=n,this.ChartPaint[0].Period=this.Period,this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.CursorIndex=e,this.CursorIndex+n>=t.Data.length&&(this.CursorIndex=t.Data.length-1-n),this.CursorIndex<0&&(this.CursorIndex=0),this.CustomShow&&(this.SetCustomShow(this.CustomShow,t),this.CustomShow=null)},this.UpdateMainData=function(t,e){var i=null;if(this.Frame.Data?this.Frame.SubFrame&&this.Frame.SubFrame[0]&&(i=this.Frame.SubFrame[0].Frame.Data):i=this.Frame.Data,i){var a=this.Frame.SubFrame[0].Frame.XPointCount,n=0;for(var r in e>0&&t.Data.length>e?(n=t.Data.length-e,g.Chart.Log("[KLineChartContainer::UpdateMainData]  [count="+e+"->"+t.Data.length+"], [newDataCount="+n+"], [Pagesize="+a+"]")):0==e&&t.Data.length>a&&(n=t.Data.length-a,g.Chart.Log("[KLineChartContainer::UpdateMainData] history data is empty. [count="+e+"->"+t.Data.length+"], [newDataCount="+n+"], [Pagesize="+a+"]")),this.ChartPaint[0].Data=t,this.ChartPaint[0].Symbol=this.Symbol,t.Data.length>a&&(this.ChartPaint[0].Data.DataOffset=i.DataOffset+n),this.Frame.SubFrame){(o=this.Frame.SubFrame[r].Frame).Data=this.ChartPaint[0].Data,0==r&&(o.YSplitOperator.Symbol=this.Symbol,o.YSplitOperator.Data=this.ChartPaint[0].Data,o.YSplitOperator.Period=this.Period)}for(var r in this.TitlePaint[0].Data=this.ChartPaint[0].Data,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=this.Name,this.ChartCorssCursor.StringFormatX.Data=this.ChartPaint[0].Data,this.Frame.Data=this.ChartPaint[0].Data,this.OverlayChartPaint){var o;(o=this.OverlayChartPaint[r]).MainData=this.ChartPaint[0].Data}this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol}},this.SetCustomShow=function(t,e){if(t&&t.Date&&!(t.Date<19910101)){for(var i=t.Date,a=null,n=0;n<e.Data.length;++n){if(e.Data[n].Date>=i){a=n;break}}if(null!==a){var r=e.Data.length-a;t.PageSize>0&&(r=t.PageSize);var o=r,s=this.GetMaxMinPageSize();for(var n in r>s.Max?o=s.Max:r<s.Min&&(o=s.Min),this.Frame.SubFrame){this.Frame.SubFrame[n].Frame.XPointCount=o}this.ChartPaint[0].Data.DataOffset=a,this.CursorIndex=0}else g.Chart.Log("[KLineChartContainer::SetCustomShow] Can't find first date="+i)}},this.OnDragSelectRectMouseUp=function(t){var e=this.GetRectSelectPaint();if(e){var i=e.GetSelectRectData();if(i){var a=L(),n=this.ChartCorssCursor,r=n.LastPoint.X/a,o=n.LastPoint.Y/a,s=!0,l=this.GetEventCallback(b.ON_DRAG_SELECT_RECT_MOUSEUP);if(l){var h={X:r,Y:o,SelectData:i,RectSelectPaint:e,IsShowMenu:!1};l.Callback(l,h,this),s=h.IsShowMenu}s&&this.SelectRectRightMenu&&(t.data={Chart:this,X:r,Y:o,SelectData:i,RectSelectPaint:e},this.SelectRectRightMenu.DoModal(t))}}},this.OnDragSubSelectRectMouseUp=function(t){var e=this.GetRectSelectPaint();if(e&&e.GetSelectRectData()){var i=L(),a=this.ChartCorssCursor,n=a.LastPoint.X/i,r=a.LastPoint.Y/i,o=this.GetEventCallback(b.ON_DRAG_SUB_SELECT_RECT_MOUSEUP);if(o){var s={X:n,Y:r,SubSelectData:{Start:e.SubClient.FirstPoint,End:e.SubClient.SecondPoint},RectSelectPaint:e};o.Callback(o,s,this)}}},this.ShowSelectData=function(t){this.HideSelectRect(),this.SelectRectRightMenu&&this.SelectRectRightMenu.Hide(),g.Chart.Log("[KLineChartContainer::ShowSelectData] selectData",t);var e=t.Start,i=t.End-t.Start+1;for(var a in g.Chart.Log("[KLineChartContainer::ShowSelectData] DataOffset="+e+", ShowCount="+i),this.Frame.SubFrame){this.Frame.SubFrame[a].Frame.XPointCount=i}this.ChartPaint[0].Data.DataOffset=e,this.CursorIndex=0,this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.UpdatePointByCursorIndex()},this.OnMarkRectSelect=function(t){var e=this.ChartCorssCursor;if(e&&0!=e.Status&&Ce.IsNumber(e.CursorIndex)&&this.ChartPaint[0]&&this.ChartPaint[0].Data){var i=this.GetRectSelectPaint();if(i){var a=e.CursorIndex;g.Chart.Log("[KLineChartContainer::OnMarkRectSelect] dataIndex",a);var n=this.ChartPaint[0].Data,r=(a=parseInt(a.toFixed(0)))+n.DataOffset;r>=n.Data.length&&(r=n.Data.length-1);var o=n.Data[r];if(g.Chart.Log("[KLineChartContainer::OnMarkRectSelect] item",o),this.SetRectSelectData(o,r)){var s=i.GetPointCount(),l=L();if(1==s){if((u=this.GetEventCallback(b.ON_KEYDOWN_SELECT_RECT_FIRST))&&u.Callback){var h={X:e.LastPoint.X/l,Y:e.LastPoint.Y/l,Item:o,Index:r,RectSelectPaint:i};u.Callback(u,h,this)}}else if(2==s){var u,c=i.GetSelectRectData(),d=!0;if((u=this.GetEventCallback(b.ON_KEYDOWN_SELECT_RECT))&&u.Callback){h={X:e.LastPoint.X/l,Y:e.LastPoint.Y/l,SelectData:c,RectSelectPaint:i,IsShowMenu:!0};u.Callback(u,h,this),d=h.IsShowMenu}d&&this.SelectRectRightMenu&&(t.data={Chart:this,X:e.LastPoint.X/l,Y:e.LastPoint.Y/l,SelectData:c,RectSelectPaint:i},this.SelectRectRightMenu.DoModal(t))}this.Draw()}}}},this.CreateWindowIndex=function(t){this.WindowIndex[t].Create(this,t)},this.BindIndexData=function(t,e,i){this.WindowIndex[t]&&("function"!=typeof this.WindowIndex[t].RequestData?"function"!=typeof this.WindowIndex[t].ExecuteScript?this.WindowIndex[t].BindData(this,t,e):this.WindowIndex[t].ExecuteScript(this,t,e):this.WindowIndex[t].RequestData(this,t,e,i))},this.BindOverlayIndexData=function(t,e,i){t.Script&&("function"!=typeof t.Script.RequestData?"function"!=typeof t.Script.ExecuteScript?t.Script.BindData(this,e,i):t.Script.ExecuteScript(this,e,i):t.Script.RequestData(this,e,i))},this.BindInstructionIndexData=function(t){this.ColorIndex&&"function"==typeof this.ColorIndex.ExecuteScript&&this.ColorIndex.ExecuteScript(this,0,t),this.TradeIndex&&"function"==typeof this.TradeIndex.ExecuteScript&&this.TradeIndex.ExecuteScript(this,0,t)},this.GetChartPaint=function(t){var e=new Array;for(var i in this.ChartPaint)if(0!=i){var a=this.ChartPaint[i];a.ChartFrame==this.Frame.SubFrame[t].Frame&&e.push(a)}return e},this.AutoUpdateEvent=function(t,e){var i=t?b.RECV_START_AUTOUPDATE:b.RECV_STOP_AUTOUPDATE;if(this.mapEvent.has(i)){var a=this,n=this.mapEvent.get(i),r={Stock:{Symbol:this.Symbol,Name:this.Name,Right:this.Right,Period:this.Period},Explain:e};t&&(r.Callback=function(t){mt.IsDayPeriod(a.Period,!0)?a.RecvRealtimeData(t):mt.IsMinutePeriod(a.Period,!0)?a.RecvMinuteRealtimeData(t):mt.IsSecondPeriod(a.Period)&&a.RecvMinuteRealtimeData(t)}),n.Callback(n,r,this)}},this.SendKLineUpdateEvent=function(t){var e=this.GetEventCallback(b.RECV_KLINE_UPDATE_DATA);if(e&&e.Callback){var i={HistoryData:t,Stock:{Symbol:this.Symbol,Name:this.Name}};return e.Callback(e,i,this),!0}return!1},this.SendManualKLineUpdateEvent=function(t){var e=this.GetEventCallback(b.RECV_KLINE_MANUAL_UPDATE_DATA);if(e&&e.Callback){var i={HistoryData:t,Stock:{Symbol:this.Symbol,Name:this.Name}};return e.Callback(e,i,this),!0}return!1},this.GetKLineDrawType=function(){return this.KLineDrawType},this.RequestHistoryData=function(){var t=this;if(this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.FlowCapitalReady=!1,this.ResetPage(),this.ResetDragDownload(),this.Draw(),this.NetworkFilter){var e=this.GetKLineDrawType(),i={Name:"KLineChartContainer::RequestHistoryData",Explain:"日K数据",Request:{Url:t.KLineApiUrl,Type:"POST",Data:{symbol:t.Symbol,count:t.MaxRequestDataCount,field:["name","symbol","yclose","open","price","high","low","vol"],period:this.Period,right:this.Right,klineDrawType:e}},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryData(e);var i=t.Page.Day;1==i.Enable&&0==i.Finish?t.RequestHistoryPageData():(t.AutoUpdateEvent(!0,"KLineChartContainer::RequestHistoryData"),t.AutoUpdate())}),1==i.PreventDefault)return}C.HttpRequest({url:this.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryData(e);var i=t.Page.Day;1==i.Enable&&0==i.Finish?t.RequestHistoryPageData():(t.AutoUpdateEvent(!0,"KLineChartContainer::RequestHistoryData"),t.AutoUpdate())}})},this.BindAllOverlayIndexData=function(t){if(this.Frame&&this.Frame.SubFrame)for(var e=0;e<this.Frame.SubFrame.length;++e){var i=this.Frame.SubFrame[e];for(var a in i.OverlayIndex){var n=i.OverlayIndex[a];this.BindOverlayIndexData(n,e,t)}}},this.RecvHistoryData=function(t){if(this.EnableVerifyRecvData&&t.symbol!=this.Symbol)g.Chart.Warn("[KLineChartContainer::RecvHistoryData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.symbol+"]");else{var e=ri.JsonDataToHistoryData(t),i=new mt;i.Data=e,i.DataType=0,i.Symbol=t.symbol,this.SourceData=i,this.BeforeBindMainData&&this.BeforeBindMainData("RecvHistoryData");var a=new mt;if(a.Data=e,a.Right=this.Right,a.Period=this.Period,a.DataType=0,a.Symbol=t.symbol,a.Right>0&&!this.IsApiPeriod){var n=a.GetRightData(a.Right,{AlgorithmType:this.RightFormula});a.Data=n}if(mt.IsDayPeriod(a.Period,!1)&&!this.IsApiPeriod){var r=a.GetPeriodData(a.Period);a.Data=r}var o,s=this.GetKLineCalulate();if(s)a=s.RecvHistoryData(a,{Symbol:this.Symbol,Function:"RecvHistoryData"}),this.FlowCapitalReady=!0;this.Symbol=t.symbol,this.Name=t.name,this.BindMainData(a,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("RecvHistoryData"),this.Frame.SetSizeChage(!0),this.Frame.SubFrame[0]&&(o=this.Frame.SubFrame[0].Frame),o&&o.YSplitOperator&&(o.YSplitOperator.Symbol=this.Symbol,o.YSplitOperator.Data=this.ChartPaint[0].Data,o.YSplitOperator.Period=this.Period);var l=this.Page.Day;(0==l.Enable||1==l.Enable&&1==l.Finish)&&(this.ReqeustKLineInfoData({FunctionName:"RecvHistoryData"}),this.RequestFlowCapitalData(),this.RequestOverlayHistoryData(),this.CreateChartDrawPictureByStorage()),l.Enable&&(l.Index=1),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.UpdatePointByCursorIndex(2),this.Draw(),this.BindInstructionIndexData(a);for(var h=0;h<this.Frame.SubFrame.length;++h)this.BindIndexData(h,a);if(this.BindAllOverlayIndexData(a),this.mapEvent.has(b.RECV_HISTROY_DATA)){var u=this.mapEvent.get(b.RECV_HISTROY_DATA);t={HistoryData:a,Stock:{Symbol:this.Symbol,Name:this.Name}};u.Callback(u,t,this)}}},this.RequestHistoryPageData=function(){var t=this;if(this.NetworkFilter){var e=this.SourceData.Data[0],i={Name:"KLineChartContainer::RequestHistoryPageData",Explain:"日K数据分页",Request:{Url:"none",Type:"POST",Data:{symbol:t.Symbol,index:t.Page.Day.Index,field:["name","symbol","yclose","open","price","high","low","vol"],firstDate:e.Date,first:{date:e.Date}}},Page:t.Page.Day,Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.RecvHistoryPageData(e);var i=t.Page.Day;1==i.Enable&&0==i.Finish?t.RequestHistoryPageData():t.AutoUpdate()}),1==i.PreventDefault)return}setTimeout(function(){var e=t.Page.Day;e.Finish=!0;var i={data:[[20150218,12.54,12.5,12.74,11.95,12.27,117632441,1459671045],[20150219,12.27,12.1,12.23,11.9,12.23,95889423,1157078548],[20150220,12.23,12.17,12.17,11.9,12.05,67763439,815652761]],symbol:t.Symbol,name:t.Name};t.RecvHistoryPageData(i),1==e.Enable&&0==e.Finish?t.RequestHistoryPageData():t.AutoUpdate()},500)},this.RecvHistoryPageData=function(t){if(this.EnableVerifyRecvData&&t.symbol!=this.Symbol)g.Chart.Warn("[KLineChartContainer::RecvHistoryPageData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.symbol+"]");else{var e=ri.JsonDataToHistoryData(t),i=this.GetHistoryDataCount();for(var a in e){var n=e[a];this.SourceData.Data.splice(a,0,n)}var r=new mt;if(r.Data=this.SourceData.Data,r.Period=this.Period,r.Right=this.Right,r.DataType=this.SourceData.DataType,r.Right>0&&r.Period<=3){var o=r.GetRightData(r.Right,{AlgorithmType:this.RightFormula});r.Data=o}if(mt.IsDayPeriod(r.Period,!1)||mt.IsMinutePeriod(r.Period,!1)){var s=r.GetPeriodData(r.Period);r.Data=s}this.UpdateMainData(r,i),this.BindInstructionIndexData(r);for(a=0;a<this.Frame.SubFrame.length;++a)this.BindIndexData(a,r);var l=this.Page.Day;++l.Index,1==l.Enable&&1==l.Finish&&(this.RequestFlowCapitalData(),this.RequestOverlayHistoryData(),this.CreateChartDrawPictureByStorage()),this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}},this.ReqeustHistoryMinuteData=function(){var t=this;if(this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.FlowCapitalReady=!1,this.ResetPage(),this.ResetDragDownload(),this.Draw(),this.NetworkFilter){var e=this.GetKLineDrawType(),i={Name:"KLineChartContainer::ReqeustHistoryMinuteData",Explain:"1分钟K线数据",Request:{Url:t.MinuteKLineApiUrl,Type:"POST",Data:{symbol:t.Symbol,count:t.MaxRequestMinuteDayCount,field:["name","symbol","yclose","open","price","high","low","vol"],period:this.Period,right:this.Right,klineDrawType:e}},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteHistoryData(e);var i=t.Page.Minute;1==i.Enable&&0==i.Finish?t.ReqeustHistoryMinutePageData():(t.AutoUpdateEvent(!0,"KLineChartContainer::ReqeustHistoryMinuteData"),t.AutoUpdate())}),1==i.PreventDefault)return}C.HttpRequest({url:this.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteHistoryData(e);var i=t.Page.Minute;1==i.Enable&&0==i.Finish?t.ReqeustHistoryMinutePageData():(t.AutoUpdateEvent(!0,"KLineChartContainer::ReqeustHistoryMinuteData"),t.AutoUpdate())}})},this.RecvMinuteHistoryData=function(t){if(this.EnableVerifyRecvData&&t.symbol!=this.Symbol)g.Chart.Warn("[KLineChartContainer::RecvMinuteHistoryData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.symbol+"]");else{var e=ri.JsonDataToMinuteHistoryData(t),i=new mt;i.Data=e,i.DataType=1,i.Symbol=t.symbol,this.SourceData=i,this.BeforeBindMainData&&this.BeforeBindMainData("RecvMinuteHistoryData");var a=new mt;if(a.Data=e,a.Right=this.Right,a.Period=this.Period,a.DataType=1,a.Symbol=t.symbol,mt.IsMinutePeriod(a.Period,!1)&&!this.IsApiPeriod){var n=i.GetPeriodData(a.Period);a.Data=n}var r,o=this.GetKLineCalulate();if(o)a=o.RecvHistoryData(a,{Symbol:this.Symbol,Function:"RecvMinuteHistoryData"}),this.FlowCapitalReady=!0;for(var s in this.Symbol=t.symbol,this.Name=t.name,this.BindMainData(a,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("RecvMinuteHistoryData"),this.Frame.SetSizeChage(!0),this.Frame.SubFrame[0]&&(r=this.Frame.SubFrame[0].Frame),r&&r.YSplitOperator&&(r.YSplitOperator.Symbol=this.Symbol,r.YSplitOperator.Data=this.ChartPaint[0].Data,r.YSplitOperator.Period=this.Period),this.OverlayChartPaint){this.OverlayChartPaint[s].Data=null}var l=this.Page.Minute;(0==l.Enable||1==l.Enable&&1==l.Finish)&&(this.RequestFlowCapitalData(),this.RequestOverlayHistoryMinuteData(),this.CreateChartDrawPictureByStorage()),l.Enable&&++l.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(2),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.BindInstructionIndexData(a);for(s=0;s<this.Frame.SubFrame.length;++s)this.BindIndexData(s,a);if(this.BindAllOverlayIndexData(a),this.mapEvent.has(b.RECV_HISTROY_DATA)){var h=this.mapEvent.get(b.RECV_HISTROY_DATA);t={HistoryData:a,Stock:{Symbol:this.Symbol,Name:this.Name}};h.Callback(h,t,this)}}},this.ReqeustHistoryMinutePageData=function(){var t=this;if(this.NetworkFilter){var e=this.SourceData.Data[0],i={Name:"KLineChartContainer::RecvHistoryMinutePageData",Explain:"1分钟K线数据分页",Request:{Url:"none",Type:"POST",Data:{symbol:t.Symbol,index:t.Page.Minute.Index,field:["name","symbol","yclose","open","price","high","low","vol"],firstDate:e.Date,first:{date:e.Date,time:e.Time}}},Page:t.Page.Minute,Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.RecvHistoryMinutePageData(e);var i=t.Page.Minute;1==i.Enable&&0==i.Finish?t.ReqeustHistoryMinutePageData():t.AutoUpdate()}),1==i.PreventDefault)return}setTimeout(function(){var e=t.Page.Minute;e.Finish=!0;t.RecvHistoryMinutePageData({data:[[20190906,14.58,14.71,14.71,14.71,14.71,1096425,16128411,925],[20190906,14.71,14.73,14.74,14.71,14.71,2154859,31731820,930],[20190906,14.71,14.71,14.71,14.68,14.69,1427516,20989208,931],[20190906,14.69,14.69,14.71,14.68,14.7,1680503,24694143,932],[20190906,14.7,14.69,14.7,14.65,14.65,1315900,19310964,933],[20190906,14.65,14.66,14.69,14.65,14.68,702955,10313842,934],[20190906,14.68,14.7,14.71,14.67,14.67,1735266,25495875,935],[20190906,14.67,14.68,14.7,14.67,14.67,739e3,10845398,936],[20190906,14.67,14.67,14.68,14.67,14.68,389800,5721266,937],[20190906,14.68,14.68,14.7,14.68,14.69,648477,9527859,938],[20190906,14.69,14.7,14.71,14.69,14.7,1128400,16589794,939],[20190906,14.7,14.7,14.71,14.69,14.71,714858,10509708,940],[20190906,14.71,14.71,14.71,14.69,14.69,401500,5900477,941],[20190906,14.69,14.69,14.71,14.69,14.69,1165684,17131034,942],[20190906,14.69,14.69,14.7,14.67,14.67,498516,7321024,943],[20190906,14.67,14.68,14.68,14.67,14.67,350126,5139012,944],[20190906,14.67,14.67,14.69,14.67,14.69,561600,8246789,945]]}),1==e.Enable&&0==e.Finish?t.ReqeustHistoryMinutePageData():t.AutoUpdate()},500)},this.RecvHistoryMinutePageData=function(t){if(this.EnableVerifyRecvData&&t.symbol!=this.Symbol)g.Chart.Warn("[KLineChartContainer::RecvHistoryMinutePageData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.symbol+"]");else{var e=ri.JsonDataToMinuteHistoryData(t),i=this.GetHistoryDataCount();for(var a in e){var n=e[a];this.SourceData.Data.splice(a,0,n)}var r=new mt;if(r.Data=this.SourceData.Data,r.Period=this.Period,r.Right=this.Right,r.DataType=this.SourceData.DataType,r.Right>0&&mt.IsDayPeriod(r.Period,!1)){var o=r.GetRightData(r.Right,{AlgorithmType:this.RightFormula});r.Data=o}if(mt.IsDayPeriod(r.Period,!1)||mt.IsMinutePeriod(r.Period,!1)){var s=r.GetPeriodData(r.Period);r.Data=s}this.UpdateMainData(r,i),this.BindInstructionIndexData(r);for(a=0;a<this.Frame.SubFrame.length;++a)this.BindIndexData(a,r);var l=this.Page.Minute;(0==l.Enable||1==l.Enable&&1==l.Finish)&&(this.RequestFlowCapitalData(),this.CreateChartDrawPictureByStorage()),l.Enable&&++l.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}},this.RequestRealtimeData=function(){var t=this,e=[t.Symbol];for(var i in this.OverlayChartPaint){var a=this.OverlayChartPaint[i];a.Symbol&&(a.MainData&&a.Status==At.STATUS_FINISHED_ID&&e.push(a.Symbol))}if(this.NetworkFilter){var n=this.GetKLineDrawType(),r={Name:"KLineChartContainer::RequestRealtimeData",Explain:"当天最新日线数据",Request:{Url:t.RealtimeApiUrl,Data:{symbol:e,field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time"],period:this.Period,right:this.Right,klineDrawType:n},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(e){t.RecvRealtimeData(e),t.AutoUpdate()}),1==r.PreventDefault)return}C.HttpRequest({url:this.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time"],symbol:e,start:-1},type:"post",dataType:"json",async:!0,success:function(e){t.RecvRealtimeData(e),t.AutoUpdate()}})},this.RecvRealtimeData=function(t){if(1!=this.IsOnTouch){var e=ri.JsonDataToRealtimeData(t,this.Symbol);if(e){var i=this.SourceData.Data[this.SourceData.Data.length-1],a=this.GetHistoryDataCount();if(0==this.SourceData.Data.length){var n=new ot;ot.CopyTo(n,e),this.SourceData.Data.push(n)}else if(i.Date==e.Date)g.Chart.Log("[KLineChartContainer::RecvRealtimeData] update kline by realtime data",e),ot.CopyTo(i,e);else if(i.Date<e.Date){g.Chart.Log("[KLineChartContainer::RecvRealtimeData] insert kline by realtime data",e);n=new ot;ot.CopyTo(n,e),!Ce.IsNumber(n.YClose)&&this.SourceData.Data.length>0&&(n.YClose=this.SourceData.Data[this.SourceData.Data.length-1].YClose),this.SourceData.Data.push(n)}else{for(var r=!1,o=this.SourceData.Data,s=o.length-1;s>=0;--s){var l=o[s];if(l.Date==e.Date){ot.CopyTo(l,e),r=!0;break}}if(!r)return}var h=new mt;if(h.Data=this.SourceData.Data,h.Period=this.Period,h.Right=this.Right,h.DataType=this.SourceData.DataType,h.Symbol=this.Symbol,h.Right>0&&mt.IsDayPeriod(h.Period,!0)&&Ii.IsSHSZStockA(this.Symbol)&&!this.IsApiPeriod){var u=h.GetRightData(h.Right,{AlgorithmType:this.RightFormula});h.Data=u}if(!this.IsApiPeriod&&(mt.IsDayPeriod(h.Period,!1)||mt.IsMinutePeriod(h.Period,!1))){var c=h.GetPeriodData(h.Period);h.Data=c}var d=this.GetKLineCalulate();if(d)h=d.RecvHistoryData(h,{Symbol:this.Symbol,Function:"RecvRealtimeData"}),this.FlowCapitalReady=!0;this.UpdateMainData(h,a),this.UpdateOverlayRealtimeData(t),this.BindInstructionIndexData(h);for(s=0;s<this.Frame.SubFrame.length;++s)this.BindIndexData(s,h);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(1),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendKLineUpdateEvent(h),this.BindAllOverlayIndexData(h)}}},this.UpdateOverlayRealtimeData=function(t){if(Ce.IsNonEmptyArray(this.OverlayChartPaint))for(var e=0;e<this.OverlayChartPaint.length;++e){var i=this.OverlayChartPaint[e];if(i.Symbol&&(i.MainData&&i.Status==At.STATUS_FINISHED_ID)){var a=ri.JsonDataToRealtimeData(t,i.Symbol);if(a){var n=i.SourceData,r=n.Data[n.Data.length-1];if(r.Date==a.Date)g.Chart.Log("[KLineChartContainer::UpdateOverlayRealtimeData] update kline by minute data",a),r.Close=a.Close,r.High=a.High,r.Low=a.Low,r.Vol=a.Vol,r.Amount=a.Amount;else{if(!(i.Date<a.Date))continue;g.Chart.Log("[KLineChartContainer::UpdateOverlayRealtimeData] insert kline by minute data",a);var o=new ot;o.YClose=a.YClose,o.Open=a.Open,o.Close=a.Close,o.High=a.High,o.Low=a.Low,o.Vol=a.Vol,o.Amount=a.Amount,o.Date=a.Date,n.Data.push(o)}var s=new mt;if(s.Data=n.Data,s.Period=this.Period,s.Right=this.Right,s.DataType=0,s.Right>0&&Ii.IsSHSZStockA(t.symbol)&&!this.IsApiPeriod){var l=s.GetRightData(s.Right,{AlgorithmType:this.RightFormula});s.Data=l}var h=this.SourceData.GetOverlayData(s.Data,this.IsApiPeriod);if(s.Data=h,mt.IsDayPeriod(s.Period,!1)&&!this.IsApiPeriod){var u=s.GetPeriodData(s.Period);s.Data=u}i.Data=s}}}},this.RequestMinuteRealtimeData=function(){var t=this,e=[t.Symbol];for(var i in this.OverlayChartPaint){var a=this.OverlayChartPaint[i];a.Symbol&&(a.MainData&&a.Status==At.STATUS_FINISHED_ID&&e.push(a.Symbol))}if(this.NetworkFilter){var n=this.GetKLineDrawType(),r={Name:"KLineChartContainer::RequestMinuteRealtimeData",Explain:"当天1分钟K线数据",Request:{Url:t.RealtimeApiUrl,Data:{symbol:e,field:["name","symbol","price","yclose","minutecount","minute","date","time"],period:this.Period,right:this.Right,klineDrawType:n},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(e){t.RecvMinuteRealtimeData(e),t.AutoUpdate()}),1==r.PreventDefault)return}C.HttpRequest({url:this.RealtimeApiUrl,data:{field:["name","symbol","price","yclose","minutecount","minute","date","time"],symbol:e,start:-1},type:"post",dataType:"json",async:!0,success:function(e){t.RecvMinuteRealtimeData(e),t.AutoUpdate()}})},this.SetSourceDatatLimit=function(t){for(var e in this.SourceDataLimit=new p.default,t){var i=t[e];this.SourceDataLimit.set(i.Period,i.MaxCount),g.Chart.Log("[KLineChartContainer::SetSourceDatatLimit] Period="+i.Period+", MaxCount="+i.MaxCount)}},this.ReduceSourceData=function(){if(this.SourceDataLimit&&this.SourceDataLimit.has(this.Period)){var t=this.SourceDataLimit.get(this.Period),e=null;if(this.Frame.Data?this.Frame.SubFrame&&this.Frame.SubFrame[0]&&(e=this.Frame.SubFrame[0].Frame.Data):e=this.Frame.Data,e&&!(t<50)){for(var i=e.DataOffset,a=0;this.SourceData.Data.length>t;)this.SourceData.Data.shift(),--i,++a;a>0&&(i<0&&(i=0),e.DataOffset=i,g.Chart.Log("[KLineChartContainer::ReduceSourceData] remove data "+a+", dataOffset="+i))}}},this.RecvMinuteRealtimeDataV2=function(t){if(1!=this.IsOnTouch)if(this.EnableVerifyRecvData&&t.symbol!=this.Symbol)g.Chart.Warn("[KLineChartContainer::RecvMinuteRealtimeDataV2] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.symbol+"]");else{var e=ri.JsonDataToMinuteHistoryData(t);if(e&&!(e.length<=0)){this.IsApiPeriod&&this.ReduceSourceData();var i=this.GetHistoryDataCount();if(this.SourceData&&this.SourceData.MergeMinuteData(e)){g.Chart.Log("[KLineChartContainer::RecvMinuteRealtimeDataV2] update kline by 1 minute data ["+i+"->"+this.SourceData.Data.length+"]");var a=new mt;if(a.Data=this.SourceData.Data,a.Period=this.Period,a.Right=this.Right,a.DataType=this.SourceData.DataType,a.Symbol=this.Symbol,a.Right>0&&mt.IsDayPeriod(a.Period,!0)&&!this.IsApiPeriod){var n=a.GetRightData(a.Right,{AlgorithmType:this.RightFormula});a.Data=n}if((mt.IsDayPeriod(a.Period,!1)||mt.IsMinutePeriod(a.Period,!1))&&!this.IsApiPeriod){var r=a.GetPeriodData(a.Period);a.Data=r}var o=this.GetKLineCalulate();if(o)a=o.RecvHistoryData(a,{Symbol:this.Symbol,Function:"RecvMinuteRealtimeDataV2"}),this.FlowCapitalReady=!0;this.UpdateMainData(a,i),this.BindInstructionIndexData(a);for(var s=0;s<this.Frame.SubFrame.length;++s)this.BindIndexData(s,a);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(1),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendKLineUpdateEvent(a),this.BindAllOverlayIndexData(a)}}}},this.RecvMinuteRealtimeData=function(t){if(1!=this.IsOnTouch)if(2!=t.ver){var e=ri.JsonDataToMinuteRealtimeData(t,this.Symbol);if(e){this.IsApiPeriod&&this.ReduceSourceData();var i=this.GetHistoryDataCount(),a=this.SourceData.Data.length;if(this.SourceData.MergeMinuteData(e)){g.Chart.Log("[KLineChartContainer::RecvMinuteRealtimeData] update kline by 1 minute data ["+a+"->"+this.SourceData.Data.length+"]");var n=new mt;if(n.Data=this.SourceData.Data,n.Period=this.Period,n.Right=this.Right,n.DataType=this.SourceData.DataType,n.Symbol=this.Symbol,n.Right>0&&mt.IsDayPeriod(n.Period,!0)&&!this.IsApiPeriod){var r=n.GetRightData(n.Right,{AlgorithmType:this.RightFormula});n.Data=r}if((mt.IsDayPeriod(n.Period,!1)||mt.IsMinutePeriod(n.Period,!1))&&!this.IsApiPeriod){var o=n.GetPeriodData(n.Period);n.Data=o}var s=this.GetKLineCalulate();if(s)n=s.RecvHistoryData(n,{Symbol:this.Symbol,Function:"RecvMinuteRealtimeData"}),this.FlowCapitalReady=!0;this.UpdateMainData(n,i),this.UpdateOverlayMinuteRealtimeData(t),this.BindInstructionIndexData(n);for(var l=0;l<this.Frame.SubFrame.length;++l)this.BindIndexData(l,n);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(1),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendKLineUpdateEvent(n),this.BindAllOverlayIndexData(n)}}}else this.RecvMinuteRealtimeDataV2(t)},this.UpdateOverlayMinuteRealtimeData=function(t){for(var e in this.OverlayChartPaint){var i=this.OverlayChartPaint[e];if(i.Symbol&&(i.MainData&&i.Status==At.STATUS_FINISHED_ID)){if(2==t.ver)var a=ri.JsonDataToMinuteRealtimeDataV2(t,i.Symbol);else a=ri.JsonDataToMinuteRealtimeData(t,i.Symbol);if(a){var n=i.SourceData;if(!n.MergeMinuteData(a))return;var r=new mt;r.Data=n.Data,r.Period=this.Period,r.Right=this.Right,r.DataType=0;var o=this.SourceData.GetOverlayMinuteData(r.Data,this.IsApiPeriod);if(r.Data=o,mt.IsMinutePeriod(r.Period,!1)&&!this.IsApiPeriod){var s=r.GetPeriodData(r.Period);r.Data=s}i.Data=r}}}},this.GetHistoryDataCount=function(){var t=null;return this.Frame.Data?this.Frame.SubFrame&&this.Frame.SubFrame[0]&&(t=this.Frame.SubFrame[0].Frame.Data):t=this.Frame.Data,t?t.Data.length:-1},this.GetRequestDataCount=function(){var t={MaxRequestDataCount:this.MaxRequestDataCount,MaxRequestMinuteDayCount:this.MaxRequestMinuteDayCount};if(!this.SourceData||!this.SourceData.Data||this.SourceData.Data.length<=0)return t;if(mt.IsDayPeriod(this.Period,!0))(i=this.SourceData.Data.length)>t.MaxRequestDataCount&&(t.MaxRequestDataCount=i);else if(mt.IsMinutePeriod(this.Period,!0)){var e,i=0;for(var a in this.SourceData.Data){var n=this.SourceData.Data[a];n.Date!=e&&++i,e=n.Date}i>t.MaxRequestMinuteDayCount&&(t.MaxRequestMinuteDayCount=i)}return t},this.RequestTickData=function(){var t=this;this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),t.ChartSplashPaint.EnableSplash(!0),t.Draw();var e=Qe.CacheDomain+"/cache/dealday/today/"+t.Symbol+".json";if(this.NetworkFilter){var i={Name:"KLineChartContainer::RequestTickData",Explain:"当天分笔数据",Request:{Url:e,Data:{symbol:t.Symbol},Type:"GET"},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvTickData(e),t.AutoUpdate()}),1==i.PreventDefault)return}C.HttpRequest({url:e,data:{symbol:t.Symbol},type:"get",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvTickData(e),t.AutoUpdate(1)},error:function(e,i){t.ChartSplashPaint.EnableSplash(!1),t.AutoUpdate()}})},this.RecvTickData=function(t){if(2==t.ver)var e=ri.JsonDataToTickDataV2(t);else e=ri.JsonDataToTickData(t);var i=new mt;i.Data=e,i.DataType=2,this.SourceData=i,this.BeforeBindMainData&&this.BeforeBindMainData("RecvTickData");var a,n=new mt;n.Data=e,n.Right=this.Right,n.Period=this.Period,n.DataType=2,this.Symbol=t.symbol,this.Name=t.name,this.BindMainData(n,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("RecvTickData"),this.BindInstructionIndexData(n);for(var r=0;r<this.Frame.SubFrame.length;++r)0==r&&(a=this.Frame.SubFrame[r].Frame),this.BindIndexData(r,n);if(a&&a.YSplitOperator&&(a.YSplitOperator.Symbol=this.Symbol,a.YSplitOperator.Data=this.ChartPaint[0].Data,a.YSplitOperator.Period=this.Period,a.YSplitOperator.KLineChart=this.ChartPaint[0]),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.UpdatePointByCursorIndex(),this.BindAllOverlayIndexData(n),this.mapEvent.has(b.RECV_HISTROY_DATA)){var o=this.mapEvent.get(b.RECV_HISTROY_DATA);t={HistoryData:n,Stock:{Symbol:this.Symbol,Name:this.Name}};o.Callback(o,t,this)}},this.RequestTickRealtimeData=function(){var t=this,e=0;if(this.SourceData&&this.SourceData.Data&&(e=this.SourceData.Data.length),this.NetworkFilter){var i={Name:"KLineChartContainer::RequestTickRealtimeData",Explain:"当天最新分笔数据",Request:{Url:t.TickApiUrl,Data:{symbol:t.Symbol,start:e,end:e+1e3},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvTickRealtimeData(e),t.AutoUpdate()}),1==i.PreventDefault)return}C.HttpRequest({url:t.TickApiUrl,data:{symbol:t.Symbol,start:e-10,end:e+1e3},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvTickRealtimeData(e),t.AutoUpdate()}})},this.RecvTickRealtimeData=function(t){if(2==t.ver)var e=ri.JsonDataToTickDataV2(t);else e=ri.JsonDataToTickData(t);if(e&&!(e.length<=0)){var i=!1;1==t.redraw&&(i=!0);var a=this.SourceData.Data,n=this.SourceData.Data.length,r=0;a.length>0&&(r=a[a.length-1].Time);var o=0;for(var s in e){var l=e[s];l.Time<=r||(a.push(l),++o)}if(!(o<=0&&0==i)){var h=new mt;h.Data=a,h.Right=this.Right,h.Period=this.Period,h.DataType=2,this.Symbol=t.symbol,this.Name=t.name,this.UpdateMainData(h,n),this.BindInstructionIndexData(h);for(s=0;s<this.Frame.SubFrame.length;++s)this.BindIndexData(s,h);this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.UpdatePointByCursorIndex(),this.BindAllOverlayIndexData(h)}}},this.ClearIndexPaint=function(){if(this.Frame&&this.Frame.SubFrame)for(var t=0;t<this.Frame.SubFrame.length;++t){this.DeleteIndexPaint(t,!0);var e=this.Frame.SubFrame[t];if(Ce.IsNonEmptyArray(e.OverlayIndex))for(var i=0;i<e.OverlayIndex.length;++i){for(var a=e.OverlayIndex[i],n=0;n<a.ChartPaint.length;++n){var r=a.ChartPaint[n];r&&r.OnDestroy&&r.OnDestroy()}a.ChartPaint=[]}}for(t=1;t<this.TitlePaint.length;++t){(e=this.TitlePaint[t]).OverlayIndex=new p.default}},this.ChangePeriod=function(t,e){var i=!1,a=!1,n=null;if(e&&(e.KLine&&(Ce.IsNumber(e.KLine.DrawType)&&(i=!0),Ce.IsNumber(e.KLine.Right)&&(n=e.KLine.Right)),1==e.Reload&&(a=!0)),this.Period!=t||0!=a){i&&this.ChangeKLineDrawType(e.KLine.DrawType,!1);var r=!0;if(this.SourceData){r=!1;if(t>vt&&t<=gt)0!=this.SourceData.DataType&&(r=!0);else if(t>Ct&&t<=Dt||t>yt&&t<=xt)1!=this.SourceData.DataType?r=!0:mt.IsSecondPeriod(t)&&(r=!0);else switch(t){case 0:case 1:case 2:case 3:case 9:case 21:0!=this.SourceData.DataType&&(r=!0);break;case 4:case 5:case 6:case 7:case 8:case 11:case 12:1!=this.SourceData.DataType&&(r=!0);break;case 10:2!=this.SourceData.DataType&&(r=!0)}}this.Period=t,null!=n&&(this.Right=n),this.ReloadChartDrawPicture(),this.ClearRectSelect(!0),this.Frame.ClearUpDonwFrameYData(),this.ClearCustomKLine();var o=this.GetKLineDrawType();10!=o&&11!=o&&12!=o||(r=!0),0!=r||this.IsApiPeriod?(this.ClearIndexPaint(),mt.IsDayPeriod(this.Period,!0)?(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangePeriod"),this.ResetOverlaySymbolStatus(),this.RequestHistoryData()):mt.IsMinutePeriod(this.Period,!0)||mt.IsSecondPeriod(this.Period)?(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangePeriod"),this.ResetOverlaySymbolStatus(),this.ReqeustHistoryMinuteData()):mt.IsTickPeriod(this.Period)&&(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangePeriod"),this.RequestTickData())):this.Update({UpdateCursorIndexType:2})}else i&&this.ChangeKLineDrawType(e.KLine.DrawType)},this.ChangeRight=function(t){if(Ii.IsEnableRight(this.Period,this.Symbol)){var e=this.Symbol.toUpperCase();Ii.IsBIT(e)||t<0||t>2||this.Right!=t&&(this.Right=t,this.IsApiPeriod?mt.IsDayPeriod(this.Period,!0)?(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangeRight"),this.ClearIndexPaint(),this.ResetOverlaySymbolStatus(),this.RequestHistoryData()):(mt.IsMinutePeriod(this.Period,!0)||mt.IsSecondPeriod(this.Period))&&(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangeRight"),this.ClearIndexPaint(),this.ResetOverlaySymbolStatus(),this.ReqeustHistoryMinuteData()):this.Update())}},this.SetFirstShowDate=function(t){if(t&&t.Date){g.Chart.Log("[KLineChartContainer::SetFirstShowDate] obj=",t);var e=null;if(e=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data){var i=null;if(mt.IsDayPeriod(this.Period,!0))for(var a=0;a<e.Data.length;++a){if((s=e.Data[a]).Date>=t.Date){i=a;break}}else if(mt.IsMinutePeriod(this.Period,!0)){var n=t.Time;if(Ce.IsPlusNumber(n))for(a=0;a<e.Data.length;++a){if((s=e.Data[a]).Date>t.Date||s.Date==t.Date&&s.Time>=n){i=a;break}}else for(a=0;a<e.Data.length;++a){if((s=e.Data[a]).Date>=t.Date){i=a;break}}}if(null!==i){var r=e.Data.length-i;t.PageSize>0&&(r=t.PageSize);var o=this.GetMaxMinPageSize();for(var a in o.Max<r?r=o.Max:o.Min>r&&(r=o.Min),this.Frame.SubFrame){var s;(s=this.Frame.SubFrame[a].Frame).XPointCount=r}e.DataOffset=i,this.CursorIndex=0,this.LastPoint.X=null,this.LastPoint.Y=null,g.Chart.Log("[KLineChartContainer::SetFirstShowDate] dataOffset="+e.DataOffset+" CursorIndex="+this.CursorIndex+" PageSize="+r),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.UpdatePointByCursorIndex(2),this.Draw()}else g.Chart.Log("[KLineChartContainer::SetFirstShowDate] an't find first date="+t.Date+" time="+t.Time,t)}}},this.DeleteIndexPaint=function(t,e){var i=new Array;for(var a in this.ChartPaint){var n=this.ChartPaint[a];0==a||n.ChartFrame!=this.Frame.SubFrame[t].Frame?i.push(n):!0===e&&n&&n.OnDestroy&&n.OnDestroy()}var r=this.Frame.SubFrame[t].Frame;r.YSpecificMaxMin=null,r.IsLocked=!1,r.YSplitScale=null,r.YSplitOperator.SplitType=r.YSplitOperator.DefaultSplitType,this.ChartPaint=i;var o=t+1;this.TitlePaint[o].Data=[],this.TitlePaint[o].Title=null},this.ShowKLine=function(t){this.ChartPaint.length<=0||!this.ChartPaint[0]||(this.ChartPaint[0].IsShow=t)},this.SetInstructionData=function(t,e){if(!(this.ChartPaint.length<=0)&&this.ChartPaint[0]){var i=this.TitlePaint[1];2==t?(this.ChartPaint[0].ColorData=e.Data,i&&(i.ColorIndex={Name:e.Name,Param:e.Param})):1==t&&(this.ChartPaint[0].TradeData={Sell:e.Sell,Buy:e.Buy,Name:e.Name,Param:e.Param},i&&(i.TradeIndex={Name:e.Name,Param:e.Param}))}},this.ChangeInstructionIndex=function(t){var e=(new I).Get(t);e&&(1!=e.InstructionType&&2!=e.InstructionType||(e.ID=t,this.ChangeInstructionScriptIndex(e)))},this.ChangeInstructionScriptIndex=function(t){if(1==t.InstructionType)this.TradeIndex=new aa(t.Name,t.Script,t.Args,t);else{if(2!=t.InstructionType)return;this.ColorIndex=new aa(t.Name,t.Script,t.Args,t)}var e=this.ChartPaint[0].Data;this.BindInstructionIndexData(e),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.CancelInstructionIndex=function(){if(!(this.ChartPaint.length<=0)&&this.ChartPaint[0]){this.ColorIndex=null,this.TradeIndex=null,this.ChartPaint[0].ColorData=null,this.ChartPaint[0].TradeData=null;var t=this.TitlePaint[1];t&&(t.TradeIndex=null,t.ColorIndex=null),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}},this.SetFrameToolbar=function(t,e){if(e&&this.Frame.SubFrame[t]&&this.Frame.SubFrame[t].Frame){var i=this.Frame.SubFrame[t].Frame,a=!1;Ce.IsBool(e.Modify)&&(i.ModifyIndex=e.Modify,a=!0),Ce.IsBool(e.Change)&&(i.ChangeIndex=e.Change,a=!0),Ce.IsBool(e.Close)&&(i.CloseIndex=e.Close,a=!0),Ce.IsBool(e.Overlay)&&(i.OverlayIndex=e.Overlay,a=!0),a&&(i.SizeChange=!0,i.ToolbarRect=null,i.DrawToolbar())}},this.ChangeScriptIndex=function(t,e,i){this.DeleteIndexPaint(t,!0),this.WindowIndex[t]=new aa(e.Name,e.Script,e.Args,e),i&&i.Window&&this.SetFrameToolbar(t,i.Window),this.Frame.ClearUpDonwFrameYData({Index:t});var a=this.ChartPaint[0].Data;this.BindIndexData(t,a),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.OnKLinePageChange=function(t){if(this.ChartPaint[0]){for(var e=this.ChartPaint[0].Data,i=0;i<this.WindowIndex.length;++i){(a=this.WindowIndex[i])&&(!0===a.IsUsePageData&&this.BindIndexData(i,e,{Type:1}))}for(i=0;i<this.Frame.SubFrame.length;++i)for(var a=this.Frame.SubFrame[i],n=0;n<a.OverlayIndex.length;++n){var r=a.OverlayIndex[n];r&&r.Script&&1==r.Script.IsUsePageData&&this.BindOverlayIndexData(r,i,e)}}},this.ChangeAPIIndex=function(t,e){this.DeleteIndexPaint(t,!0);var i=e.API;this.WindowIndex[t]=new ra(i.Name,i.Script,i.Args,e),e&&e.Window&&this.SetFrameToolbar(t,e.Window),this.Frame.ClearUpDonwFrameYData({Index:t});var a=this.ChartPaint[0].Data;this.BindIndexData(t,a),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeIndex=function(t,e,i){if(i&&i.API)return this.ChangeAPIIndex(t,i);var a=ii.Get(e);if(!a){var n=(new I).Get(e);if(!n)return;n.IsMainIndex?t=0:0==t&&(t=1);var r=n;return i&&(i.FloatPrecision>=0&&(r.FloatPrecision=i.FloatPrecision),i.StringFormat>0&&(r.StringFormat=i.StringFormat),i.Args&&(r.Args=i.Args),i.TitleFont&&(r.TitleFont=i.TitleFont),i.IsShortTitle&&(r.IsShortTitle=i.IsShortTitle)),this.ChangeScriptIndex(t,r,i)}a.IsMainIndex?t>0&&(t=0):0==t&&(t=1);var o=new Array;for(var s in this.ChartPaint){var l=this.ChartPaint[s];0!=s&&l.ChartFrame==this.Frame.SubFrame[t].Frame||o.push(l)}this.Frame.SubFrame[t].Frame.YSpecificMaxMin=null,this.Frame.SubFrame[t].Frame.IsLocked=!1,this.Frame.SubFrame[t].Frame.YSplitScale=null,this.ChartPaint=o;var h=t+1;this.TitlePaint[h].Data=[],this.TitlePaint[h].Title=null,this.WindowIndex[t]=a.Create(i),this.CreateWindowIndex(t);var u=this.ChartPaint[0].Data;this.BindIndexData(t,u),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangePyScriptIndex=function(t,e){this.DeleteIndexPaint(t),this.WindowIndex[t]=new fi(e.Name,e.Script,e.Args,e);var i=this.ChartPaint[0].Data;this.BindIndexData(t,i),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.AddOverlayIndex=function(t){var e=this.CreateOverlayWindowsIndex(t);if(e){var i=this.ChartPaint[0].Data;this.BindOverlayIndexData(e,t.WindowIndex,i),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}},this.CreateOverlayWindowsIndex=function(t){var e=t.IndexName,i=t.WindowIndex,a=null,n=null,r=null;if(t.API)a=t.API;else if(t.Script)n={Script:t.Script,ID:t.indexName,Name:t.indexName},t.Name&&(n.Name=t.Name);else{if(!(n=(new I).Get(e))&&!(r=ii.Get(e)))return console.warn("[KLineChartContainer::CreateOverlayIndex] can not find index["+e+"]"),null}var o=this.Frame.SubFrame[i];o.Interval=this.OverlayIndexFrameWidth;var s=new at;t.Identify&&(s.Identify=t.Identify);var l="KLineChartHScreenContainer"===this.ClassName?new et:new Q;if(l.Canvas=this.Canvas,l.MainFrame=o.Frame,l.ChartBorder=o.Frame.ChartBorder,!0===t.ShowRightText?l.IsShow=!0:!1===t.ShowRightText&&(l.IsShow=!1),Ce.IsBool(t.ShowToolbar)&&(l.IsShowToolbar=t.ShowToolbar),!0===t.IsShareY&&(l.IsShareY=!0),Ce.IsBool(t.IsCalculateYMaxMin)&&(l.IsCalculateYMaxMin=t.IsCalculateYMaxMin),l.YSplitOperator=new ye,l.YSplitOperator.LanguageID=this.LanguageID,l.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),l.YSplitOperator.Frame=l,l.YSplitOperator.ChartBorder=l.ChartBorder,l.YSplitOperator.SplitCount=o.Frame.YSplitOperator.SplitCount,s.Frame=l,a){var h=new ra(a.Name,a.Script,a.Args,t,!0);h.OverlayIndex={IsOverlay:!0,Identify:s.Identify,WindowIndex:i,Frame:s},s.Script=h}else if(n){var u=n;t.Args&&(u.Args=t.Args),(c=new na(u.Name,u.Script,u.Args,u)).OverlayIndex={IsOverlay:!0,Identify:s.Identify,WindowIndex:i,Frame:s},s.Script=c}else{var c;(c=r.Create()).OverlayIndex={IsOverlay:!0,Identify:s.Identify,WindowIndex:i,Frame:s},c.Create(this,i),s.Script=c}return o.OverlayIndex.push(s),s},this.DeleteOverlayWindowsIndex=function(t){this.DeleteOverlayIndex(t,null)&&(this.Frame.ResetXYSplit(!0),this.Draw())},this.ChangeKLineDrawType=function(t,e){if(this.KLineDrawType!=t){var i=this.KLineDrawType;this.KLineDrawType=t;var a=new c.default([5,7,8,10,11,12]);if(a.has(i)||a.has(t)){var n=this.ChartPaint[0];return n&&(n.DrawType=this.KLineDrawType),this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangeKLineDrawType"),void(mt.IsDayPeriod(this.Period,!0)?(this.ResetOverlaySymbolStatus(),this.RequestHistoryData()):(mt.IsMinutePeriod(this.Period,!0)||mt.IsSecondPeriod(this.Period))&&(this.ResetOverlaySymbolStatus(),this.ReqeustHistoryMinuteData()))}for(var r in this.ChartPaint){var o=this.ChartPaint[r];0==r?o.DrawType=this.KLineDrawType:"ChartVolStick"==o.ClassName&&(o.KLineDrawType=this.KLineDrawType)}for(var r in this.OverlayChartPaint){(o=this.OverlayChartPaint[r]).DrawType=this.KLineDrawType}0!=e&&(this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw())}},this.ChangeCoordinateType=function(t){if((this.Frame||this.Frame.SubFrame)&&this.Frame.SubFrame.length){if(Ce.IsNumber(t)){var e=t;if(2==e)this.Frame.SubFrame[0].Frame.CoordinateType=1;else if(1==e)this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=e;else if(0==e)this.Frame.SubFrame[0].Frame.CoordinateType=0,this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=0;else{if(3!=e)return;this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=2}}else t.Type>=0&&t.Type<=5&&(this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=t.Type),!0===t.IsReverse?this.Frame.SubFrame[0].Frame.CoordinateType=1:0==t.IsReverse&&(this.Frame.SubFrame[0].Frame.CoordinateType=0);this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}},this.ChangeIndexWindowCount=function(t,e){var i=this;if(!(t<=0)&&this.Frame.SubFrame.length!=t){this.Frame.RestoreIndexWindows();var a=this.Frame.SubFrame.length;if(a>t){for(var n=a-1;n>=t;--n)this.DeleteIndexPaint(n),this.Frame.SubFrame[n].Frame.ClearToolbar();this.Frame.SubFrame.splice(t,a-t),this.WindowIndex.splice(t,a-t);for(n=0;n<this.Frame.SubFrame.length;++n){var r=this.Frame.SubFrame[n].Frame;n==this.Frame.SubFrame.length-1?r.XSplitOperator.ShowText=!0:r.XSplitOperator.ShowText=!1}this.Frame.SetSizeChage(!0),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw()}else{var o=L();for(n=a;n<t;++n){(p=this.CreateSubFrameItem(n)).Frame.ChartBorder.TitleHeight*=o,this.Frame.SubFrame[n]=p;var s=new Ve;s.Frame=this.Frame.SubFrame[n].Frame,s.Canvas=this.Canvas,s.LanguageID=this.LanguageID,s.GetEventCallback=function(t){return i.GetEventCallback(t)},s.SelectedChart=this.SelectedChart,this.TitlePaint[n+1]=s}for(n=0;n<this.Frame.SubFrame.length;++n){r=this.Frame.SubFrame[n].Frame;n==this.Frame.SubFrame.length-1?r.XSplitOperator.ShowText=!0:r.XSplitOperator.ShowText=!1}this.Frame.SetSizeChage(!0),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw();var l=[{Index:"RSI"},{Index:"MACD"},{Index:"VOL"},{Index:"UOS"},{Index:"CHO"},{Index:"BRAR"}];e&&e.Windows.length>0&&(l=e.Windows);var h=new I;for(n=a;n<t;++n){var u=(r=l[n%l.length]).Index,c=h.Get(u),d=c.Args;r.Args&&(d=r.Args);var f={Name:c.Name,Script:c.Script,Args:d,ID:r.Index,KLineType:c.KLineType,YSpecificMaxMin:c.YSpecificMaxMin,YSplitScale:c.YSplitScale,FloatPrecision:c.FloatPrecision,Condition:c.Condition,OutName:c.OutName};this.WindowIndex[n]=new aa(f.Name,f.Script,f.Args,f);var p=this.Frame.SubFrame[n];null!=r.Modify&&(this.Frame.SubFrame[n].Frame.ModifyIndex=r.Modify),null!=r.Change&&(this.Frame.SubFrame[n].Frame.ChangeIndex=r.Change),null!=r.Close&&(this.Frame.SubFrame[n].Frame.CloseIndex=r.Close),null!=r.Overlay&&(chart.Frame.SubFrame[n].Frame.OverlayIndex=r.Overlay),1==r.IsDrawTitleBG&&(this.Frame.SubFrame[n].Frame.IsDrawTitleBG=r.IsDrawTitleBG),Ce.IsNumber(r.TitleHeight)?this.Frame.SubFrame[n].Frame.ChartBorder.TitleHeight=r.TitleHeight:r.TitleHeight=this.Frame.SubFrame[n].Frame.ChartBorder.TitleHeight,0==r.IsShowTitleArraw&&(this.Frame.SubFrame[n].Frame.IsShowTitleArraw=!1),0==r.IsShowIndexName&&(this.Frame.SubFrame[n].Frame.IsShowIndexName=!1),0==r.IsShowOverlayIndexName&&(this.Frame.SubFrame[n].Frame.IsShowOverlayIndexName=!1),Ce.IsNumber(r.IndexParamSpace)&&(this.Frame.SubFrame[n].Frame.IndexParamSpace=r.IndexParamSpace),Ce.IsNumber(r.IndexTitleSpace)&&(this.Frame.SubFrame[n].Frame.IndexTitleSpace=r.IndexTitleSpace),0==r.IsShowXLine&&(this.Frame.SubFrame[n].Frame.IsShowXLine=!1),0==r.IsShowYLine&&(this.Frame.SubFrame[n].Frame.IsShowYLine=!1),Ce.IsBool(r.IsShowIndexTitle)&&(this.Frame.SubFrame[n].Frame.IsShowIndexTitle=r.IsShowIndexTitle),Ce.IsBool(r.IsShowLeftText)&&(p.Frame.IsShowYText[0]=r.IsShowLeftText,p.Frame.YSplitOperator.IsShowLeftText=r.IsShowLeftText),Ce.IsBool(r.IsShowRightText)&&(p.Frame.IsShowYText[1]=r.IsShowRightText,p.Frame.YSplitOperator.IsShowRightText=r.IsShowRightText),r.OverlayIndexType&&(Ce.IsNumber(r.OverlayIndexType.Position)&&(p.Frame.OverlayIndexType.Position=r.OverlayIndexType.Position),Ce.IsNumber(r.OverlayIndexType.LineSpace)&&(p.Frame.OverlayIndexType.LineSpace=r.OverlayIndexType.LineSpace));var m=this.ChartPaint[0].Data;this.BindIndexData(n,m)}}}},this.ChangeIndexTemplate=function(t){var e=this;if(t.Windows){var i=t.Windows.length;if(!(i<=0)){var a=this.Frame.SubFrame.length,n=null,r=null;t.KLine&&(Ce.IsNumber(t.KLine.Period)&&t.KLine.Period!=this.Period&&(n=t.KLine.Period),Ce.IsNumber(t.KLine.Right)&&t.KLine.Right!=this.Right&&(r=t.KLine.Right));for(var o=null!=n||null!=r,s=0;s<a;++s){this.DeleteIndexPaint(s);var l=this.Frame.SubFrame[s];l.YSpecificMaxMin=null,l.IsLocked=!1,l.YSplitScale=null}if(a>i){for(s=a-1;s>=i;--s)this.Frame.SubFrame[s].Frame.ClearToolbar();this.Frame.SubFrame.splice(i,a-i),this.WindowIndex.splice(i,a-i)}else for(s=a;s<i;++s){var h=this.CreateSubFrameItem(s);this.Frame.SubFrame[s]=h;var u=new Ve;u.Frame=this.Frame.SubFrame[s].Frame,u.Canvas=this.Canvas,u.LanguageID=this.LanguageID,u.GetEventCallback=function(t){return e.GetEventCallback(t)},u.SelectedChart=this.SelectedChart,this.TitlePaint[s+1]=u}var c=new I,d=this.ChartPaint[0].Data;for(s=0;s<i;++s){var f=s,p=t.Windows[s],m=null;t.Frame&&t.Frame.length>s&&(m=t.Frame[s]);var v=f+1;if(this.TitlePaint[v].Data=[],this.TitlePaint[v].Title=null,p.Script)this.WindowIndex[s]=new aa(p.Name,p.Script,p.Args,p),o||this.BindIndexData(f,d);else{var g=p.Index,C=ii.Get(g);if(C)this.WindowIndex[s]=C.Create(),this.CreateWindowIndex(f),o||this.BindIndexData(f,d);else{var D=c.Get(g);if(D){var y=D.Args;t.Windows[s].Args&&(y=t.Windows[s].Args);var x={Name:D.Name,Script:D.Script,Args:y,ID:g,KLineType:D.KLineType,YSpecificMaxMin:D.YSpecificMaxMin,YSplitScale:D.YSplitScale,FloatPrecision:D.FloatPrecision,Condition:D.Condition,OutName:D.OutName};p.TitleFont&&(x.TitleFont=p.TitleFont),this.WindowIndex[s]=new aa(x.Name,x.Script,x.Args,x),o||this.BindIndexData(f,d)}}}null!=p.Modify&&(this.Frame.SubFrame[s].Frame.ModifyIndex=p.Modify),null!=p.Change&&(this.Frame.SubFrame[s].Frame.ChangeIndex=p.Change),null!=p.Close&&(this.Frame.SubFrame[s].Frame.CloseIndex=p.Close),null!=p.Overlay&&(chart.Frame.SubFrame[s].Frame.OverlayIndex=p.Overlay),1==p.IsDrawTitleBG&&(this.Frame.SubFrame[s].Frame.IsDrawTitleBG=p.IsDrawTitleBG),Ce.IsNumber(p.TitleHeight)?this.Frame.SubFrame[s].Frame.ChartBorder.TitleHeight=p.TitleHeight:p.TitleHeight=this.Frame.SubFrame[s].Frame.ChartBorder.TitleHeight,0==p.IsShowTitleArraw&&(this.Frame.SubFrame[s].Frame.IsShowTitleArraw=!1),0==p.IsShowIndexName&&(this.Frame.SubFrame[s].Frame.IsShowIndexName=!1),Ce.IsNumber(p.IndexParamSpace)&&(this.Frame.SubFrame[s].Frame.IndexParamSpace=p.IndexParamSpace),Ce.IsNumber(p.IndexTitleSpace)&&(this.Frame.SubFrame[s].Frame.IndexTitleSpace=p.IndexTitleSpace),m&&(m.SplitCount&&(this.Frame.SubFrame[s].Frame.YSplitOperator.SplitCount=m.SplitCount),!1!==m.IsShowXLine&&!0!==m.IsShowXLine||(this.Frame.SubFrame[s].Frame.IsShowXLine=m.IsShowXLine),!1!==m.IsShowYLine&&!0!==m.IsShowYLine||(this.Frame.SubFrame[s].Frame.IsShowYLine=m.IsShowYLine),!1!==m.IsShowLeftText&&!0!==m.IsShowLeftText||(this.Frame.SubFrame[s].Frame.IsShowYText[0]=m.IsShowLeftText,this.Frame.SubFrame[s].Frame.YSplitOperator.IsShowLeftText=m.IsShowLeftText),!1!==m.IsShowRightText&&!0!==m.IsShowRightText||(this.Frame.SubFrame[s].Frame.IsShowYText[1]=m.IsShowRightText,this.Frame.SubFrame[s].Frame.YSplitOperator.IsShowRightText=m.IsShowRightText))}for(s=0;s<this.Frame.SubFrame.length;++s){p=this.Frame.SubFrame[s].Frame;s==this.Frame.SubFrame.length-1?p.XSplitOperator.ShowText=!0:p.XSplitOperator.ShowText=!1}o?(this.Frame.SetSizeChage(!0),null!=n?this.ChangePeriod(n,t):null!=r&&this.ChangeRight(r)):(this.UpdataDataoffset(),this.Frame.SetSizeChage(!0),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw())}}},this.RemoveIndexWindow=function(t,e){if(g.Chart.Log("[KLineChartContainer::RemoveIndexWindow] remove id",t),0!=t){if(this.Frame.SubFrame&&!(t>=this.Frame.SubFrame.length)){this.Frame.RestoreIndexWindows();var i=this.Frame.SubFrame[t].Frame;this.DeleteIndexPaint(t),this.Frame.SubFrame[t].Frame.ClearToolbar(),this.Frame.SubFrame.splice(t,1),this.WindowIndex.splice(t,1),this.TitlePaint.splice(t+1,1);for(var a=0;a<this.Frame.SubFrame.length;++a){var n=this.Frame.SubFrame[a].Frame;a==this.Frame.SubFrame.length-1?n.XSplitOperator.ShowText=!0:n.XSplitOperator.ShowText=!1,n.Identify=a}if(this.ChartDrawPicture.length>0){var r=[];for(var a in this.ChartDrawPicture){(n=this.ChartDrawPicture[a]).Frame!=i&&r.push(n)}this.ChartDrawPicture=r}this.Frame.SetSizeChage(!0),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw()}}else e&&e.DeleteMainIndex&&(this.DeleteIndexPaint(t),this.WindowIndex[t]=null,this.Frame.SetSizeChage(!0),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw())},this.GetIndexInfo=function(){var t=[];for(var e in this.WindowIndex){var i=this.WindowIndex[e],a={Name:i.Name};if(i.ID&&(a.ID=i.ID),i.Arguments)for(var e in a.Args=[],i.Arguments){var n=i.Arguments[e];a.Args.push({Name:n.Name,Value:n.Value})}t.push(a)}return t},this.CreateExtendChart=function(t,e){var i;switch(t){case"筹码分布":return(i=new function(){this.newMethod=de,this.newMethod(),delete this.newMethod,this.Name="筹码分布",this.ClassName="StockChip",this.HQChart,this.PenBorder=Qe.FrameBorderPen,this.ColorProfit="rgb(255,0,0)",this.ColorNoProfit="rgb(90,141,248)",this.ColorAveragePrice="rgb(0,139,0)",this.ColorBG="rgb(190,190,190)",this.PixelRatio=L(),this.ShowType=0,this.IsDynamic=!0,this.ClientRect={},this.Font=Qe.TitleFont,this.InfoColor=Qe.StockChip.InfoColor,this.DayInfoColor=Qe.StockChip.DayInfoColor,this.LineHeight=16,this.Left=50*this.PixelRatio,this.IsShowX=!1,this.ShowXCount=3,this.Width=150*this.PixelRatio,this.CalculateType=0,this.PriceZoom=100,this.NotSupportMessage="不支持筹码图",this.Buttons=[],this.DefaultButton=V(Qe.StockChip.DefaultButton),this.LongButton=V(Qe.StockChip.LongButton),this.RecentButton=V(Qe.StockChip.RecentButton),this.ButtonTooltip=V(Qe.Buttons.Tooltip),this.DAY_COLOR=[["rgb(255,0,0)","rgb(255,128,128)","rgb(255,0,128)","rgb(255,100,0)","rgb(192,128,0)","rgb(255,192,0)"],["rgb(120,80,225)","rgb(160,160,225)","rgb(80,80,255)","rgb(120,120,255)","rgb(32,64,192)","rgb(0,64,128)"]],this.SetOption=function(t){t&&(t.ShowType>0&&(this.ShowType=t.ShowType),t.IsShowX&&(this.IsShowX=t.IsShowX),t.ShowXCount>0&&(this.ShowXCount=t.ShowXCount),t.Width>100&&(this.Width=t.Width*L()),t.CalculateType>0&&(this.CalculateType=t.CalculateType),Ce.IsNumber(t.PriceZoom)&&(this.PriceZoom=t.PriceZoom))},this.ReloadResource=function(t){this.PenBorder=Qe.FrameBorderPen,this.Font=Qe.TitleFont,this.InfoColor=Qe.StockChip.InfoColor,this.DayInfoColor=Qe.StockChip.DayInfoColor,this.DefaultButton=V(Qe.StockChip.DefaultButton),this.LongButton=V(Qe.StockChip.LongButton),this.RecentButton=V(Qe.StockChip.RecentButton),this.ButtonTooltip=V(Qe.Buttons.Tooltip)},this.Draw=function(){this.PixelRatio=L();var t=R(this.ChartBorder.GetRight()+this.Left),e=R(this.ChartBorder.GetTop()),i=R(t+this.Width-1*this.PixelRatio)-t,a=R(this.ChartBorder.GetBottom())-e;if(this.ClientRect={Left:t,Top:e,Width:i,Height:a},mt.IsTickPeriod(this.HQChart.Period)){this.Canvas.font=this.Font,this.Canvas.fillStyle=this.InfoColor;var n=t+i/2,r=e+a/2;return this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillText(this.NotSupportMessage,n,r),void this.DrawBorder()}this.CalculateChip()?(this.DrawFrame(),this.DrawAllChip(),1!=this.ShowType&&2!=this.ShowType||this.DrawDayChip(),this.CalculateCast(),this.DrawChipInfo()):g.Chart.Log("[StockChip::Draw] no data"),this.DrawBorder(),this.SizeChange=!1},this.DrawChipInfo=function(){var t=this.ClientRect.Top+this.ClientRect.Height-1,e=this.ClientRect.Left+2,i=this.ClientRect.Left+this.ClientRect.Width;this.Canvas.font=this.Font,this.Canvas.fillStyle=this.InfoColor,this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left";var a=this.LineHeight*L(),n="70%成本价 --.--";Ce.IsNonEmptyArray(this.Data.Cast)&&(n="70%成本价"+this.Data.Cast[1].MinPrice.toFixed(2)+"-"+this.Data.Cast[1].MaxPrice.toFixed(2)+"集中"+this.Data.Cast[1].Rate.toFixed(2)+"%"),this.Canvas.fillText(n,e,t),t-=a,n="90%成本价 --.--",Ce.IsNonEmptyArray(this.Data.Cast)&&(n="90%成本价"+this.Data.Cast[0].MinPrice.toFixed(2)+"-"+this.Data.Cast[0].MaxPrice.toFixed(2)+"集中"+this.Data.Cast[0].Rate.toFixed(2)+"%"),this.Canvas.fillText(n,e,t),t-=a,n="平均成本："+this.Data.ChipInfo.AveragePrice.toFixed(2)+"元",this.Canvas.fillText(n,e,t),t-=a,n=+this.Data.YPrice.toFixed(2)+"处获利盘："+this.Data.ChipInfo.YProfitRate.toFixed(2)+"%",this.Canvas.fillText(n,e,t),t-=a,n="获利比例：",this.Canvas.fillText(n,e,t);var r=e+(s=this.Canvas.measureText(n).width+2),o=i-5-r;if(this.Canvas.strokeStyle=this.ColorNoProfit,this.Canvas.strokeRect(r,t-a,o,a),this.Canvas.strokeStyle=this.ColorProfit,this.Canvas.strokeRect(r,t-a,o*(this.Data.ChipInfo.ProfitRate/100),a),n=this.Data.ChipInfo.ProfitRate.toFixed(2)+"%",this.Canvas.textAlign="center",this.Canvas.fillText(n,r+o/2,t),t-=a,this.Canvas.textAlign="left",n="成本分布,日期："+Ce.FormatDateString(this.Data.SelectData.Date),this.Data.SelectData.Time&&(n+=" "+Ce.FormatTimeString(this.Data.SelectData.Time)),this.Canvas.fillText(n,e,t),t-=a,1==this.ShowType||2==this.ShowType){i=this.ClientRect.Left+this.ClientRect.Width-1,this.Canvas.textAlign="right";var s=50;for(var l in this.Data.DayChip.sort(function(t,e){return e.Day-t.Day}),this.Data.DayChip){var h=this.Data.DayChip[l],u=0;this.Data.ChipInfo&&this.Data.ChipInfo.Vol>0&&(u=h.Vol/this.Data.ChipInfo.Vol*100),n=h.Day+"周期"+(1==this.ShowType?"前":"内")+"成本"+(Ce.IsNumber(u)?u.toFixed(2)+"%":"--.--%"),0==l&&(s=this.Canvas.measureText(n).width+8),this.Canvas.fillStyle=h.Color,this.Canvas.fillRect(i-s,t-a,s,a),this.Canvas.fillStyle=this.DayInfoColor,this.Canvas.fillText(n,i,t),t-=a}}},this.DrawDayChip=function(){var t=this.HQChart.Frame.SubFrame[0].Frame;for(var e in this.Data.DayChip){var i=[],a=this.Data.DayChip[e].Chip;if(a){for(var n=0,r=0;r<a.length;++r){var o=a[r];if(o){n+=o;var s=(r+this.Data.MinPrice)/100,l=t.GetYFromData(s),h=o/this.Data.MaxVol*this.ClientRect.Width+this.ClientRect.Left;i.push({X:h,Y:l})}}this.Data.DayChip[e].Vol=n,this.DrawArea(i,this.Data.DayChip[e].Color)}}},this.DrawToolbar=function(t,e){this.Buttons=[],this.ClientRect.Left;for(var i=this.ClientRect.Left+this.ClientRect.Width,a=this.ClientRect.Top+this.ChartBorder.TitleHeight/2,n=[{ID:E.CHIP_RECENT,Style:this.RecentButton,ShowType:2},{ID:E.CHIP_LONG,Style:this.LongButton,ShowType:1},{ID:E.CHIP_DEFULT,Style:this.DefaultButton,ShowType:0}],r=0;r<n.length;++r){var o=n[r],s=o.Style.Size,l=i-s-o.Style.MerginLeft,h=s+"px "+o.Style.Family,u={Left:l,Top:a-s/2,Right:l+s+o.Style.MerginLeft,Bottom:a+s/2,Width:s+o.Style.MerginLeft,Height:s},c=o.Style.Color,d={ID:o.ID,Rect:u};this.ShowType==o.ShowType?(c=o.Style.SelectedColor,e&&t&&t.X>=u.Left&&t.X<u.Right&&t.Y>=u.Top&&t.Y<=u.Bottom&&(e.MouseOnToolbar={Rect:u,Item:d,Frame:this,Point:{X:t.X,Y:t.Y}})):t&&t.X>=u.Left&&t.X<u.Right&&t.Y>=u.Top&&t.Y<=u.Bottom&&(c=o.Style.MoveOnColor,e&&(e.MouseOnToolbar={Rect:u,Item:d,Frame:this,Point:{X:t.X,Y:t.Y}})),this.Canvas.fillStyle=c,this.Canvas.font=h,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(o.Style.Text,l,a),this.Buttons.push(d),i=l}},this.DrawToolbarTooltip=function(t){if(t){this.ClientRect.Left;var e=this.ClientRect.Left+this.ClientRect.Width,i="Toolbar-"+t.Item.ID;if(text=ei.GetText(i,0),text){var a=t.Rect,n=a.Left+a.Width/2;this.Canvas.font=this.ButtonTooltip.Font,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var r=this.Canvas.measureText(text).width+8,o=this.GetFontHeight()+8,s=n-r/2,l=a.Top-o;l<0&&(l=a.Bottom+1),s+r>e&&(s=e-r-2),this.Canvas.fillStyle=this.ButtonTooltip.ColorBG,this.Canvas.fillRect(s,l,r,o),this.Canvas.fillStyle=this.ButtonTooltip.Color,this.Canvas.fillText(text,s+4,l+o/2)}}},this.PtInButtons=function(t,e){for(var i=0;i<this.Buttons.length;++i){var a=this.Buttons[i];if(a.Rect){var n=a.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.Left,n.Top,n.Width,n.Height),this.Canvas.isPointInPath(t,e))return{ID:a.ID,Rect:n}}}return null},this.DrawAllChip=function(){for(var t=this.HQChart.Frame.SubFrame[0].Frame,e=this.Data.SelectData.Close,i=[],a=[],n=0,r=0,o=0,s=0,l=this.Data.YPrice,h=t.HorizontalMax,u=t.HorizontalMin,c=1,d=0;d<this.Data.AllChip.length;++d)(f=this.Data.AllChip[d])&&(n+=f,r+=(p=(d+this.Data.MinPrice)/this.PriceZoom)*f,p<l&&(s+=f),p<e&&(o+=f),p<=h&&p>=u&&c<f&&(c=f));for(this.Data.MaxVol=c,d=0;d<this.Data.AllChip.length;++d){var f,p;if((f=this.Data.AllChip[d])&&!((p=(d+this.Data.MinPrice)/this.PriceZoom)>h||p<u)){var m=t.GetYFromData(p),v=f/this.Data.MaxVol*this.ClientRect.Width+this.ClientRect.Left;p<e?i.push({X:v,Y:m}):a.push({X:v,Y:m})}}if(this.Data.ChipInfo={Vol:n,AveragePrice:r/n,ProfitVol:o,ProfitRate:n>0?o/n*100:0,YProfitRate:n>0?s/n*100:0},0==this.ShowType){this.DrawLines(i,this.ColorProfit),this.DrawLines(a,this.ColorNoProfit);var g=this.Data.ChipInfo.AveragePrice;g>0&&g<=h&&g>=u&&(g=g.toFixed(2),this.DrawAveragePriceLine(i,a,t.GetYFromData(g),this.ColorAveragePrice))}else this.DrawLines(i,this.ColorBG),this.DrawLines(a,this.ColorBG)},this.CalculateCast=function(){if(this.Data.ChipInfo&&this.Data.ChipInfo.Vol){for(var t=[{Start:.05,End:.95,MaxPrice:0,MinPrice:0,Rate:0},{Start:.15,End:.85,MaxPrice:0,MinPrice:0,Rate:0}],e=(this.Data.ChipInfo.AveragePrice,this.Data.ChipInfo.ProfitVol),i=0,a=0,n=0;a<this.Data.AllChip.length&&4!=n;++a){var r=this.Data.AllChip[a];if(!(r<=0)){var o=(a+this.Data.MinPrice)/this.PriceZoom,s=(i+=r)/e;for(var l in t){var h=t[l];h.MinPrice<=0&&s>h.Start&&(h.MinPrice=o,++n),h.MaxPrice<=0&&s>h.End&&(h.MaxPrice=o,++n)}}}for(var a in t){var u=t[a],c=u.MaxPrice+u.MinPrice;c&&(u.Rate=Math.abs(u.MaxPrice-u.MinPrice)/c*100)}this.Data.Cast=t}},this.DrawArea=function(t,e){if(!(t.length<=0)){for(var i in this.Canvas.fillStyle=e,this.Canvas.beginPath(),this.Canvas.moveTo(this.ClientRect.Left,t[0].Y),t){var a=t[i];this.Canvas.lineTo(a.X,a.Y)}this.Canvas.lineTo(this.ClientRect.Left,t[t.length-1].Y),this.Canvas.fill()}},this.DrawLines=function(t,e){if(!(t.length<=0)){for(var i in this.Canvas.strokeStyle=e,this.Canvas.beginPath(),t){var a=t[i];this.Canvas.moveTo(this.ClientRect.Left,a.Y),this.Canvas.lineTo(a.X,a.Y)}this.Canvas.stroke()}},this.DrawAveragePriceLine=function(t,e,i,a){for(var n in t)if((r=t[n]).Y==i)return this.Canvas.strokeStyle=a,this.Canvas.beginPath(),this.Canvas.moveTo(this.ClientRect.Left,r.Y),this.Canvas.lineTo(r.X,r.Y),void this.Canvas.stroke();for(var n in e){var r;if((r=e[n]).Y==i)return this.Canvas.strokeStyle=a,this.Canvas.beginPath(),this.Canvas.moveTo(this.ClientRect.Left,r.Y),this.Canvas.lineTo(r.X,r.Y),void this.Canvas.stroke()}},this.DrawBorder=function(){this.Canvas.strokeStyle=this.PenBorder,this.Canvas.strokeRect(this.ClientRect.Left,this.ClientRect.Top,this.ClientRect.Width,this.ClientRect.Height)},this.EvenlyDistribute=function(t,e){var i=e.Low,a=e.High,n=e.MaxPrice,r=e.MinPrice,o=1;if(a-i!=0){for(var s=e.Vol/(a-i),l=i;l<=a&&l<=n;++l){var h=l-r;t[h]+=s,o<t[h]&&(o=t[h])}e.MaxVol=o}},this.TriangleDistribute=function(t,e){for(var i=e.Low,a=e.High,n=(e.MaxPrice,e.MinPrice),r=1,o=3.1415926535,s=(a-i)/2+i,l=0,h=[],u=i+1,c=1;u<=s;++u,++c)l+=d=Math.tan(45*o/180)*c,h.push({Index:u-n,Value:d});for(u=a-1,c=1;u>s;--u,++c){var d;l+=d=Math.tan(45*o/180)*c,h.push({Index:u-n,Value:d})}if(l>0){for(u=0;u<h.length;++u){var f=h[u];t[f.Index]+=f.Value*e.Vol/l,r<t[f.Index]&&(r=t[f.Index])}e.MaxVol=r}},this.CalculateDistribute=function(t,e){1==this.CalculateType?this.TriangleDistribute(t,e):this.EvenlyDistribute(t,e)},this.CalculateChip=function(){if(!this.HQChart)return!1;if(!this.HQChart.FlowCapitalReady)return!1;var t=this.HQChart.Symbol;if(!t)return!1;if(Ii.IsSHSZIndex(t))return!1;var e=this.HQChart.ChartPaint[0].Data,i=e.DataOffset+parseInt(this.HQChart.CursorIndex);i>=e.Data.length&&(i=e.Data.length-1);var a=e.Data[i],n=a.Close,r=this.HQChart.LastPoint.Y;r&&(n=this.HQChart.Frame.SubFrame[0].Frame.GetYData(r));for(var o,s,l=[],h=1,u=i;u>=0;--u){var c=1;(y=e.Data[u]).FlowCapital>0&&(c=y.Vol/y.FlowCapital);var d={Vol:u==i?y.Vol*c:y.Vol*h,High:y.High,Low:y.Low};l.push(d),h*=1-1*c,(!o||o<y.High)&&(o=y.High),(!s||s>y.Low)&&(s=y.Low)}if(!o||!s)return!0;for(var f=this.PriceZoom,p=(o=parseInt(o*f))-(s=parseInt(s*f)),m=new Array,v=0;v<=p;++v)m.push(0);var g,C=[];if(2==this.ShowType)for(var D in C=[{Day:100,Color:this.DAY_COLOR[1][5]},{Day:60,Color:this.DAY_COLOR[1][4]},{Day:30,Color:this.DAY_COLOR[1][3]},{Day:20,Color:this.DAY_COLOR[1][2]},{Day:10,Color:this.DAY_COLOR[1][1]},{Day:5,Color:this.DAY_COLOR[1][0]}],l){var y=l[D],x=parseInt(y.High*f),S=parseInt(y.Low*f),I=y.Vol;if(x-S>0&&(I=y.Vol/(x-S)),!(I<=1e-9)){for(var T=0;T<C.length;++T)if(D==C[T].Day){C[T].Chip=m.slice(0);break}g={Low:S,High:x,Vol:y.Vol,MaxPrice:o,MinPrice:s},this.CalculateDistribute(m,g)}}else if(1==this.ShowType){C=[{Day:5,Color:this.DAY_COLOR[0][0]},{Day:10,Color:this.DAY_COLOR[0][1]},{Day:20,Color:this.DAY_COLOR[0][2]},{Day:30,Color:this.DAY_COLOR[0][3]},{Day:60,Color:this.DAY_COLOR[0][4]},{Day:100,Color:this.DAY_COLOR[0][5]}];for(var b=l.length-1;b>=0;--b)if(y=l[b],x=parseInt(y.High*f),S=parseInt(y.Low*f),I=y.Vol,x-S>0&&(I=y.Vol/(x-S)),!(I<=1e-9)){for(T=0;T<C.length;++T)if(b==C[T].Day){C[T].Chip=m.slice(0);break}g={Low:S,High:x,Vol:y.Vol,MaxPrice:o,MinPrice:s},this.CalculateDistribute(m,g)}}else for(var w in l)y=l[w],x=parseInt(y.High*f),S=parseInt(y.Low*f),I=y.Vol,x-S>0&&(I=y.Vol/(x-S)),I<=1e-9||(g={Low:S,High:x,Vol:y.Vol,MaxPrice:o,MinPrice:s},this.CalculateDistribute(m,g));return!!g&&(this.Data={AllChip:m,MaxVol:g.MaxVol,MaxPrice:o,MinPrice:s,SelectData:a,DayChip:C,YPrice:n},!0)},this.DrawFrame=function(){if(0!=this.IsShowX&&!(this.Data.MaxVol<=0)){var t=1!==this.HQChart.Frame.SubFrame.length,e=R(this.HQChart.Frame.SubFrame[0].Frame.ChartBorder.GetBottomEx()+1);t||(e=this.ClientRect.Top+this.ClientRect.Height);var i=this.ClientRect.Left,a=i+this.ClientRect.Width;this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),t&&(this.Canvas.moveTo(i,e),this.Canvas.lineTo(a,e));var n=this.ShowXCount,r=this.Data.MaxVol,o=Math.floor(r/n);this.Canvas.font=this.Font,this.Canvas.textBaseline="top",this.Canvas.fillStyle=this.InfoColor,L();for(var s=1;s<=n;++s){var l=o*s,h=l/this.Data.MaxVol*this.ClientRect.Width+this.ClientRect.Left;if(h=R(h),s==n){this.Canvas.textAlign="right";var u=Ce.FormatValueString(r,1);this.Canvas.fillText(u,h,e+2)}else{this.Canvas.moveTo(h,this.ClientRect.Top),this.Canvas.lineTo(h,e),this.Canvas.textAlign="center",u=Ce.FormatValueString(l,1);var c=this.Canvas.measureText(u).width;this.Canvas.fillText(u,Math.floor(h-.25*c),e+2)}}this.Canvas.stroke()}}}).Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.Left=this.Frame.ChartBorder.Right,i.SetOption(e),this.ExtendChartPaint.push(i),this.Frame.ChartBorder.Right+=i.Width,i;case"画图工具":return(i=new me).Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.Left=this.Frame.ChartBorder.Right,i.SetOption(e),this.ExtendChartPaint.push(i),this.Frame.ChartBorder.Right+=i.Width,i;case"KLineTooltip":return(i=e.Create&&"function"==typeof e.Create?e.Create():new fe).Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,e.LanguageID=this.LanguageID,i.SetOption(e),this.ExtendChartPaint.push(i),i;case"深度图":return(i=new function(){this.newMethod=de,this.newMethod(),delete this.newMethod,this.ClassName="DepthMapPaint",this.LineColor=Qe.DepthMapPaint.LineColor,this.AreaColor=V(Qe.DepthMapPaint.AreaColor),this.TextColor=Qe.DepthMapPaint.TextColor,this.TextBGColor=Qe.DepthMapPaint.TextBGColor,this.FrameID=0,this.ID=P(),this.IsDynamic=!1,this.IsCallbackDraw=!0,this.YRange,this.WidthRate=.8,this.IsShow=!0,this.SetOption=function(t){t.FrameID>0&&(this.FrameID=t.FrameID),Ce.IsObjectExist(t.ID)&&(this.ID=t.ID),t.IsShowCorssCursor&&(this.IsShowCorssCursor=t.IsShowCorssCursor),Ce.IsNumber(t.WidthRate)&&(this.WidthRate=t.WidthRate)},this.Draw=function(){if(this.Data&&Ce.IsNonEmptyArray(this.Data)&&this.ChartFrame&&this.ChartFrame.SubFrame&&!(this.ChartFrame.SubFrame.length<=this.FrameID)){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.SubFrame[this.FrameID].Frame.ChartBorder,i=e.GetHeightEx(),a=e.GetRight(),n=e.GetTopEx(),r=e.GetBottomEx(),o=this.ChartBorder.Right*this.WidthRate;t&&(a=e.GetBottom(),n=e.GetRight(),r=e.GetLeft(),(o=this.Width)>this.ChartBorder.Bottom&&(o=this.ChartBorder.Bottom));var s={Left:a,Top:n,Right:a+o,Bottom:r,Height:i,Width:o};this.YRange={Max:null,Min:0};for(var l=0;l<this.Data.length;++l){var h=this.Data[l];this.CalculateYRange(h,this.YRange)}for(l=0;l<this.Data.length;++l)(h=this.Data[l]).Height>0&&h.Height<=1?s.Height=i*h.Height:s.Height=i,1==h.Type?(s.Top=n,s.Bottom=n+s.Height,this.DrawUpArea(h,s)):2==h.Type?(s.Bottom=r,s.Top=s.Bottom-s.Height,this.DrawDownArea(h,s)):(s.Top=n,s.Bottom=r,this.DrawDefaultArea(h,s))}},this.CalculateYRange=function(t,e){for(var i in t.Data){var a=t.Data[i];(null==e.Max||e.Max<a.Y)&&(e.Max=a.Y),(null==e.Min||e.Min>a.Y)&&(e.Min=a.Y)}},this.GetXFromData=function(t,e,i){var a=e.Width*(t-i.Min)/(i.Max-i.Min);return e.Left+a},this.GetYFromData=function(t,e,i,a){if(a){var n=e.Height*(t-i.Min)/(i.Max-i.Min);return e.Bottom-n}return n=e.Height*(t-i.Min)/(i.Max-i.Min),e.Top+n},this.DrawDefaultArea=function(t,e){for(var i=this.ChartFrame.SubFrame[this.FrameID].Frame,a=t.Range&&t.Range.Y?t.Range.Y:this.YRange,n=[],r=0;r<t.Data.length;++r){var o=t.Data[r],s=this.GetXFromData(o.Y,e,a);if(!(o.X>i.HorizontalMax||o.X<i.HorizontalMin)){var l=i.GetYFromData(o.X);n.push({X:s,Y:l})}}var h=t.LineColor?t.LineColor:this.LineColor,u=t.AreaColor?t.AreaColor:this.AreaColor;n.length>0&&(1==t.DrawType?this.DrawHLine(n,h,e):this.DrawLine(n,h,u,e))},this.DrawUpArea=function(t,e){var i=[];for(var a in t.Data){var n=t.Data[a],r=this.GetXFromData(n.Y,e,t.Range.Y),o=this.GetYFromData(n.X,e,t.Range.X,t.IsASC);i.push({X:r,Y:o})}var s=t.LineColor?t.LineColor:this.LineColor,l=t.AreaColor?t.AreaColor:this.AreaColor;i.length>0&&this.DrawLine(i,s,l,e)},this.DrawDownArea=function(t,e){var i=[];for(var a in t.Data){var n=t.Data[a],r=this.GetXFromData(n.Y,e,t.Range.Y),o=this.GetYFromData(n.X,e,t.Range.X,t.IsASC);i.push({X:r,Y:o})}var s=t.LineColor?t.LineColor:this.LineColor,l=t.AreaColor?t.AreaColor:this.AreaColor;i.length>0&&this.DrawLine(i,s,l,e)},this.DrawHLine=function(t,e,i){var a=!0===this.ChartFrame.IsHScreen;this.Canvas.strokeStyle=e,this.Canvas.beginPath();for(var n=0,r=0;r<t.length;++r){var o=t[r];a||(this.Canvas.moveTo(i.Left,o.Y),this.Canvas.lineTo(o.X,o.Y)),++n}n>0&&this.Canvas.stroke()},this.DrawLine=function(t,e,i,a){var n=!0===this.ChartFrame.IsHScreen,r=!0,o=0;for(var s in this.Canvas.strokeStyle=e,t){var l=t[s];r?(this.Canvas.beginPath(),n?this.Canvas.moveTo(l.Y,l.X):this.Canvas.moveTo(l.X,l.Y),r=!1):n?this.Canvas.lineTo(l.Y,l.X):this.Canvas.lineTo(l.X,l.Y),++o}o>0&&this.Canvas.stroke();var h=t[0],u=t[t.length-1];if(n?(this.Canvas.lineTo(u.Y,a.Left),this.Canvas.lineTo(h.Y,a.Left)):(this.Canvas.lineTo(a.Left,u.Y),this.Canvas.lineTo(a.Left,h.Y)),this.Canvas.closePath(),Array.isArray(i))if(n){var c=this.Canvas.createLinearGradient(this.ChartBorder.GetRightEx(),this.ChartBorder.GetTop(),this.ChartBorder.GetLeft(),this.ChartBorder.GetTop());c.addColorStop(0,i[0]),c.addColorStop(1,i[1]),this.Canvas.fillStyle=c}else{var d=this.Canvas.createLinearGradient(a.Right,a.Top,a.Left,a.Top),f=1/i.length;for(s=0;s<i.length;++s)d.addColorStop(s*f,i[s]);this.Canvas.fillStyle=d}else this.Canvas.fillStyle=i;this.Canvas.fill()},this.GetYValueByXValue=function(t,e){for(var i=[],a=Ee[e],n=0;n<this.Data.length;++n){var r=this.Data[n];if(0==r.Type&&r.Data&&!(r.Data.length<0)&&0!=r.IsShowCorssCursor){for(var o=!1,s=0;s<r.Data.length;++s){var l=r.Data[s];if(parseInt(l.X*a)==t){o=!0;var h={X:l.X,Y:l.Y,TextColor:r.TextColor?r.TextColor:this.TextColor,TextBGColor:r.TextBGColor?r.TextBGColor:this.TextBGColor};l.YText&&(h.YText=l.YText),i.push(h);break}}if(!o){var u=r.Data[0],c=r.Data[r.Data.length-1];t>u.X*a&&t<c.X*a&&i.push({X:null,Y:null,TextColor:r.TextColor?r.TextColor:this.TextColor,TextBGColor:r.TextBGColor?r.TextBGColor:this.TextBGColor})}}}return i}}).Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.SetOption(e),this.ExtendChartPaint.push(i),i;case"背景图":return(i=new function(){this.newMethod=de,this.newMethod(),delete this.newMethod,this.ClassName="BackgroundPaint",this.IsDynamic=!1,this.IsCallbackDraw=!0,this.FrameID=0,this.Data,this.ID=P(),this.ChartSubFrame,this.ChartBorder,this.KData,this.Period,this.XPointCount=0,this.SetOption=function(t){t.FrameID>0&&(this.FrameID=t.FrameID),Ce.IsObjectExist(t.ID)&&(this.ID=t.ID)},this.Draw=function(){if(this.Data&&this.HQChart&&this.ChartFrame&&this.ChartFrame.SubFrame&&!(this.ChartFrame.SubFrame.length<=this.FrameID)){var t=this.HQChart.ChartPaint[0];if(t&&t.Data&&(this.ChartSubFrame=this.ChartFrame.SubFrame[this.FrameID].Frame,this.ChartBorder=this.ChartSubFrame.ChartBorder,this.KData=t.Data,this.Period=this.HQChart.Period,this.KData&&!(this.KData.Data.length<=0))){var e=!0===this.ChartSubFrame.IsHScreen;this.XPointCount=this.ChartSubFrame.XPointCount;var i=this.ChartSubFrame.XPointCount,a=this.KData.Data[this.KData.DataOffset],n=this.KData.DataOffset+i-1;n>=this.KData.Data.length&&(n=this.KData.Data.length-1);var r=this.KData.Data[n],o=this.GetShowData(a,r);if(o&&!(o.length<=0)){var s=this.BuildKLineMap(),l=this.ChartBorder.GetBottomEx(),h=this.ChartBorder.GetTopEx(),u=this.ChartBorder.GetHeightEx();for(var c in e&&(h=this.ChartBorder.GetRightEx(),l=this.ChartBorder.GetLeftEx(),u=this.ChartBorder.GetWidthEx()),o){var d=o[c],f=this.GetBGCoordinate(d,s);if(f){if(Array.isArray(d.Color)){var p;p=e?this.Canvas.createLinearGradient(l,f.Left,h,f.Left):this.Canvas.createLinearGradient(f.Left,h,f.Left,l);var m=1/d.Color.length;for(var c in d.Color)p.addColorStop(c*m,d.Color[c]);this.Canvas.fillStyle=p}else this.Canvas.fillStyle=d.Color;e?this.Canvas.fillRect(k(l),k(f.Left),k(u),k(f.Width)):this.Canvas.fillRect(k(f.Left),k(h),k(f.Width),k(u))}}}}}},this.GetShowData=function(t,e){var i=[];for(var a in this.Data){var n=this.Data[a],r={};n.Start.Date>=t.Date&&n.Start.Date<=e.Date&&(r.Start=n.Start),n.End.Date>=t.Date&&n.End.Date<=e.Date&&(r.End=n.End),(r.Start||r.End)&&(r.Color=n.Color,i.push(r))}return i},this.BuildKLineMap=function(){var t=!0===this.ChartSubFrame.IsHScreen,e=this.ChartSubFrame.DataWidth,i=this.ChartSubFrame.DistanceWidth,a=this.ChartBorder.GetLeft()+i/2+Qe.FrameLeftMargin;t&&(a=this.ChartBorder.GetTop()+i/2+Qe.FrameLeftMargin);var n=this.ChartBorder.GetRight();t&&(n=this.ChartBorder.GetBottom());for(var r={Data:new p.default,Start:null,End:null},o=this.KData.DataOffset,s=0;o<this.KData.Data.length&&s<this.XPointCount;++o,++s,a+=e+i){var l=this.KData.Data[o],h=a,u=a+e;if(u>n)break;var c=h+(u-h)/2;0==s&&(r.XLeft=h),r.XRight=u;var d={Index:o,ShowIndex:s,X:c,Right:u,Left:h,Date:l.Date};if(mt.IsMinutePeriod(this.Period,!0)){var f="Date:"+l.Date+" Time:"+l.Time;d.Time=l.Time}else f="Date:"+l.Date;r.Data.set(f,d),0==s&&(r.Start=d),r.End=d}return r},this.GetBGCoordinate=function(t,e){var i,a=null,n=null,r=mt.IsMinutePeriod(this.Period,!0),o=!1;if(r?t.Start&&t.End&&t.Start.Date==t.End.Date&&t.Start.Time==t.End.Time&&(o=!0):t.Start&&t.End&&t.Start.Date==t.End.Date&&(o=!0),o){if(r)var s="Date:"+t.Start.Date+" Time:"+t.Start.Time;else s="Date:"+t.Start.Date;return e.Data.has(s)?{Left:a=(i=e.Data.get(s)).Left,Right:n=i.Right,Width:n-a}:null}if(t.Start)if(s=r?"Date:"+t.Start.Date+" Time:"+t.Start.Time:"Date:"+t.Start.Date,e.Data.has(s))a=(i=e.Data.get(s)).Left;else if(r)if(t.Start.Date<e.Start.Date||t.Start.Date==e.Start.Date&&t.Start.Time<=e.Start.Time)a=e.Start.Left;else{var l=!0,h=!1,u=void 0;try{for(var c,f=(0,d.default)(e.Data);!(l=(c=f.next()).done);l=!0)if((_=c.value[1]).Date>t.Start.Date||_.Date==t.Start.Date&&_.Time>t.Start.Time){a=_.Left;break}}catch(t){h=!0,u=t}finally{try{!l&&f.return&&f.return()}finally{if(h)throw u}}}else if(t.Start.Date<=e.Start.Date)a=e.Start.Left;else{var p=!0,m=!1,v=void 0;try{for(var g,C=(0,d.default)(e.Data);!(p=(g=C.next()).done);p=!0)if((_=g.value[1]).Date>t.Start.Date){a=_.Left;break}}catch(t){m=!0,v=t}finally{try{!p&&C.return&&C.return()}finally{if(m)throw v}}}else a=e.XLeft;if(t.End)if(s=r?"Date:"+t.End.Date+" Time:"+t.End.Time:"Date:"+t.End.Date,e.Data.has(s))n=(i=e.Data.get(s)).Right;else if(r)if(t.End.Date<e.End.Date||t.End.Date==e.End.Date&&t.End.Time>=e.End.Time)n=e.End.Right;else{var D=null,y=!0,x=!1,S=void 0;try{for(var I,T=(0,d.default)(e.Data);!(y=(I=T.next()).done);y=!0){if((_=I.value[1]).Date>t.End.Date||_.Date==t.End.Date&&_.Time>t.End.Time){n=D;break}D=_.Right}}catch(t){x=!0,S=t}finally{try{!y&&T.return&&T.return()}finally{if(x)throw S}}}else if(t.End.Date<=e.End.Date)n=e.End.Right;else{D=null;var b=!0,w=!1,M=void 0;try{for(var E,A=(0,d.default)(e.Data);!(b=(E=A.next()).done);b=!0){var _;if((_=E.value[1]).Date>t.End.Date){n=D;break}D=_.Right}}catch(t){w=!0,M=t}finally{try{!b&&A.return&&A.return()}finally{if(w)throw M}}}else n=e.XRight;return null==a||null==n?null:{Left:a,Right:n,Width:n-a}}}).Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.SetOption(e),this.ExtendChartPaint.push(i),i;case"FrameSplitPaint":return(i=new ve).Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.SetOption(e),this.ExtendChartPaint.push(i),i;default:return(i=ce.Create(t))?(i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.SetOption(e),this.ExtendChartPaint.push(i),i):null}},this.OnTouchFinished=function(){if(this.DragMode==M.CLICK_TOUCH_MODE_ID){if(1==this.TouchStatus.CorssCursorShow&&this.TouchDrawCount>0)return;return this.TouchStatus.CorssCursorShow=!1,void this.DrawDynamicInfo()}if(!0!==this.CorssCursorTouchEnd)for(var t in this.ExtendChartPaint){"KLineTooltipPaint"===this.ExtendChartPaint[t].ClassName&&this.DrawDynamicInfo()}else this.TouchDrawCount>0&&this.DrawDynamicInfo()},this.LockIndex=function(t){if(t&&t.IndexName)for(var e in this.WindowIndex){var i=this.WindowIndex[e];if(i||conintue,i.Name==t.IndexName){i.SetLock(t),this.Update();break}}},this.TryClickLock=function(t,e){for(var i in this.Frame.SubFrame){var a=this.Frame.SubFrame[i];if(a.Frame.IsLocked&&a.Frame.LockPaint){var n=new St;if(a.Frame.LockPaint.GetTooltipData(t,e,n))return n.HQChart=this,n.Data.Callback&&n.Data.Callback(n),!0}}return!1},this.TryClickIndexTitle=function(t,e){for(var i in this.TitlePaint){var a=this.TitlePaint[i];if(a.IsClickTitle&&a.IsClickTitle(t,e)){var n={Point:{X:t,Y:e},Title:a.Title,FrameID:a.Frame.Identify};g.Chart.Log("[KLineChartContainer::TryClickIndexTitle] click title ",n);var r=this.GetEventCallback(b.ON_CLICK_INDEXTITLE);return r&&r.Callback&&r.Callback(r,n,this),!0}}return!1},this.SetSizeChange=function(t){for(var e in this.Frame.SetSizeChage(t),this.ExtendChartPaint){this.ExtendChartPaint[e].SizeChange=t}},this.SetSizeChage=this.SetSizeChange,this.Update=function(t){if(this.SourceData){var e;if(this.BeforeBindMainData&&this.BeforeBindMainData("Update"),(o=new mt).Data=this.SourceData.Data,o.Period=this.Period,o.Right=this.Right,o.DataType=this.SourceData.DataType,o.Symbol=this.Symbol,o.Right>0&&mt.IsDayPeriod(o.Period,!0)){var i=o.GetRightData(o.Right,{AlgorithmType:this.RightFormula});o.Data=i}if(mt.IsDayPeriod(o.Period,!1)||mt.IsMinutePeriod(o.Period,!1)){var a=o.GetPeriodData(o.Period);o.Data=a}this.BindMainData(o,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("Update");for(var n=0;n<this.Frame.SubFrame.length;++n)0==n&&(e=this.Frame.SubFrame[n].Frame),this.BindIndexData(n,o);for(var n in e&&e.YSplitOperator&&(e.YSplitOperator.Symbol=this.Symbol,e.YSplitOperator.Data=this.ChartPaint[0].Data,e.YSplitOperator.Period=this.Period),this.OverlayChartPaint){if((s=this.OverlayChartPaint[n]).SourceData)if(mt.IsMinutePeriod(this.Period,!0)){(o=new mt).Data=s.SourceData.Data,o.Period=this.Period,o.Right=this.Right;var r=this.SourceData.GetOverlayMinuteData(o.Data,this.IsApiPeriod);if(o.Data=r,mt.IsMinutePeriod(o.Period,!1)&&!this.IsApiPeriod){a=o.GetPeriodData(o.Period);o.Data=a}s.Data=o}else{var o;if((o=new mt).Data=s.SourceData.Data,o.Period=this.Period,o.Right=this.Right,o.Right>0&&Ii.IsSHSZStockA(s.Symbol)){i=o.GetRightData(o.Right,{AlgorithmType:this.RightFormula});o.Data=i}r=this.SourceData.GetOverlayData(o.Data,this.IsApiPeriod);if(o.Data=r,mt.IsDayPeriod(o.Period,!1)&&!this.IsApiPeriod){a=o.GetPeriodData(o.Period);o.Data=a}s.Data=o}}this.ReqeustKLineInfoData({FunctionName:"Update"}),this.CreateChartDrawPictureByStorage(),this.UpdataDataoffset(),t&&t.UpdateCursorIndexType>0?this.UpdatePointByCursorIndex(t.UpdateCursorIndexType):this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw();for(n=0;n<this.Frame.SubFrame.length;++n){var s=this.Frame.SubFrame[n];for(var l in s.OverlayIndex){var h=s.OverlayIndex[l];this.BindOverlayIndexData(h,n,o)}}}},this.ChangeSymbol=function(t,e){if(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangeSymbol"),this.ClearRectSelect(!0),this.ClearCustomKLine(),this.ClearKLineCaluate(),this.Symbol=t,t){if(e&&e.KLine){var i=e.KLine;Ce.IsNumber(i.Right)&&(this.Right=i.Right),Ce.IsNumber(i.Period)&&(this.Period=i.Period)}if(Ii.IsSHSZIndex(t)&&(this.Right=0),this.ClearIndexPaint(),e&&e.Windows&&Array.isArray(e.Windows)&&e.Windows.length>0){var a=e.Windows,n=new I;for(var r in a){if(r>=this.WindowIndex.length)break;if(i=a[r])if(i.Script)this.WindowIndex[r]=new aa(i.Name,i.Script,i.Args,i);else if(i.API){var o=i.API;this.WindowIndex[r]=new ra(o.Name,o.Script,o.Args,i)}else{var s=i.Index,l=n.Get(s);if(l){l.Args;i.Args&&(l.Args=i.Args),l.ID=s,this.WindowIndex[r]=new aa(l.Name,l.Script,l.Args,l)}}}}this.ReloadChartDrawPicture(),this.Frame.ClearUpDonwFrameYData(),mt.IsDayPeriod(this.Period,!0)?this.RequestHistoryData():mt.IsMinutePeriod(this.Period,!0)||mt.IsSecondPeriod(this.Period)?this.ReqeustHistoryMinuteData():mt.IsTickPeriod(this.Period)&&this.RequestTickData()}else this.DrawEmpty()},this.ReqeustKLineInfoData=function(t){if(t&&"RecvDragDayData"==t.FunctionName)t.Update=!0;else{if(this.ChartPaint.length>0)this.ChartPaint[0].InfoData=new p.default;t.Update=!1}for(var e in this.ChartInfo)this.ChartInfo[e].RequestData(this,t)},this.SetKLineInfo=function(t,e){for(var i in this.ChartInfo=[],t){var a=mi.Get(t[i]);if(a){var n=a.Create();n.MaxRequestDataCount=this.MaxRequestDataCount,this.ChartInfo.push(n)}}1==e&&this.ReqeustKLineInfoData({FunctionName:"SetKLineInfo"})},this.AddKLineInfo=function(t,e){var i=mi.GetClassInfo(t);if(i){for(var a in this.ChartInfo){if((n=this.ChartInfo[a]).ClassName==i.ClassName)return}var n,r=mi.Get(t);if(r)(n=r.Create()).MaxRequestDataCount=this.MaxRequestDataCount,this.ChartInfo.push(n),1==e&&n.RequestData(this)}else console.warn("[KLineChartContainer::AddKLineInfo] can't find infoname=",t)},this.DeleteKLineInfo=function(t){var e=mi.GetClassInfo(t);if(e)for(var i in this.ChartInfo){if(this.ChartInfo[i].ClassName==e.ClassName){this.ChartInfo.splice(i,1),this.UpdataChartInfo(),this.Draw();break}}else console.warn("[KLineChartContainer::DeleteKLineInfo] can't find infoname=",t)},this.ClearKLineInfo=function(){!this.ChartInfo||this.ChartInfo.length<=0||(this.ChartInfo=[],this.ChartPaint[0].InfoData=null,this.Draw())},this.OverlaySymbol=function(t,e){for(var i in this.OverlayChartPaint){if(this.OverlayChartPaint[i].Symbol===t)return console.warn("[KLineChartContainer::OverlaySymbol] overlay symbol="+t+" exist."),!1}var a=new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartOverlayKLine",this.Color="rgb(65,105,225)",this.MainData,this.SourceData,this.Title,this.DrawType=0,this.CustomDrawType=null,this.Status=At.STATUS_NONE_ID,this.IsDelete=!1,this.CloseLineWidth=Qe.CloseLineWidth,this.ShowRange={},this.DrawKRange={Start:null,End:null},this.YInfoType=4,this.SetOption=function(t){t&&(Ce.IsNumber(t.DrawType)&&(this.CustomDrawType=t.DrawType),Ce.IsNumber(t.YInfoType)&&(this.YInfoType=t.YInfoType))},this.DrawKBar=function(t){var e=!0===this.ChartFrame.IsHScreen,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=this.ChartBorder.GetLeft()+a/2+2;e&&(n=this.ChartBorder.GetTop()+a/2+2);var r=this.ChartBorder.GetRight();e&&(r=this.ChartBorder.GetBottom());var o=this.ChartFrame.XPointCount,s=this.DrawType;null!=this.CustomDrawType&&(s=this.CustomDrawType);var l=!0,h=null;this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o,this.ShowRange.FirstOpen=t,this.DrawKRange.Start=this.Data.DataOffset;for(var u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<o;++u,++c,n+=i+a,++this.ShowRange.DataCount){var d=this.Data.Data[u];if(d&&null!=d.Open&&null!=d.High&&null!=d.Low&&null!=d.Close){null==h&&(h=d.Open,this.ShowRange.FirstOverlayOpen=d.Open),l&&(this.Canvas.strokeStyle=this.Color,this.Canvas.fillStyle=this.Color,this.Canvas.beginPath(),l=!1);var f=n,p=n+i;if(p>r)break;var m=f+(p-f)/2,v=this.GetYFromData(d.Low/h*t,!1),g=this.GetYFromData(d.High/h*t,!1),C=this.GetYFromData(d.Open/h*t,!1),D=this.GetYFromData(d.Close/h*t,!1),y=g;this.DrawKRange.End=u,d.Open<d.Close?i>=4?(d.High>d.Close?(e?(this.Canvas.moveTo(R(y),R(m)),this.Canvas.lineTo(R(3==this.DrawType?Math.max(D,C):D),R(m))):(this.Canvas.moveTo(R(m),R(y)),this.Canvas.lineTo(R(m),R(3==this.DrawType?Math.min(D,C):D))),y=D):y=D,e?Math.abs(C-y)<1?this.Canvas.fillRect(k(y),k(f),1,k(i)):3==s?this.Canvas.rect(R(y),R(f),k(C-y),k(i)):this.Canvas.fillRect(k(y),k(f),k(C-y),k(i)):Math.abs(C-y)<1?this.Canvas.fillRect(k(f),k(y),k(i),1):3==s?this.Canvas.rect(R(f),R(y),k(i),k(C-y)):this.Canvas.fillRect(k(f),k(y),k(i),k(C-y)),d.Open>d.Low&&(e?(this.Canvas.moveTo(R(3==this.DrawType?Math.min(D,C):y),R(m)),this.Canvas.lineTo(R(v),R(m))):(this.Canvas.moveTo(R(m),R(3==this.DrawType?Math.max(D,C):y)),this.Canvas.lineTo(R(m),R(v))))):e?(this.Canvas.moveTo(g,R(m)),this.Canvas.lineTo(v,R(m))):(this.Canvas.moveTo(R(m),g),this.Canvas.lineTo(R(m),v)):d.Open>d.Close?i>=4?(d.High>d.Close?(e?(this.Canvas.moveTo(R(y),R(m)),this.Canvas.lineTo(R(C),R(m))):(this.Canvas.moveTo(R(m),R(y)),this.Canvas.lineTo(R(m),R(C))),y=C):y=C,e?Math.abs(D-y)<1?this.Canvas.fillRect(k(y),k(f),1,k(i)):this.Canvas.fillRect(k(y),k(f),k(D-y),k(i)):Math.abs(D-y)<1?this.Canvas.fillRect(k(f),k(y),k(i),1):this.Canvas.fillRect(k(f),k(y),k(i),k(D-y)),d.Open>d.Low&&(e?(this.Canvas.moveTo(R(y),R(m)),this.Canvas.lineTo(R(v),R(m))):(this.Canvas.moveTo(R(m),R(y)),this.Canvas.lineTo(R(m),R(v))))):e?(this.Canvas.moveTo(g,R(m)),this.Canvas.lineTo(v,R(m))):(this.Canvas.moveTo(R(m),g),this.Canvas.lineTo(R(m),v)):i>=4?(d.High>d.Close?(e?(this.Canvas.moveTo(y,R(m)),this.Canvas.lineTo(C,R(m))):(this.Canvas.moveTo(R(m),y),this.Canvas.lineTo(R(m),C)),y=C):y=C,e?(this.Canvas.moveTo(R(y),R(f)),this.Canvas.lineTo(R(y),R(p))):(this.Canvas.moveTo(R(f),R(y)),this.Canvas.lineTo(R(p),R(y))),d.Open>d.Low&&(e?(this.Canvas.moveTo(R(y),R(m)),this.Canvas.lineTo(R(v),R(m))):(this.Canvas.moveTo(R(m),R(y)),this.Canvas.lineTo(R(m),R(v))))):e?(this.Canvas.moveTo(g,R(m)),this.Canvas.lineTo(v,R(m))):(this.Canvas.moveTo(R(m),g),this.Canvas.lineTo(R(m),v));var x=Math.min(v,g,C,D),S=new It(f,x,i,Math.max(v,g,C,D)-x);this.TooltipRect.push([u,S])}}0==l&&this.Canvas.stroke()},this.DrawAKLine=function(t){var e=!0===this.ChartFrame.IsHScreen,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=this.ChartBorder.GetLeft()+a/2+2;e&&(n=this.ChartBorder.GetTop()+a/2+2);var r=this.ChartBorder.GetRight();e&&(r=this.ChartBorder.GetBottom());var o=this.ChartFrame.XPointCount,s=null;this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o,this.ShowRange.FirstOpen=t,this.DrawKRange.Start=this.Data.DataOffset,this.Canvas.strokeStyle=this.Color;for(var l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<o;++l,++h,n+=i+a,++this.ShowRange.DataCount){var u=this.Data.Data[l];if(null!=u.Open&&null!=u.High&&null!=u.Low&&null!=u.Close){null==s&&(s=u.Open,this.ShowRange.FirstOverlayOpen=u.Open);var c=n,d=n+i;if(d>r)break;var f=c+(d-c)/2,p=this.GetYFromData(u.Low/s*t,!1),m=this.GetYFromData(u.High/s*t,!1),v=this.GetYFromData(u.Open/s*t,!1),g=this.GetYFromData(u.Close/s*t,!1);this.DrawKRange.End=l,this.Canvas.beginPath(),e?(this.Canvas.moveTo(m,R(f)),this.Canvas.lineTo(p,R(f))):(this.Canvas.moveTo(R(f),m),this.Canvas.lineTo(R(f),p)),this.Canvas.stroke(),i>=4&&(this.Canvas.beginPath(),e?(this.Canvas.moveTo(R(v),c),this.Canvas.lineTo(R(v),f)):(this.Canvas.moveTo(c,R(v)),this.Canvas.lineTo(f,R(v))),this.Canvas.stroke(),this.Canvas.beginPath(),e?(this.Canvas.moveTo(R(g),d),this.Canvas.lineTo(R(g),f)):(this.Canvas.moveTo(d,R(g)),this.Canvas.lineTo(f,R(g))),this.Canvas.stroke())}}},this.DrawCloseLine=function(t){var e=!0===this.ChartFrame.IsHScreen,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=this.ChartBorder.GetLeft()+a/2+2;e&&(n=this.ChartBorder.GetTop()+a/2+2);var r=this.ChartBorder.GetRight();e&&(r=this.ChartBorder.GetBottom());var o=this.ChartFrame.XPointCount,s=null,l=!0;this.Canvas.strokeStyle=this.Color,Ce.IsNumber(this.CloseLineWidth)&&(this.Canvas.lineWidth=this.CloseLineWidth),this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o,this.ShowRange.FirstOpen=t,this.DrawKRange.Start=this.Data.DataOffset,this.Canvas.beginPath();for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<o;++h,++u,n+=i+a,++this.ShowRange.DataCount){var c=this.Data.Data[h];if(null!=c.Open&&null!=c.High&&null!=c.Low&&null!=c.Close){null==s&&(s=c.Open,this.ShowRange.FirstOverlayOpen=c.Open);var d=n+i;if(d>r)break;var f=n+(d-n)/2,p=this.GetYFromData(c.Close/s*t,!1);this.DrawKRange.End=h,l?(e?this.Canvas.moveTo(p,f):this.Canvas.moveTo(f,p),l=!1):e?this.Canvas.lineTo(p,f):this.Canvas.lineTo(f,p)}}0==l&&this.Canvas.stroke()},this.GetFirstOpen=function(){if(!this.MainData||!this.Data)return null;for(var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,i=0;e<this.MainData.Data.length&&i<t;++e,++i){var a=this.MainData.Data[e];if(null!=a.Open&&null!=a.High&&null!=a.Low&&null!=a.Close)return a.Open}return null},this.Draw=function(){if(this.TooltipRect=[],this.InfoTooltipRect=[],this.DrawKRange={Start:null,End:null},this.MainData&&this.Data){this.ChartFrame.XPointCount;var t=this.GetFirstOpen();if(null!=t){var e=this.DrawType;null!=this.CustomDrawType&&(e=this.CustomDrawType),this.Canvas.save(),this.ClipClient(this.ChartFrame.IsHScreen),1==e?this.DrawCloseLine(t):2==e?this.DrawAKLine(t):this.DrawKBar(t),this.Canvas.restore()}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={Max:null,Min:null};if(!this.MainData||!this.Data)return e;for(var i=null,a=this.Data.DataOffset,n=0;a<this.MainData.Data.length&&n<t;++a,++n)if(null!=(l=this.MainData.Data[a]).Open&&null!=l.High&&null!=l.Low&&null!=l.Close){i=l.Close;break}if(null==i)return e;var r,o,s=null;for(a=this.Data.DataOffset,n=0;a<this.Data.Data.length&&n<t;++a,++n){var l;(l=this.Data.Data[a])&&null!=l.Open&&null!=l.High&&null!=l.Low&&null!=l.Close&&(null==s&&(s=l.Open),r=l.High/s*i,o=l.Low/s*i,null==e.Max&&(e.Max=r),null==e.Min&&(e.Min=o),e.Max<r&&(e.Max=r),e.Min>o&&(e.Min=o))}return e},this.GetTooltipData=function(t,e,i){for(var a in this.TooltipRect){var n=this.TooltipRect[a][1];if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e)){var r=this.TooltipRect[a][0];return i.Data=this.Data.Data[r],i.ChartPaint=this,!0}}return!1},this.PtInChart=function(t,e){var i=this.DrawType;return Ce.IsNumber(this.CustomDrawType)&&(i=this.CustomDrawType),1==i||4==i?null:this.PtInKBar(t,e,{OverlayKLine:!0})},this.DrawSelectedStatus=function(){this.DrawLinePoint({OverlayKLine:!0})}};return a.Canvas=this.Canvas,a.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,a.ChartFrame=this.Frame.SubFrame[0].Frame,a.Name="Overlay-KLine",a.DrawType=this.KLineDrawType,a.Symbol=t,a.Identify="Overlay-KLine-"+t,e&&e.Color?a.Color=e.Color:a.Color=Qe.OverlaySymbol.Color[Qe.OverlaySymbol.Random%Qe.OverlaySymbol.Color.length],a.SetOption(e),++Qe.OverlaySymbol.Random,this.ChartPaint[0]&&this.ChartPaint[0].Data&&this.SourceData&&(a.MainData=this.ChartPaint[0].Data),this.OverlayChartPaint.push(a),mt.IsDayPeriod(this.Period,!0)?this.RequestOverlayHistoryData():mt.IsMinutePeriod(this.Period,!0)&&this.RequestOverlayHistoryMinuteData(),!0},this.RequestOverlayHistoryData=function(){var t=this;if(this.OverlayChartPaint.length&&this.SourceData&&this.SourceData.Data)for(var e=this,i=this.GetRequestDataCount(),a=this.SourceData.Data[0].Date,n=function(){var n=t.OverlayChartPaint[r];if(!n.MainData)return"continue";if(n.Status!=At.STATUS_NONE_ID)return"continue";var s=n.Symbol;return s?(n.Status=At.STATUS_REQUESTDATA_ID,t.NetworkFilter&&(o={Name:"KLineChartContainer::RequestOverlayHistoryData",Explain:"叠加股票日K线数据",Request:{Url:e.KLineApiUrl,Data:{symbol:s,count:i.MaxRequestDataCount,first:{date:a},field:["name","symbol","yclose","open","price","high","vol","amount"]},Type:"POST"},Self:t,PreventDefault:!1},t.NetworkFilter(o,function(t){n.Status=At.STATUS_RECVDATA_ID,e.RecvOverlayHistoryData(t,n)}),1==o.PreventDefault)?"continue":void C.HttpRequest({url:t.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high"],symbol:s,start:-1,count:i.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){n.Status=At.STATUS_RECVDATA_ID,e.RecvOverlayHistoryData(t,n)}})):"continue"},r=0;r<this.OverlayChartPaint.length;++r){var o;n()}},this.RecvOverlayHistoryData=function(t,e){if(!e.IsDelete){var i=ri.JsonDataToHistoryData(t),a=new mt;a.Data=i,a.DataType=0;var n=new mt;if(n.Data=i,n.Period=this.Period,n.Right=this.Right,n.DataType=0,n.Right>0&&Ii.IsSHSZStockA(t.symbol)&&!this.IsApiPeriod){var r=n.GetRightData(n.Right,{AlgorithmType:this.RightFormula});n.Data=r}var o=this.SourceData.GetOverlayData(n.Data,this.IsApiPeriod);if(n.Data=o,mt.IsDayPeriod(n.Period,!1)&&!this.IsApiPeriod){var s=n.GetPeriodData(n.Period);n.Data=s}e.Data=n,e.SourceData=a,e.Title=t.name,e.Symbol=t.symbol,e.Status=At.STATUS_FINISHED_ID,this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=1,this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}},this.RequestOverlayHistoryMinuteData=function(){var t=this;if(this.OverlayChartPaint.length&&this.SourceData&&this.SourceData.Data)for(var e=this,i=this.GetRequestDataCount(),a=this.SourceData.Data[0].Date,n=this.SourceData.Data[0].Time,r=function(){var r=t.OverlayChartPaint[o];if(!r.MainData)return"continue";if(r.Status!=At.STATUS_NONE_ID)return"continue";var l=r.Symbol;return l?(r.Status=At.STATUS_REQUESTDATA_ID,t.NetworkFilter&&(s={Name:"KLineChartContainer::RequestOverlayHistoryMinuteData",Explain:"叠加股票分钟K线数据",Request:{Url:e.MinuteKLineApiUrl,Data:{symbol:l,count:i.MaxRequestMinuteDayCount,first:{date:a,time:n},field:["name","symbol","yclose","open","price","high","vol","amount"]},Type:"POST"},Self:t,PreventDefault:!1},t.NetworkFilter(s,function(t){r.Status=At.STATUS_RECVDATA_ID,e.RecvOveralyHistoryMinuteData(t,r)}),1==s.PreventDefault)?"continue":void C.HttpRequest({url:t.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","vol","amount"],symbol:l,start:-1,count:i.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(t){r.Status=At.STATUS_RECVDATA_ID,e.RecvOveralyHistoryMinuteData(t,r)}})):"continue"},o=0;o<this.OverlayChartPaint.length;++o){var s;r()}},this.RecvOveralyHistoryMinuteData=function(t,e){if(this.EnableVerifyRecvData&&t.symbol!=e.Symbol)g.Chart.Warn("[MinuteChartContainer::RecvOveralyHistoryMinuteData] recv data symbol not match. paint["+e.Symbol+"] , Recv["+t.symbol+"]");else{var i=ri.JsonDataToMinuteHistoryData(t);if(i){var a=new mt;a.Data=i,a.DataType=1;var n=new mt;n.Data=i,n.Period=this.Period,n.Right=this.Right,n.DataType=1;var r=this.SourceData.GetOverlayMinuteData(n.Data,this.IsApiPeriod);if(n.Data=r,mt.IsMinutePeriod(n.Period,!1)&&!this.IsApiPeriod){var o=n.GetPeriodData(n.Period);n.Data=o}e.Data=n,e.SourceData=a,e.Title=t.name,e.Symbol=t.symbol,e.Status=At.STATUS_FINISHED_ID,this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=1,this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}},this.ResetOverlaySymbolStatus=function(){for(var t in this.OverlayChartPaint){this.OverlayChartPaint[t].Status=At.STATUS_NONE_ID}},this.ClearOverlaySymbol=function(){for(var t in this.OverlayChartPaint){this.OverlayChartPaint[t].IsDelete=!0}this.OverlayChartPaint=[],this.TitlePaint[0].OverlayChartPaint=this.OverlayChartPaint,this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=0,this.UpdateFrameMaxMin(),this.Draw()},this.DeleteOverlaySymbol=function(t){for(var e in this.OverlayChartPaint){var i=this.OverlayChartPaint[e];if(i.Symbol===t)return i.IsDelete=!0,this.OverlayChartPaint.splice(e,1),this.OverlayChartPaint.length<=0&&(this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=0),this.UpdateFrameMaxMin(),this.Draw(),!0}return console.warn("[KLineChartContainer::DeleteOverlaySymbol] overlay symbol="+t+" not exist."),!1},this.RequestFlowCapitalData=function(){if(this.Symbol&&1!=this.FlowCapitalReady){var t=this.Symbol.toUpperCase(),e=!0;if((Ii.IsBIT(t)||Ii.IsFutures(t))&&(e=!1),this.EnableFlowCapital&&Ii.IsBIT(t)&&1==this.EnableFlowCapital.BIT&&(e=!0),!e)return g.Chart.Log("[KLineChartContainer::RequestFlowCapitalData] symbol="+this.Symbol+" not need download data."),void(this.FlowCapitalReady=!0);var i=this,a=["name","date","symbol","capital.a"];if(this.NetworkFilter){var n={Name:"KLineChartContainer::RequestFlowCapitalData",Explain:"流通股本数据",Request:{Url:i.StockHistoryDayApiUrl,Data:{symbol:[this.Symbol],orderfield:"date",field:a},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(n,function(t){i.RecvFlowCapitalData(t)}),1==n.PreventDefault)return}C.HttpRequest({url:this.StockHistoryDayApiUrl,data:{field:a,symbol:[this.Symbol],orderfield:"date"},type:"post",dataType:"json",async:!0,success:function(t){i.RecvFlowCapitalData(t)}})}},this.RecvFlowCapitalData=function(t){if(t.stock&&1==t.stock.length){var e=t.stock[0];if(this.EnableVerifyRecvData&&e.symbol!=this.Symbol)g.Chart.Warn("[MinuteChartContainer::RecvHistoryMinuteData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+e.symbol+"]");else{var i=new Array;for(var a in e.stockday){var n=e.stockday[a],r=new ut;r.Date=n.date;var o=n.capital;o&&(o.a>0&&(r.Value=o.a,i.push(r)))}if(this.IsApiPeriod){var s=this.ChartPaint[0].Data,l=null;if(mt.IsMinutePeriod(this.Period,!0)?l=s.GetMinuteFittingFinanceData(i):mt.IsDayPeriod(this.Period,!0)&&(l=s.GetFittingFinanceData(i)),l&&s.Data&&l.length==s.Data.length)for(var h in s.Data){n=s.Data[h];l[h]&&Ce.IsNumber(l[h].Value)&&(n.FlowCapital=l[h].Value)}}else if(mt.IsMinutePeriod(this.Period,!0)){l=this.SourceData.GetMinuteFittingFinanceData(i);for(var u in this.SourceData.Data){n=this.SourceData.Data[u];l[u]&&Ce.IsNumber(l[u].Value)&&(n.FlowCapital=l[u].Value)}var c=this.ChartPaint[0].Data;if((p=new mt).Data=this.SourceData.Data,mt.IsMinutePeriod(c.Period,!1)){var d=p.GetPeriodData(c.Period);p.Data=d}c.Data=p.Data}else{l=this.SourceData.GetFittingFinanceData(i);for(var f in this.SourceData.Data){n=this.SourceData.Data[f];l[f]&&Ce.IsNumber(l[f].Value)&&(n.FlowCapital=l[f].Value)}var p;c=this.ChartPaint[0].Data;if((p=new mt).Data=this.SourceData.Data,c.Right>0){var m=p.GetRightData(c.Right,{AlgorithmType:this.RightFormula});p.Data=m}if(mt.IsDayPeriod(c.Period,!1)){d=p.GetPeriodData(c.Period);p.Data=d}c.Data=p.Data}this.FlowCapitalReady=!0;var v=!1;for(var h in this.ExtendChartPaint){if("StockChip"==(n=this.ExtendChartPaint[h]).ClassName){v=!0;break}}v&&this.Draw()}}},this.CreateChartDrawPicture=function(t,e,i){var a=null,n=He.GetDrawPictureByName(t);if(n&&("ChartDrawPictureText"!=(a=n.Create()).ClassName&&"ChartDrawVolProfile"!=a.ClassName||(a.HQChart=this)),!a&&He.MapIonFont.has(t)){var r=He.MapIonFont.get(t);(a=new Xe).FontOption.Family=r.Family,a.Text=r.Text,r.Color&&(a.LineColor=r.Color)}if(!a)return!1;a.Canvas=this.Canvas,a.Status=0,a.Symbol=this.Symbol,a.Period=this.Period,a.Right=this.Right,a.Option=this.ChartDrawOption,i&&(a.FinishedCallback=i),e&&a.SetOption(e);var o=this;return a.Update=function(){o.DrawDynamicInfo()},a.GetActiveDrawPicture=function(){return o.GetActiveDrawPicture()},this.CurrentChartDrawPicture=a,!0},this.AddChartDrawPicture=function(t){if(!t)return null;if(t.FrameID<0||t.FrameID>=this.Frame.SubFrame.length)return null;var e=He.GetDrawPictureByClassName(t.ClassName);if(!e)return null;var i=e.Create();return i.Canvas=this.Canvas,i.Status=10,i.Frame=this.Frame.SubFrame[t.FrameID].Frame,i.Symbol=this.Symbol,i.Period=this.Period,i.Right=this.Right,t.Value&&(i.Value=t.Value),i.ImportStorageData&&i.ImportStorageData(t),i.SetOption(t),t.EnableUpdateXValue&&i.UpdateXValue(),i.ValueToPoint(),"ChartDrawPictureText"===i.ClassName&&(i.IsInitialized=!0),this.ChartDrawPicture.push(i),this.DrawDynamicInfo(),i},this.MoveChartDrawPicture=function(t,e,i){var a=this.CurrentChartDrawPicture;if(!a)return!1;var n=L();i&&(n=1);var r=t*n,o=e*n;return a.Move(r,o),!0},this.UpdateChartDrawXValue=function(){for(var t in this.ChartDrawPicture){this.ChartDrawPicture[t].UpdateXValue()}},this.OnRightMenu=function(t,e,i){var a=L();if(this.RightMenu){var n=this.Frame.PtInFrame(t*a,e*a);i.data={Chart:this,FrameID:n},this.RightMenu.DoModal(i)}var r=this.GetEventCallback(b.ON_CONTEXT_MENU);if(r){var o={X:t,Y:e,Event:i,FrameID:n=this.Frame.PtInFrame(t*a,e*a)};r.Callback(r,o,this)}},this.ReloadChartDrawPicture=function(){if(this.ChartDrawPicture=[],this.ChartDrawStorageCache,this.ChartDrawStorage){this.ChartDrawStorageCache=this.ChartDrawStorage.GetDrawData({Symbol:this.Symbol,Period:this.Period});var t=this.GetEventCallback(b.ON_LOAD_DRAWPICTURE);if(t&&t.Callback){var e={Symbol:this.Symbol,Period:this.Period,DrawStorage:this.ChartDrawStorage,ChartDrawStorageCache:this.ChartDrawStorageCache};t.Callback(t,e,this)}}},this.CreateChartDrawPictureByStorage=function(){if(this.ChartDrawStorageCache&&!(this.ChartDrawStorageCache.length<=0)){for(var t in this.ChartDrawStorageCache){var e=this.ChartDrawStorageCache[t];if(!(e.FrameID<0||!this.Frame.SubFrame||this.Frame.SubFrame.length<e.FrameID)){var i=He.CreateChartDrawPicture(e);if(i){i.Canvas=this.Canvas,i.Status=10,i.Frame=this.Frame.SubFrame[e.FrameID].Frame,i.ImportStorageData&&i.ImportStorageData(e),i.UpdateXValue(),i.ValueToPoint();var a=this;i.GetActiveDrawPicture=function(){return a.GetActiveDrawPicture()},"ChartDrawPictureText"===i.ClassName&&(i.IsInitialized=!0),this.ChartDrawPicture.push(i)}}}this.ChartDrawStorageCache=null}},this.RequestKLineMatch=function(t,e){var i=this,a=e.Scope,n=e.WaitDialog;g.Chart.Log("[KLineChartContainer::RequestKLineMatch",t,a);for(var r=new Array,o=new Array,s=t.Start;s<t.End&&s<t.Data.Data.length;++s){var l=t.Data.Data[s];r.push(l.Date),o.push(l.Close)}var h={Stock:t.Stock,Index:{Start:t.Start,End:t.End},Date:{Start:r[0],End:r[r.length-1]},Minsimilar:a.Minsimilar,Plate:a.Plate,DayRegion:300};m.default.ajax({url:this.KLineMatchUrl,data:{userid:"guest",plate:a.Plate,period:this.Period,right:this.Right,dayregion:h.DayRegion,minsimilar:a.Minsimilar,sampledate:r,samplevalue:o},type:"post",dataType:"json",async:!0,success:function(t){n&&n.Close(),i.RecvKLineMatchData(t,h)},error:function(t,e,i){console.warn("[KLineChartContainer::RequestKLineMatch] failed",t,e,i),n&&n.Close()}})},this.RecvKLineMatchData=function(t,e){g.Chart.Log("[KLineChartContainer::RecvKLineMatchData] recv",t,e);var i=[];for(var a in t.match){if((s=t.match[a]).symbol!=e.Stock.Symbol)for(var n in s.data){var r=s.data[n],o={Symbol:s.symbol,Name:s.name,Similar:r.similar,Start:r.start,End:r.end};i.push(o)}}if(i.sort(function(t,e){return e.Similar-t.Similar}),g.Chart.Log("[KLineChartContainer::RecvKLineMatchData] filterData",i),this.mapEvent.has(b.RECV_KLINE_MATCH)){var s;t={Sample:e,Match:i,Source:t};(s=this.mapEvent.get(b.RECV_KLINE_MATCH)).Callback(s,t,this)}else{var l=new function(t){this.newMethod=yi,this.newMethod(t),delete this.newMethod,this.MatchData,this.Sample,this.Dialog,this.HQChart,this.PageData,this.Close=function(){this.DivElement.removeChild(this.Dialog)},this.Create=function(){this.ID=P();var t=document.createElement("div");t.className="jchart-kline-match-box",t.id=this.ID,t.innerHTML="<div class='parameter jchart-kline-match-box'>\n            <div class='parameter-header'>\n                <span>形态匹配</span>\n                <strong id='close' class='icon iconfont icon-close'></strong>\n            </div>\n            <div class='parameter-content'>\n                <p class='dataCount'></p>\n                <table class='matchTable'>\n                    <thead>\n                        <tr>\n                            <td>股票名称</td>\n                            <td>匹配度</td>\n                            <td>时间段</td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    </tbody>\n                </table>\n                <div class='pagination' data-current='1'></div>\n            </div>\n            <div class='parameter-footer'>\n                <button id='close' class='submit' >确定</button>\n            </div>\n        </div>".trim(),this.DivElement.appendChild(t),this.Dialog=t,(0,m.default)("#"+this.ID+" #close").click({divBox:this},function(t){t.data.divBox.Close()})},this.BindData=function(){g.Chart.Log("[KLineMatchDialog::BindData] 形态源: "+this.Sample.Stock.Name+" 区间:"+this.Sample.Date.Start+" - "+this.Sample.Date.End);var t=this.MatchData.length+1,e={NewData:{},MetaData:[],PageCount:0,Count:t},i=0;(0,m.default)("#"+this.ID+" .dataCount").html("个数："+t);for(var a=0;a<t;a++){var n={};if(0==a)n={Symbol:this.Sample.Stock.Symbol,Name:this.Sample.Stock.Name,Rate:"形态源",Color:"red",Date:this.Sample.Date.Start+"-"+this.Sample.Date.End};else{var r=this.MatchData[a-1];n={Symbol:r.Symbol,Name:r.Name,Rate:Number(100*r.Similar).toFixed(2),Color:"",Date:r.Start+"-"+r.End}}e.MetaData.push(n)}i=e.Count%10==0?e.Count/10:Math.floor(e.Count/10)+1,e.PageCount=i,this.PaginationMetaData(e),this.PageData=e,g.Chart.Log("[KLineMatchDialog::DoModal pageData]",e),this.RenderDom(1),this.PaginationInit("#"+this.ID,e.PageCount,this.paginationCallback)},this.RenderDom=function(t){var e=this.PageData.NewData[t];g.Chart.Log("[KLineMatchDialog::RenderDom currentPageData]",e);for(var i="",a=0;a<e.length;a++)i+=("<tr>\n                        <td class="+e[a].Color+">"+e[a].Name+"</td>\n                        <td class="+e[a].Color+">"+e[a].Rate+"</td>\n                        <td class="+e[a].Color+">"+e[a].Date+"</td>\n                    </tr>").trim();(0,m.default)("#"+this.ID+" .matchTable tbody").html(i)};var e=this;this.paginationCallback=function(t){e.RenderDom(t),e.PaginationInit("#"+e.ID,e.PageData.PageCount,e.paginationCallback)},this.PaginationInit=function(t,e,i){var a="",n=(0,m.default)(t+" .pagination").data("current"),r=0;if(n<5)if(e>=5)for(var o=0;o<5;o++)a+=o+1!=n?"<span>"+(o+1)+"</span>":"<span class='active'>"+(o+1)+"</span>";else for(var o=0;o<e;o++)a+=o+1!=n?"<span>"+(o+1)+"</span>":"<span class='active'>"+(o+1)+"</span>";else{r=n+1>e?n:n+1;for(var s=n-3;s<=r;s++)a+=s!=n?"<span>"+s+"</span>":"<span class='active'>"+s+"</span>"}a="<span class='beforePage'>上一页</span>"+a+"<span class='nextPage'>下一页</span>",(0,m.default)(t+" .pagination").html(a),(0,m.default)(t+" .pagination span").bind("click",{maxpage:e,Callback:i},this.PaginationCurrentIndex)},this.PaginationCurrentIndex=function(t){var e=(0,m.default)(this).text();g.Chart.Log("[::PaginationCurrentIndex text]",e);var i=Number((0,m.default)(this).parent().data("current")),a=t.data.maxpage,n=t.data.Callback,r=1;r="上一页"===e?1===i?i:i-1:"下一页"===e?i===a?i:i+1:Number(e),(0,m.default)(this).parent().data("current",r),n(r)},this.PaginationMetaData=function(t){for(var e={},i=t.MetaData,a=t.PageCount,n=0;n<a;n++){for(var r=[],o=0;o<10;o++){var s=10*n+o;if(!(s<=i.length-1))break;var l=i[s];r.push(l)}e[n+1]=r}t.NewData=e},this.DoModal=function(t){var e=t.data.Chart;null==this.ID&&this.Create(),this.MatchData=t.data.MatchData,this.Sample=t.data.Sample,this.HQChart=e,this.BindData();var i=e.Frame.ChartBorder,a=(N(),i.GetWidth()/2),n=i.GetHeight()/2;this.Show(a,n,200,200)}}(this.Frame.ChartBorder.UIElement.parentNode),h={data:{Chart:this,MatchData:i,Sample:e,Source:t}};l.DoModal(h)}},this.UpdataChartInfo=function(){var t=null;if(0==this.Period)for(var e in t=new p.default,this.ChartInfo){var i=this.ChartInfo[e].Data;for(var a in i){var n=i[a];t.has(n.Date.toString())?t.get(n.Date.toString()).Data.push(n):t.set(n.Date.toString(),{Data:new Array(n)})}}else if(mt.IsDayPeriod(this.Period,!1)){t=new p.default;var r=this.ChartPaint[0].Data;if(r&&r.Data&&r.Data.length>0){var o=r.Data[0],s=[];for(var e in this.ChartInfo){var l=this.ChartInfo[e];for(var a in l.Data){(n=l.Data[a]).Date>=o.Date&&s.push(n)}}s.sort(function(t,e){return t.Date-e.Date});for(e=0;e<r.Data.length;){var h=r.Data[e];if(s.length<=0)break;l=s[0];h.Date<l.Date?++e:(t.has(h.Date.toString())?t.get(h.Date.toString()).Data.push(l):t.set(h.Date.toString(),{Data:new Array(l)}),s.shift())}}}this.ChartPaint[0].InfoData=t},this.UpdateWindowIndex=function(t){var e=new mt;if(e.Data=this.SourceData.Data,e.Period=this.Period,e.Right=this.Right,this.IsApiPeriod);else{if(e.Right>0){var i=e.GetRightData(e.Right,{AlgorithmType:this.RightFormula});e.Data=i}if(mt.IsDayPeriod(e.Period,!1)||mt.IsMinutePeriod(e.Period,!1)){var a=e.GetPeriodData(e.Period);e.Data=a}}if("function"==typeof this.WindowIndex[t].ExecuteScript){var n=this.ChartPaint[0].Data;this.WindowIndex[t].ExecuteScript(this,t,n)}else if("function"==typeof this.WindowIndex[t].RequestData){n=this.ChartPaint[0].Data;this.WindowIndex[t].RequestData(this,t,n,null)}else this.WindowIndex[t].BindData(this,t,e);this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.GetOverlayIndexByIdentify=function(t){for(var e=0;e<this.Frame.SubFrame.length;++e){var i=this.Frame.SubFrame[e];if(Ce.IsNonEmptyArray(i.OverlayIndex))for(var a=0;a<i.OverlayIndex.length;++a){var n=i.OverlayIndex[a];if(n.Identify===t)return{OverlayItem:n,WindowIndex:e}}}return null},this.UpdateOverlayIndex=function(t){var e=this.GetOverlayIndexByIdentify(t);if(null!=e){if(this.ChartPaint[0]){var i=this.ChartPaint[0].Data;i&&this.BindOverlayIndexData(e.OverlayItem,e.WindowIndex,i)}}else console.warn("[KLineChartContainer::UpdateOverlayIndex] can't find overlay index. [identify="+t+"]")},this.ChangeWindowIndexParam=function(t){this.WindowIndex[t].Index[0].Param+=1,this.WindowIndex[t].Index[1].Param+=1,this.UpdateWindowIndex(t)},this.OnDoubleClick=function(t,e,i){if(this.EnableYDrag&&(this.EnableYDrag.Left||this.EnableYDrag.Right)&&this.Frame&&this.Frame.PtInFrameY){var a=L(),n=(t=(i.clientX-this.UIElement.getBoundingClientRect().left)*a,e=(i.clientY-this.UIElement.getBoundingClientRect().top)*a,this.Frame.PtInFrameY(t,e));n&&n.Index>=0&&0==n.IsOverlay&&this.CancelZoomUpDownFrameY(n)}var r;this.SelectedChart.EnableSelected&&(r=this.PtInChart(t,e));var o={SelectedChart:r};if(this.DBClickEvent(o,i),!r&&this.EnableZoomIndexWindow){var s=this.Frame.PtInFrame(t,e);if(g.Chart.Log("[KLineChartContainer::OnDoubleClick] frameId",s),s>=this.Frame.ZoomStartWindowIndex&&this.ZoomIndexWindow(s,{X:t,Y:e}))return this.Frame.SetSizeChage(!0),this.Draw(),!0}var l=null;if(this.mapEvent.has(b.DBCLICK_KLINE)&&(l=this.mapEvent.get(b.DBCLICK_KLINE)),this.MinuteDialog||l){var h=new St;if(this.PtInChartPaintTooltip(t,e,h)&&h.Data){if(l){null!=this.ClickChartTimer&&(clearTimeout(this.ClickChartTimer),this.ClickChartTimer=null);var u={Tooltip:h,Stock:{Symbol:this.Symbol,Name:this.Name},X:i.clientX,Y:i.clientY};l.Callback(l,u,this)}this.MinuteDialog&&(i.data={Chart:this,Tooltip:h},this.MinuteDialog.DoModal(i))}}},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=void 0)},this.AutoUpdate=function(t){if(this.CancelAutoUpdate(),this.IsAutoUpdate&&this.Symbol){var e=this,i=Ii.GetMarketStatus(this.Symbol);if(0!=i&&3!=i){var a=this.AutoUpdateFrequency;1==i?this.AutoUpdateTimer=setTimeout(function(){e.AutoUpdate()},a):2==i&&(this.AutoUpdateTimer=setTimeout(function(){mt.IsDayPeriod(e.Period,!0)?e.RequestRealtimeData():mt.IsMinutePeriod(e.Period,!0)||mt.IsSecondPeriod(e.Period)?e.RequestMinuteRealtimeData():mt.IsTickPeriod(e.Period)&&e.RequestTickRealtimeData()},a))}else this.AutoUpdateTimer=setTimeout(function(){e.AutoUpdate()},2e4)}},this.GetMaxMinPageSize=function(){var t={},e=this.Frame.ChartBorder.GetWidth(),i=wt[wt.length-1][0]+wt[wt.length-1][1];return t.Max=parseInt(e/i)-2,i=wt[0][0]+wt[0][1],t.Min=parseInt(e/i)-2,g.Chart.Log("[KLineChartContainer::GetMaxMinPageSize] Max="+t.Max+" Min="+t.Min),t},this.GetChartStatus=function(){var t=this.Frame.SubFrame[0].Frame;if(!t)return null;var e=t.Data;if(!e)return null;var i={KLine:{},Zoom:{}};return i.KLine.Count=e.Data.length,i.KLine.Offset=e.DataOffset,i.KLine.PageSize=t.XPointCount,i.Zoom.Index=t.ZoomIndex,i.Zoom.Max=wt.length,i},this.DragDownloadData=function(){var t=null;if(!(t=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data))return!1;if(!(t.DataOffset>0))if(mt.IsMinutePeriod(this.Period,!0)||mt.IsSecondPeriod(this.Period)){if(g.Chart.Log("[KLineChartContainer.DragDownloadData] Minute:[Enable="+this.DragDownload.Minute.Enable+", IsEnd="+this.DragDownload.Minute.IsEnd+", Status="+this.DragDownload.Minute.Status+", Period="+this.Period+"]"),!this.DragDownload.Minute.Enable)return;if(this.DragDownload.Minute.IsEnd)return;if(0!=this.DragDownload.Minute.Status)return;this.RequestDragMinuteData()}else if(mt.IsDayPeriod(this.Period,!0)){if(g.Chart.Log("[KLineChartContainer.DragDownloadData] Day:[Enable="+this.DragDownload.Minute.Enable+", IsEnd="+this.DragDownload.Minute.IsEnd+", Status="+this.DragDownload.Minute.Status+"]"),!this.DragDownload.Day.Enable)return;if(this.DragDownload.Day.IsEnd)return;if(0!=this.DragDownload.Day.Status)return;this.RequestDragDayData()}else if(mt.IsTickPeriod(this.Period)){if(g.Chart.Log("[KLineChartContainer.DragDownloadData] Tick:[Enable="+this.DragDownload.Tick.Enable+", IsEnd="+this.DragDownload.Tick.IsEnd+", Status="+this.DragDownload.Tick.Status+"]"),!this.DragDownload.Tick.Enable)return;if(this.DragDownload.Tick.IsEnd)return;if(0!=this.DragDownload.Tick.Status)return;this.RequestDragTickData()}},this.RequestDragTickData=function(){g.Chart.Log("[KLineChartContainer.RequestDragTickData] not finished.")},this.RequestDragMinuteData=function(){var t=this;this.AutoUpdateEvent(!1,"KLineChartContainer::RequestDragMinuteData"),this.CancelAutoUpdate();var e=this.DragDownload.Minute;e.Status=1;var i=this.SourceData.Data[0],a={field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,enddate:i.Date,endtime:i.Time,count:t.MaxRequestMinuteDayCount,first:{date:i.Date,time:i.Time}};if(Ce.IsNonEmptyArray(this.OverlayChartPaint)){a.overlay=[];for(var n=0;n<this.OverlayChartPaint.length;++n){var r=this.OverlayChartPaint[n];a.overlay.push({symbol:r.Symbol})}}if(this.NetworkFilter){var o={Name:"KLineChartContainer::RequestDragMinuteData",Explain:"拖拽分钟|秒K线数据下载",Request:{Url:this.DragMinuteKLineApiUrl,Type:"POST",Data:a,Period:this.Period,Right:this.Right},DragDownload:e,Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(i){t.RecvDragMinuteData(i),e.Status=0,t.AutoUpdateEvent(!0,"KLineChartContainer::RequestDragMinuteData"),t.AutoUpdate()}),1==o.PreventDefault)return}C.HttpRequest({url:this.DragMinuteKLineApiUrl,data:a,type:"post",dataType:"json",async:!0,success:function(i){t.RecvDragMinuteData(i),e.Status=0,t.AutoUpdateEvent(!0,"KLineChartContainer::RequestDragMinuteData"),t.AutoUpdate()}})},this.RecvDragMinuteData=function(t){var e=ri.JsonDataToMinuteHistoryData(t);if(!e||e.length<=0)this.DragDownload.Minute.IsEnd=!0;else{for(var i=this.GetHistoryDataCount(),a=this.SourceData.Data[0],n=null,r=e.length-1;r>=0;--r){var o=e[r];if(a.Date>o.Date||a.Date==o.Date&&a.Time>o.Time){n=r;break}if(a.Date==o.Date&&a.Time==o.Time){a.YClose=o.YClose,n=r-1;break}}if(!(null==n&&n<0)){for(r=0;r<e.length&&r<=n;++r){o=e[r];this.SourceData.Data.splice(r,0,o)}var s=new mt;if(s.Data=this.SourceData.Data,s.Period=this.Period,s.Right=this.Right,s.DataType=this.SourceData.DataType,s.Symbol=this.Symbol,!this.IsApiPeriod&&(mt.IsDayPeriod(s.Period,!1)||mt.IsMinutePeriod(s.Period,!1))){var l=s.GetPeriodData(s.Period);s.Data=l}var h=this.GetKLineCalulate();if(h)s=h.RecvHistoryData(s,{Symbol:this.Symbol,Function:"RecvDragMinuteData"}),this.FlowCapitalReady=!0;this.UpdateMainData(s,i),this.UpdateOverlayDragMinuteData(t),this.BindInstructionIndexData(s);for(r=0;r<this.Frame.SubFrame.length;++r)this.BindIndexData(r,s);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.UpdateChartDrawXValue(),this.Draw(),this.BindAllOverlayIndexData(s)}}},this.UpdateOverlayDragMinuteData=function(t){if(Ce.IsNonEmptyArray(this.OverlayChartPaint)){var e=t.overlay;if(Ce.IsNonEmptyArray(e))for(var i=0;i<this.OverlayChartPaint.length;++i){var a=this.OverlayChartPaint[i];if(a.Symbol&&(a.MainData&&a.Status==At.STATUS_FINISHED_ID)){for(var n=null,r=0;r<e.length;++r){var o=e[r];if(o.symbol==a.Symbol){n=o;break}}if(n){var s=ri.JsonDataToMinuteHistoryData(n),l=a.SourceData,h=l.Data[0],u=null;for(r=s.length-1;r>=0;--r){var c=s[r];if(h.Date>c.Date){u=r;break}if(h.Date==c.Date&&h.Time>c.Time){u=r;break}if(h.Date==c.Date&&h.Time==c.Time){h.YClose=c.YClose,u=r-1;break}}if(!(null==u&&u<0)){for(r=0;r<s.length&&r<=u;++r){c=s[r];l.Data.splice(r,0,c)}var d=new mt;d.Data=l.Data,d.Period=this.Period,d.Right=this.Right,d.DataType=0;var f=this.SourceData.GetOverlayMinuteData(d.Data,this.IsApiPeriod);if(d.Data=f,mt.IsMinutePeriod(d.Period,!1)&&!this.IsApiPeriod){var p=d.GetPeriodData(d.Period);d.Data=p}a.Data=d}}}}}},this.RequestDragDayData=function(){var t=this;this.AutoUpdateEvent(!1,"KLineChartContainer::RequestDragDayData"),this.CancelAutoUpdate();var e=this.DragDownload.Day;e.Status=1;var i=this.SourceData.Data[0],a={field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,enddate:i.Date,count:t.MaxRequestDataCount,first:{date:i.Date}};if(Ce.IsNonEmptyArray(this.OverlayChartPaint)){a.overlay=[];for(var n=0;n<this.OverlayChartPaint.length;++n){var r=this.OverlayChartPaint[n];a.overlay.push({symbol:r.Symbol})}}if(this.NetworkFilter){var o={Name:"KLineChartContainer::RequestDragDayData",Explain:"拖拽日K数据下载",Request:{Url:this.DragKLineApiUrl,Type:"POST",Data:a,Period:this.Period,Right:this.Right},DragDownload:e,Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(i){t.RecvDragDayData(i),e.Status=0,t.AutoUpdateEvent(!0,"KLineChartContainer::RequestDragDayData"),t.AutoUpdate()}),1==o.PreventDefault)return}C.HttpRequest({url:this.DragKLineApiUrl,data:a,type:"post",dataType:"json",async:!0,success:function(i){t.RecvDragDayData(i),e.Status=0,t.AutoUpdateEvent(!0,"KLineChartContainer::RequestDragDayData"),t.AutoUpdate()}})},this.RecvDragDayData=function(t){var e=ri.JsonDataToHistoryData(t);if(!e||e.length<=0)return this.DragDownload.Day.IsEnd=!0,void g.Chart.Log("[KLineChartContainer.RecvDragDayData] "+this.Symbol+" data end.");for(var i=this.GetHistoryDataCount(),a=this.SourceData.Data[0],n=null,r=e.length-1;r>=0;--r){var o=e[r];if(a.Date>o.Date){n=r;break}if(a.Date==o.Date){a.YClose=o.YClose,n=r-1;break}}if(!(null==n&&n<0)){for(r=0;r<e.length&&r<=n;++r){o=e[r];this.SourceData.Data.splice(r,0,o)}var s=new mt;if(s.Data=this.SourceData.Data,s.Period=this.Period,s.Right=this.Right,s.DataType=this.SourceData.DataType,s.Symbol=this.Symbol,!this.IsApiPeriod&&(mt.IsDayPeriod(s.Period,!1)||mt.IsMinutePeriod(s.Period,!1))){var l=s.GetPeriodData(s.Period);s.Data=l}var h=this.GetKLineCalulate();if(h)s=h.RecvHistoryData(s,{Symbol:this.Symbol,Function:"RecvDragDayData"}),this.FlowCapitalReady=!0;this.UpdateMainData(s,i),this.UpdateOverlayDragDayData(t),this.BindInstructionIndexData(s);for(r=0;r<this.Frame.SubFrame.length;++r)this.BindIndexData(r,s);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.UpdateChartDrawXValue(),this.Draw(),this.ReqeustKLineInfoData({FunctionName:"RecvDragDayData",StartDate:a.Date}),this.BindAllOverlayIndexData(s)}},this.UpdateOverlayDragDayData=function(t){if(Ce.IsNonEmptyArray(this.OverlayChartPaint)){var e=t.overlay;if(Ce.IsNonEmptyArray(e))for(var i=0;i<this.OverlayChartPaint.length;++i){var a=this.OverlayChartPaint[i];if(a.Symbol&&(a.MainData&&a.Status==At.STATUS_FINISHED_ID)){for(var n=null,r=0;r<e.length;++r){var o=e[r];if(o.symbol==a.Symbol){n=o;break}}if(n){var s=ri.JsonDataToHistoryData(n),l=a.SourceData,h=l.Data[0],u=null;for(r=s.length-1;r>=0;--r){var c=s[r];if(h.Date>c.Date){u=r;break}if(h.Date==c.Date){h.YClose=c.YClose,u=r-1;break}}if(!(null==u&&u<0)){for(r=0;r<s.length&&r<=u;++r){c=s[r];l.Data.splice(r,0,c)}var d=new mt;if(d.Data=l.Data,d.Period=this.Period,d.Right=this.Right,d.DataType=0,d.Right>0&&Ii.IsSHSZStockA(n.symbol)&&!this.IsApiPeriod){var f=d.GetRightData(d.Right,{AlgorithmType:this.RightFormula});d.Data=f}var p=this.SourceData.GetOverlayData(d.Data,this.IsApiPeriod);if(d.Data=p,mt.IsDayPeriod(d.Period,!1)&&!this.IsApiPeriod){var m=d.GetPeriodData(d.Period);d.Data=m}a.Data=d}}}}}},this.SetCustomVerical=function(t,e){if(this.Frame&&!(t>=this.Frame.SubFrame.length)){var i=this.Frame.SubFrame[t];i.Frame&&(i.Frame.CustomVerticalInfo=e)}},this.OnSize=function(){if(this.Frame&&this.Frame.OnSize){var t=this.Frame.OnSize();this.Frame.SetSizeChage(!0),t.Changed&&(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(2),this.UpdateFrameMaxMin()),this.Draw()}},this.ClickFrameButton=function(t,e){var i=this.GetEventCallback(b.ON_CLICK_FRAME_TOOLBAR);if(i&&i.Callback){var a={Info:t,PreventDefault:!1};if(i.Callback(i,a,this),a.PreventDefault)return}if(t.ID==E.CLOSE_OVERLAY_INDEX)(n=t.IndexID)&&this.DeleteOverlayWindowsIndex(n);else if(t.ID==E.MODIFY_OVERLAY_INDEX_PARAM){var n=t.IndexID,r=t.Frame;e.data={Chart:this,Identify:n,IsOverlay:!0},r.ModifyIndexEvent&&r.ModifyIndexEvent(e)}else if(t.ID==E.CLOSE_INDEX_WINDOW){r=t.Frame;this.RemoveIndexWindow(r.Identify)}else if(t.ID==E.CHANGE_INDEX){r=t.Frame;e.data={Chart:this,Identify:r.Identify,IsOverlay:!1},r.ChangeIndexEvent&&r.ChangeIndexEvent(e)}else if(t.ID==E.MODIFY_INDEX_PARAM){r=t.Frame;e.data={Chart:this,Identify:r.Identify,IsOverlay:!1},r.ModifyIndexEvent&&r.ModifyIndexEvent(e)}else if(t.ID==E.OVERLAY_INDEX){r=t.Frame;e.data={Chart:this,Identify:r.Identify,IsOverlay:!0},r.ChangeIndexEvent&&r.ChangeIndexEvent(e)}else if(t.ID==E.MAX_MIN_WINDOW){n=t.IndexID,r=t.Frame;(o=t.FrameID)>=this.Frame.ZoomStartWindowIndex&&this.ZoomIndexWindow(o,null)&&(this.Frame.SetSizeChage(!0),this.Draw())}else if(t.ID==E.TITLE_WINDOW){n=t.IndexID,r=t.Frame;var o=t.FrameID;this.ShowIndexTitleOnly(o)&&(this.Frame.SetSizeChage(!0),this.Draw())}},this.ClickExtendChartButton=function(t,e){t.ID==E.CHIP_DEFULT?(t.Chart.ShowType=0,this.Draw()):t.ID==E.CHIP_LONG?(t.Chart.ShowType=1,this.Draw()):t.ID==E.CHIP_RECENT&&(t.Chart.ShowType=2,this.Draw())},this.RequestVolumeProfileData=function(t){var e=this,i=t.Chart;if(this.NetworkFilter){var a={Name:"KLineChartContainer::RequestVolumeProfileData",Explain:"成交量分布图下载",Request:{Period:this.Period,Right:this.Right,Start:t.Start,End:t.End,Symbol:this.Symbol,ValueAreaVol:t.ValueAreaVol},Self:this,VolProfile:i,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvVolumeProfileData(t,i)}),1==a.PreventDefault)return}},this.RecvVolumeProfileData=function(t,e){e.OnRecvVolumeProfileData(t),this.Draw()}}function oi(t){this.newMethod=_,this.newMethod(t),delete this.newMethod,this.ClassName="MinuteChartContainer",this.WindowIndex=new Array,this.Symbol,this.Name,this.SourceData,this.IndexBindData,this.IsAutoUpdate=!0,this.AutoUpdateFrequency=3e4,this.AutoUpdateTimer,this.TradeDate=0,this.DayCount=1,this.DayData,this.LimitPrice,this.IsShowBeforeData=!1,this.BeforeOpenData=null,this.IsBeforeData=!1,this.IsShowAfterData=!1,this.AfterCloseData=null,this.IsAfterData=!1,this.ShareAfterVol=0,this.ExtendWidth={Left:120,Right:120},this.IsShowLead=!0,this.IsShowMultiDayBeforeData=!1,this.MultiDayBeforeOpenData=null,this.IsShowMultiDayAfterData=!1,this.MultiDayAfterCloseData=null,this.MultiDayExtendWidth={Left:20,Right:20},this.ChartDrawStorage=new qe,this.ChartDrawStorageCache=null,this.MinuteApiUrl=Qe.Domain+"/API/Stock",this.HistoryMinuteApiUrl=Qe.Domain+"/API/StockMinuteData",this.ColorLineData,this.EnableSelectRect=!1,this.SelectRectDialog=null,this.CorssCursorIndex={DayIndex:-1,DataIndex:-1,Point:{X:-1,Y:-1},Type:-1},this.EnableNewIndex=!1,this.DayOffset={Offset:0,ShowDayCount:-1,DataOffset:0,DayCount:1},this.PageInfo={Enable:!1,Offset:-8888,ShowDayCount:4},this.SetCallCationDataBorder=function(t){if(t){var e={Left:t.Left?this.ExtendWidth.Left:0,Right:t.Right?this.ExtendWidth.Right:0};if(this.Frame.SetExtendWidth(e),t.MultiDay){var i=t.MultiDay,a={Left:i.Left?this.MultiDayExtendWidth.Left:0,Right:i.Right?this.MultiDayExtendWidth.Right:0};this.Frame.SetMultiDayMinuteWidth(a)}}},this.ReloadChartPaint=function(t){for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i&&(i.ReloadResource&&i.ReloadResource(t),0==e?"Minute-Line"==i.Name&&(i.Color=Qe.Minute.PriceColor,i.AreaColor=Qe.Minute.AreaPriceColor):1==e?"Minute-Average-Line"==i.Name&&(i.Color=Qe.Minute.AvPriceColor):2==e&&"Minute-Vol-Bar"==i.Name&&(i.Color=Qe.Minute.VolBarColor))}},this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.IsAutoUpdate&&(this.IsAutoUpdate=!1)},this.ClickFrameButton=function(t,e){var i=this.GetEventCallback(b.ON_CLICK_FRAME_TOOLBAR);if(i&&i.Callback){var a={Info:t,PreventDefault:!1};if(i.Callback(i,a,this),a.PreventDefault)return}if(t.ID==E.CLOSE_BEFOREOPEN_ID&&this.ShowCallAuctionData({Left:!1,Right:!1,MultiDay:{Left:!1,Right:!1}}),t.ID==E.CLOSE_OVERLAY_INDEX)(n=t.IndexID)&&this.DeleteOverlayWindowsIndex(n);else if(t.ID==E.MODIFY_OVERLAY_INDEX_PARAM){var n=t.IndexID,r=t.Frame;e.data={Chart:this,Identify:n,IsOverlay:!0},r.ModifyIndexEvent&&r.ModifyIndexEvent(e)}else if(t.ID==E.CLOSE_INDEX_WINDOW){r=t.Frame;this.RemoveIndexWindow(r.Identify)}else if(t.ID==E.CHANGE_INDEX){r=t.Frame;e.data={Chart:this,Identify:r.Identify,IsOverlay:!1},r.ChangeIndexEvent&&r.ChangeIndexEvent(e)}else if(t.ID==E.MODIFY_INDEX_PARAM){r=t.Frame;e.data={Chart:this,Identify:r.Identify,IsOverlay:!1},r.ModifyIndexEvent&&r.ModifyIndexEvent(e)}else if(t.ID==E.OVERLAY_INDEX){r=t.Frame;e.data={Chart:this,Identify:r.Identify,IsOverlay:!0},r.ChangeIndexEvent&&r.ChangeIndexEvent(e)}else if(t.ID==E.MAX_MIN_WINDOW){n=t.IndexID,r=t.Frame;(o=t.FrameID)>=this.Frame.ZoomStartWindowIndex&&this.ZoomIndexWindow(o,null)&&(this.Frame.SetSizeChage(!0),this.Draw())}else if(t.ID==E.TITLE_WINDOW){n=t.IndexID,r=t.Frame;var o=t.FrameID;this.ShowIndexTitleOnly(o)&&(this.Frame.SetSizeChage(!0),this.Draw())}},this.ChartOperator=function(t){var e=t.ID;if(e===w.OP_SCROLL_LEFT||e===w.OP_SCROLL_RIGHT){if(1==this.DayCount)return!1;if(!this.PageInfo.Enable)return!1;if(!this.DayData)return!1;var i=e===w.OP_SCROLL_LEFT,a=1;if(t.Step>0&&(a=t.Step),!this.DayOffset)return!1;if(i){var n=this.DayOffset.Offset;if((n+=a)+this.DayOffset.ShowDayCount>this.DayOffset.DayCount&&(n=this.DayOffset.DayCount-this.DayOffset.ShowDayCount),n==this.DayOffset.Offset)return!1;this.DayOffset.Offset=n}else{n=this.DayOffset.Offset;if((n-=a)<0&&(n=0),n==this.DayOffset.Offset)return!1;this.DayOffset.Offset=n}return this.UpdateHistoryMinuteUI(null),this.SendPageChangedEvent(),!0}if(e==w.OP_SCROLL_GOTO){if(1==this.DayCount)return!1;if(!this.PageInfo.Enable)return!1;if(!this.DayData)return!1;if(Ce.IsNumber(t.ShowDayCount)&&(this.PageInfo.ShowDayCount=t.ShowDayCount,this.DayOffset.ShowDayCount=t.ShowDayCount),Ce.IsNumber(t.Offset)){n=t.Offset;if(this.DayOffset.ShowDayCount>0&&n+this.DayOffset.ShowDayCount>=this.DayOffset.DayCount&&(n=this.DayOffset.DayCount-this.DayOffset.ShowDayCount),n==this.DayOffset.Offset)return!1;this.DayOffset.Offset=n}return this.UpdateHistoryMinuteUI(null),this.SendPageChangedEvent(),!0}},this.SendPageChangedEvent=function(){var t=this.GetEventCallback(b.ON_MINUTE_PAGE_CHANGED);if(t&&t.Callback){var e={DayOffset:this.DayOffset,DayData:this.DayData};t.Callback(t,e,this)}},this.OnDragMode_One=function(e,i){var a=this.MouseDrag,n=e.X,r=e.Y;if(this.RectSelectDrag&&this.RectSelectDrag.Index>=0){if(n<5)return;var o={X:i.clientX,Y:i.clientY,PointIndex:this.RectSelectDrag.Index,Name:"MoveRectSelectLine"};this.MoveRectSelectPoint(o)&&(a.LastMove.X=i.clientX,this.Draw())}else{if(n<5&&r<5)return;if(!this.EnableSelectRect)return;this.UIElement.style.cursor="default";var s=a.Click.X-t.getBoundingClientRect().left,l=a.Click.Y-t.getBoundingClientRect().top,h=i.clientX-t.getBoundingClientRect().left,u=i.clientY-t.getBoundingClientRect().top;this.ShowSelectRect(s,l,h,u),a.LastMove.X=i.clientX,a.LastMove.Y=i.clientY}},this.OnMinuteSelectRectMouseUp=function(e){var i=this.MouseDrag;i.LastMove.X=e.clientX,i.LastMove.Y=e.clientY;var a=new G,n=L();if(a.XStart=(i.Click.X-t.getBoundingClientRect().left)*n,a.YStart=(i.Click.Y-t.getBoundingClientRect().top)*n,a.XEnd=(i.LastMove.X-t.getBoundingClientRect().left)*n,a.YEnd=(i.LastMove.Y-t.getBoundingClientRect().top)*n,a.JSChartContainer=this,a.Stock={Symbol:this.Symbol,Name:this.Name},this.EnableSelectRect&&!this.BorderDrag&&this.GetSelectRectData(a)){var r=this.GetEventCallback(b.ON_SELECT_RECT),o=this.GetRectSelectPaint(),s=!0;if(r&&r.Callback){var l={X:i.LastMove.X-t.getBoundingClientRect().left,Y:i.LastMove.Y-t.getBoundingClientRect().top,SelectData:a,RectSelectPaint:o};r.Callback(r,l,this),s=!1}s&&this.SelectRectDialog?(e.data={Chart:this,X:i.LastMove.X-t.getBoundingClientRect().left,Y:i.LastMove.Y-t.getBoundingClientRect().top,SelectData:a,RectSelectPaint:o},this.SelectRectDialog.DoModal(e)):(this.HideSelectRect(),this.UpdateSelectRect(a.Start,a.End))}else this.TryClickPaintEvent(b.ON_CLICKUP_CHART_PAINT,this.ClickDownPoint,e),this.ClickEvent(e)},this.OnDragSelectRectMouseUp=function(t){var e=this.GetRectSelectPaint();if(e){var i=e.GetSelectRectData();if(i){var a=L(),n=this.ChartCorssCursor,r=n.LastPoint.X/a,o=n.LastPoint.Y/a,s=!0,l=this.GetEventCallback(b.ON_DRAG_SELECT_RECT_MOUSEUP);if(l){var h={X:r,Y:o,SelectData:i,RectSelectPaint:e,IsShowDialog:!1};l.Callback(l,h,this),s=h.IsShowDialog}s&&this.SelectRectDialog&&(t.data={Chart:this,X:r,Y:o,SelectData:i,RectSelectPaint:e},this.SelectRectDialog.DoModal(t))}}},this.UpdateSelectRect=function(t,e){if(this.SourceData&&this.SourceData.Data){var i=this.GetRectSelectPaint();if(i){var a=this.SourceData;if(a&&Ce.IsNonEmptyArray(a.Data)){var n=a.Data.length,r=a.Data[t];e>=n&&(e=n-1);var o=a.Data[e];g.Chart.Log("[MinuteChartContainer::UpdateSelectRect]",r,o),i.SetPoint(r,{Index:0}),i.SetPoint(o,{Index:1}),this.Draw()}}}},this.MoveRectSelectPoint=function(e){var i=this.GetRectSelectPaint();if(!i)return!1;if(!this.SourceData||!this.SourceData.Data)return!1;var a=this.SourceData;if(!this.Frame.SubFrame[0])return!1;var n=this.Frame.SubFrame[0].Frame,r=L(),o=(e.X-t.getBoundingClientRect().left)*r,s=n.GetXData(o),l=(s=parseInt(s.toFixed(0)))+a.DataOffset;l>=a.Data.length&&(l=a.Data.length-1);var h=a.Data[l];if(g.Chart.Log("[MinuteChartContainer::MoveRectSelectPoint] point, item",e.PointIndex,h),!i.SetPoint(h,{Index:e.PointIndex}))return!1;var u=this.GetEventCallback(b.ON_DRAG_SELECT_RECT);if(u){var c=i.GetSelectRectData(),d={X:e.X,Y:e.Y,SelectData:c,RectSelectPaint:i};u.Callback(u,d,this)}return!0},this.GetLastCursorIndex=function(t){if(1==t.DataType)for(var e=t.Data.length-1;e>=0;--e){if((n=t.Data[e])&&n.DayItem&&n.DayItem.Data)return t.IndexData.DayIndex=0,t.IndexData.DataIndex=n.DayItem.Data.length-1,void(t.IndexData.Type=n.Type)}else if(2==t.DataType)for(e=t.Data.length-1;e>=0;--e)for(var i=t.Data[e],a=i.length-1;a>=0;--a){var n;if((n=i[a])&&n.DayItem&&n.DayItem.Data)return t.IndexData.DayIndex=e,t.IndexData.DataIndex=n.DayItem.Data.length-1,void(t.IndexData.Type=n.Type)}},this.GetFirstCursorIndex=function(t){if(1==t.DataType)for(var e=0;e<t.Data.length;++e){if((n=t.Data[e])&&n.DayItem&&n.DayItem.Data)return t.IndexData.DayIndex=0,t.IndexData.DataIndex=0,void(t.IndexData.Type=n.Type)}else if(2==t.DataType)for(e=0;e<t.Data.length;++e)for(var i=t.Data[e],a=0;a<i.length;++a){var n;if((n=i[a])&&n.DayItem&&n.DayItem.Data)return t.IndexData.DayIndex=e,t.IndexData.DataIndex=0,void(t.IndexData.Type=n.Type)}},this.MoveCorssCursorIndex=function(t){if(!this.EnableNewIndex)return!1;if(!this.Frame.SubFrame[0]||!this.Frame.SubFrame[0].Frame)return!1;var e=this.Frame.SubFrame[0].Frame;if(1==this.CorssCursorIndex.Type||2==this.CorssCursorIndex.Type||3==this.CorssCursorIndex.Type||-1==this.CorssCursorIndex.Type){var i=[],a=null;this.BeforeOpenData&&this.IsShowBeforeData&&(a=this.BeforeOpenData),i.push({DayItem:a,Type:2});a=null;this.SourceData&&(a=this.SourceData),i.push({DayItem:a,Type:1});a=null;this.AfterCloseData&&this.IsShowAfterData&&(a=this.AfterCloseData),i.push({DayItem:a,Type:3});var n={DataType:1,Data:i,IndexData:this.CorssCursorIndex,Point:{X:null,Y:null}},r=1;if(t.IsMoveLeft){if(this.CorssCursorIndex.DayIndex<0&&this.CorssCursorIndex.DataIndex<0&&(this.GetLastCursorIndex(n),r=0),e.MoveXIndexLeft(r,n)){this.LastPoint.X=n.Point.X,this.LastPoint.Y=n.Point.Y,1==this.CorssCursorIndex.Type&&(this.CursorIndex=this.CorssCursorIndex.CursorIndex);t={ParentFunction:"MoveCorssCursorIndex",Point:{X:n.Point.X,Y:n.Point.Y},IsPhone:!1,ClientPos:this.CorssCursorIndex.Type};this.DrawDynamicInfo(t)}}else if(this.CorssCursorIndex.DayIndex<0&&this.CorssCursorIndex.DataIndex<0&&(this.GetFirstCursorIndex(n),r=0),e.MoveXIndexRight(r,n)){this.LastPoint.X=n.Point.X,this.LastPoint.Y=n.Point.Y,1==this.CorssCursorIndex.Type&&(this.CursorIndex=this.CorssCursorIndex.CursorIndex);t={ParentFunction:"MoveCorssCursorIndex",Point:{X:n.Point.X,Y:n.Point.Y},IsPhone:!1,ClientPos:this.CorssCursorIndex.Type};this.DrawDynamicInfo(t)}}else if(10==this.CorssCursorIndex.Type||20==this.CorssCursorIndex.Type||30==this.CorssCursorIndex.Type||-2==this.CorssCursorIndex.Type){i=[];var o=0,s=this.DayData.length;this.DayOffset&&(Ce.IsNumber(this.DayOffset.Offset)&&(o=this.DayOffset.Offset),Ce.IsNumber(this.DayOffset.ShowDayCount)&&(s=this.DayOffset.ShowDayCount));for(var l=o,h=0;l<this.DayData.length&&h<s;++l,++h){var u=[];a=null;this.MultiDayBeforeOpenData&&this.IsShowMultiDayBeforeData&&(a=this.MultiDayBeforeOpenData[l]),u.push({DayItem:a,Type:20});a=null;this.DayData&&(a=this.DayData[this.DayData.length-1-l]),u.push({DayItem:a,Type:10});a=null;this.MultiDayAfterCloseData&&this.IsShowMultiDayAfterData&&(a=this.MultiDayAfterCloseData[l]),u.push({DayItem:a,Type:30}),i.push(u)}n={DataType:2,Data:i,IndexData:this.CorssCursorIndex,Point:{X:null,Y:null}},r=1;if(t.IsMoveLeft){if(this.CorssCursorIndex.DayIndex<0&&this.CorssCursorIndex.DataIndex<0&&(this.GetLastCursorIndex(n),r=0),e.MoveXIndexLeft(r,n)){this.LastPoint.X=n.Point.X,this.LastPoint.Y=n.Point.Y,10==this.CorssCursorIndex.Type&&(this.CursorIndex=this.CorssCursorIndex.CursorIndex);t={ParentFunction:"MoveCorssCursorIndex",Point:{X:n.Point.X,Y:n.Point.Y},IsPhone:!1,ClientPos:null};10==this.CorssCursorIndex.Type?t.ClientPos=1:20==this.CorssCursorIndex.Type?t.ClientPos=this.CorssCursorIndex.DayIndex+200:30==this.CorssCursorIndex.Type&&(t.ClientPos=this.CorssCursorIndex.DayIndex+300),this.DrawDynamicInfo(t)}}else if(this.CorssCursorIndex.DayIndex<0&&this.CorssCursorIndex.DataIndex<0&&(this.GetFirstCursorIndex(n),r=0),e.MoveXIndexRight(r,n)){this.LastPoint.X=n.Point.X,this.LastPoint.Y=n.Point.Y,10==this.CorssCursorIndex.Type&&(this.CursorIndex=this.CorssCursorIndex.CursorIndex);t={ParentFunction:"MoveCorssCursorIndex",Point:{X:n.Point.X,Y:n.Point.Y},IsPhone:!1,ClientPos:null};10==this.CorssCursorIndex.Type?t.ClientPos=1:20==this.CorssCursorIndex.Type?t.ClientPos=this.CorssCursorIndex.DayIndex+200:30==this.CorssCursorIndex.Type&&(t.ClientPos=this.CorssCursorIndex.DayIndex+300),this.DrawDynamicInfo(t)}}},this.SetCorssCursorIndex=function(t){if(this.EnableNewIndex&&(g.Chart.Log("[MinuteChartContainer::SetCorssCursorIndex] option ",t),"OnMouseMove"==t.ParentFunction)){this.CorssCursorIndex.Point.X=t.Point.X,this.CorssCursorIndex.Point.Y=t.Point.Y;var e=this.PtInClient_V2(t.Point.X,t.Point.Y);if(g.Chart.Log("[MinuteChartContainer::SetCorssCursorIndex] clientPos ",e),e<=0)return void(this.CorssCursorIndex={DayIndex:-1,DataIndex:-1,Point:{X:-1,Y:-1},Type:e});if(!this.Frame.SubFrame[0]||!this.Frame.SubFrame[0].Frame)return void(this.CorssCursorIndex={DayIndex:-1,DataIndex:-1,Point:{X:-1,Y:-1},Type:-1});var i=this.Frame.SubFrame[0].Frame;if(1==e||2==e||3==e){if(this.CorssCursorIndex.DayIndex=0,this.CorssCursorIndex.Type=e,2==e)i.GetLeftExtendXValidData(t.Point.X,{Data:this.BeforeOpenData,IndexData:this.CorssCursorIndex});else if(3==e)i.GetRightExtendXValidData(t.Point.X,{Data:this.AfterCloseData,IndexData:this.CorssCursorIndex});else if(1==e){var a=i.GetXData(t.Point.X);this.CorssCursorIndex.DataIndex=parseInt(a.toFixed(0))}}else if(e>=100&&e<=199){this.CorssCursorIndex.DayIndex=e-100,this.CorssCursorIndex.Type=10;a=i.GetXData(t.Point.X);var n=parseInt(a.toFixed(0));this.CorssCursorIndex.DataIndex=n%i.MinuteCount}else if(e>=200&&e<=299){this.CorssCursorIndex.DayIndex=e-200,this.CorssCursorIndex.Type=20;var r=this.MultiDayBeforeOpenData;if(this.DayOffset){var o=0,s=this.MultiDayBeforeOpenData.length;Ce.IsNumber(this.DayOffset.Offset)&&(o=this.DayOffset.Offset),Ce.IsNumber(this.DayOffset.ShowDayCount)&&(s=this.DayOffset.ShowDayCount),r=this.MultiDayBeforeOpenData.slice(o,o+s)}i.GetLeftExtendXValidData(t.Point.X,{Data:r,IndexData:this.CorssCursorIndex})}else if(e>=300&&e<=399){this.CorssCursorIndex.DayIndex=e-300,this.CorssCursorIndex.Type=30;r=this.MultiDayAfterOpenData;if(this.DayOffset&&this.MultiDayAfterOpenData){o=0,s=this.MultiDayBeforeOpenData.length;Ce.IsNumber(this.DayOffset.Offset)&&(o=this.DayOffset.Offset),Ce.IsNumber(this.DayOffset.ShowDayCount)&&(s=this.DayOffset.ShowDayCount),r=this.MultiDayAfterOpenData.slice(o,o+s)}i.GetRightExtendXValidData(t.Point.X,{Data:r,IndexData:this.CorssCursorIndex})}this.LastPoint.X=this.CorssCursorIndex.Point.X,t.Point.X=this.CorssCursorIndex.Point.X}},this.PtInClient_V2=function(t,e){if(this.Canvas.beginPath(),!0===this.Frame.IsHScreen){var i=this.Frame.ChartBorder.GetHScreenBorder();this.Canvas.rect(i.Left,i.TopEx,i.Right-i.Left,i.BottomEx-i.TopEx)}else{if((i=this.Frame.ChartBorder.GetBorder()).DayBorder){for(var a=0;a<i.DayBorder.length;++a){var n=i.DayBorder[a];if(this.Canvas.beginPath(),this.Canvas.rect(n.LeftEx,i.TopEx,n.RightEx-n.LeftEx,i.BottomEx-i.TopEx),this.Canvas.isPointInPath(t,e))return 100+a;if(this.Canvas.beginPath(),this.Canvas.rect(n.Left,i.TopEx,n.LeftEx-n.Left,i.BottomEx-i.TopEx),this.Canvas.isPointInPath(t,e))return 200+a;if(this.Canvas.beginPath(),this.Canvas.rect(n.RightEx,i.TopEx,n.Right-n.RightEx,i.BottomEx-i.TopEx),this.Canvas.isPointInPath(t,e))return 300+a}return-2}this.Canvas.rect(i.LeftEx,i.Top,i.RightEx-i.LeftEx,i.Bottom-i.Top)}return this.Canvas.isPointInPath(t,e)?1:this.Frame.ChartBorder.LeftExtendWidth>10&&(this.Canvas.beginPath(),!0===this.Frame.IsHScreen?this.Canvas.rect(i.Left,i.Top,i.Right-i.Left,i.TopEx-i.Top):this.Canvas.rect(i.Left,i.Top,i.LeftEx-i.Left,i.Bottom-i.Top),this.Canvas.isPointInPath(t,e))?2:this.Frame.ChartBorder.RightExtendWidth>10&&(this.Canvas.beginPath(),!0===this.Frame.IsHScreen?this.Canvas.rect(i.Left,i.BottomEx,i.Right-i.Left,i.Bottom-i.BottomEx):this.Canvas.rect(i.RightEx,i.Top,i.Right-i.RightEx,i.Bottom-i.Top),this.Canvas.isPointInPath(t,e))?3:-1},this.OnTouchStart=function(e){if(0!=this.DragMode&&(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash)&&(this.IsOnTouch=!0,this.TouchDrawCount=0,this.PhonePinch=null,this.StopDragTimer(),0==this.EnableScrollUpDown&&e.preventDefault(),this.IsPhoneDragging(e))){var i={Click:{},LastMove:{}},a=this.GetToucheData(e,this.IsForceLandscape);i.Click.X=a[0].clientX,i.Click.Y=a[0].clientY,i.LastMove.X=a[0].clientX,i.LastMove.Y=a[0].clientY;var n=this,r=function(){if(!0===n.ChartCorssCursor.IsShow){var a=L(),r=i.Click.X-t.getBoundingClientRect().left*a,o=i.Click.Y-t.getBoundingClientRect().top*a;n.OnMouseMove(r,o,e)}};if(this.ChartDrawOption.IsLockScreen){if(this.MouseDrag=i,this.SelectChartDrawPicture&&(this.SelectChartDrawPicture.IsSelected=!1),this.SelectChartDrawPicture=null,this.CurrentChartDrawPicture)return 2==this.CurrentChartDrawPicture.Status?this.SetChartDrawPictureThirdPoint(i.Click.X,i.Click.Y,!0):(this.SetChartDrawPictureFirstPoint(i.Click.X,i.Click.Y,!0),this.FinishChartDrawPicturePoint()&&this.DrawDynamicInfo({Corss:!1,Tooltip:!1})),void(e.cancelable&&e.preventDefault());var o={};L();if(o.X=a[0].clientX-t.getBoundingClientRect().left,o.Y=a[0].clientY-t.getBoundingClientRect().top,this.GetChartDrawPictureByPoint(o)){o.ChartDrawPicture.Status=20,o.ChartDrawPicture.ValueToPoint(),o.ChartDrawPicture.MovePointIndex=o.PointIndex,o.ChartDrawPicture.IsSelected=!0,this.CurrentChartDrawPicture=o.ChartDrawPicture,this.SelectChartDrawPicture=o.ChartDrawPicture;var s=this.GetEventCallback(b.ON_CLICK_DRAWPICTURE);if(s&&s.Callback){var l={DrawPicture:o.ChartDrawPicture};s.Callback(s,l,this)}return void(e.cancelable&&e.preventDefault())}}else 1==this.EnableScrollUpDown&&(this.DragTimer=setTimeout(function(){if(i.Click.X==i.LastMove.X&&i.Click.Y==i.LastMove.Y){n.MouseDrag;n.MouseDrag=null,r(),n.PreventTouchEvent(e)}},800)),this.MouseDrag=i,this.PhoneTouchInfo={Start:{X:a[0].clientX,Y:a[0].clientY},End:{X:a[0].clientX,Y:a[0].clientY}},this.SelectChartDrawPicture=null,0==this.EnableScrollUpDown&&r();this.EnableZoomIndexWindow&&(this.PhoneDBClick.AddTouchStart(a[0].clientX,a[0].clientY,Date.now()),g.Chart.Log("[MinuteChartContainer::OnTouchStart] PhoneDBClick ",this.PhoneDBClick)),this.TouchEvent({EventID:b.ON_PHONE_TOUCH,FunctionName:"OnTouchStart"},e)}},this.OnTouchMove=function(e){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var i=this.GetToucheData(e,this.IsForceLandscape);if(this.IsPhoneDragging(e)){var a=this.MouseDrag;if(null==a){var n=L(),r=i[0].clientX-t.getBoundingClientRect().left*n,o=i[0].clientY-t.getBoundingClientRect().top*n;this.OnMouseMove(r,o,e)}else{var s=this.GetMoveAngle(a.LastMove,{X:i[0].clientX,Y:i[0].clientY}),l=Math.abs(a.LastMove.X-i[0].clientX),h=Math.abs(a.LastMove.Y-i[0].clientY);if(l=parseInt(l),this.CurrentChartDrawPicture){var u=this.CurrentChartDrawPicture;if(1==u.Status||2==u.Status){if(l<5&&h<5)return;this.SetChartDrawPictureSecondPoint(i[0].clientX,i[0].clientY,!0)&&this.DrawDynamicInfo()}else if(3==u.Status)this.SetChartDrawPictureThirdPoint(i[0].clientX,i[0].clientY,!0)&&this.DrawDynamicInfo();else if(20==u.Status){if(l<5&&h<5)return;this.MoveChartDrawPicture(i[0].clientX-a.LastMove.X,i[0].clientY-a.LastMove.Y,!0)&&this.DrawDynamicInfo()}a.LastMove.X=i[0].clientX,a.LastMove.Y=i[0].clientY}else{if((h>0&&l<=3||s<=this.TouchMoveMinAngle)&&1==this.EnableScrollUpDown)return void this.StopDragTimer();this.PreventTouchEvent(e),this.MouseDrag=null;n=L(),r=i[0].clientX-t.getBoundingClientRect().left*n,o=i[0].clientY-t.getBoundingClientRect().top*n;this.OnMouseMove(r,o,e)}}this.PhoneTouchInfo&&(this.PhoneTouchInfo.End.X=i[0].clientX,this.PhoneTouchInfo.End.Y=i[0].clientY)}0==this.EnableScrollUpDown?e.preventDefault():null==a?this.PreventTouchEvent(e):this.StopDragTimer()}},this.OnTouchEnd=function(t){if(g.Chart.Log("[MinuteChartContainer::OnTouchEnd]",t),!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){if(this.CurrentChartDrawPicture){var e=this.CurrentChartDrawPicture;2==e.Status||1==e.Status||3==e.Status?(e.PointStatus=e.Status,this.FinishChartDrawPicturePoint()?this.DrawDynamicInfo():!1):20==e.Status&&this.FinishMoveChartDrawPicture()&&this.DrawDynamicInfo()}if(this.EnableZoomIndexWindow){var i=Date.now();this.PhoneDBClick.AddTouchEnd(i),this.PhoneDBClick.IsVaildDBClick()&&(this.OnTouchDBClick(this.PhoneDBClick.Start),this.PhoneDBClick.Clear())}this.IsOnTouch=!1,this.StopDragTimer(),this.TouchEvent({EventID:b.ON_PHONE_TOUCH,FunctionName:"OnTouchEnd"},t),this.OnTouchFinished(),this.TouchDrawCount=0}},this.OnKeyDown=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){switch(t.keyCode?t.keyCode:t.which){case 37:if(this.EnableNewIndex)this.MoveCorssCursorIndex({IsMoveLeft:!0});else if(this.CursorIndex=parseInt(this.CursorIndex),this.CursorIndex<=.99999){if(!this.DataMoveLeft())break;this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw()}else--this.CursorIndex,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo();break;case 39:if(this.EnableNewIndex)this.MoveCorssCursorIndex({IsMoveLeft:!1});else{var e=0;if(e=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount,this.CursorIndex=parseInt(this.CursorIndex),this.CursorIndex+1>=e){if(!this.DataMoveRight())break;this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw()}else{var i=null;if(!(i=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data))break;if(this.CursorIndex+i.DataOffset+1>=i.Data.length)break;++this.CursorIndex,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo()}}break;case 46:if(this.SelectChartDrawPicture){var a=this.SelectChartDrawPicture;g.Chart.Log(a,"drawPicturedrawPicturedrawPicture"),this.SelectChartDrawPicture=null,this.ClearChartDrawPicture(a)}else if(this.SelectedChart&&this.SelectedChart.Selected.Identify){var n=this.GetSelectedChartInfo(this.SelectedChart.Selected);n&&(n.Type==ge.OVERLAY_INDEX?this.DeleteOverlayWindowsIndex(n.IndexID):n.Type==ge.OVERLAY_MINUTE&&this.DeleteOverlaySymbol(n.Symbol))}break;case 32:this.OnMarkRectSelect(t);break;case 33:if(this.PageInfo.Enable){var r={ID:w.OP_SCROLL_LEFT,Step:this.PageInfo.ShowDayCount};this.ChartOperator(r)}break;case 34:if(this.PageInfo.Enable){r={ID:w.OP_SCROLL_RIGHT,Step:this.PageInfo.ShowDayCount};this.ChartOperator(r)}break;default:return}t.preventDefault?t.preventDefault():t.returnValue=!1}},this.OnMarkRectSelect=function(t){var e=this.ChartCorssCursor;if(e&&0!=e.Status&&Ce.IsNumber(e.CursorIndex)&&this.SourceData&&this.SourceData.Data){var i=this.GetRectSelectPaint();if(i){var a=e.CursorIndex;g.Chart.Log("[MinuteChartContainer::OnMarkRectSelect] dataIndex",a);var n=this.SourceData,r=(a=parseInt(a.toFixed(0)))+n.DataOffset;r>=n.Data.length&&(r=n.Data.length-1);var o=n.Data[r];if(g.Chart.Log("[MinuteChartContainer::OnMarkRectSelect] item",o),this.SetRectSelectData(o)){var s=i.GetPointCount(),l=L();if(1==s){if((u=this.GetEventCallback(b.ON_KEYDOWN_SELECT_RECT_FIRST))&&u.Callback){var h={X:e.LastPoint.X/l,Y:e.LastPoint.Y/l,Item:o,Index:r,RectSelectPaint:i};u.Callback(u,h,this)}}else if(2==s){var u,c=i.GetSelectRectData();if((u=this.GetEventCallback(b.ON_KEYDOWN_SELECT_RECT))&&u.Callback){h={X:e.LastPoint.X/l,Y:e.LastPoint.Y/l,SelectData:c,RectSelectPaint:i};u.Callback(u,h,this)}this.SelectRectDialog&&(t.data={Chart:this,X:e.LastPoint.X/l,Y:e.LastPoint.Y/l,SelectData:c,RectSelectPaint:i},this.SelectRectDialog.DoModal(t))}this.Draw()}}}},this.OnRightMenu=function(t,e,i){if(this.RightMenu){var a=this.Frame.PtInFrame(t,e);i.data={Chart:this,FrameID:a},this.RightMenu.DoModal(i)}var n=this.GetEventCallback(b.ON_CONTEXT_MENU);if(n){var r={X:t,Y:e,Event:i,FrameID:a=this.Frame.PtInFrame(t,e)};n.Callback(n,r,this)}},this.OnWheel=function(t){g.Chart.Log("[MinuteChartContainer::OnWheel]",t)},this.OnDoubleClick=function(t,e,i){var a;g.Chart.Log("[MinuteChartContainer::OnDoubleClick]",i),null!=this.ClickChartTimer&&(clearTimeout(this.ClickChartTimer),this.ClickChartTimer=null),this.SelectedChart.EnableSelected&&(a=this.PtInChart(t,e));var n={SelectedChart:a};if(this.DBClickEvent(n,i),!a&&this.EnableZoomIndexWindow){var r=this.Frame.PtInFrame(t,e);g.Chart.Log("[MinuteChartContainer::OnDoubleClick] frameId",r),r>=this.Frame.ZoomStartWindowIndex&&this.ZoomIndexWindow(r,{X:t,Y:e})&&(this.Frame.SetSizeChage(!0),this.Draw())}},this.GetDataItem=function(t){if(!t)return null;if(!Ce.IsNumber(t.Index))return null;if(!this.SourceData||!this.SourceData.Data)return null;var e=this.SourceData,i=t.ClientPos;if(2==i||3==i||i>=200&&i<=299||i>=300&&i<=399){if(!this.ChartCorssCursor||!this.ChartCorssCursor.CallAcutionXOperator)return null;var a=!0===this.Frame.IsHScreen,n=this.ChartCorssCursor.CallAcutionXOperator;if(n.Value=a?t.Point.Y:t.Point.X,n.Point={X:t.Point.X,Y:t.Point.Y},n.ClientPos=i,2==i){if(!this.BeforeOpenData)return null}else if(3==i){if(!this.AfterCloseData)return null}else if(i>=200&&i<=299){if(!this.MultiDayBeforeOpenData||!Ce.IsNonEmptyArray(this.MultiDayBeforeOpenData))return}else if(i>=300&&tclientPos<=399&&(!this.MultiDayAfterCloseData||!Ce.IsNonEmptyArray(this.MultiDayAfterCloseData)))return;return n.Operator()?{Type:i,Item:n.Item,Index:n.DataIndex}:null}var r=parseInt(t.Index.toFixed(0))+e.DataOffset;return r>=e.Data.length?null:{Type:i,Item:e.Data[r],Index:r}},this.UpdatePointByCursorIndex=function(){this.LastPoint.X=this.Frame.GetXFromIndex(this.CursorIndex);var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=this.Frame.SourceData;if(!(e.DataOffset+t>=e.Data.length)){var i=e.Data[e.DataOffset+t],a=null;a=i.Before?i.Before.Close:i.Close,this.LastPoint.Y=this.Frame.GetYFromData(a)}},this.Create=function(t,e){var i=this;for(var a in this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new be,this.ChartCorssCursor.PtInClient=function(t,e){return i.PtInClient(t,e)},this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=new _e,this.ChartCorssCursor.StringFormatY=new Ae,this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID,this.ChartCorssCursor.StringFormatY.ShareAfterVol=this.ShareAfterVol,this.ChartCorssCursor.CallAcutionXOperator=new Te,this.ChartSplashPaint=new we,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.HQChart=this,this.Frame=new nt,this.Frame.ChartBorder=new W,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=25,this.Frame.ChartBorder.TitleHeight=0,this.Frame.ChartBorder.Left=50,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.Frame.GetExtendChartRightWidth=function(){return i.GetExtendChartRightWidth()},this.Frame.ZoomStartWindowIndex=2,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine(),this.CreateExtendChart("RectSelectPaint",e?e.SelectRect:null),this.EnableIndexChartDrag&&this.CreateExtendChart("DragMovePaint"),this.Frame.SubFrame){var n=new Ve;n.Frame=this.Frame.SubFrame[a].Frame,n.Canvas=this.Canvas,n.LanguageID=this.LanguageID,n.GetEventCallback=function(t){return i.GetEventCallback(t)},n.SelectedChart=this.SelectedChart,this.TitlePaint.push(n)}this.ChartCorssCursor.StringFormatX.Frame=this.Frame.SubFrame[0].Frame,this.ChartCorssCursor.StringFormatY.Frame=this.Frame,this.ChartCorssCursor.CallAcutionXOperator&&(this.ChartCorssCursor.CallAcutionXOperator.Frame=this.Frame.SubFrame[0].Frame);var r=!0,o=!0;if(e&&e.Listener){var s=e.Listener;!1===s.KeyDown&&(r=!1,g.Chart.Log("[MinuteChartContainer::Create] not register keydown event.")),!1===s.Wheel&&(o=!1,g.Chart.Log("[MinuteChartContainer::Create] not register wheel event."))}r&&this.UIElement.addEventListener("keydown",function(t){i.OnKeyDown(t)},!0),o&&this.UIElement.addEventListener("wheel",function(t){i.OnWheel(t)},!0)},this.CreateChildWindow=function(t){for(var e=this,i=0;i<t;++i){var a=new W;a.UIElement=this.UIElement;var n=new K;n.Canvas=this.Canvas,n.ChartBorder=a,n.Identify=i,n.GlobalOption=this.GlobalOption,i<2&&(n.ChartBorder.TitleHeight=0),n.XPointCount=243,i>=2&&(this.ModifyIndexDialog&&(n.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(n.ChangeIndexEvent=this.ChangeIndexDialog.DoModal));var r=[9,8,7,6,5,4,3,2,1];for(var o in n.HorizontalMax=r[0],n.HorizontalMin=r[r.length-1],0==i?(n.YSplitOperator=new Se,n.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price"),n.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},n.YSplitOperator.DayOffset=this.DayOffset,n.YSplitOperator.GlobalOption=this.GlobalOption):(n.YSplitOperator=new ye,n.YSplitOperator.LanguageID=this.LanguageID,n.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),n.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},1==i&&(n.YSplitOperator.ShareAfterVol=this.ShareAfterVol)),n.YSplitOperator.Frame=n,n.YSplitOperator.ChartBorder=a,n.XSplitOperator=new Ie,n.XSplitOperator.Frame=n,n.XSplitOperator.ChartBorder=a,n.XSplitOperator.DayOffset=this.DayOffset,n.XSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},i!=t-1&&(n.XSplitOperator.ShowText=!1),n.XSplitOperator.Operator(),r)n.HorizontalInfo[o]=new Y,n.HorizontalInfo[o].Value=r[o],0==i&&o==n.HorizontalMin||(n.HorizontalInfo[o].Message[1]=r[o].toString(),n.HorizontalInfo[o].Font="14px 微软雅黑");var s=new it;s.Frame=n,s.Height=0==i?20:10,this.Frame.SubFrame[i]=s}},this.CreateSubFrameItem=function(t,e){var i=this,a=new W;if(a.UIElement=this.UIElement,e&&e.ChartBorder&&e.ChartBorder.MultiDayMinute){var n=e.ChartBorder.MultiDayMinute;a.MultiDayMinute.Count=n.Count,a.MultiDayMinute.Left=n.Left,a.MultiDayMinute.Right=n.Right}var r=new K;r.Canvas=this.Canvas,r.ChartBorder=a,r.Identify=t,r.XPointCount=243,r.GlobalOption=this.GlobalOption,t>=2&&(this.ModifyIndexDialog&&(r.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(r.ChangeIndexEvent=this.ChangeIndexDialog.DoModal));var o=[9,8,7,6,5,4,3,2,1];r.HorizontalMax=o[0],r.HorizontalMin=o[o.length-1],r.YSplitOperator=new ye,r.YSplitOperator.LanguageID=this.LanguageID,r.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),r.YSplitOperator.Frame=r,r.YSplitOperator.ChartBorder=a,r.XSplitOperator=new Ie,r.XSplitOperator.Frame=r,r.XSplitOperator.ChartBorder=a,r.XSplitOperator.ShowText=!1,r.XSplitOperator.DayOffset=this.DayOffset,r.XSplitOperator.GetEventCallback=function(t){return i.GetEventCallback(t)},r.YSplitOperator.GetEventCallback=function(t){return i.GetEventCallback(t)},r.XSplitOperator.Symbol=this.Symbol,this.DayCount>1&&(r.XSplitOperator.DayCount=this.DayData.length,r.XSplitOperator.DayData=this.DayData,r.DayCount=this.DayData.length);var s=this.Frame.SubFrame[0].Frame.XPointCount;for(var l in r.XPointCount=s,r.Data=this.ChartPaint[0].Data,o)r.HorizontalInfo[l]=new Y,r.HorizontalInfo[l].Value=o[l],r.HorizontalInfo[l].Message[1]=o[l].toString(),r.HorizontalInfo[l].Font="14px 微软雅黑";var h=new it;return h.Frame=r,h.Height=10,h},this.AddNewSubFrame=function(t){var e=this,i=this.Frame.SubFrame[0].Frame,a=this.Frame.SubFrame.length,n=this.CreateSubFrameItem(a,i),r=L();n.Frame.ChartBorder.TitleHeight*=r,this.Frame.SubFrame[a]=n;var o=new Ve;o.Frame=this.Frame.SubFrame[a].Frame,o.Canvas=this.Canvas,o.LanguageID=this.LanguageID,o.GetEventCallback=function(t){return e.GetEventCallback(t)},this.TitlePaint[a+1]=o,this.SetSubFrameOption(n,t);for(var s=0;s<this.Frame.SubFrame.length;++s){var l=this.Frame.SubFrame[s].Frame;s==this.Frame.SubFrame.length-1?l.XSplitOperator.ShowText=!0:l.XSplitOperator.ShowText=!1}return this.UpdataDataoffset(),this.Frame.SetSizeChage(!0),this.UpdateXShowText&&this.UpdateXShowText(),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw(),a},this.UpdateXShowText=function(){for(var t=!0,e=this.Frame.SubFrame.length-1;e>=0;--e){var i=this.Frame.SubFrame[e].Frame,a=this.Frame.SubFrame[e];t?(i.XSplitOperator.ShowText=!0,a.Height>0&&(t=!1)):i.XSplitOperator.ShowText=!1}},this.DeleteIndexPaint=function(t,e){var i=new Array;for(var a in this.ChartPaint){var n=this.ChartPaint[a];0==a||n.ChartFrame!=this.Frame.SubFrame[t].Frame?i.push(n):!0===e&&n&&n.OnDestroy&&n.OnDestroy()}var r=this.Frame.SubFrame[t].Frame;r.YSpecificMaxMin=null,r.IsLocked=!1,r.YSplitOperator.SplitType=r.YSplitOperator.DefaultSplitType,this.ChartPaint=i;var o=t+1;this.TitlePaint[o].Data=[],this.TitlePaint[o].Title=null},this.CreateStockInfo=function(){this.ExtendChartPaint[0]=new function(){this.newMethod=de,this.newMethod(),delete this.newMethod,this.Left=80,this.Right=1,this.Top=1,this.Bottom=1,this.BorderColor=Qe.FrameBorderPen,this.Symbol,this.Name,this.TitleFont=["14px 微软雅黑"],this.Draw=function(){var t=this.ChartBorder.GetRight()+this.Left,e=this.ChartBorder.GetChartWidth()-this.Right,i=this.Top+18,a=t+(e-t)/2;this.Symbol&&this.Name&&(this.Canvas.font=this.TitleFont[0],this.Canvas.textAlign="right",this.Canvas.textBaseline="bottom",this.Canvas.fillText(this.Symbol,a-2,i),this.Canvas.textAlign="left",this.Canvas.fillText(this.Name,a+2,i)),this.Canvas.strokeStyle=this.BorderColor,this.Canvas.moveTo(t,i),this.Canvas.lineTo(e,i),this.Canvas.stroke(),i+=30,this.DrawBorder()},this.DrawBorder=function(){var t=this.ChartBorder.GetRight()+this.Left,e=this.ChartBorder.GetChartWidth()-this.Right,i=this.Top,a=this.ChartBorder.GetChartHeight()-this.Bottom;this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(t,i,e-t,a-i)}},this.ExtendChartPaint[0].Canvas=this.Canvas,this.ExtendChartPaint[0].ChartBorder=this.Frame.ChartBorder,this.ExtendChartPaint[0].ChartFrame=this.Frame,this.Frame.ChartBorder.Right=300},this.CreateMainKLine=function(){var t=this,e=new zt;e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.Name="Minute-Line",e.Identify="Minute-Line",e.Color=Qe.Minute.PriceColor,e.LineWidth=Qe.Minute.PriceLineWidth,e.AreaColor=Qe.Minute.AreaPriceColor,e.GetEventCallback=function(e){return t.GetEventCallback(e)},this.ChartPaint[0]=e;var i=new zt;i.Canvas=this.Canvas,i.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,i.ChartFrame=this.Frame.SubFrame[0].Frame,i.Name="Minute-Average-Line",i.Identify="Minute-Average-Line",i.Color=Qe.Minute.AvPriceColor,i.IsDrawArea=!1,this.ChartPaint[1]=i;var a=new _t;a.Color=Qe.Minute.VolBarColor,a.Canvas=this.Canvas,a.ChartBorder=this.Frame.SubFrame[1].Frame.ChartBorder,a.ChartFrame=this.Frame.SubFrame[1].Frame,a.Name="Minute-Vol-Bar",a.Identify="Minute-Vol-Bar",a.ShareAfterVol=this.ShareAfterVol,this.ChartPaint[2]=a,this.TitlePaint[0]=new Re,this.TitlePaint[0].Frame=this.Frame.SubFrame[0].Frame,this.TitlePaint[0].Canvas=this.Canvas,this.TitlePaint[0].OverlayChartPaint=this.OverlayChartPaint,this.TitlePaint[0].LanguageID=this.LanguageID,this.TitlePaint[0].CallAcutionXOperator=new Te,this.TitlePaint[0].CallAcutionXOperator.Frame=this.Frame.SubFrame[0].Frame},this.ChangeScriptIndex=function(t,e,i){this.DeleteIndexPaint(t,!0),this.WindowIndex[t]=new aa(e.Name,e.Script,e.Args,e);var a=this.SourceData;this.BindIndexData(t,a),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeAPIIndex=function(t,e){this.DeleteIndexPaint(t,!0);var i=e.API;this.WindowIndex[t]=new ra(i.Name,i.Script,i.Args,e),e&&e.Window&&this.SetFrameToolbar(t,e.Window),this.Frame.ClearUpDonwFrameYData({Index:t});var a=this.ChartPaint[0].Data;this.BindIndexData(t,a),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeIndex=function(t,e,i){if(!(this.Frame.SubFrame.length<3)){if(i&&i.API)return this.ChangeAPIIndex(t,i);var a=(new I).Get(e);if(a){t<2&&(t=2),t>=this.Frame.SubFrame.length&&(t=2);var n={Name:a.Name,Script:a.Script,Args:a.Args,ID:e,KLineType:a.KLineType,YSpecificMaxMin:a.YSpecificMaxMin,YSplitScale:a.YSplitScale,FloatPrecision:a.FloatPrecision,Condition:a.Condition,StringFormat:a.StringFormat,OutName:a.OutName};return i&&(i.FloatPrecision>=0&&(n.FloatPrecision=i.FloatPrecision),i.StringFormat>0&&(n.StringFormat=i.StringFormat),i.Args&&(n.Args=i.Args),Ce.IsNumber(i.YSplitType)&&(n.YSplitType=i.YSplitType)),this.ChangeScriptIndex(t,n,i)}}},this.ChangeIndexWindowCount=function(t){var e=this;if(!(t<2)&&this.Frame.SubFrame.length!=t){var i=this.Frame.SubFrame.length;if(i>t){for(var a=i-1;a>=t;--a){this.DeleteIndexPaint(a),(d=this.Frame.SubFrame[a].Frame).ClearToolbar&&d.ClearToolbar()}this.Frame.SubFrame.splice(t,i-t),this.WindowIndex.splice(t,i-t)}else{var n=this.Frame.SubFrame[0].Frame;for(a=i;a<t;++a){var r=this.CreateSubFrameItem(a,n);this.Frame.SubFrame[a]=r;var o=new Ve;o.Frame=this.Frame.SubFrame[a].Frame,o.Canvas=this.Canvas,o.LanguageID=this.LanguageID,o.GetEventCallback=function(t){return e.GetEventCallback(t)},o.SelectedChart=this.SelectedChart,this.TitlePaint[a+1]=o}var s=["RSI","MACD","DMA","DMI","KDJ","WR"],l=new I;for(a=i;a<t;++a){var h=s[a%s.length],u=l.Get(h);this.WindowIndex[a]=new aa(u.Name,u.Script,u.Args,u);var c=this.SourceData;this.BindIndexData(a,c)}for(a=0;a<this.Frame.SubFrame.length;++a){var d=this.Frame.SubFrame[a].Frame;a==this.Frame.SubFrame.length-1?d.XSplitOperator.ShowText=!0:d.XSplitOperator.ShowText=!1}this.UpdataDataoffset()}this.UpdateXShowText(),this.Frame.SetSizeChage(!0),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw()}},this.RemoveIndexWindow=function(t){if(g.Chart.Log("[MinuteChartContainer::RemoveIndexWindow] remove id",t),!(t<2)&&this.Frame.SubFrame&&!(t>=this.Frame.SubFrame.length)){this.Frame.RestoreIndexWindows();this.Frame.SubFrame[t].Frame;this.DeleteIndexPaint(t),this.Frame.SubFrame[t].Frame.ClearToolbar(),this.Frame.SubFrame.splice(t,1),this.WindowIndex.splice(t,1),this.TitlePaint.splice(t+1,1);for(var e=0;e<this.Frame.SubFrame.length;++e){var i=this.Frame.SubFrame[e].Frame;e==this.Frame.SubFrame.length-1?i.XSplitOperator.ShowText=!0:i.XSplitOperator.ShowText=!1,i.Identify=e}this.Frame.SetSizeChage(!0),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw()}},this.AutoUpdateEvent=function(t,e){var i=t?b.RECV_START_AUTOUPDATE:b.RECV_STOP_AUTOUPDATE;if(this.mapEvent.has(i)){var a=this,n=this.mapEvent.get(i),r={Stock:{Symbol:this.Symbol,Name:this.Name,DayCount:this.DayCount},Explain:e};t&&(r.Callback=function(t){a.RecvMinuteData(t)}),n.Callback(n,r,this)}},this.ClearIndexPaint=function(){if(this.Frame&&this.Frame.SubFrame)for(var t=0;t<this.Frame.SubFrame.length;++t){t>=2&&this.DeleteIndexPaint(t,!0);var e=this.Frame.SubFrame[t];if(Ce.IsNonEmptyArray(e.OverlayIndex))for(var i=0;i<e.OverlayIndex.length;++i){for(var a=e.OverlayIndex[i],n=0;n<a.ChartPaint.length;++n){var r=a.ChartPaint[n];r&&r.OnDestroy&&r.OnDestroy()}a.ChartPaint=[]}}for(t=1;t<this.TitlePaint.length;++t){(e=this.TitlePaint[t]).OverlayIndex=new p.default}},this.ResetDayOffset=function(){this.PageInfo.Enable?(this.DayOffset.Offset=this.PageInfo.Offset,this.DayOffset.ShowDayCount=this.PageInfo.ShowDayCount):(this.DayOffset.Offset=0,this.DayOffset.ShowDayCount=-1),this.DayOffset.PageInfo=null},this.ChangeSymbol=function(t,e){this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"MinuteChartContainer::ChangeSymbol"),this.Symbol=t,this.ResetDayOffset(),this.ClearIndexPaint(),this.ResetOverlaySymbolStatus(),this.ReloadChartDrawPicture(),e&&Ce.IsNumber(e.DayCount)&&(this.DayCount=e.DayCount),!t||this.DayCount<=0?this.DrawEmpty():(this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.Draw(),this.RequestData())},this.SetPageInfo=function(t){t&&(Ce.IsBool(t.Enable)&&(this.PageInfo.Enable=t.Enable),Ce.IsNumber(t.Offset)&&(this.PageInfo.Offset=t.Offset),Ce.IsNumber(t.ShowDayCount)&&(this.PageInfo.ShowDayCount=t.ShowDayCount))},this.ChangeDayCount=function(t,e){t<0||(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"MinuteChartContainer::ChangeDayCount"),this.DayCount=t,e&&e.PageInfo&&(this.SetPageInfo(e.PageInfo),this.ResetDayOffset()),this.DayCount>1?this.ChartDrawPicture=[]:this.ReloadChartDrawPicture(),this.ClearIndexPaint(),this.ResetOverlaySymbolStatus(),this.RequestData())},this.OverlaySymbol=function(t,e){for(var i in this.OverlayChartPaint){if(this.OverlayChartPaint[i].Symbol==t)return console.warn("[MinuteChartContainer::OverlaySymbol] overlay symbol="+t+" exist."),!1}var a=new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.Color="rgb(65,105,225)",this.MainData,this.MainYClose,this.SourceData,this.ClassName="ChartOverlayMinutePriceLine",this.Title,this.Symbol,this.YClose,this.Status=At.STATUS_NONE_ID,this.PtInChart=function(t,e){var i={MinuteOverlayPrice:!0,YClose:this.YClose,MainYClose:this.MainYClose};return this.PtInLine(t,e,i)},this.DrawSelectedStatus=function(){var t={MinuteOverlayPrice:!0,YClose:this.YClose,MainYClose:this.MainYClose};this.DrawLinePoint(t)},this.Draw=function(){if(this.Data)if(this.NotSupportMessage)this.DrawNotSupportmessage();else{var t=!0===this.ChartFrame.IsHScreen;this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight(),!0===t&&this.ChartBorder.GetBottom();for(var e=this.ChartFrame.XPointCount,i=this.ChartFrame.MinuteCount,a=!0,n=0,r=this.Data.DataOffset+0,o=0;r<this.Data.Data.length&&o<e;++r,++o){var s=this.Data.Data[r].Close;if(null!=s){var l=s/this.YClose*this.MainYClose,h=this.ChartFrame.GetXFromIndex(o),u=this.ChartFrame.GetYFromData(l);a?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(u,h):this.Canvas.moveTo(h,u),a=!1):t?this.Canvas.lineTo(u,h):this.Canvas.lineTo(h,u),++n>=i&&(a=!0,this.Canvas.stroke(),n=0)}}n>0&&this.Canvas.stroke()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(null==this.YClose)return e;e.Min=this.MainYClose,e.Max=this.MainYClose;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a)if(null!=(n=this.Data.Data[i].Close)){var n=n/this.YClose*this.MainYClose;null==e.Max&&(e.Max=n),null==e.Min&&(e.Min=n),e.Max<n&&(e.Max=n),e.Min>n&&(e.Min=n)}if(e.Max==this.MainYClose&&e.Min==this.MainYClose)return e.Max=this.MainYClose+.1*this.MainYClose,e.Min=this.MainYClose-.1*this.MainYClose,e;var r=Math.max(Math.abs(this.MainYClose-e.Max),Math.abs(this.MainYClose-e.Min));return e.Max=this.MainYClose+r,e.Min=this.MainYClose-r,e},this.GetTooltipData=function(t,e,i){var a=!0===this.ChartFrame.IsHScreen;if(a)return!1;if(!this.IsShow)return!1;if(!this.Data||!Ce.IsNonEmptyArray(this.Data.Data))return!1;if(!Ce.IsNumber(this.YClose)||!Ce.IsNumber(this.MainYClose))return!1;if(1!=this.ChartBorder.PtInClient(t,e,this.Canvas,a))return!1;var n=this.Data,r=this.ChartFrame.GetXData(t),o=Math.ceil(r),s=Math.floor(r);if(o>=n.Data.length||s>=n.Data.length)return!1;if(o==s)n.Data[s];else{var l=n.Data[s].Close;l=l/this.YClose*this.MainYClose;var h=n.Data[o].Close;h=h/this.YClose*this.MainYClose;var u={X:this.ChartFrame.GetXFromIndex(s),Y:this.ChartFrame.GetYFromData(l)},c={X:this.ChartFrame.GetXFromIndex(o),Y:this.ChartFrame.GetYFromData(h)};if(this.Canvas.beginPath(),this.Canvas.moveTo(u.X,u.Y+5),this.Canvas.lineTo(u.X,u.Y-5),this.Canvas.lineTo(c.X,c.Y-5),this.Canvas.lineTo(c.X,c.Y+5),this.Canvas.closePath(),this.Canvas.isPointInPath(t,e))return i.Data={Index:r,Start:{Index:s,Item:n.Data[s]},End:{Index:o,Value:n.Data[o]}},i.ChartPaint=this,i.Type=6,!0}return!1}};return a.Canvas=this.Canvas,a.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,a.ChartFrame=this.Frame.SubFrame[0].Frame,a.Name="Overlay-Minute",a.Symbol=t,a.Identify="Overlay-Minute-"+t,e&&e.Color?a.Color=e.Color:a.Color=Qe.OverlaySymbol.Color[Qe.OverlaySymbol.Random%Qe.OverlaySymbol.Color.length],++Qe.OverlaySymbol.Random,this.ChartPaint[0].YClose>0&&this.ChartPaint[0].Data&&(a.MainData=this.ChartPaint[0].Data,a.MainYClose=this.ChartPaint[0].YClose),this.OverlayChartPaint.push(a),this.DayCount<=1?this.RequestOverlayMinuteData():this.RequestOverlayHistoryMinuteData(),!0},this.ResetOverlaySymbolStatus=function(){for(var t in this.OverlayChartPaint){this.OverlayChartPaint[t].Status=At.STATUS_NONE_ID}},this.DeleteOverlaySymbol=function(t){for(var e in this.OverlayChartPaint){var i=this.OverlayChartPaint[e];if(i.Symbol===t)return i.IsDelete=!0,this.OverlayChartPaint.splice(e,1),this.UpdateFrameMaxMin(),this.Draw(),!0}return console.warn("[MinuteChartContainer::DeleteOverlaySymbol] overlay symbol="+t+" not exist."),!1},this.ClearOverlaySymbol=function(){for(var t in this.OverlayChartPaint){this.OverlayChartPaint[t].IsDelete=!0}this.OverlayChartPaint=[],this.Frame.SubFrame[0].Frame.YSplitOperator.OverlayChartPaint=this.OverlayChartPaint,this.TitlePaint[0].OverlayChartPaint=this.OverlayChartPaint,this.UpdateFrameMaxMin(),this.Draw()},this.ShowBeforeData=function(t,e){this.ShowCallAuctionData({Left:t},e)},this.ShowCallAuctionData=function(t,e){if(t){var i=!1;if(Ce.IsBool(t.Left)&&this.IsShowBeforeData!=t.Left&&(this.IsShowBeforeData=t.Left,i=!0),Ce.IsBool(t.Right)&&this.IsShowAfterData!=t.Right&&(this.IsShowAfterData=t.Right,i=!0),t.MultiDay){var a=t.MultiDay;Ce.IsBool(a.Left)&&this.IsShowMultiDayBeforeData!=a.Left&&(this.IsShowMultiDayBeforeData=a.Left,i=!0),Ce.IsBool(a.Right)&&this.IsShowMultiDayAfterData!=a.Right&&(this.IsShowMultiDayAfterData=a.Right,i=!0)}if(e){if(e.BeforeOpen){a=e.BeforeOpen;Ce.IsNumber(a.Left)&&this.ExtendWidth.Left!=a.Left&&(this.ExtendWidth.Left=a.Left,i=!0)}if(e.AfterClose){a=e.AfterClose;Ce.IsNumber(a.Right)&&this.ExtendWidth.Right!=a.Right&&(this.ExtendWidth.Right=a.Right,i=!0)}if(e.MultiDay){a=e.MultiDay;Ce.IsNumber(a.Left)&&this.MultiDayExtendWidth.Left!=a.Left&&(this.MultiDayExtendWidth.Left=a.Left,i=!0),Ce.IsNumber(a.Right)&&this.MultiDayExtendWidth.Right!=a.Right&&(this.MultiDayExtendWidth.Right=a.Right,i=!0)}}i&&this.RequestData()}},this.RequestData=function(){this.DayCount<=1?this.RequestMinuteData():this.RequestHistoryMinuteData()},this.ChangeDrawType=function(t){if(!(this.ChartPaint.length<=0)){if(0==t)this.ChartPaint[0].IsDrawArea=!0;else{if(1!=t)return;this.ChartPaint[0].IsDrawArea=!1}this.Draw()}},this.UpdateDataOffset=function(){this.SourceData.DataOffset=this.DayOffset.DataOffset;for(var t=0;t<this.ChartPaint.length;++t){(r=this.ChartPaint[t]).Data&&(r.Data.DataOffset=this.DayOffset.DataOffset,"ChartMinuteVolumBar"!=r.ClassName&&"ChartMinutePriceLine"!=r.ClassName||(r.DayOffset=this.DayOffset))}for(t=0;t<this.OverlayChartPaint.length;++t){(r=this.OverlayChartPaint[t]).Data&&(r.Data.DataOffset=this.DayOffset.DataOffset)}for(t=0;t<this.Frame.SubFrame.length;++t)for(var e=this.Frame.SubFrame[t],i=0;i<e.OverlayIndex.length;++i)for(var a=e.OverlayIndex[i],n=0;n<a.ChartPaint.length;++n){var r;(r=a.ChartPaint[n]).Data&&(r.Data.DataOffset=this.DayOffset.DataOffset)}},this.RequestHistoryMinuteData=function(){var t=this;if(this.IsBeforeData=!1,this.IsAfterData=!1,this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.Draw(),this.NetworkFilter){var e={Name:"MinuteChartContainer::RequestHistoryMinuteData",Explain:"多日分时数据",Request:{Url:t.HistoryMinuteApiUrl,Data:{daycount:t.DayCount,symbol:t.Symbol},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteData(e)}),1==e.PreventDefault)return}C.HttpRequest({url:t.HistoryMinuteApiUrl,data:{symbol:t.Symbol,daycount:t.DayCount},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteData(e)}})},this.RecvHistoryMinuteData=function(t){if(this.EnableVerifyRecvData&&t.symbol!=this.Symbol)g.Chart.Warn("[MinuteChartContainer::RecvHistoryMinuteData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.symbol+"]");else{this.DayData=oi.JsonDataToMinuteDataArray(t),this.ColorLineData=oi.JsonDataToHistoryMinuteLineColorData(t),this.MultiDayBeforeOpenData=oi.JosnDataToBeforeOpenDataArray(t),this.MultiDayAfterCloseData=oi.JosnDataToAfterCloseDataArray(t);var e=oi.JsonDataToHistoryMinuteLastUpdateTime(t);this.CaclutateCallCationYRange(),this.Symbol=t.symbol,this.Name=t.name,this.SetCallCationDataBorder({Left:!1,Right:!1,MultiDay:{Left:this.IsShowMultiDayBeforeData,Right:this.IsShowMultiDayAfterData}}),this.CaclutateLimitPrice(this.DayData[0].YClose,t.data[0].limitprice),this.UpdateHistoryMinuteUI(e),this.RecvMinuteDataEvent({FunctionName:"RecvHistoryMinuteData"}),this.RequestOverlayHistoryMinuteData(),this.BindAllOverlayIndexData(this.SourceData),this.AutoUpdateEvent(!0,"MinuteChartContainer::RequestHistoryMinuteData"),this.AutoUpdate()}},this.CaclutateCallCationYRange=function(){var t=null,e=null;if(Ce.IsNonEmptyArray(this.MultiDayAfterCloseData)){for(var i={Max:null,Min:null},a=0;a<this.MultiDayAfterCloseData.length;++a){var n=this.MultiDayAfterCloseData[a];null==i.Max?i.Max=n.VolMax:i.Max<n.VolMax&&(i.Max=n.VolMax),null==i.Min?i.Min=n.VolMin:i.Min>n.VolMin&&(i.Min=n.VolMin)}t=i}if(Ce.IsNonEmptyArray(this.MultiDayBeforeOpenData)){for(i={Max:null,Min:null},a=0;a<this.MultiDayBeforeOpenData.length;++a){n=this.MultiDayBeforeOpenData[a];null==i.Max?i.Max=n.VolMax:i.Max<n.VolMax&&(i.Max=n.VolMax),null==i.Min?i.Min=n.VolMin:i.Min>n.VolMin&&(i.Min=n.VolMin)}e=i}if(2==this.ShareAfterVol&&t&&e){var r=Math.max(t.Max,e.Max),o=Math.min(t.Min,e.Min);t.Max=e.Max=r,t.Min=e.Min=o}if(t)for(a=0;a<this.MultiDayAfterCloseData.length;++a){(n=this.MultiDayAfterCloseData[a]).VolMax=t.Max,n.VolMin=t.Min}if(e)for(a=0;a<this.MultiDayBeforeOpenData.length;++a){(n=this.MultiDayBeforeOpenData[a]).VolMax=e.Max,n.VolMin=e.Min}},this.UpdateHistoryMinuteUI=function(t){var e=this.HistoryMinuteDataToArray(this.DayData),i=new mt;if(i.Data=e,t&&(i.UpdateTime=t),this.SourceData=i,this.TradeDate=this.DayData[0].Date,this.PageInfo&&this.PageInfo.Enable){this.DayOffset.DayCount=this.DayData.length,-1==this.DayOffset.ShowDayCount&&(this.DayOffset.ShowDayCount=this.DayData.length),-8888==this.DayOffset.Offset&&(this.DayOffset.Offset=this.DayOffset.DayCount-this.DayOffset.ShowDayCount);var a=this.DayOffset.ShowDayCount;this.Frame.SetDayCount(a)}else{this.DayOffset.Offset=0,this.DayOffset.ShowDayCount=this.DayData.length;a=this.DayOffset.ShowDayCount;this.Frame.SetDayCount(this.DayData.length)}var n=this.Symbol.toUpperCase(),r=this.DayData[0].YClose,o=Ii.IsFutures(n);Ce.IsNumber(this.DayData[0].YClearing)&&o&&(r=this.DayData[0].YClearing),this.BindMainData(i,r),Ii.IsForeignExchange(n)&&(this.ChartPaint[1].Data=null);for(var s=0;s<this.Frame.SubFrame.length;++s){var l=this.Frame.SubFrame[s];for(var h in l.Frame.XSplitOperator.Symbol=this.Symbol,l.Frame.XSplitOperator.DayCount=a,l.Frame.XSplitOperator.DayData=this.DayData,l.Frame.XSplitOperator.Operator(),l.Frame.XSplitOperator.IsBeforeData=this.IsBeforeData,l.Frame.XSplitOperator.IsAfterData=this.IsAfterData,l.Frame.YSplitOperator.Symbol=this.Symbol,l.Frame.YSplitOperator.IsBeforeData=this.IsBeforeData,l.Frame.YSplitOperator.IsAfterData=this.IsAfterData,l.OverlayIndex){var u=l.OverlayIndex[h];u.Frame.XPointCount=l.Frame.XPointCount,u.Frame.MinuteCount=l.Frame.MinuteCount}}if(this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.IsBeforeData=this.IsBeforeData,this.ChartCorssCursor.StringFormatX.IsAfterData=this.IsAfterData,this.TitlePaint[0].IsShowDate=!0,this.UpdateDataOffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.Frame.SubFrame.length>2){var c=new mt;c.Data=e;for(var d=2;d<this.Frame.SubFrame.length;++d)this.BindIndexData(d,c)}},this.HistoryMinuteDataToArray=function(t){for(var e=[],i=t.length-1;i>=0;--i)for(var a=t[i],n=0;n<a.Data.length;++n)e.push(a.Data[n]);return e},this.UpdateLatestMinuteData=function(t,e,i){if(this.DayData)for(var a=0;a<this.DayData.length;++a){var n=this.DayData[a];if(n.Date===e){n.Data=t,i&&Ce.IsNumber(i.yclose)&&(n.YClose=i.yclose);break}}},this.UpdateLatestMinuteDataV2=function(t){if(this.DayCount>1){if(!this.DayData)return;for(var e=null,i=0;i<this.DayData.length;++i){if((o=this.DayData[i]).Date===date){e=o;break}}if(!e)return;var a=-1,n=t.Data[0];for(i=0;i<e.Data.length;++i){if((o=e.Data[i]).Date==n.Date&&o.Time==n.Time){a=i;break}}a<0&&(a=e.Data.length);i=0;for(var r=a;i<t.Data.length;++i,++r){var o=t.Data[i];e.Data[r]=o}}else{if(!this.SourceData)return;for(a=-1,n=t.Data[0],i=0;i<this.SourceData.Data.length;++i){if((o=this.SourceData.Data[i]).Date==n.Date&&o.Time==n.Time){a=i;break}}a<0&&(a=this.SourceData.Data.length);for(i=0,r=a;i<t.Data.length;++i,++r){o=t.Data[i];this.SourceData.Data[r]=o}}},this.RequestMinuteData=function(){var t=this,e=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","minute","minutecount"],i=this.Symbol.toUpperCase();if(Ii.IsFutures(i)&&(e.push("clearing"),e.push("yclearing")),this.IsBeforeData=!1,this.IsShowBeforeData&&1===this.DayCount&&Ii.IsSHSZStockA(t.Symbol)&&(this.IsBeforeData=!0,e.push("before")),this.IsAfterData=!1,this.IsShowAfterData&&1===this.DayCount&&Ii.IsSHSZStockA(t.Symbol)&&(this.IsAfterData=!0),this.NetworkFilter){var a=null;if(this.DayCount>1){if(Ce.IsNonEmptyArray(this.DayData))a=this.DayData[0].GetDateRange()}else this.SourceData&&(a=this.SourceData.GetDateRange());var n={Before:this.IsShowBeforeData&&1===this.DayCount,After:this.IsShowAfterData&&1===this.DayCount},r={Name:"MinuteChartContainer::RequestMinuteData",Explain:"最新分时数据",Request:{Url:t.MinuteApiUrl,Data:{field:e,symbol:[t.Symbol],callcation:n},Type:"POST"},Self:this,PreventDefault:!1};if(a&&(r.DateRange=a),this.NetworkFilter(r,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteData(e)}),1==r.PreventDefault)return}C.HttpRequest({url:t.MinuteApiUrl,data:{field:e,symbol:[t.Symbol],start:-1},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteData(e)}})},this.RecvMinuteDataEvent=function(t){if(this.mapEvent.has(b.RECV_MINUTE_DATA)){var e=this.mapEvent.get(b.RECV_MINUTE_DATA),i={MinuteData:this.SourceData,Stock:{Symbol:this.Symbol,Name:this.Name},Option:t};e.Callback(e,i,this)}},this.UpdateLineColorData=function(t,e){if(this.ColorLineData){var i=this.ColorLineData.filter(function(t,i,a){return t.Date!=e});if(Ce.IsNonEmptyArray(t))for(var a in t)i.push(t[a]);this.ColorLineData=i}else this.ColorLineData=t},this.UpdateCallCationData=function(t,e){t&&Ce.IsNonEmptyArray(this.MultiDayBeforeOpenData)&&(this.MultiDayBeforeOpenData[this.MultiDayBeforeOpenData.length-1].Date==t.Date&&(this.MultiDayBeforeOpenData[this.MultiDayBeforeOpenData.length-1]=t));e&&Ce.IsNonEmptyArray(this.MultiDayAfterCloseData)&&(this.MultiDayAfterCloseData[this.MultiDayBeforeOpenData.length-1].Date==e.Date&&(this.MultiDayAfterCloseData[this.MultiDayAfterCloseData.length-1]=e));this.CaclutateCallCationYRange()},this.RecvUpdateMinuteData=function(t){var e=oi.JsonDataToUpdateMinuteData(t),i=oi.JsonDataToMinuteLineColorData(t);this.BeforeOpenData=null,this.AfterCloseData=null;var a=oi.JsonDataToBeforeOpenData(t),n=oi.JsonDataToAfterCloseData(t),r=oi.JsonDataToMinuteLastUpdateTime(t);if(this.DayCount>1)return this.UpdateCallCationData(a,n),this.UpdateLineColorData(i,e.date),this.UpdateLatestMinuteDataV2(e),this.UpdateHistoryMinuteUI(r),this.RecvMinuteDataEvent({FunctionName:"RecvUpdateMinuteData"}),this.RequestOverlayMinuteData(),this.BindAllOverlayIndexData(this.SourceData),this.AutoUpdateEvent(!0,"MinuteChartContainer::RecvUpdateMinuteData"),void this.AutoUpdate();this.UpdateLatestMinuteDataV2(e);var o=this.SourceData,s=this.SourceData.Data;if(this.ColorLineData=i,this.TradeDate=t.stock[0].date,this.Frame.SetDayCount(1),this.SourceData.UpdateTime=r,this.Symbol=e.Symbol,this.Name=e.Name,this.SetCallCationDataBorder({Left:this.IsBeforeData,Right:this.IsAfterData,MultiDay:{Left:!1,Right:!1}}),2==this.ShareAfterVol&&this.BeforeOpenData&&this.AfterCloseData){var l=Math.max(this.BeforeOpenData.VolMax,this.AfterCloseData.VolMax),h=Math.min(this.BeforeOpenData.VolMin,this.AfterCloseData.VolMin);this.BeforeOpenData.VolMax=this.AfterCloseData.VolMax=l,this.BeforeOpenData.VolMin=this.AfterCloseData.VolMin=h}var u=e.YClose,c=this.Symbol.toUpperCase(),d=Ii.IsFutures(c);e.YClearing>0&&d&&(u=e.YClearing),this.CaclutateLimitPrice(u,e.LimitPrice);var f=null;if(e.High>0&&e.Low>0&&(f={High:e.High,Low:e.Low}),this.BindMainData(o,u,f),this.Frame.SubFrame.length>2){var p=new mt;p.Data=s;for(var m=2;m<this.Frame.SubFrame.length;++m)this.BindIndexData(m,p)}for(var v=0;v<this.Frame.SubFrame.length;++v){var g=this.Frame.SubFrame[v];if(g.Frame.XSplitOperator.Symbol=this.Symbol,g.Frame.XSplitOperator.DayCount=1,g.Frame.XSplitOperator.Operator(),g.Frame.YSplitOperator.Symbol=this.Symbol,Ce.IsNonEmptyArray(g.OverlayIndex))for(var C=0;C<g.OverlayIndex.length;++C){var D=g.OverlayIndex[C];D.Frame.XPointCount=g.Frame.XPointCount,D.Frame.MinuteCount=g.Frame.MinuteCount}}this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.Symbol=this.Symbol,Ii.IsSHSZ(c)&&(this.TitlePaint[0].IsShowDate=!1),1==t.stock[0].IsHistoryMinute&&(this.TitlePaint[0].IsShowDate=!0);var y=this.GetChartMinuteInfo();y&&(y.SourceData=this.SourceData),this.RecvMinuteDataEvent({FunctionName:"RecvUpdateMinuteData"}),this.RequestMinuteInfoData(),this.RequestOverlayMinuteData(),this.CreateChartDrawPictureByStorage(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.BindAllOverlayIndexData(this.SourceData),this.AutoUpdateEvent(!0,"MinuteChartContainer::RecvUpdateMinuteData"),this.AutoUpdate()},this.RecvMinuteData=function(t){if(t)if(1!=t.dataType){if(t.stock[0])if(t.stock[0].symbol!=this.Symbol&&this.EnableVerifyRecvData)g.Chart.Warn("[MinuteChartContainer::RecvMinuteData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.stock[0].symbol+"]");else{var e=oi.JsonDataToMinuteData(t),i=oi.JsonDataToMinuteLineColorData(t);this.BeforeOpenData=null,this.AfterCloseData=null;var a=oi.JsonDataToBeforeOpenData(t),n=oi.JsonDataToAfterCloseData(t),r=oi.JsonDataToMinuteLastUpdateTime(t);if(this.IsBeforeData&&(this.BeforeOpenData=a),this.IsAfterData&&(this.AfterCloseData=n),this.DayCount>1)return this.UpdateCallCationData(a,n),this.UpdateLineColorData(i,t.stock[0].date),this.UpdateLatestMinuteData(e,t.stock[0].date,t.stock[0]),this.UpdateHistoryMinuteUI(r),this.RecvMinuteDataEvent({FunctionName:"RecvMinuteData"}),this.RequestOverlayMinuteData(),this.BindAllOverlayIndexData(this.SourceData),this.AutoUpdateEvent(!0,"MinuteChartContainer::RecvMinuteData"),void this.AutoUpdate();var o=new mt;if(o.Data=e,o.UpdateTime=r,this.ColorLineData=i,this.TradeDate=t.stock[0].date,this.Frame.SetDayCount(1),this.SourceData=o,this.Symbol=t.stock[0].symbol,this.Name=t.stock[0].name,this.SetCallCationDataBorder({Left:this.IsBeforeData,Right:this.IsAfterData,MultiDay:{Left:!1,Right:!1}}),2==this.ShareAfterVol&&this.BeforeOpenData&&this.AfterCloseData){var s=Math.max(this.BeforeOpenData.VolMax,this.AfterCloseData.VolMax),l=Math.min(this.BeforeOpenData.VolMin,this.AfterCloseData.VolMin);this.BeforeOpenData.VolMax=this.AfterCloseData.VolMax=s,this.BeforeOpenData.VolMin=this.AfterCloseData.VolMin=l}var h=t.stock[0].yclose,u=this.Symbol.toUpperCase(),c=Ii.IsFutures(u);t.stock[0].yclearing>0&&c&&(h=t.stock[0].yclearing),this.CaclutateLimitPrice(h,t.stock[0].limitprice);var d=null;if(t.stock[0].high>0&&t.stock[0].low>0&&(d={High:t.stock[0].high,Low:t.stock[0].low}),this.BindMainData(o,h,d),this.Frame.SubFrame.length>2){var f=new mt;f.Data=e;for(var p=2;p<this.Frame.SubFrame.length;++p)this.BindIndexData(p,f)}for(var m in this.Frame.SubFrame){var v=this.Frame.SubFrame[m];for(var C in v.Frame.XSplitOperator.Symbol=this.Symbol,v.Frame.XSplitOperator.DayCount=1,v.Frame.XSplitOperator.Operator(),v.Frame.YSplitOperator.Symbol=this.Symbol,v.OverlayIndex){var D=v.OverlayIndex[C];D.Frame.XPointCount=v.Frame.XPointCount,D.Frame.MinuteCount=v.Frame.MinuteCount}}this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.Symbol=this.Symbol,Ii.IsSHSZ(u)&&(this.TitlePaint[0].IsShowDate=!1),1==t.stock[0].IsHistoryMinute&&(this.TitlePaint[0].IsShowDate=!0);var y=this.GetChartMinuteInfo();y&&(y.SourceData=this.SourceData),this.RecvMinuteDataEvent({FunctionName:"RecvMinuteData"}),this.RequestMinuteInfoData(),this.RequestOverlayMinuteData(),this.CreateChartDrawPictureByStorage(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.BindAllOverlayIndexData(this.SourceData),this.AutoUpdateEvent(!0,"MinuteChartContainer::RecvMinuteData"),this.AutoUpdate()}}else this.RecvUpdateMinuteData(t);else g.Chart.Warn("[MinuteChartContainer::RecvMinuteData] recv data is null")},this.CaclutateLimitPrice=function(t,e){if(this.LimitPrice=null,e&&e.max>0&&e.min>0)this.LimitPrice={Max:e.max,Min:e.min};else{var i=Ii.GetLimitPriceRange(this.Symbol,this.Name);i?t<=0||(this.LimitPrice={Max:t*(1+i.Max),Min:t*(1+i.Min)},g.Chart.Log("[MinuteChartContainer::CaclutateLimitPrice] "+this.Symbol+" yClose:"+t+" max:"+this.LimitPrice.Max+" min:"+this.LimitPrice.Min),this.LimitPrice.Max=parseFloat(this.LimitPrice.Max.toFixed(2)),this.LimitPrice.Min=parseFloat(this.LimitPrice.Min.toFixed(2)),g.Chart.Log("[MinuteChartContainer::CaclutateLimitPrice] "+this.Symbol+" tofixed(2) max:"+this.LimitPrice.Max+" min:"+this.LimitPrice.Min)):g.Chart.Log("[MinuteChartContainer::CaclutateLimitPrice] "+this.Symbol+" no limit price.")}},this.RequestOverlayMinuteData=function(){for(var t=this,e=this,i=this.TradeDate,a=function(){var a=t.OverlayChartPaint[n];return a.MainData&&a.MainYClose>0?a.Status!=At.STATUS_NONE_ID?"continue":(r=a.Symbol)?(a.Status=At.STATUS_REQUESTDATA_ID,t.NetworkFilter&&(o={Name:"MinuteChartContainer::RequestOverlayMinuteData",Explain:"叠加股票最新分时数据",Request:{Url:e.HistoryMinuteApiUrl,Data:{days:[i],symbol:r},Type:"POST"},Self:t,PreventDefault:!1},t.NetworkFilter(o,function(t){a.Status=At.STATUS_RECVDATA_ID,e.RecvOverlayMinuteData(t,a)}),1==o.PreventDefault)?"continue":void C.HttpRequest({url:e.HistoryMinuteApiUrl,data:{symbol:r,days:[i]},type:"post",dataType:"json",async:!0,success:function(t){a.Status=At.STATUS_RECVDATA_ID,e.RecvOverlayMinuteData(t,a)}})):"continue":"continue"},n=0;n<this.OverlayChartPaint.length;++n){var r,o;a()}},this.RecvMultiOverlayMinuteData=function(t){if(Ce.IsNonEmptyArray(t)){for(var e=!1,i=0;i<t.length;++i){var a=t[i];if(a.symbol)for(var n=0;n<this.OverlayChartPaint.length;++n){var r=this.OverlayChartPaint[n];if(r.MainData&&r.MainYClose>0&&a.symbol==r.Symbol){this.RecvOverlayMinuteData(a,r,{Redraw:!1}),e=!0;break}}}e&&(this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw())}},this.RecvOverlayMinuteData=function(t,e,i){if(!e.IsDelete)if(this.EnableVerifyRecvData&&t.symbol!=e.Symbol)g.Chart.Warn("[MinuteChartContainer::RecvOverlayMinuteData] recv data symbol not match. paint["+e.Symbol+"] , Recv["+t.symbol+"]");else{var a,n=oi.JsonDataToMinuteDataArray(t),r=null;if(this.DayCount>1){if(n.length<=0)return;var o=n[0];for(var s in e.SourceData){if(e.SourceData[s].Date==o.Date){e.SourceData[s]=o;var l=this.HistoryMinuteDataToArray(e.SourceData);(r=new mt).Data=l,a=o.YClose;break}}if(null==r)return}else a=(r=n.length>0?n[0]:new mt).YClose;e.Data=r,e.Title=t.name,e.Symbol=t.symbol,e.YClose=a,e.Status=At.STATUS_FINISHED_ID;var h=!0;i&&0==i.Redraw&&(h=!1),h&&(this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw())}},this.RequestOverlayHistoryMinuteData=function(){var t=this;if(Ce.IsNonEmptyArray(this.DayData)){for(var e=this,i=[],a=0;a<this.DayData.length;++a){var n=this.DayData[a];i.push(n.Date)}if(!(i.length<=0)){var r=function(){var n=t.OverlayChartPaint[a];return(o=n.Symbol)?n.Status!=At.STATUS_NONE_ID?"continue":(n.Status=At.STATUS_REQUESTDATA_ID,t.NetworkFilter&&(s={Name:"MinuteChartContainer::RequestOverlayHistoryMinuteData",Explain:"叠加股票多日分时数据",Request:{Url:e.HistoryMinuteApiUrl,Data:{days:i,symbol:o},Type:"POST"},Self:t,PreventDefault:!1},t.NetworkFilter(s,function(t){n.Status=At.STATUS_RECVDATA_ID,e.RecvOverlayHistoryMinuteData(t,n)}),1==s.PreventDefault)?"continue":void C.HttpRequest({url:e.HistoryMinuteApiUrl,data:{symbol:o,days:i},type:"post",dataType:"json",async:!0,success:function(t){n.Status=At.STATUS_RECVDATA_ID,e.RecvOverlayHistoryMinuteData(t,n)}})):"continue"};for(a=0;a<this.OverlayChartPaint.length;++a){var o,s;r()}}}},this.RecvOverlayHistoryMinuteData=function(t,e){if(this.EnableVerifyRecvData&&t.symbol!=e.Symbol)g.Chart.Warn("[MinuteChartContainer::RecvOverlayHistoryMinuteData] recv data symbol not match. paint["+e.Symbol+"] , Recv["+t.symbol+"]");else if(Ce.IsNonEmptyArray(this.DayData)){var i=oi.JsonDataToMinuteDataArray(t);if(Ce.IsNonEmptyArray(i)){for(var a=[],n=0;n<this.DayData.length;++n){for(var r=this.DayData[n],o=!1,s=0;s<i.length;++s)if(r.Date==i[s].Date){a.push(i[s]),o=!0;break}if(!o){var l=new mt;l.Date=r.Date,a.push(l)}}e.SourceData=a;var h=this.HistoryMinuteDataToArray(a),u=a[0].YClose,c=new mt;c.Data=h,e.Data=c,e.Title=t.name,e.Symbol=t.symbol,e.YClose=u,e.Status=At.STATUS_FINISHED_ID,this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=void 0)},this.AutoUpdate=function(){if(this.CancelAutoUpdate(),this.IsAutoUpdate&&this.Symbol){var t=this,e=Ii.GetMarketStatus(this.Symbol);if(0!=e&&3!=e){var i=this.AutoUpdateFrequency;1==e?this.AutoUpdateTimer=setTimeout(function(){t.AutoUpdate()},i):2==e&&(this.AutoUpdateTimer=setTimeout(function(){t.ResetOverlaySymbolStatus(),t.RequestMinuteData()},i))}else this.AutoUpdateTimer=setTimeout(function(){t.AutoUpdate()},2e4)}},this.BindIndexData=function(t,e){this.WindowIndex[t]&&("function"!=typeof this.WindowIndex[t].RequestData?"function"!=typeof this.WindowIndex[t].ExecuteScript?this.WindowIndex[t].BindData(this,t,e):this.WindowIndex[t].ExecuteScript(this,t,e):this.WindowIndex[t].RequestData(this,t,e))},this.BindMainData=function(t,e,i){var a=this.IsShowMultiDayBeforeData?this.MultiDayBeforeOpenData:null,n=this.IsShowMultiDayAfterData?this.MultiDayAfterCloseData:null,r=new mt;if(r.Data=t.GetClose(),this.ChartPaint[0].Data=r,this.ChartPaint[0].YClose=e,this.ChartPaint[0].NotSupportMessage=null,this.ChartPaint[0].IsShowLead=!1,this.ChartPaint[0].LeadData=null,this.ChartPaint[0].BeforeOpenData=this.BeforeOpenData,this.ChartPaint[0].AfterCloseData=this.AfterCloseData,this.ChartPaint[0].MultiDayBeforeOpenData=a,this.ChartPaint[0].MultiDayAfterCloseData=n,this.ChartPaint[0].ColorLineData=this.ColorLineData,this.ChartPaint[0].Source=t,Ii.IsSHSZIndex(this.Symbol)&&1==this.DayCount&&this.IsShowLead){var o=new mt;o.Data=t.GetLead(),this.ChartPaint[0].LeadData=o,this.ChartPaint[0].IsShowLead=!0}var s=this.Frame.SubFrame[0].Frame;for(var l in s.YSplitOperator.YClose=e,s.YSplitOperator.Data=r,this.Frame.Data=this.ChartPaint[0].Data,this.Frame.SourceData=t,this.Frame.SubFrame){(u=this.Frame.SubFrame[l].Frame).Data=t}(r=new mt).Data=t.GetMinuteAvPrice(),this.ChartPaint[1].Data=r;var h=this.Symbol.toUpperCase();for(var l in Ii.IsForeignExchange(h)?this.ChartPaint[1].Data=null:Ii.IsShowAvPrice&&!Ii.IsShowAvPrice(h)&&(this.ChartPaint[1].Data=null),s.YSplitOperator.AverageData=r,s.YSplitOperator.OverlayChartPaint=this.OverlayChartPaint,s.YSplitOperator.LimitPrice=this.LimitPrice,s.YSplitOperator.MultiDayBeforeOpenData=a,s.YSplitOperator.MultiDayAfterCloseData=n,s.YSplitOperator.DayCount=this.DayCount,i?(s.YSplitOperator.High=i.High,s.YSplitOperator.Low=i.Low):(s.YSplitOperator.High=null,s.YSplitOperator.Low=null),this.ChartPaint[2].Data=t,this.ChartPaint[2].YClose=e,this.ChartPaint[2].Symbol=this.Symbol,this.ChartPaint[2].BeforeOpenData=this.BeforeOpenData,this.ChartPaint[2].AfterCloseData=this.AfterCloseData,this.ChartPaint[2].MultiDayBeforeOpenData=a,this.ChartPaint[2].MultiDayAfterCloseData=n,this.Frame.SubFrame){(u=this.Frame.SubFrame[l]).Frame.YSplitOperator.BeforeOpenData=this.BeforeOpenData,u.Frame.YSplitOperator.IsBeforeData=this.IsBeforeData,u.Frame.YSplitOperator.AfterCloseData=this.AfterCloseData,u.Frame.YSplitOperator.IsAfterData=this.IsAfterData,u.Frame.YSplitOperator.MultiDayBeforeOpenData=a,u.Frame.YSplitOperator.MultiDayAfterCloseData=n}for(var l in Ii.IsShowMinutePostionLine(h)?this.BindOverlayPositionData(t,e):this.ClearBindOverlayPositionData(),this.TitlePaint[0].Data=this.SourceData,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=this.Name,this.TitlePaint[0].YClose=e,this.TitlePaint[0].BeforeOpenData=this.BeforeOpenData,this.TitlePaint[0].AfterCloseData=this.AfterCloseData,this.TitlePaint[0].MultiDayBeforeOpenData=this.IsShowMultiDayBeforeData?this.MultiDayBeforeOpenData:null,this.TitlePaint[0].MultiDayAfterCloseData=this.IsShowMultiDayAfterData?this.MultiDayAfterCloseData:null,this.TitlePaint[0].CallAcutionXOperator&&(this.TitlePaint[0].CallAcutionXOperator.BeforeOpenData=this.BeforeOpenData,this.TitlePaint[0].CallAcutionXOperator.AfterCloseData=this.AfterCloseData,this.TitlePaint[0].CallAcutionXOperator.MultiDayBeforeOpenData=a,this.TitlePaint[0].CallAcutionXOperator.MultiDayAfterCloseData=n,this.TitlePaint[0].CallAcutionXOperator.DayOffset=this.DayOffset),this.ChartCorssCursor&&this.ChartCorssCursor.StringFormatY&&(this.ChartCorssCursor.StringFormatY.YClose=e,this.ChartCorssCursor.StringFormatY.BeforeOpenData=this.BeforeOpenData,this.ChartCorssCursor.StringFormatY.AfterCloseData=this.AfterCloseData,this.ChartCorssCursor.StringFormatY.MultiDayBeforeOpenData=a,this.ChartCorssCursor.StringFormatY.MultiDayAfterCloseData=n,this.ChartCorssCursor.StringFormatY.DayOffset=this.DayOffset,this.ChartCorssCursor.StringFormatX.Data=this.ChartPaint[0].Data,this.ChartCorssCursor.StringFormatX.BeforeOpenData=this.BeforeOpenData,this.ChartCorssCursor.StringFormatX.AfterCloseData=this.AfterCloseData,this.ChartCorssCursor.StringFormatX.MultiDayBeforeOpenData=a,this.ChartCorssCursor.StringFormatX.MultiDayAfterCloseData=n,this.ChartCorssCursor.StringFormatX.DayOffset=this.DayOffset,this.ChartCorssCursor.CallAcutionXOperator&&(this.ChartCorssCursor.CallAcutionXOperator.BeforeOpenData=this.BeforeOpenData,this.ChartCorssCursor.CallAcutionXOperator.AfterCloseData=this.AfterCloseData,this.ChartCorssCursor.CallAcutionXOperator.MultiDayBeforeOpenData=a,this.ChartCorssCursor.CallAcutionXOperator.MultiDayAfterCloseData=n,this.ChartCorssCursor.CallAcutionXOperator.DayOffset=this.DayOffset)),this.ExtendChartPaint[0]&&(this.ExtendChartPaint[0].Symbol=this.Symbol,this.ExtendChartPaint[0].Name=this.Name),this.OverlayChartPaint){var u;(u=this.OverlayChartPaint[l]).MainData=this.ChartPaint[0].Data,u.MainYClose=e}},this.BindOverlayPositionData=function(t,e){if(!(this.Frame.SubFrame.length<2)){for(var i=null,a=null,n=this.Frame.SubFrame[1],r=null,o=0;o<n.OverlayIndex.length;++o){if("Position_Line_Frame"==(s=n.OverlayIndex[o]).Identify){r=s;break}}if(r){a=r.Frame;for(o=0;o<r.ChartPaint.length;++o){var s;if("Position-Line"==(s=r.ChartPaint[o]).Name){i=s;break}}i||((i=new Lt).Canvas=this.Canvas,i.Name="Position-Line",i.ChartBorder=a.ChartBorder,i.ChartFrame=a,i.Identify=r.Identify,i.Color=Qe.Minute.PositionColor,r.ChartPaint.push(i))}else{(r=new at).Identify="Position_Line_Frame",(a="MinuteChartContainer"==this.ClassName?new q:new J).Canvas=this.Canvas,a.MainFrame=n.Frame,a.ChartBorder=n.Frame.ChartBorder,r.Frame=a,a.YSplitOperator=new ye,a.YSplitOperator.LanguageID=this.LanguageID,a.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),a.YSplitOperator.Frame=a,a.YSplitOperator.ChartBorder=a.ChartBorder,a.YSplitOperator.SplitCount=n.Frame.YSplitOperator.SplitCount,(i=new Lt).Canvas=this.Canvas,i.Name="Position-Line",i.ChartBorder=a.ChartBorder,i.ChartFrame=a,i.Identify=r.Identify,i.Color=Qe.Minute.PositionColor,r.ChartPaint.push(i),n.OverlayIndex.push(r),n.Frame.RightFrame=a}var l=this.Frame.SubFrame[0].Frame.XPointCount;a.XPointCount=l,n.Frame.IsShowPositionTitle=!0;var h=new mt;h.Data=t.GetPosition(),i.Data=h}},this.ClearBindOverlayPositionData=function(){if(!(this.Frame.SubFrame.length<2)){var t=this.Frame.SubFrame[1];for(var e in t.Frame.RightFrame=null,t.Frame.IsShowPositionTitle=!1,t.OverlayIndex){if("Position_Line_Frame"==t.OverlayIndex[e].Identify){t.OverlayIndex.splice(e,1);break}}}},this.AddOverlayIndex=function(t){var e=this.CreateOverlayWindowsIndex(t);if(e){var i=this.SourceData;this.BindOverlayIndexData(e,t.WindowIndex,i),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}},this.CreateOverlayWindowsIndex=function(t){var e=t.IndexName,i=t.WindowIndex,a=null,n=null,r=null;if(t.API)a=t.API;else if(t.Script)n={Script:t.Script,ID:t.indexName,Name:t.indexName},t.Name&&(n.Name=t.Name);else{if(!(n=(new I).Get(e))&&!(r=ii.Get(e)))return console.warn("[MinuteChartContainer::CreateOverlayIndex] can not find index["+e+"]"),null}var o=this.Frame.SubFrame[i];o.Interval=this.OverlayIndexFrameWidth;var s=new at;t.Identify&&(s.Identify=t.Identify);var l=null;if((l="MinuteChartContainer"==this.ClassName?new q:new J).Canvas=this.Canvas,l.MainFrame=o.Frame,l.ChartBorder=o.Frame.ChartBorder,!0===t.ShowRightText?l.IsShow=!0:!1===t.ShowRightText&&(l.IsShow=!1),!0===t.IsShareY&&(l.IsShareY=!0),Ce.IsBool(t.IsCalculateYMaxMin)&&(l.IsCalculateYMaxMin=t.IsCalculateYMaxMin),l.YSplitOperator=new ye,l.YSplitOperator.LanguageID=this.LanguageID,l.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),l.YSplitOperator.Frame=l,l.YSplitOperator.ChartBorder=l.ChartBorder,l.YSplitOperator.SplitCount=o.Frame.YSplitOperator.SplitCount,s.Frame=l,a){var h=new ra(a.Name,a.Script,a.Args,t,!0);h.OverlayIndex={IsOverlay:!0,Identify:s.Identify,WindowIndex:i,Frame:s},s.Script=h}else if(n){var u=n;t.Args&&(u.Args=t.Args),(c=new na(u.Name,u.Script,u.Args,u)).OverlayIndex={IsOverlay:!0,Identify:s.Identify,WindowIndex:i,Frame:s},s.Script=c}else{var c;(c=r.Create()).OverlayIndex={IsOverlay:!0,Identify:s.Identify,WindowIndex:i,Frame:s},c.Create(this,i),s.Script=c}return o.OverlayIndex.push(s),s},this.DeleteOverlayWindowsIndex=function(t){this.DeleteOverlayIndex(t,null)&&(this.Frame.ResetXYSplit(!0),this.Draw())},this.BindAllOverlayIndexData=function(t){if(this.Frame&&this.Frame.SubFrame)for(var e=0;e<this.Frame.SubFrame.length;++e){var i=this.Frame.SubFrame[e];for(var a in i.OverlayIndex){var n=i.OverlayIndex[a];this.BindOverlayIndexData(n,e,t)}}},this.BindOverlayIndexData=function(t,e,i){t.Script&&("function"!=typeof t.Script.RequestData?"function"!=typeof t.Script.ExecuteScript?t.Script.BindData(this,e,i):t.Script.ExecuteScript(this,e,i):t.Script.RequestData(this,e,i))},this.GetChartPaint=function(t){var e=new Array;for(var i in this.ChartPaint)if(!(i<3)){var a=this.ChartPaint[i];a.ChartFrame==this.Frame.SubFrame[t].Frame&&e.push(a)}return e},this.CreateWindowIndex=function(t){this.WindowIndex[t].Create(this,t)},this.GetIndexInfo=function(){var t=[];for(var e in this.WindowIndex){var i=this.WindowIndex[e],a={Name:i.Name};i.ID&&(a.ID=i.ID),t.push(a)}return t},this.OnTouchFinished=function(){!0!==this.CorssCursorTouchEnd||this.DrawDynamicInfo()},this.CreateExtendChart=function(t,e){var i;switch(t){case"MinuteTooltip":return(i=e.Create&&"function"==typeof e.Create?e.Create():new pe).Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,e.LanguageID=this.LanguageID,i.SetOption(e),this.ExtendChartPaint.push(i),i;case"MinutePCTooltip":return(i=e.Create&&"function"==typeof e.Create?e.Create():new function(){this.newMethod=de,this.newMethod(),delete this.newMethod,this.IsDynamic=!0,this.IsEraseBG=!0,this.DrawAfterTitle=!0,this.ClassName="MinuteLeftTooltipPaint",this.BorderColor=Qe.PCTooltipPaint.BorderColor,this.BGColor=Qe.PCTooltipPaint.BGColor,this.TitleColor=Qe.PCTooltipPaint.TitleColor,this.DateTimeColor=Qe.PCTooltipPaint.DateTimeColor,this.VolColor=Qe.PCTooltipPaint.VolColor,this.AmountColor=Qe.PCTooltipPaint.AmountColor,this.LanguageID=ti.LANGUAGE_CHINESE_ID,this.TitlePaint,this.UpColor=Qe.UpTextColor,this.DownColor=Qe.DownTextColor,this.UnchagneColor=Qe.UnchagneTextColor,this.YClose,this.Mergin={Left:2,Top:3,Bottom:2,Right:2},this.LineHeight=15,this.FixedWidth,this.Font=Qe.PCTooltipPaint.TitleFont,this.HQChart,this.SetOption=function(t){t.BGColor&&(this.BGColor=t.BGColor),t.LanguageID>0&&(this.LanguageID=t.LanguageID),Ce.IsNumber(t.FixedWidth)&&(this.FixedWidth=t.FixedWidth)},this.IsEnableDraw=function(){if(!this.HQChart||!this.HQChart.TitlePaint||!this.HQChart.TitlePaint[0])return!1;var t=this.HQChart.LastPoint;return!!t&&this.HQChart.IsMouseOnClient(t.X,t.Y)},this.Draw=function(){if(this.IsEnableDraw()&&(this.TitlePaint=this.HQChart.TitlePaint[0],this.TitlePaint)){var t,e=this.TitlePaint.PointInfo;if(e&&(2==e.ClientPos||3==e.ClientPos||e.ClientPos>=200&&e.ClientPos<=299||e.ClientPos>=300&&e.ClientPos<=399)){var i=this.TitlePaint.GetCurrentAuctionData();if(!i)return;t={Type:1,Data:i}}else{var a=this.TitlePaint.GetCurrentKLineData();if(!a)return;t={Type:0,Data:a}}this.YClose=this.TitlePaint.YClose;var n=this.GetForamtTitle(t);if(Ce.IsNonEmptyArray(n)){this.Canvas.font=this.Font,this.Canvas.textBaseline="top",this.LineHeight=F(this.Canvas,null,"擎");var r=this.ChartBorder.GetBorder(),o=this.LineHeight*n.length*2,s={Left:1,Top:1,Right:r.Left};s.Bottom=s.Top+o,s.Width=s.Right-s.Left,s.Height=s.Bottom-s.Top,s.Height+=this.Mergin.Top+this.Mergin.Bottom,s.Bottom=s.Top+s.Height,Ce.IsNumber(this.FixedWidth)&&(s.Width=this.FixedWidth),this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(s.Left,s.Top,s.Width,s.Height),this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(R(s.Left),R(s.Top),k(s.Width),k(s.Height));var l=s.Left+s.Width-this.Mergin.Right,h={Left:this.Mergin.Left+s.Left,Top:this.Mergin.Top+s.Top,Right:l};h.Width=h.Right-h.Left;for(var u=0;u<n.length;++u){var c=n[u];this.DrawText(c,h)}}}},this.DrawText=function(t,e){this.Canvas.fillStyle=t.TitleColor,this.Canvas.textAlign="left",this.Canvas.fillText(t.Title,e.Left,e.Top),e.Top+=this.LineHeight,e.Bottom=e.Top+this.LineHeight,this.Canvas.textAlign="right",this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Text,e.Right,e.Top),e.Top+=this.LineHeight,e.Bottom=e.Top+this.LineHeight},this.GetForamtTitle=function(t){if(!t||!t.Data)return null;var e,i=[];this.HQChart.Symbol&&(e=this.HQChart.Symbol.toUpperCase());var a=Ni(e);if(0==t.Type){var n=t.Data;if((r=this.FormatDate(n.Date))&&i.push(r),(r=this.ForamtTime(n.Time,"HH:MM","PCTooltip-Time"))&&i.push(r),(r=this.ForamtPrice(n.Close,a,"PCTooltip-Price"))&&i.push(r),(r=this.ForamtPrice(n.AvPrice,a,"PCTooltip-AvPrice"))&&i.push(r),(r=this.ForamtIncrease(n.Close,"PCTooltip-Increase"))&&i.push(r),(r=this.FormatVol(n.Vol,"PCTooltip-Vol"))&&i.push(r),Ce.IsNumber(n.Amount)){var r={Title:ei.GetText("PCTooltip-Amount",this.LanguageID),TitleColor:this.TitleColor,Text:Ce.FromatIntegerString(n.Amount,2,this.LanguageID),TextColor:this.AmountColor};i.push(r)}}else if(1==t.Type){n=t.Data.Data,(r=this.FormatDate(n.Date))&&i.push(r);var o="HH:MM:SS";1===n.Ver&&(o="HH:MM"),(r=this.ForamtTime(n.Time,o,"PCTooltip-Time"))&&i.push(r),(r=this.ForamtPrice(n.Price,a,"PCTooltip-AC-Price"))&&i.push(r),(r=this.ForamtIncrease(n.Price,"PCTooltip-AC-Increase"))&&i.push(r),Ce.IsNonEmptyArray(n.Vol)&&((r=this.FormatVol(n.Vol[0],"PCTooltip-AC-Vol"))&&i.push(r),(r=this.FormatVol(n.Vol[1],"PCTooltip-AC-NotMatchVol"))&&i.push(r))}return i},this.GetColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor},this.FormatDate=function(t){return Ce.IsNumber(t)?{Title:ei.GetText("PCTooltip-Date",this.LanguageID),TitleColor:this.TitleColor,Text:Ce.FormatDateString(t,"MM-DD",this.LanguageID),TextColor:this.DateTimeColor}:null},this.ForamtTime=function(t,e,i){return Ce.IsNumber(t)?{Title:ei.GetText(i,this.LanguageID),TitleColor:this.TitleColor,Text:Ce.FormatTimeString(t,e,this.LanguageID),TextColor:this.DateTimeColor}:null},this.ForamtPrice=function(t,e,i){return Ce.IsNumber(t)?{Title:ei.GetText(i,this.LanguageID),TitleColor:this.TitleColor,Text:t.toFixed(e),TextColor:this.GetColor(t,this.YClose)}:null},this.ForamtIncrease=function(t,e){if(!Ce.IsNumber(t)||0==t)return null;var i=(t-this.YClose)/this.YClose*100;return{Title:ei.GetText(e,this.LanguageID),TitleColor:this.TitleColor,Text:i.toFixed(2)+"%",TextColor:this.GetColor(i,0)}},this.FormatVol=function(t,e){return Ce.IsNumber(t)?{Title:ei.GetText(e,this.LanguageID),TitleColor:this.TitleColor,Text:Ce.FromatIntegerString(t,2,this.LanguageID),TextColor:this.VolColor}:null}}).Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,e.LanguageID=this.LanguageID,i.SetOption(e),this.ExtendChartPaint.push(i),i;case"画图工具":return(i=new me).Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.Left=this.Frame.ChartBorder.Right,i.SetOption(e),this.ExtendChartPaint.push(i),this.Frame.ChartBorder.Right+=i.Width,i;case"MinuteBackgroundPaint":return(i=new function(){this.newMethod=de,this.newMethod(),delete this.newMethod,this.ClassName="MinuteBackgroundPaint",this.IsDynamic=!0,this.IsCallbackDraw=!1,this.HQChart,this.Data,this.Font=Qe.DefaultTextFont,this.TextColor=Qe.DefaultTextColor,this.MerginTop=20,this.ID=P(),this.FrameID=0,this.SetOption=function(t){t&&(t.Font&&(this.Font=t.Font),Ce.IsObjectExist(t.ID)&&(this.ID=t.ID),t.FrameID>0&&(this.FrameID=t.FrameID),t.MerginTop>0&&(this.MerginTop=t.MerginTop))},this.Draw=function(){if(this.Data&&this.HQChart&&this.ChartFrame&&this.ChartFrame.SubFrame&&!(this.ChartFrame.SubFrame.length<=this.FrameID)){var t=this.ChartFrame.SubFrame[this.FrameID];if(t&&t.Frame){var e=t.Frame,i=this.HQChart.SourceData;if(i){for(var a=e.XPointCount,n=0,r=null,o=new p.default,s=i.DataOffset,l=0;s<i.Data.length&&l<a;++s,++l)(u=i.Data[s])&&u.Date!=n&&(n=u.Date,r?(r.Right=this.ChartFrame.GetXFromIndex(l-1),o.set(r.Date,r),r={Left:this.ChartFrame.GetXFromIndex(l),Date:u.Date}):r={Left:this.ChartFrame.GetXFromIndex(l),Date:u.Date});r&&!r.Right&&(r.Right=this.ChartFrame.GetXFromIndex(a-1),o.set(r.Date,r)),this.Canvas.textAlign="center",this.Canvas.textBaseline="top";var h=e.ChartBorder.GetTopEx()+this.MerginTop;for(s=0;s<this.Data.length;++s){var u=this.Data[s];if(o.has(u.Date)){var c=(r=o.get(u.Date)).Left+(r.Right-r.Left)/2;u.Font?this.Canvas.font=u.Font:this.Canvas.font=this.Font,u.TextColor?this.Canvas.fillStyle=u.TextColor:this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(u.Text,c,h)}}}}}}}).Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,e.LanguageID=this.LanguageID,i.SetOption(e),this.ExtendChartPaint.push(i),i;default:return(i=ce.Create(t))?(i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.SetOption(e),this.ExtendChartPaint.push(i),i):null}},this.SetMinuteInfo=function(t,e){for(var i in this.ChartInfo=[],t){var a=gi.Get(t[i]);if(a){var n=a.Create();this.ChartInfo.push(n)}}1==e&&this.RequestMinuteInfoData()},this.GetChartMinuteInfo=function(){return this.ChartInfoPaint},this.CreateMinuteInfo=function(t){var e=new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartMinuteInfo",this.Data=new p.default,this.SourceData,this.ChartMinutePrice,this.YClose,this.HQChartBorder,this.TextColor=Qe.MinuteInfo.TextColor,this.Font=Qe.MinuteInfo.Font,this.PointColor=Qe.MinuteInfo.PointColor,this.LineColor=Qe.MinuteInfo.LineColor,this.TextBGColor=Qe.MinuteInfo.TextBGColor,this.PixelTatio=L(),this.TextHeight=20,this.TextRectCache=[],this.InfoDrawCache=[],this.FrameBottom,this.FrameTop,this.FrameLeft,this.FrameRight,this.YOffset=5,this.IsHScreen=!1,this.IsDrawFull=!1,this.TooltipRect=[],this.SetOption=function(t){t.TextColor&&(this.TextColor=t.TextColor),t.TextBGColor&&(this.TextBGColor=t.TextBGColor),t.Font&&(this.Font=t.Font),t.PointColor&&(this.PointColor=t.PointColor),t.LineColor&&(this.LineColor=t.LineColor),t.TextHeight>0&&(this.TextHeight=t.TextHeight),1==t.IsDrawFull&&(this.IsDrawFull=!0)},this.Draw=function(){if(this.TooltipRect=[],this.ChartMinutePrice&&this.Data&&!(this.Data.size<=0)){this.TextRectCache=[],this.InfoDrawCache=[],this.PixelTatio=L(),this.YOffset=5*this.PixelTatio,this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount;this.ChartFrame.MinuteCount,this.FrameBottom=this.ChartBorder.GetBottom(),this.IsDrawFull&&this.HQChartBorder&&(this.FrameBottom=this.HQChartBorder.GetBottom()),this.FrameTop=this.ChartBorder.GetTop(),this.FrameLeft=this.ChartBorder.GetLeft(),this.FrameRight=this.ChartBorder.GetRight(),this.IsHScreen&&(this.FrameRight=this.ChartBorder.GetBottom(),this.FrameLeft=this.ChartBorder.GetTop(),this.FrameBottom=this.ChartBorder.GetLeft(),this.FrameTop=this.ChartBorder.GetRight()),this.YClose=this.ChartMinutePrice.YClose;for(var e=this.ChartMinutePrice.Source,i=e.DataOffset,a=0;i<e.Data.length&&a<t;++i,++a)if(r=e.Data[i]){var n=r.DateTime;this.Data.has(n)&&(this.IsHScreen?this.CalcuateInfoHScreenPosition(this.Data.get(n),a,r):this.CalcuateInfoPosition(this.Data.get(n),a,r))}for(var i in this.InfoDrawCache){var r=this.InfoDrawCache[i];this.DrawInfoLines(r)}for(var i in this.InfoDrawCache)if(r=this.InfoDrawCache[i],this.DrawInfoText(r),!this.IsHScreen){var o=r.Border,s={Data:{Item:r},Rect:new It(o.X,o.Y,o.Width,o.Height)};this.TooltipRect.push(s)}this.TextRectCache=[],this.InfoDrawCache=[]}},this.CalcuateInfoPosition=function(t,e,i){if(t&&t.Data&&!(t.Data.length<=0)){var a=t.Data[0];this.Canvas.font=this.Font;var n,r=this.Canvas.measureText(a.Title).width+4*this.PixelTatio,o=this.TextHeight*this.PixelTatio,s=this.ChartFrame.GetXFromIndex(e);n=Ce.IsNumber(a.Price)?this.ChartFrame.GetYFromData(a.Price):this.ChartFrame.GetYFromData(i.Close);var l=(s=R(s))<this.FrameLeft+Math.abs(this.FrameLeft-this.FrameRight)/2,h=[2,4,6,8,3,5,7],u=o+h[e%h.length]*this.PixelTatio,c={Y:[{Value:n+(o+this.YOffset),Offset:u},{Value:n-(2*o+this.YOffset),Offset:-u}]};i.Close<this.YClose&&(c.Y=c.Y.reverse());var d={X:s,Y:null,Width:r,Height:o};l||(d.X-=d.Width),this.FixTextRect(d,c);var f={Border:d,Start:{X:s,Y:n},IsLeft:l,Title:a.Title,Date:a.Date,Time:a.Time};a.Content&&(f.Content=a.Content),a.Link&&(f.Link=a.Link),a.Color&&(f.Color=a.Color),a.BGColor&&(f.BGColor=a.BGColor),this.InfoDrawCache.push(f),this.TextRectCache.push(d)}},this.CalcuateInfoHScreenPosition=function(t,e,i){if(t&&t.Data&&!(t.Data.length<=0)){var a=t.Data[0];this.Canvas.font=this.Font;var n,r=this.Canvas.measureText(a.Title).width+4*this.PixelTatio,o=this.TextHeight*this.PixelTatio,s=this.ChartFrame.GetXFromIndex(e);n=Ce.IsNumber(a.Price)?this.ChartFrame.GetYFromData(a.Price):this.ChartFrame.GetYFromData(i.Close);var l=(s=R(s))<this.FrameLeft+Math.abs(this.FrameLeft-this.FrameRight)/2,h=[2,4,6,8,3,5,7],u=o+h[e%h.length]*this.PixelTatio,c={X:[{Value:n+(o+this.YOffset),Offset:u},{Value:n-(2*o+this.YOffset),Offset:-u}]};i.Close>this.YClose&&(c.X=c.X.reverse());var d={X:null,Y:s,Width:o,Height:r};l||(d.Y-=d.Height),this.FixHScreenTextRect(d,c);var f={Border:d,Start:{X:n,Y:s},IsLeft:l,Title:a.Title};a.Content&&(f.Content=a.Content),a.Link&&(f.Link=a.Link),a.Color&&(f.Color=a.Color),a.BGColor&&(f.BGColor=a.BGColor),this.InfoDrawCache.push(f),this.TextRectCache.push(d)}},this.DrawInfoLines=function(t){var e=t.Border,i=t.IsLeft;this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(R(t.Start.X),t.Start.Y),i?this.Canvas.lineTo(R(t.Start.X),e.Y):this.IsHScreen?this.Canvas.lineTo(e.X,e.Y+e.Height):this.Canvas.lineTo(R(t.Start.X),e.Y),this.Canvas.stroke(),this.Canvas.fillStyle=this.PointColor,this.Canvas.beginPath(),this.Canvas.arc(t.Start.X,t.Start.Y,5,0,2*Math.PI),this.Canvas.closePath(),this.Canvas.fill()},this.DrawInfoText=function(t){var e=t.Border,i=e.X,a=e.Y;t.BGColor?this.Canvas.fillStyle=t.BGColor:this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(i,a,e.Width,e.Height),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.rect(i,a,e.Width,e.Height),this.Canvas.stroke(),this.IsHScreen&&(this.Canvas.save(),this.Canvas.translate(e.X,e.Y),this.Canvas.rotate(90*Math.PI/180),i=0,a=0),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",t.Color?this.Canvas.fillStyle=t.Color:this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.IsHScreen?this.Canvas.fillText(t.Title,i+2*this.PixelTatio,a-e.Width/2):this.Canvas.fillText(t.Title,i+2*this.PixelTatio,a+e.Height/2),this.IsHScreen&&this.Canvas.restore()},this.FixTextRect=function(t,e){for(var i in e.Y){var a,n=e.Y[i];t.Y=n.Value;for(var r=0;r<10;++r){var o=!1;for(var s in this.TextRectCache){var l=this.TextRectCache[s];if(this.IsOverlap(l,t)){o=!0;break}}if(0==o)return;if(a=t.Y,(a+=n.Offset)+t.Height>this.FrameBottom||a<this.FrameTop)break;t.Y=a}}},this.FixHScreenTextRect=function(t,e){for(var i in e.X){var a,n=e.X[i];t.X=n.Value;for(var r=0;r<10;++r){var o=!1;for(var s in this.TextRectCache){var l=this.TextRectCache[s];if(this.IsOverlap(l,t)){o=!0;break}}if(0==o)return;if(a=t.X,(a+=n.Offset)+t.Width<this.FrameBottom||a>this.FrameTop)break;t.X=a}}},this.IsOverlap=function(t,e){return t.X+t.Width>e.X&&e.X+e.Width>t.X&&t.Y+t.Height>e.Y&&e.Y+e.Height>t.Y},this.GetMaxMin=function(){return{Min:null,Max:null}},this.GetTooltipData=function(t,e,i){for(var a in this.TooltipRect){var n=this.TooltipRect[a];if(n.Rect){var r=n.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(r.X,r.Y,r.Width,r.Height),this.Canvas.isPointInPath(t,e))return i.Data=n,i.ChartPaint=this,i.Type=3,!0}}return!1}};return e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.HQChartBorder=this.Frame.ChartBorder,e.ChartMinutePrice=this.ChartPaint[0],t&&e.SetOption&&e.SetOption(t),this.ChartInfoPaint=e,e},this.RequestMinuteInfoData=function(){if(!(this.ChartInfo.length<=0)){var t=this.GetChartMinuteInfo();for(var e in t||(t=this.CreateMinuteInfo(null)),t.SourceData=this.SourceData,this.ChartInfo)this.ChartInfo[e].RequestData(this)}},this.UpdataChartInfo=function(){var t=this.GetChartMinuteInfo();if(t){var e=new p.default;for(var i in this.ChartInfo){var a=this.ChartInfo[i].Data;for(var n in a){var r=a[n],o=r.Date+" "+r.Time;e.has(o)?e.get(o).Data.push(r):e.set(o,{Data:new Array(r)})}}t.Data=e}},this.UpdateWindowIndex=function(t){if(!(t<2)){var e=this.SourceData;this.BindIndexData(t,e),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}},this.CreateChartDrawPicture=function(t,e,i){var a=null,n=He.GetDrawPictureByName(t);if(n&&"ChartDrawPictureText"==(a=n.Create()).ClassName&&(a.HQChart=this),!a&&He.MapIonFont.has(t)){var r=He.MapIonFont.get(t);(a=new Xe).FontOption.Family=r.Family,a.Text=r.Text,r.Color&&(a.LineColor=r.Color)}if(!a)return!1;a.Canvas=this.Canvas,a.Status=0,a.Symbol=this.Symbol,a.Period=888888888,a.Option=this.ChartDrawOption,i&&(a.FinishedCallback=i),e&&a.SetOption(e);var o=this;return a.Update=function(){o.DrawDynamicInfo()},a.GetActiveDrawPicture=function(){return o.GetActiveDrawPicture()},this.CurrentChartDrawPicture=a,g.Chart.Log("[MinuteChartContainer::CreateChartDrawPicture] ",t,this.CurrentChartDrawPicture),!0},this.ReloadChartDrawPicture=function(){this.ChartDrawPicture=[],this.ChartDrawStorageCache,this.ChartDrawStorage&&(this.ChartDrawStorageCache=this.ChartDrawStorage.GetDrawData({Symbol:this.Symbol,Period:888888888}))},this.CreateChartDrawPictureByStorage=function(){if(this.ChartDrawStorageCache&&!(this.ChartDrawStorageCache.length<=0)){for(var t in this.ChartDrawStorageCache){var e=this.ChartDrawStorageCache[t];if(!(e.FrameID<0||!this.Frame.SubFrame||this.Frame.SubFrame.length<e.FrameID)){var i=He.CreateChartDrawPicture(e);i&&(i.Canvas=this.Canvas,i.Status=10,i.Frame=this.Frame.SubFrame[e.FrameID].Frame,i.UpdateXValue(),i.ValueToPoint(),"ChartDrawPictureText"===i.ClassName&&(i.IsInitialized=!0),this.ChartDrawPicture.push(i))}}this.ChartDrawStorageCache=null}},this.SetSizeChange=function(t){for(var e in this.Frame.SetSizeChage(t),this.ExtendChartPaint){this.ExtendChartPaint[e].SizeChange=t}},this.SetSizeChage=this.SetSizeChange,this.GetDataIndexByPoint=function(t){var e=this.Frame;if(this.Frame.SubFrame&&this.Frame.SubFrame.length>0&&(e=this.Frame.SubFrame[0].Frame),e){var i=e.GetXData(t);return parseInt(i.toFixed(0))}},this.GetSelectRectData=function(t){if(Math.abs(t.XStart-t.XEnd)<5)return!1;var e=this.PtInClient(t.XStart,t.YStart),i=this.PtInClient(t.XEnd,t.YEnd);t.StartClientPos=e,t.EndClientPos=i;var a=this.SourceData;if(!a)return!1;if(!Ce.IsNonEmptyArray(a.Data))return!1;var n=this.GetDataIndexByPoint(t.XStart),r=this.GetDataIndexByPoint(t.XEnd);if(Math.abs(n-r)<2)return!1;t.Data=a,n>r?(t.Start=r,t.End=n):(t.Start=n,t.End=r);var o=a.Data.length;return t.End>=o&&(t.End=o-1),!0},this.Super_UpdateFrameMaxMin=this.UpdateFrameMaxMin,this.UpdateFrameMaxMin=function(){if(this.Super_UpdateFrameMaxMin(),1==this.DayCount){var t=this.Frame.SubFrame[1];t.Frame&&(t.Frame.XYSplit=!0)}}}function si(t){this.newMethod=oi,this.newMethod(t),delete this.newMethod,this.HistoryMinuteApiUrl="https://opensourcecache.zealink.com/cache/minuteday/day/",this.ClassName="HistoryMinuteChartContainer",this.CreateMainKLine=function(){var t,e=new zt;e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.Name="Minute-Line",e.Color=Qe.Minute.PriceColor,this.ChartPaint[0]=e,(t=new Lt).Canvas=this.Canvas,t.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,t.ChartFrame=this.Frame.SubFrame[0].Frame,t.Name="Minute-Average-Line",t.Color=Qe.Minute.AvPriceColor,this.ChartPaint[1]=t,(t=new _t).Color=Qe.Minute.VolBarColor,t.Canvas=this.Canvas,t.ChartBorder=this.Frame.SubFrame[1].Frame.ChartBorder,t.ChartFrame=this.Frame.SubFrame[1].Frame,t.Name="Minute-Vol-Bar",this.ChartPaint[2]=t,this.TitlePaint[0]=new Re,this.TitlePaint[0].Frame=this.Frame.SubFrame[0].Frame,this.TitlePaint[0].Canvas=this.Canvas,this.TitlePaint[0].IsShowDate=!0},this.ChangeTradeDate=function(t){t&&(this.TradeDate=t,this.RequestData())},this.RequestData=function(){var t=new Date;1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate()==this.TradeDate?this.RequestMinuteData():this.RequestHistoryMinuteData()},this.RequestHistoryMinuteData=function(){var t=this,e=this.HistoryMinuteApiUrl+this.TradeDate.toString()+"/"+this.Symbol+".json";C.HttpRequest({url:e,type:"get",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteData(e)},error:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteError(e)}})},this.RecvHistoryMinuteError=function(t){if(404==t.status){var e=new mt;for(var i in this.SourceData=e,this.ChartPaint)this.ChartPaint[i].Data=e,0==i&&(this.ChartPaint[i].NotSupportMessage="没有权限访问!");this.TitlePaint[0].Data=this.SourceData,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=null,this.Draw()}},this.RecvHistoryMinuteData=function(t){var e=si.JsonDataToMinuteData(t),i=new mt;if(i.Data=e,this.TradeDate=t.date,this.SourceData=i,this.Symbol=t.symbol,this.Name=t.name,this.BindMainData(i,t.day.yclose),this.Frame.SubFrame.length>2){var a=new mt;a.Data=e;for(var n=2;n<this.Frame.SubFrame.length;++n)this.BindIndexData(n,a)}this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}function li(t,e){!0===e?(this.newMethod=hi,this.newMethod(t),delete this.newMethod):(this.newMethod=ri,this.newMethod(t),delete this.newMethod),this.BuySellPaint,this.TrainDataCount=300,this.TrainStartDate,this.AutoRunTimer=null,this.BuySellData=[],this.TrainCallback,this.DragMode=1,this.IsAutoUpdate=!1,this.KLineSourceData,this.TrainInfo={Start:{},End:{}},this.Super_RecvFlowCapitalData=this.RecvFlowCapitalData,this.CreateBuySellPaint=function(){var t=new function(){this.newMethod=Wt,this.newMethod(),delete this.newMethod,this.ClassName="ChartBuySell",this.TextFont=Qe.KLineTrain.Font,this.LastDataIcon=Qe.KLineTrain.LastDataIcon,this.BuyIcon=Qe.KLineTrain.BuyIcon,this.SellIcon=Qe.KLineTrain.SellIcon,this.BuySellData=new p.default,this.IconFont=Qe.KLineTrain.IconFont,this.LastDataDrawType=0,this.LastDataIndex=-1,this.AddTradeItem=function(t){this.BuySellData.has(t.Key)?this.BuySellData.get(t.Key).Data.push(t):this.BuySellData.set(t.Key,{Data:[t]})},this.ClearTradeData=function(){this.BuySellData=new p.default},this.Draw=function(){if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetRight();!0===t&&(a=this.ChartBorder.GetBottom());var n=this.ChartFrame.XPointCount;if(this.IconFont){var r=e+i,o=18*L();r<o&&(r=o),this.Canvas.font=r+"px "+this.IconFont.Family}else this.Canvas.font=this.TextFont;for(var s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<n;++s,++l){var h=this.Data.Data[s];if(null!=h){if((c=this.ChartFrame.GetXFromIndex(l))>a)break;var u=!1;if(1==this.LastDataDrawType?s==this.LastDataIndex&&(u=!0):s==this.Data.Data.length-1&&(u=!0),u){var c=this.ChartFrame.GetXFromIndex(l),d=this.ChartFrame.GetYFromData(h.High);this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.IconFont?(this.Canvas.fillStyle=this.IconFont.Last.Color,this.DrawText(this.IconFont.Last.Text,c,d,t)):(this.Canvas.fillStyle=this.LastDataIcon.Color,this.Canvas.font=this.TextFont,this.DrawText(this.LastDataIcon.Text,c,d,t))}var f=s;if(this.BuySellData.has(f)){var p=this.BuySellData.get(f),m=(d=this.ChartFrame.GetYFromData(h.High),this.ChartFrame.GetYFromData(h.Low)),v=[!1,!1];for(var g in p.Data){if(1==v[0]&&1==v[1])break;var C=p.Data[g];0==C.Op&&0==v[0]?(this.Canvas.textAlign="center",this.Canvas.textBaseline="top",this.IconFont?(this.Canvas.fillStyle=this.IconFont.Buy.Color,this.DrawText(this.IconFont.Buy.Text,c,m,t)):(this.Canvas.fillStyle=this.BuyIcon.Color,this.DrawText(this.BuyIcon.Text,c,m,t)),v[0]=!0):1==C.Op&&0==v[1]&&(this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.IconFont?(this.Canvas.fillStyle=this.IconFont.Sell.Color,this.DrawText(this.IconFont.Sell.Text,c,d,t)):(this.Canvas.fillStyle=this.SellIcon.Color,this.DrawText(this.SellIcon.Text,c,d,t)),v[1]=!0)}}}}}}};t.Canvas=this.Canvas,t.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,t.ChartFrame=this.Frame.SubFrame[0].Frame,t.Name="KLine-Train-BuySell",this.ChartPaintEx[0]=t},this.GetKDataIndexByDateTime=function(t,e){if(!e||!t)return-1;for(var i=0;i<t.length;++i){var a=t[i];if(mt.IsMinutePeriod(this.Period,!0)){if(Ce.IsNumber(this.TrainStartDate.Time)){if(a.Date>=this.TrainStartDate.Date&&a.Time>=this.TrainStartDate.Time)return i}else if(a.Date>=this.TrainStartDate.Date)return i}else if((mt.IsDayPeriod(this.Period,!0)||mt.IsTickPeriod(this.Period))&&a.Date>=this.TrainStartDate.Date)return i}return-1},this.AfterBindMainData=function(t){this.ChartPaintEx[0]||this.CreateBuySellPaint();var e=this.ChartPaint[0].Data;this.ChartPaintEx[0].Data=e;var i=e.Data[e.Data.length-1];this.TrainInfo.LastShowData=i,this.TrainInfo.LastData=this.SourceData.Data[this.SourceData.Data.length-1],"Update"!=t&&this.UpdateTrainUICallback("开始")},this.BeforeBindMainData=function(t){if("Update"!=t){this.KLineSourceData=new mt,this.KLineSourceData.Data=this.SourceData.Data.slice(0);var e=this.SourceData.Data.length,i=e-this.TrainDataCount-20,a=this.GetKDataIndexByDateTime(this.SourceData.Data,this.TrainStartDate);a>=0&&e-(i=a+1)<this.TrainDataCount&&(this.TrainDataCount=e-i);var n=i-1,r=this.SourceData.Data[n];this.TrainInfo.Start.Index=n,this.TrainInfo.Start.Date=r.Date,this.TrainInfo.Start.Time=r.Time,this.TrainInfo.End.Index=n,this.TrainInfo.End.Date=r.Date,this.TrainInfo.End.Time=r.Time,this.TrainInfo.LastData=r,this.SourceData.Data.length=i}},this.Run=function(t){if(!(this.AutoRunTimer||this.TrainDataCount<=0)){var e=this;this.AutoRunTimer=setInterval(function(){e.MoveNextKLineData(t)||clearInterval(e.AutoRunTimer)},1e3)}},this.MoveNextKLineData=function(t){if(this.TrainDataCount<=0)return!1;var e=1;t&&t.Step>1&&(e=t.Step);for(var i=0,a=0;a<e;++a){var n=this.TrainInfo.End.Index+1;if(n>=this.KLineSourceData.Data.length)break;var r=this.KLineSourceData.Data[n];if(this.SourceData.Data.push(r),this.TrainInfo.End.Index=n,this.TrainInfo.End.Date=r.Date,this.TrainInfo.End.Time=r.Time,--this.TrainDataCount,++i,this.TrainDataCount<=0)break}if(0==i)return!1;var o=this.Frame.GetCurrentPageSize();return Ce.IsNumber(o)&&(this.PageSize=o-this.RightSpaceCount),t&&t.PageSize>0&&(this.PageSize=t.PageSize),this.Update(),this.TrainDataCount<=0?(this.FinishTrainData(),this.UpdateTrainUICallback("结束"),!1):(this.UpdateTrainUICallback("训练中"),!0)},this.UpdateTrainUICallback=function(t){if(this.mapEvent.has(b.RECV_TRAIN_MOVE_STEP)){var e=this.mapEvent.get(b.RECV_TRAIN_MOVE_STEP);if(e.Callback){var i={TrainDataCount:this.TrainDataCount,BuySellData:this.BuySellData,KLine:{Start:{Index:this.TrainInfo.Start.Index,Date:this.TrainInfo.Start.Date},End:{Index:this.TrainInfo.End.Index,Date:this.TrainInfo.End.Date}},LastData:this.TrainInfo.LastData,LastShowData:this.TrainInfo.LastShowData};Ce.IsNumber(this.TrainInfo.Start.Time)&&(i.KLine.Start.Time=this.TrainInfo.Start.Time),Ce.IsNumber(this.TrainInfo.End.Time)&&(i.KLine.End.Time=this.TrainInfo.End.Time),t&&(i.Description=t),this.TrainDataCount<=0&&(i.Symbol=this.Symbol,i.Name=this.Name),e.Callback(e,i,this)}}},this.FinishTrainData=function(){g.Chart.Log("[KLineTrainChartContainer::FinishTrainData] trian end ")},this.Stop=function(){null!=this.AutoRunTimer&&clearInterval(this.AutoRunTimer),this.AutoRunTimer=null},this.BuyOrSell=function(t,e){if(!this.TrainInfo.LastShowData)return!1;var i=this.ChartPaintEx[0];if(!i)return!1;var a=this.ChartPaint[0].Data;if(!a||a.Data.length<=0)return!1;var n=a.Data.length-1,r={Date:this.TrainInfo.End.Date,Time:this.TrainInfo.End.Time,Price:t.Price,Vol:t.Vol,Op:0,ID:t.ID};1==t.Op&&(r.Op=1);var o=n;r.Key=o,this.BuySellData.push(r),i.AddTradeItem(r),1==e&&this.Draw()},this.RestartTrain=function(t){g.Chart.Log("[KLineTrainChartContainer::RestartTrain] option ",t),this.TrainInfo={Start:{},End:{}},this.BuySellData=[],this.KLineSourceData=null;var e=this.ChartPaintEx[0];e&&(e.Data=null,e.ClearTradeData()),t.Symbol&&(this.Symbol=t.Symbol),Ce.IsNumber(t.Period)&&(this.Period=t.Period),Ce.IsNumber(t.Right)&&(this.Right=t.Right),t.Train&&(t.Train.DataCount>1&&(this.TrainDataCount=t.Train.DataCount),t.Train.DateTime&&(this.TrainStartDate=t.Train.DateTime));var i=this.Symbol;this.ChangeSymbol(i)},this.RecvFlowCapitalData=function(t){if(t.stock&&1==t.stock.length){var e=t.stock[0],i=new Array;for(var a in e.stockday){var n=e.stockday[a],r=new ut;r.Date=n.date;var o=n.capital;o&&(o.a>0&&(r.Value=o.a,i.push(r)))}if(mt.IsMinutePeriod(this.Period,!0)){var s=this.SourceData.GetMinuteFittingFinanceData(i);for(var l in this.SourceData.Data){n=this.SourceData.Data[l];s[l]&&(n.FlowCapital=s[l].Value)}var h=this.ChartPaint[0].Data;if((f=new mt).Data=this.SourceData.Data,mt.IsMinutePeriod(h.Period,!1)){var u=f.GetPeriodData(h.Period);f.Data=u}h.Data=f.Data;s=this.KLineSourceData.GetMinuteFittingFinanceData(i);for(var c in this.KLineSourceData.Data){n=this.KLineSourceData.Data[c];s[c]&&(n.FlowCapital=s[c].Value)}}else{s=this.SourceData.GetFittingFinanceData(i);for(var d in this.SourceData.Data){n=this.SourceData.Data[d];s[d]&&(n.FlowCapital=s[d].Value)}var f;h=this.ChartPaint[0].Data;if((f=new mt).Data=this.SourceData.Data,h.Right>0){var p=f.GetRightData(h.Right,{AlgorithmType:this.RightFormula});f.Data=p}if(mt.IsDayPeriod(h.Period,!1)){u=f.GetPeriodData(h.Period);f.Data=u}h.Data=f.Data;s=this.KLineSourceData.GetFittingFinanceData(i);for(var m in this.KLineSourceData.Data){n=this.KLineSourceData.Data[m];s[m]&&(n.FlowCapital=s[m].Value)}}this.FlowCapitalReady=!0;var v=!1;for(var g in this.ExtendChartPaint){if("StockChip"==(n=this.ExtendChartPaint[g]).ClassName){v=!0;break}}v&&this.Draw()}},this.AutoUpdate()}function hi(t){this.newMethod=ri,this.newMethod(t),delete this.newMethod,this.ClassName="KLineChartHScreenContainer",this.OnMouseMove=function(t,e,i,a){this.LastPoint.X=t,this.LastPoint.Y=e,this.CursorIndex=this.Frame.GetXData(e);var n={ParentFunction:"OnMouseMove",Point:{X:t,Y:e},IsPhone:!0===a};this.DrawDynamicInfo(n)},t.onmousedown=function(e){if(this.JSChartContainer&&0!=this.JSChartContainer.DragMode){var i=L();if(this.JSChartContainer.TryClickLock){var a=(e.clientX-this.getBoundingClientRect().left)*i,n=(e.clientY-this.getBoundingClientRect().top)*i;if(this.JSChartContainer.TryClickLock(a,n))return}var r={Click:{},LastMove:{}};r.Click.X=e.clientX,r.Click.Y=e.clientY,r.LastMove.X=e.clientX,r.LastMove.Y=e.clientY,this.JSChartContainer.MouseDrag=r,document.JSChartContainer=this.JSChartContainer,this.JSChartContainer.SelectChartDrawPicture=null,t.ondblclick=function(t){var e=t.clientX-this.getBoundingClientRect().left,i=t.clientY-this.getBoundingClientRect().top;this.JSChartContainer&&this.JSChartContainer.OnDoubleClick(e,i,t)},document.onmousemove=function(t){if(this.JSChartContainer&&(!this.JSChartContainer.ChartSplashPaint||1!=this.JSChartContainer.ChartSplashPaint.IsEnableSplash)){var e=this.JSChartContainer.MouseDrag;if(e){var i=Math.abs(e.LastMove.Y-t.clientY);if(1==this.JSChartContainer.DragMode){if(i<5)return;if(i<this.JSChartContainer.GetMoveOneStepWidth())return;var a=!0;e.LastMove.Y<t.clientY&&(a=!1),this.JSChartContainer.DataMove(i,a)&&(this.JSChartContainer.UpdataDataoffset(),this.JSChartContainer.UpdatePointByCursorIndex(),this.JSChartContainer.UpdateFrameMaxMin(),this.JSChartContainer.ResetFrameXYSplit(),this.JSChartContainer.Draw()),e.LastMove.X=t.clientX,e.LastMove.Y=t.clientY}}}},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null,this.JSChartContainer.MouseDrag=null,this.JSChartContainer.CurrentChartDrawPicture=null,this.JSChartContainer=null}}},this.OnTouchStart=function(e){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){this.PhonePinch=null,this.IsOnTouch=!0,this.TouchDrawCount=0,this.StopDragTimer();var i=this.IsSingleTouch(e);if(e.cancelable&&e.preventDefault(),this.IsPhoneDragging(e)){var a=this.GetToucheData(e,!1),n=this.PointAbsoluteToRelative(a[0].clientX,a[0].clientY,!0);if(this.TryClickLock||this.TryClickIndexTitle){var r=n.X,o=n.Y;if(this.TryClickLock&&this.TryClickLock(r,o))return;if(this.TryClickIndexTitle&&this.TryClickIndexTitle(r,o))return}if(this.ClickFrameButton){var s=this.Frame.PtInButtons(n.X,n.Y);if(s)return void this.ClickFrameButton(s,e)}var l=!0;this.ChartDrawOption.IsLockScreen?l=!1:this.DragMode==M.CLICK_TOUCH_MODE_ID?1==this.TouchStatus.CorssCursorShow&&(l=!1):this.DragMode==M.DISABLE_DRAG_ID?l=!1:i||(l=!1);var h={Click:{},LastMove:{}};if(h.Click.X=a[0].clientX,h.Click.Y=a[0].clientY,h.LastMove.X=a[0].clientX,h.LastMove.Y=a[0].clientY,this.MouseDrag=h,this.PhoneTouchInfo={Start:{X:a[0].clientX,Y:a[0].clientY},End:{X:a[0].clientX,Y:a[0].clientY}},this.SelectChartDrawPicture&&(this.SelectChartDrawPicture.IsSelected=!1),this.SelectChartDrawPicture=null,this.CurrentChartDrawPicture)return 2==this.CurrentChartDrawPicture.Status?this.SetChartDrawPictureThirdPoint(h.Click.X,h.Click.Y,!0):(this.SetChartDrawPictureFirstPoint(h.Click.X,h.Click.Y,!0),this.FinishChartDrawPicturePoint()&&this.DrawDynamicInfo({Corss:!1,Tooltip:!1})),void(e.cancelable&&e.preventDefault());var u={};L();if(u.X=a[0].clientX-t.getBoundingClientRect().left,u.Y=a[0].clientY-t.getBoundingClientRect().top,this.GetChartDrawPictureByPoint(u)){u.ChartDrawPicture.Status=20,u.ChartDrawPicture.ValueToPoint(),u.ChartDrawPicture.MovePointIndex=u.PointIndex,u.ChartDrawPicture.IsSelected=!0,this.CurrentChartDrawPicture=u.ChartDrawPicture,this.SelectChartDrawPicture=u.ChartDrawPicture;var c=this.GetEventCallback(b.ON_CLICK_DRAWPICTURE);if(c&&c.Callback){var d={DrawPicture:u.ChartDrawPicture};c.Callback(c,d,this)}return void(e.cancelable&&e.preventDefault())}if(l){var f=this;this.DragTimer=setTimeout(function(){if(h.Click.X==h.LastMove.X&&h.Click.Y==h.LastMove.Y){f.MouseDrag;f.MouseDrag=null,f.MoveCorssCursor(h.Click,e)}},f.PressTime)}this.ChartDrawOption.IsLockScreen?this.MouseDrag=null:this.DragMode==M.CLICK_TOUCH_MODE_ID||(this.DragMode==M.DISABLE_DRAG_ID?(this.MouseDrag=null,this.MoveCorssCursor(h.Click,e)):this.IsClickShowCorssCursor&&this.MoveCorssCursor(h.Click,e))}else if(this.IsPhonePinching(e)){var p={Start:{},Last:{}};a=this.GetToucheData(e,!1);p.Start={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},p.Last={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},this.PhonePinch=p,this.SelectChartDrawPicture=null}this.TouchEvent({EventID:b.ON_PHONE_TOUCH,FunctionName:"OnTouchStart"},e)}},this.OnTouchMove=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){t.cancelable&&t.preventDefault();var e=this.GetToucheData(t,!1);if(this.IsPhoneDragging(t)){var i=this.MouseDrag;if(null==i)this.ChartDrawOption.IsLockScreen||this.MoveCorssCursor({X:e[0].clientX,Y:e[0].clientY},t);else{var a=Math.abs(i.LastMove.Y-e[0].clientY),n=Math.abs(i.LastMove.X-e[0].clientX),r=this.DragMode==M.CLICK_TOUCH_MODE_ID&&1==this.TouchStatus.CorssCursorShow;if(this.CurrentChartDrawPicture){var o=this.CurrentChartDrawPicture;if(1==o.Status||2==o.Status){if(a<5&&n<5)return;this.SetChartDrawPictureSecondPoint(e[0].clientX,e[0].clientY,!0)&&this.DrawDynamicInfo()}else if(3==o.Status)this.SetChartDrawPictureThirdPoint(e[0].clientX,e[0].clientY,!0)&&this.DrawDynamicInfo();else if(20==o.Status){if(a<5&&n<5)return;this.MoveChartDrawPicture(e[0].clientX-i.LastMove.X,e[0].clientY-i.LastMove.Y,!0)&&this.DrawDynamicInfo()}i.LastMove.X=e[0].clientX,i.LastMove.Y=e[0].clientY}else if(r){this.MouseDrag;this.MouseDrag=null,this.MoveCorssCursor(i.Click,t)}else if(1==this.DragMode||0==r){if(a<5)return;if(a<this.GetMoveOneStepWidth())return;var s=!0;i.LastMove.Y<e[0].clientY&&(s=!1),this.DataMove(a,s)?(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw(),this.OnKLinePageChange("OnTouchMove")):this.DragDownloadData&&this.DragDownloadData(),i.LastMove.X=e[0].clientX,i.LastMove.Y=e[0].clientY}}this.PhoneTouchInfo&&(this.PhoneTouchInfo.End.X=e[0].clientX,this.PhoneTouchInfo.End.Y=e[0].clientY)}else if(this.IsPhonePinching(t)){if(this.DragMode==M.DISABLE_DRAG_ID)return;var l=this.PhonePinch;if(!l)return;var h=Math.abs(e[0].pageX-e[1].pageX)-Math.abs(l.Last.X-l.Last.X2);if(Math.abs(h)<5)return;if(h>0){if((u={}).Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomUp(u))return;this.CursorIndex=u.Index,this.UpdatePointByCursorIndex(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.OnKLinePageChange("OnTouchMove")}else{var u;if((u={}).Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomDown(u))return;this.CursorIndex=u.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.OnKLinePageChange("OnTouchMove")}l.Last={X:e[0].pageX,Y:e[0].pageY,X2:e[1].pageX,Y2:e[1].pageY}}}},this.OnTouchEnd=function(t){if(g.Chart.Log("[KLineChartHScreenContainer:OnTouchEnd]",t),!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){if(this.CurrentChartDrawPicture){var e=this.CurrentChartDrawPicture;2==e.Status||1==e.Status||3==e.Status?(e.PointStatus=e.Status,this.FinishChartDrawPicturePoint()?this.DrawDynamicInfo():!1):20==e.Status&&this.FinishMoveChartDrawPicture()&&this.DrawDynamicInfo()}this.IsOnTouch=!1,this.StopDragTimer(),this.TouchEvent({EventID:b.ON_PHONE_TOUCH,FunctionName:"OnTouchEnd"},t),this.OnTouchFinished(),this.TouchDrawCount=0}},this.Create=function(t){var e=this;for(var i in this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new be,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=Fe.Create("CorssCursor_XStringFormat"),this.ChartCorssCursor.StringFormatX.LanguageID=this.LanguageID,this.ChartCorssCursor.StringFormatY=Fe.Create("CorssCursor_YStringFormat"),this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID,this.ChartCorssCursor.StringFormatY.ExtendChartPaint=this.ExtendChartPaint,this.ChartSplashPaint=new we,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.HQChart=this,this.Frame=new rt,this.Frame.ChartBorder=new W,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine(),this.Frame.SubFrame){var a=new Ve;a.Frame=this.Frame.SubFrame[i].Frame,a.Canvas=this.Canvas,a.LanguageID=this.LanguageID,a.GetEventCallback=function(t){return e.GetEventCallback(t)},a.SelectedChart=this.SelectedChart,this.TitlePaint.push(a)}this.UIElement.addEventListener("keydown",O,!0)},this.CreateChildWindow=function(t){for(var e=this,i=0;i<t;++i){var a=new W;a.UIElement=this.UIElement;var n=new tt;if(n.Canvas=this.Canvas,n.ChartBorder=a,n.Identify=i,n.RightSpaceCount=this.RightSpaceCount,this.ModifyIndexDialog&&(n.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(n.ChangeIndexEvent=this.ChangeIndexDialog.DoModal),n.HorizontalMax=20,n.HorizontalMin=10,0==i){n.YSplitOperator=new De,n.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price"),n.YSplitOperator.FrameSplitData2=this.FrameSplitData.get("double"),n.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)};var r=L();a.TopSpace=12*r,a.BottomSpace=12*r}else n.YSplitOperator=new ye,n.YSplitOperator.LanguageID=this.LanguageID,n.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double");n.YSplitOperator.Frame=n,n.YSplitOperator.ChartBorder=a,n.XSplitOperator=new xe,n.XSplitOperator.Frame=n,n.XSplitOperator.ChartBorder=a,n.XSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},i!=t-1&&(n.XSplitOperator.ShowText=!1);for(var o=n.HorizontalMin;o<=n.HorizontalMax;o+=1)n.HorizontalInfo[o]=new Y,n.HorizontalInfo[o].Value=o,0==i&&o==n.HorizontalMin||(n.HorizontalInfo[o].Message[1]=o.toString(),n.HorizontalInfo[o].Font="14px 微软雅黑");var s=new it;s.Frame=n,s.Height=0==i?20:10,this.Frame.SubFrame[i]=s}}}function ui(t){this.newMethod=oi,this.newMethod(t),delete this.newMethod,this.ClassName="MinuteChartHScreenContainer",this.OnMouseMove=function(t,e,i,a){this.LastPoint.X=t,this.LastPoint.Y=e,this.CursorIndex=this.Frame.GetXData(e);var n={ParentFunction:"OnMouseMove",Point:{X:t,Y:e},IsPhone:!0===a,ClientPos:this.PtInClient(t,e)};this.DrawDynamicInfo(n)},this.Create=function(t){var e=this;for(var i in this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new be,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=new _e,this.ChartCorssCursor.StringFormatY=new Ae,this.ChartCorssCursor.CallAcutionXOperator=new Te,this.ChartSplashPaint=new we,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.HQChart=this,this.Frame=new rt,this.Frame.ChartBorder=new W,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=25,this.Frame.ChartBorder.Left=50,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine(),this.Frame.SubFrame){var a=new Ve;a.Frame=this.Frame.SubFrame[i].Frame,a.Canvas=this.Canvas,a.LanguageID=this.LanguageID,a.GetEventCallback=function(t){return e.GetEventCallback(t)},a.SelectedChart=this.SelectedChart,this.TitlePaint.push(a)}this.ChartCorssCursor.StringFormatX.Frame=this.Frame.SubFrame[0].Frame,this.ChartCorssCursor.StringFormatY.Frame=this.Frame,this.ChartCorssCursor.CallAcutionXOperator.Frame=this.Frame.SubFrame[0].Frame,this.UIElement.addEventListener("keydown",O,!0)},this.CreateChildWindow=function(t){for(var e=this,i=0;i<t;++i){var a=new W;a.UIElement=this.UIElement;var n=new $;n.Canvas=this.Canvas,n.ChartBorder=a,n.Identify=i,i<2&&(n.ChartBorder.TitleHeight=0),n.XPointCount=243;var r=[9,8,7,6,5,4,3,2,1];for(var o in n.HorizontalMax=r[0],n.HorizontalMin=r[r.length-1],0==i?(n.YSplitOperator=new Se,n.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price"),n.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},n.YSplitOperator.DayOffset=this.DayOffset):(n.YSplitOperator=new ye,n.YSplitOperator.LanguageID=this.LanguageID,n.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),n.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)}),n.YSplitOperator.Frame=n,n.YSplitOperator.ChartBorder=a,n.XSplitOperator=new Ie,n.XSplitOperator.Frame=n,n.XSplitOperator.ChartBorder=a,n.XSplitOperator.DayOffset=this.DayOffset,n.XSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},i!=t-1&&(n.XSplitOperator.ShowText=!1),n.XSplitOperator.Operator(),r)n.HorizontalInfo[o]=new Y,n.HorizontalInfo[o].Value=r[o],0==i&&o==n.HorizontalMin||(n.HorizontalInfo[o].Message[1]=r[o].toString(),n.HorizontalInfo[o].Font="14px 微软雅黑");var s=new it;s.Frame=n,s.Height=0==i?20:10,this.Frame.SubFrame[i]=s}}}function ci(t,e){this.Name=t,this.Param=e,this.LineColor,this.ReqeustData=null}function di(t){this.Index,this.Name=t,this.Script=null,this.ClassName="BaseIndex",this.OverlayIndex=null,this.GetEventCallback,this.Status=0,this.Guid=P(),this.Create=function(t,e){},this.NotSupport=function(t,e,i){if(!this.IsOverlay()){t.DeleteIndexPaint(e);var a=t.Frame.SubFrame[e].Frame,n=new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartErrorMessage",this.Draw=function(){this.IsShow&&this.NotSupportMessage&&this.DrawNotSupportmessage()}};n.Canvas=t.Canvas,n.ChartBorder=a.ChartBorder,n.ChartFrame=a,n.NotSupportMessage=i,t.ChartPaint.push(n)}},this.FormatIndexTitle=function(){var t=this.Name,e=null;for(var i in this.Index){var a=this.Index[i];null!=a.Param&&(e?e+=","+a.Param.toString():e=a.Param.toString())}return e&&(t+="("+e+")"),t},this.IsOverlay=function(){return!(!this.OverlayIndex||1!=this.OverlayIndex.IsOverlay)},this.CreateChart=function(t){return new Lt},this.CreatePaints=function(t,e){var i=null,a=this.IsOverlay();a?(i=this.OverlayIndex.Frame.Frame,this.OverlayIndex.Frame.ChartPaint=[]):(i=t.Frame.SubFrame[e].Frame,t.DeleteIndexPaint(e));var n=[];for(var r in this.Index){var o=this.CreateChart(r);o.Color=this.Index[r].LineColor,o.Canvas=t.Canvas,o.Name=this.Name+"-"+r.toString(),o.ChartBorder=i.ChartBorder,o.ChartFrame=i,a?this.OverlayIndex.Frame.ChartPaint.push(o):t.ChartPaint.push(o),n.push(o)}return n},this.SendEvent=function(t,e,i,a){if(t.GetIndexEvent){var n=t.GetIndexEvent();if(n){var r={Data:this.GetOutData(),WindowIndex:e,Name:this.Name,HistoryData:i,Stock:{Symbol:t.Symbol,Name:t.Name}};a&&(r.Error=a),n.Callback(n,r,self)}}},this.GetOutData=function(){return null}}function fi(t,e,i,a){this.newMethod=di,this.newMethod(t),delete this.newMethod,this.Script=e,this.Arguments=[],this.OutVar=[],this.ApiUrl=Qe.PyIndexDomain+"/hq/code",i&&(this.Arguments=i),this.RequestData=function(t,e,i){this.OutVar=[];var a=this,n={HQChart:t,WindowIndex:e,HistoryData:i},r="";for(var o in this.Arguments){r.length>0&&(r+=",");var s=this.Arguments[o];r+='"'+s.Name+'":'+s.Value}r="{"+r+"}";var l=JSON.parse(r),h=(0,f.default)({code:this.Script,symbol:n.HQChart.Symbol,period:n.HQChart.Period,right:n.HQChart.Right,params:l,numcount:t.MaxRequestDataCount});return C.HttpRequest({url:this.ApiUrl,data:h,type:"post",dataType:"json",contentType:" application/json; charset=utf-8",async:!0,success:function(t){a.RecvData(t,n)},complete:function(t){},error:function(t,e){a.RecvError(t,e,n)}}),!0},this.RecvError=function(t,e,i){g.Chart.Log("[PyScriptIndex::RecvError] error",e),i.HQChart.ScriptErrorCallback&&i.HQChart.ScriptErrorCallback(e)},this.RecvData=function(t,e){if(0!=t.code)return g.Chart.Log("[PyScriptIndex::RecvData] failed.",t),void(e.HQChart.ScriptErrorCallback&&e.HQChart.ScriptErrorCallback(t.msg));g.Chart.Log("[PyScriptIndex::RecvData] recv data.",t);var i=t.date;for(var a in t.data){for(var n=t.data[a],r=[],o=0;o<i.length&&o<i.length;++o)if(!(o>=n.data.length)){var s=new ut;s.Date=i[o],s.Value=n.data[o],r.push(s)}var l=e.HistoryData.GetFittingData(r),h=new mt;h.Data=l,h.Period=e.HQChart.Period,h.Right=e.HQChart.Right;var u={Name:n.name,Type:n.graph,LineWidth:n.width,Data:h.GetValue(),Color:n.color};this.OutVar.push(u)}this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()},this.BindData=function(t,e,i){for(var a in t.DeleteIndexPaint(e),this.OutVar){var n=this.OutVar[a];switch(n.Type){case"line":this.CreateLine(t,e,n,a);break;case"colorstick":this.CreateColorStock(t,e,n,a)}}var r=e+1;t.TitlePaint[r].Title=this.Name;var o="";for(var s in this.Arguments){var l=this.Arguments[s];o.length>0&&(o+=","),o+=l.Value.toString()}return o.length>0&&(t.TitlePaint[r].Title=this.Name+"("+o+")"),!0},this.CreateLine=function(t,e,i,a){var n=new Lt;n.Canvas=t.Canvas,n.DrawType=1,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?n.Color=i.Color:n.Color=this.GetDefaultColor(a),i.LineWidth>0&&(n.LineWidth=i.LineWidth),0==i.IsShow&&(n.IsShow=!1);var r=e+1;n.Data.Data=i.Data,t.TitlePaint[r].Data[a]=new ke(n.Data,i.Name,n.Color),t.ChartPaint.push(n)},this.CreateColorStock=function(t,e,i,a){var n=new Kt;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame;var r=e+1;n.Data.Data=i.Data,t.TitlePaint[r].Data[a]=new ke(n.Data,i.Name,this.GetDefaultColor(a)),t.ChartPaint.push(n)},this.GetDefaultColor=function(t){var e=["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"];return e[parseInt(t)%(e.length-1)]}}function pi(t,e,i,a){this.newMethod=fi,this.newMethod(t),delete this.newMethod,this.JsonData,a.JsonData&&(this.JsonData=a.JsonData),this.RequestData=function(t,e,i){if(this.JsonData){var a={HQChart:t,WindowIndex:e,HistoryData:i};this.JsonData.code=0;var n=this.JsonData;this.RecvData(n,a)}else console.warn("[PyScriptIndex::RequestData] JsonData is null"),a.HQChart.ScriptErrorCallback&&a.HQChart.ScriptErrorCallback("json 数据不能为空")}}function mi(){}function vi(){this.MaxRequestDataCount=1e3,this.StartDate=20160101,this.Data,this.ClassName="IKLineInfo",this.Explain="IKLineInfo",this.GetToday=function(){var t=new Date;return 1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate()},this.GetRequestData=function(t){return{Symbol:t.Symbol,MaxRequestDataCount:t.MaxRequestDataCount,MaxRequestMinuteDayCount:t.MaxRequestMinuteDayCount,Period:t.Period}},this.NetworkFilter=function(t,e){if(!t.NetworkFilter)return!1;var i=this,a={HQChart:t},n={Name:this.ClassName+"::RequestData",Explain:this.Explain,Request:this.GetRequestData(t),Self:this,HQChart:t,PreventDefault:!1};return e&&(1==e.Update&&(n.Update={Start:{Date:e.StartDate}},a.Update={Start:{Date:e.StartDate}}),n.CallFunctionName=e.FunctionName),t.NetworkFilter(n,function(t){i.RecvData(t,a)}),1==n.PreventDefault}}function gi(){}function Ci(){this.Data,this.ClassName="IMinuteInfo"}ri.JsonDataToHistoryData=function(t){var e=[];if(!t.data)return e;var i=null;t.symbol&&(i=t.symbol.toUpperCase());i&&Ii.IsFutures(i);for(var a=t.data,n=A.KLINE_ORDERFLOW,r=A.KLINE_COLOR_DATA,o=A.KLINE_DAY_EXTENDDATA,s=0;s<a.length;++s){var l=new ot,h=a[s];l.Date=h[0],l.Open=h[2],l.YClose=h[1],l.Close=h[5],l.High=h[3],l.Low=h[4],l.Vol=h[6],l.Amount=h[7],Ce.IsNumber(h[8])&&(l.Position=h[8]),Ce.IsNumber(h[9])&&(l.FClose=h[9]),Ce.IsNumber(h[10])&&(l.YFClose=h[10]),Ce.IsNumber(h[11])&&(l.BFactor=h[11]),Ce.IsNumber(h[12])&&(l.AFactor=h[12]),Ce.IsBool(h[13])&&(l.IsVirtual=h[13]),(Ce.IsNumber(l.Open)||!0===l.IsVirtual)&&(h[n]&&(l.OrderFlow=h[n]),h[r]&&(l.ColorData=h[r]),h[o]&&(l.ExtendData=h[o]),e.push(l))}return e},ri.JsonDataToRealtimeData=function(t,e){if(!t.stock)return null;var i;for(var a in t.stock){var n=t.stock[a];if(n&&n.symbol==e){i=n;break}}if(!i)return null;var r=e.toUpperCase(),o=(Ii.IsSHSZ(r),new ot);return o.Date=i.date,o.Open=i.open,o.YClose=i.yclose,o.High=i.high,o.Low=i.low,o.Vol=i.vol,o.Amount=i.amount,o.Close=i.price,Ce.IsNumber(i.position)&&(o.Position=i.position),Ce.IsNumber(i.yclearing)&&(o.YFClose=i.yclearing),Ce.IsNumber(i.clearing)&&(o.FClose=i.clearing),Ce.IsNumber(i.bfactor)&&(o.BFactor=i.bfactor),Ce.IsNumber(i.afactor)&&(o.AFactor=i.afactor),i.colordata&&(o.ColorData=i.colordata),i.extendData&&(o.ExtendData=i.extendData),o},ri.JsonDataToMinuteRealtimeData=function(t,e){if(!t.stock)return null;var i;for(var a in t.stock){var n=t.stock[a];if(n&&n.symbol==e){i=n;break}}if(!i)return null;var r=e.toUpperCase(),o=(Ii.IsSHSZ(r),Ii.IsFutures(r)),s=new Array,l=i.yclose,h=i.date;for(var a in o&&i.yclearing&&(l=i.yclearing),i.minute){var u=i.minute[a],c=new ot;c.Close=u.price,c.Open=u.open,c.High=u.high,c.Low=u.low,c.Vol=u.vol,c.Amount=u.amount,u.date>0?c.Date=u.date:c.Date=h,c.Time=u.time,c.YClose=l,Ce.IsNumber(u.position)&&(c.Position=u.position),Ce.IsNumber(c.Close)||(c.Close=l,c.Open=c.High=c.Low=c.Close),Ce.IsNumber(c.Open)||(c.Open=null),Ce.IsNumber(c.Close)||(c.Close=null),Ce.IsNumber(c.High)||(c.High=null),Ce.IsNumber(c.Low)||(c.Low=null),Ce.IsNumber(u.price)&&(l=u.price),s[a]=c}return s},ri.JsonDataToMinuteRealtimeDataV2=function(t,e){if(!t||!t.overlay||!e)return null;for(var i=null,a=0;a<t.overlay.length;++a){if((s=t.overlay[a]).symbol==e){i=s;break}}if(!i)return null;var n=e.toUpperCase(),r=(Ii.IsSHSZ(n),Ii.IsFutures(n),A.KLINE_ORDERFLOW),o=null;for(a=0;a<i.data.length;++a){var s=new ot,l=i.data[a];s.Date=l[0],s.Open=l[2],s.YClose=l[1],s.Close=l[5],s.High=l[3],s.Low=l[4],s.Vol=l[6],s.Amount=l[7],s.Time=l[8],Ce.IsNumber(l[9])&&(s.Position=l[9]),Ce.IsNumber(s.YClose)||Ce.IsNumber(o)&&(s.YClose=o),Ce.IsNumber(s.Close)&&(o=s.Close),l[r]&&(s.OrderFlow=l[r]),aryMinuteData.push(s)}return aryMinuteData},ri.JsonDataToMinuteHistoryData=function(t){var e=null;t.symbol&&(e=t.symbol.toUpperCase());e&&Ii.IsSHSZ(e);e&&Ii.IsFutures(e);for(var i=t.data,a=new Array,n=A.KLINE_ORDERFLOW,r=A.KLINE_COLOR_DATA,o=A.KLINE_MINUTE_EXTENDDATA,s=null,l=0;l<i.length;++l){var h=new ot,u=i[l];h.Date=u[0],h.Open=u[2],h.YClose=u[1],h.Close=u[5],h.High=u[3],h.Low=u[4],h.Vol=u[6],h.Amount=u[7],h.Time=u[8],Ce.IsNumber(u[9])&&(h.Position=u[9]),Ce.IsNumber(h.YClose)||Ce.IsNumber(s)&&(h.YClose=s),Ce.IsNumber(h.Close)&&(s=h.Close),u[n]&&(h.OrderFlow=u[n]),u[r]&&(h.ColorData=u[r]),u[o]&&(h.ExtendData=u[o]),a.push(h)}return a},ri.JsonDataToTickData=function(t){var e=[];if(!t.detail)return e;var i=t.date,a=t.yclose;for(var n in t.detail){var r=new ot,o=t.detail[n];o&&(r.Date=i,r.Time=o[0],r.Low=r.High=r.Close=r.Open=o[1],r.YClose=a,r.Vol=o[2],r.Amount=o[3],r.Flag=o[4],Ce.IsNumber(r.Open)&&e.push(r))}return e},ri.JsonDataToTickDataV2=function(t){var e=[];if(!Ce.IsNonEmptyArray(t.data))return e;for(var i=0;i<t.data.length;++i){var a=new ot,n=t.data[i];n&&(a.Date=n[0],a.Time=n[1],a.YClose=n[2],a.Low=a.High=a.Close=a.Open=n[3],e.push(a),n[4]&&(a.ExtendData=n[4]))}return e},oi.JsonDataToBeforeOpenData=function(t){var e=t.stock[0].yclose,i=t.stock[0],a=i.date,n={Data:[],TotalCount:15,Ver:1,Date:a},r=A.MINUTE_BEFOREOPEN_EXTENDDATA;if(i.beforeinfo&&(Ce.IsNumber(i.beforeinfo.totalcount)&&(n.TotalCount=i.beforeinfo.totalcount),Ce.IsNumber(i.beforeinfo.ver)&&(n.Ver=i.beforeinfo.ver)),1==n.Ver)for(var o in i.before){var s=new lt,l=i.before[o];s.Time=l[0],s.Date=a,s.Price=l[1],s.Price?e=s.Price:s.Price=e,s.Vol[0]=l[2]/100,s.Amount=l[3],s.DateTime=a.toString()+" "+s.Time.toString(),n.Data.push(s)}else if(2==n.Ver){var h=0;for(var o in i.before){s=new lt,l=i.before[o];s.Time=l[0],s.Date=a,s.Price=l[1],s.Vol[0]=l[2],s.Vol[1]=l[3],s.ColorID=l[4],s.DateTime=a.toString()+" "+s.Time.toString();var u=s.Vol[0]+s.Vol[1];Ce.IsNumber(l[5])&&(u=l[5]),u>h&&(h=u),l[r]&&(s.ExtendData=l[r]),n.Data.push(s)}n.VolMax=h,n.VolMin=0}else if(3==n.Ver){h=0;for(var o in i.before){s=new lt,l=i.before[o];s.Time=l[0],s.Date=a,s.Price=l[1],s.AvPrice=l[2],s.Vol[0]=l[3],s.ColorID=l[4],s.DateTime=a.toString()+" "+s.Time.toString();u=s.Vol[0];Ce.IsNumber(l[5])&&(u=l[5]),u>h&&(h=u),l[r]&&(s.ExtendData=l[r]),n.Data.push(s)}n.VolMax=h,n.VolMin=0}return n},oi.JsonDataToAfterCloseData=function(t){t.stock[0].yclose;var e=t.stock[0],i=e.date;if(!e.afterinfo)return null;var a={Data:[],TotalCount:180,Ver:2,Date:i},n=e.afterinfo;Ce.IsNumber(n.totalcount)&&(a.TotalCount=n.totalcount),Ce.IsNumber(n.ver)&&(a.Ver=n.ver);var r=A.MINUTE_AFTERCLOSE_EXTENDDATA;if(2==a.Ver){var o=0;for(var s in e.after){n=new ht;var l=e.after[s];n.Time=l[0],n.Date=i,n.Price=l[1],n.Vol[0]=l[2],n.Vol[1]=l[3],n.ColorID=l[4],n.DateTime=i.toString()+" "+n.Time.toString();var h=n.Vol[0]+n.Vol[1];Ce.IsNumber(l[5])&&(h=l[5]),h>o&&(o=h),l[r]&&(n.ExtendData=l[r]),a.Data.push(n)}a.VolMax=o,a.VolMin=0}else if(3==a.Ver){o=0;for(var s in e.after){n=new ht,l=e.after[s];n.Time=l[0],n.Date=i,n.Price=l[1],n.AvPrice=l[2],n.Vol[0]=l[3],n.ColorID=l[4],n.DateTime=i.toString()+" "+n.Time.toString();h=n.Vol[0];Ce.IsNumber(l[5])&&(h=l[5]),h>o&&(o=h),l[r]&&(n.ExtendData=l[r]),a.Data.push(n)}a.VolMax=o,a.VolMin=0}return a},oi.JsonDataToMinuteData=function(t,e){var i=t.stock[0].symbol.toUpperCase(),a=Ii.IsSHSZ(i),n=Ii.IsFutures(i),r=Ii.IsSHO(i),o=Ii.IsSZO(i),s=new Array,l=t.stock[0].yclose,h=t.stock[0].yclose,u=t.stock[0].yclose;n&&t.stock[0].yclearing&&(u=l=h=t.stock[0].yclearing);var c=t.stock[0].date;for(var d in t.stock[0].minute){var f=t.stock[0].minute[d],p=new st;p.Close=f.price,p.Open=f.open,p.High=f.high,p.Low=f.low,p.Vol=a?f.vol/100:f.vol,p.Amount=f.amount,f.date>0&&(c=f.date),p.DateTime=c.toString()+" "+f.time.toString(),p.Date=c,p.Time=f.time,(n||r||o)&&(p.Position=f.position),8<f.length&&f[8]>0&&(p.Date=f[8],p.DateTime=p.Date.toString()+" "+f[0].toString()),p.Increase=f.increase,p.Risefall=f.risefall,p.AvPrice=f.avprice,Ce.IsNumber(f.lead)&&(p.Lead=f.lead),p.Close||(p.Close=l,p.Open=p.High=p.Low=p.Close),p.AvPrice||(p.AvPrice=h),p.Open<=0&&(p.Open=null),p.Close<=0&&(p.Close=null),p.AvPrice<=0&&(p.AvPrice=null),p.High<=0&&(p.High=null),p.Low<=0&&(p.Low=null),u&&p.Close&&(p.Increase=(p.Close-u)/u*100);var m=Math.abs(p.AvPrice-p.Close);a&&m>.13*p.Close&&(p.AvPrice=h),f.price>0&&(l=f.price),f.avprice>0&&p.AvPrice===f.avprice&&(h=f.avprice),f.ExtendData&&(p.ExtendData=f.ExtendData),s[d]=p}return s},oi.JsonDataToUpdateMinuteData=function(t){if(!t||!t.stock)return null;var e=t.stock[0];if(!Ce.IsNumber(e.date))return null;var i=t.stock[0].symbol,a=i.toUpperCase(),n=Ii.IsSHSZ(a),r={Date:e.date,Data:[],Symbol:i,Name:e.name},o=A.MINUTE_DAY_EXTENDDATA;if(Ce.IsNumber(e.high)&&(r.High=e.high),Ce.IsNumber(e.low)&&(r.Low=e.low),Ce.IsNumber(e.yclose)&&(r.YClose=e.yclose),Ce.IsNumber(e.YClearing)&&(r.YClearing=e.yclearing),Ce.IsNonEmptyArray(t.stock[0].minute))for(var s=0;s<e.minute.length;++s){var l=e.minute[s],h=new st;h.Date=l[0],h.Time=l[1],h.Open=l[2],h.High=l[3],h.Low=l[4],h.Close=l[5],h.AvPrice=l[6],h.Vol=l[7],h.Amount=l[8],Ce.IsNumber(l[9])&&(h.Increase=l[9]),Ce.IsNumber(l[10])&&(h.Risefall=l[10]),Ce.IsNumber(l[11])&&(h.Lead=l[11]),l[o]&&(h.ExtendData=l[o]),h.DateTime=h.Date.toString()+" "+h.Time.toString(),n&&(h.Vol=h.Vol/100),Ce.IsNumber(r.YClose)&&h.Close&&(h.Increase=(h.Close-r.YClose)/r.YClose*100),r.Data.push(h)}return r},oi.JsonDataToMinuteLineColorData=function(t){if(!t||!t.stock[0])return null;var e=t.stock[0];if(!e.linecolor||!Ce.IsNonEmptyArray(e.linecolor.data))return null;var i=[];for(var a in e.linecolor.data){var n=e.linecolor.data[a];if(Ce.IsNumber(n.type)&&Ce.IsNumber(n.date)&&Ce.IsNumber(n.start)&&Ce.IsNumber(n.end)&&n.color&&!(n.start>=n.end)){var r={Type:n.type,Date:n.date,Start:n.start,End:n.end,Color:n.color};Ce.IsPlusNumber(n.linewidth)&&(r.LineWidth=n.linewidth),i.push(r)}}return i},oi.JsonDataToMinuteLastUpdateTime=function(t){if(!t||!t.stock[0])return null;var e=t.stock[0];return Ce.IsNumber(e.date)&&Ce.IsNumber(e.time)?{Date:e.date,Time:e.time}:null},oi.JsonDataToHistoryMinuteLastUpdateTime=function(t){if(!t||!t.updatetime)return null;var e=t.updatetime;return Ce.IsNumber(e.date)&&Ce.IsNumber(e.time)?{Date:e.date,Time:e.time}:null},oi.JsonDataToMinuteDataArray=function(t){var e=t.symbol.toUpperCase(),i=Ii.IsSHSZ(e),a=Ii.IsSHO(e),n=Ii.IsSZO(e),r=Ii.IsFutures(e),o=[],s=A.MINUTE_MULTI_DAY_EXTENDDATA;for(var l in t.data){var h=[],u=t.data[l],c=u.date,d=u.yclose,f=d,p=null,m=u.yclearing;for(var v in u.minute){var g=u.minute[v];g[2]&&(f=g[2]);var C=new st;if(C.Close=g[2],C.Open=g[1],C.High=g[3],C.Low=g[4],C.Vol=i?g[5]/100:g[5],C.Amount=g[6],7<g.length&&g[7]>0&&(C.AvPrice=g[7]),C.DateTime=c.toString()+" "+g[0].toString(),C.Date=c,C.Time=g[0],8<g.length&&g[8]>0&&(C.Date=g[8],C.DateTime=C.Date.toString()+" "+g[0].toString()),(r||a||n)&&9<g.length&&(C.Position=g[9]),C.Close||(C.Close=f,C.Open=C.High=C.Low=C.Close),!C.AvPrice&&p&&(C.AvPrice=p),C.Close&&d?C.Increase=(C.Close-d)/d*100:C.Increase=null,C.Open<=0&&(C.Open=null),C.Close<=0&&(C.Close=null),C.AvPrice<=0&&(C.AvPrice=null),C.High<=0&&(C.High=null),C.Low<=0&&(C.Low=null),C.AvPrice<=0&&(C.AvPrice=null),C.AvPrice&&i)Math.abs(C.AvPrice-C.Close)>.13*C.Close&&(C.AvPrice=p);g.length>7&&g[7]>0&&C.AvPrice===g[7]&&(p=g[7]),g[s]&&(C.ExtendData=g[s]),h[v]=C}var D=new mt;D.Data=h,D.YClose=d,D.Close=u.close,D.Date=c,Ce.IsNumber(m)&&(D.YClearing=m),o.push(D)}return o},oi.JsonDataToHistoryMinuteLineColorData=function(t){if(!t)return null;var e=[];for(var i in t.data){var a=t.data[i];if(a.linecolor)for(var n in a.linecolor.data){var r=a.linecolor.data[n];if(Ce.IsNumber(r.type)&&Ce.IsNumber(r.date)&&Ce.IsNumber(r.start)&&Ce.IsNumber(r.end)&&r.color&&!(r.start>=r.end)){var o={Type:r.type,Date:r.date,Start:r.start,End:r.end,Color:r.color};Ce.IsPlusNumber(r.linewidth)&&(o.LineWidth=r.linewidth),e.push(o)}}}return e.length>0?e:null},oi.JsonDataToCallAuctionItem=function(t,e,i){var a=e.Date,n=i?A.MINUTE_BEFOREOPEN_EXTENDDATA:A.MINUTE_AFTERCLOSE_EXTENDDATA;if(1==e.Ver)for(var r in t){var o=i?new lt:new ht,s=t[r];o.Time=s[0],o.Date=a,o.Price=s[1],o.Price?preClose=o.Price:o.Price=preClose,o.Vol[0]=s[2]/100,o.Amount=s[3],o.DateTime=a.toString()+" "+o.Time.toString(),e.Data.push(o)}else if(2==e.Ver){var l=0;for(var r in t){o=i?new lt:new ht,s=t[r];o.Time=s[0],o.Date=a,o.Price=s[1],o.Vol[0]=s[2],o.Vol[1]=s[3],o.ColorID=s[4],o.DateTime=a.toString()+" "+o.Time.toString();var h=o.Vol[0]+o.Vol[1];Ce.IsNumber(s[5])&&(h=s[5]),h>l&&(l=h),s[n]&&(o.ExtendData=s[n]),e.Data.push(o)}e.VolMax=l,e.VolMin=0}else if(3==beforeOpenData.Ver){l=0;for(var r in t){o=i?new lt:new ht,s=t[r];o.Time=s[0],o.Date=a,o.Price=s[1],o.AvPrice=s[2],o.Vol[0]=s[3],o.ColorID=s[4],o.DateTime=a.toString()+" "+o.Time.toString();h=o.Vol[0];Ce.IsNumber(s[5])&&(h=s[5]),h>l&&(l=h),s[n]&&(o.ExtendData=s[n]),e.Data.push(o)}e.VolMax=l,e.VolMin=0}},oi.JosnDataToBeforeOpenDataArray=function(t){if(!t||!t.data)return null;var e=[];for(var i in t.data){var a=t.data[i],n={Data:[],TotalCount:15,Ver:1,Date:a.date};a.beforeinfo&&(Ce.IsNumber(a.beforeinfo.totalcount)&&(n.TotalCount=a.beforeinfo.totalcount),Ce.IsNumber(a.beforeinfo.ver)&&(n.Ver=a.beforeinfo.ver)),oi.JsonDataToCallAuctionItem(a.before,n,!0),e.push(n)}return e.sort(function(t,e){return t.Date-e.Date}),e},oi.JosnDataToAfterCloseDataArray=function(t){if(!t||!t.data)return null;var e=[];for(var i in t.data){var a=t.data[i],n={Data:[],TotalCount:15,Ver:1,Date:a.date};a.afterinfo&&(Ce.IsNumber(a.afterinfo.totalcount)&&(n.TotalCount=a.afterinfo.totalcount),Ce.IsNumber(a.afterinfo.ver)&&(n.Ver=a.afterinfo.ver)),oi.JsonDataToCallAuctionItem(a.after,n,!1),e.push(n)}return e.sort(function(t,e){return t.Date-e.Date}),e},si.JsonDataToMinuteData=function(t){var e=[];for(var i in t.minute.time){var a=new st;t.minute.price[i]<=0&&i>0?(a.Close=e[i-1].Close,a.Open=e[i-1].Close,a.High=a.Close,a.Low=a.Close,a.Vol=t.minute.vol[i],a.Amount=t.minute.amount[i],a.DateTime=t.date.toString()+" "+t.minute.time[i].toString(),a.AvPrice=e[i-1].AvPrice):(a.Close=t.minute.price[i],a.Open=t.minute.open[i],a.High=t.minute.high[i],a.Low=t.minute.low[i],a.Vol=t.minute.vol[i],a.Amount=t.minute.amount[i],a.DateTime=t.date.toString()+" "+t.minute.time[i].toString(),a.AvPrice=t.minute.avprice[i]),a.Open<=0&&(a.Open=null),a.Close<=0&&(a.Close=null),a.AvPrice<=0&&(a.AvPrice=null),a.High<=0&&(a.High=null),a.Low<=0&&(a.Low=null),e[i]=a}return e},fi.prototype.GetDefaultColor=function(t){var e=["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"];return e[parseInt(t)%(e.length-1)]},mi.Get=function(t){return new p.default([["互动易",{Create:function(){return new function(){this.newMethod=vi,this.newMethod(),delete this.newMethod,this.ClassName="InvestorInfo",this.Explain="互动易",this.RequestData=function(t,e){var i=this,a={HQChart:t};if(this.Data=[],!this.NetworkFilter(t,e)){var n={filed:["question","answerdate","symbol","id"],symbol:[a.HQChart.Symbol],querydate:{StartDate:this.StartDate,EndDate:this.GetToday()},start:0,end:this.MaxRequestDataCount},r=Qe.Domain+Qe.KLine.Info.Investor.ApiUrl;return C.HttpRequest({url:r,data:n,type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)}}),!0}},this.RecvData=function(t,e){if(!(t.list.length<=0)){for(var i in t.list){var a=t.list[i],n=new dt;n.Date=a.answerdate,n.Title=a.question,n.InfoType=ct.INVESTOR,this.Data.push(n)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}}}],["公告",{Create:function(){return new function(){this.newMethod=vi,this.newMethod(),delete this.newMethod,this.ClassName="AnnouncementInfo",this.Explain="公告",this.ApiType=1,this.RequestData=function(t,e){var i=this,a={HQChart:t};if(e&&!0===e.Update||(this.Data=[]),!this.NetworkFilter(t,e))if(1==this.ApiType){var n=Qe.CacheDomain+"/cache/analyze/shszreportlist/"+a.HQChart.Symbol+".json";C.HttpRequest({url:n,type:"get",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)},error:function(t,e){i.RecvError(t,e,a)}})}else{var n=Qe.Domain+Qe.KLine.Info.Announcement.ApiUrl;C.HttpRequest({url:n,data:{filed:["title","releasedate","symbol","id"],symbol:[a.HQChart.Symbol],querydate:{StartDate:this.StartDate,EndDate:this.GetToday()},start:0,end:this.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)},error:function(t,e){i.RecvError(t,e,a)}})}},this.RecvData=function(t,e){if(!(t.report.length<=0)){var i=[];for(var a in t.report){var n=t.report[a],r=new dt;for(var o in r.Date=n.releasedate,r.Title=n.title,r.InfoType=ct.ANNOUNCEMENT,n.type){var s=n.type[o];switch(s){case"一季度报告":r.InfoType=ct.ANNOUNCEMENT_QUARTER_1;break;case"半年度报告":r.InfoType=ct.ANNOUNCEMENT_QUARTER_2;break;case"三季度报告":r.InfoType=ct.ANNOUNCEMENT_QUARTER_3;break;case"年度报告":r.InfoType=ct.ANNOUNCEMENT_QUARTER_4}}for(var o in n.typeex){var l=n.typeex[o];r.InfoType=ct.ANNOUNCEMENT_EX_START+l;break}i.push(r)}!0===t.Update&&this.Data.length>0?this.UpdateData(i):this.Data=i,e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}},this.UpdateData=function(t){if(t&&!(t.length<=0)){var e=new c.default;for(var i in this.Data){var a=this.Data[i],n=a.Date+"-"+a.InfoType+"-"+a.Title;e.add(n)}var r=0;for(var i in t){var a=t[i],n=a.Date+"-"+a.InfoType+"-"+a.Title;e.has(n)||(this.Data.push(a),++r)}g.Chart.Log("[AnnouncementInfo::UpdateData] add new count="+r)}},this.RecvError=function(t,e,i){console.warn("[AnnouncementInfo::RecvError] error, http ",e,t)}}}}],["业绩预告",{Create:function(){return new function(){this.newMethod=vi,this.newMethod(),delete this.newMethod,this.ClassName="PforecastInfo",this.RequestData=function(t,e){var i=this,a={HQChart:t};this.Data=[];var n=Qe.Domain+Qe.KLine.Info.Pforecast.ApiUrl;return C.HttpRequest({url:n,data:{field:["pforecast.type","pforecast.reportdate","fweek"],condition:[{item:["pforecast.reportdate","int32","gte",this.StartDate]}],symbol:[a.HQChart.Symbol],start:0,end:this.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)}}),!0},this.RecvData=function(t,e){if(1==t.stock.length&&!(t.stock[0].stockday.length<=0)){for(var i in t.stock[0].stockday){var a=t.stock[0].stockday[i];if(a.pforecast.length>0){var n=a.pforecast[0],r=new dt;r.Date=a.date,r.Title=n.type,r.InfoType=ct.PFORECAST,r.ExtendData={Type:n.type,ReportDate:n.reportdate},a.fweek&&(r.ExtendData.FWeek={},null!=a.fweek.week1&&(r.ExtendData.FWeek.Week1=a.fweek.week1),null!=a.fweek.week4&&(r.ExtendData.FWeek.Week4=a.fweek.week4)),this.Data.push(r)}}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}}}],["调研",{Create:function(){return new function(){this.newMethod=vi,this.newMethod(),delete this.newMethod,this.ClassName="ResearchInfo",this.RequestData=function(t,e){var i=this,a={HQChart:t};this.Data=[];var n=Qe.Domain+Qe.KLine.Info.Research.ApiUrl;return C.HttpRequest({url:n,data:{filed:["releasedate","researchdate","level","symbol","id","type"],querydate:{StartDate:this.StartDate,EndDate:this.GetToday()},symbol:[a.HQChart.Symbol],start:0,end:this.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)}}),!0},this.RecvData=function(t,e){if(!(t.list.length<=0)){for(var i in t.list){var a=t.list[i],n=new dt;n.ID=a.id,n.Date=a.researchdate,n.InfoType=ct.RESEARCH,n.ExtendData={Level:a.level,Type:a.type},this.Data.push(n)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}}}],["大宗交易",{Create:function(){return new function(){this.newMethod=vi,this.newMethod(),delete this.newMethod,this.ClassName="BlockTrading",this.RequestData=function(t,e){var i=this,a={HQChart:t};this.Data=[];var n=Qe.Domain+Qe.KLine.Info.BlockTrading.ApiUrl;return C.HttpRequest({url:n,data:{field:["blocktrading.price","blocktrading.vol","blocktrading.premium","fweek","price"],condition:[{item:["date","int32","gte",this.StartDate]},{item:["blocktrading.vol","int32","gte","0"]}],symbol:[a.HQChart.Symbol],start:0,end:this.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)}}),!0},this.RecvData=function(t,e){if(1==t.stock.length&&!(t.stock[0].stockday.length<=0)){for(var i in t.stock[0].stockday){var a=t.stock[0].stockday[i],n=new dt;n.Date=a.date,n.InfoType=ct.BLOCKTRADING,n.ExtendData={Price:a.blocktrading.price,Premium:a.blocktrading.premium,Vol:a.blocktrading.vol,ClosePrice:a.price},a.fweek&&(n.ExtendData.FWeek={},null!=a.fweek.week1&&(n.ExtendData.FWeek.Week1=a.fweek.week1),null!=a.fweek.week4&&(n.ExtendData.FWeek.Week4=a.fweek.week4)),this.Data.push(n)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}}}],["龙虎榜",{Create:function(){return new function(){this.newMethod=vi,this.newMethod(),delete this.newMethod,this.ClassName="TradeDetail",this.RequestData=function(t,e){var i=this,a={HQChart:t};this.Data=[];var n=Qe.Domain+Qe.KLine.Info.TradeDetail.ApiUrl;return C.HttpRequest({url:n,data:{field:["tradedetail.typeexplain","tradedetail.type","fweek"],condition:[{item:["date","int32","gte",this.StartDate]},{item:["tradedetail.type","int32","gte","0"]}],symbol:[a.HQChart.Symbol],start:0,end:this.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)}}),!0},this.RecvData=function(t,e){if(1==t.stock.length&&!(t.stock[0].stockday.length<=0)){for(var i in t.stock[0].stockday){var a=t.stock[0].stockday[i],n=new dt;for(var r in n.Date=a.date,n.InfoType=ct.TRADEDETAIL,n.ExtendData={Detail:new Array},a.tradedetail){var o=a.tradedetail[r];n.ExtendData.Detail.push({Type:o.type,TypeExplain:o.typeexplain})}a.fweek&&(n.ExtendData.FWeek={},null!=a.fweek.week1&&(n.ExtendData.FWeek.Week1=a.fweek.week1),null!=a.fweek.week4&&(n.ExtendData.FWeek.Week4=a.fweek.week4)),this.Data.push(n)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}}}]]).get(t)},mi.GetClassInfo=function(t){return new p.default([["互动易",{ClassName:"InvestorInfo"}],["公告",{ClassName:"AnnouncementInfo"}],["业绩预告",{ClassName:"PforecastInfo"}],["调研",{ClassName:"ResearchInfo"}],["大宗交易",{ClassName:"BlockTrading"}],["龙虎榜",{ClassName:"TradeDetail"}]]).get(t)},mi.GetIconUrl=function(t){switch(t){case ct.INVESTOR:return Qe.KLine.Info.Investor.Icon;case ct.PFORECAST:return Qe.KLine.Info.Pforecast.Icon;case ct.ANNOUNCEMENT:return Qe.KLine.Info.Announcement.Icon;case ct.ANNOUNCEMENT_QUARTER_1:case ct.ANNOUNCEMENT_QUARTER_2:case ct.ANNOUNCEMENT_QUARTER_3:case ct.ANNOUNCEMENT_QUARTER_4:return Qe.KLine.Info.Announcement.IconQuarter;case ct.RESEARCH:return Qe.KLine.Info.Research.Icon;case ct.BLOCKTRADING:return Qe.KLine.Info.BlockTrading.Icon;case ct.TRADEDETAIL:return Qe.KLine.Info.TradeDetail.Icon;default:return Qe.KLine.Info.Announcement.Icon}},mi.GetIconLibrary=function(t){var e=Qe.KLine.Info.IconLibrary;if(!e||!e.Icon)return Qe.KLine.Info.Announcement.IconFont;if(t>=0&&t<e.Icon.length){var i=e.Icon[t];return{Text:i.Text,HScreenText:i.HScreenText,Color:i.Color,Family:e.Family}}return Qe.KLine.Info.Announcement.IconFont},mi.GetIconFont=function(t){if(t>=ct.ANNOUNCEMENT_EX_START&&t<=ct.ANNOUNCEMENT_EX_END){var e=t-ct.ANNOUNCEMENT_EX_START;return mi.GetIconLibrary(e)}switch(t){case ct.INVESTOR:return Qe.KLine.Info.Investor.IconFont;case ct.PFORECAST:return Qe.KLine.Info.Pforecast.IconFont;case ct.ANNOUNCEMENT:return Qe.KLine.Info.Announcement.IconFont;case ct.ANNOUNCEMENT_QUARTER_1:case ct.ANNOUNCEMENT_QUARTER_2:case ct.ANNOUNCEMENT_QUARTER_3:case ct.ANNOUNCEMENT_QUARTER_4:return Qe.KLine.Info.Announcement.IconFont2;case ct.RESEARCH:return Qe.KLine.Info.Research.IconFont;case ct.BLOCKTRADING:return Qe.KLine.Info.BlockTrading.IconFont;case ct.TRADEDETAIL:return Qe.KLine.Info.TradeDetail.IconFont;default:return Qe.KLine.Info.Announcement.IconFont}},gi.InfoMap=new p.default([["大盘异动",{Create:function(){return new function(){this.newMethod=Ci,this.newMethod(),delete this.newMethod,this.ClassName="MarketEventInfo",this.RequestData=function(t){var e=this;this.Data=[];var i={HQChart:t},a=Qe.CacheDomain+"/cache/analyze/shszevent/marketevent/concept/"+t.TradeDate+".json";if(t.NetworkFilter){var n={Name:"MarketEventInfo::RequestData",Explain:"大盘异动",Request:{Url:a,Type:"Get",Data:{Date:t.TradeDate,Symbol:t.Symbol}},Self:this,PreventDefault:!1};if(t.NetworkFilter(n,function(t){e.RecvData(t,i),i.HQChart.UpdataChartInfo(),i.HQChart.Draw()}),1==n.PreventDefault)return}return C.HttpRequest({url:a,type:"get",dataType:"json",async:!0,success:function(t){e.RecvData(t,i)},error:function(t,e){console.warn("[MarketEventInfo::RequestData] error, http ",e,t)}}),!0},this.RecvData=function(t,e){for(var i in t.event){var a=t.event[i];for(var n in a.data){var r=a.data[n];if(Array.isArray(r)){if(r.length<2)continue;var o={Date:a.date,Time:r[0],Title:r[1],Type:0};r.length>=3&&r[2]&&"string"==typeof r[2]&&(o.Color=r[2]),r.length>=4&&r[3]&&"string"==typeof r[3]&&(o.BGColor=r[3]),this.Data.push(o)}else{if(!Ce.IsNumber(r.Date)||!Ce.IsNumber(r.Time)||!r.Title)continue;var o={Date:r.Date,Time:r.Time,Title:r.Title,Type:0};r.Color&&(o.Color=r.Color),r.BGColor&&(o.BGColor=r.BGColor),Ce.IsNumber(r.Price)&&(o.Price=r.Price),r.Content&&(o.Content=r.Content),r.Link&&(o.Link=r.Link),this.Data.push(o)}}}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}}]]),gi.Get=function(t){return gi.InfoMap.get(t)};var Di=new function(){this.DataMap=new p.default([["ChartPictureSettingMenu",{Create:function(t){return new function(t){this.newMethod=yi,this.newMethod(t),delete this.newMethod,this.HQChart,this.ChartPicture,this.SubToolsDiv,this.SettingMenu,this.SettingPV,this.DoModal=function(t){if(!this.SubToolsDiv){this.ID=P();var e=document.createElement("div");e.className="subTolls",e.id=this.ID,this.DivElement.appendChild(e),this.SubToolsDiv=e}this.HQChart=t.data.HQChart,this.ChartPicture=t.data.ChartPicture;var i=L(),a=this.HQChart.Frame.SubFrame[0].Frame,n=a.ChartBorder.Top+40,r=a.ChartBorder.Right,o=a.ChartBorder.GetLeft(),s=this.ChartPicture.ClassName,l=this.ChartPicture.LineColor;0!=l.indexOf("rgb(")&&0!=l.indexOf("RGB(")||(l=He.RGBToHex(l.toLowerCase()));var h="";h="ChartDrawPictureText"===s?'<span class="changes-color" title="改变图形颜色"><i class="iconfont icon-bianji"></i><input type="color" name="color" id="color" class="change-color" value="'+l+'"></span>\n<span class="subtool-set" title="设置"><i class="iconfont icon-shezhi"></i></span><span class="subtool-del"><i class="iconfont icon-recycle_bin"></i></span>':"ChartDrawVolProfile"==s?'<span class="vp-set" title="设置"><i class="iconfont icon-shezhi"></i></span><span class="subtool-del"><i class="iconfont icon-recycle_bin"></i></span>':'<p class="changes-color" title="改变图形颜色"><i class="iconfont icon-bianji"></i><input type="color" name="color" id="color" class="change-color" value="'+l+'"></p>\n        <p class="subtool-del"><i class="iconfont icon-recycle_bin"></i></p>',this.SubToolsDiv.style.right=r/i+"px",this.SubToolsDiv.style.top=n/i+"px",this.SubToolsDiv.innerHTML=h,this.SubToolsDiv.style.position="absolute",this.SubToolsDiv.style.display="block";var u=this.HQChart,c=this.ChartPicture;this.SubToolsDiv,(0,m.default)(".subtool-del").click(function(){u.SelectChartDrawPicture=null,u.ClearChartDrawPicture(c),(0,m.default)(".subTolls").css("display","none")});var d=this;(0,m.default)(".subtool-set").click(function(){(0,m.default)(d.SubToolsDiv).hide(),d.SettingMenu||(d.SettingMenu=new Si(a.ChartBorder.UIElement.parentNode)),d.SettingMenu.ChartPicture=c,d.SettingMenu.HQChart=u,d.SettingMenu.Position={Left:r+80,Top:n+20},d.SettingMenu.DoModal()}),(0,m.default)(".changes-color").click(function(){document.getElementById("color").click(),(0,m.default)(".change-color").change(function(){var t=(0,m.default)(".change-color").val();c.LineColor=t,c.PointColor=t,u.ChartDrawStorage&&u.ChartDrawStorage.SaveDrawData(c)})}),(0,m.default)(".vp-set").click(function(){d.SettingPV||(d.SettingPV=new function(t){this.newMethod=yi,this.newMethod(t),delete this.newMethod,this.ChartPicture,this.SettingDiv,this.Position,this.ID=P(),this.Close=function(){this.SettingDiv&&this.DivElement.removeChild(this.SettingDiv)},this.DoModal=function(){var t=this.ChartPicture.VAVol,e=this.ChartPicture.BarPosition,i=this,a=document.getElementById(this.ID);a?this.SettingDiv=a:((a=document.createElement("div")).className="jchart-modifyindex-box",a.id=this.ID,this.DivElement.appendChild(a),this.SettingDiv=a),a.innerHTML="<div class='parameter'>            <div class='parameter-header'>                <span>固定范围成交量分布设置</span>                <strong id='close' class='icon iconfont icon-close'></strong>            </div>            <div class='parameter-content'>\n                <input class='row-line' value="+t+" />VAVol <br>\n                <input class='row-line' value="+e+" />BarPosition\n            </div>            <div class='parameter-footer'>                <button class='submit' >确定</button>                <button class='cancel' >取消</button>            </div>        </div>";var n=L(),r=this.HQChart.Frame.SubFrame[0].Frame,o=r.ChartBorder.Top+40,s=r.ChartBorder.Right;r.ChartBorder.GetLeft(),this.SettingDiv.style.right=s/n+"px",this.SettingDiv.style.top=o/n+"px",this.SettingDiv.style.position="absolute",this.SettingDiv.style.display="block";var l=a.getElementsByClassName("cancel")[0];l.onclick=function(){i.Close()};var h=a.getElementsByClassName("icon iconfont icon-close")[0];h.onclick=function(){i.Close()};var u=a.getElementsByClassName("submit")[0];u.onclick=function(){var t=a.getElementsByClassName("row-line")[0].value;i.ChartPicture.VAVol=parseFloat(t);var t=parseInt(a.getElementsByClassName("row-line")[1].value);i.ChartPicture.BarPosition=t>0?1:0,i.ChartPicture.RequestVolumeProfileData(),i.Close()}}}(a.ChartBorder.UIElement.parentNode)),d.SettingPV.ChartPicture=c,d.SettingPV.HQChart=u,d.SettingPV.Position={Left:r+80,Top:n+20},d.SettingPV.DoModal()}),g.Chart.Log("[ChartPictureSettingMenu::DoModal]",{Top:n,Left:o,Right:r})}}(t)}}],["ChartPictureTextSettingMenu",{Create:function(t){return new Si(t)}}]]),this.Create=function(t,e){return this.DataMap.has(t)?this.DataMap.get(t).Create(e):(g.Warn("[DialogFactory::Create] can't find class="+t+"."),null)},this.Add=function(t,e){this.DataMap.set(t,{Create:e.Create})}};function yi(t){this.DivElement=t,this.ID=null,this.TimeOut=null,this.Hide=function(){(0,m.default)("#"+this.ID).hide()},this.Show=function(t,e,i,a){var n={display:"block"};Ce.IsNumber(t)&&(n.left=t+"px"),Ce.IsNumber(e)&&(n.top=e+"px"),Ce.IsNumber(i)&&(n.width=i+"px"),Ce.IsNumber(a)&&(n.height=a+"px"),(0,m.default)("#"+this.ID).css(n)}}function xi(t){this.newMethod=yi,this.newMethod(t),delete this.newMethod,this.option={},this.Create=function(){this.ID=P(),this.BindData(),this.BindEvent()},this.BindData=function(){var t=this.DivElement.id,e=(0,m.default)("#"+t);e.find("div[id^='topMenu_']").remove(),e.find("div[id^='childMenu_']").remove();var i=(0,m.default)("<div />");i.attr("id","topMenu_"+this.ID).addClass("context-menu-wrapper topmenu").hide(),e.append(i);var a=(0,m.default)("<table />");a.attr({id:"topTable_"+this.ID,cellspacing:"0",cellpadding:"0"}).addClass("context-menu"),i.append(a),a.append(this.childrenList(this.option.data));for(var n=0;n<this.option.data.length;n++){if(void 0!==this.option.data[n].children){var r=(0,m.default)("<div />");r.attr({id:"childMenu_"+this.ID+n,"data-index":n}).addClass("context-menu-wrapper").hide(),e.append(r);var o=(0,m.default)("<table />");o.attr({id:"childTable_"+this.ID+n,cellspacing:"0",cellpadding:"0"}).addClass("context-menu"),r.append(o),o.append(this.childrenList(this.option.data[n].children))}}},this.Update=function(){this.BindData(),this.BindEvent()},this.childrenList=function(t){for(var e=[],i=0;i<t.length;i++){var a=void 0!==t[i].isBorder&&t[i].isBorder,n=(0,m.default)("<tr />");n.addClass("font_Arial context-menu"),a&&n.addClass("border");var r=(0,m.default)("<td />");t[i].selected?r.addClass("spacer context-menu").html("√"):r.addClass("spacer context-menu");var o=(0,m.default)("<td />");o.addClass("text").html(t[i].text);var s=(0,m.default)("<td />");s.addClass("right shortcut");var l=(0,m.default)("<td />");l.addClass(void 0!==t[i].children?"submenu-arrow":"context-menu spacer"),n.append(r).append(o).append(s).append(l),e.push(n)}return e},this.Show=function(t){m.default.extend(this.option,t),this.ID?this.Update():this.Create();var e=(0,m.default)("#topMenu_"+this.ID),i=e.outerWidth(),a=e.outerHeight(),n=this.option.x,r=this.option.y;i>this.option.position.X+this.option.position.W-n&&(n-=i),a>this.option.position.Y+this.option.position.H-r&&(r-=a),e.hide(),e.css({position:"absolute",left:n+"px",top:r+"px"}).show(),this.isInit=!0},this.Hide=function(){void 0!==m.default&&((0,m.default)("#topMenu_"+this.ID).hide(),(0,m.default)("[id^='childMenu_"+this.ID+"']").hide())},this.BindEvent=function(){var t=this,e=(0,m.default)("[id^='childMenu_"+t.ID+"']");(0,m.default)("#topTable_"+t.ID).find("tr").mouseenter(function(){var i=(0,m.default)(this),a=i.index(),n=(0,m.default)("#topMenu_"+t.ID),r=(0,m.default)("#childMenu_"+t.ID+a),o=i.outerWidth(),s=i.outerHeight(),l=n.position().left+o+1,h=n.position().top+s*a;o>t.option.position.X+t.option.position.W-l&&(l=l-o-n.outerWidth()-2),r.outerHeight()>t.option.position.Y+t.option.position.H-h&&(h=n.position().top+n.outerHeight()-r.outerHeight()),e.hide(),r.css({left:l+"px",top:h+"px"}).show()}).mouseleave(function(){var e=(0,m.default)(this).index();setTimeout(function(){1!=(0,m.default)("#childMenu_"+t.ID+e).attr("data-isShow")&&(0,m.default)("#childMenu_"+t.ID+e).hide()},10)}).click(function(){var e=(0,m.default)(this),i=e.index();"function"==m.default.type(t.option.data[i].click)&&(t.option.data[i].click(t.option.returnData),e.hide())}).contextmenu(function(){return!1}),e.mouseenter(function(){(0,m.default)(this).attr("data-isShow","1")}).mouseleave(function(){(0,m.default)(this).attr("data-isShow","0")}).contextmenu(function(){return!1}),e.find("tr").click(function(){var i=(0,m.default)(this),a=parseInt(i.closest("div").attr("data-index")),n=i.index();"function"==m.default.type(t.option.data[a].children[n].click)&&(t.option.data[a].children[n].click(t.option.windowIndex||1),e.hide())})},this.GetPeriod=function(t){var e=[{text:"日线",Value:0,click:function(){t.ChangePeriod(0)}},{text:"周线",Value:1,click:function(){t.ChangePeriod(1)}},{text:"双周线",Value:21,click:function(){t.ChangePeriod(21)}},{text:"月线",Value:2,click:function(){t.ChangePeriod(2)}},{text:"季线",Value:9,click:function(){t.ChangePeriod(9)}},{text:"半年",Value:22,click:function(){t.ChangePeriod(22)}},{text:"年线",Value:3,click:function(){t.ChangePeriod(3)}},{text:"1分",Value:4,click:function(){t.ChangePeriod(4)}},{text:"5分",Value:5,click:function(){t.ChangePeriod(5)}},{text:"15分",Value:6,click:function(){t.ChangePeriod(6)}},{text:"30分",Value:7,click:function(){t.ChangePeriod(7)}},{text:"60分",Value:8,click:function(){t.ChangePeriod(8)}},{text:"2小时",Value:11,click:function(){t.ChangePeriod(11)}},{text:"4小时",Value:12,click:function(){t.ChangePeriod(12)}},{text:"分笔",Value:10,click:function(){t.ChangePeriod(10)}},{text:"自定义周期:3分钟",Value:20003,click:function(){t.ChangePeriod(20003)}},{text:"自定义周期:35分钟",Value:20035,click:function(){t.ChangePeriod(20035)}},{text:"自定义周期:8日",Value:40008,click:function(){t.ChangePeriod(40008)}}];for(var i in e){var a=e[i];if(a.Value==t.Period){a.selected=!0;break}}return e},this.GetRight=function(t){var e=[{text:"不复权",click:function(){t.ChangeRight(0)}},{text:"前复权",click:function(){t.ChangeRight(1)}},{text:"后复权",click:function(){t.ChangeRight(2)}}];return t.Right>=0&&t.Right<e.length&&(e[t.Right].selected=!0),e},this.GetIndex=function(t){return[{text:"均线",click:function(e){t.ChangeIndex(e,"均线")}},{text:"BOLL",click:function(e){t.ChangeIndex(e,"BOLL")},isBorder:!0},{text:"MACD",click:function(e){t.ChangeIndex(e,"MACD")}},{text:"KDJ",click:function(e){t.ChangeIndex(e,"KDJ")}},{text:"VOL",click:function(e){t.ChangeIndex(e,"VOL")}},{text:"RSI",click:function(e){t.ChangeIndex(e,"RSI")}},{text:"BRAR",click:function(e){t.ChangeIndex(e,"BRAR")}},{text:"WR",click:function(e){t.ChangeIndex(e,"WR")}},{text:"BIAS",click:function(e){t.ChangeIndex(e,"BIAS")}},{text:"OBV",click:function(e){t.ChangeIndex(e,"OBV")}},{text:"DMI",click:function(e){t.ChangeIndex(e,"DMI")}},{text:"CR",click:function(e){t.ChangeIndex(e,"CR")}},{text:"PSY",click:function(e){t.ChangeIndex(e,"PSY")}},{text:"CCI",click:function(e){t.ChangeIndex(e,"CCI")}},{text:"DMA",click:function(e){t.ChangeIndex(e,"DMA")}},{text:"TRIX",click:function(e){t.ChangeIndex(e,"TRIX")}},{text:"VR",click:function(e){t.ChangeIndex(e,"VR")}},{text:"EMV",click:function(e){t.ChangeIndex(e,"EMV")}},{text:"ROC",click:function(e){t.ChangeIndex(e,"ROC")}},{text:"MIM",click:function(e){t.ChangeIndex(e,"MIM")}},{text:"FSL",click:function(e){t.ChangeIndex(e,"FSL")}}]},this.GetColorIndex=function(t){var e=[{text:"十字星",click:function(e){t.ChangeInstructionIndex("五彩K线-十字星")}},{text:"早晨之星",click:function(e){t.ChangeInstructionIndex("五彩K线-早晨之星")}},{text:"垂死十字",click:function(e){t.ChangeInstructionIndex("五彩K线-垂死十字")}},{text:"三只乌鸦",click:function(e){t.ChangeInstructionIndex("五彩K线-三只乌鸦")}},{text:"光脚阴线",click:function(e){t.ChangeInstructionIndex("五彩K线-光脚阴线")}},{text:"黄昏之星",click:function(e){t.ChangeInstructionIndex("五彩K线-黄昏之星")}}];return t.ColorIndex&&(e[e.length-1].isBorder=!0,e.push({text:"删除五彩K线",click:function(e){t.CancelInstructionIndex()}})),e},this.GetTradeIndex=function(t){var e=[{text:"BIAS",click:function(e){t.ChangeInstructionIndex("交易系统-BIAS")}},{text:"CCI",click:function(e){t.ChangeInstructionIndex("交易系统-CCI")}},{text:"DMI",click:function(e){t.ChangeInstructionIndex("交易系统-DMI")}},{text:"KD",click:function(e){t.ChangeInstructionIndex("交易系统-KD")}},{text:"BOLL",click:function(e){t.ChangeInstructionIndex("交易系统-BOLL")}},{text:"KDJ",click:function(e){t.ChangeInstructionIndex("交易系统-KDJ")}}];return t.TradeIndex&&(e[e.length-1].isBorder=!0,e.push({text:"删除专家系统",click:function(e){t.CancelInstructionIndex()}})),e},this.GetOverlay=function(t){var e=[{text:"上证指数",click:function(){t.OverlaySymbol("000001.sh")}},{text:"深证成指",click:function(){t.OverlaySymbol("399001.sz")}},{text:"中小板指",click:function(){t.OverlaySymbol("399005.sz")}},{text:"创业板指",click:function(){t.OverlaySymbol("399006.sz")}},{text:"沪深300",click:function(){t.OverlaySymbol("000300.sh")}}];for(var i in t.OverlayChartPaint){var a,n=t.OverlayChartPaint[i].Symbol,r=new p.default([["000001.sh",0],["399001.sz",1],["399005.sz",2],["399006.sz",3],["000300.sh",4]]);if(r.has(n))!function(){a=e[r.get(n)];var i=n;a.selected=!0,a.click=function(){t.DeleteOverlaySymbol(i)}}()}return t.OverlayChartPaint&&t.OverlayChartPaint.length>0&&(e[e.length-1].isBorder=!0,e.push({text:"取消叠加",click:function(){t.ClearOverlaySymbol()}})),e},this.GetKLineType=function(t){var e=[{text:"K线(空心阳线)",click:function(){t.ChangeKLineDrawType(3)}},{text:"K线(实心阳线)",click:function(){t.ChangeKLineDrawType(0)}},{text:"美国线",click:function(){t.ChangeKLineDrawType(2)}},{text:"收盘线",click:function(){t.ChangeKLineDrawType(1)}},{text:"收盘面积",click:function(){t.ChangeKLineDrawType(4)}},{text:"K线(空心阳线阴线)",click:function(){t.ChangeKLineDrawType(6)}},{text:"Heikin Ashi",click:function(){t.ChangeKLineDrawType(11)}},{text:"Line Break",click:function(){t.ChangeKLineDrawType(12)}}];switch(t.KLineDrawType){case 0:e[1].selected=!0;break;case 1:e[3].selected=!0;break;case 2:e[2].selected=!0;break;case 3:e[0].selected=!0;break;case 4:e[4].selected=!0;break;case 6:e[5].selected=!0;break;case 11:e[6].selected=!0;break;case 12:e[7].selected=!0}return e},this.GetIndexWindowCount=function(t){var e=[{text:"1个窗口",click:function(){t.ChangeIndexWindowCount(1)}},{text:"2个窗口",click:function(){t.ChangeIndexWindowCount(2)}},{text:"3个窗口",click:function(){t.ChangeIndexWindowCount(3)}},{text:"4个窗口",click:function(){t.ChangeIndexWindowCount(4)}},{text:"5个窗口",click:function(){t.ChangeIndexWindowCount(5)}}],i=t.Frame.SubFrame.length;return i-1>=0&&i-1<e.length&&(e[i-1].selected=!0),e},this.GetCoordinateType=function(t){var e=[{text:"普通坐标",click:function(){t.ChangeCoordinateType({Type:0})}},{text:"百分比坐标",click:function(){t.ChangeCoordinateType({Type:1})}},{text:"反转坐标",click:function(){t.ChangeCoordinateType({IsReverse:!0})}},{text:"对数坐标",click:function(){t.ChangeCoordinateType({Type:2})}},{text:"等比坐标",click:function(){t.ChangeCoordinateType({Type:3})}},{text:"等分坐标",click:function(){t.ChangeCoordinateType({Type:4})}},{text:"黄金分割",click:function(){t.ChangeCoordinateType({Type:5})}}];return t.Frame&&t.Frame.SubFrame&&t.Frame.SubFrame.length>0&&(1==t.Frame.SubFrame[0].Frame.CoordinateType&&(e[2].selected=!0,e[2].click=function(){t.ChangeCoordinateType({IsReverse:!1})}),1==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType?e[1].selected=!0:0==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType?e[0].selected=!0:2==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType?e[3].selected=!0:3==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType?e[4].selected=!0:4==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType?e[5].selected=!0:5==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType&&(e[6].selected=!0)),e},this.GetDragModeType=function(t){var e=[{text:"禁止拖拽",click:function(){t.DragMode=0}},{text:"启动拖拽",click:function(){t.DragMode=1}},{text:"区间选择",click:function(){t.DragMode=2}}];return t.DragMode>=0&&t.DragMode<e.length&&(e[t.DragMode].selected=!0),e},this.GetTools=function(t){var e=[],i=t.GetExtendChartByClassName("DrawToolsButton");i?e.push({text:"关闭画图工具",click:function(){for(var e=i.Chart.Width,a=parseInt(i.Index)+1;a<t.ExtendChartPaint.length;++a){var n=t.ExtendChartPaint[a];"StockChip"==n.ClassName&&(n.Left-=e)}t.DeleteExtendChart(i),t.Frame.ChartBorder.Right-=e,t.SetSizeChange(!0),t.Draw()}}):e.push({text:"画图工具",click:function(){var e={Name:"画图工具",Top:t.Frame.ChartBorder.Top};t.CreateExtendChart(e.Name,e);t.SetSizeChange(!0),t.Draw()}});var a=t.GetExtendChartByClassName("StockChip");return a?e.push({text:"关闭移动筹码",click:function(){for(var e=a.Chart.Width,i=parseInt(a.Index)+1;i<t.ExtendChartPaint.length;++i){var n=t.ExtendChartPaint[i];"DrawToolsButton"==n.ClassName&&(n.Left-=e)}t.DeleteExtendChart(a),t.Frame.ChartBorder.Right-=e,t.SetSizeChange(!0),t.Draw()}}):e.push({text:"移动筹码",click:function(){var e={Name:"筹码分布",ShowType:1,Width:230};t.CreateExtendChart(e.Name,e);t.SetSizeChange(!0),t.Draw()}}),e},this.GetKLineInfo=function(t){var e=new c.default;for(var i in t.ChartInfo){var a=t.ChartInfo[i];e.add(a.ClassName)}var n=["公告","业绩预告","调研","大宗交易","龙虎榜","互动易"],r=[];for(var i in n){var o=n[i],s=mi.GetClassInfo(o);if(s){a=this.CreateKlineInfoItem(o,e.has(s.ClassName),t);r.push(a)}}if(t.ChartInfo.length>0){r[r.length-1].isBorder=!0;a={text:"删除所有",click:function(){t.ClearKLineInfo()}};r.push(a)}return r},this.CreateKlineInfoItem=function(t,e,i){var a={text:t,selected:e};return a.click=e?function(){i.DeleteKLineInfo(t)}:function(){i.AddKLineInfo(t,!0)},a},this.DoModal=function(t){var e=t.data.Chart,i=e.RightMenu,a=t.offsetX,n=t.offsetY,r=[{text:"分析周期",children:this.GetPeriod(e)},{text:"复权处理",children:this.GetRight(e)},{text:"指标切换",children:this.GetIndex(e)},{text:"五彩K线",children:this.GetColorIndex(e)},{text:"专家系统",children:this.GetTradeIndex(e)},{text:"信息地雷",children:this.GetKLineInfo(e)},{text:"叠加品种",children:this.GetOverlay(e)},{text:"主图线型",children:this.GetKLineType(e)},{text:"坐标类型",children:this.GetCoordinateType(e)},{text:"指标窗口个数",children:this.GetIndexWindowCount(e)},{text:"鼠标拖拽",children:this.GetDragModeType(e)},{text:"工具",children:this.GetTools(e)}],o=e.Symbol.toUpperCase();(Ii.IsSHSZIndex(e.Symbol)||Ii.IsBIT(o))&&r.splice(1,1);var s=t.data.FrameID,l=this.GetOverlayIndex(e,s);if(l&&l.length>0){var h={text:"删除叠加指标",children:this.GetDeleteOverlayIndex(e,l)};r.splice(3,0,h)}g.Chart.Log("[KLineRightMenu::DoModal]",s),i.Show({windowIndex:s,x:a+e.UIElement.offsetLeft,y:n+e.UIElement.offsetTop,position:e.Frame.Position,data:r}),(0,m.default)(document).click(function(){i.Hide()})},this.GetOverlayIndex=function(t,e){if(e>=t.Frame.SubFrame.length||e<0)return[];var i=[],a=t.Frame.SubFrame[e];for(var n in a.OverlayIndex){var r=a.OverlayIndex[n];i.push({Name:r.Script.Name,Identify:r.Identify})}return i},this.GetDeleteOverlayIndex=function(t,e){var i=[],a=function(){var a=e[n].Identify;i.push({text:e[n].Name,click:function(){t.DeleteOverlayWindowsIndex(a)}})};for(var n in e)a();return i}}function Si(t){this.newMethod=yi,this.newMethod(t),delete this.newMethod,this.ChartPicture,this.SettingDiv,this.Position,this.BackupData,this.Close=function(){this.SettingDiv&&this.DivElement.removeChild(this.SettingDiv)},this.DoModal=function(){var t=this.ChartPicture.Text,e=this.ChartPicture.FontOption,i=this.ChartPicture.LineColor;this.BackupData={Text:t,LineColor:i,FontOption:{Family:e.Family,Size:e.Size,Weight:e.Weight,Style:e.Style}},g.Chart.Log("[ChartPictureTextSettingMenu::DoModal] picture info",this.BackupData);var a=this,n=this.DivElement.getElementsByClassName("chartpicture-text-setting")[0];n?this.SettingDiv=n:((n=document.createElement("div")).className="chartpicture-text-setting",this.DivElement.appendChild(n),this.SettingDiv=n);var r=[10,11,12,14,16,20,24,28,32,40],o=["微软雅黑","宋体","Arial","仿宋"],s="",l="";o.forEach(function(t,e){l+=0!==e?"<p>"+t+"</P>":'<p class="active">'+t+"</P>"}),r.forEach(function(t,e){s+=5!==e?"<p>"+t+"</P>":'<p class="active">'+t+"</P>"});var h='<div class="contentWrap"><div class="styleOptions"><span class="colorPicker"><input type="color" id="fontColor" value="#1e90ff"></span><div class="likeSelect fontSelect"><span class="choicedText">微软雅黑</span><div class="selectList">'+l+'</div><i class="iconfont icon-xia"></i></div><div class="likeSelect fontSizeSelect"><span class="choicedText">20</span><div class="selectList">'+s+'</div><i class="iconfont icon-xia"></i></div><span class="strongFont likeBtn"><i class="iconfont icon-jiacu"></i></span><span class="italicsFont likeBtn"><i class="iconfont icon-qingxieL"></i></span></div><textarea class="tArea" id="tArea" placeholder="Text"></textarea></div>',u=L(),c='<div class="titleWrap"><span class="titleName">样式设置</span><i class="closeBtn iconfont icon-close"></i></div>'+h+'<div class="btnsContainer"><span class="okBtn btn">确认</span><span class="cancelBtn btn">取消</span></div>';this.SettingDiv.style.left=this.Position.Left/u+"px",this.SettingDiv.style.top=this.Position.Top/u+"px",this.SettingDiv.innerHTML=c,this.SettingDiv.style.position="absolute",this.SettingDiv.style.display="block",(0,m.default)(".chartpicture-text-setting .colorPicker").css({borderColor:a.ChartPicture.LineColor,"background-color":a.ChartPicture.LineColor});var d=this.ChartPicture.FontOption.Family;(0,m.default)(".chartpicture-text-setting .fontSelect .choicedText").html(d),o.forEach(function(t,e){t==d&&((0,m.default)(".chartpicture-text-setting .fontSelect p").removeClass("active"),(0,m.default)(".chartpicture-text-setting .fontSelect p").eq(e).addClass("active"))});var f=this.ChartPicture.FontOption.Size;(0,m.default)(".chartpicture-text-setting .fontSizeSelect .choicedText").html(f),r.forEach(function(t,e){t==f&&((0,m.default)(".chartpicture-text-setting .fontSizeSelect p").removeClass("active"),(0,m.default)(".chartpicture-text-setting .fontSizeSelect p").eq(e).addClass("active"))});var p=this.ChartPicture.FontOption.Weight;null!=p&&"bold"==p&&(0,m.default)(".chartpicture-text-setting .strongFont").addClass("hot");var v=this.ChartPicture.FontOption.Style;null!=v&&"italic"==v&&(0,m.default)(".chartpicture-text-setting .italicsFont").addClass("hot");t=this.ChartPicture.Text;(0,m.default)(".chartpicture-text-setting .tArea").val(t);(0,m.default)(".chartpicture-text-setting #fontColor").change({Picture:this.ChartPicture},function(t){var e=(0,m.default)(this).val();(0,m.default)(this).parent().css({borderColor:e,"background-color":e});var i=t.data.Picture;i.LineColor=e,i.Update&&i.Update()}),(0,m.default)(".chartpicture-text-setting .fontSelect,.chartpicture-text-setting .fontSizeSelect").click(function(){(0,m.default)(this).find(".selectList").toggle(),(0,m.default)(this).toggleClass("hot")}),(0,m.default)(".chartpicture-text-setting .fontSelect p").click({Picture:this.ChartPicture},function(t){var e=(0,m.default)(this).closest(".fontSelect").find(".choicedText").html(),i=t.currentTarget.innerHTML;if(e!==i){(0,m.default)(this).closest(".fontSelect").find(".choicedText").html(i),(0,m.default)(this).siblings().removeClass("active"),(0,m.default)(this).addClass("active");var a=t.data.Picture;a.FontOption.Family=i,a.Update&&a.Update()}}),(0,m.default)(".chartpicture-text-setting .fontSizeSelect p").click({Picture:this.ChartPicture},function(t){var e=(0,m.default)(this).closest(".fontSizeSelect").find(".choicedText").html(),i=t.currentTarget.innerHTML;if(e!==i){(0,m.default)(this).closest(".fontSizeSelect").find(".choicedText").html(i),(0,m.default)(this).siblings().removeClass("active"),(0,m.default)(this).addClass("active");var a=t.data.Picture;a.FontOption.Size=Number(i),a.Update&&a.Update()}}),(0,m.default)(".chartpicture-text-setting .strongFont").click({Picture:this.ChartPicture},function(t){if((0,m.default)(this).toggleClass("hot"),(0,m.default)(this).attr("class").indexOf("hot")>0){var e=t.data.Picture;e.FontOption.Weight="bold",e.Update&&e.Update()}}),(0,m.default)(".chartpicture-text-setting .italicsFont").click({Picture:this.ChartPicture},function(t){if((0,m.default)(this).toggleClass("hot"),(0,m.default)(this).attr("class").indexOf("hot")>0){var e=t.data.Picture;e.FontOption.Style="italic",e.Update&&e.Update()}}),(0,m.default)(".chartpicture-text-setting .titleWrap .closeBtn,.chartpicture-text-setting .btnsContainer .cancelBtn").click({Picture:this.ChartPicture},function(t){var e=t.data.Picture;e.Text=a.BackupData.Text,e.LineColor=a.BackupData.LineColor,e.FontOption=a.BackupData.FontOption,e.Update&&e.Update(),a.Close()}),(0,m.default)(".chartpicture-text-setting .tArea").keyup({Picture:this.ChartPicture},function(t){g.Chart.Log('[ChartPictureTextSettingMenu::DoModal] $(".chartpicture-text-setting .tArea").keyup()');var e=(0,m.default)(this).val(),i=t.data.Picture;i.Text=e,i.Update&&i.Update()}),(0,m.default)(".chartpicture-text-setting .btnsContainer .okBtn").click(function(){a.Close(),a.HQChart&&a.HQChart.ChartDrawStorage&&a.HQChart.ChartDrawStorage.SaveDrawData(a.ChartPicture)})}}var Ii={SH:".SH",SZ:".SZ",SHSZ_C_Index:".CI",BJ:".BJ",SHO:".SHO",SZO:".SZO",HK:".HK",FHK:".FHK",SHFE:".SHF",SHFE2:".SHFE",CFFEX:".CFE",DCE:".DCE",CZCE:".CZC",USA:".USA",FTSE:".FTSE",BIT:".BIT",BIZ:".BIZ",FOREX:".FOREX",NYMEX:".NYMEX",COMEX:".COMEX",NYBOT:".NYBOT",CBOT:".CBOT",LME:".LME",TOCOM:".TOCOM",IPE:".IPE",TW:".TW",JP:".JP",HSX:".HSX",HNX:".HNX",UPCOM:".UPCOM",ET:".ET",IsET:function(t){return!!t&&t.indexOf(this.ET)>0},IsETShowAvPrice:function(t){return!1},IsHSX:function(t){return!!t&&t.indexOf(this.HSX)>0},IsHNX:function(t){return!!t&&t.indexOf(this.HNX)>0},IsUPCOM:function(t){return!!t&&t.indexOf(this.UPCOM)>0},IsNYMEX:function(t){return!!t&&t.indexOf(this.NYMEX)>0},IsCOMEX:function(t){return!!t&&t.indexOf(this.COMEX)>0},IsNYBOT:function(t){return!!t&&t.indexOf(this.NYBOT)>0},IsCBOT:function(t){return!!t&&t.indexOf(this.CBOT)>0},IsLME:function(t){return!!t&&t.indexOf(this.LME)>0},IsTOCOM:function(t){return!!t&&t.indexOf(this.TOCOM)>0},IsIPE:function(t){return!!t&&t.indexOf(this.IPE)>0},IsForeignExchange:function(t){return!!t&&t.indexOf(this.FOREX)>0},IsFTSE:function(t){return!!t&&t.indexOf(this.FTSE)>0},IsFHK:function(t){return!!t&&t.indexOf(this.FHK)>0},IsBIT:function(t){return!!t&&(t.indexOf(this.BIT)>0||t.indexOf(this.BIZ)>0)},IsUSA:function(t){return!!t&&t.indexOf(this.USA)>0},IsSH:function(t){var e=t.length-this.SH.length;return t.indexOf(this.SH)==e},IsSZ:function(t){var e=t.length-this.SZ.length;return t.indexOf(this.SZ)==e},IsBJ:function(t){var e=t.length-this.BJ.length;return t.indexOf(this.BJ)==e},IsSHSZCustomIndex:function(t){var e=t.length-this.SHSZ_C_Index.length;return t.indexOf(this.SHSZ_C_Index)==e},IsSHO:function(t){var e=t.length-this.SHO.length;return t.indexOf(this.SHO)==e},IsSZO:function(t){var e=t.length-this.SZO.length;return t.indexOf(this.SZO)==e},IsHK:function(t){var e=t.length-this.HK.length;return t.indexOf(this.HK)==e},IsTW:function(t){var e=t.length-this.TW.length;return t.indexOf(this.TW)==e},IsJP:function(t){var e=t.length-this.JP.length;return t.indexOf(this.JP)==e},IsSHFE:function(t){return!!t&&(t.indexOf(this.SHFE)>0||t.indexOf(this.SHFE2)>0)},IsCFFEX:function(t){return!!t&&t.indexOf(this.CFFEX)>0},IsDCE:function(t){return!!t&&t.indexOf(this.DCE)>0},IsCZCE:function(t){return!!t&&t.indexOf(this.CZCE)>0},IsChinaFutures:function(t){return this.IsSHO(t)||this.IsSZO(t)||this.IsCFFEX(t)||this.IsCZCE(t)||this.IsDCE(t)||this.IsSHFE(t)},IsFutures:function(t){return this.IsChinaFutures(t)||this.IsNYMEX(t)||this.IsCOMEX(t)||this.IsNYBOT(t)||this.IsCBOT(t)||this.IsLME(t)||this.IsTOCOM(t)},IsSHSZ:function(t){return this.IsSZ(t)||this.IsSH(t)||this.IsSHSZCustomIndex(t)},IsSHSZFund:function(t){if(!t)return!1;if(this.IsSH(t)){if("5"==t.charAt(0)&&"1"==t.charAt(1))return!0}else if(this.IsSZ(t)&&"1"==t.charAt(0)&&("5"==t.charAt(1)||"6"==t.charAt(1)||"7"==t.charAt(1)||"8"==t.charAt(1)))return!0;return!1},IsSHSZIndex:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){var i=e.replace(".SH","");if("0"==e.charAt(0)&&parseInt(i)<=3e3)return!0}else if(this.IsSZ(e)){if("3"==e.charAt(0)&&"9"==e.charAt(1))return!0}else if(this.IsSHSZCustomIndex(e))return!0;return!1},IsSHSZStockA:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){e.replace(".SH","");if("6"==e.charAt(0))return!0}else if(this.IsSZ(e))if("0"==e.charAt(0)){if("0"==e.charAt(1)&&"2"==e.charAt(2))return!0;if("7"!=e.charAt(1)&&"8"!=e.charAt(1))return!0}else if("3"==e.charAt(0)&&"0"==e.charAt(1)){if("0"==e.charAt(2))return!0;if("1"==e.charAt(2))return!0}return!1},IsBJStock:function(t){if(!t)return!1;var e=t.toUpperCase();if(!this.IsBJ(e))return!1;var i=e.charAt(0);return"4"==i||"8"==i},IsSHStockSTAR:function(t){if(!t)return!1;var e=t.toUpperCase();return!!this.IsSH(e)&&("6"==e.charAt(0)&&"8"==e.charAt(1)&&"8"==e.charAt(2))},GetMarketStatus:function(t){if(!t)return 0;var e=t.toUpperCase(),i=new Date,a=i.getDay(),n=100*i.getHours()+i.getMinutes();if(this.IsUSA(e)){var r=Ri(-4);a=r.getDay(),n=100*r.getHours()+r.getMinutes();return 6==a||0==a?0:n>1730?3:n<930?1:2}return this.IsBIT(e)?2:this.IsForeignExchange(e)?2:this.IsFTSE(e)?6==a||0==a?0:n>=830&&n<=2359?2:n>=0&&n<=500?2:0:this.IsFHK(e)?6==a||0==a?0:n>=900&&n<=2359?2:n>=0&&n<=320?2:0:this.IsET(e)?this.GetETMarketStatus(t):this.IsHK(e)?6==a||0==a?0:n>1630?3:n<925?1:2:this.IsTW(e)?6==a||0==a?0:n>1410?3:n<820?1:2:this.IsJP(e)?6==a||0==a?0:n>1520?3:n<830?1:2:this.IsNYMEX(e)?this.GetNYMEXMarketStatus(e):this.IsCOMEX(e)?this.GetCOMEXMarketStatus(e):this.IsNYBOT(e)?this.GetNYBOTMarketStatus(e):this.IsCBOT(e)?this.GetCBOTMarketStatus(e):this.IsLME(e)?this.GetLMEMarketStatus(e):this.IsTOCOM(e)?this.GetTOCOMMarketStatus(e):this.IsChinaFutures(e)?6==a||0==a?0:this.IsCFFEX(e)?n>1540?3:n<910?1:2:n>=2100?2:n<=240?2:n>=830&&n<=1510?2:1:6==a||0==a?0:n>1540?3:n<910?1:2},GetLimitPriceRange:function(t,e){return this.IsSHSZStockA(t)?this.IsSHStockSTAR(t)?{Max:.2,Min:-.2}:e?e.indexOf("ST")>=0?{Max:.05,Min:-.05}:{Max:.1,Min:-.1}:null:null},GetDefaultDecimal:function(t){return 2},GetFHKDecimal:function(t){return 0},GetFTSEDecimal:function(t){return 0},GetBITDecimal:function(t){return 2},GetSHODecimal:function(t){return 4},GetETDecimal:function(t){return 2},GetHKDecimal:function(t){return 2},GetTWDecimal:function(t){return 2},GetJPDecimal:function(t){return 2},GetHSXDecimal:function(t){return 2},GetHNXDecimal:function(t){return 2},GetUPCOMDecimal:function(t){return 2},GetForeignExchangeDecimal:function(t){return 4},GetNYMEXDecimal:function(t){return Ei.GetDecimal(t)},GetCOMEXDecimal:function(t){return Ai.GetDecimal(t)},GetNYBOTDecimal:function(t){return _i.GetDecimal(t)},GetCBOTDecimal:function(t){return Li.GetDecimal(t)},GetLMEDecimal:function(t){return Fi.GetDecimal(t)},GetTOCOMDecimal:function(t){return Oi.GetDecimal(t)},GetIPEDecimal:function(t){return Pi.GetDecimal(t)},GetETMarketStatus:function(t){return 2},GetNYMEXMarketStatus:function(t){return Ei.GetMarketStatus(t)},GetCOMEXMarketStatus:function(t){return Ai.GetMarketStatus(t)},GetNYBOTMarketStatus:function(t){return _i.GetMarketStatus(t)},GetCBOTMarketStatus:function(t){return Li.GetMarketStatus(t)},GetLMEMarketStatus:function(t){return Fi.GetMarketStatus(t)},GetTOCOMMarketStatus:function(t){return Oi.GetMarketStatus(t)},GetIPEMarketStatus:function(t){return Pi.GetMarketStatus(t)},IsShowMinuteVolTitle:function(t){if(!t)return!1;t.toUpperCase();return!1},IsShowMinutePostionLine:function(t){return!!(Ii.IsFutures(t)||Ii.IsSHO(t)||Ii.IsSZO(t))},IsShowMinuteColorVolBar:function(t){return!!Qe.Minute.VolBarColor},IsEnableRight:function(t,e){return!(!Ii.IsSHSZStockA(e)&&!Ii.IsBJStock(e))&&(!mt.IsTickPeriod(t)&&!mt.IsMinutePeriod(t,!0))}};function Ti(){this.TIME_SPLIT=[{Name:"6:00-5:00",Data:[{Start:600,End:2359},{Start:0,End:500}],Coordinate:{Full:[{Value:600,Text:"6:00"},{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"},{Value:400,Text:"4:00"}],Simple:[{Value:600,Text:"6:00"},{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:600,Text:"6:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}}],this.TIME_SPLIT2=[{Name:"7:00-6:00",Data:[{Start:700,End:2359},{Start:0,End:600}],Coordinate:{Full:[{Value:700,Text:"7:00"},{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"},{Value:500,Text:"5:00"}],Simple:[{Value:700,Text:"7:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"},{Value:1900,Text:"19:00"},{Value:2300,Text:"23:00"},{Value:300,Text:"3:00"}],Min:[{Value:700,Text:"7:00"},{Value:1900,Text:"19:00"},{Value:500,Text:"5:00"}]}}],this.FUTURES_LIST=[{Symbol:"CL",Decimal:2,Time:0,Name:"原油"},{Symbol:"NG",Decimal:3,Time:0,Name:"天然气"},{Symbol:"RB",Decimal:4,Time:0,Name:"汽油"},{Symbol:"PL",Decimal:1,Time:0,Name:"铂金"},{Symbol:"PA",Decimal:2,Time:0,Name:"钯金"},{Symbol:"HR",Decimal:0,Time:0,Name:"热轧钢卷"},{Symbol:"QM",Decimal:3,Time:0,Name:"迷你原油"},{Symbol:"HO",Decimal:4,Time:0,Name:"燃油"}],this.MarketSuffix=".NYMEX",this.TimeType=0,this.GetFuturesInfo=function(t){if(t.indexOf(this.MarketSuffix)<=0)return null;for(var e in this.FUTURES_LIST){var i=this.FUTURES_LIST[e];if(0==t.indexOf(i.Symbol))return i}return null},this.GetSplitData=function(t){var e=0==this.TimeType?this.TIME_SPLIT:this.TIME_SPLIT2,i=this.GetFuturesInfo(t);return i?e[i.Time]:e[0]},this.GetDecimal=function(t){var e=this.GetFuturesInfo(t);return e?e.Decimal:3},this.GetMarketStatus=function(t){var e=Ri(-4),i=new Date,a=e.getDay(),n=100*i.getHours()+i.getMinutes();return 6==a||0==a?0:n>430&&n<730?1:2},this.AddNewFutures=function(t){if(t){for(var e={Symbol:t.Symbol,Time:t.Time,Decimal:t.Decimal,Name:t.Name},i=0;i<this.FUTURES_LIST.length;++i){if(this.FUTURES_LIST[i].Symbol==e.Symbol)return void(this.FUTURES_LIST[i]=e)}this.FUTURES_LIST.push(e)}}}var bi=new function(){this.SHSZ=null,this.BJ=null,this.SHO=null,this.HK=null,this.Futures=new p.default,this.USA=null,this.FTSE=null,this.FHK=null,this.ForeEx=null,this.BIT=null,this.TW=null,this.JP=null,this.HSX=null,this.HNX=null,this.UPCOM=null,this.Initialize=function(){},this.GetET=function(t){throw{Name:"MinuteTimeStringData::GetET",Error:"not implement"}},this.GetSHSZ=function(t){return this.SHSZ||(this.SHSZ=this.CreateSHSZData()),this.SHSZ},this.GetBJ=function(t){return this.BJ||(this.BJ=this.CreateBJData()),this.BJ},this.GetSHO=function(){return this.SHO||(this.SHO=this.CreateSHOData()),this.SHO},this.GetHK=function(t){return this.HK||(this.HK=this.CreateHKData()),this.HK},this.GetTW=function(t){return this.TW&&(this.TW=this.CreateTWData()),this.TW},this.GetJP=function(t){return this.JP&&(this.JP=this.CreateJPData()),this.JP},this.GetHSX=function(t){return this.HSX&&(this.HSX=this.CreateHSXData()),this.HSX},this.GetHNX=function(t){return this.HNX&&(this.HSX=this.CreateHNXData()),this.HNX},this.GetUPCOM=function(t){return this.UPCOM&&(this.UPCOM=this.CreateUPCOMData()),this.UPCOM},this.GetFutures=function(t){if(!this.Futures.has(t.Name)){var e=this.CreateTimeData(t.Data);this.Futures.set(t.Name,e)}return this.Futures.get(t.Name)},this.GetUSA=function(){return this.USA||(this.USA=this.CreateUSAData(0)),this.USA},this.GetFTSE=function(){return this.FTSE||(this.FTSE=this.CreateFTSEData()),this.FTSE},this.GetFHK=function(){return this.FHK||(this.FHK=this.CreateFHKData()),this.FHK},this.GetForeignExchange=function(t){return this.ForeEx||(this.ForeEx=this.CreateForeignExchangeData()),this.ForeEx},this.GetBIT=function(t){return this.BIT||(this.BIT=this.CreateBITData()),this.BIT},this.CreateSHSZData=function(){return this.CreateTimeData([{Start:925,End:925},{Start:930,End:1130},{Start:1300,End:1500}])},this.CreateBJData=function(){return this.CreateTimeData([{Start:925,End:925},{Start:930,End:1130},{Start:1300,End:1500}])},this.CreateSHOData=function(){return this.CreateTimeData([{Start:930,End:1129},{Start:1300,End:1500}])},this.CreateHKData=function(){return this.CreateTimeData([{Start:930,End:1200},{Start:1300,End:1600}])},this.CreateTWData=function(){return this.CreateTimeData([{Start:900,End:1330}])},this.CreateJPData=function(){return this.CreateTimeData([{Start:900,End:1130},{Start:1230,End:1500}])},this.CreateFTSEData=function(){return this.CreateTimeData([{Start:1700,End:2359},{Start:0,End:445},{Start:900,End:1630}])},this.CreateFHKData=function(){return this.CreateTimeData([{Start:1715,End:2359},{Start:0,End:300},{Start:915,End:1200},{Start:1300,End:1630}])},this.CreateHSXData=function(){throw{Name:"MinuteTimeStringData::CreateHSXData",Error:"not implement"}},this.CreateHNXData=function(){throw{Name:"MinuteTimeStringData::CreateHNXData",Error:"not implement"}},this.CreateUPCOMData=function(){throw{Name:"MinuteTimeStringData::CreateUPCOMData",Error:"not implement"}},this.CreateUSAData=function(t){return 1==t?this.CreateTimeData([{Start:2130,End:2359},{Start:0,End:400}]):2==t?this.CreateTimeData([{Start:2230,End:2359},{Start:0,End:500}]):this.CreateTimeData([{Start:930,End:1600}])},this.CreateForeignExchangeData=function(){return this.CreateTimeData([{Start:600,End:2359},{Start:0,End:559}])},this.CreateBITData=function(){return this.CreateTimeData([{Start:600,End:2359},{Start:0,End:559}])},this.CreateTimeData=function(t){var e=[];for(var i in t)for(var a=t[i],n=a.Start;n<=a.End;++n)n%100>=60||e.push(n);return e},this.GetTimeData=function(t){if(!t)return this.SHSZ;var e,i=t.toLocaleUpperCase();return Ii.IsSH(i)||Ii.IsSZ(i)?this.GetSHSZ(i):Ii.IsBJ(i)?this.GetBJ(i):Ii.IsSHO(i)||Ii.IsSZO(i)?this.GetSHO():Ii.IsHK(i)?this.GetHK(i):Ii.IsTW(i)?this.GetTW(i):Ii.IsJP(i)?this.GetJP(i):Ii.IsUSA(i)?this.GetUSA(!0):Ii.IsCFFEX(i)||Ii.IsCZCE(i)||Ii.IsDCE(i)||Ii.IsSHFE(i)?(e=Mi.GetSplitData(i))?this.GetFutures(e):null:Ii.IsFTSE(i)?this.GetFTSE():Ii.IsFHK(i)?this.GetFHK():Ii.IsForeignExchange(i)?this.GetForeignExchange(i):Ii.IsET(i)?this.GetET(i):Ii.IsBIT(i)?this.GetBIT(i):Ii.IsHSX(i)?this.GetHSX(i):Ii.IsHNX(i)?this.GetHNX(i):Ii.IsUPCOM(i)?this.GetUPCOM(i):Ii.IsNYMEX(i)?(e=Ei.GetSplitData(i))?this.GetFutures(e):null:Ii.IsCOMEX(i)?(e=Ai.GetSplitData(i))?this.GetFutures(e):null:Ii.IsNYBOT(i)?(e=_i.GetSplitData(i))?this.GetFutures(e):null:Ii.IsCBOT(i)?(e=Li.GetSplitData(i))?this.GetFutures(e):null:Ii.IsLME(i)?(e=Fi.GetSplitData(i))?this.GetFutures(e):null:Ii.IsTOCOM(i)?(e=Oi.GetSplitData(i))?this.GetFutures(e):null:Ii.IsIPE(i)?(e=Pi.GetSplitData(i))?this.GetFutures(e):null:void 0}},wi=new function(){var t={Full:[[0,0,"rgb(200,200,200)","09:30"],[31,0,"RGB(200,200,200)","10:00"],[61,0,"RGB(200,200,200)","10:30"],[91,0,"RGB(200,200,200)","11:00"],[122,1,"RGB(200,200,200)","13:00"],[152,0,"RGB(200,200,200)","13:30"],[182,0,"RGB(200,200,200)","14:00"],[212,0,"RGB(200,200,200)","14:30"],[242,1,"RGB(200,200,200)","15:00"]],Simple:[[0,0,"rgb(200,200,200)","09:30"],[61,0,"RGB(200,200,200)","10:30"],[122,1,"RGB(200,200,200)","13:00"],[182,0,"RGB(200,200,200)","14:00"],[242,1,"RGB(200,200,200)","15:00"]],Min:[[0,0,"rgb(200,200,200)","09:30"],[122,1,"RGB(200,200,200)","13:00"],[242,1,"RGB(200,200,200)","15:00"]],Count:243,MiddleCount:122,GetData:function(t){return t<200?this.Min:t<400?this.Simple:this.Full}},e={Full:[[0,0,"rgb(200,200,200)","09:30"],[30,0,"RGB(200,200,200)","10:00"],[60,0,"RGB(200,200,200)","10:30"],[90,0,"RGB(200,200,200)","11:00"],[120,1,"RGB(200,200,200)","13:00"],[150,0,"RGB(200,200,200)","13:30"],[180,0,"RGB(200,200,200)","14:00"],[210,0,"RGB(200,200,200)","14:30"],[240,1,"RGB(200,200,200)","15:00"]],Simple:[[0,0,"rgb(200,200,200)","09:30"],[60,0,"RGB(200,200,200)","10:30"],[120,1,"RGB(200,200,200)","13:00"],[180,0,"RGB(200,200,200)","14:00"],[240,1,"RGB(200,200,200)","15:00"]],Min:[[0,0,"rgb(200,200,200)","09:30"],[120,1,"RGB(200,200,200)","13:00"],[240,1,"RGB(200,200,200)","15:00"]],Count:241,MiddleCount:120,GetData:function(t){return t<200?this.Min:t<400?this.Simple:this.Full}},i={Full:[[0,1,"RGB(200,200,200)","09:30"],[30,0,"RGB(200,200,200)","10:00"],[60,1,"RGB(200,200,200)","10:30"],[90,0,"RGB(200,200,200)","11:00"],[120,1,"RGB(200,200,200)","11:30"],[151,0,"RGB(200,200,200)","13:00"],[181,1,"RGB(200,200,200)","13:30"],[211,0,"RGB(200,200,200)","14:00"],[241,1,"RGB(200,200,200)","14:30"],[271,0,"RGB(200,200,200)","15:00"],[301,1,"RGB(200,200,200)","15:30"],[331,1,"RGB(200,200,200)","16:00"]],Simple:[[0,1,"RGB(200,200,200)","09:30"],[60,1,"RGB(200,200,200)","10:30"],[120,1,"RGB(200,200,200)","11:30"],[211,0,"RGB(200,200,200)","14:00"],[271,0,"RGB(200,200,200)","15:00"],[331,1,"RGB(200,200,200)","16:00"]],Min:[[0,1,"RGB(200,200,200)","09:30"],[151,0,"RGB(200,200,200)","13:00"],[331,1,"RGB(200,200,200)","16:00"]],Count:332,MiddleCount:151,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}},a={Full:[[0,0,"rgb(200,200,200)","9:30"],[30,0,"RGB(200,200,200)","10:00"],[90,1,"RGB(200,200,200)","11:00"],[150,0,"RGB(200,200,200)","12:00"],[210,0,"RGB(200,200,200)","13:00"],[270,0,"RGB(200,200,200)","14:00"],[330,0,"RGB(200,200,200)","15:00"],[390,0,"RGB(200,200,200)","16:00"]],Simple:[[30,0,"rgb(200,200,200)","10:00"],[150,1,"RGB(200,200,200)","12:00"],[270,0,"RGB(200,200,200)","14:00"],[390,0,"RGB(200,200,200)","16:00"]],Min:[[30,0,"rgb(200,200,200)","10:00"],[210,1,"RGB(200,200,200)","13:00"],[390,0,"RGB(200,200,200)","16:00"]],Count:391,MiddleCount:211,GetData:function(t){return t<200?this.Min:t<400?this.Simple:this.Full}},n={Full:[[0,1,"RGB(200,200,200)","17:00"],[120,1,"RGB(200,200,200)","19:00"],[240,1,"RGB(200,200,200)","21:00"],[360,1,"RGB(200,200,200)","23:00"],[480,1,"RGB(200,200,200)","01:00"],[600,1,"RGB(200,200,200)","03:00"],[706,1,"RGB(200,200,200)","09:00"],[826,1,"RGB(200,200,200)","11:00"],[946,1,"RGB(200,200,200)","13:00"],[1066,1,"RGB(200,200,200)","15:00"],[1156,1,"RGB(200,200,200)","16:30"]],Simple:[[0,1,"RGB(200,200,200)","17:00"],[240,1,"RGB(200,200,200)","21:00"],[480,1,"RGB(200,200,200)","01:00"],[706,1,"RGB(200,200,200)","09:00"],[946,1,"RGB(200,200,200)","13:00"],[1156,1,"RGB(200,200,200)","16:30"]],Min:[[0,1,"RGB(200,200,200)","17:00"],[706,1,"RGB(200,200,200)","09:00"],[1156,1,"RGB(200,200,200)","16:30"]],Count:1157,MiddleCount:707,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}},r={Full:[[0,1,"RGB(200,200,200)","17:15"],[105,1,"RGB(200,200,200)","19:00"],[225,1,"RGB(200,200,200)","21:00"],[345,1,"RGB(200,200,200)","23:00"],[586,0,"RGB(200,200,200)","09:15"],[691,1,"RGB(200,200,200)","11:00"],[812,1,"RGB(200,200,200)","14:00"],[963,1,"RGB(200,200,200)","16:30"]],Simple:[[0,1,"RGB(200,200,200)","17:15"],[225,1,"RGB(200,200,200)","21:00"],[586,0,"RGB(200,200,200)","09:15"],[752,1,"RGB(200,200,200)","13:00"],[963,1,"RGB(200,200,200)","16:30"]],Min:[[0,1,"RGB(200,200,200)","17:15"],[586,0,"RGB(200,200,200)","09:15"],[963,1,"RGB(200,200,200)","16:30"]],Count:963,MiddleCount:526,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}},o={Full:[[0,1,"RGB(200,200,200)","06:00"],[120,1,"RGB(200,200,200)","08:00"],[240,1,"RGB(200,200,200)","10:00"],[360,1,"RGB(200,200,200)","12:00"],[480,0,"RGB(200,200,200)","14:00"],[600,1,"RGB(200,200,200)","16:00"],[720,1,"RGB(200,200,200)","18:00"],[840,1,"RGB(200,200,200)","20:00"],[960,1,"RGB(200,200,200)","22:00"],[1080,1,"RGB(200,200,200)","0:00"],[1200,1,"RGB(200,200,200)","02:00"],[1320,1,"RGB(200,200,200)","04:00"]],Simple:[[0,1,"RGB(200,200,200)","06:00"],[240,1,"RGB(200,200,200)","10:00"],[480,0,"RGB(200,200,200)","14:00"],[720,1,"RGB(200,200,200)","18:00"],[960,1,"RGB(200,200,200)","22:00"],[1200,1,"RGB(200,200,200)","02:00"]],Min:[[0,1,"RGB(200,200,200)","06:00"],[480,0,"RGB(200,200,200)","14:00"],[960,1,"RGB(200,200,200)","22:00"]],Count:1440,MiddleCount:600,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}},s={Full:[[0,1,"RGB(200,200,200)","09:00"],[30,0,"RGB(200,200,200)","09:30"],[60,1,"RGB(200,200,200)","10:00"],[90,0,"RGB(200,200,200)","10:30"],[120,1,"RGB(200,200,200)","11:00"],[150,0,"RGB(200,200,200)","11:30"],[180,1,"RGB(200,200,200)","12:00"],[210,0,"RGB(200,200,200)","12:30"],[240,1,"RGB(200,200,200)","13:00"],[270,0,"RGB(200,200,200)","13:30"]],Simple:[[0,1,"RGB(200,200,200)","09:00"],[60,1,"RGB(200,200,200)","10:00"],[120,1,"RGB(200,200,200)","11:00"],[180,1,"RGB(200,200,200)","12:00"],[270,0,"RGB(200,200,200)","13:30"]],Min:[[0,1,"RGB(200,200,200)","09:00"],[60,1,"RGB(200,200,200)","11:00"],[270,0,"RGB(200,200,200)","13:30"]],Count:271,MiddleCount:151,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}};this.GetCoordinateData=function(e,i){var a=null;if(e){var n=e.toLocaleUpperCase();if(Ii.IsSH(n)||Ii.IsSZ(n)||Ii.IsSHSZIndex(n))a=this.GetSHSZData(n,i);else if(Ii.IsBJ(n))a=this.GetBJData(n,i);else if(Ii.IsSHO(n)||Ii.IsSZO(n))a=this.GetSHOData(n,i);else if(Ii.IsHK(n))a=this.GetHKData(n,i);else if(Ii.IsTW(n))a=this.GetTWData(n,i);else if(Ii.IsJP(n))a=this.GetJPData(n,i);else{if(Ii.IsCFFEX(n)||Ii.IsCZCE(n)||Ii.IsDCE(n)||Ii.IsSHFE(n))return this.GetChinatFuturesData(n,i);if(Ii.IsUSA(n))a=this.GetUSAData(n,i);else if(Ii.IsFTSE(n))a=this.GetFTSEData(n,i);else if(Ii.IsFHK(n))a=this.GetFHKData(n,i);else if(Ii.IsForeignExchange(n))a=this.GetForeignExchangeData(n);else if(Ii.IsBIT(n,i))a=this.GetBITData(n,i);else if(Ii.IsET(n))a=this.GetETData(n,i);else{if(Ii.IsNYMEX(n))return this.GetNYMEXData(n,i);if(Ii.IsCOMEX(n))return this.GetCOMEXData(n,i);if(Ii.IsNYBOT(n))return this.GetNYBOTData(n,i);if(Ii.IsCBOT(n))return this.GetCBOTData(n,i);if(Ii.IsLME(n))return this.GetLMEData(n,i);if(Ii.IsTOCOM(n))return this.GetTOCOMData(n,i);if(Ii.IsIPE(n))return this.GetIPEData(n,i);if(Ii.IsHSX(n))return this.GetHSXData(n,i);if(Ii.IsHNX(n))return this.GetHNXData(n,i);if(Ii.IsUPCOM(n))return this.GetUPCOMData(n,i)}}}else a=t;return{Count:a.Count,MiddleCount:a.MiddleCount,Data:a.GetData(i)}},this.GetSHSZData=function(e,i){return t},this.GetBJData=function(e,i){return t},this.GetUSAData=function(t,e){return a},this.GetHKData=function(t,e){return i},this.GetTWData=function(t,e){return s},this.GetSHOData=function(t,i){return e},this.GetFuturesData=function(t,e,i){var a=i.GetSplitData(t);if(!a)return null;var n=bi.GetFutures(a);if(!n)return null;var r={Count:n.length},o=null;o=e<200?a.Coordinate.Min:e<480?a.Coordinate.Simple:a.Coordinate.Full;for(var s=[],l=0;l<n.length;++l)for(var h=n[l],u=0;u<o.length;++u){var c=o[u];if(h==c.Value){var d=[l,0,"RGB(200,200,200)",c.Text];s.push(d);break}}return r.Data=s,r},this.GetChinatFuturesData=function(t,e){return this.GetFuturesData(t,e,Mi)},this.GetNYMEXData=function(t,e){return this.GetFuturesData(t,e,Ei)},this.GetCOMEXData=function(t,e){return this.GetFuturesData(t,e,Ai)},this.GetNYBOTData=function(t,e){return this.GetFuturesData(t,e,_i)},this.GetCBOTData=function(t,e){return this.GetFuturesData(t,e,Li)},this.GetLMEData=function(t,e){return this.GetFuturesData(t,e,Fi)},this.GetTOCOMData=function(t,e){return this.GetFuturesData(t,e,Oi)},this.GetIPEData=function(t,e){return this.GetFuturesData(t,e,Pi)},this.GetFTSEData=function(t,e){return n},this.GetFHKData=function(t,e){return r},this.GetForeignExchangeData=function(t,e){return o},this.GetBITData=function(t,e){return o},this.GetETData=function(t,e){throw{Name:"MinuteCoordinateData::GetETData",Error:"not implement"}},this.GetJPData=function(t,e){throw{Name:"MinuteCoordinateData::GetJPData",Error:"not implement"}},this.GetHSXData=function(t,e){throw{Name:"MinuteCoordinateData::GetHSXData",Error:"not implement"}},this.GetHNXData=function(t,e){throw{Name:"MinuteCoordinateData::GetHNXData",Error:"not implement"}},this.GetUPCOMData=function(t,e){throw{Name:"MinuteCoordinateData::GetUPCOMData",Error:"not implement"}}},Mi=new function(){this.TIME_SPLIT=[{Name:"9:00-10:15,10:31-11:30,13:31-15:00",Data:[{Start:900,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1e3,Text:"10:00"},{Value:1330,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Min:[{Value:900,Text:"9:00"},{Value:1330,Text:"13:30"},{Value:1500,Text:"15:00"}]}},{Name:"9:30-11:30,13:01-15:15",Data:[{Start:930,End:1130},{Start:1301,End:1515}],Coordinate:{Full:[{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1515,Text:"15:15"}],Simple:[{Value:930,Text:"9:30"},{Value:1030,Text:"10:30"},{Value:1300,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1515,Text:"15:15"}],Min:[{Value:930,Text:"9:30"},{Value:1300,Text:"13:00"},{Value:1515,Text:"15:15"}]}},{Name:"9:30-11:30,13:00-15:00",Data:[{Start:930,End:1130},{Start:1301,End:1500}],Coordinate:{Full:[{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:930,Text:"9:30"},{Value:1030,Text:"10:30"},{Value:1300,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1500,Text:"15:00"}],Min:[{Value:930,Text:"9:30"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-23:30,9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:2100,End:2330},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-1:00,9:01-10:15,10:31-11:30,13:31-15:00",Data:[{Start:2100,End:2359},{Start:0,End:100},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-2:30,9:01-10:15,10:31-11:30,13:31-15:00",Data:[{Start:2100,End:2359},{Start:0,End:230},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-23:00,9:01-10:15,10:30-11:30,13:31-15:00",Data:[{Start:2100,End:2300},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:1030,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1500,Text:"15:00"}]}},{Name:"9:00-11:30,13:00-15:00",Data:[{Start:900,End:1130},{Start:1300,End:1500}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1e3,Text:"10:00"},{Value:1300,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1500,Text:"15:00"}],Min:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-23:00,9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:2100,End:2300},{Start:900,End:1015},{Start:1030,End:1130},{Start:1330,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:1030,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1500,Text:"15:00"}]}},{Name:"9:01-10:15,10:31-11:30,13:31-15:00",Data:[{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:901,Text:"9:00"},{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:901,Text:"9:00"},{Value:1e3,Text:"10:00"},{Value:1330,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Min:[{Value:901,Text:"9:00"},{Value:1330,Text:"13:30"},{Value:1500,Text:"15:00"}]}},{Name:"21:01-1:00,9:01-10:15,10:31-11:30,13:31-15:00",Data:[{Start:2101,End:2359},{Start:0,End:100},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2101,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2101,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2101,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:01-23:00,9:01-10:15,10:30-11:30,13:31-15:00",Data:[{Start:2101,End:2300},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2101,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:1030,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2101,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2101,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:01-2:30,9:01-10:15,10:31-11:30,13:31-15:00",Data:[{Start:2101,End:2359},{Start:0,End:230},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2101,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2101,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"}],Min:[{Value:2101,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"9:30-11:30,13:01-15:15",Data:[{Start:931,End:1130},{Start:1301,End:1515}],Coordinate:{Full:[{Value:931,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1301,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1515,Text:"15:15"}],Simple:[{Value:931,Text:"9:30"},{Value:1030,Text:"10:30"},{Value:1301,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1515,Text:"15:15"}],Min:[{Value:931,Text:"9:30"},{Value:1301,Text:"13:00"},{Value:1515,Text:"15:15"}]}},{Name:"9:31-11:30,13:01-15:00",Data:[{Start:931,End:1130},{Start:1301,End:1500}],Coordinate:{Full:[{Value:931,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1301,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:931,Text:"9:30"},{Value:1030,Text:"10:30"},{Value:1301,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1500,Text:"15:00"}],Min:[{Value:931,Text:"9:30"},{Value:1301,Text:"13:00"},{Value:1500,Text:"15:00"}]}}],this.MAP_TWOWORDS=new p.default([[Ii.DCE+"-JD",{Time:0,Decimal:0,Name:"鸡蛋"}],[Ii.DCE+"-FB",{Time:0,Decimal:2,Name:"纤板"}],[Ii.DCE+"-BB",{Time:0,Decimal:2,Name:"胶板"}],[Ii.DCE+"-PP",{Time:6,Decimal:0,Name:"丙烯"}],[Ii.DCE+"-JM",{Time:6,Decimal:1,Name:"焦煤"}],[Ii.DCE+"-EG",{Time:6,Decimal:0,Name:"乙二醇"}],[Ii.DCE+"-EB",{Time:6,Decimal:0,Name:"苯乙烯"}],[Ii.DCE+"-CS",{Time:6,Decimal:0,Name:"淀粉"}],[Ii.DCE+"-PG",{Time:6,Decimal:0,Name:"液化气"}],[Ii.DCE+"-RR",{Time:6,Decimal:0,Name:"梗米"}],[Ii.DCE+"-LH",{Time:0,Decimal:0,Name:"生猪"}],[Ii.SHFE+"-CU",{Time:4,Decimal:0,Name:"铜"}],[Ii.SHFE+"-AL",{Time:4,Decimal:0,Name:"铝"}],[Ii.SHFE+"-NI",{Time:4,Decimal:0,Name:"镍"}],[Ii.SHFE+"-SN",{Time:4,Decimal:0,Name:"沪锡"}],[Ii.SHFE+"-ZN",{Time:4,Decimal:0,Name:"沪锌"}],[Ii.SHFE+"-PB",{Time:4,Decimal:0,Name:"沪铅"}],[Ii.SHFE+"-RU",{Time:6,Decimal:0,Name:"天然橡胶"}],[Ii.SHFE+"-FU",{Time:6,Decimal:0,Name:"燃料油"}],[Ii.SHFE+"-RB",{Time:6,Decimal:0,Name:"螺纹钢"}],[Ii.SHFE+"-BU",{Time:6,Decimal:0,Name:"石油沥青"}],[Ii.SHFE+"-HC",{Time:6,Decimal:0,Name:"热轧卷板"}],[Ii.SHFE+"-SP",{Time:6,Decimal:0,Name:"纸浆"}],[Ii.SHFE+"-WR",{Time:0,Decimal:0,Name:"线材"}],[Ii.SHFE+"-AG",{Time:5,Decimal:0,Name:"白银"}],[Ii.SHFE+"-AU",{Time:5,Decimal:2,Name:"黄金"}],[Ii.SHFE+"-SS",{Time:4,Decimal:0,Name:"不锈钢"}],[Ii.SHFE+"-NR",{Time:6,Decimal:1,Name:"20号胶"}],[Ii.SHFE+"-SC",{Time:5,Decimal:1,Name:"原油"}],[Ii.SHFE+"-LU",{Time:6,Decimal:0,Name:"低硫燃油"}],[Ii.SHFE+"-BC",{Time:4,Decimal:0,Name:"国际铜"}],[Ii.CZCE+"-CF",{Time:6,Decimal:0,Name:"棉花"}],[Ii.CZCE+"-SR",{Time:6,Decimal:0,Name:"白糖"}],[Ii.CZCE+"-MA",{Time:6,Decimal:0,Name:"甲醇"}],[Ii.CZCE+"-ZC",{Time:6,Decimal:1,Name:"动力煤"}],[Ii.CZCE+"-TA",{Time:6,Decimal:0,Name:"精对苯二甲酸(PTA)"}],[Ii.CZCE+"-RM",{Time:6,Decimal:0,Name:"菜籽粕"}],[Ii.CZCE+"-OI",{Time:6,Decimal:0,Name:"菜籽油"}],[Ii.CZCE+"-ME",{Time:3,Decimal:0,Name:"甲醇(老)"}],[Ii.CZCE+"-FG",{Time:6,Decimal:0,Name:"平板玻璃"}],[Ii.CZCE+"-WS",{Time:0,Decimal:0}],[Ii.CZCE+"-WT",{Time:0,Decimal:0}],[Ii.CZCE+"-GN",{Time:0,Decimal:0}],[Ii.CZCE+"-RO",{Time:0,Decimal:0}],[Ii.CZCE+"-RS",{Time:0,Decimal:0,Name:"菜籽"}],[Ii.CZCE+"-ER",{Time:0,Decimal:0}],[Ii.CZCE+"-RI",{Time:0,Decimal:0,Name:"早籼稻"}],[Ii.CZCE+"-WH",{Time:0,Decimal:0,Name:"强麦"}],[Ii.CZCE+"-AP",{Time:0,Decimal:0,Name:"苹果"}],[Ii.CZCE+"-PM",{Time:0,Decimal:0,Name:"普麦"}],[Ii.CZCE+"-QM",{Time:0,Decimal:0}],[Ii.CZCE+"-TC",{Time:0,Decimal:0}],[Ii.CZCE+"-JR",{Time:0,Decimal:0,Name:"粳稻"}],[Ii.CZCE+"-LR",{Time:0,Decimal:0,Name:"晚籼稻"}],[Ii.CZCE+"-SF",{Time:0,Decimal:0,Name:"硅铁"}],[Ii.CZCE+"-SM",{Time:0,Decimal:0,Name:"锰硅"}],[Ii.CZCE+"-CJ",{Time:0,Decimal:2,Name:"红枣"}],[Ii.CZCE+"-CY",{Time:6,Decimal:0,Name:"棉纱"}],[Ii.CZCE+"-UR",{Time:0,Decimal:0,Name:"尿素"}],[Ii.CZCE+"-SA",{Time:6,Decimal:0,Name:"纯碱"}],[Ii.CZCE+"-PF",{Time:6,Decimal:0,Name:"短纤"}],[Ii.CZCE+"-PK",{Time:0,Decimal:0,Name:"花生"}],[Ii.CFFEX+"-TF",{Time:1,Decimal:3,Name:"二债"}],[Ii.CFFEX+"-TS",{Time:1,Decimal:3,Name:"五债"}],[Ii.CFFEX+"-IH",{Time:2,Decimal:1,Name:"上证股指期货"}],[Ii.CFFEX+"-IC",{Time:2,Decimal:1,Name:"中证股指期货"}],[Ii.CFFEX+"-IF",{Time:2,Decimal:1,Name:"沪深股指期货"}]]),this.MAP_ONEWORD=new p.default([[Ii.DCE+"-C",{Time:6,Decimal:0,Name:"玉米"}],[Ii.DCE+"-L",{Time:6,Decimal:0,Name:"乙烯"}],[Ii.DCE+"-V",{Time:6,Decimal:0,Name:"PVC"}],[Ii.DCE+"-A",{Time:6,Decimal:0,Name:"豆一"}],[Ii.DCE+"-B",{Time:6,Decimal:0,Name:"豆二"}],[Ii.DCE+"-M",{Time:6,Decimal:0,Name:"豆粕"}],[Ii.DCE+"-Y",{Time:6,Decimal:0,Name:"豆油"}],[Ii.DCE+"-P",{Time:6,Decimal:0,Name:"棕榈"}],[Ii.DCE+"-J",{Time:6,Decimal:1,Name:"焦炭"}],[Ii.DCE+"-I",{Time:6,Decimal:1,Name:"铁矿"}],[Ii.CFFEX+"-T",{Time:1,Decimal:3,Name:"十债"}]]),this.AddNewFutures=function(t){if(t){var e=t.Suffix+"-"+t.Symbol,i={Time:t.Time,Decimal:t.Decimal,Name:t.Name};1==t.Symbol.length?this.MAP_ONEWORD.set(e,i):2==t.Symbol.length&&this.MAP_TWOWORDS.set(e,i)}},this.GetData=function(t){var e=t.charAt(0),i=t.substr(0,2),a=null,n=null;return Ii.IsDCE(t)?(a=Ii.DCE+"-"+e,n=Ii.DCE+"-"+i):Ii.IsSHFE(t)?(a=Ii.SHFE+"-"+e,n=Ii.SHFE+"-"+i):Ii.IsCFFEX(t)?(a=Ii.CFFEX+"-"+e,n=Ii.CFFEX+"-"+i):Ii.IsCZCE(t)&&(a=Ii.CZCE+"-"+e,n=Ii.CZCE+"-"+i),this.MAP_TWOWORDS.has(n)?this.MAP_TWOWORDS.get(n):this.MAP_ONEWORD.has(a)?this.MAP_ONEWORD.get(a):null},this.GetSplitData=function(t){var e=this.GetData(t);return e?this.TIME_SPLIT[e.Time]:null},this.GetDecimal=function(t){var e=this.GetData(t);return e?e.Decimal:2}},Ei=new Ti,Ai=new function(){this.newMethod=Ti,this.newMethod(),delete this.newMethod,this.FUTURES_LIST=[{Symbol:"GC",Decimal:1,Time:0,Name:"COMEX黄金"},{Symbol:"QO",Decimal:2,Time:0,Name:"迷你黄金"},{Symbol:"MG",Decimal:1,Time:0,Name:"微型黄金"},{Symbol:"QI",Decimal:4,Time:0,Name:"迷你白银"},{Symbol:"SI",Decimal:3,Time:0,Name:"COMEX白银"},{Symbol:"HG",Decimal:4,Time:0,Name:"COMEX铜"}],this.MarketSuffix=".COMEX"},_i=new function(){this.newMethod=Ti,this.newMethod(),delete this.newMethod,this.TIME_SPLIT=[{Name:"9:00-2:20",Data:[{Start:900,End:2359},{Start:0,End:220}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:100,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1700,Text:"17:00"},{Value:100,Text:"1:00"}]}},{Name:"15:30-1:00",Data:[{Start:1530,End:2359},{Start:0,End:100}],Coordinate:{Full:[{Value:1600,Text:"16:00"},{Value:1700,Text:"17:00"},{Value:1800,Text:"18:00"},{Value:1900,Text:"19:00"},{Value:2e3,Text:"20:00"},{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:0,Text:"0:00"},{Value:100,Text:"1:00"}],Simple:[{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"}],Min:[{Value:1600,Text:"16:00"},{Value:2100,Text:"21:00"},{Value:100,Text:"1:00"}]}}],this.TIME_SPLIT2=[{Name:"10:00-3:20",Data:[{Start:1e3,End:2359},{Start:0,End:320}],Coordinate:{Full:[{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:1e3,Text:"10:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"16:30-2:00",Data:[{Start:1630,End:2359},{Start:0,End:200}],Coordinate:{Full:[{Value:1700,Text:"17:00"},{Value:1800,Text:"18:00"},{Value:1900,Text:"19:00"},{Value:2e3,Text:"20:00"},{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:0,Text:"0:00"},{Value:100,Text:"1:00"},{Value:200,Text:"2:00"}],Simple:[{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"}],Min:[{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:200,Text:"2:00"}]}}],this.FUTURES_LIST=[{Symbol:"SB",Decimal:2,Time:1},{Symbol:"CT",Decimal:2,Time:0}],this.MarketSuffix=".NYBOT",this.GetMarketStatus=function(t){var e=Ri(-4),i=e.getDay(),a=100*e.getHours()+e.getMinutes();if(6==i||0==i)return 0;var n=this.GetFuturesInfo(t);if(!n)return 2;if("SB"==n.Symbol){if(a>300&&a<1400)return 2}else if("CT"==n.Symbol)return a>=0&&a<=1500||a>=2e3&&a<=2359?2:1;return 0}},Li=new function(){this.newMethod=Ti,this.newMethod(),delete this.newMethod,this.TIME_SPLIT=[{Name:"8:00-2:20",Data:[{Start:800,End:2359},{Start:0,End:220}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"8:00-2:45",Data:[{Start:800,End:2359},{Start:0,End:245}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"6:00-5:00",Data:[{Start:600,End:2359},{Start:0,End:500}],Coordinate:{Full:[{Value:600,Text:"6:00"},{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"},{Value:400,Text:"4:00"}],Simple:[{Value:600,Text:"6:00"},{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:600,Text:"6:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}},{Name:"08:00-20:45 21:31-02:20",Data:[{Start:800,End:2045},{Start:2131,End:2359},{Start:0,End:220}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"8:00-2:45",Data:[{Start:800,End:2045},{Start:2131,End:2359},{Start:0,End:245}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"06:00-04:15 04:31-05:00",Data:[{Start:600,End:2359},{Start:0,End:415},{Start:431,End:500}],Coordinate:{Full:[{Value:600,Text:"6:00"},{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"},{Value:400,Text:"4:00"}],Simple:[{Value:600,Text:"6:00"},{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:600,Text:"6:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}}],this.TIME_SPLIT2=[{Name:"9:00-3:20",Data:[{Start:900,End:2359},{Start:0,End:320}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1900,Text:"19:00"},{Value:300,Text:"3:00"}]}},{Name:"9:00-3:45",Data:[{Start:900,End:2359},{Start:0,End:345}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1900,Text:"19:00"},{Value:300,Text:"3:00"}]}},{Name:"7:00-6:00",Data:[{Start:700,End:2359},{Start:0,End:600}],Coordinate:{Full:[{Value:700,Text:"7:00"},{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"},{Value:500,Text:"5:00"}],Simple:[{Value:700,Text:"7:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"},{Value:1900,Text:"19:00"},{Value:2300,Text:"23:00"},{Value:300,Text:"3:00"}],Min:[{Value:700,Text:"7:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}},{Name:"09:00-21:45 22:31-03:20",Data:[{Start:900,End:2145},{Start:2231,End:2359},{Start:0,End:320}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1900,Text:"19:00"},{Value:300,Text:"3:00"}]}},{Name:"09:00-21:45 22:31-03:45",Data:[{Start:900,End:2145},{Start:2231,End:2359},{Start:0,End:345}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1900,Text:"19:00"},{Value:300,Text:"3:00"}]}},{Name:"07:00-05:15 05:31-06:00",Data:[{Start:700,End:2359},{Start:0,End:515},{Start:531,End:600}],Coordinate:{Full:[{Value:700,Text:"7:00"},{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"},{Value:500,Text:"5:00"}],Simple:[{Value:700,Text:"7:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"},{Value:1900,Text:"19:00"},{Value:2300,Text:"23:00"},{Value:300,Text:"3:00"}],Min:[{Value:700,Text:"7:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}}],this.FUTURES_LIST=[{Symbol:"ZC",Decimal:2,Time:0,Name:"玉米"},{Symbol:"XC",Decimal:2,Time:1,Name:"迷你玉米"},{Symbol:"ZS",Decimal:2,Time:0,Name:"大豆"},{Symbol:"XK",Decimal:2,Time:1,Name:"迷你大豆"},{Symbol:"ZL",Decimal:2,Time:0,Name:"豆油"},{Symbol:"ZR",Decimal:2,Time:0,Name:"稻谷"},{Symbol:"ZO",Decimal:2,Time:0,Name:"燕麦"},{Symbol:"ZW",Decimal:2,Time:0,Name:"小麦"},{Symbol:"XW",Decimal:2,Time:1,Name:"迷你小麦"},{Symbol:"ZM",Decimal:1,Time:0,Name:"豆粕"},{Symbol:"EH",Decimal:3,Time:2},{Symbol:"YM",Decimal:0,Time:2,Name:"小型道指"},{Symbol:"ES",Decimal:2,Time:2,Name:"小型标普"},{Symbol:"NQ",Decimal:2,Time:2,Name:"小型纳指"},{Symbol:"TY",Decimal:4,Time:2,Name:"10年美国债"},{Symbol:"TU",Decimal:4,Time:2,Name:"2年美国债"},{Symbol:"FV",Decimal:4,Time:2,Name:"5年美国债"},{Symbol:"US",Decimal:4,Time:2,Name:"30年美国债"},{Symbol:"UL",Decimal:4,Time:2,Name:"超国债"}],this.MarketSuffix=".CBOT"},Fi=new function(){this.newMethod=Ti,this.newMethod(),delete this.newMethod,this.TIME_SPLIT=[{Name:"LME 9:00-3:00",Data:[{Start:900,End:2359},{Start:0,End:300}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:100,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1800,Text:"18:00"},{Value:300,Text:"3:00"}]}}],this.TIME_SPLIT=[{Name:"LME 8:00-2:00",Data:[{Start:800,End:2359},{Start:0,End:200}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}}],this.FUTURES_LIST=[{Symbol:"SN",Decimal:0,Time:0,Name:"LME锡"},{Symbol:"AH",Decimal:2,Time:0,Name:"LME铝"},{Symbol:"PB",Decimal:2,Time:0,Name:"LME铅"},{Symbol:"ZS",Decimal:2,Time:0,Name:"LME锌"},{Symbol:"CA",Decimal:2,Time:0,Name:"LME铜"},{Symbol:"NI",Decimal:0,Time:0,Name:"LME镍"}],this.MarketSuffix=".LME"},Oi=new function(){this.newMethod=Ti,this.newMethod(),delete this.newMethod,this.TimeType=0,this.TIME_SPLIT=[{Name:"15:30-04:30 07:46-14:15",Data:[{Start:1530,End:2359},{Start:0,End:430},{Start:746,End:1415}],Coordinate:{Full:[{Value:1530,Text:"15:30"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:300,Text:"3:00"},{Value:430,Text:"4:30"},{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1415,Text:"14:15"}],Simple:[{Value:1530,Text:"15:30"},{Value:1900,Text:"19:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:430,Text:"4:30"},{Value:1100,Text:"11:00"},{Value:1415,Text:"14:15"}],Min:[{Value:1530,Text:"15:30"},{Value:100,Text:"1:00"},{Value:1415,Text:"14:15"}]}}],this.FUTURES_LIST=[{Symbol:"JRV",Decimal:0,Time:0,Name:"东京TSR20橡胶"},{Symbol:"JPL",Decimal:0,Time:0,Name:"东京铂金"},{Symbol:"JAU",Decimal:0,Time:0,Name:"东京黄金"},{Symbol:"JCO",Decimal:0,Time:0,Name:"中东原油"},{Symbol:"JRU",Decimal:1,Time:0,Name:"东京RSS3橡胶橡胶"},{Symbol:"JAG",Decimal:1,Time:0,Name:"日白银"},{Symbol:"JPA",Decimal:1,Time:0,Name:"日钯金"}],this.MarketSuffix=".TOCOM"},Pi=new function(){this.newMethod=Ti,this.newMethod(),delete this.newMethod,this.MarketSuffix=".IPE",this.TIME_SPLIT=[{Name:"8:00-6:00",Data:[{Start:800,End:2359},{Start:0,End:600}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"},{Value:400,Text:"4:00"},{Value:600,Text:"6:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"},{Value:400,Text:"4:00"},{Value:600,Text:"6:00"}],Min:[{Value:800,Text:"8:00"},{Value:2e3,Text:"20:00"},{Value:600,Text:"6:00"}]}}],this.TIME_SPLIT2=[{Name:"09:00-07:00",Data:[{Start:900,End:2359},{Start:0,End:700}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"},{Value:500,Text:"5:00"},{Value:700,Text:"7:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"},{Value:500,Text:"5:00"},{Value:700,Text:"7:00"}],Min:[{Value:900,Text:"9:00"},{Value:2100,Text:"21:00"},{Value:700,Text:"7:00"}]}}],this.FUTURES_LIST=[{Symbol:"RC",Decimal:2,Time:0,Name:"罗布斯塔咖啡"},{Symbol:"W",Decimal:2,Time:0,Name:"白糖"},{Symbol:"C",Decimal:2,Time:0,Name:"伦敦可可"},{Symbol:"R",Decimal:2,Time:0,Name:"长期英国国债"},{Symbol:"L",Decimal:2,Time:0,Name:"3个月英镑利率"},{Symbol:"T",Decimal:2,Time:0,Name:"WTI原油"},{Symbol:"G",Decimal:2,Time:0,Name:"低硫柴油"},{Symbol:"B",Decimal:2,Time:0,Name:"布伦特原油"}]};function Ni(t){var e=2;if(!t)return e;var i=t.toUpperCase();return"function"==typeof Ii.GetCustomDecimal?Ii.GetCustomDecimal(i):e=Ii.IsSHSZFund(i)?3:Ii.IsSHO(i)||Ii.IsSZO(i)?Ii.GetSHODecimal(i):Ii.IsChinaFutures(i)?Mi.GetDecimal(i):Ii.IsFHK(i)?Ii.GetFHKDecimal(i):Ii.IsFTSE(i)?Ii.GetFTSEDecimal(i):Ii.IsBIT(i)?Ii.GetBITDecimal(i):Ii.IsET(i)?Ii.GetETDecimal(i):Ii.IsForeignExchange(i)?Ii.GetForeignExchangeDecimal(i):Ii.IsNYMEX(i)?Ei.GetDecimal(i):Ii.IsCOMEX(i)?Ai.GetDecimal(i):Ii.IsNYBOT(i)?_i.GetDecimal(i):Ii.IsCBOT(i)?Li.GetDecimal(i):Ii.IsLME(i)?Fi.GetDecimal(i):Ii.IsTOCOM(i)?Oi.GetDecimal(i):Ii.IsIPE(i)?Pi.GetDecimal(i):Ii.IsHK(i)?Ii.GetHKDecimal(i):Ii.IsTW(i)?Ii.GetTWDecimal(i):Ii.IsJP(i)?Ii.GetJPDecimal(i):Ii.IsHSX(i)?Ii.GetHSXDecimal(i):Ii.IsHNX(i)?Ii.GetHNXDecimal(i):Ii.IsUPCOM(i)?Ii.GetUPCOMDecimal(i):Ii.GetDefaultDecimal(i)}function Ri(t){if("number"==typeof t){var e=new Date,i=e.getTime(),a=6e4*e.getTimezoneOffset();return new Date(i+a+36e5*t)}}if(!g)g={Chart:{Log:console.log,Warn:console.warn},Complier:{Log:console.log,Warn:console.warn}};var Bi={Domain:"https://opensource.zealink.com",CacheDomain:"https://opensourcecache.zealink.com",DrawIcon:{Family:"iconfont",Data:new p.default([[1,{Text:"",Color:"rgb(243,28,15)"}],[2,{Text:"",Color:"rgb(87,247,41)"}],[3,{Text:"",Color:"rgb(237,153,0)"}],[4,{Text:"",Color:"rgb(237,153,0)"}],[5,{Text:"",Color:"rgb(237,153,0)"}],[6,{Text:"",Color:"rgb(140,57,208)"}],[7,{Text:"",Color:"rgb(246,135,37)"}],[8,{Text:"",Color:"rgb(85,231,56)"}],[9,{Text:"",Color:"rgb(227,61,41)"}],[10,{Text:"",Color:"rgb(216,78,48)"}],[11,{Text:"",Color:"rgb(249,187,0)"}],[12,{Text:"",Color:"rgb(249,187,0)"}],[13,{Text:"",Color:"rgb(216,42,0)"}],[14,{Text:"",Color:"rgb(58,90,236)"}],[15,{Text:"",Color:"rgb(227,149,0)"}],[16,{Text:"",Color:"rgb(208,82,78)"}],[17,{Text:"",Color:"rgb(234,114,26)"}],[18,{Text:"",Color:"rgb(116,25,255)"}],[19,{Text:"",Color:"rgb(102,9,11)"}],[20,{Text:"",Color:"rgb(127,125,137)"}],[21,{Text:"",Color:"rgb(110,188,255)"}],[22,{Text:"",Color:"rgb(238,79,51)"}],[23,{Text:"",Color:"rgb(244,71,0)"}],[24,{Text:"",Color:"rgb(102,183,248)"}],[25,{Text:"",Color:"rgb(234,88,231)"}],[26,{Text:"",Color:"rgb(242,171,0)"}],[27,{Text:"",Color:"rgb(87,247,168)"}],[28,{Text:"",Color:"rgb(97,204,113)"}],[29,{Text:"",Color:"rgb(84,115,193)"}],[30,{Text:"",Color:"rgb(141,51,255)"}],[31,{Text:"",Color:"rgb(200,126,24)"}],[32,{Text:"",Color:"rgb(195,41,32)"}],[33,{Text:"",Color:"rgb(215,85,194)"}],[34,{Text:"",Color:"rgb(250,222,105)"}],[35,{Text:"",Color:"rgb(112,249,224)"}],[36,{Text:"",Color:"rgb(217,107,98)"}],[37,{Text:"",Color:"rgb(114,231,17)"}],[38,{Text:"",Color:"rgb(238,31,25)"}],[39,{Text:"",Color:"rgb(92,247,113)"}],[40,{Text:"",Color:"rgb(175,175,175)"}],[41,{Text:"",Color:"rgb(252,228,23)"}],[42,{Text:"",Color:"rgb(88,195,235)"}],[43,{Text:"",Color:"rgb(55,74,94)"}],[44,{Text:"",Color:"rgb(248,175,33)"}],[45,{Text:"",Color:"rgb(194,180,112)"}],[46,{Text:"",Color:"rgb(50,153,28)"}],[47,{Text:"",Color:"rgb(17,65,152)"}],[48,{Text:"",Color:"rgb(194,55,26)"}],[49,{Text:"",Color:"rgb(243,0,0)"}]])},CustomDrawIcon:{Data:new p.default},CustomFunction:{Data:new p.default},CustomVariant:{Data:new p.default},GetDrawIcon:function(t){if(Bi.CustomDrawIcon.Data.has(t)){var e=Bi.CustomDrawIcon.Data.get(t);return e.Symbol?{Symbol:e.Symbol,Color:e.Color,IconFont:!1,ID:t}:{Symbol:e.Text,Color:e.Color,Family:e.Family,IconFont:!0,ID:t}}if(Bi.DrawIcon.Data.has(t)){var i=Bi.DrawIcon.Data.get(t);return{Symbol:i.Text,Color:i.Color,Family:Bi.DrawIcon.Family,IconFont:!0,ID:t}}return null},GetDrawTextIcon:function(t){return new p.default([[1,{Symbol:"↑",Color:"rgb(238,44,44)"}],[2,{Symbol:"↓",Color:"rgb(0,139,69)"}],[3,{Symbol:"😧"}],[4,{Symbol:"😨"}],[5,{Symbol:"😁"}],[6,{Symbol:"😱"}],[7,{Symbol:"B",Color:"rgb(238,44,44)"}],[8,{Symbol:"S",Color:"rgb(0,139,69)"}],[9,{Symbol:"💰"}],[10,{Symbol:"📪"}],[11,{Symbol:"👆"}],[12,{Symbol:"👇"}],[13,{Symbol:"B",Color:"rgb(178,34,34)"}],[14,{Symbol:"S",Color:"rgb(0,139,69)"}],[36,{Symbol:"Χ",Color:"rgb(238,44,44)"}],[37,{Symbol:"X",Color:"rgb(0,139,69)"}],[38,{Symbol:"▲",Color:"rgb(238,44,44)"}],[39,{Symbol:"▼",Color:"rgb(0,139,69)"}],[40,{Symbol:"◉",Color:"rgb(238,44,44)"}],[41,{Symbol:"◈",Color:"rgb(238,44,44)"}],[42,{Symbol:"📌"}],[43,{Symbol:"💎"}],[44,{Symbol:"🥇"}],[45,{Symbol:"🥈"}],[46,{Symbol:"🥉"}],[47,{Symbol:"🏅"}]]).get(t)},IsCustomFunction:function(t){return!!Bi.CustomFunction.Data.has(t)},IsCustomVariant:function(t){return!!Bi.CustomVariant.Data.has(t)}},ki={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"},Vi={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},Hi={FromCodePoint:function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10))+String.fromCharCode(56320+(t-65536&1023))},IsWhiteSpace:function(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0},IsLineTerminator:function(t){return 10===t||13===t||8232===t||8233===t},IsIdentifierStart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||12304===t||12305===t||9650===t||9660===t||t>=128&&Vi.NonAsciiIdentifierStart.test(Hi.FromCodePoint(t))},IsIdentifierPart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||35===t||12304===t||12305===t||9650===t||9660===t||t>=128&&Vi.NonAsciiIdentifierPart.test(Hi.FromCodePoint(t))},IsDecimalDigit:function(t){return t>=48&&t<=57},IsHexDigit:function(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102},isOctalDigit:function(t){return t>=48&&t<=55}},Gi={};function Yi(){}function Wi(){this.Error=[],this.RecordError=function(t){this.Error.push(t)},this.ConstructError=function(t,e){var i=new Error(t);try{throw i}catch(t){s.default&&o.default&&((i=(0,s.default)(t)).Column=e)}return i},this.CreateError=function(t,e,i,a,n){var r="Line "+e+": "+a,o=this.ConstructError(r,i);return o.Index=t,o.LineNumber=e,o.Description=a,o.Word=n,o},this.ThrowError=function(t,e,i,a,n){throw this.CreateError(t,e,i,a,n)},this.ThrowDownloadJob=function(t,e,i,a,n){var r=this.CreateError(t,e,i,a);throw r.Job=n,r}}function Xi(t,e){this.Source=t,this.ErrorHandler=e,this.Length=t.length,this.Index=0,this.LineNumber=t.length>0?1:0,this.LineStart=0,this.CurlyStack=[],this.SaveState=function(){return{Index:this.Index,LineNumber:this.LineNumber,LineStart:this.LineStart}},this.RestoreState=function(t){this.Index=t.Index,this.LineNumber=t.LineNumber,this.LineStart=t.LineStart},this.IsEOF=function(){return this.Index>=this.Length},this.IsKeyword=function(t){return!1},this.CodePointAt=function(t){var e=this.Source.charCodeAt(t);if(e>=55296&&e<=56319){var i=this.Source.charCodeAt(t+1);if(i>=56320&&i<=57343)e=1024*(e-55296)+i-56320+65536}return e},this.Lex=function(){if(this.IsEOF())return{Type:2,Value:"",LineNumber:this.LineNumber,LineStart:this.LineStart,Start:this.Index,End:this.Index};var t=this.Source.charCodeAt(this.Index);return Hi.IsIdentifierStart(t)?this.ScanIdentifier():40===t||41===t||59===t?this.ScanPunctuator():39===t||34===t?this.ScanStringLiteral():46==t?Hi.IsDecimalDigit(this.Source.charCodeAt(this.Index+1))?this.ScanNumericLiteral():this.ScanPunctuator():Hi.IsDecimalDigit(t)?this.ScanNumericLiteral():t>=55296&&t<57343&&Hi.IsIdentifierStart(this.CodePointAt(this.Index))?this.ScanIdentifier():this.ScanPunctuator()},this.ScanIdentifier=function(){var t=void 0,e=this.Index,i=92===this.Source.charCodeAt(e)?this.GetComplexIdentifier():this.GetIdentifier();if(3!=(t=i.length?3:this.IsKeyword(i)?4:null==i?5:"true"==i||"false"==i?1:3)&&e+i.length!=this.Index){this.Index;throw this.Index=e,ki.InvalidEscapedReservedWord}return"AND"!=i&&"OR"!=i||(t=7),{Type:t,Value:i,LineNumber:this.LineNumber,LineStart:this.LineStart,Start:e,End:this.Index}},this.GetIdentifier=function(){for(var t=this.Index++;!this.IsEOF();){var e=this.Source.charCodeAt(this.Index);if(92==e)return this.Index=t,this.GetComplexIdentifier();if(e>=55296&&e<57343)return this.Index=t,this.GetComplexIdentifier();if(!Hi.IsIdentifierPart(e))break;++this.Index}return this.Source.slice(t,this.Index)},this.ScanPunctuator=function(){var t=this.Index,e=this.Source[this.Index];switch(e){case"(":++this.Index;break;case")":case";":case",":case".":++this.Index;break;default:"AND"==(e=this.Source.substr(this.Index,3))?this.Index+=3:"&&"===(e=this.Source.substr(this.Index,2))||"||"===e||"=="===e||"!="===e||"<="===e||">="===e||"=>"===e||":="==e||"OR"==e||"<>"==e?this.Index+=2:(e=this.Source[this.Index],"<>=!+-*%&|^/:".indexOf(e)>=0&&++this.Index)}return this.Index==t&&this.ThrowUnecpectedToken(),{Type:7,Value:e,LineNumber:this.LineNumber,LineStart:this.LineStart,Start:t,End:this.Index}},this.ScanStringLiteral=function(){var t=this.Index,e=this.Source[this.Index];++this.Index;for(var i="";!this.IsEOF();){var a=this.Source[this.Index++];if(a==e){e="";break}if("\\"==a)throw"not complete";if(Hi.IsLineTerminator(a.charCodeAt(0)))break;i+=a}return""!=e&&(this.Index=t,this.ThrowUnecpectedToken()),{Type:8,Value:i,LineNumber:this.LineNumber,LineStart:this.LineStart,Start:t,End:this.Index}},this.ScanNumericLiteral=function(){var t=this.Index,e=this.Source[this.Index],i="";if("."!=e){if(i=this.Source[this.Index++],e=this.Source[this.Index],"0"==i&&("x"==e||"X"==e))return++this.Index,this.ScanHexLiteral(t);for(;Hi.IsDecimalDigit(this.Source.charCodeAt(this.Index));)i+=this.Source[this.Index++];e=this.Source[this.Index]}if("."==e){for(i+=this.Source[this.Index++];Hi.IsDecimalDigit(this.Source.charCodeAt(this.Index));)i+=this.Source[this.Index++];e=this.Source[this.Index]}if("e"==e||"E"==e)if(i+=this.Source[this.Index++],"+"!=(e=this.Source[this.Index])&&"-"!=e||(i+=this.Source[this.Index]),Hi.IsDecimalDigit(this.Source.charCodeAt(this.Index)))for(;Hi.IsDecimalDigit(this.Source.charCodeAt(this.Index));)i+=this.Source[this.Index++];else this.ThrowUnecpectedToken();return Hi.IsIdentifierStart(this.Source.charCodeAt(this.Index))&&this.ThrowUnecpectedToken(),{Type:6,Value:parseFloat(i),LineNumber:this.LineNumber,LineStart:this.LineStart,Start:t,End:this.Index}},this.ScanComments=function(){for(this.Index;!this.IsEOF();){var t=this.Source.charCodeAt(this.Index);if(Hi.IsWhiteSpace(t))++this.Index;else if(Hi.IsLineTerminator(t))++this.Index,13==t&&10==this.Source.charCodeAt(this.Index)&&++this.Index,++this.LineNumber,this.LineStart=this.Index,!0;else if(47==t){if(47!=(t=this.Source.charCodeAt(this.Index+1)))break;this.Index+=2;this.SkipSingleLineComment(2);!0}else{if(123!=t)break;this.Index+=1;this.SkipMultiLineComment()}}},this.SkipMultiLineComment=function(){for(var t=[];!this.IsEOF();){var e=this.Source.charCodeAt(this.Index);if(Hi.IsLineTerminator(e))++this.LineNumber,++this.Index,this.LineStart=this.Index;else{if(125==e)return this.Index+=1,t;++this.Index}}return t},this.SkipSingleLineComment=function(t){for(var e=[];!this.IsEOF();){var i=this.Source.charCodeAt(this.Index);if(++this.Index,Hi.IsLineTerminator(i))return 13===i&&10===this.Source.charCodeAt(this.Index)&&++this.Index,++this.LineNumber,this.LineStart=this.Index,e}return e},this.ThrowUnecpectedToken=function(t,e){return t||(t=ki.UnexpectedTokenIllegal),this.ErrorHandler.ThrowError(this.Index,this.LineNumber,this.Index-this.LineStart+1,t,e)}}Gi[1]="Boolean",Gi[2]="<end>",Gi[3]="Identifier",Gi[4]="Keyword",Gi[5]="Null",Gi[6]="Numeric",Gi[7]="Punctuator",Gi[8]="String",Gi[9]="RegularExpression",Gi[10]="Template",Yi.GetPeriodInfo=function(t){var e=[{Name:"MIN1",Period:4,Order:1},{Name:"MIN5",Period:5,Order:2},{Name:"MIN15",Period:6,Order:3},{Name:"MIN30",Period:7,Order:4},{Name:"MIN60",Period:8,Order:5},{Name:"DAY",Period:0,Order:1e3},{Name:"MULTIDAY",Period:40002,Order:1002},{Name:"DAY2",Period:40002,Order:1002},{Name:"DAY3",Period:40003,Order:1003},{Name:"DAY4",Period:40004,Order:1004},{Name:"DAY5",Period:40005,Order:1005},{Name:"WEEK",Period:1,Order:1005},{Name:"DAY6",Period:40006,Order:1006},{Name:"DAY7",Period:40007,Order:1007},{Name:"DAY8",Period:40008,Order:1008},{Name:"DAY9",Period:40009,Order:1009},{Name:"DAY10",Period:40009,Order:1010},{Name:"WEEK2",Period:21,Order:1010},{Name:"DAY11",Period:40011,Order:1011},{Name:"DAY12",Period:40012,Order:1012},{Name:"DAY13",Period:40013,Order:1013},{Name:"DAY14",Period:40014,Order:1014},{Name:"MONTH",Period:2,Order:1030},{Name:"SEASON",Period:9,Order:1090},{Name:"HALFYEAR",Period:22,Order:1180},{Name:"YEAR",Period:3,Order:1365}];if(t.Name){for(var i in e)if(t.Name&&e[i].Name==t.Name)return e[i];return null}if(Ce.IsNumber(t.PeriodID)){for(var i in e)if(e[i].Period==t.PeriodID)return e[i];return null}return null},Yi.GetConvertValueName=function(t){var e;return"COVER_C"==t?e="CLOSE":"COVER_O"==t?e="OPEN":"COVER_H"==t?e="HIGH":"COVER_L"==t?e="LOW":"COVER_A"==t?e="AMOUNT":"COVER_V"==t&&(e="VOL"),e};var Ui={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"};function zi(t){this.ErrorHandler=new Wi,this.Scanner=new Xi(t,this.ErrorHandler),this.Node=new function(t){this.IsNeedIndexData=!1,this.IsNeedLatestIndexData=!1,this.IsNeedSymbolData=!1,this.IsNeedMarginData=new c.default,this.IsNeedNewsAnalysisData=new c.default,this.NeedBlockIncreaseData=[],this.IsNeedSymbolExData=new c.default,this.NeedHK2SHSZData=[],this.IsNeedSectionFinance=new p.default,this.FunctionData=[],this.Dynainfo=[],this.IsAPIData=[],this.ExecuteIndex=[],this.OtherSymbolData=[],this.PeriodSymbolData=[],this.ErrorHandler=t,this.GetDataJobList=function(){var t=[];this.IsNeedSymbolData&&t.push({ID:Zi.JOB_DOWNLOAD_SYMBOL_DATA}),this.IsNeedIndexData&&t.push({ID:Zi.JOB_DOWNLOAD_INDEX_DATA}),this.IsNeedLatestIndexData&&t.push({ID:Zi.JOB_DOWNLOAD_LATEST_INDEX_DATA});for(var e=0;e<this.Dynainfo.length;++e){var i=this.Dynainfo[e];t.push(i)}for(var e in this.NeedBlockIncreaseData)t.push(this.NeedBlockIncreaseData[e]);var a=!0,n=!1,r=void 0;try{for(var o,s=(0,d.default)(this.IsNeedMarginData);!(a=(o=s.next()).done);a=!0){var l=o.value;t.push({ID:l})}}catch(t){n=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(n)throw r}}for(var e in this.NeedHK2SHSZData)t.push(this.NeedHK2SHSZData[e]);var h=!0,u=!1,c=void 0;try{for(var f,p=(0,d.default)(this.IsNeedNewsAnalysisData);!(h=(f=p.next()).done);h=!0)l=f.value,t.push({ID:l})}catch(t){u=!0,c=t}finally{try{!h&&p.return&&p.return()}finally{if(u)throw c}}var m=!0,v=!1,g=void 0;try{for(var C,D=(0,d.default)(this.IsNeedSymbolExData);!(m=(C=D.next()).done);m=!0)l=C.value,t.push({ID:l})}catch(t){v=!0,g=t}finally{try{!m&&D.return&&D.return()}finally{if(v)throw g}}var y=!0,x=!1,S=void 0;try{for(var I,T=(0,d.default)(this.IsNeedSectionFinance);!(y=(I=T.next()).done);y=!0)i=I.value,t.push({ID:Zi.JOB_DOWNLOAD_SECTION_SF,SF:i})}catch(t){x=!0,S=t}finally{try{!y&&T.return&&T.return()}finally{if(x)throw S}}for(var e in this.IsAPIData)i=this.IsAPIData[e],t.push(i);for(var e in this.ExecuteIndex)i=this.ExecuteIndex[e],t.push(i);for(var e in this.OtherSymbolData)i=this.OtherSymbolData[e],t.push(i);for(var e in this.PeriodSymbolData)i=this.PeriodSymbolData[e],t.push(i);for(var e in this.FunctionData)i=this.FunctionData[e],t.push(i);return t},this.VerifySymbolVariable=function(t,e){if(new c.default(["INDEXA","INDEXC","INDEXH","INDEXL","INDEXO","INDEXV","INDEXDEC","INDEXADV"]).has(t))this.IsNeedIndexData=!0;else if(new c.default(["CLOSE","C","VOL","V","OPEN","O","HIGH","H","LOW","L","AMOUNT","AMO","VOLINSTK"]).has(t))this.IsNeedSymbolData=!0;else{if("VOLR"===t&&(this.IsNeedSymbolExData.has(Zi.JOB_DOWNLOAD_VOLR_DATA)||this.IsNeedSymbolExData.add(Zi.JOB_DOWNLOAD_VOLR_DATA)),new c.default(["CAPITAL","TOTALCAPITAL","EXCHANGE","HYBLOCK","DYBLOCK","GNBLOCK","FGBLOCK","ZSBLOCK","ZHBLOCK","ZDBLOCK","HYZSCODE","GNBLOCKNUM","FGBLOCKNUM","ZSBLOCKNUM","ZHBLOCKNUM","ZDBLOCKNUM","HYSYL","HYSJL"]).has(t)){var i={ID:Zi.JOB_DOWNLOAD_VARIANT,VariantName:t};return e&&(i.Token={Index:e.Start,Line:e.LineNumber}),void this.FunctionData.push(i)}if("FROMOPEN"!=t){if("ADVANCE"==t||"DECLINE"==t)return i={ID:Zi.JOB_DOWNLOAD_INDEX_INCREASE_DATA,IsSelfSymbol:!0,FunctionName:t},e&&(i.Token={Index:e.Start,Line:e.LineNumber}),void this.NeedBlockIncreaseData.push(i);if(t.indexOf("#")>0){var a=t.split("#");if(2!=a.length){var n=t+", 跨周期语法错误, 变量名#周期";this.ThrowUnexpectedToken(e,n)}else["C","CLOSE","O","OPEN","H","HIGH","L","LOW","AMOUNT","AMO","VOL","V","VOLINSTK"].indexOf(a[0])<0&&(n=t+", 跨周期语法错误, 数据只支持'OPEN,HIGH,LOW,CLOSE,VOL,AMOUNT,VOLINSTK'",this.ThrowUnexpectedToken(e,n)),["MIN1","MIN5","MIN15","MIN30","MIN60","DAY","WEEK","MONTH","SEASON","YEAR","HALFYEAR","WEEK2","MULTIDAY","DAY2","DAY3","DAY4","DAY5","DAY6","DAY7","DAY8","DAY9","DAY10","DAY11","DAY12","DAY13","DAY14","DAY15"].indexOf(a[1])<0&&(n=t+", 跨周期语法错误， 周期只支持'MIN1,MIN5,MIN15,MIN30,MIN60,DAY,WEEK,MONTH,SEASON,YEAR'",this.ThrowUnexpectedToken(e,n)),i={ID:Zi.JOB_DOWNLOAD_SYMBOL_PERIOD_DATA,VarName:t,ValueName:a[0],PeriodName:a[1]},e&&(i.Token={Index:e.Start,Line:e.LineNumber}),this.PeriodSymbolData.push(i)}else if(Bi.IsCustomVariant(t))return i={VariantName:t,ID:Zi.JOB_CUSTOM_VARIANT_DATA},e&&(i.Token={Index:e.Start,Line:e.LineNumber}),void this.FunctionData.push(i)}else this.IsNeedLatestIndexData=!0}},this.VerifySymbolLiteral=function(t,e){if(Ce.IsString(t)&&t.indexOf("$")>0){if(2!=t.split("$").length)return;var i={Literal:t,ID:Zi.JOB_DOWNLOAD_OTHER_SYMBOL_DATA};e&&(i.Token={Index:e.Start,Line:e.LineNumber}),this.OtherSymbolData.push(i)}},this.VerifySymbolFunction=function(t,e,i){if(Bi.IsCustomFunction(t.Name)){var a={FunctionName:t.Name,ID:Zi.JOB_CUSTOM_FUNCTION_DATA,Args:e};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a)}if("DYNAINFO"!=t.Name){if("FINANCE"==t.Name)return a={ID:Zi.JOB_DOWNLOAD_FINANCE,Args:e,FunctionName:t.Name},i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a);if("FINVALUE"==t.Name)return a={ID:Zi.JOB_DOWNLOAD_FINVALUE,Args:e,FunctionName:t.Name},i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a);if("FINONE"==t.Name)return a={ID:Zi.JOB_DOWNLOAD_FINONE,Args:e,FunctionName:t.Name},i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a);if("GPJYVALUE"==t.Name)return a={ID:Zi.JOB_DOWNLOAD_GPJYVALUE,Args:e,FunctionName:t.Name},i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a);if("SCJYVALUE"==t.Name)return a={ID:Zi.JOB_DOWNLOAD_SCJYVALUE,Args:e,FunctionName:t.Name},i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a);if("MARGIN"!==t.Name)if("NEWS"!==t.Name){if("HK2SHSZ"===t.Name)return a={ID:Zi.JOB_DOWNLOAD_HK_TO_SHSZ,Args:e,FunctionName:t.Name},i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.NeedHK2SHSZData.push(a);if("COST"==t.Name||"WINNER"==t.Name||"PPART"==t.Name||"COSTEX"==t.Name||"LWINNER"==t.Name||"PWINNER"==t.Name)return a={ID:Zi.JOB_DOWNLOAD_FINANCE,Args:[7],FunctionName:"FINANCE",FunctionName2:t.Name},i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a);if("INBLOCK"==t.Name)return a={ID:Zi.JOB_DOWNLOAD_VARIANT,VariantName:"INBLOCK"},i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a);if("BETA"!==t.Name){if("UPCOUNT"==t.Name||"DOWNCOUNT"==t.Name)return a={ID:Zi.JOB_DOWNLOAD_INDEX_INCREASE_DATA,Args:e,FunctionName:t.Name},i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.NeedBlockIncreaseData.push(a);if("STKINDI"==t.Name)return a={ID:Zi.JOB_EXECUTE_INDEX,Args:e,FunctionName:t.Name},i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.ExecuteIndex.push(a);if("COVER_C"==t.Name||"COVER_O"==t.Name||"COVER_H"==t.Name||"COVER_L"==t.Name||"COVER_A"==t.Name||"COVER_V"==t.Name){var n=e[0].Value;if(["MIN1","MIN5","MIN15","MIN30","MIN60","DAY","WEEK","MONTH","SEASON","YEAR"].indexOf(n)<0){var r=t.Name+", 跨周期函数错误， 周期只支持'MIN1,MIN5,MIN15,MIN30,MIN60,DAY,WEEK,MONTH,SEASON,YEAR'";this.ThrowUnexpectedToken(i,r)}var o=Yi.GetConvertValueName(t.Name);return a={ID:Zi.JOB_DOWNLOAD_SYMBOL_PERIOD_DATA,FunctionName:t.Name,ValueName:o,PeriodName:n},i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.PeriodSymbolData.push(a)}if("SF"!=t.Name){if("LOADAPIDATA"==t.Name)return a={Name:t.Name,ID:Zi.JOB_DOWNLOAD_CUSTOM_API_DATA,Args:e},i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.IsAPIData.push(a);if(new c.default(["CLOSE","C","VOL","V","OPEN","O","HIGH","H","LOW","L","AMOUNT","AMO","VOLINSTK"]).has(t.Name))return a={Name:t.Name,ID:Zi.JOB_DOWNLOAD_OTHER_SYMBOL_DATA,Args:e},i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.OtherSymbolData.push(a)}else{var s=Zi.GetSectionReportPeriod(e[0].Value,e[1].Value);if(!s)return;var l=Zi.GetSectionFinanceID(e[2].Value);if(!l)return;var h=s.Year+"-"+s.Quarter;if(this.IsNeedSectionFinance.has(h))(u=this.IsNeedSectionFinance.get(h)).Fields.has(l)||u.Fields.add(l);else{var u={Period:s,Fields:new c.default([l])};this.IsNeedSectionFinance.set(h,u)}}}else this.IsNeedIndexData=!0}else{var d=Zi.GetNewsAnalysisID(e[0].Value);d&&!this.IsNeedNewsAnalysisData.has(d)&&this.IsNeedNewsAnalysisData.add(d)}else{var f=Zi.GetMarginJobID(e[0].Value);f&&!this.IsNeedMarginData.has(f)&&this.IsNeedMarginData.add(f)}}else{var a={ID:Zi.JOB_DOWNLOAD_SYMBOL_LATEST_DATA,Args:e,FunctionName:t.Name};this.Dynainfo.push(a)}},this.VerifyMemberVariable=function(t,e,i){var a={ID:Zi.JOB_EXECUTE_INDEX,Member:{Object:t,Property:e}};i&&(a.Token={Index:i.Start,Line:i.LineNumber}),this.ExecuteIndex.push(a)},this.ExpressionStatement=function(t){return{Type:Ui.ExpressionStatement,Expression:t}},this.Script=function(t){return{Type:Ui.Program,Body:t,SourceType:"通达信脚本"}},this.SequenceExpression=function(t){return{Type:Ui.SequenceExpression,Expression:t}},this.BinaryExpression=function(t,e,i){return{Type:"||"===t||"&&"===t||"AND"==t||"OR"==t?Ui.LogicalExpression:Ui.BinaryExpression,Operator:t,Left:e,Right:i}},this.Literal=function(t,e,i){return this.VerifySymbolLiteral(t,i),{Type:Ui.Literal,Value:t,Raw:e}},this.Identifier=function(t,e){return this.VerifySymbolVariable(t,e),{Type:Ui.Identifier,Name:t}},this.MemberIdentifier=function(t,e){return{Type:Ui.Identifier,Name:t}},this.AssignmentExpression=function(t,e,i){return{Type:Ui.AssignmentExpression,Operator:t,Left:e,Right:i}},this.UnaryExpression=function(t,e){return{Type:Ui.UnaryExpression,Operator:t,Argument:e,Prefix:!0}},this.EmptyStatement=function(){return{Type:Ui.EmptyStatement}},this.CallExpression=function(t,e,i){return this.VerifySymbolFunction(t,e,i),{Type:Ui.CallExpression,Callee:t,Arguments:e}},this.StaticMemberExpression=function(t,e,i){return this.VerifyMemberVariable(t,e,i),{Type:Ui.MemberExpression,Computed:!1,Object:t,Property:e}},this.Directive=function(t,e){return{Type:Ui.ExpressionStatement,Expression:t,Directive:e}},this.ThrowUnexpectedToken=function(t,e){throw this.UnexpectedTokenError(t,e)},this.UnexpectedTokenError=function(t,e){var i=e||ki.UnexpectedToken,a="ILLEGAL";if(t&&(a=t.Value),i=i.replace("%0",a),t&&"number"==typeof t.LineNumber){var n=t.Start,r=t.LineNumber;return this.ErrorHandler.CreateError(n,r,-1,i)}}}(this.ErrorHandler),this.LookAhead={Type:2,Value:"",LineNumber:this.Scanner.LineNumber,LineStart:0,Start:0,End:0},this.HasLineTerminator=!1,this.Context={IsModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,FirstCoverInitializedNameError:null,IsAssignmentTarget:!1,IsBindingElement:!1,InFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},Strict:!1},this.PeratorPrecedence={")":0,";":0,",":0,"]":0,"||":1,OR:1,"&&":2,AND:2,"|":3,"^":4,"&":5,"==":6,"=":6,"!=":6,"<>":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.StartMarker={Index:0,Line:this.Scanner.LineNumber,Column:0},this.LastMarker={Index:0,Line:this.Scanner.LineNumber,Column:0},this.Initialize=function(){this.NextToken(),this.LastMarker={Index:this.Scanner.Index,Line:this.Scanner.LineNumber,Column:this.Scanner.Index-this.Scanner.LineStart}},this.CreateNode=function(){return{Index:this.StartMarker.Index,Line:this.StartMarker.Line,Column:this.StartMarker.Column}},this.StartNode=function(t,e){void 0==e&&(e=0);var i=t.Start-t.LineStart,a=t.LineNumber;return i<0&&(i+=e,a--),{Index:t.Start,Line:a,Column:i}},this.Match=function(t){return 7==this.LookAhead.Type&&this.LookAhead.Value==t},this.Expect=function(t){var e=this.NextToken();7==e.Type&&e.Value==t||this.ThrowUnexpectedToken(e)},this.MatchAssign=function(){if(7!=this.LookAhead.Type)return!1;var t=this.LookAhead.Value;return":"==t||":="==t},this.GetTokenRaw=function(t){return this.Scanner.Source.slice(t.Start,t.End)},this.NextToken=function(){var t=this.LookAhead;this.LastMarker.Index=this.Scanner.Index,this.LastMarker.Line=this.Scanner.LineNumber,this.LastMarker.Column=this.Scanner.Index-this.Scanner.LineStart,this.CollectComments(),this.Scanner.Index!==this.StartMarker.Index&&(this.StartMarker.Index=this.Scanner.Index,this.StartMarker.Line=this.Scanner.LineNumber,this.StartMarker.Column=this.Scanner.Index-this.Scanner.LineStart);var e=this.Scanner.Lex();return this.HasLineTerminator=t.LineNumber!=e.LineNumber,e&&this.Context.Strict&&e.Type,this.LookAhead=e,t},this.CollectComments=function(){this.Scanner.ScanComments()},this.ParseScript=function(){for(var t=this.CreateNode(),e=this.ParseDirectivePrologues();2!=this.LookAhead.Type;)e.push(this.ParseStatementListItem());return this.Finalize(t,this.Node.Script(e))},this.ParseDirective=function(){var t=this.LookAhead,e=this.CreateNode(),i=this.ParseExpression(),a=i.Type===Ui.Literal?this.GetTokenRaw(t).slice(1,-1):null;return this.ConsumeSemicolon(),this.Finalize(e,a?this.Node.Directive(i,a):this.Node.ExpressionStatement(i))},this.ParseDirectivePrologues=function(){for(var t=[];;){if(8!=this.LookAhead.Type)break;var e=this.ParseDirective();t.push(e)}return t},this.ParseStatementListItem=function(){var t=void 0;return this.Context.IsAssignmentTarget=!0,this.Context.IsBindingElement=!0,4==this.LookAhead.Type||(t=this.ParseStatement()),t},this.ParseStatement=function(){var t=void 0;switch(this.LookAhead.Type){case 1:case 5:case 6:case 8:case 10:case 9:t=this.ParseExpressionStatement();break;case 7:var e=this.LookAhead.Value;t="("===e?this.ParseExpressionStatement():";"===e?this.ParseEmptyStatement():this.ParseExpressionStatement();break;case 3:t=this.ParseLabelledStatement();break;case 4:break;default:t="error"}return t},this.ParseEmptyStatement=function(){var t=this.CreateNode();return this.Expect(";"),this.Finalize(t,this.Node.EmptyStatement())},this.ParseLabelledStatement=function(){var t=this.CreateNode(),e=this.ParseExpression();this.ConsumeSemicolon();var i=new this.Node.ExpressionStatement(e);return this.Finalize(t,i)},this.ParseExpression=function(){var t=this.LookAhead,e=this.IsolateCoverGrammar(this.ParseAssignmentExpression);if(this.Match(",")){var i=[];for(i.push(e);2!=this.LookAhead.Type&&this.Match(",");)this.NextToken(),i.push(this.IsolateCoverGrammar(this.ParseAssignmentExpression));e=this.Finalize(this.StartNode(t),this.Node.SequenceExpression(i))}return e},this.ParseAssignmentExpression=function(){var t=void 0,e=this.LookAhead;if(t=this.ParseConditionalExpression(),this.MatchAssign()){if(!this.Context.IsAssignmentTarget){var i=t.Marker;this.ThrowUnexpectedError(i.Index,i.Line,i.Column,ki.InvalidLHSInAssignment)}this.Match("=")||this.Match(":")?this.ReinterpretExpressionAsPattern(t):(this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1);var a=this.NextToken().Value,n=this.IsolateCoverGrammar(this.ParseAssignmentExpression);t=this.Finalize(this.StartNode(e),this.Node.AssignmentExpression(a,t,n)),this.Context.FirstCoverInitializedNameError=null}return t},this.ParseConditionalExpression=function(){this.LookAhead;return this.InheritCoverGrammar(this.ParseBinaryExpression)},this.ParseBinaryExpression=function(){var t=this.LookAhead,e=this.InheritCoverGrammar(this.ParseExponentiationExpression),i=this.LookAhead,a=this.BinaryPrecedence(i);if(a>0){this.NextToken(),this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1;for(var n=[t,this.LookAhead],r=e,o=this.IsolateCoverGrammar(this.ParseExponentiationExpression),s=[r,i.Value,o],l=[a];!((a=this.BinaryPrecedence(this.LookAhead))<=0);){for(;s.length>2&&a<=l[l.length-1];){o=s.pop();var h=s.pop();l.pop(),r=s.pop(),n.pop();var u=this.StartNode(n[n.length-1]);s.push(this.Finalize(u,this.Node.BinaryExpression(h,r,o)))}s.push(this.NextToken().Value),l.push(a),n.push(this.LookAhead),s.push(this.IsolateCoverGrammar(this.ParseExponentiationExpression))}var c=s.length-1;e=s[c];for(var d=n.pop();c>1;){var f=n.pop(),p=d&&d.LineStart,m=this.StartNode(f,p),v=s[c-1];e=this.Finalize(m,this.Node.BinaryExpression(v,s[c-2],e)),c-=2,d=f}}return e},this.ParseExponentiationExpression=function(){this.LookAhead;return this.InheritCoverGrammar(this.ParseUnaryExpression)},this.ParseUnaryExpression=function(){var t=void 0;if(this.Match("+")||this.Match("-")){var e=this.StartNode(this.LookAhead),i=this.NextToken();t=this.InheritCoverGrammar(this.ParseUnaryExpression),t=this.Finalize(e,this.Node.UnaryExpression(i.Value,t)),this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1}else t=this.ParseUpdateExpression();return t},this.ParseUpdateExpression=function(){this.LookAhead;return this.InheritCoverGrammar(this.ParseLeftHandSideExpressionAllowCall)},this.ParseLeftHandSideExpressionAllowCall=function(){var t=this.LookAhead,e=void 0;for(e=this.InheritCoverGrammar(this.ParsePrimaryExpression);;)if(this.Match(".")){this.Context.IsBindingElement=!1,this.Context.IsAssignmentTarget=!0,this.Expect(".");var i=this.ParseMemberIdentifierName();e=this.Finalize(this.StartNode(t),this.Node.StaticMemberExpression(e,i,t))}else{if(!this.Match("("))break;this.Context.IsBindingElement=!1,this.Context.IsAssignmentTarget=!1;var a=this.ParseArguments();e=this.Finalize(this.StartNode(t),this.Node.CallExpression(e,a,t))}return e},this.IsIdentifierName=function(t){return 3===t.Type||4===t.Type||1===t.Type||5===t.Type},this.ParseIdentifierName=function(){var t=this.CreateNode(),e=this.NextToken();return this.IsIdentifierName(e)||this.ThrowUnexpectedToken(e),this.Finalize(t,this.Node.Identifier(e.Value,e))},this.ParseMemberIdentifierName=function(){var t=this.CreateNode(),e=this.NextToken();return this.IsIdentifierName(e)||this.ThrowUnexpectedToken(e),this.Finalize(t,this.Node.MemberIdentifier(e.Value,e))},this.ParseArguments=function(){this.Expect("(");var t=[];if(!this.Match(")"))for(;;){var e=this.IsolateCoverGrammar(this.ParseAssignmentExpression);if(t.push(e),this.Match(")"))break;if(this.ExpectCommaSeparator(),this.Match(")"))break}return this.Expect(")"),t},this.ExpectCommaSeparator=function(){this.Expect(",")},this.ParsePrimaryExpression=function(){var t,e,i=this.CreateNode(),a=void 0;switch(this.LookAhead.Type){case 3:t=this.NextToken(),a=this.Finalize(i,this.Node.Identifier(t.Value,t));break;case 6:case 8:this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1,t=this.NextToken(),e=this.GetTokenRaw(t),a=this.Finalize(i,this.Node.Literal(t.Value,e,t));break;case 7:switch(this.LookAhead.Value){case"(":this.Context.IsBindingElement=!1,a=this.InheritCoverGrammar(this.ParseGroupExpression);break;default:a=this.ThrowUnexpectedToken(this.NextToken())}break;default:a=this.ThrowUnexpectedToken(this.NextToken())}return a},this.ParseGroupExpression=function(){var t=void 0;if(this.Expect("("),this.Match(")"))this.NextToken();else{this.LookAhead;if(this.Context.IsBindingElement=!0,t=this.InheritCoverGrammar(this.ParseAssignmentExpression),this.Match(",")){for(this.Context.IsAssignmentTarget=!1,[].push(t);2!=this.LookAhead.Type&&this.Match(",");)this.NextToken(),this.Match(")")}this.Expect(")"),this.Context.IsBindingElement=!1}return t},this.ParseExpressionStatement=function(){var t=this.CreateNode(),e=this.ParseExpression();return this.ConsumeSemicolon(),this.Finalize(t,this.Node.ExpressionStatement(e))},this.ConsumeSemicolon=function(){this.Match(";")?this.NextToken():this.HasLineTerminator||(this.LastMarker.Index=this.StartMarker.Index,this.LastMarker.Line=this.StartMarker.Line,this.LastMarker.Column=this.StartMarker.Column)},this.ReinterpretExpressionAsPattern=function(t){switch(t.Type){case Ui.Identifier:case Ui.MemberExpression:case Ui.AssignmentExpression:}},this.Finalize=function(t,e){return e.Marker={Line:t.Line,Column:t.Column,Index:t.Index},e},this.BinaryPrecedence=function(t){var e=t.Value;return 7===t.Type&&this.PeratorPrecedence[e]||0},this.IsolateCoverGrammar=function(t){var e=this.Context.IsBindingElement,i=this.Context.IsAssignmentTarget,a=this.Context.FirstCoverInitializedNameError;this.Context.IsBindingElement=!0,this.Context.IsAssignmentTarget=!0,this.Context.FirstCoverInitializedNameError=null;var n=t.call(this);return this.Context.FirstCoverInitializedNameError,this.Context.IsBindingElement=e,this.Context.IsAssignmentTarget=i,this.Context.FirstCoverInitializedNameError=a,n},this.InheritCoverGrammar=function(t){var e=this.Context.IsBindingElement,i=this.Context.IsAssignmentTarget,a=this.Context.FirstCoverInitializedNameError;this.Context.IsBindingElement=!0,this.Context.IsAssignmentTarget=!0,this.Context.FirstCoverInitializedNameError=null;var n=t.call(this);return this.Context.IsBindingElement=this.Context.IsBindingElement&&e,this.Context.IsAssignmentTarget=this.Context.IsAssignmentTarget&&i,this.Context.FirstCoverInitializedNameError=a||this.Context.FirstCoverInitializedNameError,n},this.ThrowUnexpectedToken=function(t,e){throw this.UnexpectedTokenError(t,e)},this.ThrowUnexpectedError=function(t,e,i,a){var n=a||"执行异常";return this.ErrorHandler.ThrowError(t,e,i,n)},this.UnexpectedTokenError=function(t,e){var i=e||ki.UnexpectedToken,a="ILLEGAL";if(t&&(a=t.Value),i=i.replace("%0",a),t&&"number"==typeof t.LineNumber){var n=t.Start,r=t.LineNumber,o=this.LastMarker.Index-this.LastMarker.Column,s=t.Start-o+1;return this.ErrorHandler.CreateError(n,r,s,i)}var l=this.LastMarker.Index,h=this.LastMarker.Line,u=this.LastMarker.Column+1;return this.ErrorHandler.CreateError(l,h,u,i)}}function Ki(t,e){this.ErrorHandler=t,this.SymbolData=e,this.Add=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t+e;var n=[];if(!i&&!a){for(var r=Math.max(t.length,e.length),o=0;o<r;++o)n[o]=null,o<t.length&&o<e.length&&this.IsNumber(t[o])&&this.IsNumber(e[o])&&(n[o]=t[o]+e[o]);return n}var s=void 0,l=void 0;for(var h in i?(s=t,l=e):(s=e,l=t),l)n[h]=null,this.IsNumber(l[h])&&this.IsNumber(s)&&(n[h]=s+l[h]);return n},this.Subtract=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t-e;var n=[];if(!i&&!a){for(var r=Math.max(t.length,e.length),o=0;o<r;++o)n[o]=null,o<t.length&&o<e.length&&this.IsNumber(t[o])&&this.IsNumber(e[o])&&(n[o]=t[o]-e[o]);return n}if(i)for(var s in e)n[s]=null,this.IsNumber(t)&&this.IsNumber(e[s])&&(n[s]=t-e[s]);else for(var l in t)n[l]=null,this.IsNumber(t[l])&&this.IsNumber(e)&&(n[l]=t[l]-e);return n},this.Multiply=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t*e;var n=[];if(!i&&!a){for(var r=Math.max(t.length,e.length),o=0;o<r;++o)n[o]=null,o<t.length&&o<e.length&&this.IsNumber(t[o])&&this.IsNumber(e[o])&&(n[o]=t[o]*e[o]);return n}var s=void 0,l=void 0;for(var h in i?(s=t,l=e):(s=e,l=t),l)n[h]=null,this.IsNumber(l[h])&&this.IsNumber(s)&&(n[h]=s*l[h]);return n},this.Divide=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return 0==e?null:t/e;var n=[];if(!i&&!a){for(var r=Math.max(t.length,e.length),o=0;o<r;++o)n[o]=null,o<t.length&&o<e.length&&this.IsNumber(t[o])&&this.IsDivideNumber(e[o])&&(n[o]=t[o]/e[o]);return n}if(i)for(var s in e)n[s]=null,this.IsNumber(t)&&this.IsDivideNumber(e[s])&&(n[s]=t/e[s]);else for(var l in t)n[l]=null,this.IsNumber(t[l])&&this.IsDivideNumber(e)&&(n[l]=t[l]/e);return n},this.GT=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t>e?1:0;var n=[];if(!i&&!a){for(var r=Math.max(t.length,e.length),o=0;o<r;++o)n[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(n[o]=t[o]>e[o]?1:0));return n}if(i)for(var s in e)n[s]=null,isNaN(t)||isNaN(e[s])||(n[s]=t>e[s]?1:0);else for(var l in t)n[l]=null,isNaN(t[l])||isNaN(e)||(n[l]=t[l]>e?1:0);return n},this.GTE=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t>=e?1:0;var n=[];if(!i&&!a){for(var r=Math.max(t.length,e.length),o=0;o<r;++o)n[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(n[o]=t[o]>=e[o]?1:0));return n}if(i)for(var s in e)n[s]=null,isNaN(t)||isNaN(e[s])||(n[s]=t>=e[s]?1:0);else for(var l in t)n[l]=null,isNaN(t[l])||isNaN(e)||(n[l]=t[l]>=e?1:0);return n},this.LT=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t<e?1:0;var n=[];if(!i&&!a){for(var r=Math.max(t.length,e.length),o=0;o<r;++o)n[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(n[o]=t[o]<e[o]?1:0));return n}if(i)for(var s in e)n[s]=null,isNaN(t)||isNaN(e[s])||(n[s]=t<e[s]?1:0);else for(var l in t)n[l]=null,isNaN(t[l])||isNaN(e)||(n[l]=t[l]<e?1:0);return n},this.LTE=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t>=e?1:0;var n=[];if(!i&&!a){for(var r=Math.max(t.length,e.length),o=0;o<r;++o)n[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(n[o]=t[o]<=e[o]?1:0));return n}if(i)for(var s in e)n[s]=null,isNaN(t)||isNaN(e[s])||(n[s]=t<=e[s]?1:0);else for(var l in t)n[l]=null,isNaN(t[l])||isNaN(e)||(n[l]=t[l]<=e?1:0);return n},this.EQ=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t==e?1:0;var n=[];if(!i&&!a){for(var r=Math.max(t.length,e.length),o=0;o<r;++o)n[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(n[o]=t[o]==e[o]?1:0));return n}if(i)for(var s in e)n[s]=null,isNaN(t)||isNaN(e[s])||(n[s]=t==e[s]?1:0);else for(var l in t)n[l]=null,isNaN(t[l])||isNaN(e)||(n[l]=t[l]==e?1:0);return n},this.NEQ=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t!=e?1:0;var n=[];if(!i&&!a){for(var r=Math.max(t.length,e.length),o=0;o<r;++o)n[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(n[o]=t[o]!=e[o]?1:0));return n}if(i)for(var s in e)n[s]=null,isNaN(t)||isNaN(e[s])||(n[s]=t!=e[s]?1:0);else for(var l in t)n[l]=null,isNaN(t[l])||isNaN(e)||(n[l]=t[l]!=e?1:0);return n},this.And=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t&&e?1:0;var n=[];if(!i&&!a){for(var r=Math.max(t.length,e.length),o=0;o<r;++o)n[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(n[o]=t[o]&&e[o]?1:0));return n}if(i)for(var s in e)n[s]=null,isNaN(t)||isNaN(e[s])||(n[s]=t&&e[s]?1:0);else for(var l in t)n[l]=null,isNaN(t[l])||isNaN(e)||(n[l]=t[l]&&e?1:0);return n},this.Or=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t||e?1:0;var n=[];if(!i&&!a){for(var r=Math.max(t.length,e.length),o=0;o<r;++o)n[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(n[o]=t[o]||e[o]?1:0));return n}if(i)for(var s in e)n[s]=null,isNaN(t)||isNaN(e[s])||(n[s]=t||e[s]?1:0);else for(var l in t)n[l]=null,isNaN(t[l])||isNaN(e)||(n[l]=t[l]||e?1:0);return n},this.IF=function(t,e,i){var a=this.IsNumber(t),n=this.IsNumber(e),r=this.IsNumber(i),o=Array.isArray(e),s=Array.isArray(i);if(a)return t?e:i;var l=[];for(var h in t)t[h]?l[h]=n?e:o?e[h]:null:l[h]=r?i:s?i[h]:null;return l},this.IFN=function(t,e,i){return this.IF(t,i,e)},this.REF=function(t,e){var i=[];if("number"==typeof e){if(t.length<=0)return i;if(e>=t.length)return i;i=t.slice(0,t.length-e);for(var a=t[0],n=0;n<e;++n)i.unshift(a)}else for(var r=0;r<t.length;++r)if(i[r]=null,!(r>=e.length)){var o=e[r];i[r]=o>=0&&o<=r?t[r-o]:r?i[r-1]:t[r]}return i},this.REFV=function(t,e){var i=[];if("number"==typeof e){if(t.length<=0)return i;if(e>=t.length)return i;i=t.slice(0,t.length-e);for(var a=0;a<e;++a)i.unshift(null)}else for(var n=0;n<t.length;++n)if(i[n]=null,!(n>=e.length)){var r=e[n];r>=0&&r<=n&&(i[n]=t[n-r])}return i},this.REFX=function(t,e){var i=[];if("number"==typeof e){if(t.length<=0)return i;if(e>=t.length)return t.length>0?t[t.length-1]:i;i=t.slice(e,t.length);for(var a=t[t.length-1],n=0;n<e;++n)i.push(a)}else for(var r=t.length,o=0;o<t.length;++o)if(i[o]=null,!(o>=e.length)){var s=e[o];i[o]=s>=0&&s+o<r?t[o+s]:o?i[o-1]:t[o]}return i},this.REFXV=function(t,e){var i=[];if("number"==typeof e){if(t.length<=0)return i;if(e>=t.length)return i;i=t.slice(e,t.length);for(var a=0;a<e;++a)i.push(null)}else for(var n=t.length,r=0;r<t.length;++r)if(i[r]=null,!(r>=e.length)){var o=e[r];o>=0&&o+r<n&&(i[r]=t[r+o])}return i},this.MAX=function(t,e){if(0==t.length&&this.ThrowUnexpectedNode(e,"MAX() Error: 参数个数不能为0"),1==t.length)return t[0];var i=[],a=[];for(var n in t){var r=t[n];Ce.IsNumber(r)?a.push(r):Array.isArray(r)&&i.push(r)}var o=null;if(a.length>0){o=a[0];for(n=1;n<a.length;++n)o=Math.max(o,a[n])}var s=null;if(i.length>0){s=i[0].slice(0);for(n=1;n<i.length;++n){var l=i[n];for(var h in l){var u=s[h];r=l[h];Ce.IsNumber(u)&&(Ce.IsNumber(r)?s[h]=Math.max(u,r):s[h]=null)}}}if(null==s&&null!=o)return o;if(s&&null==o)return s;for(var n in s)Ce.IsNumber(s[n])&&(s[n]=Math.max(s[n],o));return s},this.MIN=function(t,e){if(0==t.length&&this.ThrowUnexpectedNode(e,"MIN() Error: 参数个数不能为0"),1==t.length)return t[0];var i=[],a=[];for(var n in t){var r=t[n];Ce.IsNumber(r)?a.push(r):Array.isArray(r)&&i.push(r)}var o=null;if(a.length>0){o=a[0];for(n=1;n<a.length;++n)o=Math.min(o,a[n])}var s=null;if(i.length>0){s=i[0].slice(0);for(n=1;n<i.length;++n){var l=i[n];for(var h in l){var u=s[h];r=l[h];Ce.IsNumber(u)&&(Ce.IsNumber(r)?s[h]=Math.min(u,r):s[h]=null)}}}if(null==s&&null!=o)return o;if(s&&null==o)return s;for(var n in s)Ce.IsNumber(s[n])&&(s[n]=Math.min(s[n],o));return s},this.ABS=function(t){var e=[];for(var i in t)e[i]=null,isNaN(t[i])||(e[i]=Math.abs(t[i]));return e},this.MA=function(t,e){var i=[];if(e<=0)return i;if(Array.isArray(e)){for(l=0;l<t.length;++l)if(i[l]=null,!(l>=e.length)){var a=e[l];if(this.IsNumber(a)&&!(a<=0)){for(var n=0,r=0,o=l,s=0;o>=0&&s<a;--o,++s)n+=t[o],++r;r>0&&(i[l]=n/r)}}}else{if(e<=0&&(e=1),!t||!t.length)return i;for(var l=0;l<t.length&&(i[l]=null,!this.IsNumber(t[l]));++l);t=t.slice(0);for(var h=0;l<t.length;++l,++h)if(h<e-1)i[l]=null;else{for(var u=t[l-(e-1)],c=0,d=e-1;d>=0;--d){var f=t[l-d];this.IsNumber(f)?u=f:(f=u,t[l-d]=f),c+=f}i[l]=c/e}}return i},this.EMA=function(t,e){var i=[];if(t.length<=0)return i;if(Array.isArray(e))for(var a=0;a<e.length;++a){var n=e[a];if(this.IsNumber(n)&&!((n=parseInt(n))<=0)){n>a+1&&(n=a+1);for(var r=[2/(n+1),(n-1)/(n+1)],o=null,s=null,l=0;l<n;++l){var h=t[a-(n-l-1)];this.IsNumber(h)||coninue,s=o=null==s?h:r[0]*h+r[1]*s}i[a]=o}}else{if(e<=0)return i;for(var u=0;u<t.length&&(null==t[u]||isNaN(t[u]));++u);var c=u,d=u+1;i[c]=t[c];for(a=u+1;a<t.length;++a,++c,++d)i[d]=(2*t[d]+(e-1)*i[c])/(e+1)}return i},this.XMA=function(t,e){for(var i=[],a=0;a<t.length&&!this.IsNumber(t[a]);++a);for(var n=parseInt((e-2)/2),r=0,o=0,s=0,l=a,h=0;l<t.length;++l){for(s=l+(e-n)-1,h=l-n-1;h<s;++h)h>=0&&h<t.length&&this.IsNumber(t[h])&&(r+=t[h],++o);i[l]=0!=o?r/o:null,r=0,o=0}return i},this.SMA=function(t,e,i){var a=[];if(Array.isArray(e))for(var n=0;n<e.length;++n){var r=e[n];if(this.IsNumber(r)&&!((r=parseInt(r))<=0)){r>n+1&&(r=n+1);for(var o=null,s=null,l=0;l<r;++l){var h=t[n-(r-l-1)];this.IsNumber(h)&&(null==o?(o=h,s=h):o=s=(i*h+(r-i)*o)/r)}a[n]=s}}else{n=0;for(var u=null;n<t.length;++n)if(null!=t[n]&&!isNaN(t[n])){u=t[n],a[n]=u;break}for(++n;n<t.length;++n)a[n]=(i*t[n]+(e-i)*u)/e,u=a[n]}return a},this.DMA=function(t,e){var i=[];if(t.length<0||t.length!=e.length)return i;for(var a=0;a<t.length;++a)if(null!=t[a]&&!isNaN(t[a])&&null!=e[a]&&!isNaN(e[a])){i[a]=t[a];break}for(a+=1;a<t.length;++a)null==t[a]||null==e[a]?i[a]=null:e[a]<1?i[a]=e[a]*t[a]+(1-e[a])*i[a-1]:i[a]=t[a];return i},this.WMA=function(t,e){var i=[];if(!t||!t.length)return i;if(Array.isArray(e)){for(c=0;c<e.length&&c<t.length;++c){i[c]=null;var a=e[c];if(!(a<=0)){for(var n=0,r=0,o=0,s=0;s<a;++s)if(r=t[c-(a-s-1)],n=s,this.IsNumber(r)){o=r;break}if(!(n>=a)){for(var l=0,h=0,u=(s=n,1);s<a;++s,++u)r=t[c-(a-s-1)],this.IsNumber(r)?o=r:r=o,h+=u,l+=r*u;i[c]=l/h}}}return i}if(e<=0)return[];var c=0;for(c=0;c<t.length&&!this.IsNumber(t[c]);++c)i[c]=null;t=t.slice(0);for(var d=0;c<t.length;++c,++d)if(d<e-1)i[c]=null;else{for(o=t[c-(e-1)],l=0,h=0,s=e-1;s>=0;--s){r=t[c-s];this.IsNumber(r)?o=r:(r=o,t[c-s]=r),h+=e-s,l+=r*(e-s)}i[c]=l/h}return i},this.MEMA=function(t,e){var i=[];if(!t||!t.length)return i;var a=0,n=0;for(n=0;n<t.length&&!this.IsNumber(t[n]);++n)i[n]=null;if(a=n,e<1||a+e>=t.length)return i;var r=0;for(t=t.slice(0);a<n+e;++a)i[a]=null,!this.IsNumber(t[a])&&a-1>=0&&(t[a]=t[a-1]),r+=t[a];for(i[a-1]=r/e;a<t.length;++a)this.IsNumber(i[a-1])&&this.IsNumber(t[a])?i[a]=(t[a]+i[a-1]*(e-1))/e:a-1>-1&&this.IsNumber(i[a-1])?i[a]=i[a-1]:i[a]=null;return i},this.EXPMA=function(t,e){var i=[];if(e>=t.length)return i;for(var a=e;a<t.length;++a)if(null!=t[a]){i[a]=t[a];break}for(a+=1;a<t.length;++a)null!=i[a-1]&&null!=t[a]?i[a]=(2*t[a]+(e-1)*i[a-1])/(e+1):null!=i[a-1]&&(i[a]=i[a-1]);return i},this.EXPMEMA=function(t,e){var i=[];if(e>=t.length)return i;for(var a=0;a<t.length&&(!t[a]||isNaN(t[a]));++a);for(var n=0,r=0;a<t.length&&r<e;++r,++a)t[a]&&!isNaN(t[a])?n+=t[a]:n+=t[a-1];for(i[a-1]=n/e;a<t.length;++a)null!=i[a-1]&&null!=t[a]?i[a]=(2*t[a]+(e-1)*i[a-1])/(e+1):null!=i[a-1]&&(i[a]=i[a-1]);return i},this.SUMBARS=function(t,e){var i=[];if(!(t&&t.length&&e&&e.length))return i;for(var a=0,n=0,r=0;a<t.length&&!this.IsNumber(t[a]);++a)i[a]=null;for(n=t.length-1;n>=a;--n){var o=0;for(r=n,o=0;r>=a&&o<e[n];--r)o+=t[r];i[n]=r<a?null:n-r}for(n=a+1;n<t.length;++n)null==i[n]&&(i[n]=i[n-1]);return i},this.REVERSE=function(t){if(this.IsNumber(t))return 0-t;for(var e=[],i=0;i<t.length&&!this.IsNumber(t[i]);++i)e[i]=null;for(;i<t.length;++i)this.IsNumber(t[i])?e[i]=0-t[i]:e[i]=null;return e},this.COUNT=function(t,e){if(Array.isArray(e)){for(var i=null,a=t.length,n=0;n<a;++n)if(this.IsNumber(t[n])){i=n;break}if(null==i)return[];var r=[],o=0;for(n=0;n<e.length;++n){var s=e[n];if(Ce.IsNumber(s)){s<1&&(s=n+1),o=0;for(var l=n,h=0;l>=0&&h<s;--l,++h)t[l]&&++o;r[n]=o}}return r}for(s=e,a=t.length,s=s<1?a:s,n=0,l=0;n<a&&!this.IsNumber(t[n]);++n);r=[];for(var u=0;n<a&&l<s;++n,++l)u=t[n]?u+1:u,r[n]=u;for(;n<a;++n)t[n-s]&&u&&u--,u=t[n]?u+1:u,r[n]=u;return r},this.HHV=function(t,e){var i=[];if(Array.isArray(e)){for(var a=null,n=0,r=0;n<t.length;++n)if(i[n]=null,!(n>=e.length)){a=null;var o=e[n];if(o>0&&o<=n)for(r=n-o;r<=n;++r)(null==a||a<t[r])&&(a=t[r]);else for(o=n,r=0;r<=n;++r)(null==a||a<t[r])&&(a=t[r]);i[n]=a}}else{if(!Ce.IsNonEmptyArray(t))return i;e<=0?e=t.length:e>t.length&&(e=t.length);var s=this.GetFirstVaildIndex(t);if(s>=t.length)return i;var l=s;l<t.length&&(i[l]=t[l]);for(n=l+1,r=2;n<t.length&&r<e;++n,++r)t[n]>=t[l]&&(l=n),i[n]=t[l];for(;n<t.length;++n){if(n-l<e)l=t[n]<t[l]?l:n;else for(r=l=n-e+1;r<=n;++r)l=t[r]<t[l]?l:r;i[n]=t[l]}}return i},this.HV=function(t,e){var i=this.HHV(t,e);return this.REF(i,1)},this.LLV=function(t,e){var i=[];if(Array.isArray(e)){for(var a=0;a<t.length;++a)if(i[a]=null,!(a>=e.length)){var n=null,r=e[a];if(r>0&&r<=a)for(var o=a-r;o<=a;++o)(null==n||n>t[o])&&(n=t[o]);else{r=a;for(o=0;o<=a;++o)(null==n||n>t[o])&&(n=t[o])}i[a]=n}}else{if(!Ce.IsNonEmptyArray(t))return i;e<=0?e=t.length:e>t.length&&(e=t.length);var s=this.GetFirstVaildIndex(t);if(s>=t.length)return i;var l=s;l<t.length&&(i[l]=t[l]);for(a=l+1,o=2;a<t.length&&o<e;++a,++o)t[a]<=t[l]&&(l=a),i[a]=t[l];for(;a<t.length;++a){if(a-l<e)l=t[a]>t[l]?l:a;else for(o=l=a-e+1;o<=a;++o)l=t[o]>t[l]?l:o;i[a]=t[l]}}return i},this.LV=function(t,e){var i=this.LLV(t,e);return this.REF(i,1)},this.STD=function(t,e){var i=[];if(!Array.isArray(t))return i;var a=this.GetFirstVaildIndex(t);if(!Ce.IsNumber(e))return i;if(a+e>t.length||e<1)return i;var n=a,r=0,o=!0,s=0,l=0;for(n+=e-1;n<t.length;++n){if(s=0,o){for(o=!1,r=n-e+1;r<=n;++r)l+=t[r];l/=e}else l+=(t[n]-t[n-e])/e;for(r=n-e+1;r<=n;++r)s+=(t[r]-l)*(t[r]-l);i[n]=Math.sqrt(s/(e-1))}return i},this.AVEDEV=function(t,e){for(var i=[],a=0,n=[],r=e-1;r<t.length;++r){a=0;for(var o=0;o<e;++o)a+=t[r-o];n[r]=a/e}for(r=e-1;r<t.length;++r){a=0;for(o=0;o<e;++o)a+=Math.abs(t[r-o]-n[r]);i[r]=a/e}return i},this.CROSS=function(t,e){var i=[];if(Array.isArray(t)&&Array.isArray(e)){if(t.length!=e.length)return[];for(var a=0;a<t.length&&(!this.IsNumber(t[a])||!this.IsNumber(e[a]));++a);for(++a;a<t.length;++a)i[a]=t[a]>e[a]&&t[a-1]<e[a-1]?1:0}else if(Array.isArray(t)&&"number"==typeof e){for(a=0;a<t.length&&!this.IsNumber(t[a]);++a);for(++a;a<t.length;++a)i[a]=t[a]>e&&t[a-1]<e?1:0}else if("number"==typeof t&&Array.isArray(e)){for(a=0;a<e.length&&!this.IsNumber(e[a]);++a);for(++a;a<e.length;++a)i[a]=e[a]<t&&e[a-1]>t?1:0}return i},this.CROSSDOWN=function(t,e){return this.CROSS(e,t)},this.CROSSUP=function(t,e){return this.CROSS(t,e)},this.MULAR=function(t,e){var i=[];if(Array.isArray(e))for(r=0;r<t.length;++r){i[r]=null;var a=e[r];if(this.IsNumber(a)&&!((a=parseInt(a))<0))for(o=r,s=0;o>=0&&s<a;--o,++s)0==s?i[r]=t[o]:i[r]*=t[o]}else{if(t.length<e)return i;if(0==e){for(var n=e;n<t.length;++n)if(this.IsNumber(t[n])){i[n]=t[n];break}for(++n;n<t.length;++n)i[n]=i[n-1]*t[n]}else for(var r=e-1,o=0;r<t.length;++r,++o)for(var s=0;s<e;++s)0==s?i[r]=t[s+o]:i[r]*=t[s+o]}return i},this.SUM=function(t,e){var i=[];if(Array.isArray(e))for(n=0;n<t.length;++n){i[n]=null;var a=e[n];if(a>0)for(r=n,o=0;r>=0&&o<a;--r,++o)0==o?i[n]=t[r]:i[n]+=t[r]}else if(0==e){i[0]=t[0];for(var n=1;n<t.length;++n)i[n]=i[n-1]+t[n]}else for(var n=e-1,r=0;n<t.length;++n,++r)for(var o=0;o<e;++o)0==o?i[n]=t[o+r]:i[n]+=t[o+r];return i},this.BARSCOUNT=function(t){var e=[],i=null;for(var a in t){if(e[a]=0,null==i){if(!this.IsNumber(t[a]))continue;i=0}e[a]=i,++i}return e},this.DEVSQ=function(t,e){if(this.IsNumber(t)&&this.IsNumber(e))return 0;var i=[];if(Array.isArray(t)){var a=null;if(Array.isArray(e)){for(var n=e.length-1;n>=0;--n)if(this.IsNumber(e[n])){a=parseInt(e[n]);break}}else a=parseInt(e);if(!this.IsNumber(a))return i;var r=t.length,o=(n=0,0),s=0,l=0,h=0;for(n=0;n<r&&!this.IsNumber(t[n]);++n)i[n]=null;if(a<1||n+a>r)return i;for(l=0;n<r&&o<a;++n,++o)l+=t[n]/a;if(o==a){for(h=0,n--;s<a;s++)h+=(t[n-s]-l)*(t[n-s]-l);i[n]=h,n++}for(;n<r;++n){for(l+=(t[n]-t[n-a])/a,h=0,s=0;s<a;++s)h+=(t[n-s]-l)*(t[n-s]-l);i[n]=h}}return i},this.NOT=function(t){if("number"==typeof t)return t?0:1;var e=[];for(var i in t)e[i]=null,this.IsNumber(t[i])&&(e[i]=t[i]?0:1);return e},this.FORCAST=function(t,e){var i=[];"number"!=typeof e&&(e=parseInt(e));var a=e,n=t.length;if(a<1||a>=n)return i;var r,o,s,l,h,u=0,c=0,d=0,f=0;for(l=0;l<n&&!this.IsNumber(t[l]);++l)i[l]=null;for(s=l+a-1;s<n;++s){for(u=c=d=f=0,l=0,h=a;l<a&&l<=s;++l,--h)u+=h,c+=t[s-l];for(u/=a,c/=a,l=0,h=a;l<a&&l<=s;++l,--h)d+=(h-u)*(t[s-l]-c),f+=(h-u)*(h-u);r=c-u*(o=d/f),i[s]=o*a+r}return i},this.TSMA=function(t,e){var i=[];"number"!=typeof e&&(e=parseInt(e));var a=e,n=t.length;if(a<1||a>=n)return i;var r,o,s,l,h,u=0,c=0,d=0,f=0;for(l=0;l<n&&!this.IsNumber(t[l]);++l)i[l]=null;for(s=l+a-1;s<n;++s){for(u=c=d=f=0,l=0,h=a;l<a&&l<=s;++l,--h)u+=h,c+=t[s-l];for(u/=a,c/=a,l=0,h=a;l<a&&l<=s;++l,--h)d+=(h-u)*(t[s-l]-c),f+=(h-u)*(h-u);r=c-u*(o=d/f),i[s]=o*a+r+o}return i},this.SLOPE=function(t,e){var i=[];if("number"!=typeof e&&(e=parseInt(e)),e<1||!t.length)return i;if(e>=t.length)return i;for(var a=0,n=0;n<t.length&&(i[n]=null,!this.IsNumber(t[n]));++n,++a);for(var r=void 0,o=void 0,s=void 0,l=void 0,h=a+e-1;h<t.length;++h){i[h]=null,r=o=s=l=0;for(var u=0;u<e&&u<=h;++u)r+=h-u,o+=t[h-u];for(r/=e,o/=e,u=0;u<e&&u<=h;++u)s+=(h-u-r)*(t[h-u]-o),l+=(h-u-r)*(h-u-r);l?i[h]=s/l:h&&(i[h]=i[h-1])}return i},this.STDP=function(t,e){var i=[];if(!Array.isArray(t))return i;var a=this.GetFirstVaildIndex(t);if(!Ce.IsNumber(e))return i;if(a+e>t.length||e<1)return i;var n=a,r=0,o=!0,s=0,l=0;for(n+=e-1;n<t.length;++n){if(s=0,o){for(o=!1,r=n-e+1;r<=n;++r)l+=t[r];l/=e}else l+=(t[n]-t[n-e])/e;for(r=n-e+1;r<=n;++r)s+=(t[r]-l)*(t[r]-l);i[n]=Math.sqrt(s/e)}return i},this.VAR=function(t,e){if(this.IsNumber(t)&&this.IsNumber(e))return 0;var i=[];if(Array.isArray(t)&&this.IsNumber(e)){var a,n=parseInt(e),r=t.length;if(n<=0||n>=r)return i;for(o=0;o<r&&!this.IsNumber(t[o]);++o)i[o]=null;for(l=0,o=o+n-1;o<r;++o){for(s=a=0,l=0;l<n&&l<=o;++l)s+=t[o-l]*t[o-l],a+=t[o-l];i[o]=(n*s-a*a)/n*(n-1)}}else if(Array.isArray(t)&&Array.isArray(e))for(var o=this.GetFirstVaildIndex(t);o<t.length;++o){var s=a=0;if(this.IsNumber(e[o]))if(!((n=parseInt(e[o]))<=0||o-(n-1)<0)){for(var l=0;l<n;++l)s+=t[o-l]*t[o-l],a+=t[o-l];i[o]=(n*s-a*a)/n*(n-1)}}return i},this.VARP=function(t,e){var i=[];"number"!=typeof e&&(e=parseInt(e));var a=e,n=t.length;if(a<1||a>=n)return i;var r=0,o=0;for(r=0;r<n&&!this.IsNumber(t[r]);++r)i[r]=null;for(var s=0,l=0;r<n&&o<a;++r,++o)s+=t[r]*t[r],l+=t[r];for(o==a&&(i[r-1]=(a*s-l*l)/(a*a));r<n;++r)s+=t[r]*t[r]-t[r-a]*t[r-a],l+=t[r]-t[r-a],i[r]=(a*s-l*l)/(a*a);return i},this.RANGE=function(t,e,i){var a="number"==typeof e,n="number"==typeof i;if("number"==typeof t&&a&&n)return t>Math.min(e,i)&&t<Math.max(e,i)?1:0;for(var r=[],o=void 0,s=void 0,l=0;l<t.length;++l)if(r[l]=null,o=t[l],this.IsNumber(o)){if(a)s=e;else{if(l>=e.length)continue;s=e[l]}if(this.IsNumber(s)){if(n)rangeValue2=i;else{if(l>=i.length)continue;rangeValue2=i[l]}this.IsNumber(rangeValue2)&&(r[l]=o>Math.min(s,rangeValue2)&&o<Math.max(s,rangeValue2)?1:0)}}return r},this.EXIST=function(t,e){if("number"==typeof t)return 0;if(Array.isArray(e)){var i=[];if(t.length<=0)return i;for(var a in t)i[a]=0;for(a=0;a<e.length&&a<t.length;++a){var n=e[a];if(this.IsNumber(n)&&!((n=parseInt(n))<=0)){n>a+1&&(n=a+1);for(var r=!1,o=0,s=0;s<n;++s)if(a-(n-s-1),o=t[a],this.IsNumber(o)&&o>0){r=!0;break}i[a]=r?1:0}}return i}e=parseInt(e);for(var l=null,h=(i=[],0);h<t.length;++h)i[h]=null,o=t[h],this.IsNumber(o)&&o>0&&(l=h),i[h]=null!=l&&h-l<e?1:0;return i},this.TFILTER=function(t,e,i){if(!this.IsNumber(i))return[];if(1==i)return this.And(t,this.EQ(this.COUNT(t,this.BARSLAST(e)),1));if(2==i)return this.And(e,this.EQ(this.COUNT(e,this.BARSLAST(t)),1));if(0==i){for(var a=this.And(e,this.EQ(this.COUNT(e,this.BARSLAST(t)),1)),n=this.And(e,this.EQ(this.COUNT(e,this.BARSLAST(t)),1)),r=0;r<a.length;++r){n[r]>0&&(a[r]=2)}return a}return[]},this.FILTER=function(t,e){for(var i=[],a=0,n=0;a<t.length;++a)if(t[a]){for(i[a]=1,n=0;n<e&&n+a+1<t.length;++n)i[n+a+1]=0;a+=e}else i[a]=0;return i},this.BARSLAST=function(t){var e=[];if(!t)return e;for(var i=null,a=0;a<t.length;++a)e[a]=null,t[a]>0?i=0:null!=i&&++i,null!=i&&(e[a]=i);return e},this.BARSSINCEN=function(t,e){var i=[];if(this.IsNumber(e)&&Array.isArray(t)){var a=e;a<1&&(a=t.length);var n=this.GetFirstVaildIndex(t);if(n>=t.length)return i;var r=0;for(i[r=n<=a-1?a-1:n]=r-n;r<t.length;++r)if(this.IsNumber(i[r-1])){if(i[r-1]+1<a)i[r]=i[r-1]+1;else for(var o=r-a+1;o<=r;++o)if(!(Math.abs(t[o])<1e-6)){i[r]=r-o;break}}else Math.abs(t[r])<1e-6||(i[r]=0)}return i},this.BARSSINCE=function(t){for(var e=[],i=null,a=0;a<t.length;++a)e[a]=null,null==i?t[a]&&(i=0):++i,i&&(e[a]=i);return e},this.Trigonometric=function(t,e){if(Array.isArray(t)){var i=[];for(var a in t){var n=t[a];this.IsNumber(n)?i[a]=e(n):i[a]=null}return i}return this.IsNumber(t)?e(t):null},this.ASIN=function(t){if(Array.isArray(t)){var e=[];for(var i in t){var a=t[i];if(e[i]=null,this.IsNumber(a))if(a>=-1&&a<=1)e[i]=Math.asin(a);else if(i-1>=0){var n=e[i-1];this.IsNumber(n)&&(e[i]=n)}}return e}return this.IsNumber(t)?Math.acos(t):null},this.ACOS=function(t){if(Array.isArray(t)){var e=[];for(var i in t){var a=t[i];if(e[i]=null,this.IsNumber(a))if(a>=-1&&a<=1)e[i]=Math.acos(a);else if(i-1>=0){var n=e[i-1];this.IsNumber(n)&&(e[i]=n)}}return e}return this.IsNumber(t)?Math.acos(t):null},this.LAST=function(t,e,i){if(!Array.isArray(t))return[];for(var a=[],n=t.length,r=e,o=i,s=0,l=0,h=0,u=0;s<n&&!t[s];++s);for(l=s,u=s-o+1;l<n;++l,++u){for(h=0==r?s:Math.max(s,l-r);h<u&&!(t[h]<=0);++h);a[l]=h<u?0:1}return a},this.ZIG=function(t,e){var i=this.SymbolData.Data;if("number"==typeof t)switch(t){case 0:t=i.GetOpen();break;case 1:t=i.GetHigh();break;case 2:t=i.GetLow();break;case 3:t=i.GetClose();break;default:return[]}return this.ZIG_Calculate(t,e)},this.GetFirstVaildIndex=function(t){for(var e=0;e<t.length;++e)if(this.IsNumber(t[e]))return e;return t.length},this.ZIG_Calculate=function(t,e){var i=[],a=t.length,n=this.GetFirstVaildIndex(t),r=0,o=0,s=0,l=0,h=0;for(r=n+1,o=s=n;r<a-1&&s==n;++r)s=100*Math.abs(t[r]-t[n])>=e*t[n]?t[r]>t[n]?r:-r:n;for(;r<a-1;++r)if(t[r]>=t[r-1]&&t[r]>=t[r+1])if(s<0){if(100*(t[r]-t[-s])<e*t[-s])continue;for(h=(t[o]-t[l=-s])/(-s-o),i[l--]=t[-s];l>=o;l--)i[l]=t[-s]+(-s-l)*h;o=-s,s=r}else t[r]>t[s]&&(s=r);else if(t[r]<=t[r-1]&&t[r]<=t[r+1])if(s>0){if(100*(t[s]-t[r])<e*t[s])continue;for(h=(t[s]-t[l=o])/(s-o),i[l++]=t[o];l<=s;++l)i[l]=t[o]+(l-o)*h;o=s,s=-r}else t[r]<t[-s]&&(s=-r);if(Math.abs(s)>=a-2&&(s>0&&t[a-1]>=t[s]&&(s=a-1),s<0&&t[a-1]<=t[-s]&&(s=1-a)),s>0)for(h=(t[s]-t[l=o])/(s-o),i[l++]=t[o];l<=s;++l)i[l]=t[o]+(l-o)*h;else for(h=(t[o]-t[l=-s])/(-s-o),i[l--]=t[-s];l>=o;l--)i[l]=t[-s]+(-s-l)*h;if((s=Math.abs(s))<a-1)if(t[a-1]>=t[s])for(h=(t[a-1]-t[l=s])/(a-s),i[l++]=t[s];l<a;++l)i[l]=t[s]+(l-s)*h;else for(h=(t[s]-t[l=a-1])/(a-s),i[l--]=t[a-1];l>=s;l--)i[l]=t[a-1]+(a-l)*h;return i},this.JSDraw=null,this.CalculateZIGLine=function(t,e,i,a,n){null==this.JSDraw&&(this.JSDraw=new $i(this.ErrorHandler));var r=t;if(e.Up)for(var o=t.ID+1;o<i.ID;++o){var s=a[o];this.IsNumber(s)&&(r.Value<s&&(r={ID:o,Value:s}))}else for(o=t.ID+1;o<i.ID;++o){s=a[o];this.IsNumber(s)&&(r.Value>s&&(r={ID:o,Value:s}))}e.Value=r.Value,e.ID=r.ID;var l={Start:{ID:t.ID,Value:t.Value},End:{ID:e.ID,Value:e.Value}},h=this.JSDraw.CalculateDrawLine(l);for(var o in h){n[(u=h[o]).ID]=u.Value}if(i.ID==a.length-1)for(var o in l={Start:{ID:e.ID,Value:e.Value},End:{ID:i.ID,Value:i.Value}},h=this.JSDraw.CalculateDrawLine(l)){var u;n[(u=h[o]).ID]=u.Value}else t.ID=e.ID,t.Value=e.Value,e.ID=i.ID,e.Value=i.Value,e.Up=t.Value<e.Value},this.TROUGHBARS=function(t,e,i){var a=this.ZIG(t,e),n=[],r=i;if(r<1)return n;for(var o=a.length,s=[],l=0;l<r;++l)s[l]=0;var h=0;l=this.GetFirstVaildIndex(a)+1;for(r--;l<o&&a[l]>a[l-1];++l);for(;l<o&&a[l]<a[l-1];++l);for(s[0]=--l;l<o-1;++l){if(a[l]<a[l+1]){if(h){if(r)for(var u=s.slice(0),c=0;c<r;++c)s[c+1]=u[c];s[h=0]=l}}else h=1;s[r]&&(n[l]=l-s[r])}return s[r]&&(n[l]=l-s[r]),n},this.TROUGH=function(t,e,i){var a=this.ZIG(t,e),n=[],r=i;if(r<1)return n;for(var o=a.length,s=[],l=0;l<r;++l)s[l]=0;l=1;var h=0;l=this.GetFirstVaildIndex(a)+1;for(r--;l<o&&a[l]>a[l-1];++l);for(;l<o&&a[l]<a[l-1];++l);for(s[0]=--l;l<o-1;++l){if(a[l]<a[l+1]){if(h){if(r)for(var u=s.slice(0),c=0;c<r;++c)s[c+1]=u[c];s[h=0]=l}}else h=1;s[r]&&(n[l]=a[s[r]])}return s[r]&&(n[l]=a[s[r]]),n},this.PEAKBARS=function(t,e,i){var a=this.ZIG(t,e),n=[],r=a.length,o=i;if(o<1)return n;for(var s=[],l=0;l<o;++l)s[l]=0;var h=0;l=this.GetFirstVaildIndex(a)+1;for(o--;l<r&&a[l]<a[l-1];++l);for(;l<r&&a[l]>a[l-1];++l);for(s[0]=--l;l<r-1;++l){if(a[l]>a[l+1]){if(h){if(o)for(var u=s.slice(0),c=0;c<o;++c)s[c+1]=u[c];s[h=0]=l}}else h=1;s[o]&&(n[l]=l-s[o])}return s[o]&&(n[l]=l-s[o]),n},this.PEAK=function(t,e,i){var a=this.ZIG(t,e),n=[],r=a.length,o=i;if(o<1)return n;for(var s=0,l=[],h=0;h<o;++h)l[h]=0;h=this.GetFirstVaildIndex(a)+1;for(o--;h<r&&a[h]<a[h-1];++h);for(;h<r&&a[h]>a[h-1];++h);for(l[0]=--h;h<r-1;++h){if(a[h]>a[h+1]){if(s){if(o)for(var u=l.slice(0),c=0;c<o;++c)l[c+1]=u[c];l[s=0]=h}}else s=1;l[o]&&(n[h]=a[l[o]])}return l[o]&&(n[h]=a[l[o]]),n},this.EVERY=function(t,e){var i=[];if(e<1)return i;for(var a=0;a<t.length&&(i[a]=null,!this.IsNumber(t[a]));++a);for(var n=0;a<t.length;++a)t[a]?n+=1:n=0,n==e?(i[a]=1,--n):i[a]=0;return i},this.COST=function(t,e){var i=[],a=t/100;if(a<1e-6||a>1)return i;var n=this.SymbolData.Data.Data;if(!n||n.length<=0)return i;for(var r=this.SymbolData.GetStockCacheData({FunctionName:"FINANCE",Args:[7],ArgCount:1,Node:e}),o=n[0].High,s=n[0].Low,l=0;l<n.length;++l){var h=n[l];s=Math.min(s,h.Low),o=Math.max(o,h.High)}(s>2e3||s<0||o>2e3||s<0)&&this.ThrowUnexpectedNode(e,"COST() 历史K线最大最小值错误, 超出(0,1000)范围");var u=parseInt(100*o+1),c=parseInt(100*s-1),d=0,f=0,p=0;o=u/100,s=c/100;var m=u-c+1;if(m<1)return i;var v=[],g=[];for(l=0;l<m;++l)v[l]=0,g[l]=0;var C=0,D=0,y=0,x=0;for(l=0;l<n.length;++l)if(!(l>=r.length)){if(r[l]>1){var S=n[l];C=S.Vol/r[l];for(var I=0;I<m;I++)v[I]*=1-C;d=parseInt(Math.min(u,Math.max(c,100*S.Low)))-c,f=parseInt(Math.min(u,Math.max(c,100*S.High)))-c,p=parseInt(Math.min(u,Math.max(c,100*S.Close)))-c;for(I=0;I<m;++I)g[I]=0;var T=parseInt((d+f+2*p)/4);if(T==f||T==d)g[T]+=S.Vol;else{for(var b=S.Vol/(T-d),w=d;w<T;++w)g[w]+=b/(T-d)*(w-d);for(;w<=f;++w)g[w]+=b/(T-f)*(w-f)}for(D=0,I=d;I<=f;I++)v[I]+=g[I];for(I=0;I<m;I++)D+=v[I];for(I=0,x=y=0;I<m;++I)if((y+=v[I])>=D*a){x=(o-s)*I/m+s;break}}i[l]=x}return i},this.WINNER=function(t,e){var i=[],a=this.SymbolData.Data.Data;if(!a||a.length<=0)return i;for(var n=this.SymbolData.GetStockCacheData({FunctionName:"FINANCE",Args:[7],ArgCount:1,Node:e}),r=a[0].High,o=a[0].Low,s=0;s<a.length;++s){var l=a[s];o=Math.min(o,l.Low),r=Math.max(r,l.High)}(o>5e3||o<0||r>5e3||o<0)&&this.ThrowUnexpectedNode(e,"WINNER() 历史K线最大最小值错误, 超出(0,5000)范围");var h=parseInt(100*r+1),u=parseInt(100*o-1),c=0,d=0,f=0;r=h/100,o=u/100;var p=h-u+1;if(p<1)return i;var m=[],v=[];for(s=0;s<p;++s)m[s]=0,v[s]=0;var g=0,C=0,D=0;for(s=0;s<a.length;++s)if(!(s>=n.length)&&n[s]>1){var y=a[s];g=y.Vol/n[s];for(var x=0;x<p;x++)m[x]*=1-g;c=parseInt(Math.min(h,Math.max(u,100*y.Low)))-u,d=parseInt(Math.min(h,Math.max(u,100*y.High)))-u,f=parseInt(Math.min(h,Math.max(u,100*y.Close)))-u;for(x=0;x<p;++x)v[x]=0;var S=parseInt((c+d+2*f)/4);if(S==d||S==c)v[S]+=y.Vol;else{for(var I=y.Vol/(S-c),T=c;T<S;++T)v[T]+=I/(S-c)*(T-c);for(;T<=d;++T)v[T]+=I/(S-d)*(T-d)}for(C=0,x=c;x<=d;x++)m[x]+=v[x];for(x=0;x<p;x++)C+=m[x];d=Array.isArray(t)?parseInt(Math.min(100*t[s]-u,p-1)):parseInt(Math.min(100*t-u,p-1));for(x=0,D=0;x<=d;x++)D+=m[x];C>0?i[s]=D/C:s-1>=0&&(i[s]=i[s-1])}return i},this.COSTEX=function(t,e,i){var a=[],n=this.SymbolData.Data.Data;if(!n||n.length<=0)return a;for(var r=this.SymbolData.GetStockCacheData({FunctionName:"FINANCE",Args:[7],ArgCount:1,Node:i}),o=n[0].High,s=n[0].Low,l=0;l<n.length;++l){var h=n[l];s=Math.min(s,h.Low),o=Math.max(o,h.High)}(s>5e3||s<0||o>5e3||s<0)&&this.ThrowUnexpectedNode(i,"COSTEX() 历史K线最大最小值错误, 超出(0,5000)范围");var u=parseInt(100*o+1),c=parseInt(100*s-1),d=0,f=0,p=0;o=u/100,s=c/100;var m=u-c+1;if(m<1)return a;var v=[],g=[];for(l=0;l<m;++l)v[l]=0,g[l]=0;for(var C=0,D=0,y=0,x=0,S=0,I=0,T=(l=0,0);l<n.length;++l)if(!(l>=r.length)&&r[l]>1){var b=n[l];C=b.Vol/r[l];for(T=0;T<m;T++)v[T]*=1-C;d=parseInt(Math.min(u,Math.max(c,100*b.Low)))-c,f=parseInt(Math.min(u,Math.max(c,100*b.High)))-c,p=parseInt(Math.min(u,Math.max(c,100*b.Close)))-c;for(T=0;T<m;++T)g[T]=0;var w=parseInt((d+f+2*p)/4);if(w==f||w==d)g[w]+=b.Vol;else{for(var M=b.Vol/(w-d),E=d;E<w;++E)g[E]+=M/(w-d)*(E-d);for(;E<=f;++E)g[E]+=M/(w-f)*(E-f)}0;for(T=d;T<=f;T++)v[T]+=g[T];for(T=0;T<m;T++)v[T];for(f=Array.isArray(t)?parseInt(Math.min(100*t[l]-c,m-1)):parseInt(Math.min(100*t-c,m-1)),T=0,y=0,x=0;T<=f;T++)y+=v[T],x+=.01*(T+c)*v[T];for(f=Array.isArray(e)?parseInt(Math.min(100*e[l]-c,m-1)):parseInt(Math.min(100*e-c,m-1)),T=0,S=0,I=0;T<=f;T++)S+=v[T],I+=.01*(T+c)*v[T];D=y-S,dPerVolRange=x-I,Math.abs(dPerVolRange)>.001&&0!=D?a[l]=dPerVolRange/D:l-1>=0&&(a[l]=a[l-1])}return a},this.PPART=function(t,e){var i=[],a=t;if(a<0)return i;var n=this.SymbolData.Data.Data;if(!n||n.length<=0)return i;for(var r=this.SymbolData.GetStockCacheData({FunctionName:"FINANCE",Args:[7],ArgCount:1,Node:e}),o=a,s=0;o<n.length;++o){var l=o-a;if(!(l<0)){var h=0;for(s=0;s<a;++s){h+=n[s+l].Vol}if(o<r.length&&r[o]>0){var u=1-h/r[o];i[o]=u}}}return i},this.LWINNER=function(t,e,i){var a=t;a<=0&&this.ThrowUnexpectedNode(i,"LWINNER() 第1个参数错误");var n=[],r=this.SymbolData.Data.Data;if(!r||r.length<=0)return n;for(var o=this.SymbolData.GetStockCacheData({FunctionName:"FINANCE",Args:[7],ArgCount:1,Node:i}),s=0,l=0,h=a-1,u=0,c=0;h<r.length;++h){var d=h-a+1,f=r[d].High,p=r[d].Low;for(u=0;u<a;++u){var m=r[d+u];p=Math.min(p,m.Low),f=Math.max(f,m.High)}(p>5e3||p<0||f>5e3||p<0)&&this.ThrowUnexpectedNode(i,"LWINNER() 历史K线最大最小值错误, 超出(0,5000)范围");var v=parseInt(100*f+1),g=parseInt(100*p-1),C=0,D=0,y=0;f=v/100,p=g/100;var x=v-g+1;if(x<1)return n;var S=[],I=[];for(u=0;u<x;++u)S[u]=0,I[u]=0;for(u=0;u<a;++u){var T=o[d+u];if(!(T<1)){var b=r[d+u],w=b.Vol/T;for(c=0;c<x;c++)S[c]*=1-w;C=parseInt(Math.min(v,Math.max(g,100*b.Low)))-g,D=parseInt(Math.min(v,Math.max(g,100*b.High)))-g,y=parseInt(Math.min(v,Math.max(g,100*b.Close)))-g;for(c=0;c<x;++c)I[c]=0;var M=parseInt((C+D+2*y)/4);if(M==D||M==C)I[M]+=b.Vol;else{for(var E,A=b.Vol/(M-C),_=C;_<M;++_)I[_]+=A/(M-C)*(_-C);for(;E<=D;++E)I[E]+=A/(M-D)*(E-D)}s=0;for(c=C;c<=D;c++)S[c]+=I[c]}}for(u=0;u<x;u++)s+=S[u];for(D=Array.isArray(e)?parseInt(Math.min(100*e[h]-g,x-1)):parseInt(Math.min(100*e-g,x-1)),l=0,c=0;c<=D;c++)l+=S[c];s>0&&l>0&&l<=s?n[h]=l/s:h-1>=0&&(n[h]=n[h-1])}return n},this.PWINNER=function(t,e,i){return[]},this.CalculateChip=function(t,e,i,a){for(var n={Min:null,Max:null,Data:[]},r=1,o=null,s=null,l=t;l>=0;--l){var h={},u=i[l];h.Vol=l==t?u.Vol*e[l]:u.Vol*r,h.Date=u.Date,h.High=u.High,h.Low=u.Low,null==o?o=h.High:o<h.High&&(o=h.High),null==s?s=h.Low:s<h.Low&&(s=h.Low),n.Data[l]=h,r*=1-e[l]/100*a}return n.Max=o,n.Min=s,n},this.UPNDAY=function(t,e){var i=[];if(e<1)return i;if(null==t||e>t.length)return i;for(var a=0,n=0;n<t.length;++n)i[n]=0,n-1<0||(this.IsNumber(t[n])&&this.IsNumber(t[n-1])?(t[n]>t[n-1]?++a:a=0,a==e&&(i[n]=1,--a)):a=0);return i},this.DOWNNDAY=function(t,e){var i=[];if(e<1)return i;if(null==t||e>t.length)return i;for(var a=0,n=0;n<t.length;++n)i[n]=0,n-1<0||(this.IsNumber(t[n])&&this.IsNumber(t[n-1])?(t[n]<t[n-1]?++a:a=0,a==e&&(i[n]=1,--a)):a=0);return i},this.NDAY=function(t,e,i){var a=[];if(i<1)return a;if(!Array.isArray(t)&&!Array.isArray(e))return a;if(null==t||null==e)return a;if(Array.isArray(t)&&Array.isArray(e)){if(i>=t.length||i>=e.length)return a;for(var n=Math.max(t.length,e.length),r=0,o=0;o<n;++o)a[o]=0,o>=t.length||o>=e.length||(this.IsNumber(t[o])&&this.IsNumber(e[o])?(t[o]>e[o]?++r:r=0,r==i&&(a[o]=1,--r)):r=0)}else if(Array.isArray(t)&&!Array.isArray(e)){if(i>=t.length||!this.IsNumber(e))return;r=0;for(var s in t)a[s]=0,this.IsNumber(t[s])?(t[s]>e?++r:r=0,r==i&&(a[s]=1,--r)):r=0}else if(!Array.isArray(t)&&Array.isArray(e)){if(i>=e.length||!this.IsNumber(t))return;r=0;for(var l in e)a[l]=0,this.IsNumber(e[l])?(t>e[l]?++r:r=0,r==i&&(a[l]=1,--r)):r=0}return a},this.LONGCROSS=function(t,e,i){for(var a=[],n=Math.max(t.length,e.length),r=0;r<n;++r)a[r]=0,r-1<0||r>=t.length||r>=e.length||this.IsNumber(t[r])&&this.IsNumber(e[r])&&this.IsNumber(t[r-1])&&this.IsNumber(e[r-1])&&t[r]>e[r]&&t[r-1]<e[r-1]&&(a[r]=1);for(var o=0,s=0;o<n;++o)if(a[o])for(s=1;s<=i&&o-s>=0;++s)if(t[o-s]>=e[o-s]){a[o]=0;break}return a},this.EXISTR=function(t,e,i){var a=[];if(!Array.isArray(t))return a;if(e=parseInt(e),i=parseInt(i),e<=0&&(e=t.length),i<=0&&(i=1),i>e)return a;a=[];for(var n=0,r=0;n<t.length;++n)if(a[n]=null,!(n-e<0||n-i<0))for(a[n]=0,r=e;r>=i;--r){var o=t[n-r];if(this.IsNumber(o)&&o){a[n]=1;break}}return a},this.RELATE=function(t,e,i){var a=[];if(i<1&&(i=1),!Array.isArray(t)||!Array.isArray(e))return a;for(var n=this.CalculateAverage(t,i),r=this.CalculateAverage(e,i),o=Math.max(t.length,e.length),s=0,l=0;s<o;++s)if(a[s]=null,!(s>=t.length||s>=e.length||s>=n.length||s>=r.length)){var h=n[s],u=r[s],c=0,d=0,f=0;for(l=s-i+1;l<=s;++l)c+=(t[l]-h)*(e[l]-u),d+=Math.pow(t[l]-h,2),f+=Math.pow(e[l]-u,2);a[s]=c/i/(Math.sqrt(d/i)*Math.sqrt(f/i))}return a},this.CalculateAverage=function(t,e){var i=[];if(e<1)return i;for(var a=0,n=0;n<t.length&&!this.IsNumber(t[n]);++n);for(;n<t.length&&n<e;++n){i[n]=null;var r=t[n];this.IsNumber(r)&&(a+=r)}for(i[n-1]=a/e;n<t.length;++n){r=t[n];var o=t[n-e];this.IsNumber(r)||(r=0),this.IsNumber(o)||(o=0),a=a-o+r,i[n]=a/e}return i},this.COVAR=function(t,e,i){if(this.IsNumber(t)||this.IsNumber(e))return 0;var a=[];if(i<1&&(i=1),!Array.isArray(t)||!Array.isArray(e))return a;for(var n=this.CalculateAverage(t,i),r=this.CalculateAverage(e,i),o=Math.max(t.length,e.length),s=(o=Math.max(t.length,e.length),0),l=0;s<o;++s)if(a[s]=null,!(s>=t.length||s>=e.length||s>=n.length||s>=r.length)){var h=n[s],u=r[s],c=0;for(l=s-i+1;l<=s;++l)c+=(t[l]-h)*(e[l]-u);a[s]=c/i}return a},this.HHVBARS=function(t,e){var i=[];if(!Array.isArray(t))return i;if(Array.isArray(e))for(var a=0;a<e.length;++a){i[a]=null;var n=e[a];if(this.IsNumber(n)){var r=a-n;r<0&&(r=0);for(var o=null,s=r;s<t.length;++s)if(this.IsNumber(t[s])){o=s;break}for(var l=0;s<t.length&&l<n;++l,++s)t[s]>=t[o]&&(o=s);null!=o&&(i[a]=a-o)}}else{e<1&&(e=t.length);for(o=null,a=0;a<t.length;++a)if(i[a]=null,this.IsNumber(t[a])){o=a;break}s=0;for(a=o+1;a<t.length&&s<e;++a,++s)t[a]>=t[o]&&(o=a),e==t.length&&(i[a]=a-o);for(;a<t.length;++a){if(a-o<e)t[a]>=t[o]&&(o=a);else for(s=o=a-e+1;s<=a;++s)t[s]>=t[o]&&(o=s);i[a]=a-o}}return i},this.LLVBARS=function(t,e){var i=[];if(!Array.isArray(t))return i;if(Array.isArray(e))for(var a=0;a<e.length;++a){i[a]=null;var n=e[a];if(this.IsNumber(n)){var r=a-n;r<0&&(r=0);for(var o=null,s=r;s<t.length;++s)if(this.IsNumber(t[s])){o=s;break}for(var l=0;s<t.length&&l<n;++l,++s)t[s]<=t[o]&&(o=s);null!=o&&(i[a]=a-o)}}else{e<1&&(e=t.length);for(o=null,a=0;a<t.length;++a)if(i[a]=null,this.IsNumber(t[a])){o=a;break}s=0;for(a=o+1;a<t.length&&s<e;++a,++s)t[a]<=t[o]&&(o=a),e==t.length&&(i[a]=a-o);for(;a<t.length;++a){if(a-o<e)t[a]<=t[o]&&(o=a);else for(s=o=a-e+1;s<=a;++s)t[s]<=t[o]&&(o=s);i[a]=a-o}}return i},this.BETA=function(t){var e=[],i=this.SymbolData.Data,a=this.SymbolData.IndexData;t<=0&&(t=1);for(var n=[],r=[],o=0;o<i.Data.length;++o){n[o]=0,r[o]=0;var s=i.Data[o],l=a.Data[o];s.Close>0&&s.YClose>0&&(n[o]=(s.Close-s.YClose)/s.YClose),l.Close>0&&l.YClose>0&&(r[o]=(l.Close-l.YClose)/l.YClose)}for(var h=this.CalculateAverage(n,t),u=this.CalculateAverage(r,t),c=0,d=0;c<i.Data.length;++c)if(e[c]=null,!(c>=n.length||c>=r.length||c>=h.length||c>=u.length)){var f=h[c],p=u[c],m=0,v=0;for(d=c-t+1;d<=c;++d){var g=r[d]-p;m+=g*(n[d]-f),v+=g*g}this.IsDivideNumber(v)&&this.IsNumber(m)&&(e[c]=m/v)}return e},this.BETA2=function(t,e,i){var a=[];i<=0&&(i=1);for(var n=[null],r=[null],o=Math.max(t.length,e.length),s={X:t[0],Y:e[0]},l=1;l<o;++l){n[l]=0,r[l]=0;var h=t[l],u=e[l];s.X>0&&(n[l]=(h-s.X)/s.X),s.Y>0&&(r[l]=(u-s.Y)/s.Y),s={X:h,Y:u}}for(var c=this.CalculateAverage(n,i),d=this.CalculateAverage(r,i),f=(l=0,0);l<o;++l)if(a[l]=null,!(l>=n.length||l>=r.length||l>=c.length||l>=d.length)){var p=c[l],m=d[l],v=0,g=0;for(f=l-i+1;f<=l;++f){var C=n[f]-p;v+=C*(r[f]-m),g+=C*C}this.IsDivideNumber(g)&&this.IsNumber(v)&&(a[l]=v/g)}return a},this.SAR=function(t,e,i){var a=[],n=this.SymbolData.Data;if(t>=n.Data.length)return a;for(var r=null,o=null,s=0;s<t;++s){var l=n.Data[s];null==r?r=l.High:r<l.High&&(r=l.High),null==o?o=l.Low:o>l.Low&&(o=l.Low)}var h=0;a[t-1]=o;var u=o,c=n.Data[0].High,d=e/100;for(s=t;s<n.Data.length;++s){var f=c,p=(l=n.Data[s],n.Data[s-1]);0==h?l.Low<a[s-1]?(h=1,c=l.Low,d=e/100,u=Math.max(l.High,p.High),u=Math.max(u,f+d*(c-f))):(h=0,l.High>f&&(c=l.High,d=Math.min(d+e/100,i/100)),u=Math.min(l.Low,p.Low),u=Math.min(u,a[s-1]+d*(c-a[s-1]))):1==h&&(l.High>a[s-1]?(h=0,c=l.High,d=e/100,u=Math.min(l.Low,p.Low),u=Math.min(u,a[s-1]+d*(c-f))):(h=1,l.Low<f&&(c=l.Low,d=Math.min(d+e/100,i/100)),u=Math.max(l.High,p.High),u=Math.max(u,a[s-1]+d*(c-a[s-1])))),a[s]=u}return a},this.SARTURN=function(t,e,i){var a=[],n=this.SAR(t,e,i),r=this.SymbolData.Data,o=0;for(o=0;o<n.length&&!this.IsNumber(n[o]);++o);var s=0;o<r.Data.length&&(s=r.Data[o].Close>n[o]);for(var l=o+1;l<r.Data.length;++l){var h=r.Data[l];h.Close<n[l]&&s?a[l]=-1:a[l]=h.Close>n[l]&&!s?1:0,s=h.Close>n[l]}return a},this.BACKSET=function(t,e){var i=[];if(!t)return i;var a=t.length;if(!this.IsNumber(a)||a<=0)return i;if(Array.isArray(e)){for(var n=0;n<a;++n)i[n]=0;for(n=0;n<a;++n){var r=t[n],o=e[n];if(this.IsNumber(r)&&r&&this.IsNumber(o))for(var s=n,l=0;s>=0&&l<o;--s,++l)i[s]=1}}else{for(n=0;n<a;++n)i[n]=0;for(var h=0;h<a&&!this.IsNumber(t[h]);++h);if(h==a)return i;var u=Math.min(a-h,Math.max(e,1));for(n=a-1,s=0;n>=0;--n){r=t[n];if(this.IsNumber(r)&&r)for(s=n;s>n-u;--s)i[s]=1}if(t[n])for(s=n;s>=h;--s)i[s]=1}return i},this.BETWEEN=function(t,e,i){var a=[],n="number"==typeof e,r="number"==typeof i;if("number"==typeof t&&n&&r)return t>=e&&t<=i?1:0;for(var o in t){a[o]=0;var s=t[o],l=null,h=null;n?l=e:o<e.length-1&&(l=e[o]),r?h=i:o<i.length-1&&(h=i[o]),null!=l&&null!=h&&(l>h?s>=h&&s<=l&&(a[o]=1):s<=h&&s>=l&&(a[o]=1))}return a},this.STRCAT=function(t,e){var i=[];return Ce.IsString(t)&&Ce.IsString(e)&&(i=t+e),i},this.VARCAT=function(t,e){var i=[];if(Array.isArray(t)&&Array.isArray(e))for(var a=Math.max(t.length,e.length),n="",r=0;r<a;++r){if(i[r]=null,n="",r<t.length){var o=t[r];Ce.IsString(o)&&(n+=o)}if(r<e.length){o=e[r];Ce.IsString(o)&&(n+=o)}""!=n&&(i[r]=n)}else if(Ce.IsString(t)&&Array.isArray(e))for(r=0;r<e.length;++r){i[r]=null;o=e[r];Ce.IsString(o)&&(i[r]=t+o)}else if(Array.isArray(t)&&Ce.IsString(e))for(r=0;r<t.length;++r){i[r]=null;o=t[r];Ce.IsString(o)&&(i[r]=o+e)}else Ce.IsString(t)&&Ce.IsString(e)&&(i=t+e);return i},this.FINDSTR=function(t,e){var i,a,n=[];if(i=Ce.IsNumber(t)?t.toString():t,a=Ce.IsNumber(e)?e.toString():e,Ce.IsString(i)&&Ce.IsString(a))return i.indexOf(a)>=0?1:0;if(Array.isArray(t)&&Ce.IsString(a))for(var r=0;r<t.length;++r){var o=t[r];Ce.IsString(o)?n[r]=o.indexOf(a)>=0?1:0:Ce.IsNumber(o)?(i=o.toString(),n[r]=i.indexOf(a)>=0?1:0):n[r]=0}return n},this.STRSPACE=function(t){var e=[];if(Array.isArray(t))for(var i=0;i<t.length;++i){e[i]=null;var a=t[i];Ce.IsString(a)&&(e[i]=a+" ")}else Ce.IsString(t)&&(e=t+" ");return e},this.CON2STR=function(t,e){var i=[];if(Array.isArray(t))for(var a=t.length-1;a>=0;--a){var n=t[a];if(this.IsNumber(n))return i=n.toFixed(e)}else this.IsNumber(t)&&(i=t.toFixed(e));return i},this.VAR2STR=function(t,e){var i=[];if(Array.isArray(t))for(var a=0;a<t.length;++a){i[a]=null;var n=t[a];this.IsNumber(n)&&(i[a]=n.toFixed(e))}else this.IsNumber(t)&&(i=t.toFixed(e));return i},this.MOD=function(t,e){var i=[],a="number"==typeof t,n="number"==typeof e;if(a&&n)return Ki.MOD(t,e);if(!a&&!n){for(var r=Math.max(t.length,e.length),o=0;o<r;++o)i[o]=null,o<t.length&&o<e.length&&this.IsNumber(t[o])&&this.IsNumber(e[o])&&(i[o]=Ki.MOD(t[o],e[o]));return i}if(a&&!n){for(var s in e)i[s]=null,this.IsNumber(t)&&this.IsNumber(e[s])&&(i[s]=Ki.MOD(t,e[s]));return i}if(!a&&n){for(var s in t)i[s]=null,this.IsNumber(t[s])&&this.IsNumber(e)&&(i[s]=Ki.MOD(t[s],e));return i}return i},this.POW=function(t,e){var i=[];if(Array.isArray(t)&&Array.isArray(e))for(var a=0;a<t.length;++a){var n=t[a],r=e[a];this.IsNumber(n)&&this.IsNumber(r)?i[a]=Math.pow(n,r):i[a]=null}else if(Ce.IsNumber(t)&&Array.isArray(e))for(a=0;a<e.length;++a){var o=e[a];this.IsNumber(o)?i[a]=Math.pow(t,o):i[a]=null}else{if(Ce.IsNumber(t)&&Ce.IsNumber(e))return Math.pow(t,e);if(Array.isArray(t)&&Ce.IsNumber(e))for(a=0;a<t.length;++a){o=t[a];this.IsNumber(o)?i[a]=Math.pow(o,e):i[a]=null}}return i},this.CEILING=function(t){if("number"==typeof t)return parseInt(t);var e=[];for(var i in t){var a=t[i];this.IsNumber(a)?e[i]=parseInt(a):e[i]=null}return e},this.FLOOR=function(t){if("number"==typeof t)return parseInt(t-1);var e=[];for(var i in t){var a=t[i];this.IsNumber(a)?e[i]=parseInt(a-1):e[i]=null}return e},this.ZTPRICE=function(t,e){if(!this.IsNumber(e))return null;if(Array.isArray(t)){var i=[];for(var a in t){var n=t[a];this.IsNumber(n)?i[a]=(1+e)*n:i[a]=null}return i}return this.IsNumber(t)?i=(1+e)*t:void 0},this.DTPRICE=function(t,e){if(!this.IsNumber(e))return null;if(Array.isArray(t)){var i=[];for(var a in t){var n=t[a];this.IsNumber(n)?i[a]=(1-e)*n:i[a]=null}return i}return this.IsNumber(t)?i=(1-e)*t:void 0},this.FRACPART=function(t){if(Array.isArray(t)){var e=[],i=0;for(var a in t){var n=t[a];this.IsNumber(n)?(i=parseInt(n),e[a]=n-i):e[a]=null}return e}if(this.IsNumber(t))return e=t-(i=parseInt(t))},this.BARSLASTCOUNT=function(t){var e=null;if(Array.isArray(t)){if(e=[],t.length>0)for(var i=0,a=t.length-1;a>=0;--a){i=0;for(var n=a;n>=0&&t[n];--n)++i;e[a]=i}}else e=t?1:0;return e},this.INTPART=function(t){var e=null;if(Array.isArray(t))for(var i in e=[],t){var a=t[i];this.IsNumber(a)?e[i]=parseInt(a):e[i]=null}else this.IsNumber(t)&&(e=parseInt(t));return e},this.CONST=function(t){if(Array.isArray(t)){var e=t.length;return e>0?t[e-1]:null}return t},this.TOPRANGE=function(t){if(this.IsNumber(t))return 0;var e=[];if(Array.isArray(t))for(var i=t.length-1;i>=0;--i){e[i]=0;var a=t[i];if(this.IsNumber(a)){for(var n=0,r=i-1;r>=0&&!(t[r]>a);--r)++n;e[i]=n}}return e},this.LOWRANGE=function(t){if(this.IsNumber(t))return 0;var e=[];if(Array.isArray(t))for(var i=t.length-1;i>=0;--i){e[i]=0;var a=t[i];if(this.IsNumber(a)){for(var n=0,r=i-1;r>=0&&!(t[r]<a);--r)++n;e[i]=n}}return e},this.FINDLOW=function(t,e,i,a){if(this.IsNumber(t))return t;var n=[];if(Array.isArray(t))for(var r=t.length-1;r>=0;--r){n[r]=null;for(var o=[],s=e;s<i;++s){var l;if((l=r-s)<0)break;var h=t[l];this.IsNumber(h)&&o.push(h)}if(o.length>0)o.sort(function(t,e){return t-e}),(l=a-1)<0?l=0:l>=o.length&&(l=o.length-1),n[r]=o[l]}return n},this.FINDHIGH=function(t,e,i,a){if(this.IsNumber(t))return t;var n=[];if(Array.isArray(t))for(var r=t.length-1;r>=0;--r){n[r]=null;for(var o=[],s=e;s<i;++s){var l;if((l=r-s)<0)break;var h=t[l];this.IsNumber(h)&&o.push(h)}if(o.length>0)o.sort(function(t,e){return e-t}),(l=a-1)<0?l=0:l>=o.length&&(l=o.length-1),n[r]=o[l]}return n},this.FINDHIGHBARS=function(t,e,i,a){if(this.IsNumber(t))return i-e-a;var n=[];if(Array.isArray(t))for(var r=t.length-1;r>=0;--r){n[r]=null;for(var o=[],s=e;s<i;++s){var l;if((l=r-s)<0)break;var h=t[l];this.IsNumber(h)&&o.push({Value:h,Period:s})}if(o.length>0)o.sort(function(t,e){return e.Value-t.Value}),(l=a-1)<0?l=0:l>=o.length&&(l=o.length-1),n[r]=o[l].Period}return n},this.FINDLOWBARS=function(t,e,i,a){if(this.IsNumber(t))return i-e-a;var n=[];if(Array.isArray(t))for(var r=t.length-1;r>=0;--r){n[r]=null;for(var o=[],s=e;s<i;++s){var l;if((l=r-s)<0)break;var h=t[l];this.IsNumber(h)&&o.push({Value:h,Period:s})}if(o.length>0)o.sort(function(t,e){return t.Value-e.Value}),(l=a-1)<0?l=0:l>=o.length&&(l=o.length-1),n[r]=o[l].Period}return n},this.HOD=function(t,e){var i=[];if(Ce.IsNumber(t))return 1;if(Array.isArray(t))for(var a=t.length-1;a>=0;--a){var n=t[a];if(Ce.IsNumber(n)){if(Array.isArray(e))var r=parseInt(e[a]);else r=parseInt(e);e<=0&&(r=a);for(var o=1,s=a-1,l=1;s>=0&&l<r;--s,++l){var h=t[s];Ce.IsNumber(h)&&h>n&&++o}i[a]=o}}return i},this.LOD=function(t,e){var i=[];if(Ce.IsNumber(t))return 1;if(Array.isArray(t))for(var a=t.length-1;a>=0;--a){var n=t[a];if(Ce.IsNumber(n)){if(Array.isArray(e))var r=parseInt(e[a]);else r=parseInt(e);e<=0&&(r=a);for(var o=1,s=a-1,l=1;s>=0&&l<r;--s,++l){var h=t[s];Ce.IsNumber(h)&&h<n&&++o}i[a]=o}}return i},this.BARSNEXT=function(t){if(!Array.isArray(t))return 0;for(var e=[],i=0;i<t.length;++i){e[i]=0;for(var a=i,n=0;a<t.length;++a,++n){if(t[a]>0){e[i]=n;break}}}return e},this.RAND=function(t){if(Array.isArray(t)){var e=[];for(var i in t){e[i]=null;var a=t[i];(n=parseInt(a))<=0||(e[i]=Math.ceil(Math.random()*n))}return e}var n;if((n=parseInt(t))<=0)return null;var r=this.SymbolData.Data.Data.length;for(e=[],i=0;i<r;++i)e[i]=Math.ceil(Math.random()*n);return e},this.AMA=function(t,e){var i,a=[];if(Array.isArray(e)){for(var n=t.length-1;n>=0;--n)if(this.IsNumber(e[n])){i=e[n];break}}else i=e;if(this.IsNumber(i)){if(i>1)return a;for(var r=0,o=0;r<t.length;++r)if(a[r]=null,this.IsNumber(t[r])){o=t[r],a[r]=o;break}for(n=r+1;n<t.length;++n){var s=t[n];a[n]=a[n-1]+i*(s-a[n-1])}}return a},this.TMA=function(t,e,i){var a=[];if(this.IsNumber(e)&&e<=1&&this.IsNumber(i)&&i<1){var n=!1;for(var r in t)if(a[r]=null,0==n){var o=t[r];this.IsNumber(o)&&(a[r]=o,a[r],n=!0)}else{o=t[r];if(!this.IsNumber(o))continue;a[r]=e*a[r-1]+i*o,a[r]}}return a},this.ROUND=function(t){if(this.IsNumber(t))return Math.round(t);var e=[];if(Array.isArray(t))for(var i in t){var a=t[i];this.IsNumber(a)?e[i]=Math.round(a):e[i]=null}return e},this.ROUND2=function(t,e){var i=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12],a=0;if(this.IsNumber(e)&&(a=parseInt(e)),e<0?a=0:e>=i.length&&(a=i.length-1),this.IsNumber(t))return Math.round(t*i[a])/i[a];var n=[];if(Array.isArray(t))for(var r in t){var o=t[r];this.IsNumber(o)?n[r]=Math.round(o*i[a])/i[a]:n[r]=null}return n},this.TRMA=function(t,e){if(!this.IsNumber(e)||e<=0)return[];var i=0,a=0;a=(e=parseInt(e))%2==0?(i=parseInt(e/2))+1:i=parseInt((e+1)/2);var n=this.MA(t,i);return this.MA(n,a)},this.VALUEWHEN=function(t,e){if(Array.isArray(t)){var i=[];if(Array.isArray(e)){var a=null;for(var n in t)if(n>=e.length)i[n]=a;else{var r=e[n];t[n]?(i[n]=r,a=r):i[n]=a}}else{a=null;for(var n in t)t[n]?(i[n]=e,a=e):i[n]=a}return i}return t?1:0},this.HARMEAN=function(t,e){var i=[];if(Array.isArray(t))if(Array.isArray(e))for(var a=0;a<t.length;++a)if(a>=e.length)i[a]=null;else{var n=parseInt(e[a]);if(n<=0||n>a)i[a]=null;else{for(var r=0,o=0;o<n;++o){var s=t[a-o];if(!this.IsNumber(s)||0==s){r=null;break}r+=1/s}i[a]=null==r?null:1/(r/n)}}else if(this.IsNumber(e)){if((e=parseInt(e))<=0)return i;for(a=0;a<t.length;++a)if(e>a)i[a]=null;else{for(r=0,o=0;o<e;++o){s=t[a-o];if(!this.IsNumber(s)||0==s){r=null;break}r+=1/s}i[a]=null==r?null:1/(r/e)}}return i},this.DATETODAY=function(t){var e=[],i=new Date("1990-12-19");if(Array.isArray(t))for(var a in t){e[a]=null;var n=t[a];if(this.IsNumber(n))if(!((h=n+19e6)<19901219)){var r=parseInt(h/1e4),o=parseInt(h%1e4/100),s=parseInt(h%100),l=new Date(r+"-"+o+"-"+s);e[a]=Math.round((l-i)/864e5)}}else if(this.IsNumber(t)){var h;if((h=t+19e6)>=19901219){r=parseInt(h/1e4),o=parseInt(h%1e4/100),s=parseInt(h%100),l=new Date(r+"-"+o+"-"+s);return Math.round((l-l)/864e5)}}return e},this.DAYTODATE=function(t){var e=new Date("1990-12-19"),i=[];if(Array.isArray(t))for(var a in t){i[a]=null;var n=t[a];if(this.IsNumber(n)){e.setDate(e.getDate()+n);var r=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();r-=19e6,i[a]=r,e.setDate(e.getDate()-n)}}else if(this.IsNumber(t)){e.setDate(e.getDate()+t);r=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();return r-=19e6}return i},this.ANY=function(t,e){e<=0&&(e=1);var i=[];if(Array.isArray(t)){if(e>=t.length)return 0;for(var a=e,n=0;a<t.length;++a){var r=0;for(n=0;n<e;++n){if(t[a-n]>0){r=1;break}}i[a]=r}return i}if(Ce.IsNumber(t)){if(t<=0)return 0;if(e>=this.SymbolData.Data.Data.length)return 0;for(a=e;a<this.SymbolData.Data.Data.length;++a)i[a]=1;return i}return 0},this.ALL=function(t,e){e<=0&&(e=1);var i=[];if(Array.isArray(t)){if(e>=t.length)return 0;for(var a=e,n=0;a<t.length;++a){var r=1;for(n=0;n<e;++n){if(!(t[a-n]>0)){r=0;break}}i[a]=r}return i}if(Ce.IsNumber(t)){if(t<=0)return 0;if(e>=this.SymbolData.Data.Data.length)return 0;for(a=e;a<this.SymbolData.Data.Data.length;++a)i[a]=1;return i}return 0},this.CallFunction=function(t,e,i,a){switch(t){case"MAX":case"MAX6":return this.MAX(e,i);case"MIN":case"MIN6":return this.MIN(e,i);case"REF":return this.REF(e[0],e[1]);case"REFV":return this.REFV(e[0],e[1]);case"REFX":return this.REFX(e[0],e[1]);case"REFXV":return this.REFXV(e[0],e[1]);case"REFX1":return this.REFX(e[0],e[1]);case"ABS":return this.ABS(e[0]);case"MA":return this.MA(e[0],e[1]);case"EMA":return this.EMA(e[0],e[1]);case"SMA":return this.SMA(e[0],e[1],e[2]);case"DMA":return this.DMA(e[0],e[1]);case"XMA":return this.XMA(e[0],e[1]);case"EXPMA":return this.EXPMA(e[0],e[1]);case"EXPMEMA":return this.EXPMEMA(e[0],e[1]);case"COUNT":return this.COUNT(e[0],e[1]);case"LLV":return this.LLV(e[0],e[1]);case"LV":return this.LV(e[0],e[1]);case"LLVBARS":return this.LLVBARS(e[0],e[1]);case"HHV":return this.HHV(e[0],e[1]);case"HV":return this.HV(e[0],e[1]);case"HHVBARS":return this.HHVBARS(e[0],e[1]);case"MULAR":return this.MULAR(e[0],e[1]);case"CROSS":return this.CROSS(e[0],e[1]);case"LONGCROSS":return this.LONGCROSS(e[0],e[1],e[2]);case"CROSSDOWN":return this.CROSSDOWN(e[0],e[1]);case"CROSSUP":return this.CROSSUP(e[0],e[1]);case"AVEDEV":return this.AVEDEV(e[0],e[1]);case"STD":return this.STD(e[0],e[1]);case"IF":case"IFF":case"IFELSE":return this.IF(e[0],e[1],e[2]);case"IFN":return this.IFN(e[0],e[1],e[2]);case"NOT":return this.NOT(e[0]);case"SUM":return this.SUM(e[0],e[1]);case"RANGE":return this.RANGE(e[0],e[1],e[2]);case"EXIST":return this.EXIST(e[0],e[1]);case"EXISTR":return this.EXISTR(e[0],e[1],e[2]);case"FILTER":return this.FILTER(e[0],e[1]);case"TFILTER":return this.TFILTER(e[0],e[1],e[2]);case"SLOPE":return this.SLOPE(e[0],e[1]);case"BARSLAST":return this.BARSLAST(e[0]);case"BARSCOUNT":return this.BARSCOUNT(e[0]);case"BARSSINCEN":return this.BARSSINCEN(e[0],e[1]);case"BARSSINCE":return this.BARSSINCE(e[0]);case"LAST":return this.LAST(e[0],e[1],e[2]);case"EVERY":return this.EVERY(e[0],e[1]);case"DEVSQ":return this.DEVSQ(e[0],e[1]);case"ZIG":return this.ZIG(e[0],e[1]);case"TROUGHBARS":return this.TROUGHBARS(e[0],e[1],e[2]);case"TROUGH":return this.TROUGH(e[0],e[1],e[2]);case"PEAKBARS":return this.PEAKBARS(e[0],e[1],e[2]);case"PEAK":return this.PEAK(e[0],e[1],e[2]);case"COST":return this.COST(e[0]);case"WINNER":return this.WINNER(e[0],i);case"PPART":return this.PPART(e[0],i);case"COSTEX":return this.COSTEX(e[0],e[1],i);case"LWINNER":return this.LWINNER(e[0],e[1],i);case"PWINNER":return this.PWINNER(e[0],e[1],i);case"FORCAST":return this.FORCAST(e[0],e[1]);case"TSMA":return this.TSMA(e[0],e[1]);case"STDP":return this.STDP(e[0],e[1]);case"VAR":return this.VAR(e[0],e[1]);case"VARP":return this.VARP(e[0],e[1]);case"UPNDAY":return this.UPNDAY(e[0],e[1]);case"DOWNNDAY":return this.DOWNNDAY(e[0],e[1]);case"NDAY":return this.NDAY(e[0],e[1],e[2]);case"RELATE":return this.RELATE(e[0],e[1],e[2]);case"COVAR":return this.COVAR(e[0],e[1],e[2]);case"BETA":return this.BETA(e[0]);case"BETA2":return this.BETA2(e[0],e[1],e[2]);case"WMA":return this.WMA(e[0],e[1]);case"MEMA":return this.MEMA(e[0],e[1]);case"SUMBARS":return this.SUMBARS(e[0],e[1]);case"REVERSE":return this.REVERSE(e[0]);case"SAR":return this.SAR(e[0],e[1],e[2]);case"SARTURN":return this.SARTURN(e[0],e[1],e[2]);case"BACKSET":return this.BACKSET(e[0],e[1]);case"BETWEEN":return this.BETWEEN(e[0],e[1],e[2]);case"STRCAT":return this.STRCAT(e[0],e[1]);case"CON2STR":return this.CON2STR(e[0],e[1]);case"VAR2STR":return this.VAR2STR(e[0],e[1]);case"VARCAT":return this.VARCAT(e[0],e[1]);case"STRSPACE":return this.STRSPACE(e[0]);case"FINDSTR":return this.FINDSTR(e[0],e[1]);case"DTPRICE":return this.DTPRICE(e[0],e[1]);case"ZTPRICE":return this.ZTPRICE(e[0],e[1]);case"MOD":return this.MOD(e[0],e[1]);case"POW":return this.POW(e[0],e[1]);case"CEILING":return this.CEILING(e[0]);case"FLOOR":return this.FLOOR(e[0]);case"FRACPART":return this.FRACPART(e[0]);case"BARSLASTCOUNT":return this.BARSLASTCOUNT(e[0]);case"INTPART":return this.INTPART(e[0]);case"CONST":return this.CONST(e[0]);case"TOPRANGE":return this.TOPRANGE(e[0]);case"LOWRANGE":return this.LOWRANGE(e[0]);case"FINDLOW":return this.FINDLOW(e[0],e[1],e[2],e[3]);case"FINDLOWBARS":return this.FINDLOWBARS(e[0],e[1],e[2],e[3]);case"FINDHIGH":return this.FINDHIGH(e[0],e[1],e[2],e[3]);case"FINDHIGHBARS":return this.FINDHIGHBARS(e[0],e[1],e[2],e[3]);case"BARSNEXT":return this.BARSNEXT(e[0]);case"HOD":return this.HOD(e[0],e[1]);case"LOD":return this.LOD(e[0],e[1]);case"AMA":return this.AMA(e[0],e[1]);case"TMA":return this.TMA(e[0],e[1],e[2]);case"ROUND":return this.ROUND(e[0]);case"ROUND2":return this.ROUND2(e[0],e[1]);case"TRMA":return this.TRMA(e[0],e[1]);case"VALUEWHEN":return this.VALUEWHEN(e[0],e[1]);case"HARMEAN":return this.HARMEAN(e[0],e[1]);case"DATETODAY":return this.DATETODAY(e[0]);case"DAYTODATE":return this.DAYTODATE(e[0]);case"ANY":return this.ANY(e[0],e[1]);case"ALL":return this.ALL(e[0],e[1]);case"ATAN":return this.Trigonometric(e[0],Math.atan);case"ACOS":return this.ACOS(e[0]);case"ASIN":return this.ASIN(e[0]);case"COS":return this.Trigonometric(e[0],Math.cos);case"SIN":return this.Trigonometric(e[0],Math.sin);case"TAN":return this.Trigonometric(e[0],Math.tan);case"LN":return this.Trigonometric(e[0],Math.log);case"LOG":return this.Trigonometric(e[0],r.default);case"EXP":return this.Trigonometric(e[0],Math.exp);case"SQRT":return this.Trigonometric(e[0],Math.sqrt);case"RAND":return this.RAND(e[0]);default:this.ThrowUnexpectedNode(i,"函数"+t+"不存在",t)}},this.CallCustomFunction=function(t,e,i,a){var n=Bi.CustomFunction.Data.get(t),r=i.GetStockCacheData({CustomName:t,Node:a});if(!n.Invoke)return{Out:r};g.Complier.Log("[JSAlgorithm::CallCustomFunction] call custom function functionInfo=",n);var o=this,s={Name:t,Args:e,Symbol:i.Symbol,Period:i.Period,Right:i.Right,KData:i.Data,DownloadData:r,ThrowError:function(t){o.ThrowUnexpectedNode(a,t)}};return n.Invoke(s)},this.ThrowUnexpectedNode=function(t,e,i){var a=t.Marker,n=e||"执行异常";return this.ErrorHandler.ThrowError(a.Index,a.Line,a.Column,n,i)}}function $i(t,e){this.ErrorHandler=t,this.SymbolData=e,this.DRAWTEXT=function(t,e,i){var a=[],n={DrawData:a,DrawType:"DRAWTEXT",Text:i};if(Array.isArray(t)){if(t.length<=0)return n;var r=this.IsNumber(e),o=!1;for(var s in"TOP"!==e&&"BOTTOM"!==e||(n.FixedPosition=e,o=!0),t)a[s]=null,!isNaN(t[s])&&t[s]&&(r||o?a[s]=e:this.IsNumber(e[s])&&(a[s]=e[s]))}else if(this.IsNumber(t)&&t){r=this.IsNumber(e),o=!1;"TOP"!==e&&"BOTTOM"!==e||(n.FixedPosition=e,o=!0);for(s=0;s<this.SymbolData.Data.Data.length;++s)r||o?a[s]=e:this.IsNumber(e[s])&&(a[s]=e[s])}return n},this.DRAWTEXT_FIX=function(t,e,i,a,n){var r={Value:[],Text:[]},o={DrawData:r,DrawType:"DRAWTEXT_FIX",Text:null,Position:{X:e,Y:i,Type:a}};if(t.length<=0)return o;if(Array.isArray(t))for(var s in t)r.Text[s]=null,r.Value[s]=0,!isNaN(t[s])&&t[s]&&(r.Value[s]=1,r.Text[s]=n);else if(t)for(s=0;s<this.SymbolData.Data.Data.length;++s)r.Text[s]=n,r.Value[s]=1;return o},this.SUPERDRAWTEXT=function(t,e,i,a,n){var r=[],o={DrawData:r,DrawType:"SUPERDRAWTEXT",Text:i,YOffset:n,Direction:a,TextAlign:"center"};if(t.length<=0)return o;var s="number"==typeof e;for(var l in t)r[l]=null,!isNaN(t[l])&&t[l]&&(s?r[l]=e:this.IsNumber(e[l])&&(r[l]=e[l]));return o},this.STICKLINE=function(t,e,i,a,n){var r=[],o={DrawData:r,DrawType:"STICKLINE",Width:a,Type:n};o.Width<0&&(o.Width=3);var s="number"==typeof e,l="number"==typeof i;if(Array.isArray(t)){if(t.length<=0)return o;for(var h in t)if(r[h]=null,!isNaN(t[h])&&t[h])if(s&&l)r[h]={Value:e,Value2:i};else if(s&&!l){if(isNaN(i[h]))continue;r[h]={Value:e,Value2:i[h]}}else if(!s&&l){if(isNaN(e[h]))continue;r[h]={Value:e[h],Value2:i}}else{if(isNaN(e[h])||isNaN(i[h]))continue;r[h]={Value:e[h],Value2:i[h]}}}else{if(!t)return o;for(h=0;h<this.SymbolData.Data.Data.length;++h)if(r[h]=null,s&&l)r[h]={Value:e,Value2:i};else if(s&&!l){if(!Ce.IsNumber(i[h]))continue;r[h]={Value:e,Value2:i[h]}}else if(!s&&l){if(!Ce.IsNumber(e[h]))continue;r[h]={Value:e[h],Value2:i}}else{if(!Ce.IsNumber(e[h])||!Ce.IsNumber(i[h]))continue;r[h]={Value:e[h],Value2:i[h]}}}return o},this.DRAWLINE=function(t,e,i,a,n){var r=[],o={DrawData:r,DrawType:"DRAWLINE",Expand:n};if(t.length<=0)return o;for(var s=Math.max(t.length,i.length),l=!1,h=!1,u={Start:{},End:{},List:new Array},c=0;c<s;++c){if(r[c]=null,c<t.length&&c<i.length)if(0==l&&0==h){if(null==t[c]||!t[c])continue;l=!0,u.Start={ID:c,Value:e[c]}}else if(1==l&&0==h){if(!(d=null!=i[c]&&i[c])){t[c]&&(u.Start={ID:c,Value:e[c]});continue}d&&(h=!0,u.End={ID:c,Value:a[c]})}else if(1==l&&1==h){var d;if(d=null!=i[c]&&i[c])u.End={ID:c,Value:a[c]};else if(t[c]){var f=this.CalculateDrawLine(u);for(var p in f){var m=f[p];r[m.ID]=m.Value}1==n&&this.CalculateDrawDataExtendLine(r,u.Start.ID-2),l=h=!1,l=!0,h=!1,(u={Start:{},End:{}}).Start={ID:c,Value:e[c]}}}if(1==l&&1==h){var v=this.CalculateDrawLine(u);for(var g in v){var C=v[g];r[C.ID]=C.Value}}}return 1==n&&this.CalculateDrawDataExtendLine(r),o},this.DRAWBAND=function(t,e,i,a){Ce.IsNumber(e)&&(e="rgb("+e+",0,0)"),Ce.IsNumber(a)&&(a="rgb("+a+",0,0)");var n=[],r={DrawData:n,DrawType:"DRAWBAND",Color:[null,null]};e&&(r.Color[0]=e.toLowerCase()),a&&(r.Color[1]=a.toLowerCase());var o=Ce.IsNumber(t),s=Ce.IsNumber(i);if(o||s){if(o&&!s)for(l=i.length,h=0;h<l;++h){u={Value:t,Value2:null};h<i.length&&(u.Value2=i[h]),n.push(u)}else if(!o&&s)for(l=t.length,h=0;h<l;++h){u={Value:null,Value2:i};h<t.length&&(u.Value=t[h]),n.push(u)}else if(o&&s)for(l=this.SymbolData.Data.Data.length,h=0;h<l;++h){u={Value:t,Value2:i};n.push(u)}}else for(var l=Math.max(t.length,i.length),h=0;h<l;++h){var u={Value:null,Value2:null};h<t.length&&(u.Value=t[h]),h<i.length&&(u.Value2=i[h]),n.push(u)}return r},this.GetDataByIndex=function(t,e){var i={Result:!1,Data:null};return this.IsNumber(t)?(i.Result=!0,i.Data=t):e<t.length?(i.Result=!0,i.Data=t[e]):i.Result=!1,i},this.FILLRGN=function(t,e,i){var a=[],n={DrawData:a,DrawType:"FILLRGN"};this.IsNumber(e),this.IsNumber(i);if(Array.isArray(t))for(var r in t){if(a[r]=null,t[r])if((s=this.GetDataByIndex(e,r)).Result)if((l=this.GetDataByIndex(i,r)).Result){var o={Value:s.Data,Value2:l.Data};a[r]=o}}else if(t)for(r=0;r<this.SymbolData.Data.Data.length;++r){var s,l;if(a[r]=null,(s=this.GetDataByIndex(e,r)).Result)if((l=this.GetDataByIndex(i,r)).Result){o={Value:s.Data,Value2:l.Data};a[r]=o}}return n},this.DRAWKLINE=function(t,e,i,a){for(var n=[],r={DrawData:n,DrawType:"DRAWKLINE"},o=Math.max(t.length,e.length,i.length,a.length),s=0;s<o;++s){var l={Open:null,High:null,Low:null,Close:null};s<t.length&&s<e.length&&s<i.length&&s<a.length&&(l.Open=e[s],l.High=t[s],l.Low=i[s],l.Close=a[s]),n[s]=l}return r},this.DRAWKLINE_IF=function(t,e,i,a,n){for(var r=[],o={DrawData:r,DrawType:"DRAWKLINE_IF"},s=Math.max(t.length,e.length,i.length,a.length,n.length),l=0;l<s;++l){var h={Open:null,High:null,Low:null,Close:null};l<e.length&&l<i.length&&l<a.length&&l<n.length&&l<t.length&&t[l]&&(h.Open=i[l],h.High=e[l],h.Low=a[l],h.Close=n[l]),r[l]=h}return o},this.DRAWCOLORKLINE=function(t,e,i){var a=[],n={DrawData:a,DrawType:"DRAWCOLORKLINE",IsEmptyBar:!(0==i),Color:e};if(Array.isArray(t))for(var r=0;r<t.length&&r<this.SymbolData.Data.Data.length;++r){if(a[r]=null,t[r])(o=this.SymbolData.Data.Data[r])&&(a[r]={Open:o.Open,High:o.High,Low:o.Low,Close:o.Close})}else if(t)for(r=0;r<this.SymbolData.Data.Data.length;++r){var o;a[r]=null,(o=this.SymbolData.Data.Data[r])&&(a[r]={Open:o.Open,High:o.High,Low:o.Low,Close:o.Close})}return n},this.POLYLINE=function(t,e){var i=[],a={DrawData:i,DrawType:"POLYLINE"},n=!1;if("number"==typeof e)if(this.IsNumber(t)){if(t)for(var r=this.SymbolData.Data.Data.length,o=0;o<r;++o)i[o]=e}else{var s=!1;for(var o in t)if(i[o]=null,s)i[o]=e;else{if(!t[o])continue;s=!0,i[o]=e}}else{var l={Start:{},End:{},List:new Array};for(var h in t)if(i[h]=null,0==n){if(null==t[h]||!t[h])continue;if(h>=e.length||!this.IsNumber(e[h]))continue;n=!0,l.Start={ID:parseInt(h),Value:e[h]}}else if(1==n){if(null==t[h]||!t[h])continue;if(h>=e.length||!this.IsNumber(e[h]))continue;l.End={ID:parseInt(h),Value:e[h]};var u=this.CalculateDrawLine(l);for(var c in u){var d=u[c];i[d.ID]=d.Value}l={Start:{ID:l.End.ID,Value:l.End.Value},End:{}}}this.CalculateDrawDataExtendLine(i)}return a},this.CalculateDrawDataExtendLine=function(t,e){if(!(e<0)){var i=null,a=t.length;this.IsNumber(e)&&e<a&&(a=e);for(var n=a-1;n>=0;--n)if(this.IsNumber(t[n])){i=n;break}if(null!=i&&i-1>=0){var r=i-1;for(n=i+1;n<a;++n){var o=t[r],s=(o-t[i])*(n-r)/(i-r);if(o-s<0)break;t[n]=o-s}}}},this.DRAWNUMBER=function(t,e,i,a){var n={Value:[],Text:[]},r={DrawData:n,DrawType:"DRAWNUMBER"},o=2;Ce.IsNumber(a)&&(o=a);var s={DataType:0,SingleValue:null,ArrayValue:null};Array.isArray(e)?(s.ArrayValue=e,s.DataType=2):("TOP"!==e&&"BOTTOM"!==e||(r.FixedPosition=e),s.SingleValue=e,s.DataType=1);var l={DataType:0,SingleValue:null,ArrayValue:null};if(Array.isArray(i)?(l.ArrayValue=i,l.DataType=2):(l.SingleValue=i,l.DataType=1,Ce.IsNumber(i)&&(Ce.IsInteger(i)?l.SingleValue=i.toString():text=i.toFixed(o))),Array.isArray(t))for(var h=0;h<t.length;++h)n.Value[h]=null,t[h]&&(n.Value[h]=this.DRAWNUMBER_Temp_PriceItem(h,s),n.Text[h]=this.DRAWNUMBER_Temp_NumberItem(h,l,o));else if(this.IsNumber(t)&&t)for(h=0;h<this.SymbolData.Data.Data.length;++h)n.Value[h]=this.DRAWNUMBER_Temp_PriceItem(h,s),n.Text[h]=this.DRAWNUMBER_Temp_NumberItem(h,l,o);return r},this.DRAWNUMBER_Temp_PriceItem=function(t,e){return e?1==e.DataType?e.SingleValue:Ce.IsNonEmptyArray(e.ArrayValue)?e.ArrayValue[t]:null:null},this.DRAWNUMBER_Temp_NumberItem=function(t,e,i){if(!e)return null;if(1==e.DataType)return e.SingleValue;if(!Ce.IsNonEmptyArray(e.ArrayValue))return null;var a=e.ArrayValue[t];return this.IsNumber(a)?Ce.IsInteger(a)?a.toString():a.toFixed(i):a.toString()},this.DRAWNUMBER_FIX=function(t,e,i,a,n){var r={Value:[],Text:[]},o={DrawData:r,DrawType:"DRAWNUMBER_FIX",Position:{X:e,Y:i,Type:a}},s=Ce.IsNumber(n);if(Array.isArray(t)){for(var l in t)if(r.Text[l]=null,r.Value[l]=null,t[l])if(s)r.Text[l]=this.RemoveZero(n.toFixed(2)),r.Value[l]=n;else{if(l>=n.length||!Ce.IsNumber(n[l]))continue;var h=n[l];r.Text[l]=this.RemoveZero(h.toFixed(2)),r.Value[l]=h}}else if(t)for(l=0;l<this.SymbolData.Data.Data.length;++l)if(s)r.Text[l]=this.RemoveZero(n.toFixed(2)),r.Value[l]=n;else{if(l>=n.length||!Ce.IsNumber(n[l]))continue;h=n[l];r.Text[l]=this.RemoveZero(h.toFixed(2)),r.Value[l]=h}else;return o},this.DRAWICON=function(t,e,i){if(Ce.IsString(i)){var a=i.replace("ICO","");i=parseInt(a)}var n=Bi.GetDrawIcon(i);n||Bi.GetDrawTextIcon(i),n||(n={Symbol:"🚩"});var r=[],o={DrawData:r,DrawType:"DRAWICON",Icon:n,IconType:i};if(t.length<=0)return o;var s="number"==typeof e;if("number"==typeof t){if(!t)return o;for(var l=0;l<this.SymbolData.Data.Data.length;++l)s?r[l]=e:l<e.length&&this.IsNumber(e[l])?r[l]=e[l]:r[l]=null;return o}for(var l in t)r[l]=null,t[l]&&(s?r[l]=e:this.IsNumber(e[l])&&(r[l]=e[l]));return o},this.ICON=function(t,e){if(Ce.IsString(e)){var i=e.replace("ICO","");e=parseInt(i)}var a=Bi.GetDrawIcon(e);a||Bi.GetDrawTextIcon(e),a||(a={Symbol:"🚩"});for(var n=[],r={DrawData:n,DrawType:"ICON",Icon:a},o=0;o<this.SymbolData.Data.Data.length;++o){var s=this.SymbolData.Data.Data[o];s&&(0==t?n[o]=s.Low:1==t&&(n[o]=s.High))}return r},this.DRAWCHANNEL=function(t,e,i,a,n,r,o){var s=[],l={DrawData:s,DrawType:"DRAWCHANNEL",Border:{}};if(t.length<=0)return l;if(a&&(l.Border.Color=a),o&&(l.AreaColor=o),n>0&&(l.Border.Width=n),r){var h=r.split(",");for(var u in l.Border.Dotted=[],h){if(h[u]){var c=parseInt(h[u]);c<=0||l.Border.Dotted.push(c)}}l.Border.Dotted.length<=0&&(l.Border.Dotted=null)}var d="number"==typeof e,f="number"==typeof i;if("number"==typeof t){if(!t)return l;for(u=0;u<this.SymbolData.Data.Data.length;++u)if(s[u]=null,d&&f)s[u]={Value:e,Value2:i};else if(d&&!f){if(isNaN(i[u]))continue;s[u]={Value:e,Value2:i[u]}}else if(!d&&f){if(isNaN(e[u]))continue;s[u]={Value:e[u],Value2:i}}else{if(isNaN(e[u])||isNaN(i[u]))continue;s[u]={Value:e[u],Value2:i[u]}}}else for(u=0;u<t.length;++u)if(s[u]=null,!isNaN(t[u])&&t[u])if(d&&f)s[u]={Value:e,Value2:i};else if(d&&!f){if(isNaN(i[u]))continue;s[u]={Value:e,Value2:i[u]}}else if(!d&&f){if(isNaN(e[u]))continue;s[u]={Value:e[u],Value2:i}}else{if(isNaN(e[u])||isNaN(i[u]))continue;s[u]={Value:e[u],Value2:i[u]}}return l},this.RGB=function(t,e,i){return"RGB("+t+","+e+","+i+")"},this.RGBA=function(t,e,i,a){return"RGB("+t+","+e+","+i+","+a+")"},this.SOUND=function(t){return{Name:"SOUND",Value:t}},this.PLAYSOUND=function(t,e){return null},this.PARTLINE=function(t){var e=[],i={DrawData:e,DrawType:"PARTLINE"};if(t.length<3)return i;for(var a=t[0],n=[],r=1;r<t.length&&r+1<t.length;r+=2)n.push({Cond:t[r],RGB:t[r+1]});for(var r in a){var o={Value:null,RGB:null};e[r]=o;var s=a[r];if(this.IsNumber(s)){var l=null;for(var h in n){var u=n[h];if(Array.isArray(u.Cond)){if(r<u.Cond.length&&u.Cond[r]){l=u.RGB;break}}else if(this.IsNumber(u.Cond)&&u.Cond){l=u.RGB;break}}l&&(o.Value=s,o.RGB=l)}}return i},this.FILLRGN2=function(t){var e=[],i={DrawData:e,DrawType:"FILLRGN2"};if(t.length<4)return i;for(var a=t[0],n=t[1],r=[],o=2;o<t.length&&o+1<t.length;o+=2)r.push({Cond:t[o],Color:t[o+1]});for(o=0;o<this.SymbolData.Data.Data.length;++o){e[o]=null;var s={Value:null,Value2:null,Color:null};for(var l in r){var h=r[l];if(Array.isArray(h.Cond)){if(o<h.Cond.length&&h.Cond[o]){s.Color=h.Color;break}}else if(this.IsNumber(h.Cond)&&h.Cond){s.Color=h.Color;break}}if(s.Color){if(Array.isArray(a)){if(o>=a.length)continue;if(!this.IsNumber(a[o]))continue;s.Value=a[o]}else{if(!this.IsNumber(a))continue;s.Value=a}if(Array.isArray(n)){if(o>=n.length)continue;if(!this.IsNumber(n[o]))continue;s.Value2=n[o]}else{if(!this.IsNumber(n))continue;s.Value2=n}e[o]=s}}return i},this.FLOATRGN=function(t){var e=[],i={DrawData:e,DrawType:"FLOATRGN"};if(t.length<4)return i;for(var a=t[0],n=t[1],r=[],o=2;o<t.length&&o+1<t.length;o+=2)r.push({Cond:t[o],Color:t[o+1]});for(o=0;o<this.SymbolData.Data.Data.length;++o){e[o]=null;var s={Value:null,Value2:null,Color:null};for(var l in r){var h=r[l];if(Array.isArray(h.Cond)){if(o<h.Cond.length&&h.Cond[o]){s.Color=h.Color;break}}else if(this.IsNumber(h.Cond)&&h.Cond){s.Color=h.Color;break}}if(s.Color){if(Array.isArray(a)){if(o>=a.length)continue;if(!this.IsNumber(a[o]))continue;s.Value=a[o]}else{if(!this.IsNumber(a))continue;s.Value=a}if(Array.isArray(n)){if(o>=n.length)continue;if(!this.IsNumber(n[o]))continue;s.Value2=n[o]}else{if(!this.IsNumber(n))continue;s.Value2=n}e[o]=s}}return i},this.FILLBGRGN=function(t,e){var i=[],a={DrawData:i,DrawType:1==t?"FILLTOPRGN":"FILLBOTTOMRGN"};if(e.length<3)return a;for(var n=e[0],r=[],o=1;o<e.length&&o+1<e.length;o+=2)r.push({Cond:e[o],Color:e[o+1]});for(o=0;o<this.SymbolData.Data.Data.length;++o){i[o]=null;var s={Value:null,Color:null};for(var l in r){var h=r[l];if(Array.isArray(h.Cond)){if(o<h.Cond.length&&h.Cond[o]){s.Color=h.Color;break}}else if(this.IsNumber(h.Cond)&&h.Cond){s.Color=h.Color;break}}if(s.Color){if(Array.isArray(n)){if(o>=n.length)continue;if(!this.IsNumber(n[o]))continue;s.Value=n[o]}else{if(!this.IsNumber(n))continue;s.Value=n}i[o]=s}}return a},this.FILLVERTICALRGN=function(t){var e=[],i={DrawData:e,DrawType:"FILLVERTICALRGN"};if(t.length<2)return i;for(var a=[],n=0;n<t.length&&n+1<t.length;n+=2)a.push({Cond:t[n],Color:t[n+1]});for(n=0;n<this.SymbolData.Data.Data.length;++n){e[n]=null;var r={Color:null};for(var o in a){var s=a[o];if(Array.isArray(s.Cond)){if(n<s.Cond.length&&s.Cond[n]){r.Color=s.Color;break}}else if(this.IsNumber(s.Cond)&&s.Cond){r.Color=s.Color;break}}r.Color&&(e[n]=r)}return i},this.DRAWGBK=function(t,e,i,a){var n={Color:[],Angle:a};e&&n.Color.push(e),i&&n.Color.push(i);var r={DrawData:null,DrawType:"DRAWGBK"};if(Array.isArray(t))for(var o in t){if(t[o]){r.DrawData=n;break}}else t&&(r.DrawData=n);return r},this.DRAWGBK2=function(t,e,i,a){var n={Color:[],Angle:a};e&&n.Color.push(e),i&&n.Color.push(i);var r={DrawData:null,DrawType:"DRAWGBK2"};if(Array.isArray(t)){for(var o in n.Data=[],t){var s=t[o];n.Data[o]=s?1:0}r.DrawData=n}else t&&(r.DrawData=n,r.DrawType="DRAWGBK");return r},this.DRAWTEXT_LINE=function(t,e,i,a,n,r,o){var s={Text:{Title:i,Color:a},Line:{Type:r,Color:o}};n<=0&&(n=12),s.Text.Font=n*L()+"px 微软雅黑";var l={DrawData:null,DrawType:"DRAWTEXT_LINE"};if(Array.isArray(t))for(var h in t){if(t[h]){Array.isArray(e)?s.Price=e[h]:s.Price=e,l.DrawData=s;break}}else t&&(Array.isArray(e)?s.Price=e[0]:s.Price=e,l.DrawData=s);return l},this.DRAWRECTREL=function(t,e,i,a,n){var r={Rect:{Left:Math.min(t,i),Top:Math.min(e,a),Right:Math.max(i,t),Bottom:Math.max(a,e)},Color:n};return 0==n&&(r.Color=null),{DrawData:r,DrawType:"DRAWRECTREL"}},this.DRAWTEXTREL=function(t,e,i){var a={Point:{X:t,Y:e}};return Ce.IsString(i)?a.Text=i:Ce.IsNonEmptyArray(i)&&(a.Text=i[0]),{DrawData:a,DrawType:"DRAWTEXTREL"}},this.DRAWTEXTABS=function(t,e,i){var a={Point:{X:t,Y:e}};return Ce.IsString(i)?a.Text=i:Ce.IsNonEmptyArray(i)&&(a.Text=i[0]),{DrawData:a,DrawType:"DRAWTEXTABS"}},this.DRAWOVERLAYLINE=function(t,e,i){var a={Data:t,MainData:e};return i&&"string"==typeof i&&(a.Title=i),{DrawData:a,DrawType:"DRAWOVERLAYLINE"}},this.DRAWSL=function(t,e,i,a,n){var r={Data:[],Option:[]},o={DrawData:r,DrawType:"DRAWSL"},s=this.IsNumber(e);if(Array.isArray(t))for(var l in t)r[l]=null,t[l]&&(s?(r.Data[l]=e,r.Option[l]={Slope:i,Length:a,Direct:n}):l<e.length&&this.IsNumber(e[l])&&(r.Data[l]=e[l],r.Option[l]={Slope:i,Length:a,Direct:n}));else if(t){var h=this.SymbolData.Data.Data.length;for(l=0;l<h;++l)r[l]=null,s?(r.Data[l]=e,r.Option[l]={Slope:i,Length:a,Direct:n}):l<e.length&&this.IsNumber(e[l])&&(r.Data[l]=e[l],r.Option[l]={Slope:i,Length:a,Direct:n})}return o},this.VERTLINE=function(t,e){var i={Data:[],LineType:e},a={DrawData:i,DrawType:"VERTLINE"};if(Array.isArray(t))for(var n=0;n<t.length;++n){var r=t[n];i.Data[n]=r?1:0}return a},this.HORLINE=function(t,e,i,a){var n={Data:[],LineType:i,Extend:a},r={DrawData:n,DrawType:"HORLINE"};if(Array.isArray(t)&&Array.isArray(e))for(var o=0;o<t.length;++o){var s=t[o];if(n.Data[o]=null,s&&!(o>=e.length)){var l=e[o];Ce.IsNumber(l)&&(n.Data[o]=l)}}else if(Array.isArray(t)&&Ce.IsNumber(e))for(o=0;o<t.length;++o){s=t[o];n.Data[o]=null,s&&(n.Data[o]=e)}else if(Ce.IsNumber(t)&&t&&this.SymbolData&&this.SymbolData.Data&&this.SymbolData.Data.Data)if(Array.isArray(e)){var h=this.SymbolData.Data.Data.length;for(o=0;o<h;++o)if(n.Data[o]=null,!(o>=e.length)){l=e[o];Ce.IsNumber(l)&&(n.Data[o]=l)}}else if(Ce.IsNumber(e))for(h=this.SymbolData.Data.Data.length,o=0;o<h;++o)n.Data[o]=e;return r},this.BACKGROUND=function(t,e,i,a,n,r){var o={Margin:[0,1,1,1]};return t&&(o.Color=t),e&&(o.Border=e),Ce.IsNumber(i)&&(o.Margin[2]=i),Ce.IsNumber(a)&&(o.Margin[3]=a),Ce.IsNumber(n)&&(o.Margin[0]=n),Ce.IsNumber(r)&&(o.Margin[1]=r),o},this.CKLINE=function(t,e,i,a){var n={Color:t,LineWidth:1,LineType:0,LineDot:[3,3]};if(Ce.IsPlusNumber(e)&&(n.LineWidth=e),Ce.IsPlusNumber(i)&&(n.LineType=i),a){var r=a.split(","),o=[];for(var s in r){if(h=r[s]){var l=parseInt(r[s]);l<=0||o.push(l)}}o.length>0&&(n.LineDotted=o)}n.Data=[];for(s=0;s<this.SymbolData.Data.Data.length;++s){var h=this.SymbolData.Data.Data[s];n.Data[s]={High:h.High,Low:h.Low}}return n}}Ki.prototype.IsNumber=function(t){return null!=t&&!isNaN(t)},Ki.prototype.IsDivideNumber=function(t){return null!=t&&(!isNaN(t)&&0!=t)},Ki.MOD=function(t,e){if(!(t<0&&e<0||t>=0&&e>=0)){var i=Math.abs(t),a=Math.abs(e);n=Math.abs(Math.abs(e)*(Math.floor(i/a)+1)-Math.abs(t));return e<0&&(n=-n),n}return parseInt(t)==t&&parseInt(e)==e?t%e:n=parseFloat((t-Math.floor(t/e)*e).toFixed(1));var n},$i.prototype.CalculateDrawLine=function(t){t.List=[];for(var e=t.Start.ID;e<=t.End.ID;++e)t.List.push(e);var i=Math.abs(t.Start.Value-t.End.Value),a=t.List.length-1,n=[];if(n.push({ID:t.Start.ID,Value:t.Start.Value}),t.Start.Value>t.End.Value)for(var r=1;r<t.List.length-1;++r){var o=i*(t.List.length-1-r)/a+t.End.Value;n.push({ID:t.List[r],Value:o})}else for(var s=1;s<t.List.length-1;++s){o=i*s/a+t.Start.Value;n.push({ID:t.List[s],Value:o})}return n.push({ID:t.End.ID,Value:t.End.Value}),n},$i.prototype.IsNumber=function(t){return null!=t&&!isNaN(t)},$i.prototype.IsDrawFunction=function(t){return!!new c.default(["STICKLINE","DRAWTEXT","SUPERDRAWTEXT","DRAWLINE","DRAWBAND","DRAWKLINE","DRAWKLINE1","DRAWKLINE_IF","DRAWCOLORKLINE","PLOYLINE","POLYLINE","DRAWNUMBER","DRAWNUMBER_FIX","DRAWICON","DRAWCHANNEL","PARTLINE","DRAWTEXT_FIX","DRAWGBK","DRAWTEXT_LINE","DRAWRECTREL","DRAWTEXTABS","DRAWTEXTREL","DRAWOVERLAYLINE","FILLRGN","FILLRGN2","FILLTOPRGN","FILLBOTTOMRGN","FILLVERTICALRGN","FLOATRGN","DRAWSL","DRAWGBK2","VERTLINE","HORLINE"]).has(t)},$i.prototype.RemoveZero=function(t){for(;t.length>0;){var e=t.length-1,i=t[e];if("0"!=i){if("."==i){t=t.substr(0,e);break}break}t=t.substr(0,e)}return t};var ji={YCLOSE:3,OPEN:4,HIGH:5,LOW:6,CLOSE:7,VOL:8,AMOUNT:10,AMPLITUDE:13,INCREASE:14,EXCHANGERATE:37};function qi(t,e,i){this.AST=t,this.Execute=i,this.Symbol="600000.sh",this.Name,this.Data=null,this.PeriodData=new p.default,this.IsApiPeriod=!1,this.SourceData=null,this.MarketValue=null,this.Period=0,this.Right=0,this.DataType=0,this.IsBeforeData=!1,this.DayCount,this.Arguments=[],this.KLineApiUrl=Bi.Domain+"/API/KLine2",this.MinuteKLineApiUrl=Bi.Domain+"/API/KLine3",this.RealtimeApiUrl=Bi.Domain+"/API/stock",this.HistoryMinuteApiUrl=Qe.Domain+"/API/StockMinuteData",this.StockHistoryDayApiUrl=Bi.Domain+"/API/StockHistoryDay",this.StockHistoryDay3ApiUrl=Bi.Domain+"/API/StockHistoryDay3",this.StockHistoryDay2ApiUrl=Bi.Domain+"/API/StockHistoryDay2",this.StockNewsAnalysisApiUrl=Bi.CacheDomain+"/cache/newsanalyze",this.HKToSHSZApiUrl=[Bi.CacheDomain+"/cache/historyday/all/hk2shsz.json",Bi.CacheDomain+"/cache/analyze/hk2shsz/hk2shsz.json",Bi.Domain+"/API/HKToSHSZMinuteData",Bi.CacheDomain+"/cache/analyze/hk2szshanalyze"],this.MaxRequestDataCount=1e3,this.MaxRequestMinuteDayCount=5,this.KLineDateTimeRange,this.LatestData=new p.default,this.IndexData,this.LatestIndexData,this.MarginData=new p.default,this.HKToSHSZData=new p.default,this.NewsAnalysisData=new p.default,this.ExtendData=new p.default,this.UserData=new p.default,this.CustomAPIData=new p.default,this.ScriptIndexOutData=new p.default,this.OtherSymbolData=new p.default,this.StockData=new p.default,this.SectionFinanceData=new p.default,this.ThrowSFPeirod=new c.default,this.NetworkFilter,this.DrawInfo,e&&(e.HQDataType&&(this.DataType=e.HQDataType),e.Data&&(this.Data=e.Data,this.DataType!=ta.MINUTE_ID&&this.DataType!=ta.MULTIDAY_MINUTE_ID&&this.DataType!=ta.HISTORY_MINUTE_ID&&(this.Period=e.Data.Period,this.Right=e.Data.Right)),e.SourceData&&(this.SourceData=e.SourceData),e.Symbol&&(this.Symbol=e.Symbol),e.Name&&(this.Name=e.Name),e.MaxRequestDataCount>0&&(this.MaxRequestDataCount=e.MaxRequestDataCount),e.MaxRequestMinuteDayCount>0&&(this.MaxRequestMinuteDayCount=e.MaxRequestMinuteDayCount),e.KLineApiUrl&&(this.KLineApiUrl=e.KLineApiUrl),e.Right&&(this.Right=e.Right),e.Period&&(this.Period=e.Period),!0===e.IsBeforeData&&(this.IsBeforeData=e.IsBeforeData),e.NetworkFilter&&(this.NetworkFilter=e.NetworkFilter),e.DayCount>0&&(this.DayCount=e.DayCount),e.Arguments&&(this.Arguments=e.Arguments),e.KLineRange&&(this.KLineDateTimeRange=e.KLineRange),e.IsApiPeriod&&(this.IsApiPeriod=e.IsApiPeriod),e.DrawInfo&&(this.DrawInfo=e.DrawInfo)),this.RecvError=function(t){throw g.Complier.Log("[JSSymbolData::RecvError] ajax error.",t.status),{FunctionName:"RecvError",Request:t}},this.GetLatestDataKey=function(t){return t="DYNAINFO-"+t},this.GetLatestData=function(t){var e=this.JobArgumentsToArray(t,1),i=e[0],a=this.GetLatestDataKey(i);if(this.LatestData.has(a))return this.Execute.RunNextJob();var n=this;if(this.NetworkFilter){var r={Name:"JSSymbolData::GetLatestData",Explain:"DYNAINFO()",Args:e,Request:{Url:n.RealtimeApiUrl,Type:"POST",Data:{symbol:[this.Symbol],field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time","increase","exchangerate","amplitude"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(t){n.RecvLatestData(t),n.Execute.RunNextJob()}),1==r.PreventDefault)return}C.HttpRequest({url:n.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time","increase","exchangerate","amplitude"],symbol:[this.Symbol]},type:"post",dataType:"json",async:!0,success:function(t){n.RecvLatestData(t),n.Execute.RunNextJob()},error:function(t){n.RecvError(t)}})},this.RecvLatestData=function(t){if(2!=t.ver){if(t.stock&&1==t.stock.length){var e=t.stock[0];e&&(Ce.IsNumber(e.yclose)&&this.LatestData.set(ji.YCLOSE,e.yclose),Ce.IsNumber(e.open)&&this.LatestData.set(ji.OPEN,e.open),Ce.IsNumber(e.high)&&this.LatestData.set(ji.HIGH,e.high),Ce.IsNumber(e.low)&&this.LatestData.set(ji.LOW,e.low),Ce.IsNumber(e.price)&&this.LatestData.set(ji.CLOSE,e.price),Ce.IsNumber(e.vol)&&this.LatestData.set(ji.VOL,e.vol),Ce.IsNumber(e.amount)&&this.LatestData.set(ji.AMOUNT,e.amount),Ce.IsNumber(e.increase)&&this.LatestData.set(ji.INCREASE,e.increase),Ce.IsNumber(e.exchangerate)&&this.LatestData.set(ji.EXCHANGERATE,e.exchangerate),Ce.IsNumber(e.amplitude)&&this.LatestData.set(ji.AMPLITUDE,e.amplitude),g.Complier.Log("[JSSymbolData::RecvLatestData] symbol, LatestData",e.symbol,this.LatestData))}}else this.RecvLatestDataVer2(t)},this.RecvLatestDataVer2=function(t){if(Ce.IsNonEmptyArray(t.data)){for(var e=t.symbol,i=0;i<t.data.length;++i){var a=t.data[i];a&&(Ce.IsNumber(a.id)&&(Ce.IsNumber(a.value)||Ce.IsString(a.value))&&(g.Complier.Log("[JSSymbolData::RecvLatestDataVer2] symbol="+e+" DYNAINFO("+a.id+")="+a.value+"."),this.LatestData.set(a.id,a.value)))}g.Complier.Log("[JSSymbolData::RecvLatestDataVer2]",this.LatestData)}},this.GetLatestCacheData=function(t){return this.LatestData.has(t)?this.LatestData.get(t):null},this.GetLatestIndexData=function(){if(this.LatestIndexData)return this.Execute.RunNextJob();var t=this;if(this.NetworkFilter){var e={Name:"JSSymbolData::GetLatestIndexData",Explain:"最新大盘数据",Request:{Url:t.RealtimeApiUrl,Type:"POST",Data:{symbol:["000001.sh"],field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time","increase","amplitude"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.RecvLatestIndexData(e),t.Execute.RunNextJob()}),1==e.PreventDefault)return}C.HttpRequest({url:t.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time","increase","amplitude"],symbol:["000001.sh"]},type:"post",dataType:"json",async:!0,success:function(e){t.RecvLatestIndexData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})},this.RecvLatestIndexData=function(t){if(t.stock&&1==t.stock.length){var e=t.stock[0];this.LatestIndexData={Symbol:e.symbol,Name:e.name,Date:e.date,Time:e.time,YClose:e.yclose,Price:e.price,Open:e.open,High:e.high,Low:e.low,Vol:e.vol,Amount:e.amount,Increase:e.increase,Amplitude:e.amplitude},g.Complier.Log("[JSSymbolData::RecvLatestIndexData]",this.LatestIndexData)}},this.GetLatestIndexCacheData=function(t){if(!this.LatestIndexData)return null;switch(t){case"FROMOPEN":var e=parseInt(this.LatestIndexData.Time/100),i=60*parseInt(e/100)+e%100;return i<=565?0:i<570?1:i<=690?i-570+1:i<780?121:i<=900?122+i-780:242;default:return null}},this.GetVolRateData=function(t,e){var i=t.ID.toString()+"-VolRate-"+this.Symbol;if(this.ExtendData.has(i))return this.Execute.RunNextJob();var a=this,n=30;if(this.NetworkFilter){var r=this.Data.GetDateRange();n=1;this.DataType==ta.MULTIDAY_MINUTE_ID&&(n=this.DayCount);var o={Name:"JSSymbolData::GetVolRateData",Explain:"分时量比数据(成交量)",Request:{Url:a.KLineApiUrl,Type:"POST",Data:{symbol:a.Symbol,dayCount:n,field:["name","symbol","vol"],period:0,right:0,dateRange:r}},Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(t){a.RecvVolRateData(t,i),a.Execute.RunNextJob()}),1==o.PreventDefault)return}C.HttpRequest({url:a.KLineApiUrl,data:{field:["name","symbol","vol"],symbol:a.Symbol,start:-1,count:n},type:"post",dataType:"json",async:!0,success:function(t){a.RecvVolRateData(t,i),a.Execute.RunNextJob()},error:function(t){a.RecvError(t)}})},this.RecvVolRateData=function(t,e){var i=0,a=0,n=new p.default;if(2==t.Ver){if(!Ce.IsNonEmptyArray(t.data))return;for(var r=0;r<t.data.length;++r){var o=t.data[r];Ce.IsNonEmptyArray(o)&&(o.length<2||Ce.IsNumber(o[0])&&Ce.IsPlusNumber(o[1])&&n.set(o[0],{AvgVol5:o[1]}))}}else{if(!Ce.IsNonEmptyArray(t.data))return;var s=241;Ce.IsNumber(t.minutecount)&&(s=t.minutecount);r=0;for(var l=0,h=0;r<t.data.length;++r){for(i=0,l=r,h=0;l>=0&&h<5;--l,++h){o=t.data[l];Ce.IsNumber(o[6])&&(i+=o[6])}if(h>0){a=i/h/s;o=t.data[r];n.set(o[0],{AvgVol5:a})}}}n.size>0&&this.ExtendData.set(e,n),g.Complier.Log("[JSSymbolData::RecvVolRateData]",n)},this.GetVolRateCacheData=function(t){var e=Zi.JOB_DOWNLOAD_VOLR_DATA.toString()+"-VolRate-"+this.Symbol;e&&this.ExtendData.has(e)||this.Execute.ThrowUnexpectedNode(t,"不支持VOLR");for(var i=[],a=this.ExtendData.get(e),n=0,r=0,o=null,s=0,l=0;s<this.Data.Data.length;++s){i[s]=null;var h=this.Data.Data[s];if(r!=h.Date){if(o=null,l=0,n=0,a.has(h.Date))o=a.get(h.Date).AvgVol5;r=h.Date}null!=o&&(n+=h.Vol,i[s]=n/(l+1)/o*100,++l)}return i},this.GetIndexData=function(){if(this.IndexData)return this.Execute.RunNextJob();var t=this;if(mt.IsDayPeriod(this.Period,!0)){if(this.NetworkFilter){var e=this.Data.GetDateRange(),i={Name:"JSSymbolData::GetIndexData",Explain:"大盘数据",Period:t.Period,Request:{Url:t.KLineApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol","up","down","stop","unchanged"],indexSymbol:"000001.sh",symbol:this.Symbol,period:this.Period,dateRange:e}},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.RecvIndexHistroyData(e),t.Execute.RunNextJob()}),1==i.PreventDefault)return}C.HttpRequest({url:t.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","up","down","stop","unchanged"],symbol:"000001.sh",start:-1,count:t.MaxRequestDataCount+500},type:"post",dataType:"json",async:!0,success:function(e){t.RecvIndexHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})}else if(mt.IsMinutePeriod(this.Period,!0)){if(this.NetworkFilter){e=this.Data.GetDateRange(),i={Name:"JSSymbolData::GetIndexData",Explain:"大盘数据",Period:t.Period,Request:{Url:t.MinuteKLineApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol"],indexSymbol:"000001.sh",symbol:this.Symbol,period:this.Period,dateRange:e}},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.RecvIndexMinuteHistroyData(e),t.Execute.RunNextJob()}),1==i.PreventDefault)return}C.HttpRequest({url:t.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:"000001.sh",start:-1,count:t.MaxRequestMinuteDayCount+5},type:"post",dataType:"json",async:!0,success:function(e){t.RecvIndexMinuteHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})}},this.RecvIndexHistroyData=function(t){g.Complier.Log("[JSSymbolData::RecvIndexHistroyData] recv data",t);var e=this.JsonDataToHistoryData(t);if(this.IndexData=new mt,this.IndexData.DataType=0,this.IndexData.Data=e,1==this.IsApiPeriod)this.IndexData.Period=this.Period,this.IndexData.Data=this.Data.FixKData(e,this.Period);else{var i=this.SourceData.GetOverlayData(this.IndexData.Data);if(this.IndexData.Data=i,mt.IsDayPeriod(this.Period,!1)){var a=this.IndexData.GetPeriodData(this.Period);this.IndexData.Data=a}}},this.RecvIndexMinuteHistroyData=function(t){g.Complier.Log("[JSSymbolData::RecvIndexMinuteHistroyData] recv data",t);var e=this.JsonDataToMinuteHistoryData(t);if(this.IndexData=new mt,this.IndexData.DataType=1,this.IndexData.Data=e,1==this.IsApiPeriod)this.IndexData.Period=this.Period,this.IndexData.Data=this.Data.FixKData(e,this.Period);else if(mt.IsMinutePeriod(this.Period,!1)){var i=this.IndexData.GetPeriodData(this.Period);this.IndexData.Data=i}},this.GetOtherSymbolParam=function(t){var e=t.split("$");if(!new c.default(["CLOSE","C","VOL","V","OPEN","O","HIGH","H","LOW","L","AMOUNT","AMO","VOLINSTK"]).has(e[1]))return null;var i=e[0];if(6==i.length)"6"==i[0]||"5"==i[0]||"8"==i[0]||"9"==i[0]?i+=".SH":"0"!=i[0]&&"1"!=i[0]&&"2"!=i[0]&&"3"!=i[0]||(i+=".SZ");else if(0==i.indexOf("SZ"))i=i.substr(2)+".SZ";else if(0==i.indexOf("SH"))i=i.substr(2)+".SH";else{if(!(i.indexOf("_")>0))return null;var a=i.split("_");i=a[1]+"."+a[0]}return{Symbol:i.toLowerCase(),DataName:e[1]}},this.GetOtherSymbolData=function(t){var e=this.Symbol;if(t.Literal){if(!(a=this.GetOtherSymbolParam(t.Literal.toUpperCase()))){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,t.Literal+" Error.")}e=a.Symbol}else{var a;if((a=t.Args).length>0){var n=a[0];if(n.Type==Ui.Literal)e=n.Value;else if(n.Type==Ui.Identifier){var r=!1;for(var o in this.Arguments){var s=this.Arguments[o];if(s.Name==n.Name){e=s.Value,r=!0;break}}if(!r){i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,t.FunctionName+"() Error: can't read "+n.Name)}}}}if(t.Symbol=e.toLowerCase(),t.Symbol==this.Symbol)return this.Execute.RunNextJob();if(this.OtherSymbolData.has(t.Symbol))return this.Execute.RunNextJob();var l=this;if(this.DataType==ta.KLINE_ID&&mt.IsDayPeriod(this.Period,!0)){if(this.NetworkFilter){var h=this.Data.GetDateRange(),u={Name:"JSSymbolData::GetOtherSymbolData",Explain:"指定个股数据",Request:{Data:{symbol:t.Symbol,right:l.Right,period:l.Period,dateRange:h}},Self:this,PreventDefault:!1};if(this.NetworkFilter(u,function(e){l.RecvOtherSymbolKData(e,t),l.Execute.RunNextJob()}),1==u.PreventDefault)return}C.HttpRequest({url:l.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:l.MaxRequestDataCount+500},type:"post",dataType:"json",async:!0,success:function(e){l.RecvOtherSymbolKDayData(e,t),l.Execute.RunNextJob()},error:function(t){l.RecvError(t)}})}else if(mt.IsMinutePeriod(this.Period,!0)||this.DataType==ta.MINUTE_ID||this.DataType==ta.MULTIDAY_MINUTE_ID){if(this.NetworkFilter){h=this.Data.GetDateRange(),u={Name:"JSSymbolData::GetOtherSymbolData",Explain:"指定个股数据",Request:{Data:{symbol:t.Symbol,right:l.Right,period:l.Period,dateRange:h}},Self:this,PreventDefault:!1};if(this.NetworkFilter(u,function(e){l.RecvOtherSymbolKData(e,t),l.Execute.RunNextJob()}),1==u.PreventDefault)return}C.HttpRequest({url:l.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:l.MaxRequestMinuteDayCount+5},type:"post",dataType:"json",async:!0,success:function(e){l.RecvOtherSymbolKMinuteData(e,t),l.Execute.RunNextJob()},error:function(t){l.RecvError(t)}})}},this.RecvOtherSymbolKData=function(t,e){g.Complier.Log("[JSSymbolData::RecvOtherSymbolKData] recv data",t);var i=new mt,a=null,n=this.Period;this.DataType==ta.KLINE_ID&&mt.IsDayPeriod(this.Period,!0)?(a=this.JsonDataToHistoryData(t),i.DataType=0):(a=this.JsonDataToMinuteHistoryData(t),i.DataType=1,this.DataType!=ta.MINUTE_ID&&this.DataType!=ta.MULTIDAY_MINUTE_ID||(n=4)),i.Period=this.Period,i.Right=this.Right,i.Data=this.Data.FixKData(a,n),this.OtherSymbolData.set(e.Symbol,i)},this.RecvOtherSymbolKDayData=function(t,e){g.Complier.Log("[JSSymbolData::RecvOtherSymbolKDayData] recv data",t);var i=this.JsonDataToHistoryData(t),a=new mt;a.DataType=0,a.Data=i;var n=this.SourceData.GetOverlayData(a.Data);if(a.Data=n,mt.IsDayPeriod(this.Period,!1)){var r=a.GetPeriodData(this.Period);a.Data=r}this.OtherSymbolData.set(e.Symbol,a)},this.RecvOtherSymbolKMinuteData=function(t,e){g.Complier.Log("[JSSymbolData::RecvOtherSymbolKMinuteData] recv data",t);var i=this.JsonDataToMinuteHistoryData(t),a=new mt;if(a.DataType=1,a.Data=i,mt.IsMinutePeriod(this.Period,!1)){var n=a.GetPeriodData(this.Period);a.Data=n}this.OtherSymbolData.set(e.Symbol,a)},this.GetOtherSymolCacheData=function(t){var e,i;if(t.FunctionName){if(i=t.FunctionName,(a=t.Args).length<=0)return this.GetSymbolCacheData(i);e=a[0].toString().toLowerCase()}else if(t.Literal){var a;if(!(a=this.GetOtherSymbolParam(t.Literal.toUpperCase())))return[];e=a.Symbol,i=a.DataName}if(e==this.Symbol)return this.GetSymbolCacheData(i);if(!this.OtherSymbolData.has(e))return[];var n=this.OtherSymbolData.get(e),r=e.toUpperCase();switch(i){case"CLOSE":case"C":return n.GetClose();case"VOL":case"V":return Ii.IsSHSZ(r)?n.GetVol(100):n.GetVol();case"OPEN":case"O":return n.GetOpen();case"HIGH":case"H":return n.GetHigh();case"LOW":case"L":return n.GetLow();case"AMOUNT":case"AMO":return n.GetAmount();case"VOLINSTK":return n.GetPosition()}},this.GetIndexCacheData=function(t){if(!this.IndexData)return new Array;switch(t){case"INDEXA":return this.IndexData.GetAmount();case"INDEXC":return this.IndexData.GetClose();case"INDEXH":return this.IndexData.GetHigh();case"INDEXL":return this.IndexData.GetLow();case"INDEXO":return this.IndexData.GetOpen();case"INDEXV":return this.IndexData.GetVol();case"INDEXADV":return this.IndexData.GetUp();case"INDEXDEC":return this.IndexData.GetDown()}},this.GetBlockSymbol=function(t){var e=new p.default([["沪深A股","CNA.ci"],["创业板","GEM.ci"],["沪市A股","SHA.ci"],["中小板","SME.ci"],["深市A股","SZA.ci"]]);if(e.has(t))return e.get(t);if(!t)return null;var i=null,a=t.toUpperCase();if(a.indexOf(".SH")>0||a.indexOf(".SZ")>0){if(!new c.default(["000001.SH","000003.SH","000016.SH","000300.SH","000905.SH","399001.SZ"," 399005.SZ","399006.SZ"]).has(a))return null;i=t.replace(".SH",".sh"),i=t.replace(".SZ",".sz")}else t.indexOf(".CI")>0&&(i=t.replace(".CI",".ci"));return i},this.GetIndexIncreaseData=function(t){var e=null;if(t.IsSelfSymbol)e=this.Symbol;else{if(!t.Args||t.Args.length<=0){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,t.FunctionName+" Error: 参数不能为空")}e=t.Args[0].Value}var a=this.GetBlockSymbol(e);if(!a){i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,t.FunctionName+" Error: can't support "+e)}var n=t.ID.toString()+"-UpCount-"+a,r=t.ID.toString()+"-DownCount-"+a;if(this.ExtendData.has(n)&&this.ExtendData.has(r))return this.Execute.RunNextJob();var o=this;if(this.NetworkFilter){var s={Type:this.DataType};this.DataType===ta.KLINE_ID&&(s.Period=this.Period);var l={Name:"JSSymbolData::GetIndexIncreaseData",Explain:"涨停家数统计",DateRange:this.Data.GetDateRange(),DataType:s,Request:{Url:"www.121287.com",Type:"POST",Data:{symbol:this.Symbol,blocksymbol:a,field:["up","down"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(l,function(t){this.DataType===ta.KLINE_ID?this.RecvHistoryIncreaseDataV2(t,{UpKey:n,DownKey:r}):this.RecvMinuteIncreaseDataV2(t,{UpKey:n,DownKey:r}),o.Execute.RunNextJob()}),1==l.PreventDefault)return}if(this.DataType===ta.MINUTE_ID||this.DataType===ta.MULTIDAY_MINUTE_ID){var h=Bi.CacheDomain+"/cache/analyze/increaseanalyze/"+a+".json";g.Complier.Log("[JSSymbolData::GetIndexIncreaseData] minute Get url=",h),C.HttpRequest({url:h,type:"get",dataType:"json",async:!0,success:function(t){o.RecvMinuteIncreaseData(t,{UpKey:n,DownKey:r}),o.Execute.RunNextJob()},error:function(t){o.RecvError(t)}})}else this.DataType===ta.KLINE_ID&&mt.IsDayPeriod(this.Period,!0)?(g.Complier.Log("[JSSymbolData::GetIndexIncreaseData] K day Get url=",o.KLineApiUrl),C.HttpRequest({url:o.KLineApiUrl,data:{symbol:a,start:-1,count:o.MaxRequestDataCount,field:["up","down"]},type:"post",dataType:"json",async:!0,success:function(t){o.RecvHistoryIncreaseData(t,{UpKey:n,DownKey:r}),o.Execute.RunNextJob()},error:function(t){o.RecvError(t)}})):this.Execute.RunNextJob()},this.RecvHistoryIncreaseDataV2=function(t,e){g.Complier.Log("[JSSymbolData::RecvHistoryIncreaseData] recv data, key",t,e);var i=[],a=[];for(var n in t.data){var r=t.data[n],o=new ut,s=new ut,l=r[0],h=null;o.Date=l,s.Date=l,mt.IsMinutePeriod(this.Period,!0)&&Ce.IsNumber(r[1])&&(h=r[1],o.Time=h,s.Time=h),o.Value=r[2],i[n]=o,s.Value=r[3],a[n]=s}var u=this.Data.GetFittingData2(i,0),c=this.Data.GetFittingData2(a,0);this.ExtendData.set(e.UpKey,u),this.ExtendData.set(e.DownKey,c)},this.RecvHistoryIncreaseData=function(t,e){g.Complier.Log("[JSSymbolData::RecvHistoryIncreaseData] recv data",t);var i,a,n=[],r=[];for(var o in t.data){var s=t.data[o],l=new ut,h=new ut;l.Date=s[0],l.Value=s[8],n[o]=l,h.Date=s[0],h.Value=s[9],r[o]=h}i=this.SourceData?this.SourceData.GetFittingData(n):this.Data.GetFittingData(aryData),a=this.SourceData?this.SourceData.GetFittingData(r):this.Data.GetFittingData(aryData),this.ExtendData.set(e.UpKey,i),this.ExtendData.set(e.DownKey,a)},this.RecvMinuteIncreaseDataV2=function(t,e){g.Complier.Log("[JSSymbolData::RecvMinuteIncreaseDataV2] recv data, key",t,e)},this.RecvMinuteIncreaseData=function(t,e){if(g.Complier.Log("[JSSymbolData::RecvMinuteIncreaseData] recv data",t),t.minute){var i=t.minute;if(i.time&&i.up&&i.down){var a=[],n=[];if(this.IsBeforeData)for(var r=0,o=0;r<this.Data.Data.length;++r){if(a[r]=null,n[r]=null,!(s=this.Data.Data[r]).Before)if(l=s.DateTime)if(2==(h=l.split(" ")).length)parseInt(h[0])==t.date&&(a[r]=i.up[o],n[r]=i.down[o],++o)}else for(r=0,o=0;r<this.Data.Data.length;++r){var s,l,h;if(a[r]=null,n[r]=null,l=(s=this.Data.Data[r]).DateTime)if(2==(h=l.split(" ")).length)parseInt(h[0])==t.date&&(a[r]=i.up[o],n[r]=i.down[o],++o)}this.ExtendData.set(e.UpKey,a),this.ExtendData.set(e.DownKey,n)}}},this.GetIndexIncreaseCacheData=function(t,e,i){var a,n=this.GetBlockSymbol(e);if(n||this.Execute.ThrowUnexpectedNode(i,"不支持函数"+t+"("+e+")"),"UPCOUNT"==t||"ADVANCE"==t?a=Zi.JOB_DOWNLOAD_INDEX_INCREASE_DATA.toString()+"-UpCount-"+n:"DOWNCOUNT"!=t&&"DECLINE"!=t||(a=Zi.JOB_DOWNLOAD_INDEX_INCREASE_DATA.toString()+"-DownCount-"+n),a&&this.ExtendData.has(a)||this.Execute.ThrowUnexpectedNode(i,"不支持函数"+t+"("+e+")"),this.DataType===ta.MINUTE_ID||this.DataType===ta.MULTIDAY_MINUTE_ID)return this.ExtendData.get(a);if(this.DataType===ta.KLINE_ID&&mt.IsDayPeriod(this.Period,!0)){var r=this.ExtendData.get(a),o=new mt;if(o.Data=r,o.Period=this.Period,o.Period>0){var s=o.GetPeriodSingleData(o.Period);o.Data=s}return o.GetValue()}return null},this.GetSymbolData=function(){if(this.Data)return this.Execute.RunNextJob();var t=this;if(this.DataType!==ta.MINUTE_ID)if(this.DataType!==ta.MULTIDAY_MINUTE_ID){if(mt.IsDayPeriod(this.Period,!0)){if(this.NetworkFilter){var e={Name:"JSSymbolData::GetSymbolData",Explain:"日线数据",Request:{Url:t.RealtimeApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestDataCount,period:this.Period,right:this.Right}},Self:this,PreventDefault:!1};if(this.KLineDateTimeRange&&(e.Request.KLineDataTimeRange={Start:{Date:this.KLineDateTimeRange.Start.Date},End:{Date:this.KLineDateTimeRange.End.Date}},this.IsNumber(this.KLineDateTimeRange.Start.Time)&&(e.Request.KLineDataTimeRange.Start.Time=this.KLineDateTimeRange.Start.Time),this.IsNumber(this.KLineDateTimeRange.End.Time)&&(e.Request.KLineDataTimeRange.End.Time=this.KLineDateTimeRange.End.Time)),this.NetworkFilter(e,function(e){t.RecvHistroyData(e),t.Execute.RunNextJob()}),1==e.PreventDefault)return}C.HttpRequest({url:t.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(e){t.RecvHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})}else if(mt.IsMinutePeriod(this.Period,!0)){if(this.NetworkFilter){e={Name:"JSSymbolData::GetSymbolData",Explain:"分钟K线数据",Request:{Url:t.MinuteKLineApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestMinuteDayCount,period:this.Period,right:this.Right}},Self:this,PreventDefault:!1};if(this.KLineDateTimeRange&&(e.Request.KLineDataTimeRange={Start:{Date:this.KLineDateTimeRange.Start.Date},End:{Date:this.KLineDateTimeRange.End.Date}},this.IsNumber(this.KLineDateTimeRange.Start.Time)&&(e.Request.KLineDataTimeRange.Start.Time=this.KLineDateTimeRange.Start.Time),this.IsNumber(this.KLineDateTimeRange.End.Time)&&(e.Request.KLineDataTimeRange.End.Time=this.KLineDateTimeRange.End.Time)),this.NetworkFilter(e,function(e){t.RecvMinuteHistroyData(e),t.Execute.RunNextJob()}),1==e.PreventDefault)return}C.HttpRequest({url:this.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(e){t.RecvMinuteHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})}}else C.HttpRequest({url:t.HistoryMinuteApiUrl,data:{symbol:t.Symbol,daycount:t.DayCount},type:"post",dataType:"json",async:!0,success:function(e){t.RecvMultiDayMinuteData(e),t.Execute.RunNextJob()}});else C.HttpRequest({url:t.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","minute","time","minutecount"],symbol:[t.Symbol],start:-1},type:"post",dataType:"json",async:!0,success:function(e){t.RecvMinuteData(e),t.Execute.RunNextJob()}})},this.RecvHistroyData=function(t){g.Complier.Log("[JSSymbolData::RecvHistroyData] recv data",t);var e=this.JsonDataToHistoryData(t);if(this.Data=new mt,this.Data.DataType=0,this.Data.Data=e,this.SourceData=new mt,this.SourceData.Data=e,this.IsApiPeriod);else{if(this.Right>0){var i=this.Data.GetRightData(this.Right);this.Data.Data=i}if(mt.IsDayPeriod(this.Period,!1)){var a=this.Data.GetPeriodData(this.Period);this.Data.Data=a}}this.Data.Right=this.Right,this.Data.Period=this.Period,this.Name=t.name},this.RecvMinuteHistroyData=function(t){g.Complier.Log("[JSSymbolData::RecvMinuteHistroyData] recv data",t);var e=this.JsonDataToMinuteHistoryData(t);if(this.Data=new mt,this.Data.DataType=1,this.Data.Data=e,this.SourceData=new mt,this.SourceData.Data=e,this.IsApiPeriod);else if(mt.IsMinutePeriod(this.Period,!1)){var i=this.Data.GetPeriodData(this.Period);this.Data.Data=i}this.Data.Period=this.Period,this.Name=t.name},this.RecvMinuteData=function(t){g.Complier.Log("[JSSymbolData::RecvMinuteData] recv data",t);var e=this.JsonDataToMinuteData(t);this.Data=new mt,this.Data.DataType=2,this.Data.Data=e,this.Name=t.stock[0].name},this.RecvMultiDayMinuteData=function(t){var e=this.JsonDataToMultiDayMinuteData(t);this.Data=new mt,this.Data.DataType=2,this.Data.Data=e,this.Name=t.name},this.GetSymbolCacheData=function(t){if(!this.Data)return new Array;var e=this.Symbol.toUpperCase();switch(t){case"CLOSE":case"C":return this.Data.GetClose();case"VOL":case"V":return Ii.IsSHSZ(e)?this.Data.GetVol(100):this.Data.GetVol();case"OPEN":case"O":return this.Data.GetOpen();case"HIGH":case"H":return this.Data.GetHigh();case"LOW":case"L":return this.Data.GetLow();case"AMOUNT":case"AMO":return this.Data.GetAmount();case"OPI":case"VOLINSTK":return this.Data.GetPosition();case"ZSTJJ":return this.Data.GetAvPrice();case"SETTLE":case"QHJSJ":return this.Data.GetSettlementPrice();case"ISEQUAL":return this.Data.GetIsEqual();case"ISUP":return this.Data.GetIsUp();case"ISDOWN":return this.Data.GetIsDown()}},this.GetSymbolPeriodData=function(t){var e=Yi.GetPeriodInfo({Name:t.PeriodName}).Period,i={PeriodID:e,PeriodName:t.PeriodName};if(e==this.Period&&this.Execute.RunNextJob(),this.IsApiPeriod){if(this.PeriodData.has(t.PeriodName))return this.Execute.RunNextJob()}else if(mt.IsDayPeriod(e,!0)){if(mt.IsDayPeriod(this.Period,!0))return this.Execute.RunNextJob();i={PeriodID:0,PeriodName:"DAY"}}else{if(!mt.IsMinutePeriod(e,!0))return this.Execute.RunNextJob();if(mt.IsMinutePeriod(this.Period,!0))return this.Execute.RunNextJob();i={PeriodID:4,PeriodName:"MIN1"}}var a=this;if(this.NetworkFilter){var n={Name:"JSSymbolData::GetSymbolPeriodData",Explain:"跨周期数据",Request:{Data:{field:["symbol","name",t.ValueName],period:t.PeriodName,symbol:a.Symbol}},Self:this,PreventDefault:!1};if(this.NetworkFilter(n,function(t){a.RecvSymbolPeriodData(t,i),a.Execute.RunNextJob()}),1==n.PreventDefault)return}if(mt.IsMinutePeriod(e,!0))C.HttpRequest({url:this.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:a.Symbol,start:-1,count:a.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(t){a.RecvSymbolPeriodData(t,i),a.Execute.RunNextJob()},error:function(t){a.RecvError(t)}});else{if(!mt.IsDayPeriod(e,!0))return this.Execute.RunNextJob();C.HttpRequest({url:a.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:a.Symbol,start:-1,count:a.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){a.RecvSymbolPeriodData(t,i),a.Execute.RunNextJob()},error:function(t){a.RecvError(t)}})}},this.RecvSymbolPeriodData=function(t,e){if(g.Complier.Log("[JSSymbolData::RecvSymbolPeriodData] data, periodInfo ",t,e),mt.IsDayPeriod(e.PeriodID,!0)){var i=this.JsonDataToHistoryData(t),a=new mt;a.DataType=0,a.Data=i,a.Right=0,a.Period=e.PeriodID,this.PeriodData.set(e.PeriodName,a)}else if(mt.IsMinutePeriod(e.PeriodID,!0)){i=this.JsonDataToMinuteHistoryData(t);var n=new mt;n.DataType=1,n.Data=i,n.Right=0,n.Period=e.PeriodID,this.PeriodData.set(e.PeriodName,n)}},this.GetSymbolPeriodCacheData=function(t,e){var i=Yi.GetPeriodInfo({Name:e});if(this.Period==i.Period)return this.GetSymbolCacheData(t);var a=null;if(this.IsApiPeriod){if(!(n=Yi.GetPeriodInfo({PeriodID:this.Period})))return null;if(n.Order>i.Order)return null;if(!this.PeriodData.has(e))return null;a=(a=this.PeriodData.get(e)).Data}else{var n;if(!(n=Yi.GetPeriodInfo({PeriodID:this.Period})))return null;if(n.Order>i.Order)return null;if(mt.IsDayPeriod(i.Period,!0)&&mt.IsMinutePeriod(this.Period,!0)){var r=this.PeriodData.get("DAY");a=0==i.Period?r.Data:r.GetPeriodData(i.Period)}else{var o=new mt;if(o.Data=this.SourceData.Data,o.Period=this.Period,o.Right=this.Right,mt.IsDayPeriod(i.Period,!0)&&o.Right>0){var s=o.GetRightData(o.Right);o.Data=s}a=o.GetPeriodData(i.Period)}}var l=this.Data.ConverPeriod(a,this.Period,i.Period),h=new mt;h.Data=l;var u=this.Symbol.toUpperCase();switch(t){case"C":case"CLOSE":return h.GetClose();case"O":case"OPEN":return h.GetOpen();case"H":case"HIGH":return h.GetHigh();case"L":case"LOW":return h.GetLow();case"AMO":case"AMOUNT":return h.GetAmount();case"V":case"VOL":return Ii.IsSHSZ(u)?h.GetVol(100):h.GetVol();case"VOLINSTK":return h.GetPosition();default:return null}},this.GetSymbolPeriodCacheData2=function(t,e,i){var a=Yi.GetPeriodInfo({Name:e});if(!a)return null;var n=Yi.GetPeriodInfo({PeriodID:this.Period});if(!n)return null;if(n.Order>a.Order)return null;if(n.Period==a.Period)h=this.Data;else{var r;if(this.IsApiPeriod){if(!this.PeriodData.has(e))return null;r=this.PeriodData.get(e)}else if(mt.IsMinutePeriod(n.Period,!0)&&mt.IsDayPeriod(a.Period,!0)){var o=this.PeriodData.get("DAY");r=0==a.Period?o:o.GetPeriodData(a.Period)}else{var s=new mt;if(s.Data=this.SourceData.Data,s.Period=this.Period,s.Right=this.Right,mt.IsDayPeriod(a.Period,!0)&&s.Right>0){var l=s.GetRightData(s.Right);s.Data=l}r=s.GetPeriodData(a.Period)}var h,u=this.Data.ConverPeriod(r,this.Period,a.Period);(h=new mt).Data=u}if(Ce.IsPlusNumber(i)){var c=new mt;u=h.GetRef(i);c.Data=u,h=c}var d=this.Symbol.toUpperCase();switch(t){case"C":case"CLOSE":return h.GetClose();case"O":case"OPEN":return h.GetOpen();case"H":case"HIGH":return h.GetHigh();case"L":case"LOW":return h.GetLow();case"AMO":case"AMOUNT":return h.GetAmount();case"V":case"VOL":return Ii.IsSHSZ(d)?h.GetVol(100):h.GetVol();case"VOLINSTK":return h.GetPosition();default:return null}},this.GetCurrBarsCount=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=this.Data.Data.length-1;e>=0;--e)t.push(e+1);return t},this.GetBarPos=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=this.Data.Data.length,i=0;i<e;++i)t.push(i+1);return t},this.GetTotalTradeMinuteCount=function(){var t=wi.GetCoordinateData(this.Symbol);return t&&t.Count>0?t.Count-1:242},this.GetTotalBarsCount=function(){return this.Data.Data.length},this.GetIsLastBar=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=this.Data.Data.length,i=0;i<e;++i)i==e-1?t.push(1):t.push(0);return t},this.GetBarStatus=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=this.Data.Data.length,i=0;i<e;++i)t[i]=0==i?1:i==e-1?2:0;return t},this.GetMarginCacheData=function(t,e){var i=Zi.GetMarginJobID(t);return i||this.Execute.ThrowUnexpectedNode(e,"不支持MARGIN("+t+")"),this.MarginData.has(i)?this.MarginData.get(i):[]},this.GetMarginData=function(t){if(this.MarginData.has(t))return this.Execute.RunNextJob();g.Complier.Log("[JSSymbolData::GetMarginData] jobID=",t);var e=this,i=["name","date","symbol"];switch(t){case Zi.JOB_DOWNLOAD_MARGIN_BALANCE:i.push("margin.balance");break;case Zi.JOB_DOWNLOAD_MARGIN_RATE:i.push("margin.rate");break;case Zi.JOB_DOWNLOAD_MARGIN_BUY_BALANCE:case Zi.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:case Zi.JOB_DOWNLOAD_MARGIN_BUY_REPAY:case Zi.JOB_DOWNLOAD_MARGIN_BUY_NET:i.push("margin.buy");break;case Zi.JOB_DOWNLOAD_MARGIN_SELL_BALANCE:case Zi.JOB_DOWNLOAD_MARGIN_SELL_VOLUME:case Zi.JOB_DOWNLOAD_MARGIN_SELL_REPAY:case Zi.JOB_DOWNLOAD_MARGIN_SELL_NET:i.push("margin.sell")}C.HttpRequest({url:this.StockHistoryDayApiUrl,data:{field:i,symbol:[this.Symbol],orderfield:"date"},type:"post",dataType:"json",async:!0,success:function(i){e.RecvMarginData(i,t),e.Execute.RunNextJob()}})},this.RecvMarginData=function(t,e){if(g.Complier.Log(t),t.stock&&1==t.stock.length){var i=t.stock[0],a=new Array,n=[],r=[],o=[];for(var s in i.stockday){var l=i.stockday[s],h=l.margin;if(h){var u=new ut;switch(u.Date=l.date,e){case Zi.JOB_DOWNLOAD_MARGIN_BALANCE:if(!this.IsNumber(h.balance))continue;u.Value=h.balance,a.push(u);break;case Zi.JOB_DOWNLOAD_MARGIN_RATE:if(!this.IsNumber(h.rate))continue;u.Value=h.rate,a.push(u);break;case Zi.JOB_DOWNLOAD_MARGIN_BUY_BALANCE:case Zi.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:case Zi.JOB_DOWNLOAD_MARGIN_BUY_REPAY:case Zi.JOB_DOWNLOAD_MARGIN_BUY_NET:var c=h.buy;if(!c)continue;if(!(this.IsNumber(c.balance)&&this.IsNumber(c.amount)&&this.IsNumber(c.repay)&&this.IsNumber(c.net)))continue;u.Value=c.balance,(d=new ut).Date=l.date,d.Value=c.amount,(f=new ut).Date=l.date,f.Value=c.repay,(p=new ut).Date=l.date,p.Value=c.net,a.push(u),n.push(d),r.push(f),o.push(p);break;case Zi.JOB_DOWNLOAD_MARGIN_SELL_BALANCE:case Zi.JOB_DOWNLOAD_MARGIN_SELL_VOLUME:case Zi.JOB_DOWNLOAD_MARGIN_SELL_REPAY:case Zi.JOB_DOWNLOAD_MARGIN_SELL_NET:var d,f,p,m=h.sell;if(!m)continue;if(!(this.IsNumber(m.balance)&&this.IsNumber(m.volume)&&this.IsNumber(m.repay)&&this.IsNumber(m.net)))continue;u.Value=c.balance,(d=new ut).Date=l.date,d.Value=c.volume,(f=new ut).Date=l.date,f.Value=c.repay,(p=new ut).Date=l.date,p.Value=c.net,a.push(u),n.push(d),r.push(f),o.push(p);break;default:continue}}}var v=[];for(var C in e===Zi.JOB_DOWNLOAD_MARGIN_BALANCE||e===Zi.JOB_DOWNLOAD_MARGIN_RATE?v.push({JobID:e,Data:a}):e===Zi.JOB_DOWNLOAD_MARGIN_BUY_BALANCE||e===Zi.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT||e===Zi.JOB_DOWNLOAD_MARGIN_BUY_REPAY||e===Zi.JOB_DOWNLOAD_MARGIN_BUY_NET?(v.push({JobID:Zi.JOB_DOWNLOAD_MARGIN_BUY_BALANCE,Data:a}),v.push({JobID:Zi.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT,Data:n}),v.push({JobID:Zi.JOB_DOWNLOAD_MARGIN_BUY_REPAY,Data:r}),v.push({JobID:Zi.JOB_DOWNLOAD_MARGIN_BUY_NET,Data:o})):e!==Zi.JOB_DOWNLOAD_MARGIN_SELL_BALANCE&&e!==Zi.JOB_DOWNLOAD_MARGIN_SELL_VOLUME&&e!==Zi.JOB_DOWNLOAD_MARGIN_SELL_REPAY&&e!==Zi.JOB_DOWNLOAD_MARGIN_SELL_NET||(v.push({JobID:Zi.JOB_DOWNLOAD_MARGIN_SELL_BALANCE,Data:a}),v.push({JobID:Zi.JOB_DOWNLOAD_MARGIN_SELL_VOLUME,Data:n}),v.push({JobID:Zi.JOB_DOWNLOAD_MARGIN_SELL_REPAY,Data:r}),v.push({JobID:Zi.JOB_DOWNLOAD_MARGIN_SELL_NET,Data:o})),v){var D=this.SourceData.GetFittingData(v[C].Data),y=new mt;if(y.Data=D,y.Period=this.Period,y.Period>0){var x=y.GetPeriodSingleData(y.Period);y.Data=x}var S=y.GetValue();this.MarginData.set(v[C].JobID,S)}}},this.GetNewsAnalysisCacheData=function(t,e){var i=Zi.GetNewsAnalysisID(t);return i||this.Execute.ThrowUnexpectedNode(e,"不支持NEWS("+t+")"),this.NewsAnalysisData.has(i)?this.NewsAnalysisData.get(i):[]},this.GetHKToSHSZData=function(t){var e=t.Args,i=this.Symbol;if(e.length>0){var a=e[0];if(a.Type==Ui.Literal)i=a.Value;else if(a.Type==Ui.Identifier){var n=!1;for(var r in this.Arguments){var o=this.Arguments[r];if(o.Name==a.Name){i=o.Value,n=!0;break}}if(!n){var s=t.Token;this.Execute.ErrorHandler.ThrowError(s.Index,s.Line,0,"HK2SHSZ() Error: can't read "+a.Name)}}}t.Symbol=i,1==i||2==i||3==i?this.GetHKToSHSZMarketData(i,t):this.GetHKToSHSZStockData(i,t)},this.GetHKToSHSZStockData=function(t,e){if(this.HKToSHSZData.has(t))return this.Execute.RunNextJob();var i=t.toLowerCase(),a=this,n=this.HKToSHSZApiUrl[3]+"/"+i+".json";C.HttpRequest({url:n,type:"get",dataType:"json",async:!0,success:function(t){a.RecvHKToSHSZStockData(t,e),a.Execute.RunNextJob()},error:function(t){console.warn("[JSSymbolData::GetHKToSHSZStockData] request url="+n+" failed. error="+t.status),a.RecvHKToSHSZStockData(null,e),a.Execute.RunNextJob()}})},this.RecvHKToSHSZStockData=function(t,e){if(t){for(var i=t.symbol.toUpperCase(),a=[],n=0;n<t.date.length;++n){var r=new ut;r.Date=t.date[n],r.Value=t.vol[n],a.push(r)}var o=this.Data.GetFittingData(a),s=new mt;if(s.Data=o,s.Period=this.Period,s.Period>0){var l=s.GetPeriodSingleData(s.Period);s.Data=l}t=s.GetValue();this.HKToSHSZData.set(i,t)}},this.GetHKToSHSZMarketData=function(t,e){if(this.HKToSHSZData.has(t))return this.Execute.RunNextJob();var i,a=0;this.DataType===ta.MINUTE_ID?a=1:this.DataType==ta.MULTIDAY_MINUTE_ID?a=2:this.Period<=3&&(a=0),i=this.HKToSHSZApiUrl[a];var n=this;g.Complier.Log("[JSSymbolData::GetHKToSHSZMarketData] code="+t+" url="+i+", dataType="+a),2===a?C.HttpRequest({url:i,data:{symbol:this.Symbol,daycount:this.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(t){n.RecvMulitMinuteHKToSHSZData(t,e),n.Execute.RunNextJob()}}):C.HttpRequest({url:i,type:"get",dataType:"json",async:!0,success:function(t){0==a?n.RecvHKToSHSZData(t,e):1==a&&n.RecvMinuteHKToSHSZData(t,e),n.Execute.RunNextJob()}})},this.RecvMinuteHKToSHSZData=function(t,e){var i=[],a=[],n=[];if(this.IsBeforeData){for(r in this.SourceData.Data){if(!(u=this.SourceData.Data[r]).Before)break;i.push(null),a.push(null),n.push(null)}for(var r=0;r<t.time.length;++r){if(925!==t.time[r]){var o=(s=t.hk2sh[r])+(l=t.hk2sz[r]);i.push(o),a.push(s),n.push(l)}}}else for(r=0;r<t.time.length;++r){var s,l;t.time[r],o=(s=t.hk2sh[r])+(l=t.hk2sz[r]);i.push(o),a.push(s),n.push(l)}var h=[{Data:i,ID:1},{Data:a,ID:2},{Data:n,ID:3}];for(var r in h){var u=h[r];this.HKToSHSZData.set(u.ID,u.Data)}},this.RecvHKToSHSZData=function(t,e){for(var i=[],a=[],n=[],r=0;r<t.date.length;++r){var o=t.date[r],s=1e6*t.hk2sh[r],l=1e6*t.hk2sz[r],h=s+l,u=new ut;u.Date=o,u.Value=h;var c=new ut;c.Date=o,c.Value=s;var d=new ut;d.Date=o,d.Value=l,i.push(u),a.push(c),n.push(d)}var f=[{Data:i,ID:1},{Data:a,ID:2},{Data:n,ID:3}];for(var p in f){var m=this.Data.GetFittingData(f[p].Data),v=new mt;if(v.Data=m,v.Period=this.Period,v.Period>0){var g=v.GetPeriodSingleData(v.Period);v.Data=g}var C=v.GetValue();this.HKToSHSZData.set(f[p].ID,C)}},this.RecvMulitMinuteHKToSHSZData=function(t,e){if(t.data&&!(t.data.length<=0)){for(var i=[],a=[],n=[],r=0,o=0;r<this.Data.Data.length&&o<t.data.length;){i[r]=null,a[r]=null,n[r]=null;var s=(g=this.Data.Data[r]).DateTime;if(s){var l=s.split(" ");if(2==l.length){var h=parseInt(l[0]),u=t.data[o];if(!u.minute||u.minute.length<=0)++o;else if(u.date>h)++r;else if(u.date<h)++o;else{for(var c in u.minute){var d=u.minute[c],f=d[1],p=d[2],m=f+p;i[r]=m,a[r]=f,n[r]=p,++r}++o}}else++r}else++r}var v=[{Data:i,ID:1},{Data:a,ID:2},{Data:n,ID:3}];for(var r in v){var g=v[r];this.HKToSHSZData.set(g.ID,g.Data)}}},this.GetHKToSHSZCacheData=function(t,e){return t||(t=this.Symbol),"string"==typeof t&&(t=t.toUpperCase()),this.HKToSHSZData.has(t)?this.HKToSHSZData.get(t):[]},this.GetNewsAnalysisData=function(t){if(this.NewsAnalysisData.has(t))return this.Execute.RunNextJob();var e=this,i=new p.default([[Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE,"negative"],[Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH,"research"],[Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT,"interact"],[Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE,"holderchange"],[Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2,"holderchange"],[Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER,"trustholder"],[Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING,"Blocktrading"],[Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS,"companynews"],[Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS,"topmanagers"],[Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE,"Pledge"]]);if(i.has(t)){var a=i.get(t),n=this.StockNewsAnalysisApiUrl+"/"+a+"/"+this.Symbol+".json";C.HttpRequest({url:n,type:"get",dataType:"json",async:!0,success:function(i){e.RecvNewsAnalysisData(i,t),e.Execute.RunNextJob()},error:function(i,a){e.RecvNewsAnalysisDataError(i,a,t),e.Execute.RunNextJob()}})}else this.Execute.RunNextJob()},this.RecvNewsAnalysisDataError=function(t,e,i){g.Complier.Log("[JSSymbolData::RecvNewsAnalysisDataError] ajax error.",t.status);for(var a=[],n=0;n<this.Data.Data.length;++n){var r=new ut;r.Date=this.Data.Data[n].Date,r.Value=0,a.push(r)}var o=new mt;o.Data=a,this.NewsAnalysisData.set(i,o.GetValue())},this.RecvNewsAnalysisData=function(t,e){if(t.data&&t.date&&!(t.data.length<=0||t.data.length!=t.date.length))if(g.Complier.Log("[JSSymbolData::RecvNewsAnalysisData] jobID",e,t.update),e==Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE||e==Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2){for(var i=[],a=[],n=0;n<t.data.length;++n){(o=new ut).Date=t.date[n],o.Value=t.data[n],this.IsNumber(o.Value)&&i.push(o),n<t.data2.length&&((o=new ut).Date=t.date[n],o.Value=t.data2[n],this.IsNumber(o.Value)&&a.push(o))}var r=this.Data.GetFittingData2(i,0);(s=new mt).Data=r,this.NewsAnalysisData.set(Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE,s.GetValue()),r=this.Data.GetFittingData2(a,0),(s=new mt).Data=r,this.NewsAnalysisData.set(Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2,s.GetValue())}else{for(i=[],n=0;n<t.data.length;++n){var o;(o=new ut).Date=t.date[n],o.Value=t.data[n],i.push(o)}var s,l=this.Data.GetFittingData2(i,0);(s=new mt).Data=l,this.NewsAnalysisData.set(e,s.GetValue())}},this.GetSectionFinanceData=function(t){var e=t.SF[0],i=t.SF[1].Period;if(this.SectionFinanceData.has(e))return this.Execute.RunNextJob();g.Complier.Log("[JSSymbolData::GetSectionFinanceData] "+i.Year+"-"+i.Quarter);var a="announcement"+i.Quarter,n=this,r=["name","date","symbol",a,"finance"+i.Quarter],o=[a+".year","int32","eq",i.Year.toString()];C.HttpRequest({url:this.StockHistoryDayApiUrl,data:{field:r,symbol:[this.Symbol],condition:[{item:o}]},type:"post",dataType:"json",async:!0,success:function(e){n.RecvSectionFinanceData(e,t),n.Execute.RunNextJob()}})},this.RecvSectionFinanceData=function(t,e){if(t.stock&&1==t.stock.length){var i=t.stock[0];if(i.stockday&&!(i.stockday.length<=0)){var a=i.stockday[0],n=e.SF[1].Period,r=null;if(1===n.Quarter?r=a.finance1:2===n.Quarter?r=a.finance2:3===n.Quarter?r=a.finance3:4===n.Quarter&&(r=a.finance4),r){t=new p.default([[Zi.JOB_DOWNLOAD_SECTION_F_01,r.currentassets],[Zi.JOB_DOWNLOAD_SECTION_F_02,r.monetaryfunds],[Zi.JOB_DOWNLOAD_SECTION_F_03,r.inventory],[Zi.JOB_DOWNLOAD_SECTION_F_04,r.currentliabilities],[Zi.JOB_DOWNLOAD_SECTION_F_05,r.ncurrentliabilities],[Zi.JOB_DOWNLOAD_SECTION_F_06,r.expenses3],[Zi.JOB_DOWNLOAD_SECTION_F_07,r.investmentincome],[Zi.JOB_DOWNLOAD_SECTION_F_08,r.pcnprofit],[Zi.JOB_DOWNLOAD_SECTION_F_09,r.nnetprofit],[Zi.JOB_DOWNLOAD_SECTION_F_10,r.npersearning],[Zi.JOB_DOWNLOAD_SECTION_F_11,r.woewa],[Zi.JOB_DOWNLOAD_SECTION_F_12,r.inprocess],[Zi.JOB_DOWNLOAD_SECTION_F_13,r.accdepreciation],[Zi.JOB_DOWNLOAD_SECTION_F_14,r.mholderprofit],[Zi.JOB_DOWNLOAD_SECTION_F_15,r.lossexchange],[Zi.JOB_DOWNLOAD_SECTION_F_16,r.baddebts],[Zi.JOB_DOWNLOAD_SECTION_F_17,r.fixedassets],[Zi.JOB_DOWNLOAD_SECTION_F_18,r.curdepreciation],[Zi.JOB_DOWNLOAD_SECTION_F_19,r.orevenues],[Zi.JOB_DOWNLOAD_SECTION_F_20,r.moprofit],[Zi.JOB_DOWNLOAD_SECTION_F_21,r.oprofit],[Zi.JOB_DOWNLOAD_SECTION_F_22,r.nprofit],[Zi.JOB_DOWNLOAD_SECTION_F_23,r.areceivable],[Zi.JOB_DOWNLOAD_SECTION_F_24,r.financialcost],[Zi.JOB_DOWNLOAD_SECTION_F_25,r.ccfo],[Zi.JOB_DOWNLOAD_SECTION_F_26,r.totalassets],[Zi.JOB_DOWNLOAD_SECTION_F_27,r.totalliabilities],[Zi.JOB_DOWNLOAD_SECTION_F_28,r.totalownersequity],[Zi.JOB_DOWNLOAD_SECTION_F_29,r.grossmargin],[Zi.JOB_DOWNLOAD_SECTION_F_30,r.percreserve],[Zi.JOB_DOWNLOAD_SECTION_F_31,r.peruprofit],[Zi.JOB_DOWNLOAD_SECTION_F_32,r.persearning],[Zi.JOB_DOWNLOAD_SECTION_F_33,r.pernetasset],[Zi.JOB_DOWNLOAD_SECTION_F_34,r.perccfo],[Zi.JOB_DOWNLOAD_SECTION_F_38,r.alratio],[Zi.JOB_DOWNLOAD_SECTION_F_39,r.profityoy]]);4===n.Quarter&&(t.set(Zi.JOB_DOWNLOAD_SECTION_F_35,r.nnprofitincrease),t.set(Zi.JOB_DOWNLOAD_SECTION_F_36,r.nnprofitspeed),t.set(Zi.JOB_DOWNLOAD_SECTION_F_37,r.nprofitincrease));var o=e.SF[0];this.SectionFinanceData.set(o,t)}}}},this.GetSectionFinanceCacheData=function(t,e,i,a){var n=Zi.GetSectionReportPeriod(t,e);n||this.Execute.ThrowUnexpectedNode(a,"不支持FS("+t+", "+e+", '"+i+"') 报告期错误");var r=Zi.GetSectionFinanceID(i);r||this.Execute.ThrowUnexpectedNode(a,"不支持FS("+t+", "+e+",'"+i+"') 财务数据字段名称错误");var o=n.Year+"-"+n.Quarter;if(!this.SectionFinanceData.has(o)&&!this.ThrowSFPeirod.has(o)){this.ThrowSFPeirod.add(o);var s={ID:Zi.JOB_DOWNLOAD_SECTION_SF,SF:[o,{Period:n,Fields:new c.default([r])}]};this.Execute.ThrowDownloadSF(a,s,"FS("+t+", "+e+", '"+i+"') 动态下载")}if(!this.SectionFinanceData.has(o))return this.Execute.ThrowUnexpectedNode(a,"不支持FS("+t+", "+e+", '"+i+"') 没有这期财务数据");var l=this.SectionFinanceData.get(o);return l.has(r)||this.Execute.ThrowUnexpectedNode(a,"不支持FS("+t+", "+e+", '"+i+"') 没有这期财务数据字段"),l.get(r)},this.GetFinOne=function(t){var e=this.JobArgumentsToArray(t,3),i=this.GetStockDataKey(t,e);if(this.StockData.has(i))return this.Execute.RunNextJob();var a=this;if(this.NetworkFilter){var n=this.Data.GetDateRange(),r={Name:"JSSymbolData::GetFinOne",Explain:"财务数据FINONE(ID,Y,MMDD)",JobID:t.ID,Request:{Url:a.StockHistoryDayApiUrl,Type:"POST",Data:{Args:e,symbol:this.Symbol,daterange:n}},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(e){a.RecvStockValue(e,t,i,1),a.Execute.RunNextJob()}),1==r.PreventDefault)return}new function(t){this.newMethod=la,this.newMethod(t),delete this.newMethod,this.Download=function(){var t=this,e=this.GetFieldList();if(!e)return message=this.Job.FunctionName+"("+this.Args[0]+", "+this.Args[1]+", "+this.Args[2]+") can't support.",this.ErrorCallback(message),void t.RecvCallback(null,t.Job,t.DataKey);var i=[{item:["finance","doc","exists","true"]}],a=this.Args[1],n=this.Args[2],r=0,o=3,s=null;0==a&&0==n||(0==a&&n<300?(r=n,o=200):0==n&&a<1e3?s=a:a>1909&&(331==n?(i=[{item:["announcement1.year","int32","eq",a]},{item:["finance1","doc","exists","true"]}],e.push("announcement1.year"),e.push("announcement1.quarter")):630==n?(i=[{item:["announcement2.year","int32","eq",a]},{item:["finance2","doc","exists","true"]}],e.push("announcement2.year"),e.push("announcement2.quarter")):930==n?(i=[{item:["announcement3.year","int32","eq",a]},{item:["finance3","doc","exists","true"]}],e.push("announcement4.year"),e.push("announcement4.quarter")):(i=[{item:["announcement4.year","int32","eq",a]},{item:["finance4","doc","exists","true"]}],e.push("announcement4.year"),e.push("announcement4.quarter")))),C.HttpRequest({url:this.Url,data:{field:e,symbol:[this.Symbol],condition:i,start:0,end:o},type:"post",dataType:"json",async:!0,success:function(e){var i=t.ToHQChartData(e),a=null;i&&i.length>0&&(i.sort(function(t,e){return e.Date-t.Date}),a=null==s?i[r]:t.GetPreYearData(i,s)),t.RecvCallback(a,t.Job,t.DataKey)}})},this.GetPreYearData=function(t,e){if(331!=e&&630!=e&&930!=e&&1231!=e){for(var i=t[0].Date%1e3,a=1,n=0;a<t.length;++a){var r=t[a];if(r.Date%1e4==i&&++n==e)return r}return null}for(var a in t){var r=t[a];if(r.Date%1e4==e)return r}}}({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,Args:e,DataKey:i,Callback:function(t,e,i){a.RecvStockValue(t,e,i,1),a.Execute.RunNextJob()},ErrorCallback:function(t){a.AddStockValueError(i,t)}}).Download()},this.GetStockDataKey=function(t,e){var i=t.FunctionName;if(e.length>0){i+="(";for(var a=0;a<e.length;++a)a>0&&(i+=","),i+=e[a].toString();i+=")"}return i},this.GetFinValue=function(t){var e=this.JobArgumentsToArray(t,1),i=e[0],a=this.GetStockDataKey(t,e);if(this.StockData.has(a))return this.Execute.RunNextJob();var n=this;if(this.NetworkFilter){var r=this.Data.GetDateRange(),o={Name:"JSSymbolData::GetFinValue",Explain:"财务数据FINVALUE(ID)",JobID:t.ID,Request:{Url:n.StockHistoryDayApiUrl,Type:"POST",Data:{id:i,symbol:this.Symbol,daterange:r}},Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(e){n.RecvStockValue(e,t,a,0),n.Execute.RunNextJob()}),1==o.PreventDefault)return}new la({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,Args:e,DataKey:a,Callback:function(t,e,i){n.RecvStockValue(t,e,i,0),n.Execute.RunNextJob()},ErrorCallback:function(t){n.AddStockValueError(a,t)}}).Download()},this.GetFinance=function(t){var e=this.JobArgumentsToArray(t,1),i=e[0],a=this.GetStockDataKey(t,e);if(this.StockData.has(a))return this.Execute.RunNextJob();var n=this;if(this.NetworkFilter){var r=this.Data.GetDateRange(),o={Name:"JSSymbolData::GetFinance",Explain:"财务数据FINANCE(ID)",JobID:t.ID,Request:{Url:n.RealtimeApiUrl,Type:"POST",Data:{id:i,symbol:this.Symbol,daterange:r}},Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(e){n.RecvStockValue(e,t,a,0),n.Execute.RunNextJob()}),1==o.PreventDefault)return}new ha({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,RealtimeUrl:this.RealtimeApiUrl,Args:e,DataKey:a,Callback:function(t,e,i){n.RecvStockValue(t,e,i,0),n.Execute.RunNextJob()},ErrorCallback:function(t){n.AddStockValueError(a,t)}}).Download()},this.GetGPJYValue=function(t){var e=this.JobArgumentsToArray(t,3),i=this.GetStockDataKey(t,e);if(this.StockData.has(i))return this.Execute.RunNextJob();var a=this,n=1==e[2]?0:2;if(this.NetworkFilter){var r=this.Data.GetDateRange(),o={Name:"JSSymbolData::GetGPJYValue",Explain:"股票交易类数据GPJYVALUE(ID,N,TYPE)",JobID:t.ID,Request:{Url:a.StockHistoryDayApiUrl,Type:"POST",Data:{Args:e,symbol:this.Symbol,daterange:r}},Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(e){a.RecvStockValue(e,t,i,n),a.Execute.RunNextJob()}),1==o.PreventDefault)return}new function(t){this.Url=t.Url,this.RealtimeUrl=t.RealtimeUrl,this.Job=t.Job,this.Symbol=t.Symbol,this.Args=t.Args,this.DataKey=t.DataKey,this.RecvCallback=t.Callback,this.ErrorCallback=t.ErrorCallback,this.Download=function(){var t=this,e=this.GetFieldList();if(!e)return message=this.Job.FunctionName+"("+this.Args[0]+", "+this.Args[1]+", "+this.Args[2]+") can't support.",this.ErrorCallback(message),void t.RecvCallback(null,t.Job,t.DataKey,!0);C.HttpRequest({url:this.Url,data:{field:e,symbol:[this.Symbol],orderfield:"date",order:-1,start:0,end:5},type:"post",dataType:"json",async:!0,success:function(e){var i=t.ToHQChartData(e);i&&i.length>0&&i.sort(function(t,e){return t.Date-e.Date}),t.RecvCallback(i,t.Job,t.DataKey)}})},this.GetFieldList=function(){var t=this.Args[0];switch(t){case 1:return["shareholder","date","symbol"];case 2:return["tradedetail.buy","tradedetail.sell","date","symbol"];case 3:return["margin","date","symbol"];case 4:return["blocktrading.amount","blocktrading.price","date","symbol"];default:return null}},this.ToHQChartData=function(t){if(!t.stock||1!=t.stock.length)return null;var e=[],i=new c.default,a=t.stock[0],n=this.Args[0],r=this.Args[1];for(var o in a.stockday){var s=a.stockday[o],l=this.ToHQChartItemData(s,n,r);l&&!i.has(l.Date)&&(e.push(l),i.add(l.Date))}return e},this.ToHQChartItemData=function(t,e,i){if(!t)return null;var a=t.date;switch(e){case 1:return t.shareholder?{Date:a,Value:t.shareholder.count}:null;case 2:return!t.tradedetail&&t.tradedetail[0]?null:0==i?{Date:a,Value:t.tradedetail[0].buy}:{Date:a,Value:t.tradedetail[0].sell};case 3:if(!t.margin)return null;if(0==i){if(t.margin.buy)return{Date:a,Value:t.margin.buy.balance}}else if(t.margin.sell)return{Date:a,Value:t.margin.sell.balance};return null;case 4:return t.blocktrading?0==i?{Date:a,Value:t.blocktrading.price}:{Date:a,Value:t.blocktrading.amount}:null;default:return null}}}({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,Args:e,DataKey:i,Callback:function(t,e,i){a.RecvStockValue(t,e,i,n),a.Execute.RunNextJob()},ErrorCallback:function(t){a.AddStockValueError(i,t)}}).Download()},this.GetSCJYValue=function(t){var e=this.JobArgumentsToArray(t,3),i=this.GetStockDataKey(t,e);if(this.StockData.has(i))return this.Execute.RunNextJob();var a=this,n=1==e[2]?0:2;if(this.NetworkFilter){var r=this.Data.GetDateRange(),o={Name:"JSSymbolData::GetSCJYValue",Explain:"股票交易类数据SCJYVALUE(ID,N,TYPE)",JobID:t.ID,Request:{Url:a.StockHistoryDayApiUrl,Type:"POST",Data:{Args:e,symbol:this.Symbol,daterange:r}},Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(e){a.RecvStockValue(e,t,i,n),a.Execute.RunNextJob()}),1==o.PreventDefault)return}new function(t){this.Url=t.Url,this.Job=t.Job,this.Symbol=t.Symbol,this.Args=t.Args,this.DataKey=t.DataKey,this.RecvCallback=t.Callback,this.ErrorCallback=t.ErrorCallback,this.Download=function(){var t=this,e=this.GetQueryCondtion();if(!e)return message=this.Job.FunctionName+"("+this.Args[0]+", "+this.Args[1]+", "+this.Args[2]+") can't support.",this.ErrorCallback(message),void t.RecvCallback(null,t.Job,t.DataKey,!0);C.HttpRequest({url:this.Url,data:{field:e.Field,symbol:e.Symbol,condition:e.Cond,start:0,end:2e3},type:"post",dataType:"json",async:!0,success:function(e){var i=t.ToHQChartData(e);i&&i.sort(function(t,e){return t.Date-e.Date}),t.RecvCallback(i,t.Job,t.DataKey)}})},this.GetQueryCondtion=function(){var t=new Date,e=1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate();t.setDate(t.getDate()-100);var i=1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate(),a=this.Args[0];switch(a){case 1:var n={Symbol:["CNA.ci"],Field:["margin"],Cond:[{item:["date","int32","gte",i.toString(),"lte",e.toString()]},{item:["margin","doc","exists","true"]}]};return n}},this.ToHQChartData=function(t){if(!t.stock||1!=t.stock.length)return null;var e=[],i=new c.default,a=t.stock[0],n=this.Args[0],r=this.Args[1];for(var o in a.stockday){var s=a.stockday[o],l=this.ToHQChartItemData(s,n,r);l&&!i.has(l.Date)&&(e.push(l),i.add(l.Date))}return e},this.ToHQChartItemData=function(t,e,i){if(!t)return null;var a=t.date,n=null;switch(e){case 1:return t.margin?(n=t.margin,1==i?n.buy&&Ce.IsNumber(n.buy.balance)?{Date:a,Value:n.buy.balance}:null:Ce.IsNumber(n.sell.balance)?{Date:a,Value:n.sell.balance}:null):null;default:return null}}}({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,Args:e,DataKey:i,Callback:function(t,e,i){a.RecvStockValue(t,e,i,n),a.Execute.RunNextJob()},ErrorCallback:function(t){a.AddStockValueError(i,t)}}).Download()},this.GetVariantData=function(t){var e=t.VariantName;if(this.StockData.has(e))return this.Execute.RunNextJob();var i=this;if(this.NetworkFilter){var a=this.Data.GetDateRange(),n={Name:"JSSymbolData::GetVariantData",Explain:"变量数据下载",JobID:t.ID,Request:{Url:"www.121287.com",Type:"POST",Data:{VariantName:t.VariantName,symbol:this.Symbol,daterange:a}},Self:this,PreventDefault:!1};if(this.NetworkFilter(n,function(a){if(a.Error)i.AddStockValueError(e,a.Error);else{var n=0;Ce.IsNumber(a.DataType)&&(n=a.DataType),i.RecvStockValue(a.Data,t,e,n)}i.Execute.RunNextJob()}),1==n.PreventDefault)return}var r,o=function(t){i.AddStockValueError(e,t)};if("CAPITAL"==t.VariantName||"TOTALCAPITAL"==t.VariantName||"EXCHANGE"==t.VariantName){var s=function(t,e,a){i.RecvStockValue(t,e,a,0),i.Execute.RunNextJob()};r=new ha({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,RealtimeUrl:this.RealtimeApiUrl,Args:[t.VariantName],DataKey:e,Callback:s,ErrorCallback:o})}else{if("HYBLOCK"!=t.VariantName&&"DYBLOCK"!=t.VariantName&&"GNBLOCK"!=t.VariantName){if("INBLOCK"==t.VariantName){var l=t.VariantName+", 请对接外部数据.";return this.AddStockValueError(e,l),void this.Execute.RunNextJob()}l="不支持变量"+t.VariantName+", 请对接外部数据.";return this.AddStockValueError(e,l),void this.Execute.RunNextJob()}s=function(t,e,a,n){i.RecvStockValue(t,e,a,n),i.Execute.RunNextJob()};r=new function(t){this.Url=t.Url,this.RealtimeUrl=t.RealtimeUrl,this.Job=t.Job,this.Symbol=t.Symbol,this.Args=t.Args,this.DataKey=t.DataKey,this.RecvCallback=t.Callback,this.ErrorCallback=t.ErrorCallback,this.Download=function(){var t=this.Args[0];switch(t){case"HYBLOCK":case"DYBLOCK":case"GNBLOCK":this.DownloadGroupName(t)}},this.DownloadGroupName=function(t){var e=this,i=["name","symbol"];"HYBLOCK"==t?i.push("industry"):"DYBLOCK"==t?i.push("region"):"GNBLOCK"==t&&i.push("concept"),C.HttpRequest({url:e.RealtimeUrl,data:{field:i,symbol:[this.Symbol]},type:"post",dataType:"json",async:!0,success:function(t){var i=e.RecvGroupName(t);e.RecvCallback(i,e.Job,e.DataKey,1)},error:function(t){e.ErrorCallback(t)}})},this.RecvGroupName=function(t){if(!t.stock||1!=t.stock.length)return null;var e=t.stock[0],i=this.Args[0],a=null;if("HYBLOCK"==i){var n=e.industry;if(!n)return null;for(var r in n){var o=n[r];a=o.name}}else if("DYBLOCK"==i){var s=e.region;if(!s)return null;for(var r in s){var o=s[r];a=o.name}}else if("GNBLOCK"==i){var l=e.concept;if(!l)return null;for(var r in a="",l){var o=l[r];a.length>0&&(a+=" "),a+=o.name}}return{Value:a}}}({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,RealtimeUrl:this.RealtimeApiUrl,Args:[t.VariantName],DataKey:e,Callback:s,ErrorCallback:o})}r.Download()},this.GetCustomVariantData=function(t){var e=t.VariantName;if(this.StockData.has(e))return this.Execute.RunNextJob();var i=Bi.CustomVariant.Data.get(e),a=this;if(this.NetworkFilter){var n=this.Data.GetDateRange(),r={Name:"JSSymbolData::GetCustomVariantData",Explain:"自定义变量数据下载",JobID:t.ID,Request:{Url:"www.121287.com",Type:"POST",Data:{VariantName:t.VariantName,symbol:this.Symbol,daterange:n,period:this.Period}},Self:this,VariantInfo:i,PreventDefault:!1};this.NetworkFilter(r,function(i){i.Error?a.AddStockValueError(e,i.Error):a.RecvStockValue(i.Data,t,e,i.DataType),a.Execute.RunNextJob()})}else this.AddStockValueError(e,"自定义变量"+e+"下载失败"),this.Execute.RunNextJob()},this.GetCustomFunctionData=function(t){var e=t.FunctionName,i=Bi.CustomFunction.Data.get(e);if(!i.IsDownload)return this.Execute.RunNextJob();if(this.StockData.has(e))return this.Execute.RunNextJob();var a=this;if(this.NetworkFilter){var n=this.Data.GetDateRange(),r={Name:"JSSymbolData::GetCustomFunctionData",Explain:"自定义函数数据下载",JobID:t.ID,Request:{Url:"www.121287.com",Type:"POST",Data:{FunctionName:t.FunctionName,symbol:this.Symbol,daterange:n,JobItem:t}},Self:this,FunctionInfo:i,PreventDefault:!1};this.NetworkFilter(r,function(i){i.Error?a.AddStockValueError(e,i.Error):a.RecvStockValue(i.Data,t,e,i.DataType),a.Execute.RunNextJob()})}else this.AddStockValueError(e,"自定义函数"+e+"下载失败"),this.Execute.RunNextJob()},this.RecvStockValue=function(t,e,i,a){if(t){if(0==a)if(Array.isArray(t)){var n=this.Data;if(this.DataType==ta.KLINE_ID)if(mt.IsDayPeriod(this.Period,!0))l=n.GetFittingFinanceData(t);else{if(!mt.IsMinutePeriod(this.Period,!0))return;l=n.GetMinuteFittingFinanceData(t)}else l=n.GetMinuteFittingFinanceData(t);(h=new mt).Data=l;var r=h.GetValue();if("EXCHANGE"==i)for(var o in r){var s=n.Data[o];Ce.IsPlusNumber(r[o])&&(r[o]=s.Vol/r[o]*100)}this.StockData.set(i,{Data:r})}else this.StockData.set(i,{Data:t.Value});else if(1==a)this.StockData.set(i,{Data:t.Value});else if(2==a){var l,h;n=this.Data;if(this.DataType==ta.KLINE_ID)if(mt.IsDayPeriod(this.Period,!0))l=n.GetFittingTradeData(t,0);else if(mt.IsMinutePeriod(this.Period,!0))l=n.GetMinuteFittingTradeData(t,0);else{if(!mt.IsTickPeriod(this.Period))return;l=n.GetMinuteFittingTradeData(t,0)}else l=n.GetMinuteFittingTradeData(t,0);(h=new mt).Data=l;r=h.GetValue();this.StockData.set(i,{Data:r})}}else g.Complier.Log("[JSSymbolData::RecvStockValue] key="+i+" data is null")},this.AddStockValueError=function(t,e){this.StockData.set(t,{Error:e})},this.GetStockCacheData=function(t){var e;if(t.FunctionName)e=this.GetStockDataKey({FunctionName:t.FunctionName},t.Args);else if(t.VariantName)e=t.VariantName;else{if(!t.CustomName)return null;e=t.CustomName}if(!this.StockData.has(e))return null;var i=this.StockData.get(e);return i.Error&&this.Execute.ThrowUnexpectedNode(t.Node,i.Error),i.Data},this.IsInBlock=function(t,e){var i=this.GetStockCacheData({VariantName:"INBLOCK",Node:e});if(!i)return 0;for(var a=i.split("|"),n=0;n<a.length;++n){if(a[n]==t)return 1}return 0},this.JobArgumentsToArray=function(t,e){var i=t.Args;if(i.length!=e){var a=t.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,t.FunctionName+"() Error: argument count error.")}for(var n=[],r=0;r<i.length;++r){var o=i[r];if(Ce.IsNumber(o))n.push(o);else if(o.Type==Ui.Literal)n.push(o.Value);else if(o.Type==Ui.Identifier){var s=!1;for(var l in this.Arguments){var h=this.Arguments[l];if(h.Name==o.Name){n.push(h.Value),s=!0;break}}if(!s){a=t.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,t.FunctionName+"() Error: can't read "+o.Name)}}}return n},this.DownloadCustomAPIData=function(t){if(!this.NetworkFilter)return this.Execute.RunNextJob();var e=[];for(var i in t.Args){var a=t.Args[i];if(a.Type==Ui.Literal)e.push(a.Value);else{if(a.Type!=Ui.Identifier)return this.Execute.RunNextJob();var n=!1;for(var r in this.Arguments){var o=this.Arguments[r];if(o.Name==a.Name){e.push(o.Value),n=!0;break}}if(!n){var s=t.Token;this.Execute.ErrorHandler.ThrowError(s.Index,s.Line,0,"LoadAPIData() Error: can't read "+a.Name)}}}var l=this,h={Name:"JSSymbolData::DownloadCustomAPIData",Explain:"下载自定义api数据",Period:this.Period,Right:this.Right,Symbol:this.Symbol,KData:this.Data,Cache:this.CustomAPIData,Args:e,Self:this,PreventDefault:!1};this.NetworkFilter(h,function(t){l.RecvCustomAPIData(t,e),l.Execute.RunNextJob()}),1!=h.PreventDefault&&this.Execute.RunNextJob()},this.RecvCustomAPIData=function(t,e){t&&(1==t.Type?this.RecvCustomAPISingleData(t,e):this.RecvCustomAPIGroupData(t,e))},this.RecvCustomAPIGroupData=function(t,e){if(t&&t.data){var i=t.data,a=this.GenerateCustomAPIKey(e);if(mt.IsMinutePeriod(this.Period,!0)){if(!i.date||!i.time)return;var n=i.date;i.time;for(var r in i)if("date"!=r&&"time"!=r)var o=i[r]}else if(mt.IsDayPeriod(this.Period,!0)){if(!i.date)return;n=i.date;var s={__Type__:"Object"};for(var r in i)if("date"!=r){o=i[r];if(Array.isArray(o)){var l=this.FittingCustomAPIArray(o,n);s[r]=l}else this.IsNumber(o)&&(s[r]=o)}this.CustomAPIData.set(a,s)}}},this.RecvCustomAPISingleData=function(t,e){var i=t.data,a=this.GenerateCustomAPIKey(e);if(mt.IsMinutePeriod(this.Period,!0)){if(!i.date||!i.time)return;var n=i.date;i.time;for(var r in i)if("date"!=r&&"time"!=r)i[r]}else if(mt.IsDayPeriod(this.Period,!0)){if(!i.date)return;n=i.date;var o=i.value,s=null;s=Array.isArray(o)?1==t.DataType?this.FittingCustomAPIFinanceArray(o,n):this.FittingCustomAPIArray(o,n):o,this.CustomAPIData.set(a,s)}},this.FittingCustomAPIFinanceArray=function(t,e,i){var a,n=this.Data,r=[];for(var o in t){var s=t[o],l=new ut;l.Date=e[o],i&&o<i.length&&(l.Time=i[o]),l.Value=s,r.push(l)}if(mt.IsDayPeriod(this.Period,!0))a=n.GetFittingFinanceData(r);else{if(!mt.IsMinutePeriod(this.Period,!0))return null;a=n.GetMinuteFittingFinanceData(r)}var h=new mt;return h.Data=a,h.GetValue()},this.FittingCustomAPIArray=function(t,e,i){var a,n=this.Data,r=[];for(var o in t){var s=t[o],l=new ut;l.Date=e[o],i&&o<i.length&&(l.Time=i[o]),l.Value=s,r.push(l)}if(mt.IsDayPeriod(this.Period,!0))a=n.GetFittingData(r);else{if(!mt.IsMinutePeriod(this.Period,!0))return null;a=n.GetMinuteFittingData(r)}var h=new mt;return h.Data=a,h.GetValue()},this.GenerateCustomAPIKey=function(t){if(t.length<=0)return"__12_EMPTY_ARGS__";var e="";for(var i in t)e.length>0&&(e+=","),e+=t[i];return e},this.GetCustomApiData=function(t){var e=this.GenerateCustomAPIKey(t);return this.CustomAPIData.has(e)?this.CustomAPIData.get(e):(g.Complier.Log("[JSSymbolData::GetCustomApiData] can't find api data key=["+e+"]"),null)},this.ReadArgumentValue=function(t,e){if(e.Name=t.Name,t.Type==Ui.Literal)return e.Value=t.Value,!0;if(t.Type==Ui.Identifier){var i=!1;for(var a in this.Arguments){var n=this.Arguments[a];if(n.Name==t.Name)return e.Value=n.Value,i=!0,!0}if(!i)return e.Error="can't read "+t.Name,!1}return e.Error="can't read "+t.Name+", type error.",!1},this.ReadIndexFunctionValue=function(t,e){var i={};if("object"===(void 0===t?"undefined":(0,h.default)(t))){if(!this.ReadArgumentValue(t,i))return e.Error=i.Error,!1}else i.Value=t;var a,n=i.Value.indexOf(".");-1!=n?(e.Name=i.Value.slice(0,n),-1!=(a=i.Value.indexOf("#",n+1))?(e.Out=i.Value.slice(n+1,a),e.Period=i.Value.slice(a+1)):e.Out=i.Value.slice(n+1)):-1!=(a=i.Value.indexOf("#"))?(e.Name=i.Value.slice(0,a),e.Period=i.Value.slice(a+1)):e.Name=i.Value;var r=new p.default([["DAY",0],["WEEK",1],["MONTH",2],["SEASON",9],["YEAR",3],["HALFYEAR",22],["WEEK2",21],["MIN1",4],["MIN5",5],["MIN15",6],["MIN30",7],["MIN60",8],["DAY2",40002],["MULTIDAY",40002],["DAY3",40003],["DAY4",40004],["DAY5",40005],["DAY6",40006],["DAY7",40007],["DAY8",40008],["DAY9",40009],["DAY10",40010],["DAY11",40011],["DAY12",40012],["DAY13",40013],["DAY14",40014],["DAY15",40015]]);if(e.Period){if(!r.has(e.Period))return e.Error=e.Period+", 周期错误",!1;e.PeriodID=r.get(e.Period)}return!0},this.ReadSymbolArgumentValue=function(t,e){var i={};if("object"===(void 0===t?"undefined":(0,h.default)(t))){if(!this.ReadArgumentValue(t,i))return e.Error=i.Error,!1}else i.Value=t;return""==i.Value&&(i.Value=this.Symbol),i.Value.indexOf(".SH")>0?e.Symbol=i.Value.replace(".SH",".sh"):i.Value.indexOf(".SZ")>0?e.Symbol=i.Value.replace(".SZ",".sz"):e.Symbol=i.Value,!0},this.ReadIndexArgumentValue=function(t,e){for(var i in e.Args=[],e.SytemIndex.Args){var a=e.SytemIndex.Args[i];e.Args.push({Value:a.Value,Name:a.Name})}if(t.length>2&&e.SytemIndex.Args&&e.SytemIndex.Args.length>0){i=2;for(var n=0;i<t.length&&n<e.SytemIndex.Args.length;++i,++n){var r={};if("object"===(void 0===(a=t[i])?"undefined":(0,h.default)(a))){if(!this.ReadArgumentValue(a,r))return e.Error=r.Error,!1}else r.Value=a;e.Args[n].Value=r.Value}}return!0},this.GenerateScriptIndexKey=function(t){var e="",i=t.Args;for(var a in i){e.length>0&&(e+=","),e+=i[a].Value.toString()}var n=t.Out?t.Out:"ALL";return"("+t.Symbol+","+t.PeriodID+"), "+t.Name+"("+e+")=>"+n},this.CallMemberScriptIndex=function(t){var e=this;if(t.Member.Object.Type!=Ui.Identifier||t.Member.Property.Type!=Ui.Identifier){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallMemberScriptIndex() Error: 参数错误")}var a=t.Member.Object.Name,n=t.Member.Property.Name;if(""==n||null==n){i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallMemberScriptIndex() Error: "+a+"."+n+" 指标输出变量错误")}if(this.Execute.VarTable.has(a)&&this.Execute.VarTable.get(a).hasOwnProperty(n))return g.Complier.Log("[JSSymbolData::CallMemberScriptIndex] index data "+a+"."+n+" in cache."),this.Execute.RunNextJob();var r=a+"."+n,o={Job:t,PeriodID:this.Period,Symbol:this.Symbol};if(!this.ReadIndexFunctionValue(r,o)){i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallMemberScriptIndex() Error: '"+r+"' "+o.Error)}var s=(new I).Get(o.Name);if(!s){i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallMemberScriptIndex() Error: '"+r+"' "+o.Name+" 指标不存在")}if(Array.isArray(s.Args)&&s.Args.length>0)for(var l in o.Args=[],s.Args){var h=s.Args[l];o.Args.push({Value:h.Value,Name:h.Name})}g.Complier.Log("[JSSymbolData::CallMemberScriptIndex] call script index",o);var u=this.Data.GetDateRange(),c={HQDataType:this.DataType,Symbol:o.Symbol,Name:"",Right:this.Right,Period:o.PeriodID,Data:null,SourceData:null,Callback:function(t,i,a){e.RecvMemberScriptIndexData(t,i,a),e.Execute.RunNextJob()},CallbackParam:o,Async:!0,MaxRequestDataCount:this.MaxRequestDataCount+60,MaxRequestMinuteDayCount:this.MaxRequestMinuteDayCount+2,Arguments:o.Args,IsBeforeData:this.IsBeforeData,NetworkFilter:this.NetworkFilter,KLineRange:u};Qi.Execute(s.Script,c,function(t,i){e.ExecuteScriptIndexError(t,i)})},this.CallScriptIndex=function(t){var e=this;if(t.Member)return this.CallMemberScriptIndex(t);if(!(t.Args&&t.Args.length>=2)){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallScriptIndex() Error: "+t.FunctionName+" 参数错误")}var a={Job:t,PeriodID:this.Period};if(!this.ReadSymbolArgumentValue(t.Args[0],a)){i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallScriptIndex() Error: "+a.Error)}if(!this.ReadIndexFunctionValue(t.Args[1],a)){i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallScriptIndex() Error: "+a.Error)}var n=(new I).Get(a.Name);if(!n){i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallScriptIndex() "+a.Name+" 指标不存在")}if(a.SytemIndex=n,!this.ReadIndexArgumentValue(t.Args,a)){i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallScriptIndex() "+a.Name+" 指标参数错误 : "+a.Error+" ")}g.Complier.Log("[JSSymbolData::CallScriptIndex] call script index",a);var r=null;if(this.Data&&this.Data.Data.length>0){var o=this.Data.Data[0],s=this.Data.Data[this.Data.Data.length-1];r={Start:{Date:o.Date,Time:o.Time},End:{Date:s.Date,Time:s.Time}}}var l={HQDataType:this.DataType,Symbol:a.Symbol,Name:"",Right:this.Right,Period:a.PeriodID,Data:null,SourceData:null,Callback:function(t,i,a){e.RecvScriptIndexData(t,i,a),e.Execute.RunNextJob()},CallbackParam:a,Async:!0,MaxRequestDataCount:this.MaxRequestDataCount+60,MaxRequestMinuteDayCount:this.MaxRequestMinuteDayCount+2,Arguments:a.Args,IsBeforeData:this.IsBeforeData,NetworkFilter:this.NetworkFilter,IsApiPeriod:this.IsApiPeriod,KLineRange:r};Qi.Execute(a.SytemIndex.Script,l,function(t,i){e.ExecuteScriptIndexError(t,i)})},this.RecvMemberScriptIndexData=function(t,e,i){g.Complier.Log("[JSSymbolData::RecvMemberScriptIndexData] ",t,e,i);var a=i.Data.Data,n=t,r=this.Data.FitKLineIndex(a,n,this.Period,e.PeriodID),o=e.Job.Member,s=o.Object.Name,l=(o.Property.Name,{});for(var h in this.Execute.VarTable.has(s)?l=this.Execute.VarTable.get(s):this.Execute.VarTable.set(s,l),r){var u=t[h].Name;e.Period&&(u+="#"+e.Period),l[u]=r[h].Data}},this.RecvScriptIndexData=function(t,e,i){var a=this.GenerateScriptIndexKey(e);g.Complier.Log("[JSSymbolData::RecvScriptIndexData] ",t,e,i,a);var n=i.Data.Data,r=t;if(e.Out){for(var o in t){if((h=t[o]).Name==e.Out){r=[h];break}}var s=this.Data.FitKLineIndex(n,r,this.Period,e.PeriodID);this.ScriptIndexOutData.set(a,s[0].Data)}else{s=this.Data.FitKLineIndex(n,r,this.Period,e.PeriodID);var l={__Type__:"Object"};for(var o in s){var h;l[(h=s[o]).Name]=h.Data}this.ScriptIndexOutData.set(a,l)}},this.ExecuteScriptIndexError=function(t,e){var i=e.Job.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallScriptIndex() "+e.Name+" 指标执行错误 : "+t+" ")},this.GetScriptIndexOutData=function(t,e){var i={PeriodID:this.Period};this.ReadSymbolArgumentValue(t[0],i)||this.Execute.ThrowUnexpectedNode(e,"STKINDI() 股票代码错误: "+i.Error),this.ReadIndexFunctionValue(t[1],i)||this.Execute.ThrowUnexpectedNode(e,"STKINDI() 指标错误: "+i.Error);var a=(new I).Get(i.Name);a||this.Execute.ThrowUnexpectedNode(e,"STKINDI() 指标错误: "+i.Name+" 指标不存在"),i.SytemIndex=a,this.ReadIndexArgumentValue(t,i)||this.Execute.ThrowUnexpectedNode(e,"STKINDI()  指标参数错误: "+i.Error);var n=this.GenerateScriptIndexKey(i);return this.ScriptIndexOutData.has(n)?this.ScriptIndexOutData.get(n):null},this.JsonDataToHistoryData=function(t){for(var e=t.data,i=new Array,a=0;a<e.length;++a){var n=new ot;n.Date=e[a][0],n.Open=e[a][2],n.YClose=e[a][1],n.Close=e[a][5],n.High=e[a][3],n.Low=e[a][4],n.Vol=e[a][6],n.Amount=e[a][7],e[a].length>8&&(n.Up=e[a][8]),e[a].length>9&&(n.Down=e[a][9]),e[a].length>10&&(n.Stop=e[a][10]),e[a].length>11&&(n.Unchanged=e[a][11]),isNaN(n.Open)||n.Open<=0||i.push(n)}return i},this.JsonDataToMinuteHistoryData=function(t){for(var e=t.data,i=new Array,a=0;a<e.length;++a){var n=new ot;n.Date=e[a][0],n.Open=e[a][2],n.YClose=e[a][1],n.Close=e[a][5],n.High=e[a][3],n.Low=e[a][4],n.Vol=e[a][6],n.Amount=e[a][7],n.Time=e[a][8],i.push(n)}for(var r=0;r<i.length;++r){var o=i[r];if(null==o&&coninue,isNaN(o.Open)||o.Open<=0||isNaN(o.High)||o.High<=0||isNaN(o.Low)||o.Low<=0||isNaN(o.Close)||o.Close<=0||isNaN(o.YClose)||o.YClose<=0)if(0==r)o.YClose>0&&(o.Open=o.YClose,o.High=o.YClose,o.Low=o.YClose,o.Close=o.YClose);else for(var s=r-1;s>=0;--s){var l=i[s];if(null==l&&coninue,l.Open>0&&l.High>0&&l.Low>0&&l.Close>0){o.YClose<=0&&(o.YClose=l.Close),o.Open=l.Open,o.High=l.High,o.Low=l.Low,o.Close=l.Close;break}}}return i},this.JsonDataToMinuteData=function(t){var e=new Array;for(var i in t.stock[0].minute){var a=t.stock[0].minute[i],n=new st;n.Close=a.price,n.Open=a.open,n.High=a.high,n.Low=a.low,n.Vol=a.vol,n.Amount=a.amount,n.DateTime=0==i?t.stock[0].date.toString()+" 0925":t.stock[0].date.toString()+" "+a.time.toString(),n.Date=t.stock[0].date,n.Time=a.time,n.Increase=a.increase,n.Risefall=a.risefall,n.AvPrice=a.avprice,e[i]=n}return e},this.JsonDataToMultiDayMinuteData=function(t){var e=t.symbol.toUpperCase(),i=Ii.IsSHSZ(e),a=(Ii.IsChinaFutures(e),[]);for(var n in t.data){var r=[],o=t.data[n],s=o.date,l=o.yclose,h=l,u=null;for(var c in o.minute){var d=o.minute[c];d[2]&&(h=d[2]),(p=new st).Close=d[2],p.Open=d[1],p.High=d[3],p.Low=d[4],p.Vol=d[5]/100,p.Amount=d[6],7<d.length&&d[7]>0&&(p.AvPrice=d[7],u=d[7]),p.DateTime=s.toString()+" "+d[0].toString(),p.Date=s,p.Time=d[0],p.Close||(p.Close=h,p.Open=p.High=p.Low=p.Close),!p.AvPrice&&u&&(p.AvPrice=u),p.Close&&l?p.Increase=(p.Close-l)/l*100:p.Increase=null,0==c&&(i&&(p.DateTime=s.toString()+" 0925"),p.IsFristData=!0),p.Open<=0&&(p.Open=null),p.Close<=0&&(p.Close=null),p.AvPrice<=0&&(p.AvPrice=null),p.High<=0&&(p.High=null),p.Low<=0&&(p.Low=null),p.AvPrice<=0&&(p.AvPrice=null),r[c]=p}var f=new mt;f.Data=r,f.YClose=l,f.Close=o.close,f.Date=s,a.push(f)}for(r=[],n=a.length-1;n>=0;--n){var p=a[n];for(var c in p.Data)r.push(p.Data[c])}return r},this.CODELIKE=function(t){return this.Symbol&&0==this.Symbol.indexOf(t)?1:0},this.NAMELIKE=function(t){return this.Name&&0==this.Name.indexOf(t)?1:0},this.SETCODE=function(){return this.Symbol.indexOf(".sh")?1:(this.Symbol.indexOf(".sz"),0)},this.GetSymbol=function(){return this.Symbol},this.GetName=function(){return this.Name},this.DATE=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var i=this.Data.Data[e];t[e]=i.Date-19e6}return t},this.YEAR=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var i=this.Data.Data[e];this.IsNumber(i.Date)?t[e]=parseInt(i.Date/1e4):t[e]=null}return t},this.DAY=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var i=this.Data.Data[e];this.IsNumber(i.Date)?t[e]=parseInt(i.Date%100):t[e]=null}return t},this.MONTH=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var i=this.Data.Data[e];this.IsNumber(i.Date)?t[e]=parseInt(i.Date%1e4/100):t[e]=null}return t},this.TIME=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=0;e<this.Data.Data.length;++e){var i=this.Data.Data[e];this.IsNumber(i.Time)?t[e]=i.Time:t[e]=0}return t},this.DateTime=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=mt.IsMinutePeriod(this.Period,!0),i=0;i<this.Data.Data.length;++i){var a=this.Data.Data[i];t[i]=e?1e4*a.Date+a.Time:a.Date}return t},this.WEEK=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;var e=new Date;for(var i in this.Data.Data){var a=this.Data.Data[i];if(t[i]=null,this.IsNumber(a.Date)){var n=parseInt(a.Date/1e4),r=parseInt(a.Date%1e4/100),o=a.Date%100;e.setFullYear(n,r-1,o),t[i]=e.getDay()}}return t},this.REFDATE=function(t,e){var i=null;if(Array.isArray(e)?e.length>0&&(i=e[e.length-1]):this.IsNumber(e)&&(i=e),null==i)return null;i<5e6&&(i+=19e6);var a=null;for(var n in this.Data.Data)if(this.Data.Data[n].Date==i){a=parseInt(n);break}return null==a||a>=t.length?null:t[a]},this.PERIOD=function(){var t=[5,6,7,11,0,1,2,3,4,5,9];return this.Period>=0&&this.Period<=t.length-1?t[this.Period]:this.Period},this.GetDrawNull=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data)t[e]=null;return t},this.SysParam=function(t,e){if(!this.DrawInfo)return[];if(2==t){if(e.IsUsePageData=!0,Ce.IsNumber(this.DrawInfo.Start))return this.DrawInfo.Start+1}else if(3==t){if(e.IsUsePageData=!0,Ce.IsNumber(this.DrawInfo.End))return this.DrawInfo.End+1}else{if(4==t){if(e.IsUsePageData=!0,!Ce.IsNumber(this.DrawInfo.End)||!Ce.IsNumber(this.DrawInfo.Start))return[];if(!this.Data||!Ce.IsNonEmptyArray(this.Data.Data))return[];for(var i=null,a=this.DrawInfo.Start;a<=this.DrawInfo.End&&a<this.Data.Data.length;++a){var n=this.Data.Data[a];Ce.IsNumber(n.High)&&(null==i?i=n.High:i<n.High&&(i=n.High))}return i}if(5==t){if(e.IsUsePageData=!0,!Ce.IsNumber(this.DrawInfo.End)||!Ce.IsNumber(this.DrawInfo.Start))return[];if(!this.Data||!Ce.IsNonEmptyArray(this.Data.Data))return[];var r=null;for(a=this.DrawInfo.Start;a<=this.DrawInfo.End&&a<this.Data.Data.length;++a){n=this.Data.Data[a];Ce.IsNumber(n.Low)&&(null==r?r=n.Low:r>n.Low&&(r=n.Low))}return r}}return[]}}qi.prototype.IsNumber=function(t){return null!=t&&!isNaN(t)},qi.prototype.IsDivideNumber=function(t){return null!=t&&(!isNaN(t)&&0!=t)},qi.prototype.JsonDataToFinance=function(t){for(var e,i=1;i<=4;++i){switch(i){case 1:var a=t.finance1,n=t.announcement1;break;case 2:a=t.finance2,n=t.announcement2;break;case 3:a=t.finance3,n=t.announcement3;break;case 4:a=t.finance4,n=t.announcement4}a&&n&&this.IsNumber(n.year)&&this.IsNumber(n.quarter)&&(e?e.Announcement.year<n.year&&(e={Date:t.date,Finance:a,Announcement:n}):e={Date:t.date,Finance:a,Announcement:n})}return e};var Ji=!1,Zi={JOB_DOWNLOAD_SYMBOL_DATA:1,JOB_DOWNLOAD_INDEX_DATA:2,JOB_DOWNLOAD_SYMBOL_LATEST_DATA:3,JOB_DOWNLOAD_INDEX_INCREASE_DATA:4,JOB_DOWNLOAD_VOLR_DATA:5,JOB_DOWNLOAD_LATEST_INDEX_DATA:8,JOB_DOWNLOAD_OTHER_SYMBOL_DATA:9,JOB_DOWNLOAD_SYMBOL_PERIOD_DATA:10,JOB_DOWNLOAD_FINVALUE:301,JOB_DOWNLOAD_FINONE:302,JOB_DOWNLOAD_FINANCE:303,JOB_DOWNLOAD_GPJYVALUE:304,JOB_DOWNLOAD_VARIANT:305,JOB_DOWNLOAD_SCJYVALUE:306,JOB_DOWNLOAD_MARGIN_BALANCE:1e3,JOB_DOWNLOAD_MARGIN_RATE:1001,JOB_DOWNLOAD_MARGIN_BUY_BALANCE:1010,JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:1011,JOB_DOWNLOAD_MARGIN_BUY_REPAY:1012,JOB_DOWNLOAD_MARGIN_BUY_NET:1013,JOB_DOWNLOAD_MARGIN_SELL_BALANCE:1020,JOB_DOWNLOAD_MARGIN_SELL_VOLUME:1021,JOB_DOWNLOAD_MARGIN_SELL_REPAY:1022,JOB_DOWNLOAD_MARGIN_SELL_NET:1023,JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE:2e3,JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH:2001,JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT:2002,JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE:2003,JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2:2004,JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER:2005,JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING:2006,JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS:2007,JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS:2008,JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE:2009,JOB_DOWNLOAD_HK_TO_SH:2050,JOB_DOWNLOAD_HK_TO_SZ:2051,JOB_DOWNLOAD_HK_TO_SH_SZ:2052,JOB_DOWNLOAD_HK_TO_SHSZ:2053,JOB_CUSTOM_FUNCTION_DATA:6e3,JOB_CUSTOM_VARIANT_DATA:6001,JOB_DOWNLOAD_SECTION_SF:2e4,JOB_DOWNLOAD_SECTION_F_01:20001,JOB_DOWNLOAD_SECTION_F_02:20002,JOB_DOWNLOAD_SECTION_F_03:20003,JOB_DOWNLOAD_SECTION_F_04:20004,JOB_DOWNLOAD_SECTION_F_05:20005,JOB_DOWNLOAD_SECTION_F_06:20006,JOB_DOWNLOAD_SECTION_F_07:20007,JOB_DOWNLOAD_SECTION_F_08:20008,JOB_DOWNLOAD_SECTION_F_09:20009,JOB_DOWNLOAD_SECTION_F_10:20010,JOB_DOWNLOAD_SECTION_F_11:20011,JOB_DOWNLOAD_SECTION_F_12:20012,JOB_DOWNLOAD_SECTION_F_13:20013,JOB_DOWNLOAD_SECTION_F_14:20014,JOB_DOWNLOAD_SECTION_F_15:20015,JOB_DOWNLOAD_SECTION_F_16:20016,JOB_DOWNLOAD_SECTION_F_17:20017,JOB_DOWNLOAD_SECTION_F_18:20018,JOB_DOWNLOAD_SECTION_F_19:20019,JOB_DOWNLOAD_SECTION_F_20:20020,JOB_DOWNLOAD_SECTION_F_21:20021,JOB_DOWNLOAD_SECTION_F_22:20022,JOB_DOWNLOAD_SECTION_F_23:20023,JOB_DOWNLOAD_SECTION_F_24:20024,JOB_DOWNLOAD_SECTION_F_25:20025,JOB_DOWNLOAD_SECTION_F_26:20026,JOB_DOWNLOAD_SECTION_F_27:20027,JOB_DOWNLOAD_SECTION_F_28:20028,JOB_DOWNLOAD_SECTION_F_29:20029,JOB_DOWNLOAD_SECTION_F_30:20030,JOB_DOWNLOAD_SECTION_F_31:20031,JOB_DOWNLOAD_SECTION_F_32:20032,JOB_DOWNLOAD_SECTION_F_33:20033,JOB_DOWNLOAD_SECTION_F_34:20034,JOB_DOWNLOAD_SECTION_F_35:20035,JOB_DOWNLOAD_SECTION_F_36:20036,JOB_DOWNLOAD_SECTION_F_37:20037,JOB_DOWNLOAD_SECTION_F_38:20038,JOB_DOWNLOAD_SECTION_F_39:20039,JOB_DOWNLOAD_CUSTOM_API_DATA:3e4,JOB_EXECUTE_INDEX:30010,JOB_RUN_SCRIPT:1e4,GetMarginJobID:function(t){var e=new p.default([[1,Zi.JOB_DOWNLOAD_MARGIN_BALANCE],[2,Zi.JOB_DOWNLOAD_MARGIN_RATE],[3,Zi.JOB_DOWNLOAD_MARGIN_BUY_BALANCE],[4,Zi.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT],[5,Zi.JOB_DOWNLOAD_MARGIN_BUY_REPAY],[6,Zi.JOB_DOWNLOAD_MARGIN_BUY_NET],[7,Zi.JOB_DOWNLOAD_MARGIN_SELL_BALANCE],[8,Zi.JOB_DOWNLOAD_MARGIN_SELL_VOLUME],[9,Zi.JOB_DOWNLOAD_MARGIN_SELL_REPAY],[10,Zi.JOB_DOWNLOAD_MARGIN_SELL_NET]]);return e.has(t)?e.get(t):null},GetNewsAnalysisID:function(t){var e=new p.default([[1,Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE],[2,Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH],[3,Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT],[4,Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE],[5,Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2],[6,Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER],[7,Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING],[8,Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS],[9,Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS],[10,Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE]]);return e.has(t)?e.get(t):null},GetSectionFinanceID:function(t){var e=new p.default([["流动资产",Zi.JOB_DOWNLOAD_SECTION_F_01],["货币资金",Zi.JOB_DOWNLOAD_SECTION_F_02],["存货",Zi.JOB_DOWNLOAD_SECTION_F_03],["流动负债",Zi.JOB_DOWNLOAD_SECTION_F_04],["非流动负债",Zi.JOB_DOWNLOAD_SECTION_F_05],["三项费用",Zi.JOB_DOWNLOAD_SECTION_F_06],["投资收益",Zi.JOB_DOWNLOAD_SECTION_F_07],["归母净利润",Zi.JOB_DOWNLOAD_SECTION_F_08],["扣非净利润",Zi.JOB_DOWNLOAD_SECTION_F_09],["扣非每股收益",Zi.JOB_DOWNLOAD_SECTION_F_10],["加权平均净资产收益",Zi.JOB_DOWNLOAD_SECTION_F_11],["在建工程",Zi.JOB_DOWNLOAD_SECTION_F_12],["累计折旧",Zi.JOB_DOWNLOAD_SECTION_F_13],["少数股东利润",Zi.JOB_DOWNLOAD_SECTION_F_14],["汇兑损益",Zi.JOB_DOWNLOAD_SECTION_F_15],["坏账计提",Zi.JOB_DOWNLOAD_SECTION_F_16],["固定资产",Zi.JOB_DOWNLOAD_SECTION_F_17],["当期折旧",Zi.JOB_DOWNLOAD_SECTION_F_18],["营业总收入",Zi.JOB_DOWNLOAD_SECTION_F_19],["主营业务利润",Zi.JOB_DOWNLOAD_SECTION_F_20],["营业利润",Zi.JOB_DOWNLOAD_SECTION_F_21],["净利润",Zi.JOB_DOWNLOAD_SECTION_F_22],["应收账款",Zi.JOB_DOWNLOAD_SECTION_F_23],["财务费用",Zi.JOB_DOWNLOAD_SECTION_F_24],["经营性现金流",Zi.JOB_DOWNLOAD_SECTION_F_25],["资产总计",Zi.JOB_DOWNLOAD_SECTION_F_26],["负债总计",Zi.JOB_DOWNLOAD_SECTION_F_27],["所有者权益总计",Zi.JOB_DOWNLOAD_SECTION_F_28],["毛利率",Zi.JOB_DOWNLOAD_SECTION_F_29],["每股资本公积金",Zi.JOB_DOWNLOAD_SECTION_F_30],["每股未分配利润",Zi.JOB_DOWNLOAD_SECTION_F_31],["每股收益",Zi.JOB_DOWNLOAD_SECTION_F_32],["每股净资产",Zi.JOB_DOWNLOAD_SECTION_F_33],["每股经营性现金流",Zi.JOB_DOWNLOAD_SECTION_F_34],["扣非净利润涨幅",Zi.JOB_DOWNLOAD_SECTION_F_35],["扣非净利润涨速",Zi.JOB_DOWNLOAD_SECTION_F_36],["净利润涨幅",Zi.JOB_DOWNLOAD_SECTION_F_37],["资产负债率",Zi.JOB_DOWNLOAD_SECTION_F_38],["利润同比",Zi.JOB_DOWNLOAD_SECTION_F_39]]);return e.has(t)?e.get(t):null},GetSectionReportPeriod:function(t,e){return t>=2e3&&e>=1&&e<=4?{Year:t,Quarter:e}:null}};function Qi(){}Qi.Tokenize=function(t){g.Complier.Log("[JSComplier.Tokenize]",t);var e=new function(t){this.ErrorHandler=new Wi,this.Scanner=new Xi(t,this.ErrorHandler),this.Buffer=[],this.GetNextToken=function(){if(0==this.Buffer.length&&(this.Scanner.ScanComments(),!this.Scanner.IsEOF())){var t=this.Scanner.Lex(),e={Type:Gi[t.Type],Value:this.Scanner.Source.slice(t.Start,t.End)};this.Buffer.push(e)}return this.Buffer.shift()}}(t),i=[];try{for(;;){var a=e.GetNextToken();if(!a)break;i.push(a)}}catch(t){}return i},Qi.Parse=function(t){g.Complier.Log("[JSComplier.Parse]",t);var e=new zi(t);return e.Initialize(),e.ParseScript()},Qi.Execute=function(t,e,i){!function(){try{e.Self&&(e.Self.Status=1),g.Complier.Log("[JSComplier.Execute]",t,e),g.Complier.Log("[JSComplier.Execute] parser .....");var a=new zi(t);a.Initialize();var n=a.ParseScript();g.Complier.Log("[JSComplier.Execute] parser finish.",n),e.Self&&(e.Self.Status=2),g.Complier.Log("[JSComplier.Execute] execute .....");var r=new function(t,e){var i=this;this.AST=t,this.ErrorHandler=new Wi,this.VarTable=new p.default,this.OutVarTable=[],this.Arguments=[],this.ErrorCallback,this.GetEventCallback,this.IsUsePageData=!1,this.IndexCtrl,this.Debug=0,this.DebugFilter,this.ConstVarTable=new p.default([["CLOSE",null],["VOL",null],["OPEN",null],["HIGH",null],["LOW",null],["AMOUNT",null],["C",null],["V",null],["O",null],["H",null],["L",null],["AMO",null],["VOLR",null],["VOLINSTK",null],["OPI",null],["QHJSJ",null],["SETTLE",null],["ZSTJJ",null],["ISEQUAL",null],["ISUP",null],["ISDOWN"],["DATE",null],["YEAR",null],["MONTH",null],["PERIOD",null],["WEEK",null],["TIME",null],["DAY",null],["DATETIME",null],["INDEXA",null],["INDEXC",null],["INDEXH",null],["INDEXL",null],["INDEXO",null],["INDEXV",null],["INDEXADV",null],["INDEXDEC",null],["ADVANCE",null],["DECLINE",null],["FROMOPEN",null],["TOTALFZNUM",null],["CURRBARSCOUNT",null],["TOTALBARSCOUNT",null],["ISLASTBAR",null],["BARSTATUS",null],["BARPOS",null],["CAPITAL",null],["TOTALCAPITAL",null],["EXCHANGE",null],["SETCODE",null],["CODE",null],["STKNAME",null],["TQFLAG",null],["HYBLOCK",null],["DYBLOCK",null],["GNBLOCK",null],["FGBLOCK",null],["ZSBLOCK",null],["ZHBLOCK",null],["ZDBLOCK",null],["HYZSCODE",null],["GNBLOCKNUM",null],["FGBLOCKNUM",null],["ZSBLOCKNUM",null],["ZHBLOCKNUM",null],["ZDBLOCKNUM",null],["HYSYL",null],["HYSJL",null],["DRAWNULL",null],["NULL",null],["MACHINEDATE",null],["MACHINETIME",null],["MACHINEWEEK",null]]),this.SymbolData=new qi(this.AST,e,this),this.Algorithm=new Ki(this.ErrorHandler,this.SymbolData),this.Draw=new $i(this.ErrorHandler,this.SymbolData),this.JobList=[],this.UpdateUICallback=null,this.CallbackParam=null,this.IsSectionMode=!1,e&&(e.Callback&&(this.UpdateUICallback=e.Callback),e.CallbackParam&&(this.CallbackParam=e.CallbackParam,this.CallbackParam.HQChart&&(this.GetEventCallback=function(t){return i.CallbackParam.HQChart.GetEventCallback(t)})),e.Arguments&&(this.Arguments=e.Arguments),e.IsSectionMode&&(this.IsSectionMode=e.IsSectionMode),e.Self&&(this.IndexCtrl=e.Self),Ce.IsNumber(e.Debug)&&(this.Debug=e.Debug),e.DebugFilter&&(this.DebugFilter=e.DebugFilter)),this.Execute=function(){for(var t in this.OutVarTable=[],this.VarTable=new p.default,g.Complier.Log("[JSExecute::Execute] Load Arguments",this.Arguments),this.Arguments){var e=this.Arguments[t];this.VarTable.set(e.Name,e.Value)}this.RunNextJob()},this.RunNextJob=function(){if(!(this.JobList.length<=0)){g.Complier.Log("[JSExecute::Execute] JobList",this.JobList);var t=this.JobList.shift();switch(t.ID){case Zi.JOB_DOWNLOAD_SYMBOL_DATA:return this.SymbolData.GetSymbolData();case Zi.JOB_DOWNLOAD_SYMBOL_PERIOD_DATA:return this.SymbolData.GetSymbolPeriodData(t);case Zi.JOB_DOWNLOAD_INDEX_DATA:return this.SymbolData.GetIndexData();case Zi.JOB_DOWNLOAD_LATEST_INDEX_DATA:return this.SymbolData.GetLatestIndexData();case Zi.JOB_DOWNLOAD_INDEX_INCREASE_DATA:return this.SymbolData.GetIndexIncreaseData(t);case Zi.JOB_DOWNLOAD_SYMBOL_LATEST_DATA:return this.SymbolData.GetLatestData(t);case Zi.JOB_DOWNLOAD_VOLR_DATA:return this.SymbolData.GetVolRateData(t);case Zi.JOB_DOWNLOAD_OTHER_SYMBOL_DATA:return this.SymbolData.GetOtherSymbolData(t);case Zi.JOB_DOWNLOAD_RELEASE_DATE_DATA:return this.SymbolData.GetCompanyReleaseDate(t.ID);case Zi.JOB_DOWNLOAD_MARGIN_BALANCE:case Zi.JOB_DOWNLOAD_MARGIN_RATE:case Zi.JOB_DOWNLOAD_MARGIN_BUY_BALANCE:case Zi.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:case Zi.JOB_DOWNLOAD_MARGIN_BUY_REPAY:case Zi.JOB_DOWNLOAD_MARGIN_BUY_NET:case Zi.JOB_DOWNLOAD_MARGIN_SELL_BALANCE:case Zi.JOB_DOWNLOAD_MARGIN_SELL_VOLUME:case Zi.JOB_DOWNLOAD_MARGIN_SELL_REPAY:case Zi.JOB_DOWNLOAD_MARGIN_SELL_NET:return this.SymbolData.GetMarginData(t.ID);case Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE:case Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH:case Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT:case Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE:case Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2:case Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER:case Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING:case Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS:case Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS:case Zi.JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE:return this.SymbolData.GetNewsAnalysisData(t.ID);case Zi.JOB_DOWNLOAD_HK_TO_SHSZ:return this.SymbolData.GetHKToSHSZData(t);case Zi.JOB_DOWNLOAD_SECTION_SF:return this.SymbolData.GetSectionFinanceData(t);case Zi.JOB_DOWNLOAD_FINONE:return this.SymbolData.GetFinOne(t);case Zi.JOB_DOWNLOAD_FINVALUE:return this.SymbolData.GetFinValue(t);case Zi.JOB_DOWNLOAD_FINANCE:return this.SymbolData.GetFinance(t);case Zi.JOB_DOWNLOAD_GPJYVALUE:return this.SymbolData.GetGPJYValue(t);case Zi.JOB_DOWNLOAD_SCJYVALUE:return this.SymbolData.GetSCJYValue(t);case Zi.JOB_DOWNLOAD_VARIANT:return this.SymbolData.GetVariantData(t);case Zi.JOB_CUSTOM_VARIANT_DATA:return this.SymbolData.GetCustomVariantData(t);case Zi.JOB_CUSTOM_FUNCTION_DATA:return this.SymbolData.GetCustomFunctionData(t);case Zi.JOB_DOWNLOAD_CUSTOM_API_DATA:return this.SymbolData.DownloadCustomAPIData(t);case Zi.JOB_EXECUTE_INDEX:return this.SymbolData.CallScriptIndex(t);case Zi.JOB_RUN_SCRIPT:return 1===this.Debug&&this.DebugFilter?this.DebugRun():this.Run()}}},this.ReadSymbolData=function(t,e){switch(t){case"CLOSE":case"C":case"VOL":case"V":case"OPEN":case"O":case"HIGH":case"H":case"LOW":case"L":case"AMOUNT":case"AMO":case"OPI":case"VOLINSTK":case"SETTLE":case"QHJSJ":case"ZSTJJ":case"ISEQUAL":case"ISUP":case"ISDOWN":return this.SymbolData.GetSymbolCacheData(t);case"VOLR":return this.SymbolData.GetVolRateCacheData(e);case"INDEXA":case"INDEXC":case"INDEXH":case"INDEXH":case"INDEXO":case"INDEXV":case"INDEXL":case"INDEXADV":case"INDEXDEC":return this.SymbolData.GetIndexCacheData(t);case"CURRBARSCOUNT":return this.SymbolData.GetCurrBarsCount();case"BARPOS":return this.SymbolData.GetBarPos();case"TOTALBARSCOUNT":return this.SymbolData.GetTotalBarsCount();case"TOTALFZNUM":return this.SymbolData.GetTotalTradeMinuteCount();case"ISLASTBAR":return this.SymbolData.GetIsLastBar();case"BARSTATUS":return this.SymbolData.GetBarStatus();case"TOTALCAPITAL":case"CAPITAL":case"EXCHANGE":case"HYBLOCK":case"DYBLOCK":case"GNBLOCK":case"FGBLOCK":case"ZSBLOCK":case"ZHBLOCK":case"ZDBLOCK":case"HYZSCODE":case"GNBLOCKNUM":case"FGBLOCKNUM":case"ZSBLOCKNUM":case"ZHBLOCKNUM":case"ZDBLOCKNUM":case"HYSYL":case"HYSJL":return this.SymbolData.GetStockCacheData({VariantName:t,Node:e});case"SETCODE":return this.SymbolData.SETCODE();case"CODE":return this.SymbolData.GetSymbol();case"STKNAME":return this.SymbolData.GetName();case"TIME":return this.SymbolData.TIME();case"DATE":return this.SymbolData.DATE();case"DATETIME":return this.SymbolData.DateTime();case"YEAR":return this.SymbolData.YEAR();case"MONTH":return this.SymbolData.MONTH();case"WEEK":return this.SymbolData.WEEK();case"DAY":return this.SymbolData.DAY();case"PERIOD":return this.SymbolData.PERIOD();case"FROMOPEN":return this.SymbolData.GetLatestIndexCacheData("FROMOPEN");case"DRAWNULL":case"NULL":return this.SymbolData.GetDrawNull();case"ADVANCE":case"DECLINE":return this.SymbolData.GetIndexIncreaseCacheData(t,this.SymbolData.Symbol,e);case"TQFLAG":return this.SymbolData.Right;case"MACHINEDATE":return 1e4*(i=new Date).getFullYear()+1*i.getMonth()*100+i.getDate()-19e6;case"MACHINETIME":return 1e4*(i=new Date).getHours()+1*i.getMinutes()*100+i.getSeconds();case"MACHINEWEEK":var i;return(i=new Date).getDay()}},this.ReadCustomVariant=function(t,e){return this.SymbolData.GetStockCacheData({VariantName:t,Node:e})},this.ReadVariable=function(t,e){if(this.ConstVarTable.has(t)){var i=this.ConstVarTable.get(t);return null==i&&(i=this.ReadSymbolData(t,e),this.ConstVarTable.set(t,i)),i}if(Bi.IsCustomVariant(t))return this.ReadCustomVariant(t,e);if(this.VarTable.has(t))return this.VarTable.get(t);if(t.indexOf("#")>0){var a=t.split("#");return this.SymbolData.GetSymbolPeriodCacheData(a[0],a[1])}if(0==t.indexOf("COLOR")){var n=Qi.ColorVarToRGB(t);if(n)return n}return this.ThrowUnexpectedNode(e,"变量"+t+"不存在",t),null},this.ReadMemberVariable=function(t){var e=t.Object,i=t.Property,a=void 0;if(!(a=e.Type==Ui.BinaryExpression||e.Type==Ui.LogicalExpression?this.VisitBinaryExpression(e):e.Type==Ui.CallExpression?this.VisitCallExpression(e):this.GetNodeValue(e)))return null;var n=a[i.Name];return n||null},this.SingleDataToArrayData=function(t){for(var e=this.SymbolData.Data.Data.length,i=[],a=0;a<e;++a)i[a]=t;return i},this.RunAST=function(){this.AST||this.ThrowError(),this.AST.Body||this.ThrowError();for(var t=0;t<this.AST.Body.length;++t){var e=this.AST.Body[t];this.RunASTNode(e,t)}return g.Complier.Log("[JSExecute::Run]",this.VarTable),this.OutVarTable},this.RunASTNode=function(t,e){this.VisitNode(t);var i=e;if(t.Type==Ui.ExpressionStatement&&t.Expression)if(t.Expression.Type==Ui.AssignmentExpression){if(":"==t.Expression.Operator&&t.Expression.Left){var a=t.Expression.Left.Name,n=this.VarTable.get(a),r=0;if(n&&"object"==(void 0===n?"undefined":(0,h.default)(n))&&"Object"==n.__Type__)r=1e3;else if(!this.IsSectionMode&&!Array.isArray(n))if("string"==typeof n){var o=parseFloat(n);Ce.IsNumber(o)?n=this.SingleDataToArrayData(o):(n=this.SingleDataToArrayData(n),r=1001)}else n=this.SingleDataToArrayData(n);this.OutVarTable.push({Name:a,Data:n,Type:r})}}else if(t.Expression.Type==Ui.CallExpression){var s=t.Expression;if(this.Draw.IsDrawFunction(s.Callee.Name)){var l=s.Draw;l.Name=s.Callee.Name,this.OutVarTable.push({Name:l.Name,Draw:l,Type:1})}else{var u=s.Out;p="__temp_c_"+s.Callee.Name+"_"+i+"__",r=0,Array.isArray(u)||(u=this.SingleDataToArrayData(u)),this.OutVarTable.push({Name:p,Data:u,Type:r,NoneName:!0})}}else if(t.Expression.Type==Ui.Identifier){var c=t.Expression.Name,d=this.ReadVariable(c,t.Expression);r=0,d&&"object"==(void 0===d?"undefined":(0,h.default)(d))&&"Object"==d.__Type__?r=1e3:this.IsSectionMode||Array.isArray(d)||(d="string"==typeof d?this.SingleDataToArrayData(parseFloat(d)):this.SingleDataToArrayData(d)),c="__temp_i_"+i+"__",this.OutVarTable.push({Name:c,Data:d,Type:r,NoneName:!0})}else if(t.Expression.Type==Ui.Literal){var f=t.Expression.Value;Ce.IsString(f)&&f.indexOf("$")>0&&(f=this.SymbolData.GetOtherSymolCacheData({Literal:f})),p="__temp_li_"+i+"__",r=0,this.OutVarTable.push({Name:p,Data:f,Type:r,NoneName:!0})}else if(t.Expression.Type==Ui.BinaryExpression){var p="__temp_b_"+i+"__",m=t.Expression.Out;r=0,Array.isArray(m)||(m=this.SingleDataToArrayData(m)),this.OutVarTable.push({Name:p,Data:m,Type:r,NoneName:!0})}else if(t.Expression.Type==Ui.LogicalExpression){p="__temp_l_"+i+"__";var v=t.Expression.Out;r=0,Array.isArray(v)||(v=this.SingleDataToArrayData(v)),this.OutVarTable.push({Name:p,Data:v,Type:r,NoneName:!0})}else if(t.Expression.Type==Ui.SequenceExpression){for(var g=void 0,C=void 0,D=void 0,y=void 0,x=!1,S=!1,I=!1,T=!1,b=!1,w=!1,M=!1,E=!1,A=!0,_=!1,L=!1,F=!1,O=!1,P=!0,N=!1,R=!1,B=!1,k=-1,V=-1,H=-1,G=null,Y=null,W=0;W<t.Expression.Expression.length;++W){var X=t.Expression.Expression[W];if(X.Type==Ui.AssignmentExpression&&":"==X.Operator&&X.Left){if(0==W){g=X.Left.Name;var U=this.VarTable.get(g);Array.isArray(U)||(U=this.SingleDataToArrayData(U),this.VarTable.set(g,U))}}else if(X.Type==Ui.Identifier){var z=X.Name;if("COLORSTICK"===z)x=!0;else if("POINTDOT"===z)S=!0;else if("CIRCLEDOT"===z)T=!0;else if("DOTLINE"===z)L=!0;else if("UPDOWNDOT"==z)I=!0;else if("LINESTICK"===z)b=!0;else if("STICK"===z)w=!0;else if("VOLSTICK"===z)M=!0;else if("DRAWABOVE"===z)N=!0;else if("DRAWCENTER"===z)R=!0;else if("DRAWBELOW"==z)B=!0;else if("STEPLINE"==z)E=!0;else if(0==z.indexOf("COLOR"))D=z;else if(0==z.indexOf("LINETHICK"))y=z;else if("ALIGN0"==z)k=0;else if("ALIGN1"==z)k=1;else if("ALIGN2"==z)k=2;else if("VALIGN0"==z)V=0;else if("VALIGN1"==z)V=1;else if("VALIGN2"==z)V=2;else if(0==z.indexOf("NODRAW"))A=!1;else if(0==z.indexOf("EXDATA"))_=!0;else if(0==z.indexOf("LINEOVERLAY"))F=!0;else if(0==z.indexOf("NOTEXT")||0==z.indexOf("NOTITLE"))P=!1;else if(0==z.indexOf("FONTSIZE")){var K=z.replace("FONTSIZE","");H=parseInt(K)}else if(0==W){g=X.Name;var $=this.ReadVariable(g,X);Array.isArray($)||($=this.SingleDataToArrayData($)),g="__temp_si_"+i+"__",O=!0,this.VarTable.set(g,$)}}else if(X.Type==Ui.Literal){if(0==W){var j=this.SingleDataToArrayData(X.Value);g=X.Value.toString(),this.VarTable.set(g,j)}}else if(X.Type==Ui.CallExpression)if(0==W)if(this.Draw.IsDrawFunction(X.Callee.Name))(C=X.Draw).Name=X.Callee.Name;else{var q=X.Out;g="__temp_sc_"+X.Callee.Name+"_"+i+"__",O=!0,this.VarTable.set(g,q)}else if("RGB"==X.Callee.Name||"RGBA"==X.Callee.Name)D=X.Out;else if("SOUND"==X.Callee.Name)this.GetSoundEvent(),g=null;else if("ICON"==X.Callee.Name){var J=this.VarTable.get(g);J&&(C=this.GetOutIconData(J,X.Draw))&&(C.Name=X.Callee.Name),g=null}else"BACKGROUND"==X.Callee.Name?(G=X.Draw,g=null):"CKLINE"==X.Callee.Name&&(Y=X.Draw,g=null);else if(X.Type==Ui.BinaryExpression&&0==W){g="__temp_sb_"+i+"__";var Z=X.Out;O=!0,this.VarTable.set(g,Z)}}if(S&&g){var Q=this.VarTable.get(g);Array.isArray(Q)||(Q=this.SingleDataToArrayData(Q));var tt={Name:g,Data:Q,Radius:Qe.POINTDOT.Radius,Type:3};D&&(tt.Color=D),y&&(tt.LineWidth=y),this.OutVarTable.push(tt)}else if(T&&g){var et=this.VarTable.get(g);Array.isArray(et)||(et=this.SingleDataToArrayData(et));var it={Name:g,Data:et,Radius:Qe.CIRCLEDOT.Radius,Type:3};D&&(it.Color=D),y&&(it.LineWidth=y),this.OutVarTable.push(it)}else if(I&&g){var at=this.VarTable.get(g);Array.isArray(at)||(at=this.SingleDataToArrayData(at));var nt={Name:g,Data:at,Radius:Qe.CIRCLEDOT.Radius,Type:3,UpDownDot:!0};D&&(nt.Color=D),y&&(nt.LineWidth=y),this.OutVarTable.push(nt)}else if(b&&g){var rt={Name:g,Data:this.VarTable.get(g),Type:4};D&&(rt.Color=D),y&&(rt.LineWidth=y),this.OutVarTable.push(rt)}else if(w&&g){var ot={Name:g,Data:this.VarTable.get(g),Type:5};D&&(ot.Color=D),y&&(ot.LineWidth=y),this.OutVarTable.push(ot)}else if(M&&g){var st={Name:g,Data:this.VarTable.get(g),Type:6};D&&(st.Color=D),this.OutVarTable.push(st)}else if(x&&g){var lt={Name:g,Data:this.VarTable.get(g),Color:D,Type:2};y&&(lt.LineWidth=y),D&&(lt.Color=D),this.OutVarTable.push(lt)}else if(g&&D){var ht=this.VarTable.get(g);Array.isArray(ht)||(ht=this.SingleDataToArrayData(ht));var ut={Name:g,Data:ht,Color:D,Type:0};y&&(ut.LineWidth=y),0==A&&(ut.IsShow=!1),1==_&&(ut.IsExData=!0),1==L&&(ut.IsDotLine=!0),1==F&&(ut.IsOverlayLine=!0),1==O&&(ut.NoneName=!0),0==P&&(ut.IsShowTitle=!1),1==E&&(ut.Type=7),this.OutVarTable.push(ut)}else if(C){var ct={Name:C.Name,Draw:C,Type:1};D&&(ct.Color=D),1==L&&(ct.IsDotLine=!0),y&&(ct.LineWidth=y),N&&(ct.IsDrawAbove=!0),R&&(ct.IsDrawCenter=!0),B&&(ct.IsDrawBelow=!0),k>=0&&(ct.DrawAlign=k),V>=0&&(ct.DrawVAlign=V),H>0&&(ct.DrawFontSize=H),G&&(ct.Background=G),Y&&(ct.VerticalLine=Y),this.OutVarTable.push(ct)}else if(g){var dt={Name:g,Data:this.VarTable.get(g),Type:0};D&&(dt.Color=D),y&&(dt.LineWidth=y),0==A&&(dt.IsShow=!1),1==_&&(dt.IsExData=!0),1==L&&(dt.IsDotLine=!0),1==F&&(dt.IsOverlayLine=!0),0==P&&(dt.IsShowTitle=!1),1==E&&(dt.Type=7),this.OutVarTable.push(dt)}}},this.GetOutIconData=function(t,e){if(Array.isArray(t)){for(var i=0;i<t.length&&i<e.DrawData.length;++i)t[i]<=0&&(e.DrawData[i]=null);return e}return t?e:null},this.GetSoundEvent=function(){return this.GetEventCallback?this.GetEventCallback(b.ON_PLAY_SOUND):null},this.Run=function(){try{var t=this.RunAST();g.Complier.Log("[JSComplier.Run] execute finish",t),this.IndexCtrl&&(this.IndexCtrl.Status=0),this.UpdateUICallback&&(g.Complier.Log("[JSComplier.Run] invoke UpdateUICallback."),this.CallbackParam&&this.CallbackParam.Job&&this.CallbackParam.Job.ID==Zi.JOB_EXECUTE_INDEX?this.UpdateUICallback(t,this.CallbackParam,this.SymbolData):(this.CallbackParam&&this.CallbackParam.Self&&"ScriptIndexConsole"===this.CallbackParam.Self.ClassName&&(this.CallbackParam.JSExecute=this),1==this.IsUsePageData&&(this.CallbackParam.Self.IsUsePageData=!0),this.UpdateUICallback(t,this.CallbackParam)))}catch(t){g.Complier.Log(t),t.Job?(g.Complier.Log("[JSComplier.Run] download job and reexectue",t.Job),this.JobList.push(t.Job),this.JobList.push({ID:Zi.JOB_RUN_SCRIPT}),this.Execute()):this.ErrorCallback&&(this.IndexCtrl&&(this.IndexCtrl.Status=0),this.ErrorCallback(t,this.CallbackParam))}},this.DebugRun_End=function(){var t=this.OutVarTable;g.Complier.Log("[JSComplier.DebugRun_End] execute finish",t),this.IndexCtrl&&(this.IndexCtrl.Status=0),this.UpdateUICallback&&(g.Complier.Log("[JSComplier.DebugRun_End] invoke UpdateUICallback."),this.CallbackParam&&this.CallbackParam.Job&&this.CallbackParam.Job.ID==Zi.JOB_EXECUTE_INDEX?this.UpdateUICallback(t,this.CallbackParam,this.SymbolData):(this.CallbackParam&&this.CallbackParam.Self&&"ScriptIndexConsole"===this.CallbackParam.Self.ClassName&&(this.CallbackParam.JSExecute=this),1==this.IsUsePageData&&(this.CallbackParam.Self.IsUsePageData=!0),this.UpdateUICallback(t,this.CallbackParam)))},this.DebugRun_Next=function(t){var e=this;if(t.ExeLine<t.LineCount){var i=this.AST.Body[t.ExeLine];this.RunASTNode(i),++t.ExeLine,this.DebugFilter(t,function(){e.DebugRun_Next(t)})}else this.DebugRun_End(),t.Status=2,this.DebugFilter(t,null)},this.DebugRun=function(){var t=this;try{this.AST||this.ThrowError(),this.AST.Body||this.ThrowError();var e={LineCount:this.AST.Body.length,ExeLine:0,Self:this,Status:1};this.DebugFilter(e,function(){t.DebugRun_Next(e)})}catch(t){this.ErrorCallback&&(this.IndexCtrl&&(this.IndexCtrl.Status=0),this.ErrorCallback(t,this.CallbackParam))}},this.VisitNode=function(t){switch(t.Type){case Ui.SequenceExpression:this.VisitSequenceExpression(t);break;case Ui.ExpressionStatement:this.VisitNode(t.Expression);break;case Ui.AssignmentExpression:this.VisitAssignmentExpression(t);break;case Ui.BinaryExpression:case Ui.LogicalExpression:this.VisitBinaryExpression(t);break;case Ui.CallExpression:this.VisitCallExpression(t)}},this.VisitSequenceExpression=function(t){for(var e in t.Expression){var i=t.Expression[e];this.VisitNode(i)}},this.VisitCallExpression=function(t){var e=t.Callee.Name,i=[];for(var a in t.Arguments){var n=t.Arguments[a],r=void 0;r=n.Type==Ui.BinaryExpression||n.Type==Ui.LogicalExpression?this.VisitBinaryExpression(n):n.Type==Ui.CallExpression?this.VisitCallExpression(n):this.GetNodeValue(n),i.push(r)}if(Bi.IsCustomFunction(e)){var o=this.Algorithm.CallCustomFunction(e,i,this.SymbolData,t);return t.Out=[],t.Draw=null,o&&(o.Out&&(t.Out=o.Out),o.Draw&&(t.Draw=o.Draw)),t.Out}switch(e){case"DYNAINFO":t.Out=this.SymbolData.GetLatestCacheData(i[0]);break;case"STICKLINE":t.Draw=this.Draw.STICKLINE(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"DRAWTEXT":t.Draw=this.Draw.DRAWTEXT(i[0],i[1],i[2]),t.Out=[];break;case"DRAWTEXT_FIX":t.Draw=this.Draw.DRAWTEXT_FIX(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"SUPERDRAWTEXT":t.Draw=this.Draw.SUPERDRAWTEXT(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"DRAWICON":t.Draw=this.Draw.DRAWICON(i[0],i[1],i[2]),t.Out=[];break;case"ICON":t.Draw=this.Draw.ICON(i[0],i[1]),t.Out=[];break;case"BACKGROUND":t.Draw=this.Draw.BACKGROUND(i[0],i[1],i[2],i[3],i[4],i[5]),t.Out=[];break;case"CKLINE":t.Draw=this.Draw.CKLINE(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"DRAWLINE":t.Draw=this.Draw.DRAWLINE(i[0],i[1],i[2],i[3],i[4]),t.Out=t.Draw.DrawData;break;case"DRAWBAND":t.Draw=this.Draw.DRAWBAND(i[0],i[1],i[2],i[3]),t.Out=[];break;case"FILLRGN":i.length>=4?t.Draw=this.Draw.FILLRGN2(i):t.Draw=this.Draw.FILLRGN(i[0],i[1],i[2]),t.Out=[];break;case"FLOATRGN":t.Draw=this.Draw.FLOATRGN(i),t.Out=[];break;case"FILLTOPRGN":t.Draw=this.Draw.FILLBGRGN(1,i),t.Out=[];break;case"FILLBOTTOMRGN":t.Draw=this.Draw.FILLBGRGN(0,i),t.Out=[];break;case"FILLVERTICALRGN":t.Draw=this.Draw.FILLVERTICALRGN(i),t.Out=[];break;case"DRAWKLINE":case"DRAWKLINE1":t.Draw=this.Draw.DRAWKLINE(i[0],i[1],i[2],i[3]),t.Out=[];break;case"DRAWKLINE_IF":t.Draw=this.Draw.DRAWKLINE_IF(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"DRAWCOLORKLINE":t.Draw=this.Draw.DRAWCOLORKLINE(i[0],i[1],i[2]),t.Out=[];break;case"PLOYLINE":case"POLYLINE":t.Draw=this.Draw.POLYLINE(i[0],i[1]),t.Out=t.Draw.DrawData;break;case"DRAWNUMBER":t.Draw=this.Draw.DRAWNUMBER(i[0],i[1],i[2],i[3]),t.Out=t.Draw.DrawData.Value;break;case"DRAWNUMBER_FIX":t.Draw=this.Draw.DRAWNUMBER_FIX(i[0],i[1],i[2],i[3],i[4]),t.Out=t.Draw.DrawData.Value;break;case"DRAWCHANNEL":t.Draw=this.Draw.DRAWCHANNEL(i[0],i[1],i[2],i[3],i[4],i[5],i[6]),t.Out=[];break;case"RGB":t.Out=this.Draw.RGB(i[0],i[1],i[2]);break;case"RGBA":t.Out=this.Draw.RGBA(i[0],i[1],i[2],i[3]);break;case"PARTLINE":t.Draw=this.Draw.PARTLINE(i),t.Out=[];break;case"DRAWGBK":t.Draw=this.Draw.DRAWGBK(i[0],i[1],i[2],i[3]),t.Out=[];break;case"DRAWGBK2":t.Draw=this.Draw.DRAWGBK2(i[0],i[1],i[2],i[3]),t.Out=[];break;case"DRAWTEXT_LINE":t.Draw=this.Draw.DRAWTEXT_LINE(i[0],i[1],i[2],i[3],i[4],i[5],i[6]),t.Out=[];break;case"DRAWRECTREL":t.Draw=this.Draw.DRAWRECTREL(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"DRAWTEXTREL":t.Draw=this.Draw.DRAWTEXTREL(i[0],i[1],i[2]),t.Out=[];break;case"DRAWTEXTABS":t.Draw=this.Draw.DRAWTEXTABS(i[0],i[1],i[2]),t.Out=[];break;case"DRAWOVERLAYLINE":t.Draw=this.Draw.DRAWOVERLAYLINE(i[0],i[1],i[2]),t.Out=t.Draw.DrawData.Data;break;case"DRAWSL":t.Draw=this.Draw.DRAWSL(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"VERTLINE":t.Draw=this.Draw.VERTLINE(i[0],i[1]),t.Out=t.Draw.DrawData.Data;break;case"HORLINE":t.Draw=this.Draw.HORLINE(i[0],i[1],i[2],i[3]),t.Out=t.Draw.DrawData.Data;break;case"CODELIKE":t.Out=this.SymbolData.CODELIKE(i[0]);break;case"NAMELIKE":case"NAMEINCLUDE":t.Out=this.SymbolData.NAMELIKE(i[1]);break;case"REFDATE":t.Out=this.SymbolData.REFDATE(i[0],i[1]);break;case"FINANCE":case"FINVALUE":t.Out=this.SymbolData.GetStockCacheData({FunctionName:e,Args:i,ArgCount:1,Node:t});break;case"FINONE":case"GPJYVALUE":case"SCJYVALUE":t.Out=this.SymbolData.GetStockCacheData({FunctionName:e,Args:i,ArgCount:3,Node:t});break;case"MARGIN":t.Out=this.SymbolData.GetMarginCacheData(i[0],t);break;case"HK2SHSZ":t.Out=this.SymbolData.GetHKToSHSZCacheData(i[0],t);break;case"NEWS":t.Out=this.SymbolData.GetNewsAnalysisCacheData(i[0],t);break;case"UPCOUNT":case"DOWNCOUNT":t.Out=this.SymbolData.GetIndexIncreaseCacheData(e,i[0],t);break;case"SF":t.Out=this.SymbolData.GetSectionFinanceCacheData(i[0],i[1],i[2],t);break;case"LOADAPIDATA":t.Out=this.SymbolData.GetCustomApiData(i);break;case"STKINDI":t.Out=this.SymbolData.GetScriptIndexOutData(i,t);break;case"SOUND":t.Draw=this.Draw.SOUND(i[0]),t.Out=[];break;case"PLAYSOUND":t.Draw=this.Draw.PLAYSOUND(i[0],i[1]),t.Out=[];break;case"CLOSE":case"C":case"VOL":case"V":case"OPEN":case"O":case"HIGH":case"H":case"LOW":case"L":case"AMOUNT":case"AMO":t.Out=this.SymbolData.GetOtherSymolCacheData({FunctionName:e,Args:i});break;case"INBLOCK":t.Out=this.SymbolData.IsInBlock(i[0],t);break;case"COVER_C":case"COVER_O":case"COVER_H":case"COVER_L":case"COVER_A":case"COVER_V":return 2==i.length?this.SymbolData.GetSymbolPeriodCacheData2(Yi.GetConvertValueName(e),i[0],i[1]):this.SymbolData.GetSymbolPeriodCacheData(Yi.GetConvertValueName(e),i[0]);case"SYSPARAM":return this.SymbolData.SysParam(i[0],this);default:t.Out=this.Algorithm.CallFunction(e,i,t,this.SymbolData)}return t.Out},this.VisitAssignmentExpression=function(t){var e=t.Left;e.Type!=Ui.Identifier&&this.ThrowUnexpectedNode(t);var i=e.Name,a=t.Right,n=null;if(a.Type==Ui.BinaryExpression||a.Type==Ui.LogicalExpression)n=this.VisitBinaryExpression(a);else if(a.Type==Ui.CallExpression)n=this.VisitCallExpression(a);else if(a.Type==Ui.Literal)n=a.Value,Ce.IsString(n)&&a.Value.indexOf("$")>0&&(n=this.SymbolData.GetOtherSymolCacheData({Literal:n}));else if(a.Type==Ui.Identifier)n=this.ReadVariable(a.Name,a);else if(a.Type==Ui.MemberExpression)n=this.ReadMemberVariable(a);else if(a.Type==Ui.UnaryExpression)if("-"==a.Operator){var r=this.GetNodeValue(a.Argument);n=this.Algorithm.Subtract(0,r)}else n=a.Argument.Value;Ji&&g.Complier.Log("[JSExecute::VisitAssignmentExpression]",i," = ",n),this.VarTable.set(i,n)},this.VisitBinaryExpression=function(t){var e=[];e.push(t);for(var i=null;0!=e.length;)if((i=e[e.length-1]).Left&&t!=i.Left&&t!=i.Right)e.push(i.Left);else if(i.Right&&t!=i.Right)e.push(i.Right);else{var a=e.pop();if(a.Type==Ui.BinaryExpression){var n=this.GetNodeValue(a.Left),r=this.GetNodeValue(a.Right);switch(Ji&&g.Complier.Log("[JSExecute::VisitBinaryExpression] BinaryExpression",a,n,r),a.Out=null,a.Operator){case"-":a.Out=this.Algorithm.Subtract(n,r);break;case"*":a.Out=this.Algorithm.Multiply(n,r);break;case"/":a.Out=this.Algorithm.Divide(n,r);break;case"+":a.Out=this.Algorithm.Add(n,r);break;case">":a.Out=this.Algorithm.GT(n,r);break;case">=":a.Out=this.Algorithm.GTE(n,r);break;case"<":a.Out=this.Algorithm.LT(n,r);break;case"<=":a.Out=this.Algorithm.LTE(n,r);break;case"==":case"=":a.Out=this.Algorithm.EQ(n,r);break;case"!=":case"<>":a.Out=this.Algorithm.NEQ(n,r)}Ji&&g.Complier.Log("[JSExecute::VisitBinaryExpression] BinaryExpression",a)}else if(a.Type==Ui.LogicalExpression){var o=this.GetNodeValue(a.Left),s=this.GetNodeValue(a.Right);switch(Ji&&g.Complier.Log("[JSExecute::VisitBinaryExpression] LogicalExpression",a,o,s),a.Out=null,a.Operator){case"&&":case"AND":a.Out=this.Algorithm.And(o,s);break;case"||":case"OR":a.Out=this.Algorithm.Or(o,s)}Ji&&g.Complier.Log("[JSExecute::VisitBinaryExpression] LogicalExpression",a)}t=i}return t.Out},this.GetNodeValue=function(t){switch(t.Type){case Ui.Literal:return t.Value;case Ui.UnaryExpression:if("-"==t.Operator){var e=this.GetNodeValue(t.Argument);return this.Algorithm.Subtract(0,e)}return t.Argument.Value;case Ui.Identifier:return this.ReadVariable(t.Name,t);case Ui.BinaryExpression:case Ui.LogicalExpression:return t.Out;case Ui.CallExpression:return this.VisitCallExpression(t);case Ui.MemberExpression:return this.ReadMemberVariable(t);default:this.ThrowUnexpectedNode(t)}},this.ThrowUnexpectedNode=function(t,e,i){var a=t.Marker,n=e||"执行异常";return this.ErrorHandler.ThrowError(a.Index,a.Line,a.Column,n,i)},this.ThrowDownloadSF=function(t,e,i){var a=t.Marker,n=i;return this.ErrorHandler.ThrowDownloadJob(a.Index,a.Line,a.Column,n,e)},this.ThrowError=function(){}}(n,e);r.ErrorCallback=i,r.JobList=a.Node.GetDataJobList(),"ScriptIndexConsole"==e.ClassName&&r.JobList.unshift({ID:Zi.JOB_DOWNLOAD_SYMBOL_DATA}),r.JobList.push({ID:Zi.JOB_RUN_SCRIPT}),e.Self&&(e.Self.Status=3),r.Execute()}catch(t){g.Complier.Log(t),i&&i(t,e.CallbackParam),e.Self&&(e.Self.Status=0)}}(),g.Complier.Log("[JSComplier.Execute] async execute.")},Qi.Explain=function(t,e,i){!function(){try{g.Complier.Log("[JSComplier.Explain]",t,e),g.Complier.Log("[JSComplier.Explain] parser .....");var a=new zi(t);a.Initialize();var n=a.ParseScript();g.Complier.Log("[JSComplier.Explain] parser finish.",n),g.Complier.Log("[JSComplier.Explain] explain .....");var r=new function(t,e){this.AST=t,this.ErrorHandler=new Wi,this.ErrorCallback,this.UpdateUICallback,this.CallbackParam,this.JobList=[],this.VarTable=new p.default,this.OutVarTable=[],this.ConstVarTable=new p.default([["CLOSE","收盘价"],["VOL","成交量"],["OPEN","开盘价"],["HIGH","最高价"],["LOW","最低价"],["AMOUNT","成交量"],["C","收盘价"],["V","成交量"],["O","开盘价"],["H","最高价"],["L","最低价"],["AMO","成交量"],["VOLR","量比"],["VOLINSTK","持仓量"],["OPI","持仓量"],["ZSTJJ","均价"],["QHJSJ","结算价"],["SETTLE","结算价"],["DATE","日期"],["YEAR","年份"],["MONTH","月份"],["PERIOD","周期"],["WEEK","星期"],["TIME","时间"],["INDEXA","大盘成交额"],["INDEXC","大盘收盘价"],["INDEXH","大盘最高价"],["INDEXL","大盘最低价"],["INDEXO","大盘开盘价"],["INDEXV","大盘成交量"],["INDEXADV","大盘上涨家数"],["INDEXDEC","´大盘下跌家数"],["ADVANCE","上涨家数"],["DECLINE","下跌家数"],["FROMOPEN","当前离开盘分钟数"],["TOTALFZNUM","总分钟数"],["CURRBARSCOUNT","到最后交易的周期"],["TOTALBARSCOUNT","总的周期数"],["ISLASTBAR","是否是最后一个周期"],["BARSTATUS","数据位置状态"],["CAPITAL","当前流通股本(手)"],["TOTALCAPITAL","当前总股本(手)"],["EXCHANGE","换手率"],["SETCODE","市场类型"],["CODE","品种代码"],["STKNAME","品种名称"],["TQFLAG","当前复权状态"],["HYBLOCK","所属行业"],["DYBLOCK","所属地域"],["GNBLOCK","所属概念"],["FGBLOCK","所属风格板块"],["ZSBLOCK","所属指数板块"],["ZHBLOCK","所属组合板块"],["ZDBLOCK","所属自定义板块"],["HYZSCODE","所属行业的板块指数代码"],["GNBLOCKNUM","所属概念板块的个数"],["FGBLOCKNUM","所属风格板块的个数"],["ZSBLOCKNUM","所属指数板块的个数"],["ZHBLOCKNUM","所属组合板块的个数"],["ZDBLOCKNUM","所属自定义板块的个数"],["HYSYL","指数市盈率或个股所属行业的市盈率"],["HYSJL","指数市净率或个股所属行业的市净率"],["DRAWNULL","无效数据"]]),e&&(e.Callback&&(this.UpdateUICallback=e.Callback),e.CallbackParam&&(this.CallbackParam=e.CallbackParam),e.Arguments&&(this.Arguments=e.Arguments)),this.Run=function(){try{for(var t in this.OutVarTable=[],this.VarTable=new p.default,g.Complier.Log("[JSExecute::JSExplainer] Load Arguments",this.Arguments),this.Arguments){var e=this.Arguments[t];this.VarTable.set(e.Name,e.Value)}var i=this.RunAST();g.Complier.Log("[JSExplainer.Run] explain finish",i),this.UpdateUICallback&&(g.Complier.Log("[JSExplainer.Run] invoke UpdateUICallback."),this.UpdateUICallback(i))}catch(t){g.Complier.Log("[JSExplainer.Run] throw error ",t),this.ErrorCallback&&this.ErrorCallback(t,this.OutVarTable)}},this.RunAST=function(){for(var t in this.AST||this.ThrowError(),this.AST.Body||this.ThrowError(),this.AST.Body){var e=this.AST.Body[t];if(this.VisitNode(e),e.Type==Ui.ExpressionStatement&&e.Expression)if(e.Expression.Type==Ui.AssignmentExpression){if(":"==e.Expression.Operator&&e.Expression.Left){var i=e.Expression.Left.Name,a="输出"+i+": "+this.VarTable.get(i);this.OutVarTable.push({Name:i,Data:a,Type:0})}else if(":="==e.Expression.Operator&&e.Expression.Left){var n=e.Expression.Left.Name,r="赋值"+n+": "+this.VarTable.get(n);this.OutVarTable.push({Name:n,Data:r,Type:0,IsOut:!1})}}else if(e.Expression.Type==Ui.CallExpression){var o=e.Expression;if(this.IsDrawFunction(o.Callee.Name)){var s=o.Out,l=o.Callee.Name;this.OutVarTable.push({Name:l,Draw:"输出: "+s,Type:1})}else{var h=o.Out;f="__temp_c_"+o.Callee.Name+"_"+t+"__",this.OutVarTable.push({Name:f,Data:"输出: "+h,Type:0,NoneName:!0})}}else if(e.Expression.Type==Ui.Identifier){var u=e.Expression.Name,c=this.ReadVariable(u,e.Expression);u="__temp_i_"+t+"__",this.OutVarTable.push({Name:u,Data:"输出: "+c,Type:0,NoneName:!0})}else if(e.Expression.Type==Ui.Literal){var d=e.Expression.Value;Ce.IsString(d)&&d.indexOf("$")>0&&(d=this.GetOtherSymbolExplain({Literal:d},e)),f="__temp_li_"+t+"__",this.OutVarTable.push({Name:f,Data:"输出: "+d,Type:0,NoneName:!0})}else if(e.Expression.Type==Ui.BinaryExpression){var f="__temp_b_"+t+"__",p=e.Expression.Out;this.OutVarTable.push({Name:f,Data:"输出: "+p,Type:0,NoneName:!0})}else if(e.Expression.Type==Ui.LogicalExpression){f="__temp_l_"+t+"__";var m=e.Expression.Out;this.OutVarTable.push({Name:f,Data:"输出: "+m,Type:0,NoneName:!0})}else if(e.Expression.Type==Ui.SequenceExpression){var v,C=void 0,D=void 0,y=void 0,x=void 0,S=void 0,I=!1,T=!1,b=!1,w=!1,M=!1,E=!1,A=!0,_=!1,L=!1,F=!1;for(var O in e.Expression.Expression){var P=e.Expression.Expression[O];if(P.Type==Ui.AssignmentExpression&&":"==P.Operator&&P.Left){C=P.Left.Name;var N=this.VarTable.get(C);this.VarTable.set(C,N)}else if(P.Type==Ui.Identifier){var R=P.Name;if("COLORSTICK"===R)I=!0;else if("POINTDOT"===R)T=!0;else if("CIRCLEDOT"===R)b=!0;else if("DOTLINE"===R)_=!0;else if("LINESTICK"===R)w=!0;else if("STICK"===R)M=!0;else if("VOLSTICK"===R)E=!0;else if("DRAWABOVE"===R)F=!0;else if(0==R.indexOf("COLOR"))x=R;else if(0==R.indexOf("LINETHICK"))S=R;else if(0==R.indexOf("NODRAW"))A=!1;else if(0==R.indexOf("EXDATA"));else if(0==R.indexOf("LINEOVERLAY"));else{C=P.Name;var B=this.ReadVariable(C,P);C="__temp_si_"+t+"__",L=!0,this.VarTable.set(C,B)}}else if(P.Type==Ui.Literal){var k=P.Value;C=P.Value.toString(),L=!0,this.VarTable.set(C,k)}else if(P.Type==Ui.CallExpression)if(this.IsDrawFunction(P.Callee.Name))y=P.Out,D=P.Callee.Name;else{var V=P.Out;C="__temp_sc_"+P.Callee.Name+"_"+t+"__",L=!0,this.VarTable.set(C,V)}else if(P.Type==Ui.BinaryExpression){C="__temp_sb_"+t+"__";var H=P.Out;L=!0,this.VarTable.set(C,H)}}if(v=y?"输出: "+y:L?"输出: "+this.VarTable.get(C):"输出"+C+": "+this.VarTable.get(C),x&&(v+=",颜色"+this.GetColorExplain(x)),S&&(v+=",线段粗细"+this.GetLineWidthExplain(S)),0==A&&(v+=",不显示"),1==_&&(v+=",画虚线"),1==F&&(v+=",显示在位置之上"),T&&C){var G={Name:C,Data:v+=",画小圆点线",Radius:Qe.POINTDOT.Radius,Type:3};this.OutVarTable.push(G)}else if(b&&C){var Y={Name:C,Data:v+=",画小圆圈线",Radius:Qe.CIRCLEDOT.Radius,Type:3};this.OutVarTable.push(Y)}else if(w&&C){var W={Name:C,Data:v+=",画出柱状线和指标线",Type:4};this.OutVarTable.push(W)}else if(M&&C){var X={Name:C,Data:v+=",画柱状线",Type:5};this.OutVarTable.push(X)}else if(E&&C){var U={Name:C,Data:v+=",画成交量柱状线",Type:6};this.OutVarTable.push(U)}else if(C&&x){var z={Name:C,Data:v,Color:x,Type:0};this.OutVarTable.push(z)}else if(y){var K={Name:D,Data:v,Type:1};this.OutVarTable.push(K)}else if(I&&C){var $={Name:C,Data:v+=",画彩色柱状线",Color:x,Type:2};this.OutVarTable.push($)}else if(C){var j={Name:C,Data:v,Type:0};this.OutVarTable.push(j)}}}return g.Complier.Log("[JSExplainer::Run]",this.VarTable),this.OutVarTable},this.VisitNode=function(t){switch(t.Type){case Ui.SequenceExpression:this.VisitSequenceExpression(t);break;case Ui.ExpressionStatement:this.VisitNode(t.Expression);break;case Ui.AssignmentExpression:this.VisitAssignmentExpression(t);break;case Ui.BinaryExpression:case Ui.LogicalExpression:this.VisitBinaryExpression(t);break;case Ui.CallExpression:this.VisitCallExpression(t)}},this.VisitSequenceExpression=function(t){for(var e in t.Expression){var i=t.Expression[e];this.VisitNode(i)}},this.VisitCallExpression=function(t){var e=t.Callee.Name,i=[];for(var a in t.Arguments){var n=t.Arguments[a],r=void 0;r=n.Type==Ui.BinaryExpression||n.Type==Ui.LogicalExpression?this.VisitBinaryExpression(n):n.Type==Ui.CallExpression?this.VisitCallExpression(n):this.GetNodeValue(n),i.push(r)}if(g.Complier.Log("[JSExplainer::VisitCallExpression]",e,"(",i.toString(),")"),Bi.IsCustomFunction(e)){var o=this.Algorithm.CallCustomFunction(e,i,this.SymbolData,t);return t.Out=[],t.Draw=null,o&&(o.Out&&(t.Out=o.Out),o.Draw&&(t.Draw=o.Draw)),t.Out}return t.Out=this.CallFunctionExplain(e,i,t),t.Out},this.FUNCTION_INFO_LIST=new p.default([["REF",{Name:"REF",Param:{Count:2},ToString:function(t){return t[1]+"日前的"+t[0]}}],["REFX",{Name:"REFX",Param:{Count:2},ToString:function(t){return t[1]+"日后的"+t[0]}}],["REFV",{Name:"REFV",Param:{Count:2},ToString:function(t){return t[1]+"日前的(未作平滑处理)"+t[0]}}],["REFXV",{Name:"REFXV",Param:{Count:2},ToString:function(t){return t[1]+"日后的(未作平滑处理)"+t[0]}}],["REFDATE",{Name:"REFDATE",Param:{Count:2},ToString:function(t){return t[1]+"日"+t[0]}}],["COUNT",{Name:"COUNT",Param:{Count:2},ToString:function(t){return"统计"+t[1]+"日中满足"+t[0]+"的天数"}}],["BARSLASTCOUNT",{Name:"BARSLASTCOUNT",Param:{Count:1},ToString:function(t){return"条件"+t[0]+"连续成立次数"}}],["BARSCOUNT",{Name:"BARSCOUNT",Param:{Count:1},ToString:function(t){return t[0]+"有效数据周期数"}}],["BARSLAST",{Name:"BARSLAST",Param:{Count:1},ToString:function(t){return"上次"+t[0]+"不为0距今天数"}}],["BARSNEXT",{Name:"BARSNEXT",Param:{Count:1},ToString:function(t){return"下次"+t[0]+"不为0距今天数"}}],["BARSSINCEN",{Name:"BARSSINCEN",Param:{Count:2},ToString:function(t){return"在"+t[1]+"周期内首次"+t[0]+"距今天数"}}],["BARSSINCE",{Name:"BARSSINCE",Param:{Count:1},ToString:function(t){return"首次"+t[0]+"距今天数"}}],["HHV",{Name:"HHV",Param:{Count:2},ToString:function(t){return t[1]+"日内"+t[0]+"的最高值"}}],["LLV",{Name:"LLV",Param:{Count:2},ToString:function(t){return t[1]+"日内"+t[0]+"的最低值"}}],["HOD",{Name:"HOD",Param:{Count:2},ToString:function(t){return t[1]+"日内"+t[0]+"的高值名次"}}],["LOD",{Name:"LOD",Param:{Count:2},ToString:function(t){return t[1]+"日内"+t[0]+"的低值名次"}}],["REVERSE",{Name:"REVERSE",Param:{Count:1},ToString:function(t){return t[0]+"的相反数"}}],["FILTER",{Name:"FILTER",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日过滤"}}],["FILTERX",{Name:"FILTERX",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日反向过滤"}}],["SUMBARS",{Name:"SUMBARS",Param:{Count:2},ToString:function(t){return t[0]+"累加至"+t[1]+"的天数"}}],["MA",{Name:"MA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日简单移动平均"}}],["SMA",{Name:"SMA",Param:{Count:3},ToString:function(t){return t[0]+"的"+t[1]+"日["+t[2]+"日权重]移动平均"}}],["MEMA",{Name:"MEMA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日平滑移动平均"}}],["EMA",{Name:"EMA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日指数移动平均"}}],["EXPMA",{Name:"EXPMA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日指数移动平均"}}],["EXPMEMA",{Name:"EXPMEMA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日指数平滑移动平均"}}],["WMA",{Name:"WMA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日加权移动平均"}}],["DMA",{Name:"DMA",Param:{Count:2},ToString:function(t){return"以"+t[1]+"为权重"+t[0]+"的动态移动平均"}}],["XMA",{Name:"XMA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日偏移移动平均"}}],["RANGE",{Name:"RANGE",Param:{Count:3},ToString:function(t){return t[0]+"位于"+t[1]+"和"+t[2]+"之间"}}],["CONST",{Name:"CONST",Param:{Count:1},ToString:function(t){return t[0]+"的最后一日值"}}],["TOPRANGE",{Name:"TOPRANGE",Param:{Count:1},ToString:function(t){return"当前值是近"+t[0]+"周期的最大值"}}],["LOWRANGE",{Name:"LOWRANGE",Param:{Count:1},ToString:function(t){return"当前值是近"+t[0]+"周期的最小值"}}],["FINDHIGH",{Name:"FINDHIGH",Param:{Count:4},ToString:function(t){return t[0]+"在"+t[1]+"日前的"+t[2]+"天内第"+t[3]+"个最高价"}}],["FINDHIGHBARS",{Name:"FINDHIGHBARS",Param:{Count:4},ToString:function(t){return t[0]+"在"+t[1]+"日前的"+t[2]+"天内第"+t[3]+"个最高价到当前周期的周期数"}}],["FINDLOW",{Name:"FINDLOW",Param:{Count:4},ToString:function(t){return t[0]+"在"+t[1]+"日前的"+t[2]+"天内第"+t[3]+"个最低价"}}],["FINDLOWBARS",{Name:"FINDLOWBARS",Param:{Count:2},ToString:function(t){return t[0]+"在"+t[1]+"日前的"+t[2]+"天内第"+t[3]+"个最低价到当前周期的周期数"}}],["SUM",{Name:"SUM",Param:{Count:2},ToString:function(t){return""+t[0]+t[1]+"日累加"}}],["MULAR",{Name:"MULAR",Param:{Count:2},ToString:function(t){return t[0]+"和"+t[1]+"日累乘"}}],["AMA",{Name:"AMA",Param:{Count:2},ToString:function(t){return"以"+t[1]+"为权重"+t[0]+"的自适应均线"}}],["TMA",{Name:"TMA",Param:{Count:3},ToString:function(t){return t[0]+"的"+t[1]+"日["+t[2]+"日权重]移动平均"}}],["CROSS",{Name:"CROSS",Param:{Count:2},ToString:function(t){return t[0]+"上穿"+t[1]}}],["LONGCROSS",{Name:"LONGCROSS",Param:{Count:3},ToString:function(t){return t[0]+"小于"+t[1]+"保持"+t[2]+"个交易日后交叉上穿"}}],["UPNDAY",{Name:"UPNDAY",Param:{Count:2},ToString:function(t){return"最近"+t[1]+"日"+t[0]+"连涨"}}],["DOWNNDAY",{Name:"DOWNNDAY",Param:{Count:2},ToString:function(t){return"最近"+t[1]+"日"+t[0]+"连跌"}}],["NDAY",{Name:"NDAY",Param:{Count:3},ToString:function(t){return"最近"+t[2]+"日"+t[0]+"一直大于"+t[1]}}],["EXIST",{Name:"EXIST",Param:{Count:2},ToString:function(t){return"最近"+t[1]+"日存在"+t[0]}}],["EXISTR",{Name:"EXISTR",Param:{Count:3},ToString:function(t){return"从前"+t[1]+"日到前"+t[2]+"日存在"+t[0]}}],["EVERY",{Name:"EVERY",Param:{Count:2},ToString:function(t){return"最近"+t[1]+"日一直存在"+t[0]}}],["LAST",{Name:"LAST",Param:{Count:3},ToString:function(t){return"从前"+t[1]+"日到前"+t[2]+"日持续"+t[0]}}],["NOT",{Name:"NOT",Param:{Count:1},ToString:function(t){return t[0]+"取反"}}],["IF",{Name:"IF",Param:{Count:3},ToString:function(t){return"如果"+t[0]+",返回"+t[1]+",否则返回"+t[2]}}],["IFF",{Name:"IFF",Param:{Count:3},ToString:function(t){return"如果"+t[0]+",返回"+t[1]+",否则返回"+t[2]}}],["IFN",{Name:"IFN",Param:{Count:3},ToString:function(t){return"如果"+t[0]+",返回"+t[1]+",否则返回"+t[2]}}],["MAX",{Name:"MAX",Param:{Count:2},ToString:function(t){return t[0]+"和"+t[1]+"的较大值"}}],["MIN",{Name:"MIN",Param:{Count:2},ToString:function(t){return t[0]+"和"+t[1]+"的较小值"}}],["ACOS",{Name:"ACOS",Param:{Count:1},ToString:function(t){return t[0]+"的反余弦"}}],["ASIN",{Name:"ASIN",Param:{Count:1},ToString:function(t){return t[0]+"的反正弦"}}],["ATAN",{Name:"ATAN",Param:{Count:1},ToString:function(t){return t[0]+"的反正切"}}],["COS",{Name:"COS",Param:{Count:1},ToString:function(t){return t[0]+"的余弦"}}],["SIN",{Name:"SIN",Param:{Count:1},ToString:function(t){return t[0]+"的正弦"}}],["TAN",{Name:"TAN",Param:{Count:1},ToString:function(t){return t[0]+"的正切"}}],["EXP",{Name:"EXP",Param:{Count:1},ToString:function(t){return t[0]+"的指数"}}],["LN",{Name:"LN",Param:{Count:1},ToString:function(t){return t[0]+"的自然对数"}}],["LOG",{Name:"LOG",Param:{Count:1},ToString:function(t){return t[0]+"的对数"}}],["SQRT",{Name:"SQRT",Param:{Count:1},ToString:function(t){return t[0]+"的开方"}}],["ABS",{Name:"ABS",Param:{Count:1},ToString:function(t){return t[0]+"的绝对值"}}],["POW",{Name:"POW",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"乘幂"}}],["CEILING",{Name:"CEILING",Param:{Count:1},ToString:function(t){return t[0]+"的向上舍入"}}],["FLOOR",{Name:"FLOOR",Param:{Count:1},ToString:function(t){return t[0]+"的向上舍入"}}],["INTPART",{Name:"INTPART",Param:{Count:1},ToString:function(t){return t[0]+"的整数部分"}}],["BETWEEN",{Name:"BETWEEN",Param:{Count:3},ToString:function(t){return t[0]+"位于"+t[1]+"和"+t[2]+"之间"}}],["FRACPART",{Name:"FRACPART",Param:{Count:1},ToString:function(t){return t[0]+"的小数部分"}}],["ROUND",{Name:"ROUND",Param:{Count:1},ToString:function(t){return"对"+t[0]+"(进行)四舍五入"}}],["ROUND2",{Name:"ROUND2",Param:{Count:2},ToString:function(t){return"对"+t[0]+"(进行)四舍五入"}}],["SIGN",{Name:"SIGN",Param:{Count:1},ToString:function(t){return t[0]+"的符号"}}],["MOD",{Name:"MOD",Param:{Count:2},ToString:function(t){return t[0]+"关于"+t[1]+"的模"}}],["RAND",{Name:"RAND",Param:{Count:1},ToString:function(t){return"随机正整数"}}],["AVEDEV",{Name:"AVEDEV",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日平均绝对偏差"}}],["DEVSQ",{Name:"DEVSQ",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日数据偏差平方和"}}],["FORCAST",{Name:"FORCAST",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日线性回归预测值"}}],["TSMA",{Name:"TSMA",Param:{Count:2},ToString:function(t){return t[0]+"在"+t[1]+"个周期内的时间序列三角移动平均"}}],["SLOPE",{Name:"SLOPE",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日线性回归斜率"}}],["STD",{Name:"STD",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日估算标准差"}}],["STDP",{Name:"STDP",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日总体标准差"}}],["STDDEV",{Name:"STDDEV",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日标准偏差"}}],["VAR",{Name:"VAR",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日估算样本方差"}}],["VARP",{Name:"VARP",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日总体样本方差"}}],["COVAR",{Name:"COVAR",Param:{Count:3},ToString:function(t){return t[0]+"和"+t[1]+"的"+t[2]+"周期的协方差"}}],["RELATE",{Name:"RELATE",Param:{Count:3},ToString:function(t){return t[0]+"和"+t[1]+"的"+t[0]+"周期的相关系数"}}],["BETA",{Name:"BETA",Param:{Count:1},ToString:function(t){return"β(Beta)系数"}}],["BETAEX",{Name:"BETAEX",Param:{Count:3},ToString:function(t){return t[0]+"和"+t[1]+"的"+t[2]+"周期的相关放大系数"}}],["COST",{Name:"COST",Param:{Count:1},ToString:function(t){return"获利盘为"+t[0]+"%的成本分布"}}],["WINNER",{Name:"WINNER",Param:{Count:1},ToString:function(t){return"以"+t[0]+"计算的获利盘比例"}}],["LWINNER",{Name:"LWINNER",Param:{Count:2},ToString:function(t){return"最近"+t[0]+"日那部分成本以"+t[1]+"价格卖出的获利盘比例"}}],["PWINNER",{Name:"PWINNER",Param:{Count:2},ToString:function(t){return t[0]+"日前那部分成本以"+t[1]+"价格卖出的获利盘比例"}}],["COSTEX",{Name:"COSTEX",Param:{Count:2},ToString:function(t){return"位于价格"+t[0]+"和"+t[1]+"间的成本"}}],["PPART",{Name:"PPART",Param:{Count:2},ToString:function(t){return t[0]+"日前那部分成本占总成本的比例"}}],["SAR",{Name:"SAR",Param:{Count:3},ToString:function(t){return"步长为"+t[1]+"极限值为"+t[0]+"的"+t[2]+"日抛物转向"}}],["SARTURN",{Name:"SARTURN",Param:{Count:3},ToString:function(t){return"步长为"+t[1]+"极限值为"+t[0]+"的"+t[2]+"日抛物转向点"}}],["CON2STR",{Name:"CON2STR",Param:{Count:2},ToString:function(t){return t[0]+"转为字符串"}}],["VAR2STR",{Name:"VAR2STR",Param:{Count:2},ToString:function(t){return t[0]+"转为字符串"}}],["STR2CON",{Name:"STR2CON",Param:{Count:1},ToString:function(t){return t[0]+"转为数字"}}],["STRLEN",{Name:"STRLEN",Param:{Count:1},ToString:function(t){return"得到"+t[0]+"字符串长度"}}],["STRCAT",{Name:"STRCAT",Param:{Count:2},ToString:function(t){return"字符串相加"}}],["VARCAT",{Name:"VARCAT",Param:{Count:2},ToString:function(t){return"字符串相加"}}],["STRSPACE",{Name:"STRSPACE",Param:{Count:1},ToString:function(t){return"字符串"+t[0]+"加一空格"}}],["SUBSTR",{Name:"SUBSTR",Param:{Count:3},ToString:function(t){return"字符串"+t[0]+"中取一部分"}}],["STRCMP",{Name:"STRCMP",Param:{Count:2},ToString:function(t){return"字符串"+t[0]+"和字符串"+t[1]+"比较"}}],["FINDSTR",{Name:"FINDSTR",Param:{Count:2},ToString:function(t){return"字符串"+t[0]+"中查找字符串"+t[1]}}],["NAMEINCLUD",{Name:"NAMEINCLUD",Param:{Count:1},ToString:function(t){return"查找品种名称中包含"+t[0]}}],["CODELIKE",{Name:"CODELIKE",Param:{Count:1},ToString:function(t){return"查找品种名称中包含"+t[0]}}],["INBLOCK",{Name:"AVEDEV",Param:{Count:1},ToString:function(t){return"属于"+t[0]+"板块"}}],["HHVBARS",{Name:"HHVBARS",Param:{Count:2},ToString:function(t){return 0==t[1]?"历史"+t[0]+"新高距今天数":t[1]+"日内"+t[0]+"新高距今天数"}}],["LLVBARS",{Name:"LLVBARS",Param:{Count:2},ToString:function(t){return 0==t[1]?"历史"+t[0]+"新低距今天数":t[1]+"日内"+t[0]+"新低距今天数"}}]]),this.CallFunctionExplain=function(t,e,i){if(this.FUNCTION_INFO_LIST.has(t)){var a=this.FUNCTION_INFO_LIST.get(t);return a.Param.Count!=e.length&&this.ThrowUnexpectedNode(i,"函数"+t+"参数个数不正确. 需要"+a.Param.Count+"个参数"),a.ToString(e)}switch(t){case"CALCSTOCKINDEX":return"引用"+e[0]+"的"+e[1]+"指标第"+e[2]+"个输出值";case"PEAK":case"PEAKBARS":case"ZIG":case"ZIGA":case"TROUGH":case"TROUGHBARS":return this.GetZIGExplain(t,e);case"FINANCE":return this.GetFinanceExplain(e);case"DYNAINFO":return this.GetDynainfoExplain(e);case"CLOSE":case"C":case"VOL":case"V":case"OPEN":case"O":case"HIGH":case"H":case"LOW":case"L":case"AMOUNT":case"AMO":return this.GetOtherSymbolExplain({FunctionName:t,Args:e},i);case"PLOYLINE":return"当满足条件"+e[0]+"时以"+e[1]+"位置为顶点画折线连接";case"DRAWLINE":return"当满足条件"+e[0]+"时,在"+e[1]+"位置画直线起点，当满足条件"+e[2]+"时,在"+e[3]+"位置画直线终点,"+e[4]+"表示是否延长";case"DRAWSL":return"当满足条件"+e[0]+"时,在"+e[1]+"位置画斜线线性回归,"+e[2]+"斜率,"+e[3]+"长度,"+e[4]+"方向";case"DRAWKLINE":case"DRAWKLINE1":return"K线";case"DRAWICON":return"当满足条件"+e[0]+"时,在"+e[1]+"位置画"+e[2]+"号图标";case"DRAWTEXT":return"当满足条件"+e[0]+"时,在"+e[1]+"位置书写文字";case"DRAWTEXT_FIX":return"当满足条件"+e[0]+"时,在横轴"+e[1]+"纵轴"+e[2]+"位置书写文字";case"DRAWNUMBER":return"当满足条件"+e[0]+"时,在"+e[1]+"位置书写数字";case"DRAWNUMBER_FIX":return"当满足条件"+e[0]+"时,在横轴"+e[1]+"纵轴"+e[2]+"位置书写数字";case"RGB":return"自定色["+e[0]+","+e[1]+","+e[2]+"]";case"DRAWBAND":return"画带状线";case"DRAWRECTREL":return"相对位置上画矩形.";case"DRAWGBK":return"填充背景";case"STICKLINE":var n="";return n=-1==e[4]?"虚线空心柱":0==e[4]?"实心柱":"实线空心柱","当满足条件"+e[0]+"时, 在"+e[1]+"和"+e[2]+"位置之间画柱状线,宽度为"+e[3]+","+n;default:this.ThrowUnexpectedNode(i,"函数"+t+"不存在")}},this.GetDynainfoExplain=function(t){var e=new p.default([[3,"前收盘价"],[4,"开盘价"],[5,"最高价"],[6,"最低价"],[7,"现价"],[8,"总量"],[9,"现量"],[10,"总金额"],[11,"均价"],[12,"日涨跌"],[13,"振幅"],[14,"涨幅"],[15,"开盘时的成交金额"],[16,"前5日每分钟均量"],[17,"量比"],[18,"上涨家数"],[19,"下跌家数"]]),i=t[0];return e.has(i)?e.get(i):"即时行情["+i+"]"},this.GetFinanceExplain=function(t){var e=new p.default([[1,"总股本"],[2,"市场类型"],[3,"沪深品种类型"],[4,"沪深行业代码"],[5,"B股"],[6,"H股"],[7,"流通股本[股]"],[8,"股东人数[户]"],[9,"资产负债率%"],[10,"总资产"],[11,"流动资产"],[12,"固定资产"],[13,"无形资产"],[15,"流动负债"],[16,"少数股东权益"]]),i=t[0];return e.has(i)?e.get(i):"财务数据["+i+"]"},this.GetZIGExplain=function(t,e){var i=e[0];switch(0==i?i="开盘价":1==i?i="最高价":2==i?i="最低价":3==i&&(i="收盘价"),t){case"PEAK":return i+"的"+e[1]+"%之字转向的前"+e[2]+"个波峰值";case"PEAKBARS":return i+"的"+e[1]+"5%之字转向的前"+e[2]+"个波峰位置";case"ZIG":return i+"的"+e[1]+"的之字转向";case"ZIGA":return i+"变化"+e[1]+"的之字转向";case"TROUGH":return i+"的"+e[1]+"%之字转向的前"+e[2]+"个波谷值";case"TROUGHBARS":return i+"的"+e[1]+"%之字转向的前"+e[2]+"个波谷位置"}},this.GetColorExplain=function(t){var e=new p.default([["COLORBLACK","黑色"],["COLORBLUE","蓝色"],["COLORGREEN","绿色"],["COLORCYAN","青色"],["COLORRED","红色"],["COLORMAGENTA","洋红色"],["COLORBROWN","棕色"],["COLORLIGRAY","淡灰色"],["COLORGRAY","深灰色"],["COLORLIBLUE","淡蓝色"],["COLORLIGREEN","淡绿色"],["COLORLICYAN","淡青色"],["COLORLIRED","淡红色"],["COLORLIMAGENTA","淡洋红色"],["COLORWHITE","白色"],["COLORYELLOW","黄色"]]);return e.has(t)?e.get(t):0==t.indexOf("COLOR")?"#"+t.substr(5):"rgb(30,144,255)"},this.GetLineWidthExplain=function(t){var e=parseInt(t.replace("LINETHICK",""));return Ce.IsPlusNumber(e)?e:1},this.SymbolPeriodExplain=function(t,e){var i=new p.default([["CLOSE","收盘价"],["C","收盘价"],["VOL","成交量"],["V","成交量"],["OPEN","开盘价"],["O","开盘价"],["HIGH","最高价"],["H","最高价"],["LOW","最低价"],["L","最低价"],["AMOUNT","成交金额"],["AMO","成交金额"],["VOLINSTK","持仓量"]]),a=new p.default([["MIN1","1分钟"],["MIN5","5分钟"],["MIN15","15分钟"],["MIN30","30分钟"],["MIN60","60分钟"],["DAY","日"],["WEEK","周"],["MONTH","月"],["SEASON","季"],["YEAR","年"],["WEEK2","双周"],["HALFYEAR","半年"]]),n=t;i.has(t)&&(n=i.get(t));var r=e;return a.has(e)&&(r=a.get(e)),n+"[取"+r+"数据]"},this.GetOtherSymbolExplain=function(t,e){var i=new p.default([["CLOSE","收盘价"],["C","收盘价"],["VOL","成交量"],["V","成交量"],["OPEN","开盘价"],["O","开盘价"],["HIGH","最高价"],["H","最高价"],["LOW","最低价"],["L","最低价"],["AMOUNT","成交金额"],["AMO","成交金额"],["VOLINSTK","持仓量"]]);if(t.FunctionName){var a=t.Args,n=i.get(t.FunctionName);return"["+a[0]+"]"+n}if(t.Literal)return a=t.Literal.toUpperCase().split("$"),i.has(a[1])?"["+a[0]+"]"+(n=i.get(a[1])):""},this.IsDrawFunction=function(t){return!!new c.default(["STICKLINE","DRAWTEXT","SUPERDRAWTEXT","DRAWLINE","DRAWBAND","DRAWKLINE","DRAWKLINE1","DRAWKLINE_IF","PLOYLINE","POLYLINE","DRAWNUMBER","DRAWNUMBER_FIX","DRAWICON","DRAWCHANNEL","PARTLINE","DRAWTEXT_FIX","DRAWGBK","DRAWTEXT_LINE","DRAWRECTREL","DRAWTEXTABS","DRAWOVERLAYLINE","FILLRGN","FILLRGN2","FILLTOPRGN","FILLBOTTOMRGN","FILLVERTICALRGN","FLOATRGN","DRAWSL","DRAWGBK2"]).has(t)},this.VisitAssignmentExpression=function(t){var e=t.Left;e.Type!=Ui.Identifier&&this.ThrowUnexpectedNode(t);var i=e.Name,a=t.Right,n=null;a.Type==Ui.BinaryExpression||a.Type==Ui.LogicalExpression?n=this.VisitBinaryExpression(a):a.Type==Ui.CallExpression?n=this.VisitCallExpression(a):a.Type==Ui.Literal?(n=a.Value,Ce.IsString(n)&&a.Value.indexOf("$")>0&&(n=this.GetOtherSymbolExplain({Literal:n},t))):a.Type==Ui.Identifier?n=this.ReadVariable(a.Name,a):a.Type==Ui.MemberExpression?n=this.ReadMemberVariable(a):a.Type==Ui.UnaryExpression&&(n="-"==a.Operator?"-"+this.GetNodeValue(a.Argument):a.Argument.Value),g.Complier.Log("[JSExplainer::VisitAssignmentExpression]",i," = ",n),this.VarTable.set(i,n)},this.VisitBinaryExpression=function(t){var e=[];e.push(t);for(var i=null;0!=e.length;)if((i=e[e.length-1]).Left&&t!=i.Left&&t!=i.Right)e.push(i.Left);else if(i.Right&&t!=i.Right)e.push(i.Right);else{var a=e.pop();if(a.Type==Ui.BinaryExpression){var n=this.GetNodeValue(a.Left),r=this.GetNodeValue(a.Right);g.Complier.Log("[JSExplainer::VisitBinaryExpression] BinaryExpression",a,n,r),a.Out=null,a.Out="("+n+" "+a.Operator+" "+r+")","收盘价"==n&&"开盘价"==r?">"==a.Operator?a.Out="(收阳线)":"<"==a.Operator?a.Out="(收阴线)":"="==a.Operator&&(a.Out="(平盘)"):"开盘价"==n&&"收盘价"==r&&("<"==a.Operator?a.Out="(收阳线)":">"==a.Operator?a.Out="(收阴线)":"="==a.Operator&&(a.Out="(平盘)")),g.Complier.Log("[JSExplainer::VisitBinaryExpression] BinaryExpression",a)}else if(a.Type==Ui.LogicalExpression){var o=this.GetNodeValue(a.Left),s=this.GetNodeValue(a.Right);switch(g.Complier.Log("[JSExecute::VisitBinaryExpression] LogicalExpression",a,o,s),a.Out=null,a.Operator){case"&&":case"AND":a.Out="("+o+" 并且 "+s+")";break;case"||":case"OR":a.Out="("+o+" 或者 "+s+")"}g.Complier.Log("[JSExplainer::VisitBinaryExpression] LogicalExpression",a)}t=i}return t.Out},this.GetNodeValue=function(t){switch(t.Type){case Ui.Literal:return t.Value;case Ui.UnaryExpression:return"-"==t.Operator?"-"+this.GetNodeValue(t.Argument):t.Argument.Value;case Ui.Identifier:return this.ReadVariable(t.Name,t);case Ui.BinaryExpression:case Ui.LogicalExpression:return t.Out;case Ui.CallExpression:return this.VisitCallExpression(t);default:this.ThrowUnexpectedNode(t)}},this.ReadVariable=function(t,e){if(this.ConstVarTable.has(t))return this.ConstVarTable.get(t);if(Bi.IsCustomVariant(t))return this.ReadCustomVariant(t,e);if(this.VarTable.has(t))return this.VarTable.get(t);if(t.indexOf("#")>0){var i=t.split("#");return this.SymbolPeriodExplain(i[0],i[1])}return this.ThrowUnexpectedNode(e,"变量"+t+"不存在"),t},this.ThrowUnexpectedNode=function(t,e){var i=t.Marker,a=e||"执行异常";return this.ErrorHandler.ThrowError(i.Index,i.Line,i.Column,a)},this.ThrowError=function(){}}(n,e);r.ErrorCallback=i,r.JobList=a.Node.GetDataJobList(),r.JobList.push({ID:Zi.JOB_RUN_SCRIPT}),r.Run()}catch(t){g.Complier.Log(t),i&&i(t,e.CallbackParam)}}(),g.Complier.Log("[JSComplier.Explain] async explain.")},Qi.SetDomain=function(t,e){t&&(Bi.Domain=t),e&&(Bi.CacheDomain=e)},Qi.AddIcon=function(t){Bi.CustomDrawIcon.Data.set(t.ID,t)},Qi.AddFunction=function(t){if(t&&t.Name){var e=t.Name.toUpperCase();Bi.CustomFunction.Data.set(e,t)}},Qi.AddVariant=function(t){if(t&&t.Name){var e=t.Name.toUpperCase();Bi.CustomVariant.Data.set(e,t)}},Qi.ColorVarToRGB=function(t){var e=new p.default([["COLORBLACK","rgb(0,0,0)"],["COLORBLUE","rgb(18,95,216)"],["COLORGREEN","rgb(25,158,0)"],["COLORCYAN","rgb(0,255,198)"],["COLORRED","rgb(238,21,21)"],["COLORMAGENTA","rgb(255,0,222)"],["COLORBROWN","rgb(149,94,15)"],["COLORLIGRAY","rgb(218,218,218)"],["COLORGRAY","rgb(133,133,133)"],["COLORLIBLUE","rgb(94,204,255)"],["COLORLIGREEN","rgb(183,255,190)"],["COLORLICYAN","rgb(154,255,242)"],["COLORLIRED","rgb(255,172,172)"],["COLORLIMAGENTA","rgb(255,145,241)"],["COLORWHITE","rgb(255,255,255)"],["COLORYELLOW","rgb(255,198,0)"]]);if(e.has(t))return e.get(t);if(0!=t.indexOf("COLOR"))return null;var i=t.substr(5);if(6!=i.length)return null;var a=i.substr(0,2),n=parseInt(a,16);a=i.substr(2,2);var r=parseInt(a,16);return a=i.substr(4,2),"rgb("+parseInt(a,16)+","+r+","+n+")"};var ta={KLINE_ID:0,MINUTE_ID:2,HISTORY_MINUTE_ID:3,MULTIDAY_MINUTE_ID:4},ea={OVERLAY_BARS:"OVERLAY_BARS",KLINE_TABLE:"KLINE_TABLE",SCATTER_PLOT:"SCATTER_PLOT"};var ia=new function(){this.DataMap=new p.default,this.Add=function(t,e){this.DataMap.set(t,{MinuteFittingCallback:e.MinuteFittingCallback,KLineFittingCallback:e.KLineFittingCallback,CreateChartCallback:e.CreateChartCallback,FormatTitleCallback:e.FormatTitleCallback})},this.Get=function(t){return this.DataMap.has(t)?this.DataMap.get(t):null},this.Has=function(t){return this.DataMap.has(t)}};function aa(t,e,i,a){this.newMethod=di,this.newMethod(t),delete this.newMethod,this.ClassName="ScriptIndex",this.Script=e,this.Arguments=[],this.OutVar=[],this.ID,this.FloatPrecision=2,this.StringFormat,this.KLineType=null,this.InstructionType,this.YSpecificMaxMin=null,this.YSplitScale=null,this.Condition=null,this.OutName=null,this.YSplitType,this.IsLocked=!1,this.LockCallback=null,this.LockID=null,this.LockBG=null,this.LockTextColor=null,this.LockText=null,this.LockFont=null,this.LockCount=20,this.LockMinWidth=null,this.TitleFont=Qe.TitleFont,this.IsShortTitle=!1,this.IsUsePageData=!1,this.Debug,a&&(a.FloatPrecision>=0&&(this.FloatPrecision=a.FloatPrecision),a.StringFormat>0&&(this.StringFormat=a.StringFormat),a.ID&&(this.ID=a.ID),(a.KLineType>=0||-1===a.KLineType)&&(this.KLineType=a.KLineType),a.InstructionType&&(this.InstructionType=a.InstructionType),a.YSpecificMaxMin&&(this.YSpecificMaxMin=a.YSpecificMaxMin),a.YSplitScale&&(this.YSplitScale=a.YSplitScale),a.Condition&&(this.Condition=a.Condition),a.TitleFont&&(this.TitleFont=a.TitleFont),a.IsShortTitle&&(this.IsShortTitle=a.IsShortTitle),a.OutName&&(this.OutName=a.OutName),Ce.IsNumber(a.YSplitType)&&(this.YSplitType=a.YSplitType),a.Debug&&Ce.IsPlusNumber(a.Debug.Count)&&a.Debug.Callback&&(this.Debug={Count:a.Debug.Count,Callback:a.Debug.Callback})),a&&a.Lock&&(1==a.Lock.IsLocked&&(this.IsLocked=!0),a.Lock.Callback&&(this.LockCallback=a.Lock.Callback),a.Lock.ID&&(this.LockID=a.Lock.ID),a.Lock.BG&&(this.LockBG=a.Lock.BG),a.Lock.TextColor&&(this.LockTextColor=a.Lock.TextColor),a.Lock.Text&&(this.LockText=a.Lock.Text),a.Lock.Font&&(this.LockFont=a.Lock.Font),a.Lock.Count&&(this.LockCount=a.Lock.Count),a.Lock.MinWidth&&(this.LockMinWidth=a.Lock.MinWidth*L())),i&&(this.Arguments=i),this.CopyTo=function(t){t.FloatPrecision=this.FloatPrecision,t.StringFormat=this.StringFormat,t.KLineType=this.KLineType,t.InstructionType=this.InstructionType,t.Condition=this.Condition,t.TitleFont=this.TitleFont,t.IsShortTitle=this.IsShortTitle,t.OutName=this.OutName,t.Arguments=this.Arguments,t.Script=this.Script,t.Name=this.Name,t.ID=this.ID},this.SetLock=function(t){1==t.IsLocked?(this.IsLocked=!0,t.Callback&&(this.LockCallback=t.Callback),t.ID&&(this.LockID=t.ID),t.BG&&(this.LockBG=t.BG),t.TextColor&&(this.LockTextColor=t.TextColor),t.Text&&(this.LockText=t.Text),t.Font&&(this.LockFont=t.Font),t.Count&&(this.LockCount=t.Count),t.MinWidth&&(this.LockMinWidth=t.MinWidth*L())):(this.IsLocked=!1,this.LockCallback=null,this.LockID=null,this.LockBG=null,this.LockTextColor=null,this.LockText=null,this.LockFont=null,this.LockCount=20)},this.ExecuteScript=function(t,e,i){this.OutVar=[];var a={HQChart:t,WindowIndex:e,HistoryData:i,Self:this},n=ta.KLINE_ID;"MinuteChartContainer"===t.ClassName||"MinuteChartHScreenContainer"===t.ClassName?n=t.DayCount>1?ta.MULTIDAY_MINUTE_ID:ta.MINUTE_ID:"HistoryMinuteChartContainer"===t.ClassName&&(n=ta.HISTORY_MINUTE_ID);var r={HQDataType:n,Symbol:t.Symbol,Name:t.Name,Data:i,SourceData:t.SourceData,Callback:this.RecvResultData,CallbackParam:a,Async:!0,MaxRequestDataCount:t.MaxRequestDataCount,MaxRequestMinuteDayCount:t.MaxRequestMinuteDayCount,Arguments:this.Arguments,Condition:this.Condition,IsBeforeData:t.IsBeforeData,IsApiPeriod:t.IsApiPeriod,DrawInfo:null,Self:this};if(this.Debug&&Ce.IsPlusNumber(this.Debug.Count)&&this.Debug.Callback&&(--this.Debug.Count,r.Debug=1,r.DebugFilter=this.Debug.Callback),t&&t.ChartPaint[0]){var o=t.ChartPaint[0];o&&o.DrawKRange&&(r.DrawInfo={Start:o.DrawKRange.Start,End:o.DrawKRange.End})}if(n===ta.HISTORY_MINUTE_ID&&(r.TrateDate=t.TradeDate),n===ta.MULTIDAY_MINUTE_ID&&(r.DayCount=t.DayCount),t.NetworkFilter&&(r.NetworkFilter=t.NetworkFilter),!this.Condition||this.IsMeetCondition(a,r)){var s=this.Script;Qi.Execute(s,r,t.ScriptErrorCallback)}else this.ShowConditionError(a)},this.IsMeetCondition=function(t,e){if(g.Complier.Log("[ScriptIndex::IsMeetCondition] ",this.Condition),this.Condition.Period){if(!this.IsMeetPeriodCondition(t,e))return!1;if(!this.IsMeetIncludeCondition(t,e))return!1}return!0},this.IsMeetPeriodCondition=function(t,e){if(!this.Condition.Period)return!0;for(var i in this.Condition.Period){var a=this.Condition.Period[i];switch(a){case D.MINUTE_ID:if(e.HQDataType==ta.MINUTE_ID)return!0;break;case D.MULTIDAY_MINUTE_ID:if(e.HQDataType==ta.MULTIDAY_MINUTE_ID)return!0;break;case D.KLINE_DAY_ID:case D.KLINE_WEEK_ID:case D.KLINE_MONTH_ID:case D.KLINE_YEAR_ID:case D.KLINE_TWOWEEK_ID:case D.KLINE_QUARTER_ID:case D.KLINE_MINUTE_ID:case D.KLINE_5_MINUTE_ID:case D.KLINE_15_MINUTE_ID:case D.KLINE_30_MINUTE_ID:case D.KLINE_60_MINUTE_ID:if(t.HQChart.Period==a)return!0}}return!1},this.IsMeetIncludeCondition=function(t,e){if(!this.Condition.Include||this.Condition.Include.length<=0)return!0;var i=t.HQChart.Symbol;for(var a in i&&(i=i.toUpperCase()),this.Condition.Include){if(i==this.Condition.Include[a])return!0}return!1},this.ShowConditionError=function(t){var e=t.HQChart,i=t.WindowIndex;e.DeleteIndexPaint(i),0==i&&e.ShowKLine(!0);var a=new Lt;a.Canvas=e.Canvas,a.ChartBorder=e.Frame.SubFrame[i].Frame.ChartBorder,a.ChartFrame=e.Frame.SubFrame[i].Frame,a.NotSupportMessage="指标不支持当前品种或周期",e.ChartPaint.push(a),e.Draw()},this.RecvResultData=function(t,e){var i=e.HQChart,a=e.WindowIndex,n=e.HistoryData;if(e.Self.OutVar=t,e.Self.BindData(i,a,n),0==e.Self.IsLocked)e.HQChart.Frame.SubFrame[a].Frame.SetLock(null);else{var r={IsLocked:!0,Callback:e.Self.LockCallback,IndexName:e.Self.Name,ID:e.Self.LockID,BG:e.Self.LockBG,Text:e.Self.LockText,TextColor:e.Self.LockTextColor,Font:e.Self.LockFont,Count:e.Self.LockCount,MinWidth:e.Self.LockMinWidth};e.HQChart.Frame.SubFrame[a].Frame.SetLock(r)}if(e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw(),i.GetIndexEvent){var o=i.GetIndexEvent();if(o){var s=e.Self,l={OutVar:s.OutVar,WindowIndex:a,Name:s.Name,Arguments:s.Arguments,HistoryData:n,Stock:{Symbol:i.Symbol,Name:i.Name}};o.Callback(o,l,s)}}},this.CreateLine=function(t,e,i,a,n){if(7==n)var r=new Pt;else r=new Lt;if(r.Canvas=t.Canvas,r.DrawType=1,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Identify=this.Guid,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.LineWidth){var o=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(o)&&o>0&&(r.LineWidth=o)}i.IsDotLine&&(r.IsDotLine=!0),0==i.IsShow&&(r.IsShow=!1);var s=e+1;r.Data.Data=i.Data,!1===i.IsShowTitle||Ce.IsString(i.Name)&&0==i.Name.indexOf("NOTEXT")||(i.NoneName?t.TitlePaint[s].Data[a]=new ke(r.Data,null,r.Color):t.TitlePaint[s].Data[a]=new ke(r.Data,i.Name,r.Color),t.TitlePaint[s].Data[a].ChartClassName=r.ClassName),t.ChartPaint.push(r)},this.CreateOverlayLine=function(t,e,i,a,n){if(7==n)var r=new Pt;if((r=new Ft).Canvas=t.Canvas,r.DrawType=1,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.LineWidth){var o=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(o)&&o>0&&(r.LineWidth=o)}i.IsDotLine&&(r.IsDotLine=!0),0==i.IsShow&&(r.IsShow=!1);var s=e+1;r.Data.Data=i.Data,t.TitlePaint[s].Data[a]=new ke(r.Data,i.Name,r.Color),t.TitlePaint[s].Data[a].ChartClassName=r.ClassName,t.ChartPaint.push(r)},this.CreateBar=function(t,e,i,a){var n=new Yt;n.Canvas=t.Canvas,i.Draw.Width>0?n.Width=i.Draw.Width:n.Width=0,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a);n.Data.Data=i.Draw.DrawData,n.BarType=i.Draw.Type,t.ChartPaint.push(n)},this.CreateText=function(t,e,i,a,n){var r=new Wt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.ReloadResource(),i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),!0===i.IsDrawCenter&&(r.TextAlign="center"),!0===i.IsDrawAbove&&(r.Direction=1),!0===i.IsDrawBelow&&(r.Direction=2);i.Draw.Position&&(r.Position=i.Draw.Position),i.Draw.DrawData&&(r.Data.Data=i.Draw.DrawData),r.Text=i.Draw.Text,i.Draw.Direction>0&&(r.Direction=i.Draw.Direction),i.Draw.YOffset>0&&(r.YOffset=i.Draw.YOffset),i.Draw.TextAlign&&(r.TextAlign=i.Draw.TextAlign),i.DrawVAlign>=0&&(0==i.DrawVAlign?r.Direction=1:1==i.DrawVAlign?r.Direction=0:2==i.DrawVAlign&&(r.Direction=2)),i.DrawAlign>=0&&(0==i.DrawAlign?r.TextAlign="left":1==i.DrawAlign?r.TextAlign="center":2==i.DrawAlign&&(r.TextAlign="right")),i.DrawFontSize>0&&(r.FixedFontSize=i.DrawFontSize),i.Background&&(r.TextBG=i.Background),t.ChartPaint.push(r)},this.CreateDrawNumber=function(t,e,i,a){var n=new function(){this.newMethod=Xt,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawNumber",this.ReloadResource=function(t){this.TextSize={Max:Qe.DRAWNUMBER.MaxSize,Min:Qe.DRAWNUMBER.MinSize,Zoom:{Type:Qe.DRAWNUMBER.Zoom.Type,Value:Qe.DRAWNUMBER.Zoom.Value},FontName:Qe.DRAWNUMBER.FontName,YOffset:Qe.DRAWNUMBER.YOffset}}};n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.ReloadResource(),i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),!0===i.IsDrawCenter&&(n.TextAlign="center"),!0===i.IsDrawAbove&&(n.TextBaseline="bottom"),!0===i.IsDrawBelow&&(n.TextBaseline="top"),n.Data.Data=i.Draw.DrawData.Value,n.Text=i.Draw.DrawData.Text,i.Draw.Direction>0&&(n.Direction=i.Draw.Direction),i.Draw.YOffset>0&&(n.YOffset=i.Draw.YOffset),i.Draw.TextAlign&&(n.TextAlign=i.Draw.TextAlign),"TOP"===i.Draw.FixedPosition?n.FixedPosition=1:"BOTTOM"===i.Draw.FixedPosition&&(n.FixedPosition=2),i.DrawVAlign>=0&&(0==i.DrawVAlign?n.TextBaseline="top":1==i.DrawVAlign?n.TextBaseline="middle":2==i.DrawVAlign&&(n.TextBaseline="bottom")),i.DrawAlign>=0&&(0==i.DrawAlign?n.TextAlign="left":1==i.DrawAlign?n.TextAlign="center":2==i.DrawAlign&&(n.TextAlign="right")),i.DrawFontSize>0&&(n.FixedFontSize=i.DrawFontSize),i.Background&&(n.TextBG=i.Background),i.VerticalLine&&(n.VerticalLine=i.VerticalLine);t.ChartPaint.push(n)},this.CreateDrawTextV2=function(t,e,i,a){var n=new Xt;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.ReloadResource(),i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),!0===i.IsDrawCenter&&(n.TextAlign="center"),!0===i.IsDrawAbove&&(n.TextBaseline="bottom"),!0===i.IsDrawBelow&&(n.TextBaseline="top"),i.Draw.DrawData&&(n.Data.Data=i.Draw.DrawData),n.Text=i.Draw.Text,i.Draw.Direction>0&&(n.Direction=i.Draw.Direction),i.Draw.YOffset>0&&(n.YOffset=i.Draw.YOffset),i.Draw.TextAlign&&(n.TextAlign=i.Draw.TextAlign),"TOP"===i.Draw.FixedPosition?n.FixedPosition=1:"BOTTOM"===i.Draw.FixedPosition&&(n.FixedPosition=2),i.DrawVAlign>=0&&(0==i.DrawVAlign?n.TextBaseline="top":1==i.DrawVAlign?n.TextBaseline="middle":2==i.DrawVAlign&&(n.TextBaseline="bottom")),i.DrawAlign>=0&&(0==i.DrawAlign?n.TextAlign="left":1==i.DrawAlign?n.TextAlign="center":2==i.DrawAlign&&(n.TextAlign="right")),i.DrawFontSize>0&&(n.FixedFontSize=i.DrawFontSize),i.Background&&(n.TextBG=i.Background),i.VerticalLine&&(n.VerticalLine=i.VerticalLine);t.ChartPaint.push(n)},this.CreateMACD=function(t,e,i,a){var n=new Kt;if(n.Canvas=t.Canvas,n.Identify=this.Guid,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.LineWidth){var r=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(r)&&r>0&&(n.LineWidth=r)}var o=e+1;n.Data.Data=i.Data;var s=this.GetDefaultColor(a);i.Color&&(s=this.GetColor(i.Color)),t.TitlePaint[o].Data[a]=new ke(n.Data,i.Name,s),t.ChartPaint.push(n)},this.CreatePointDot=function(t,e,i,a,n){var r=new Nt;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.Radius&&(r.Radius=i.Radius),i.LineWidth){var o=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(o)&&o>0&&(r.Radius=o)}Ce.IsBool(i.UpDownDot)&&(r.EnableUpDownColor=i.UpDownDot,r.HistoryData=n);var s=e+1;r.Data.Data=i.Data,t.TitlePaint[s].Data[a]=new ke(r.Data,i.Name,r.Color),t.ChartPaint.push(r)},this.CreateStick=function(t,e,i,a){var n=new Rt;if(n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),i.LineWidth){var r=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(r)&&r>0&&(n.LineWidth=r)}var o=e+1;n.Data.Data=i.Data,t.TitlePaint[o].Data[a]=new ke(n.Data,i.Name,n.Color),t.ChartPaint.push(n)},this.CreateLineStick=function(t,e,i,a){var n=new Bt;if(n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),i.LineWidth){var r=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(r)&&r>0&&(n.LineWidth=r)}var o=e+1;n.Data.Data=i.Data,t.TitlePaint[o].Data[a]=new ke(n.Data,i.Name,n.Color),t.ChartPaint.push(n)},this.CreateStraightLine=function(t,e,i,a){var n=new Lt;if(n.DrawType=1,n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),i.LineWidth){var r=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(r)&&r>0&&(n.LineWidth=r)}var o=e+1;n.Data.Data=i.Draw.DrawData,"DRAWLINE"==i.Name&&(t.TitlePaint[o].Data[a]=new ke(n.Data,null,n.Color)),t.ChartPaint.push(n)},this.CreateVolStick=function(t,e,i,a,n){var r=new kt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.KLineDrawType=t.KLineDrawType,r.Identify=this.Guid,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a);var o=e+1;r.Data.Data=i.Data,r.HistoryData=n,t.TitlePaint[o].Data[a]=new ke(r.Data,i.Name,r.Color),t.ChartPaint.push(r)},this.CreateBand=function(t,e,i,a){var n=new jt;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.FirstColor=i.Draw.Color[0],n.SecondColor=i.Draw.Color[1],n.Data.Data=i.Draw.DrawData,t.ChartPaint.push(n)},this.CreateFillRGN=function(t,e,i,a){var n=new qt;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Data.Data=i.Draw.DrawData,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),t.ChartPaint.push(n)},this.CreateFillRGN2=function(t,e,i,a){var n=new Jt;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Data.Data=i.Draw.DrawData,t.ChartPaint.push(n)},this.CreateFillBGRGN=function(t,e,i,a){var n=new function(){this.newMethod=Jt,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.IsHScreen=!1,this.ClassName="ChartFillBGRGN",this.DrawVerticalRGN=function(){for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartBorder.GetLeft()+e/2+Qe.FrameLeftMargin,n=this.ChartBorder.GetTopEx(),r=this.ChartBorder.GetBottomEx(),o=[],s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<i;++s,++l,a+=t+e){var h=this.Data.Data[s];o[s]=null,h&&h.Color&&(x=this.ChartFrame.GetXFromIndex(l),this.IsHScreen?o[s]={Line:{X:n,Y:x},Line2:{X:r,Y:x},Color:h.Color}:o[s]={Line:{X:x,Y:n},Line2:{X:x,Y:r},Color:h.Color})}this.DrawRGB(o)},this.Draw=function(){if(!this.ChartFrame.IsMinSize)if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data)if("FILLVERTICALRGN"!=this.Name){var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartBorder.GetLeft()+e/2+Qe.FrameLeftMargin,n=this.ChartBorder.GetTopEx(),r=this.ChartBorder.GetBottomEx(),o=0,s=0,l=n;"FILLBOTTOMRGN"==this.Name&&(l=r);for(var h=[],u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<i;++u,++c,a+=t+e){var d=this.Data.Data[u];h[u]=null,null!=d&&null!=d.Value&&d.Color&&(o=this.ChartFrame.GetXFromIndex(c),s=this.ChartFrame.GetYFromData(d.Value),this.IsHScreen?h[u]={Line:{X:s,Y:o},Line2:{X:l,Y:o},Color:d.Color}:h[u]={Line:{X:o,Y:s},Line2:{X:o,Y:l},Color:d.Color})}this.DrawRGB(h)}else this.DrawVerticalRGN()},this.DrawRGB=function(t){var e=this.ChartFrame.DataWidth,i=(this.ChartFrame.DistanceWidth+e)/2,a=!0,n=0,r=[],o=null;for(var s in t){var l=t[s];if(!l||o&&l.Color!=o){if(n>0){for(var h=r.length-1;h>=0;--h){var u=r[h];this.Canvas.lineTo(u.Line2.X+i,u.Line2.Y),this.Canvas.lineTo(u.Line2.X-i,u.Line2.Y)}this.Canvas.closePath(),this.Canvas.fillStyle=o,this.Canvas.fill()}a=!0,n=0,r=[],o=null}l&&(a?(this.Canvas.beginPath(),this.Canvas.moveTo(l.Line.X-i,l.Line.Y),this.Canvas.lineTo(l.Line.X+i,l.Line.Y),a=!1,o=l.Color):(this.Canvas.lineTo(l.Line.X-i,l.Line.Y),this.Canvas.lineTo(l.Line.X+i,l.Line.Y)),r.push(l),++n)}if(n>0){for(h=r.length-1;h>=0;--h)u=r[h],this.Canvas.lineTo(u.Line2.X+i,u.Line2.Y),this.Canvas.lineTo(u.Line2.X-i,u.Line2.Y);this.Canvas.closePath(),this.Canvas.fillStyle=o,this.Canvas.fill()}},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:null,Max:null},i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a)if((n=this.Data.Data[i])&&null!=n.Value){var n=n.Value;null==e.Max?e.Max=n:e.Max<n&&(e.Max=n),null==e.Min?e.Min=n:e.Min>n&&(e.Min=n)}return e}};n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Data.Data=i.Draw.DrawData,t.ChartPaint.push(n)},this.CreateFLOATRGN=function(t,e,i,a){var n=new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!1,this.ClassName="ChartFLOATRGN",this.Color="rgb(56,67,99)",this.IsHScreen=!1,this.Draw=function(){if(!this.ChartFrame.IsMinSize)if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data){for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartBorder.GetLeft()+e/2+Qe.FrameLeftMargin,n=0,r=0,o=0,s=[],l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<i;++l,++h,a+=t+e){var u=this.Data.Data[l];s[l]=null,u&&Ce.IsNumber(u.Value)&&Ce.IsNumber(u.Value2)&&u.Color&&(n=this.ChartFrame.GetXFromIndex(h),r=this.ChartFrame.GetYFromData(u.Value),this.IsHScreen?s[l]={Line:{X:r,Y:n},Line2:{X:r+u.Value2*L(),Y:n},Color:u.Color}:s[l]={Line:{X:n,Y:r},Line2:{X:n,Y:r-u.Value2*L()},Color:u.Color})}var c=null;for(var l in s){if(u=s[l],c&&u)if(this.IsHScreen){var d=u.Line.Y-c.Line.Y;n=c.Line.Y+d/2,r=c.Line.X+(u.Line.X-c.Line.X)/2,o=c.Line2.X+(u.Line2.X-c.Line2.X)/2,c.RightLine={X:r,Y:n},c.RightLine2={X:o,Y:n},u.LeftLine={X:r,Y:n},u.LeftLine2={X:o,Y:n}}else d=u.Line.X-c.Line.X,n=c.Line.X+d/2,r=c.Line.Y+(u.Line.Y-c.Line.Y)/2,o=c.Line2.Y+(u.Line2.Y-c.Line2.Y)/2,c.RightLine={X:n,Y:r},c.RightLine2={X:n,Y:o},u.LeftLine={X:n,Y:r},u.LeftLine2={X:n,Y:o};c=u}this.DrawRGB(s)}},this.DrawRGB=function(t){var e=!0,i=0,a=[],n=null;if(this.IsHScreen)var r=this.ChartBorder.GetLeftEx(),o=this.ChartBorder.GetRightEx(),s=this.ChartBorder.GetTop(),l=this.ChartBorder.GetBottom();else r=this.ChartBorder.GetLeft(),o=this.ChartBorder.GetRight(),s=this.ChartBorder.GetTopEx(),l=this.ChartBorder.GetBottomEx();for(var h in this.Canvas.save(),this.Canvas.beginPath(),this.Canvas.rect(r,s,o-r,l-s),this.Canvas.clip(),t){var u=t[h];if(!u||n&&u.Color!=n){if(i>0){var c=a[a.length-1],d=a[0];c.RightLine&&(this.Canvas.lineTo(c.RightLine.X,c.RightLine.Y),this.Canvas.lineTo(c.RightLine2.X,c.RightLine2.Y));for(var f=a.length-1;f>=0;--f){var p=a[f];this.Canvas.lineTo(p.Line2.X,p.Line2.Y)}d.LeftLine2&&this.Canvas.lineTo(d.LeftLine2.X,d.LeftLine2.Y),this.Canvas.closePath(),this.Canvas.fillStyle=n,this.Canvas.fill()}e=!0,i=0,a=[],n=null}u&&(e?(this.Canvas.beginPath(),u.LeftLine?(this.Canvas.moveTo(u.LeftLine.X,u.LeftLine.Y),this.Canvas.lineTo(u.Line.X,u.Line.Y)):this.Canvas.moveTo(u.Line.X,u.Line.Y),e=!1,n=u.Color):this.Canvas.lineTo(u.Line.X,u.Line.Y),a.push(u),++i)}if(i>0){for(c=a[a.length-1],d=a[0],c.RightLine&&(this.Canvas.lineTo(c.RightLine.X,c.RightLine.Y),this.Canvas.lineTo(c.RightLine2.X,c.RightLine2.Y)),f=a.length-1;f>=0;--f)p=a[f],this.Canvas.lineTo(p.Line2.X,p.Line2.Y);d.LeftLine2&&this.Canvas.lineTo(d.LeftLine2.X,d.LeftLine2.Y),this.Canvas.closePath(),this.Canvas.fillStyle=n,this.Canvas.fill()}this.Canvas.restore()},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:null,Max:null},i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var n=this.Data.Data[i];if(n&&Ce.IsNumber(n.Value)){var r=n.Value;null==e.Max?e.Max=r:e.Max<r&&(e.Max=r),null==e.Min?e.Min=r:e.Min>r&&(e.Min=r)}}return e}};n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Data.Data=i.Draw.DrawData,t.ChartPaint.push(n)},this.CreateKLine=function(t,e,i,a){var n=new Mt;n.Canvas=t.Canvas,n.Name=i.Name,n.Identify=this.Guid,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Data.Data=i.Draw.DrawData,n.IsShowMaxMinPrice=!1,n.IsShowKTooltip=!1,i.Color&&(n.UnchagneColor=n.DownColor=n.UpColor=this.GetColor(i.Color)),t.ChartPaint.push(n)},this.CreateDrawColorKLine=function(t,e,i,a){var n=new Et;n.Canvas=t.Canvas,n.Name=i.Name,n.DrawName="DRAWCOLORKLINE",n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Data.Data=i.Draw.DrawData,Ce.IsBool(i.Draw.IsEmptyBar)&&(n.IsEmptyBar=i.Draw.IsEmptyBar),i.Draw.Color&&(n.Color=i.Draw.Color),t.ChartPaint.push(n)},this.CreatePolyLine=function(t,e,i,a){var n=new Lt;if(n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),i.IsDotLine&&(n.IsDotLine=!0),i.LineWidth){var r=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(r)&&r>0&&(n.LineWidth=r)}var o=e+1;n.Data.Data=i.Draw.DrawData,t.TitlePaint[o].Data[a]=new ke(n.Data," ",n.Color),t.ChartPaint.push(n)},this.CreateChartSlopeLine=function(t,e,i,a){var n=new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartSlopeLine",this.Color="rgb(255,193,37)",this.IsDotLine=!1,this.LineWidth,this.Option,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize)if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data){this.Canvas.save(),this.Canvas.strokeStyle=this.Color,this.IsDotLine&&this.Canvas.setLineDash(Qe.DOTLINE.LineDash);var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetTopEx(),i=this.ChartBorder.GetRight(),a=this.ChartBorder.GetBottom(),n=this.ChartBorder.GetRight(),r=this.ChartFrame.XPointCount;this.Canvas.beginPath(),this.Canvas.rect(t,e,i-t,a-e),this.Canvas.clip();for(var o=this.Data.DataOffset,s=0;o<this.Data.Data.length&&s<r;++o,++s){var l=this.Data.Data[o];if(Ce.IsNumber(l)){var h=this.Option[o];if(h){var u=this.ChartFrame.GetXFromIndex(s),c=this.ChartFrame.GetYFromData(l),d=h.Length*Qe.DRAWSL.PixelWidth;if(u>n)break;var f=Math.sqrt(d*d/(1+h.Slope*h.Slope)),p=f*h.Slope;this.Canvas.beginPath(),2==h.Direct?(this.Canvas.moveTo(u-f,c+p),this.Canvas.lineTo(u+f,c-p)):1==h.Direct?(this.Canvas.moveTo(u,c),this.Canvas.lineTo(u-f,c+p)):(this.Canvas.moveTo(u,c),this.Canvas.lineTo(u+f,c-p)),this.Canvas.stroke()}}}this.Canvas.restore()}}};if(n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),i.IsDotLine&&(n.IsDotLine=!0),i.LineWidth){var r=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(r)&&r>0&&(n.LineWidth=r)}var o=e+1;n.Data.Data=i.Draw.DrawData.Data,n.Option=i.Draw.DrawData.Option,t.TitlePaint[o].Data[a]=new ke(n.Data,null,n.Color),t.ChartPaint.push(n)},this.CreateChartVericaltLine=function(t,e,i,a){var n=new Vt;if(n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),i.LineWidth){var r=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(r)&&r>0&&(n.LineWidth=r)}this.SetChartLineDash(n,i.Draw.DrawData),n.Data.Data=i.Draw.DrawData.Data,t.ChartPaint.push(n)},this.SetChartLineDash=function(t,e){if(Ce.IsNumber(e.LineType)){var i=e.LineType,a=L();switch(i){case 1:t.LineType=[10*a,10*a];break;case 2:t.LineType=[0,10*a],t.LineCap="square";break;case 3:t.LineType=[10*a,3*a,3*a,3*a];break;case 4:t.LineType=[10*a,3*a,3*a,3*a,3*a,3*a]}}else if(Ce.IsString(e.LineType)){for(var n=e.LineType.split(","),r=[],o=0;o<n.length;++o)r.push(parseInt(n[o]));t.LineType=r}},this.CreateChartHorizontalLine=function(t,e,i,a){var n=new Ht;if(n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),i.LineWidth){var r=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(r)&&r>0&&(n.LineWidth=r)}this.SetChartLineDash(n,i.Draw.DrawData),n.ExtendType=i.Draw.DrawData.Extend,n.Data.Data=i.Draw.DrawData.Data,t.ChartPaint.push(n)},this.CreateBackgroud=function(t,e,i,a){var n=new Qt;if(n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Draw&&i.Draw.DrawData){var r=i.Draw.DrawData;n.Color=r.Color,n.ColorAngle=r.Angle,r.Data&&(n.Data.Data=r.Data)}t.ChartPaint.push(n)},this.CreateLineMultiData=function(t,e,i,a){var n=new Gt;if(n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Draw&&i.Draw.DrawData){var r=i.Draw.DrawData;n.Color=r.Color,r.PointColor&&(n.PointColor=r.PointColor),Ce.IsPlusNumber(r.PointRadius)&&(n.PointRadius=r.PointRadius),Ce.IsPlusNumber(r.LineWidth)&&(n.LineWidth=r.LineWidth),r.Data&&(n.Data.Data=r.Data)}var o=e+1,s=new ke(n.Data,i.Name,n.Color);s.DataType="MULTI_POINT_LINE",t.TitlePaint[o].Data[a]=s,t.ChartPaint.push(n)},this.CreateTextLine=function(t,e,i,a){var n=new te;if(n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Draw&&i.Draw.DrawData){var r=i.Draw.DrawData;n.Text=r.Text,n.Line=r.Line,n.Price=r.Price}t.ChartPaint.push(n)},this.CreateNumberText=function(t,e,i,a){var n=new Wt;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.ReloadResource(),n.TextAlign="center",i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),i.IsDrawAbove?n.Direction=1:n.Direction=2,i.Draw.Position&&(n.Position=i.Draw.Position);n.Data.Data=i.Draw.DrawData.Value,n.Text=i.Draw.DrawData.Text,t.ChartPaint.push(n)},this.CreateDrawText=function(t,e,i,a){var n=new Wt;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.ReloadResource(),i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),i.IsDrawAbove?n.Direction=1:n.Direction=0;n.DrawData=i.Draw.DrawData,t.ChartPaint.push(n)},this.CreateIcon=function(t,e,i,a){var n=new Wt;n.Canvas=t.Canvas,n.TextAlign="center",n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Direction=2,i.IsDrawAbove&&(n.Direction=1),i.DrawVAlign>=0&&(0==i.DrawVAlign?n.Direction=1:1==i.DrawVAlign?n.Direction=0:2==i.DrawVAlign&&(n.Direction=2)),i.DrawAlign>=0&&(0==i.DrawAlign?n.TextAlign="left":1==i.DrawAlign?n.TextAlign="center":2==i.DrawAlign&&(n.TextAlign="right"));n.Data.Data=i.Draw.DrawData;var r=i.Draw.Icon;1==r.IconFont?(n.IconFont={Family:r.Family,Text:r.Symbol,Color:r.Color},i.Color&&(n.IconFont.Color=this.GetColor(i.Color))):(n.Text=r.Symbol,i.Color?n.Color=this.GetColor(i.Color):r.Color?n.Color=r.Color:n.Color="rgb(0,0,0)"),i.DrawFontSize>0&&(n.FixedFontSize=i.DrawFontSize),t.ChartPaint.push(n)},this.CreateChannel=function(t,e,i,a){var n=new Zt;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Draw.AreaColor?n.AreaColor=i.Draw.AreaColor:i.Color?n.AreaColor=this.GetColor(i.Color):n.AreaColor=this.GetDefaultColor(a),i.Draw.Border.Color?n.LineColor=i.Draw.Border.Color:n.LineColor=null,i.Draw.Border.Dotted&&(n.LineDotted=i.Draw.Border.Dotted),i.Draw.Border.Width>0&&(n.LineWidth=i.Draw.Border.Width),n.Data.Data=i.Draw.DrawData,t.ChartPaint.push(n)},this.CreatePartLine=function(t,e,i,a){var n=new Ot;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Data.Data=i.Draw.DrawData,t.ChartPaint.push(n)},this.CreateMultiLine=function(t,e,i,a){var n=new ie;if(n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Data=t.ChartPaint[0].Data,n.Lines=i.Draw.DrawData,i.Draw.Name&&(n.Name=i.Draw.Name),i.Draw.LineDash&&(n.LineDash=i.Draw.LineDash),Ce.IsNumber(i.Draw.LineWidth)&&(n.LineWidth=i.Draw.LineWidth),i.Draw.Arrow){var r=i.Draw.Arrow;1==r.Start&&(n.Arrow.Start=!0),1==r.End&&(n.Arrow.End=!0),Ce.IsNumber(r.Angle)&&(n.ArrawAngle=r.Angle),Ce.IsNumber(r.Length)&&(n.ArrawLength=r.Length),Ce.IsNumber(r.LineWidth)&&(n.ArrawLineWidth=r.LineWidth)}t.ChartPaint.push(n);var o=e+1,s=new ke(n.Data,n.Name,null);s.DataType="ChartMultiLine",s.Lines=n.Lines,t.TitlePaint[o].Data[a]=s},this.CreateMultiBar=function(t,e,i,a){var n=new ee;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Data=t.ChartPaint[0].Data,n.Bars=i.Draw.DrawData;var r=e+1,o=new ke({KData:n.Data,BarData:n.Bars},i.Name,null);o.IsShow=!1,o.DataType="MULTI_BAR",t.TitlePaint[r].Data[a]=o,t.ChartPaint.push(n)},this.CreateMultiText=function(t,e,i,a){var n=new ae;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Data=t.ChartPaint[0].Data,n.Texts=i.Draw.DrawData,t.ChartPaint.push(n)},this.CreateMultiSVGIcon=function(t,e,i,a){var n=new ne;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Data=t.ChartPaint[0].Data,n.Family=i.Draw.DrawData.Family,n.Icon=i.Draw.DrawData.Icon,t.ChartPaint.push(n)},this.CreateChartDrawSVG=function(t,e,i,a){var n=new oe;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,t.ChartPaint[0].IsMinuteFrame()?n.Data=t.SourceData:n.Data=t.ChartPaint[0].Data,Ce.IsBool(i.Draw.DrawData.EnableTooltip)&&(n.EnableTooltip=i.Draw.DrawData.EnableTooltip),Ce.IsBool(i.Draw.DrawData.IsDrawFirst)&&(n.IsDrawFirst=i.Draw.DrawData.IsDrawFirst),n.Family=i.Draw.DrawData.Family,n.TextFont=i.Draw.DrawData.TextFont,n.Texts=i.Draw.DrawData.Data,t.ChartPaint.push(n)},this.CreateMulitHtmlDom=function(t,e,i,a){var n=new re;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.HQChart=t,n.Data=t.ChartPaint[0].Data,n.Texts=i.Draw.DrawData,n.DrawCallback=i.Draw.Callback,t.ChartPaint.push(n)},this.CreateStackedBar=function(t,e,i,a){var n=new se;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.HQChart=t,n.Identify=this.Guid,n.Data.Data=i.Draw.DrawData,Ce.IsNonEmptyArray(i.Draw.BarColor)&&(n.BarColor=i.Draw.BarColor),Ce.IsNonEmptyArray(i.Draw.BarName)&&(n.BarName=i.Draw.BarName),Ce.IsNumber(i.Draw.LineWidth)&&(n.LineWidth=i.Draw.LineWidth),Ce.IsNumber(i.Draw.BarType)&&(n.BarType=i.Draw.BarType),t.ChartPaint.push(n);var r=e+1,o=new ke(n.Data,n.BarName,n.BarColor);o.DataType="ChartStackedBar",t.TitlePaint[r].Data[a]=o},this.CreateKLineTable=function(t,e,i,a){var n=new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartKlineTable",this.Data,this.RowName,this.IsShowRowName=!1,this.BGColor,this.RowCount=5,this.RowHeight=10,this.TextFontConfig=V(Qe.ChartKLineTable.TextFont),this.ItemMergin=V(Qe.ChartKLineTable.ItemMergin),this.TextFont,this.TextColor="rgb(0,0,0)",this.NameColor="rgb(0,0,0)",this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize)if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data&&!(!0===this.ChartFrame.IsHScreen||this.RowCount<=0)){var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartFrame.GetBorder(),n=a.Bottom-a.TopTitle;this.RowHeight=n/this.RowCount;var r=a.LeftEx+Qe.FrameLeftMargin,o=a.RightEx,s=a.TopTitle,l=a.Bottom;if(this.BGColor){this.Canvas.fillStyle=this.BGColor;var h=a.LeftEx,u=a.RightEx-a.LeftEx;n=l-s,this.Canvas.fillRect(h,s,u,n)}var c=this.RowHeight,d=t+e;c-this.ItemMergin.Top-this.ItemMergin.Bottom>0&&(c=c-this.ItemMergin.Left-this.ItemMergin.Right),d-this.ItemMergin.Left-this.ItemMergin.Right>0&&(d=d-this.ItemMergin.Left-this.ItemMergin.Right);var f=this.GetDynamicTextFont(c,d);this.TextFont=f,this.Canvas.font=this.TextFont;for(var p=this.Data.DataOffset,m=0;p<this.Data.Data.length&&m<i;++p,++m,r+=t+e){var v=this.Data.Data[p];if(v){h=r;var g=r+t+e;if(g>o)break;if(h+(g-h)/2>o)break;0==m&&this.IsShowRowName?this.DrawRowName(s,l,h,g):this.DrawRow(v,s,l,h,g)}}}},this.DrawRowName=function(t,e,i,a){if(Ce.IsNonEmptyArray(this.RowName))for(var n=i,r=t,o=a-i,s=0;s<this.RowName.length;++s){var l=this.RowName[s],h={Left:n,Top:r,Right:a,Height:this.RowHeight,Width:o};h.Bottom=h.Top+this.RowHeight,l.Name&&h.Width>10&&(this.Canvas.fillStyle=l.Color?l.Color:this.TextColor,this.Canvas.textBaseline="middle","right"==l.TextAlign?(this.Canvas.textAlign="right",this.Canvas.fillText(l.Name,h.Right-2,h.Top+this.RowHeight/2,o-4)):"center"==l.TextAlign?(this.Canvas.textAlign="center",this.Canvas.fillText(l.Name,h.Left+h.Width/2,h.Top+this.RowHeight/2,o-4)):(this.Canvas.textAlign="left",this.Canvas.fillText(l.Name,h.Left+2,h.Top+this.RowHeight/2,o-4))),r+=this.RowHeight}},this.DrawRow=function(t,e,i,a,n){for(var r=a,o=e,s=n-a,l=0;l<t.length;++l){var h=t[l],u={Left:r,Top:o,Right:n,Height:this.RowHeight,Width:s};u.Bottom=u.Top+this.RowHeight,h.BGColor&&(this.Canvas.fillStyle=h.BGColor,this.Canvas.fillRect(u.Left,u.Top,u.Width,u.Height)),h.Color&&u.Width>10&&(this.Canvas.fillStyle=h.Color,this.Canvas.textBaseline="middle","right"==h.TextAlign?(this.Canvas.textAlign="right",this.Canvas.fillText(h.Text,u.Right-2,u.Top+this.RowHeight/2,s-4)):"center"==h.TextAlign?(this.Canvas.textAlign="center",this.Canvas.fillText(h.Text,u.Left+u.Width/2,u.Top+this.RowHeight/2,s-4)):(this.Canvas.textAlign="left",this.Canvas.fillText(h.Text,u.Left+2,u.Top+this.RowHeight/2,s-4))),o+=this.RowHeight}},this.GetDynamicTextFont=function(t,e,i){var a=parseInt(t)-2;return t<5&&(a=parseInt(t)),a>this.TextFontConfig.FontMaxSize?a=this.TextFontConfig.FontMaxSize:a<=0&&(a=1),this.FormatFontString(a,this.TextFontConfig.Family,i)},this.FormatFontString=function(t,e,i){var a;return i?i.Weight&&(a=i.Weight+" "+t+"px "+e):a=t+"px "+e,a},this.GetMaxMin=function(){return{Min:0,Max:this.RowCount}}};n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.HQChart=t,n.Identify=this.Guid,n.Data.Data=i.Draw.DrawData,Ce.IsNumber(i.Draw.RowCount)&&(n.RowCount=i.Draw.RowCount),Ce.IsBool(i.Draw.IsShowRowName)&&(n.IsShowRowName=i.Draw.IsShowRowName),Ce.IsNonEmptyArray(i.Draw.RowName)&&(n.RowName=i.Draw.RowName),i.Draw.BGColor&&(n.BGColor=i.Draw.BGColor),t.ChartPaint.push(n);var r=e+1,o=new ke(n.Data,n.BarName,n.BarColor);o.DataType="ChartKLineTable",t.TitlePaint[r].Data[a]=o},this.CreateScatterPlot=function(t,e,i,a){var n=new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartScatterPlot",this.Color="rgb(255,193,37)",this.Radius=3,this.TooltipData=[],this.Draw=function(){this.TooltipData=[],this.IsShow&&!this.ChartFrame.IsMinSize&&(this.IsShowIndexTitleOnly()||(this.NotSupportMessage?this.DrawNotSupportmessage():this.Data&&this.Data.Data&&this.DrawScatterPlot()))},this.DrawScatterPlot=function(){var t,e=!0===this.ChartFrame.IsHScreen,i=this.IsMinuteFrame(),a=this.ChartFrame.DataWidth,n=this.ChartFrame.DistanceWidth,r=this.ChartFrame.XPointCount;if(e)var o=(t=this.ChartBorder.GetHScreenBorder()).BottomEx,s=t.TopEx+n/2+Qe.FrameLeftMargin;else s=(t=this.ChartBorder.GetBorder()).LeftEx+n/2+Qe.FrameLeftMargin,o=t.RightEx;var l=this.GetLockRect();l&&(o=e?l.Top:l.Left),this.Canvas.save(),this.ClipClient(e);for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<r;++h,++u,s+=a+n){var c=this.Data.Data[h];if(c){if(i)var d=this.ChartFrame.GetXFromIndex(u);else{var f=s+a;if(f>o)break;d=s+(f-s)/2}if(d>o)break;if(Array.isArray(c))for(u=0;u<c.length;++u)this.DrawItem(c[u],d);else this.DrawItem(c,d)}}this.Canvas.restore()},this.DrawItem=function(t,e){if(t&&Ce.IsNumber(t.Value)){var i=this.GetYFromData(t.Value,!1),a=this.Radius;if(t.Radius&&(a=t.Radius),Ce.IsNumber(a)){this.Canvas.beginPath(),this.Canvas.arc(e,i,a,0,2*Math.PI);var n=this.Color;t.Color&&(n=t.Color),n&&(this.Canvas.fillStyle=n,this.Canvas.fill()),t.ColorBorder&&(this.Canvas.strokeStyle=t.ColorBorder,this.Canvas.stroke());var r={X:e,Y:i,Radius:a,Data:t};this.TooltipData.push(r)}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset;this.ChartFrame.GlobalOption&&this.ChartFrame.GlobalOption.IsValueFullRange&&(e=0,t=this.Data.Data.length);var i={Min:null,Max:null};if(!this.Data||!this.Data.Data)return i;for(var a=e,n=0;a<this.Data.Data.length&&n<t;++a,++n){var r=this.Data.Data[a];if(r)if(Array.isArray(r))for(var o=0;o<r.length;++o){var s=r[o];Ce.IsNumber(s.Value)&&(null==i.Max&&(i.Max=s.Value),null==i.Min&&(i.Min=s.Value),i.Max<s.Value&&(i.Max=s.Value),i.Min>s.Value&&(i.Min=s.Value))}else{if(!Ce.IsNumber(r.Value))continue;null==i.Max&&(i.Max=r.Value),null==i.Min&&(i.Min=r.Value),i.Max<r.Value&&(i.Max=r.Value),i.Min>r.Value&&(i.Min=r.Value)}}return i},this.GetTooltipData=function(t,e,i){if(!this.IsShow)return!1;if(!Ce.IsNonEmptyArray(this.TooltipData))return!1;for(var a=this.TooltipData.length-1;a>=0;--a){var n=this.TooltipData[a];if(this.Canvas.beginPath(),this.Canvas.arc(n.X,n.Y,n.Radius,0,2*Math.PI),this.Canvas.isPointInPath(t,e))return g.Chart.Log("[ChartScatterPlot::GetTooltipData] point",n),i.Data=n,i.ChartPaint=this,i.Type=6,!0}}};n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.HQChart=t,n.Identify=this.Guid,n.Data.Data=i.Draw.DrawData,n.Color=i.Draw.Color,n.Radius=i.Draw.Radius,t.ChartPaint.push(n)},this.CreateColorKLine=function(t,e,i,a){var n=new Et;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Data=t.ChartPaint[0].Data,n.KLineColor=i.Draw.DrawData.KLine,i.Color&&(n.Color=i.Color),t.ChartPaint.push(n)},this.CreateRectangle=function(t,e,i,a){var n=new function(){this.newMethod=bt,this.newMethod(),delete this.newMethod,this.ClassName="ChartRectangle",this.Color=[],this.Rect,this.BorderColor=Qe.FrameBorderPen,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Color&&this.Rect&&!(this.Color.length<=0)){this.Canvas.strokeStyle=this.BorderColor;var t=!1;if(2==this.Color.length)this.Canvas.fillStyle=this.Color[0],t=!0;else{if(1!=this.Color.length)return;this.Color[0]&&(this.Canvas.fillStyle=this.Color[0],t=!0)}var e=this.ChartBorder.GetWidth(),i=this.ChartBorder.GetHeightEx(),a=this.Rect.Left/1e3*e,n=this.Rect.Top/1e3*i,r=this.Rect.Right/1e3*e,o=this.Rect.Bottom/1e3*i;a=this.ChartBorder.GetLeft()+a,n=this.ChartBorder.GetTopEx()+n,r=this.ChartBorder.GetLeft()+r,o=this.ChartBorder.GetTopEx()+o;var s=Math.abs(a-r),l=Math.abs(n-o);t&&this.Canvas.fillRect(a,n,s,l),this.Canvas.rect(R(a),R(n),k(s),k(l)),this.Canvas.stroke()}}};n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Color=[i.Draw.DrawData.Color],n.Rect=i.Draw.DrawData.Rect,i.Color&&(n.BorderColor=this.GetColor(i.Color)),t.ChartPaint.push(n)},this.CreateScriptOverlayLine=function(t,e,i,a){var n=new function(){this.newMethod=Lt,this.newMethod(),delete this.newMethod,this.MainData=new mt,this.Draw=function(){if(this.Data&&this.Data.Data&&this.MainData&&this.MainData.Data)switch(this.DrawType){case 0:return this.DrawLine();case 1:return this.DrawStraightLine()}},this.GetFirstVaildIndex=function(){for(var t=this.Data.DataOffset,e=0;t<this.MainData.Data.length&&t<this.Data.Data.length;++t,++e){var i=this.MainData.Data[t],a=this.Data.Data[t];if(Ce.IsNumber(i)&&Ce.IsNumber(a))return{Index:e,DataOffset:t,OverlayValue:a,MainValue:i}}return null},this.DrawStraightLine=function(){var t=this.GetFirstVaildIndex();if(t){var e=!0===this.ChartFrame.IsHScreen,i=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());e&&(i=this.ChartBorder.GetBottom());var a=this.ChartFrame.XPointCount,n=this.GetLockRect();n&&(i=e?n.Top:n.Left),this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*L()),this.Canvas.strokeStyle=this.Color,this.IsDotLine&&this.Canvas.setLineDash([3,5]);for(var r=!0,o=0,s=0,l=t.DataOffset,h=t.Index;l<this.Data.Data.length&&h<a;++l,++h){var u=this.Data.Data[l];if(null!=u){var c=this.ChartFrame.GetXFromIndex(h),d=u-t.OverlayValue;s=0!=t.OverlayValue?1+d/Math.abs(t.OverlayValue):1+d;var f=t.MainValue*s,p=this.GetYFromData(f);if(c>i)break;r?(this.Canvas.beginPath(),e?this.Canvas.moveTo(p,c):this.Canvas.moveTo(c,p),r=!1):e?this.Canvas.lineTo(p,c):this.Canvas.lineTo(c,p),++o}else o>0&&this.Canvas.stroke(),r=!0,o=0}o>0&&this.Canvas.stroke(),this.Canvas.restore()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={Min:null,Max:null},i=this.GetFirstVaildIndex();if(!i)return e;for(var a=i.DataOffset,n=i.Index;a<this.Data.Data.length&&n<t;++a,++n){var r=this.Data.Data[a];if(Ce.IsNumber(r)){var o=r-i.OverlayValue;0!=i.OverlayValue?rate=1+o/Math.abs(i.OverlayValue):rate=1+o;var s=i.MainValue*rate;null==e.Max&&(e.Max=s),null==e.Min&&(e.Min=s),e.Max<s&&(e.Max=s),e.Min>s&&(e.Min=s)}}return e}};if(n.Canvas=t.Canvas,n.DrawType=1,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),i.LineWidth){var r=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(r)&&r>0&&(n.LineWidth=r)}i.IsDotLine&&(n.IsDotLine=!0),0==i.IsShow&&(n.IsShow=!1);var o=e+1;n.Data.Data=i.Draw.DrawData.Data,n.MainData.Data=i.Draw.DrawData.MainData,i.Draw.DrawData.Title&&(t.TitlePaint[o].Data[a]=new ke(n.Data,i.Draw.DrawData.Title,n.Color)),t.ChartPaint.push(n)},this.CreateSelfKLine=function(t,e,i){var a=new Mt;a.Canvas=t.Canvas,a.Name="Self Kline",a.Identify=this.Guid,a.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,a.ChartFrame=t.Frame.SubFrame[e].Frame,a.Data=i,a.IsShowMaxMinPrice=!1,a.IsShowKTooltip=!1,a.DrawType=this.KLineType,t.ChartPaint.push(a)},this.BindInstructionData=function(t,e,i){if(!(null==this.OutVar||this.OutVar.length<0)){var a="";for(var n in this.Arguments){var r=this.Arguments[n];a.length>0&&(a+=","),a+=r.Value.toString()}if(a.length>0&&(a="("+a+")"),2==this.InstructionType){var o=this.OutVar[this.OutVar.length-1];return t.SetInstructionData(this.InstructionType,{Data:o.Data,Name:this.Name,Param:a,ID:this.ID}),!0}if(1==this.InstructionType){var s,l;for(var h in this.OutVar){var u=this.OutVar[h];"ENTERLONG"==u.Name?s=u.Data:"EXITLONG"==u.Name&&(l=u.Data)}return t.SetInstructionData(this.InstructionType,{Buy:s,Sell:l,Name:this.Name,Param:a,ID:this.ID}),!0}}},this.BindData=function(t,e,i){if(0==e&&this.InstructionType)this.BindInstructionData(t,e,i);else if(t.DeleteIndexPaint(e),0==e&&t.ShowKLine(!0),!(null==this.OutVar||this.OutVar.length<0)){for(var a in null!=this.KLineType&&(0===this.KLineType||1===this.KLineType||2===this.KLineType?this.CreateSelfKLine(t,e,i):-1===this.KLineType&&0==e&&t.ShowKLine(!1)),e>=1&&t.Frame&&(t.Frame.SubFrame[e].Frame.YSplitOperator.FloatPrecision=this.FloatPrecision,this.YSpecificMaxMin&&(t.Frame.SubFrame[e].Frame.YSpecificMaxMin=this.YSpecificMaxMin),this.YSplitScale&&(t.Frame.SubFrame[e].Frame.YSplitScale=this.YSplitScale)),Ce.IsNumber(this.YSplitType)&&(t.Frame.SubFrame[e].Frame.YSplitOperator.SplitType=this.YSplitType),this.OutVar){var n=this.OutVar[a];if(!0!==n.IsExData&&(1e3!=n.Type&&1001!=n.Type)){if(0==n.Type)n.IsOverlayLine?this.CreateOverlayLine(t,e,n,a,n.Type):this.CreateLine(t,e,n,a,n.Type);else if(1==n.Type)switch(n.Draw.DrawType){case"STICKLINE":this.CreateBar(t,e,n,a);break;case"DRAWTEXT":this.CreateDrawTextV2(t,e,n,a);break;case"SUPERDRAWTEXT":this.CreateText(t,e,n,a);break;case"DRAWLINE":this.CreateStraightLine(t,e,n,a);break;case"DRAWBAND":this.CreateBand(t,e,n,a);break;case"FILLRGN":this.CreateFillRGN(t,e,n,a);break;case"FILLRGN2":this.CreateFillRGN2(t,e,n,a);break;case"FILLTOPRGN":case"FILLBOTTOMRGN":case"FILLVERTICALRGN":this.CreateFillBGRGN(t,e,n,a);break;case"FLOATRGN":this.CreateFLOATRGN(t,e,n,a);break;case"DRAWKLINE":case"DRAWKLINE1":this.CreateKLine(t,e,n,a);break;case"DRAWCOLORKLINE":this.CreateDrawColorKLine(t,e,n,a);break;case"DRAWKLINE_IF":this.CreateKLine(t,e,n,a);break;case"POLYLINE":this.CreatePolyLine(t,e,n,a);break;case"DRAWGBK":case"DRAWGBK2":this.CreateBackgroud(t,e,n,a);break;case"DRAWTEXT_LINE":this.CreateTextLine(t,e,n,a);break;case"DRAWNUMBER":this.CreateDrawNumber(t,e,n,a);break;case"DRAWNUMBER_FIX":case"DRAWTEXT_FIX":this.CreateNumberText(t,e,n,a);break;case"DRAWICON":case"ICON":this.CreateIcon(t,e,n,a);break;case"DRAWCHANNEL":this.CreateChannel(t,e,n,a);break;case"PARTLINE":this.CreatePartLine(t,e,n,a);break;case"DRAWRECTREL":this.CreateRectangle(t,e,n,a);break;case"DRAWTEXTABS":case"DRAWTEXTREL":this.CreateDrawText(t,e,n,a);break;case"DRAWOVERLAYLINE":this.CreateScriptOverlayLine(t,e,n,a);break;case"DRAWSL":this.CreateChartSlopeLine(t,e,n,a);break;case"VERTLINE":this.CreateChartVericaltLine(t,e,n,a);break;case"HORLINE":this.CreateChartHorizontalLine(t,e,n,a);break;case"MULTI_LINE":this.CreateMultiLine(t,e,n,a);break;case"MULTI_BAR":this.CreateMultiBar(t,e,n,a);break;case"MULTI_TEXT":this.CreateMultiText(t,e,n,a);break;case"MULTI_SVGICON":this.CreateMultiSVGIcon(t,e,n,a);break;case"DRAWSVG":this.CreateChartDrawSVG(t,e,n,a);break;case"MULTI_HTMLDOM":this.CreateMulitHtmlDom(t,e,n,a);break;case"COLOR_KLINE":this.CreateColorKLine(t,e,n,a);break;case"KLINE_BG":this.CreateBackgroud(t,e,n,a);break;case"MULTI_POINT_LINE":this.CreateLineMultiData(t,e,n,a);break;case ea.OVERLAY_BARS:this.CreateStackedBar(t,e,n,a);break;case ea.KLINE_TABLE:this.CreateKLineTable(t,e,n,a);break;case ea.SCATTER_PLOT:this.CreateScatterPlot(t,e,n,a);break;default:var r=ia.Get(n.Draw.DrawType);r&&r.CreateChartCallback&&r.CreateChartCallback(t,e,n,a,this)}else 2==n.Type?this.CreateMACD(t,e,n,a):3==n.Type?this.CreatePointDot(t,e,n,a,i):4==n.Type?this.CreateLineStick(t,e,n,a):5==n.Type?this.CreateStick(t,e,n,a):6==n.Type?this.CreateVolStick(t,e,n,a,i):7==n.Type&&this.CreateLine(t,e,n,a,n.Type);var o=t.TitlePaint[e+1];o&&o.Data&&a<o.Data.length&&(this.StringFormat>0&&(o.Data[a].StringFormat=this.StringFormat),this.FloatPrecision>=0&&(o.Data[a].FloatPrecision=this.FloatPrecision),this.OutName&&this.OutName.length>0&&this.Arguments&&this.Arguments.length>0&&o.SetDynamicTitle(this.OutName,this.Arguments))}}var s=e+1;if(t.TitlePaint[s].Title=this.Name,t.TitlePaint[s].Identify=this.Guid,!this.IsShortTitle){var l="";for(var h in this.Arguments){var u=this.Arguments[h];l.length>0&&(l+=","),l+=u.Value.toString()}l.length>0&&(t.TitlePaint[s].Title=this.Name+"("+l+")")}return this.TitleFont&&(t.TitlePaint[s].Font=this.TitleFont),!0}},this.GetDefaultColor=function(t){var e=null;return Qe&&Qe.Index&&Qe.Index.LineColor&&(e=Qe.Index.LineColor),e&&Array.isArray(e)||(e=["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"]),e[parseInt(t)%(e.length-1)]},this.GetColor=function(t){if(0==t.indexOf("RGB("))return t.toLowerCase();if(0==t.indexOf("rgb("))return t;if(0==t.indexOf("RGBA("))return t.toLowerCase();if(0==t.indexOf("rgba("))return t;var e=Qi.ColorVarToRGB(t);return e||"rgb(30,144,255)"}}function na(t,e,i,a){this.newMethod=aa,this.newMethod(t,e,i,a),delete this.newMethod,this.ClassName="OverlayScriptIndex",this.OverlayIndex=null,this.BindData=function(t,e,i){if(this.OverlayIndex&&1==this.OverlayIndex.IsOverlay&&(this.OverlayIndex.Frame.ChartPaint=[],!(null==this.OutVar||this.OutVar.length<0))){Ce.IsNumber(this.YSplitType)&&(this.OverlayIndex.Frame.Frame.YSplitOperator.SplitType=this.YSplitType);var a={Data:[],Title:this.Name},n="";for(var r in this.Arguments){var o=this.Arguments[r];n.length>0&&(n+=","),n+=o.Value.toString()}n.length>0&&(a.Title=this.Name+"("+n+")");var s=e+1,l=t.TitlePaint[s];for(var r in l.OverlayIndex.set(this.OverlayIndex.Identify,a),this.OverlayIndex.Frame.Frame.Title=a.Title,this.OutName&&this.OutName.length>0&&this.Arguments&&this.Arguments.length>0&&l.SetDynamicTitle(this.OutName,this.Arguments,this.OverlayIndex.Identify),this.OutVar){var h=this.OutVar[r];if(!0!==h.IsExData)if(0==h.Type)this.CreateLine(t,e,h,r,h.Type);else if(1==h.Type)switch(h.Draw.DrawType){case"STICKLINE":this.CreateBar(t,e,h,r);break;case"DRAWTEXT":case"SUPERDRAWTEXT":this.CreateText(t,e,h,r);break;case"DRAWLINE":this.CreateStraightLine(t,e,h,r);break;case"DRAWBAND":this.CreateBand(t,e,h,r);break;case"DRAWKLINE":case"DRAWKLINE_IF":this.CreateKLine(t,e,h,r);break;case"POLYLINE":this.CreatePolyLine(t,e,h,r);break;case"DRAWNUMBER":case"DRAWNUMBER_FIX":case"DRAWTEXT_FIX":this.CreateNumberText(t,e,h,r);break;case"DRAWICON":this.CreateIcon(t,e,h,r);break;case"DRAWCHANNEL":this.CreateChannel(t,e,h,r);break;case"DRAWTEXT_LINE":this.CreateTextLine(t,e,h,r);break;case"VERTLINE":this.CreateChartVericaltLine(t,e,h,r);break;case"HORLINE":this.CreateChartHorizontalLine(t,e,h,r);break;case"MULTI_LINE":this.CreateMultiLine(t,e,h,r);break;case"MULTI_BAR":this.CreateMultiBar(t,e,h,r);break;case"MULTI_TEXT":this.CreateMultiText(t,e,h,r);break;case"MULTI_SVGICON":this.CreateMultiSVGIcon(t,e,h,r);break;case"DRAWSVG":this.CreateChartDrawSVG(t,e,h,r);break;case"MULTI_HTMLDOM":this.CreateMulitHtmlDom(t,e,h,r);break;case"KLINE_BG":this.CreateBackgroud(t,e,h,r);break;case ea.OVERLAY_BARS:this.CreateStackedBar(t,e,h,r)}else 2==h.Type?this.CreateMACD(t,e,h,r):3==h.Type?this.CreatePointDot(t,e,h,r,i):4==h.Type?this.CreateLineStick(t,e,h,r):5==h.Type?this.CreateStick(t,e,h,r):6==h.Type?this.CreateVolStick(t,e,h,r,i):7==h.Type&&this.CreateLine(t,e,h,r,h.Type)}return!0}},this.RecvResultData=function(t,e){var i=e.HQChart,a=e.WindowIndex,n=e.HistoryData;e.Self.OutVar=t,e.Self.BindData(i,a,n),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw();var r=i.GetOverlayIndexEvent();if(r){var o=e.Self,s={OutVar:o.OutVar,WindowIndex:a,Name:o.Name,Arguments:o.Arguments,HistoryData:n,Identify:o.OverlayIndex.Identify,Stock:{Symbol:i.Symbol,Name:i.Name}};r.Callback(r,s,o)}},this.CreateLine=function(t,e,i,a,n){var r=this.OverlayIndex,o=r.Frame;if(7==n)var s=new Pt;else s=new Lt;if(s.Canvas=t.Canvas,s.DrawType=1,s.Name=i.Name,s.ChartBorder=o.Frame.ChartBorder,s.ChartFrame=o.Frame,s.Identify=r.Identify,i.Color?s.Color=this.GetColor(i.Color):s.Color=this.GetDefaultColor(a),i.LineWidth){var l=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(l)&&l>0&&(s.LineWidth=l)}0==i.IsShow&&(s.IsShow=!1);var h=e+1;s.Data.Data=i.Data;var u=t.TitlePaint[h],c=new ke(s.Data,i.Name,s.Color);c.ChartClassName=s.ClassName,u.OverlayIndex.get(r.Identify).Data[a]=c,o.ChartPaint.push(s)},this.CreateBar=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Yt;o.Canvas=t.Canvas,i.Draw.Width>0?o.Width=i.Draw.Width:o.Width=1,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a);o.Data.Data=i.Draw.DrawData,r.ChartPaint.push(o)},this.CreateText=function(t,e,i,a,n){var r=this.OverlayIndex,o=r.Frame,s=new Wt;s.Canvas=t.Canvas,s.Name=i.Name,s.ChartBorder=o.Frame.ChartBorder,s.ChartFrame=o.Frame,s.Identify=r.Identify,s.ReloadResource(),i.Color?s.Color=this.GetColor(i.Color):s.Color=this.GetDefaultColor(a);i.Draw.Position&&(s.Position=i.Draw.Position),i.Draw.DrawData&&(s.Data.Data=i.Draw.DrawData),s.Text=i.Draw.Text,i.Draw.Direction>0&&(s.Direction=i.Draw.Direction),i.Draw.YOffset>0&&(s.YOffset=i.Draw.YOffset),i.Draw.TextAlign&&(s.TextAlign=i.Draw.TextAlign),o.ChartPaint.push(s)},this.CreateMACD=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Kt;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify;var s=e+1;o.Data.Data=i.Data;var l=t.TitlePaint[s],h=this.GetDefaultColor(a);i.Color&&(h=this.GetColor(i.Color)),l.OverlayIndex.get(n.Identify).Data[a]=new ke(o.Data,i.Name,h),r.ChartPaint.push(o)},this.CreatePointDot=function(t,e,i,a,n){var r=this.OverlayIndex,o=r.Frame,s=new Nt;if(s.Canvas=t.Canvas,s.Name=i.Name,s.ChartBorder=o.Frame.ChartBorder,s.ChartFrame=o.Frame,s.Identify=r.Identify,i.Color?s.Color=this.GetColor(i.Color):s.Color=this.GetDefaultColor(a),i.Radius&&(s.Radius=i.Radius),i.LineWidth){var l=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(l)&&l>0&&(s.Radius=l)}Ce.IsBool(i.UpDownDot)&&(s.EnableUpDownColor=i.UpDownDot,s.HistoryData=n);var h=e+1;s.Data.Data=i.Data,t.TitlePaint[h].OverlayIndex.get(r.Identify).Data[a]=new ke(s.Data,i.Name,s.Color),o.ChartPaint.push(s)},this.CreateStick=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Rt;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.LineWidth){var s=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(o.LineWidth=s)}var l=e+1;o.Data.Data=i.Data,t.TitlePaint[l].OverlayIndex.get(n.Identify).Data[a]=new ke(o.Data,i.Name,o.Color),r.ChartPaint.push(o)},this.CreateLineStick=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Bt;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.LineWidth){var s=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(o.LineWidth=s)}var l=e+1;o.Data.Data=i.Data,t.TitlePaint[l].OverlayIndex.get(n.Identify).Data[a]=new ke(o.Data,i.Name,o.Color),r.ChartPaint.push(o)},this.CreateStraightLine=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Lt;if(o.DrawType=1,o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.LineWidth){var s=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(o.LineWidth=s)}o.Data.Data=i.Draw.DrawData,r.ChartPaint.push(o)},this.CreateVolStick=function(t,e,i,a,n){var r=this.OverlayIndex,o=r.Frame,s=new kt;s.Canvas=t.Canvas,s.Name=i.Name,s.ChartBorder=o.Frame.ChartBorder,s.ChartFrame=o.Frame,s.Identify=r.Identify,s.KLineDrawType=t.KLineDrawType,i.Color?s.Color=this.GetColor(i.Color):s.Color=this.GetDefaultColor(a);var l=e+1;s.Data.Data=i.Data,s.HistoryData=n,t.TitlePaint[l].OverlayIndex.get(r.Identify).Data[a]=new ke(s.Data,i.Name,s.Color),o.ChartPaint.push(s)},this.CreateBand=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new jt;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,o.FirstColor=i.Draw.Color[0],o.SecondColor=i.Draw.Color[1],o.Data.Data=i.Draw.DrawData,r.ChartPaint.push(o)},this.CreateKLine=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Mt;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,o.Data.Data=i.Draw.DrawData,o.IsShowMaxMinPrice=!1,o.IsShowKTooltip=!1,i.Color&&(o.UnchagneColor=o.DownColor=o.UpColor=this.GetColor(i.Color)),r.ChartPaint.push(o)},this.CreatePolyLine=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Lt;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.LineWidth){var s=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(o.LineWidth=s)}var l=e+1;o.Data.Data=i.Draw.DrawData,t.TitlePaint[l].OverlayIndex.get(n.Identify).Data[a]=new ke(line.Data," ",line.Color),r.ChartPaint.push(o)},this.CreateNumberText=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Wt;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,o.ReloadResource(),o.TextAlign="center",i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.IsDrawAbove?o.Direction=1:o.Direction=2,i.Draw.Position&&(o.Position=i.Draw.Position);o.Data.Data=i.Draw.DrawData.Value,o.Text=i.Draw.DrawData.Text,r.ChartPaint.push(o)},this.CreateTextLine=function(t,e,i,a){var n=this.OverlayIndex.Frame,r=new te;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=n.Frame.ChartBorder,r.ChartFrame=n.Frame,i.Draw&&i.Draw.DrawData){var o=i.Draw.DrawData;r.Text=o.Text,r.Line=o.Line,r.Price=o.Price}n.ChartPaint.push(r)},this.CreateStackedBar=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new se;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,Ce.IsNonEmptyArray(i.Draw.BarColor)&&(o.BarColor=i.Draw.BarColor),Ce.IsNonEmptyArray(i.Draw.BarName)&&(o.BarName=i.Draw.BarName),Ce.IsNumber(i.Draw.LineWidth)&&(o.LineWidth=i.Draw.LineWidth),Ce.IsNumber(i.Draw.BarType)&&(o.BarType=i.Draw.BarType),o.Data.Data=i.Draw.DrawData;var s=e+1,l=t.TitlePaint[s],h=new ke(o.Data,o.BarName,o.BarColor);h.DataType="ChartStackedBar",l.OverlayIndex.get(n.Identify).Data[a]=h,r.ChartPaint.push(o)},this.CreateIcon=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Wt;o.Canvas=t.Canvas,o.TextAlign="center",o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify;o.Data.Data=i.Draw.DrawData;var s=i.Draw.Icon;1==s.IconFont?o.IconFont={Family:s.Family,Text:s.Symbol,Color:s.Color}:(o.Text=s.Symbol,i.Color?o.Color=this.GetColor(i.Color):s.Color?o.Color=s.Color:o.Color="rgb(0,0,0)"),r.ChartPaint.push(o)},this.CreateChannel=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Zt;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,i.Draw.AreaColor?o.AreaColor=i.Draw.AreaColor:i.Color?o.AreaColor=this.GetColor(i.Color):o.AreaColor=this.GetDefaultColor(a),i.Draw.Border.Color?o.LineColor=i.Draw.Border.Color:o.LineColor=null,i.Draw.Border.Dotted&&(o.LineDotted=i.Draw.Border.Dotted),i.Draw.Border.Width>0&&(o.LineWidth=i.Draw.Border.Width),o.Data.Data=i.Draw.DrawData,r.ChartPaint.push(o)},this.CreatePartLine=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Ot;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,o.Data.Data=i.Draw.DrawData,r.ChartPaint.push(o)},this.CreateMultiLine=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new ie;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,o.Data=t.ChartPaint[0].Data,o.Lines=i.Draw.DrawData,i.Draw.LineDash&&(o.LineDash=i.Draw.LineDash),Ce.IsNumber(i.Draw.LineWidth)&&(o.LineWidth=i.Draw.LineWidth),i.Draw.Arrow){var s=i.Draw.Arrow;1==s.Start&&(o.Arrow.Start=!0),1==s.End&&(o.Arrow.End=!0),Ce.IsNumber(s.Angle)&&(o.ArrawAngle=s.Angle),Ce.IsNumber(s.Length)&&(o.ArrawLength=s.Length),Ce.IsNumber(s.LineWidth)&&(o.ArrawLineWidth=s.LineWidth)}r.ChartPaint.push(o)},this.CreateBackgroud=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Qt;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,i.Draw&&i.Draw.DrawData){var s=i.Draw.DrawData;o.Color=s.Color,o.ColorAngle=s.Angle,s.Data&&(o.Data.Data=s.Data)}r.ChartPaint.push(o)},this.CreateMultiBar=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new ee;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,o.Data=t.ChartPaint[0].Data,o.Bars=i.Draw.DrawData;var s=e+1,l=t.TitlePaint[s],h=new ke({KData:o.Data,BarData:o.Bars},i.Name,null);h.IsShow=!1,h.DataType="MULTI_BAR",l.OverlayIndex.get(n.Identify).Data[a]=h,r.ChartPaint.push(o)},this.CreateMultiText=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new ae;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,o.Data=t.ChartPaint[0].Data,o.Texts=i.Draw.DrawData,r.ChartPaint.push(o)},this.CreateMultiSVGIcon=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new ne;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,o.Data=t.ChartPaint[0].Data,o.Family=i.Draw.DrawData.Family,o.Icon=i.Draw.DrawData.Icon,r.ChartPaint.push(o)},this.CreateChartDrawSVG=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new oe;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,t.ChartPaint[0].IsMinuteFrame()?o.Data=t.SourceData:o.Data=t.ChartPaint[0].Data,Ce.IsBool(i.Draw.DrawData.EnableTooltip)&&(o.EnableTooltip=i.Draw.DrawData.EnableTooltip),Ce.IsBool(i.Draw.DrawData.IsDrawFirst)&&(o.IsDrawFirst=i.Draw.DrawData.IsDrawFirst),o.Family=i.Draw.DrawData.Family,o.TextFont=i.Draw.DrawData.TextFont,o.Texts=i.Draw.DrawData.Data,r.ChartPaint.push(o)},this.CreateMulitHtmlDom=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new re;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,o.HQChart=t,o.Data=t.ChartPaint[0].Data,o.Texts=i.Draw.DrawData,o.DrawCallback=i.Draw.Callback,r.ChartPaint.push(o)},this.CreateChartVericaltLine=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Vt;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,o.HQChart=t,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.LineWidth){var s=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(o.LineWidth=s)}this.SetChartLineDash(o,i.Draw.DrawData),o.Data.Data=i.Draw.DrawData.Data,r.ChartPaint.push(o)},this.CreateChartHorizontalLine=function(t,e,i,a){var n=this.OverlayIndex,r=n.Frame,o=new Ht;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=r.Frame.ChartBorder,o.ChartFrame=r.Frame,o.Identify=n.Identify,o.HQChart=t,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.LineWidth){var s=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(o.LineWidth=s)}this.SetChartLineDash(o,i.Draw.DrawData),o.ExtendType=i.Draw.DrawData.Extend,o.Data.Data=i.Draw.DrawData.Data,r.ChartPaint.push(o)},this.CreateSelfKLine=function(t,e,i){var a=this.OverlayIndex,n=a.Frame,r=new Mt;r.Canvas=t.Canvas,r.Name="Self Kline",r.ChartBorder=n.Frame.ChartBorder,r.ChartFrame=n.Frame,r.Identify=a.Identify,r.Data=i,r.IsShowMaxMinPrice=!1,r.IsShowKTooltip=!1,r.DrawType=this.KLineType,n.ChartPaint.push(r)},this.GetDefaultColor=function(t){var e=["rgb(24,71,178)","rgb(42,230,215)","rgb(252,96,154)","rgb(0,128,255)","rgb(229,0,79)","rgb(68,114,196)","rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)"];return e[parseInt(t)%(e.length-1)]}}function ra(t,e,i,a,n){this.newMethod=n?na:aa,this.newMethod(t,e,i,a),delete this.newMethod,this.ClassName="APIScriptIndex",this.IsOverlayIndex=1==n,this.ApiUrl,this.HQDataType,this.Version=1,a&&a.API&&(a.API.Url&&(this.ApiUrl=a.API.Url),a.API.Name&&(this.Name=this.ID=a.API.Name),a.API.ID&&(this.ID=a.API.ID),a.API.Version>0&&(this.Version=a.API.Version),!0===a.API.IsUsePageData&&(this.IsUsePageData=a.API.IsUsePageData)),this.Super_CopyTo=this.CopyTo,this.CopyTo=function(t){this.Super_CopyTo(t),t.ApiUrl=this.ApiUrl,t.Version=this.Version,t.IsOverlayIndex=this.IsOverlayIndex},this.ExecuteScript=function(t,e,i){g.Complier.Log("[APIScriptIndex::ExecuteScript] name, Arguments ",this.Name,this.Arguments);var a=ta.KLINE_ID,n=null;"MinuteChartContainer"===t.ClassName||"MinuteChartHScreenContainer"===t.ClassName?(a=t.DayCount>1?ta.MULTIDAY_MINUTE_ID:ta.MINUTE_ID,n=i.GetDateRange()):"HistoryMinuteChartContainer"===t.ClassName?a=ta.HISTORY_MINUTE_ID:n=i.GetDateRange();var r,o=[];if(this.Arguments)for(var s in this.Arguments){var l=this.Arguments[s];o.push({name:l.Name,value:l.Value})}t.GetRequestDataCount&&(r=t.GetRequestDataCount());var h=this,u={indexname:this.ID,symbol:t.Symbol,script:this.Script,args:o,period:t.Period,right:t.Right,hqdatatype:a};if(n&&(u.DateRange=n),r&&(u.maxdatacount=r.MaxRequestDataCount,u.maxminutedaycount=r.MaxRequestMinuteDayCount),a!=ta.MULTIDAY_MINUTE_ID&&a!=ta.MINUTE_ID||(u.daycount=t.DayCount),this.HQDataType=a,t.NetworkFilter){var c={Name:"APIScriptIndex::ExecuteScript",Explain:"指标计算",Request:{Url:h.ApiUrl,Type:"POST",Data:u},Self:this,HQChart:t,PreventDefault:!1};if(t.NetworkFilter(c,function(a){2==h.Version?h.RecvAPIData2(a,t,e,i):h.RecvAPIData(a,t,e,i)}),1==c.PreventDefault)return}C.HttpRequest({url:h.ApiUrl,data:u,type:"post",dataType:"json",async:!0,success:function(a){h.RecvAPIData(a,t,e,i)},error:function(t){h.RecvError(t)}})},this.RecvAPIData2=function(t,e,i,a){if(g.Complier.Log("[APIScriptIndex::RecvAPIData2] recv data ",this.Name,t),this.HQDataType==ta.KLINE_ID?(this.OutVar=this.ConvertToLocalData(t,e),g.Complier.Log("[APIScriptIndex::RecvAPIData2] conver to OutVar ",this.OutVar)):this.HQDataType==ta.MINUTE_ID?(this.OutVar=this.ConvertToLocalData(t,e),g.Complier.Log("[APIScriptIndex::RecvAPIData2] conver to OutVar ",this.OutVar)):this.HQDataType==ta.MULTIDAY_MINUTE_ID&&(this.OutVar=this.ConvertToLocalData(t,e),g.Complier.Log("[APIScriptIndex::RecvAPIData2] conver to OutVar ",this.OutVar)),this.BindData(e,i,a),e.UpdataDataoffset(),e.UpdateFrameMaxMin(),e.Draw(),e.GetIndexEvent){var n=e.GetIndexEvent();if(n){t={OutVar:this.OutVar,WindowIndex:i,Name:this.Name,Arguments:this.Arguments,HistoryData:a,Stock:{Symbol:e.Symbol,Name:e.Name}};n.Callback(n,t,this)}}},this.ConvertToLocalData=function(t,e){var i=t.OutVar;if("MinuteChartContainer"==e.ClassName||"MinuteChartHScreenContainer"==e.ClassName)var a=(n=e.SourceData).GetAPIDataIndex(t.Date,t.Time);else{var n=e.ChartPaint[0].Data;if(mt.IsDayPeriod(t.Period,!0))a=n.GetAPIDataIndex(t.Date);else a=n.GetAPIDataIndex(t.Date,t.Time)}var r=[];for(var o in i){var s={Type:(p=i[o]).Type,Name:p.Name};if(0==p.Type){s.Data=[];for(var l=0;l<a.length;++l){(I=a[l]).Index<0?s.Data[l]=null:s.Data[l]=p.Data[I.Index]}s.Name&&s.Name.indexOf("@NODRAW@")>=0&&(s.Name=s.Name.replace("@NODRAW@",""))}else{if(1!=p.Type)continue;s.Name=p.DrawType,s.Draw={DrawType:p.DrawType};var h=p.Draw;switch(p.DrawType){case"STICKLINE":var u=[];for(l=0;l<a.length;++l){if(u[l]=null,!((T=(I=a[l]).Index)<0)){var c=h.Price[T],d=h.Price2[T];Ce.IsNumber(c)&&Ce.IsNumber(d)&&(u[l]={Value:c,Value2:d})}}s.Draw.DrawData=u,s.Draw.Width=h.Width,s.Draw.Type=h.Empty;break;case"DRAWTEXT":u=[];var f=[];for(l=0;l<a.length;++l){if(u[l]=null,!((T=(I=a[l]).Index)<0)){c=h.Price[T];if(Ce.IsNumber(c)&&(u[l]=c),Array.isArray(h.Text)){var p=h.Text[T];Ce.IsString(p)&&(f[l]=p)}}}Array.isArray(h.Text)?s.Draw.Text=f:s.Draw.Text=h.Text,s.Draw.DrawData=u;break;case"DRAWNUMBER":for(u={Value:[],Text:[]},l=0;l<a.length;++l){if(u.Value[l]=null,u.Text[l]=null,!((T=(I=a[l]).Index)<0)){c=h.Price[T];var m=h.Number[T];Ce.IsNumber(c)&&Ce.IsNumber(m)&&(u.Value[l]=c,u.Text[l]=m.toFixed(2))}}s.Draw.DrawData=u;break;case"DRAWBAND":for(u=[],l=0;l<a.length;++l){if(u[l]=null,!((T=(I=a[l]).Index)<0)){c=h.Val1[T],d=h.Val2[T];Ce.IsNumber(c)&&Ce.IsNumber(d)&&(u[l]={Value:c,Value2:d})}}s.Draw.DrawData=u,s.Draw.Color=[null,null],h.Color1&&(s.Draw.Color[0]=h.Color1.toLowerCase()),h.Color2&&(s.Draw.Color[1]=h.Color2.toLowerCase());break;case"DRAWKLINE":for(u=[],l=0;l<a.length;++l){p={Open:null,High:null,Low:null,Close:null};if(u[l]=p,!((T=(I=a[l]).Index)<0)){var v=h.High[T],g=h.Low[T],C=h.Open[T],D=h.Close[T];Ce.IsPlusNumber(v)&&Ce.IsPlusNumber(g)&&Ce.IsPlusNumber(C)&&Ce.IsPlusNumber(D)&&(p.Open=C,p.Close=D,p.High=v,p.Low=g)}}s.Draw.DrawData=u;break;case"DRAWTEXT_FIX":for(u={Value:[],Text:[]},l=0;l<a.length;++l){if(u.Value[l]=0,u.Text[l]=null,!((T=(I=a[l]).Index)<0))h.Cond[T]&&(u.Value[l]=1,u.Text[l]=h.Text)}s.Draw.DrawData=u,s.Draw.Position={X:h.X,Y:h.Y,Type:h.Type};break;case"DRAWNUMBER_FIX":for(u={Value:[],Text:[]},l=0;l<a.length;++l){if(u.Value[l]=null,u.Text[l]=null,!((T=(I=a[l]).Index)<0)){var y=h.Number[T];Ce.IsNumber(y)&&(u.Value[l]=y,u.Text[l]=Ce.RemoveZero(y.toFixed(2)))}}s.Draw.DrawData=u,s.Draw.Position={X:h.X,Y:h.Y,Type:h.Type};break;case"DRAWICON":var x=Bi.GetDrawIcon(h.Type);x||Bi.GetDrawTextIcon(h.Type),x||(x={Symbol:"🚩"}),s.Draw.Icon=x;for(u=[],l=0;l<a.length;++l){if(u[l]=null,!((T=(I=a[l]).Index)<0)){y=h.Price[T];Ce.IsNumber(y)&&(u[l]=y)}}s.Draw.DrawData=u;break;case"PARTLINE":for(u=[],l=0;l<a.length;++l){if(u[l]={Value:null,RGB:null},!((T=(I=a[l]).Index)<0)){var S=h.Color[T];if(Ce.IsString(S)){y=h.Price[T];Ce.IsNumber(y)&&(u[l].Value=y,u[l].RGB=S)}}}s.Draw.DrawData=u;break;case"FILLRGN":for(u=[],l=0;l<a.length;++l){var I,T;if(u[l]=null,!((T=(I=a[l]).Index)<0)){S=h.Color[T];if(Ce.IsString(S)){y=h.Price[T];if(Ce.IsNumber(y)){var b=h.Price2[T];Ce.IsNumber(b)&&(u[l]={Value:y,Value2:b,Color:S})}}}}s.Draw.DrawData=u,s.Draw.DrawType="FILLRGN2";break;default:continue}}for(var o in p.Attribute){var w=p.Attribute[o];switch(w){case"COLORSTICK":s.Type=2;break;case"POINTDOT":s.Radius=Qe.POINTDOT.Radius,s.Type=3;break;case"CIRCLEDOT":s.Radius=Qe.CIRCLEDOT.Radius,s.Type=3;break;case"DOTLINE":s.IsDotLine=!0;break;case"DRAWABOVE":s.IsDrawAbove=!0;break;case"LINESTICK":s.Type=4;break;case"STICK":s.Type=5;break;case"VOLSTICK":s.Type=6;break;case"NODRAW":s.IsShow=!1;break;case"NONE_OUT_NAME":s.NoneName=!0;break;case"NOTEXT":s.IsShowTitle=!1}0==w.indexOf("COLOR")?s.Color=w:0==w.indexOf("LINETHICK")&&(s.LineWidth=w)}r.push(s)}return r},this.RecvAPIData=function(t,e,i,a){if(g.Complier.Log("[APIScriptIndex::RecvAPIData] recv data ",this.Name,t),0==t.code)if(!e.EnableVerifyRecvData||t.stock&&e.Symbol==t.stock.symbol){if(t.outdata&&t.outdata.name&&(this.Name=t.outdata.name),t.outdata.args)for(var n in this.Arguments=[],t.outdata.args){var r=t.outdata.args[n];this.Arguments.push({Name:r.name,Value:r.value})}if(this.HQDataType==ta.KLINE_ID?(this.OutVar=this.FittingData(t.outdata,e),g.Complier.Log("[APIScriptIndex::RecvAPIData] conver to OutVar ",this.OutVar)):this.OutVar=this.FittingMinuteData(t.outdata,e),this.BindData(e,i,a),0==this.IsLocked)e.Frame.SubFrame[i].Frame.SetLock(null);else{var o={IsLocked:!0,Callback:this.LockCallback,IndexName:this.Name,ID:this.LockID,BG:this.LockBG,Text:this.LockText,TextColor:this.LockTextColor,Font:this.LockFont,Count:this.LockCount,MinWidth:this.LockMinWidth};e.Frame.SubFrame[i].Frame.SetLock(o)}if(e.UpdataDataoffset(),e.UpdateFrameMaxMin(),e.Draw(),e.GetIndexEvent){var s=e.GetIndexEvent();if(s){t={OutVar:this.OutVar,WindowIndex:i,Name:this.Name,Arguments:this.Arguments,HistoryData:a,Stock:{Symbol:e.Symbol,Name:e.Name}};s.Callback(s,t,this)}}}else g.Chart.Warn("[APIScriptIndex::RecvAPIData] recv data symbol not match. HQChart["+e.Symbol+"]")},this.FittingArray=function(t,e,i,a,n){var r,o=a.ChartPaint[0].Data,s=[];for(var l in t){var h=t[l],u=new ut;u.Date=e[l],i&&l<i.length&&(u.Time=i[l]),u.Value=h,s.push(u)}r=mt.IsDayPeriod(a.Period,!0)?o.GetFittingData(s):o.GetMinuteFittingData(s);var c=new mt;return c.Data=r,1==n?c.GetObject():c.GetValue()},this.FittingMultiLine=function(t,e,i,a){var n=a.ChartPaint[0].Data;if(mt.IsDayPeriod(a.Period,!0)){n=a.ChartPaint[0].Data;var r=[];for(var o in t){var s=t[o];for(var l in s.Point){var h=s.Point[l];r.push(h)}}return r.sort(function(t,e){return t.Date-e.Date}),n.GetDateIndex(r),t}if(mt.IsMinutePeriod(a.Period,!0)||mt.IsTickPeriod(a.Period)){n=a.ChartPaint[0].Data,r=[];for(var o in t){s=t[o];for(var l in s.Point){h=s.Point[l];r.push(h)}}return r.sort(function(t,e){return t.Date==e.Date?t.Time-e.Time:t.Date-e.Date}),n.GetDateTimeIndex(r),t}if(this.HQDataType==ta.MINUTE_ID||this.HQDataType==ta.MULTIDAY_MINUTE_ID){var u=a.SourceData;r=[];for(var o in t){s=t[o];for(var l in s.Point){h=s.Point[l];r.push(h)}}return r.sort(function(t,e){return t.Date==e.Date?t.Time-e.Time:t.Date-e.Date}),u.GetDateTimeIndex(r),t}return null},this.FittingMultiText=function(t,e,i,a){if(mt.IsDayPeriod(a.Period,!0)){var n=a.ChartPaint[0].Data;return t.sort(function(t,e){return t.Date-e.Date}),n.GetDateIndex(t),t}if(mt.IsMinutePeriod(a.Period,!0)||mt.IsTickPeriod(a.Period)){n=a.ChartPaint[0].Data;return t.sort(function(t,e){return t.Date==e.Date?t.Time-e.Time:t.Date-e.Date}),n.GetDateTimeIndex(t),t}if(this.HQDataType==ta.MINUTE_ID||this.HQDataType==ta.MULTIDAY_MINUTE_ID){var r=a.SourceData;return t.sort(function(t,e){return t.Date==e.Date?t.Time-e.Time:t.Date-e.Date}),r.GetDateTimeIndex(t),t}return null},this.FittingData=function(t,e){var i=t.outvar,a=t.date,n=t.time,r=(e.ChartPaint[0].Data,[]);if(!i)return r;for(var o=0;o<i.length;++o){var s={Name:(f=i[o]).name,Type:f.type};if(f.color&&(s.Color=f.color),f.data)s.Data=this.FittingArray(f.data,a,n,e),f.color&&(s.Color=f.color),f.linewidth&&(s.LineWidth=f.linewidth),0==f.isshow&&(s.IsShow=!1),1==f.isexdata&&(s.IsExData=!0),r.push(s);else if(f.Draw){var l=f.Draw,h={};if("DRAWICON"==l.DrawType)h.Icon=l.Icon,h.Name=l.Name,h.DrawType=l.DrawType,h.DrawData=this.FittingArray(l.DrawData,a,n,e),s.Draw=h,r.push(s);else if("DRAWTEXT"==l.DrawType)h.Text=l.Text,h.Name=l.Name,h.DrawType=l.DrawType,h.DrawData=this.FittingArray(l.DrawData,a,n,e),s.Draw=h,r.push(s);else if("STICKLINE"==l.DrawType)h.Name=l.Name,h.Type=l.Type,h.Width=l.Width,h.DrawType=l.DrawType,h.DrawData=this.FittingArray(l.DrawData,a,n,e,1),s.Draw=h,r.push(s);else if("DRAWBAND"==l.DrawType)h.Name=l.Name,h.Type=l.Type,h.DrawType=l.DrawType,h.DrawData=this.FittingArray(l.DrawData,a,n,e,1),h.Color=l.Color,s.Draw=h,r.push(s);else if("MULTI_LINE"==l.DrawType){if(h.Text=l.Text,h.Name=l.Name,h.DrawType=l.DrawType,h.DrawData=this.FittingMultiLine(l.DrawData,a,n,e),Ce.IsNonEmptyArray(h.DrawData))for(var u=0;u<h.DrawData.length;++u)this.GetKLineData(h.DrawData[u].Point,e);s.Draw=h,l.LineDash&&(h.LineDash=l.LineDash),l.Arrow&&(h.Arrow=l.Arrow),Ce.IsNumber(l.LineWidth)&&(h.LineWidth=l.LineWidth),r.push(s)}else if("MULTI_BAR"==l.DrawType)h.Text=l.Text,h.Name=l.Name,h.DrawType=l.DrawType,h.DrawData=this.FittingMultiLine(l.DrawData,a,n,e),s.Draw=h,r.push(s);else if(l.DrawType==ea.OVERLAY_BARS)h.Name=l.Name,h.Type=l.Type,h.DrawType=l.DrawType,h.BarName=l.BarName,h.BarColor=l.BarColor,h.LineWidth=l.LineWidth,h.BarType=l.BarType,h.DrawData=this.FittingArray(l.DrawData,a,n,e,1),s.Draw=h,r.push(s);else if(l.DrawType==ea.SCATTER_PLOT)h.Name=l.Name,h.Type=l.Type,h.DrawType=l.DrawType,h.DrawData=this.FittingArray(l.DrawData,a,n,e,1),h.Color=l.Color,h.Radius=l.Radius,s.Draw=h,r.push(s);else if(l.DrawType==ea.KLINE_TABLE)h.Name=l.Name,h.Type=l.Type,h.DrawType=l.DrawType,h.DrawData=this.FittingArray(l.DrawData,a,n,e,1),h.RowCount=l.RowCount,h.RowName=l.RowName,h.IsShowRowName=l.IsShowRowName,h.BGColor=l.BGColor,s.Draw=h,r.push(s);else if("MULTI_TEXT"==l.DrawType)h.Text=l.Text,h.Name=l.Name,h.DrawType=l.DrawType,h.DrawData=this.FittingMultiText(l.DrawData,a,n,e),this.GetKLineData(h.DrawData,e),s.Draw=h,r.push(s);else if("MULTI_SVGICON"==l.DrawType)h.Text=l.Text,h.Name=l.Name,h.DrawType=l.DrawType,h.DrawData={Icon:this.FittingMultiText(l.DrawData.Icon,a,n,e),Family:l.DrawData.Family},this.GetKLineData(h.DrawData.Icon,e),s.Draw=h,r.push(s);else if("DRAWSVG"==l.DrawType)h.Text=l.Text,h.Name=l.Name,h.DrawType=l.DrawType,h.DrawData={Data:this.FittingMultiText(l.Data,a,n,e),Family:l.Family,TextFont:l.TextFont,EnableTooltip:l.EnableTooltip,IsDrawFirst:l.IsDrawFirst},this.GetKLineData(h.DrawData.Data,e),s.Draw=h,r.push(s);else if("MULTI_HTMLDOM"==l.DrawType)h.Text=l.Text,h.Name=l.Name,h.DrawType=l.DrawType,h.Callback=l.Callback,h.DrawData=this.FittingMultiText(l.DrawData,a,n,e),this.GetKLineData(h.DrawData,e),s.Draw=h,r.push(s);else if("COLOR_KLINE"==l.DrawType){h.Text=l.Text,h.Name=l.Name,h.DrawType=l.DrawType;var c=this.FittingMultiText(l.DrawData.KLine,a,n,e),d=new p.default;for(var o in c){var f=c[o];d.set(f.Index,f)}h.DrawData={KLine:d},l.Color&&(s.Color=l.Color),s.Draw=h,r.push(s)}else if("KLINE_BG"==l.DrawType)h.Name=l.Name,h.DrawType=l.DrawType,h.DrawData={},h.DrawData.Color=l.Color,h.DrawData.Angle=l.Angle,2==l.Ver?h.DrawData.Data=this.FittingKLineBG_V2(l.DrawData,e):h.DrawData.Data=this.FittingKLineBG(l.DrawData,e),s.Draw=h,s.Name=l.DrawType,r.push(s);else if("MULTI_POINT_LINE"==l.DrawType)h.Name=l.Name,h.DrawType=l.DrawType,h.DrawData={},h.DrawData.Color=l.Color,h.DrawData.PointRadius=l.PointRadius,h.DrawData.PointColor=l.PointColor,h.DrawData.LineWidth=l.LineWidth,h.DrawData.Data=this.FittingMultiPointLine(l.DrawData,e),s.Draw=h,r.push(s);else{var m=ia.Get(l.DrawType);m&&m.KLineFittingCallback&&m.KLineFittingCallback(f,s,{Date:a,Time:n,HQChart:e},this)&&r.push(s)}}}return r},this.GetKLineData=function(t,e){if(t&&Array.isArray(t)){if(this.HQDataType==ta.MINUTE_ID||this.HQDataType==ta.MULTIDAY_MINUTE_ID)var i=e.SourceData;else i=e.ChartPaint[0].Data;for(var a in t){var n=t[a];if(Ce.IsString(n.Value)&&(Ce.IsNumber(n.Index)&&!(n.Index<0||n.Index>=i.Data.length))){var r=n.Value.toUpperCase(),o=i.Data[n.Index];switch(r){case"HIGH":case"H":n.Value=o.High;break;case"L":case"LOW":n.Value=o.Low;break;case"C":case"CLOSE":n.Value=o.Close}}}}},this.FittingKLineBG=function(t,e){var i=e.ChartPaint[0].Data,a=[];if(mt.IsDayPeriod(e.Period,!0)){for(var n=!1,r=0,o=0;r<i.Data.length;){a[r]=0;var s=i.Data[r];if(o>=t.length)++r;else(l=t[o]).Date<s.Date?++o:l.Date>s.Date?++r:(n=!0,a[r]=1,++o,++r)}if(n)return a}else if(mt.IsMinutePeriod(e.Period,!0)){for(n=!1,r=0,o=0;r<i.Data.length;){a[r]=0;var l;s=i.Data[r];if(o>=t.length)++r;else(l=t[o]).Date<s.Date||l.Date==s.Date&&l.Time<s.Time?++o:l.Date>s.Date||l.Date==s.Date&&l.Time>s.Time?++r:(n=!0,a[r]=1,++o,++r)}if(n)return a}return null},this.FittingKLineBG_V2=function(t,e){var i=e.ChartPaint[0].Data,a=[];if(mt.IsDayPeriod(e.Period,!0)){for(var n=!1,r=0,o=0;r<i.Data.length;++r){a[r]=0;var s=(d=i.Data[r]).Date;for(o=0;o<t.length;++o){if(s>=(f=t[o]).Start.Date&&s<=f.End.Date){a[r]=1,n=!0;break}}}if(n)return a}else if(mt.IsMinutePeriod(e.Period,!0)){var l=[];for(r=0;r<t.length;++r){var h=t[r],u=1e4*h.Start.Date;Ce.IsNumber(h.Start.Time)&&(u+=h.Start.Time);var c=1e4*h.End.Date;Ce.IsNumber(h.End.Time)&&(c+=h.End.Time),l.push({Start:u,End:c})}for(n=!1,r=0,o=0;r<i.Data.length;++r){a[r]=0;var d;s=1e4*(d=i.Data[r]).Date+d.Time;for(o=0;o<l.length;++o){var f;if(s>=(f=l[o]).Start&&s<=f.End){a[r]=1,n=!0;break}}}if(n)return a}return null},this.FittingMinuteData=function(t,e){for(var i=t.outvar,a=t.date,n=t.time,r=[],o=0;o<i.length;++o){var s=i[o],l={Name:s.name,Type:s.type};if(s.data)l.Data=this.FittingMinuteArray(s.data,a,n,e),s.color&&(l.Color=s.color),s.linewidth>=1&&(l.LineWidth=s.linewidth),0==s.isshow&&(l.IsShow=!1),1==s.isexdata&&(l.IsExData=!0),r.push(l);else if(s.Draw){var h=s.Draw,u={};if("DRAWICON"==h.DrawType)u.Icon=h.Icon,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingMinuteArray(h.DrawData,a,n,e),l.Draw=u,r.push(l);else if("DRAWTEXT"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingMinuteArray(h.DrawData,a,n,e),l.Draw=u,r.push(l);else if("STICKLINE"==h.DrawType)u.Name=h.Name,u.Type=h.Type,u.Width=h.Width,u.DrawType=h.DrawType,u.DrawData=this.FittingMinuteArray(h.DrawData,a,n,e,1),l.Draw=u,r.push(l);else if(h.DrawType==ea.OVERLAY_BARS)u.Name=h.Name,u.Type=h.Type,u.DrawType=h.DrawType,u.BarName=h.BarName,u.BarColor=h.BarColor,u.LineWidth=h.LineWidth,u.DrawData=this.FittingMinuteArray(h.DrawData,a,n,e,1),l.Draw=u,r.push(l);else if("MULTI_LINE"==h.DrawType){for(var c in u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingMultiLine(h.DrawData,a,n,e),u.DrawData)this.GetKLineData(u.DrawData[c].Point,e);l.Draw=u,h.LineDash&&(u.LineDash=h.LineDash),h.Arrow&&(u.Arrow=h.Arrow),r.push(l)}else if("MULTI_TEXT"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingMultiText(h.DrawData,a,n,e),this.GetKLineData(u.DrawData,e),l.Draw=u,r.push(l);else if("MULTI_SVGICON"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData={Icon:this.FittingMultiText(h.DrawData.Icon,a,n,e),Family:h.DrawData.Family},this.GetKLineData(u.DrawData.Icon,e),l.Draw=u,r.push(l);else if("DRAWSVG"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData={Data:this.FittingMultiText(h.Data,a,n,e),Family:h.Family,TextFont:h.TextFont,EnableTooltip:h.EnableTooltip,IsDrawFirst:h.IsDrawFirst},this.GetKLineData(u.DrawData.Data,e),l.Draw=u,r.push(l);else if("MULTI_HTMLDOM"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.Callback=h.Callback,u.DrawData=this.FittingMultiText(h.DrawData,a,n,e),this.GetKLineData(u.DrawData,e),l.Draw=u,r.push(l);else{var d=ia.Get(h.DrawType);d&&d.MinuteFittingCallback&&d.MinuteFittingCallback(s,l,{Date:a,Time:n,HQChart:e},this)&&r.push(l)}}}return r},this.FittingMinuteArray=function(t,e,i,a){var n=a.SourceData,r=[];for(var o in t){var s=t[o],l=new ut;l.Date=e[o],i&&o<i.length&&(l.Time=i[o]),l.Value=s,r.push(l)}var h=n.GetMinuteFittingData(r),u=new mt;return u.Data=h,u.GetValue()},this.FittingMultiPointLine=function(t,e){var i=e.Period,a=t.Data,n=[];if(mt.IsDayPeriod(i,!0)){var r=a[0],o=(m=e.ChartPaint[0].Data).Data[0],s=0,l=0;if(r.Date>o.Date){var h=0;for(s=0;s<m.Data.length;++s){if((p=m.Data[s]).Date==r.Date)break;if(p.Date>r.Date){s=h;break}h=s}}else for(l=0;l<a.length;++l){if((f=a[l]).Date>=o.Date)break}for(var u=null,c=s,d=l;c<m.Data.length&&d<a.length;){var f,p=m.Data[c];(f=a[d]).Date<=p.Date?(n[c]||(n[c]=[]),n[c].push({Date:f.Date,Value:f.Value,Data:f.Data,KDate:p.Date,Type:1}),u=f,++d):(u&&!n[c]&&(n[c]={Date:u.Date,Value:u.Value,Type:0}),++c)}if(u)for(;c<m.Data.length;++c)n[c]||(n[c]={Date:u.Date,Value:u.Value,Type:0});return n}if(mt.IsMinutePeriod(i,!0)){var m=e.ChartPaint[0].Data;return n}}}function oa(t,e,a){this.newMethod=aa,this.newMethod(t,null,e,null),delete this.newMethod,this.JsonData,a.JsonData&&(this.JsonData=a.JsonData),this.RequestData=function(t,e,i){if(!this.JsonData)return console.warn("[LocalJsonDataIndex::RequestData] JsonData is null"),void(param.HQChart.ScriptErrorCallback&&param.HQChart.ScriptErrorCallback("json 数据不能为空"));this.OutVar=this.FittingData(this.JsonData,i),this.BindData(t,e,i)},this.FittingData=function(t,e){for(i in outVar=t.OutVar,date=t.Date,time=t.Time,result=[],outVar)if(item=outVar[i],g.Complier.Log("[LocalJsonDataIndex::FittingData] item",item),0==item.Type||3==item.Type){var a=[];for(j in outVarItem={Name:item.Name,Type:item.Type},item.Data){var n=new ut;n.Date=date[j],time&&j<time.length&&(n.Time=time[j]),n.Value=item.Data[j],a.push(n)}if(e.Period<4)var r=e.GetFittingData(a);else r=e.GetMinuteFittingData(a);var o=new mt;o.Data=r,outVarItem.Data=o.GetValue(),result.push(outVarItem)}else console.warn("[LocalJsonDataIndex::FittingData] can't support ",item.Name,item.Type);return result}}function sa(t){this.ID,this.Name,this.Script,this.Arguments=[],this.ClassName="ScriptIndexConsole",this.ErrorCallback,this.FinishCallback,this.IsSectionMode=!1,this.NetworkFilter,t&&(t.Name&&(this.Name=t.Name),t.Script&&(this.Script=t.Script),t.ID&&(this.ID=t.ID),t.Args&&(this.Arguments=t.Args),t.ErrorCallback&&(this.ErrorCallback=t.ErrorCallback),t.FinishCallback&&(this.FinishCallback=t.FinishCallback),t.IsSectionMode&&(this.IsSectionMode=t.IsSectionMode),t.NetworkFilter&&(this.NetworkFilter=t.NetworkFilter)),this.ExecuteScript=function(t){this.OutVar=[];var e={Self:this},i={HQDataType:t.HQDataType,Symbol:t.Stock.Symbol,Name:t.Stock.Name,Period:t.Period,Right:t.Right,Callback:this.RecvResultData,CallbackParam:e,Async:!0,MaxRequestDataCount:t.Request.MaxDataCount,MaxRequestMinuteDayCount:t.Request.MaxMinuteDayCount,Arguments:this.Arguments,IsSectionMode:this.IsSectionMode,ClassName:"ScriptIndexConsole",NetworkFilter:this.NetworkFilter};t.HQDataType===ta.HISTORY_MINUTE_ID&&(i.TrateDate=t.Request.TradeDate),t.HQDataType==ta.MULTIDAY_MINUTE_ID&&(i.DayCount=t.DayCount);var a=this.Script;Qi.Execute(a,i,this.ErrorCallback)},this.RecvResultData=function(t,e){var i=e.Self,a=e.JSExecute,n=null;a.SymbolData.Data&&(n=a.SymbolData.Data.GetDate());var r={Out:t,Date:n,Stock:{Name:a.SymbolData.Name,Symbol:a.SymbolData.Symbol},Index:{Name:i.Name,ID:i.ID}};a.SymbolData.DataType==ta.MULTIDAY_MINUTE_ID||a.SymbolData.DataType==ta.MINUTE_ID?r.Time=a.SymbolData.Data.GetTime():a.SymbolData.DataType==ta.KLINE_ID&&mt.IsMinutePeriod(a.SymbolData.Period,!0)&&(r.Time=a.SymbolData.Data.GetTime()),i.FinishCallback&&i.FinishCallback(r,e.JSExecute)}}function la(t){this.Url=t.Url,this.Job=t.Job,this.Symbol=t.Symbol,this.Args=t.Args,this.DataKey=t.DataKey,this.RecvCallback=t.Callback,this.ErrorCallback=t.ErrorCallback,this.Download=function(){var t=this,e=this.GetFieldList();if(!e)return message=this.Job.FunctionName+"("+this.Args[0]+") can't support.",this.ErrorCallback(message),void t.RecvCallback(null,t.Job,t.DataKey);C.HttpRequest({url:this.Url,data:{field:e,symbol:[this.Symbol],condition:[{item:["finance","doc","exists","true"]}],start:0,end:200},type:"post",dataType:"json",async:!0,success:function(e){var i=t.ToHQChartData(e);i&&i.sort(function(t,e){return t.Date-e.Date}),t.RecvCallback(i,t.Job,t.DataKey)}})},this.ToHQChartData=function(t){if(!t.stock||1!=t.stock.length)return null;var e=[],i=new c.default,a=t.stock[0];for(var n in a.stockday){var r,o=a.stockday[n];if(o.announcement1)(r=this.ToHQChartItemData(o.announcement1,o.finance1,o))&&!i.has(r.Date)&&(e.push(r),i.add(r.Date));if(o.announcement2)(r=this.ToHQChartItemData(o.announcement2,o.finance2,o))&&!i.has(r.Date)&&(e.push(r),i.add(r.Date));if(o.announcement3)(r=this.ToHQChartItemData(o.announcement3,o.finance3,o))&&!i.has(r.Date)&&(e.push(r),i.add(r.Date));if(o.announcement4)(r=this.ToHQChartItemData(o.announcement4,o.finance4,o))&&!i.has(r.Date)&&(e.push(r),i.add(r.Date))}return e},this.ToHQChartItemData=function(t,e,i){var a=this.Args[0],n=1e4*t.year;switch(t.quarter){case 1:n+=331;break;case 2:n+=630;break;case 3:n+=930;break;case 4:n+=1231;break;default:return null}var r={Date:n,Value:0};switch(a){case 0:r.Value=n%1e6;break;case 1:r.Value=e.persearning;break;case 3:r.Value=e.peruprofit;break;case 4:r.Value=e.pernetasset;break;case 5:r.Value=e.percreserve;break;case 6:r.Value=e.woewa;break;case 7:r.Value=e.perccfo;break;case 8:r.Value=e.monetaryfunds;break;case 11:r.Value=e.areceivable}return r},this.GetFieldList=function(){switch(this.Args[0]){case 0:return["finance.date"];case 1:return["finance.persearning"];case 3:return["finance.peruprofit"];case 4:return["finance.pernetasset"];case 5:return["finance.percreserve"];case 6:return["finance.woewa"];case 7:return["finance.perccfo"];case 8:return["finance.monetaryfunds"];case 11:return["finance.areceivable"];default:return null}}}function ha(t){this.Url=t.Url,this.RealtimeUrl=t.RealtimeUrl,this.Job=t.Job,this.Symbol=t.Symbol,this.Args=t.Args,this.DataKey=t.DataKey,this.RecvCallback=t.Callback,this.ErrorCallback=t.ErrorCallback,this.Download=function(){var t=this.Args[0];switch(t){case 1:case 7:case"EXCHANGE":this.DownloadHistoryData(t);break;case 3:this.GetSymbolType(t);break;case 9:case 18:case 30:case 32:case 33:case 34:case 38:case 40:case 41:case 42:case 43:case"CAPITAL":case"TOTALCAPITAL":case 100:default:this.DownloadRealtimeData(t)}},this.GetSymbolType=function(t){var e=1;Ii.IsSHSZIndex(this.Symbol)&&(e=0);var i={Date:null,Value:e};this.RecvCallback(i,this.Job,this.DataKey)},this.DownloadRealtimeData=function(t){var e=this,i=this.GetFieldList();if(!i)return this.Job.FunctionName2?message=this.Job.FunctionName2+" can't support.":this.Job.FunctionName?message=this.Job.FunctionName+"("+this.Args[0]+") can't support.":message=this.Args[0]+" can't support.",this.ErrorCallback(message),void e.RecvCallback(null,e.Job,e.DataKey);C.HttpRequest({url:this.RealtimeUrl,data:{field:i,symbol:[this.Symbol],condition:[],start:0,end:10},type:"post",dataType:"json",async:!0,success:function(t){var i=e.RealtimeDataToHQChartData(t);e.RecvCallback(i,e.Job,e.DataKey)}})},this.DownloadHistoryData=function(t){var e=this,i=this.GetFieldList();if(!i)return message=this.Job.FunctionName+"("+this.Args[0]+") can't support.",this.ErrorCallback(message),void e.RecvCallback(null,e.Job,e.DataKey);C.HttpRequest({url:this.Url,data:{field:i,symbol:[this.Symbol],condition:[],start:0,end:200},type:"post",dataType:"json",async:!0,success:function(t){var i=e.ToHQChartData(t);i&&i.sort(function(t,e){return t.Date-e.Date}),e.RecvCallback(i,e.Job,e.DataKey)}})},this.GetFieldList=function(){switch(this.Args[0]){case 1:return["capital.total","capital.date"];case 7:case"EXCHANGE":return["capital.a","capital.date"];case 9:return["finance.peruprofit","symbol","date"];case 18:return["finance.percreserve","symbol","date"];case 30:return["finance.nprofit","symbol","date"];case 32:return["finance.peruprofit","symbol","date"];case 33:return["finance.persearning","symbol","date"];case 34:return["finance.pernetasset","symbol","date"];case 38:return["finance.persearning","symbol","date"];case 40:return["capital.a","capital.date","symbol","date","price"];case 41:return["capital.total","capital.date","symbol","date","price"];case"CAPITAL":return["capital.a","capital.date","symbol","date"];case"TOTALCAPITAL":return["capital.total","capital.date","symbol","date"];case 42:return["company.releasedate","symbol","date"];case 43:return["dividendyield","symbol","date"];case 100:return["shareholder","symbol","date"];default:return null}},this.RealtimeDataToHQChartData=function(t,e){if(!t.stock||1!=t.stock.length)return null;var i=t.stock[0],a=(e=this.Args[0],i.date);switch(e){case 9:return i.finance?{Date:a,Value:i.finance.peruprofit}:null;case 18:return i.finance?{Date:a,Value:i.finance.percreserve}:null;case 30:return i.finance?{Date:a,Value:i.finance.nprofit}:null;case 32:return i.finance?{Date:a,Value:i.finance.peruprofit}:null;case 33:return i.finance?{Date:a,Value:i.finance.persearning}:null;case 34:return i.finance?{Date:a,Value:i.finance.pernetasset}:null;case 38:return i.finance?{Date:a,Value:i.finance.persearning}:null;case 40:return i.capital?{Date:a,Value:i.capital.a*i.price}:null;case 41:return i.capital?{Date:a,Value:i.capital.total*i.price}:null;case 42:if(!i.company)return null;var n=i.company.releasedate,r=parseInt(n/1e4),o=parseInt(n%1e4/100),s=new Date(r,o-1,n%100),l=new Date;return{Date:a,Value:parseInt((l.getTime()-s.getTime())/864e5)+1};case 43:return i.dividendyield?{Date:a,Value:i.dividendyield.quarter4}:null;case 100:return i.shareholder?{Date:a,Value:i.shareholder.count}:null;case"CAPITAL":return i.capital?{Date:a,Value:i.capital.a/100}:null;case"TOTALCAPITAL":return i.capital?{Date:a,Value:i.capital.total/100}:null}},this.ToHQChartData=function(t){if(!t.stock||1!=t.stock.length)return null;var e=[],i=new c.default,a=t.stock[0],n=this.Args[0];for(var r in a.stockday){var o=a.stockday[r],s=this.ToHQChartItemData(o,n);s&&!i.has(s.Date)&&(e.push(s),i.add(s.Date))}return e},this.ToHQChartItemData=function(t,e){if(!t)return null;var i=t.date;switch(e){case 1:return t.capital?{Date:i,Value:t.capital.total}:null;case 7:case"EXCHANGE":return t.capital?{Date:i,Value:t.capital.a}:null;default:return null}}}sa.SetDomain=function(t,e){Qi.SetDomain(t,e)};var ua={BLACK_ID:1,WHITE_ID:0};function ca(){}function da(t){this.DivElement=t,this.JSChartContainer,this.CanvasElement=document.createElement("canvas"),this.CanvasElement.className="jsdeallist-drawing",this.CanvasElement.id=P(),this.CanvasElement.setAttribute("tabindex",0),this.CanvasElement.style&&(this.CanvasElement.style.outline="none"),t.hasChildNodes()&&g.Chart.Log("[JSDealChart::JSDealList] divElement hasChildNodes",t.childNodes),t.appendChild(this.CanvasElement),this.OnSize=function(){var t=parseInt(this.DivElement.style.height.replace("px",""));this.CanvasElement.height=t,this.CanvasElement.width=parseInt(this.DivElement.style.width.replace("px","")),this.CanvasElement.style.width=this.CanvasElement.width+"px",this.CanvasElement.style.height=this.CanvasElement.height+"px";var e=L();this.CanvasElement.height*=e,this.CanvasElement.width*=e,g.Chart.Log("[JSDealChart::OnSize] devicePixelRatio="+window.devicePixelRatio+", height="+this.CanvasElement.height+", width="+this.CanvasElement.width),this.JSChartContainer&&this.JSChartContainer.OnSize&&this.JSChartContainer.OnSize()},this.SetOption=function(t){var e=this.CreateJSDealChartContainer(t);if(!e)return!1;t.OnCreatedCallback&&t.OnCreatedCallback(e),this.JSChartContainer=e,this.DivElement.JSChart=this,t.Symbol?e.ChangeSymbol(t.Symbol):e.Draw()},this.CreateJSDealChartContainer=function(t){var e=new fa(this.CanvasElement);if(e.Create(t),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),Ce.IsNonEmptyArray(t.Column)&&e.SetColumn(t.Column),this.SetChartBorder(e,t),null!=t.IsAutoUpdate&&(e.IsAutoUpdate=t.IsAutoUpdate),t.AutoUpdateFrequency>0&&(e.AutoUpdateFrequency=t.AutoUpdateFrequency),Ce.IsBool(t.EnableFilter)&&(e.EnableFilter=t.EnableFilter),t.EventCallback)for(var i=0;i<t.EventCallback.length;++i){var a=t.EventCallback[i];e.AddEventCallback(a)}return e},this.SetChartBorder=function(t,e){if(e.Border){e.Border;Ce.IsNumber(e.Border.Left)&&(t.Frame.ChartBorder.Left=e.Border.Left),Ce.IsNumber(e.Border.Right)&&(t.Frame.ChartBorder.Right=e.Border.Right),Ce.IsNumber(e.Border.Top)&&(t.Frame.ChartBorder.Top=e.Border.Top),Ce.IsNumber(e.Border.Bottom)&&(t.Frame.ChartBorder.Bottom=e.Border.Bottom);var i=L();t.Frame.ChartBorder.Left*=i,t.Frame.ChartBorder.Right*=i,t.Frame.ChartBorder.Top*=i,t.Frame.ChartBorder.Bottom*=i}},this.ChangeSymbol=function(t,e){this.JSChartContainer&&this.JSChartContainer.ChangeSymbol(t,e)},this.SetColumn=function(t,e){this.JSChartContainer&&this.JSChartContainer.SetColumn(t,e)},this.EnableFilter=function(t,e){this.JSChartContainer&&this.JSChartContainer.EnableFilter(t,e)},this.AddEventCallback=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddEventCallback&&(g.Chart.Log("[JSDealChart:AddEventCallback] obj=",t),this.JSChartContainer.AddEventCallback(t))},this.ReloadResource=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ReloadResource&&(g.Chart.Log("[JSDealChart:ReloadResource] "),this.JSChartContainer.ReloadResource(t))}}function fa(t){this.ClassName="JSDealChartContainer",this.Frame,this.ChartPaint=[],this.ChartSplashPaint=null,this.LoadDataSplashTitle="数据加载中",this.Canvas=t.getContext("2d"),this.ShowCanvas=null,this.Symbol,this.Name,this.TradeDate,this.NetworkFilter,this.Data={DataOffset:0,Data:[]},this.SourceData={DataOffset:0,Data:[]},this.IsShowLastPage=!0,this.mapEvent=new p.default,this.AutoUpdateTimer=null,this.AutoUpdateFrequency=15e3,this.LoadDataSplashTitle="数据加载中",this.UIElement=t,this.LastPoint=new H,this.IsDestroy=!1,this.ChartDestory=function(){this.IsDestroy=!0,this.StopAutoUpdate()},this.EnableFilterData=!1,this.FilterData=function(t){if(!this.EnableFilterData)return t;var e=this.GetEventCallback(b.ON_FILTER_DEAL_DATA);if(!e||!e.Callback)return t;var i={Data:t,Result:[]};return e.Callback(e,i,this),i.Result},this.EnableFilter=function(t,e){this.EnableFilterData=t,this.Data.Data=this.FilterData(this.SourceData.Data),this.Data.DataOffset=0,e&&(1==e.GotoLastPage&&this.GotoLastPage(),1==e.Redraw&&this.Draw())},this.CloneArray=function(t){var e=[];if(!Ce.IsNonEmptyArray(t))return e;for(var i=0;i<t.length;++i)e.push(t[i]);return e},this.Create=function(t){var e=this;this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new we,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.Frame=new function(){this.ChartBorder,this.Canvas,this.BorderColor=Qe.DealList.BorderColor,this.LogoTextColor=Qe.FrameLogo.TextColor,this.LogoTextFont=Qe.FrameLogo.Font,this.ReloadResource=function(t){this.BorderColor=Qe.DealList.BorderColor,this.LogoTextColor=Qe.FrameLogo.TextColor,this.LogoTextFont=Qe.FrameLogo.Font},this.Draw=function(t){var e=R(this.ChartBorder.GetLeft()),i=R(this.ChartBorder.GetTop()),a=R(this.ChartBorder.GetRight()),n=R(this.ChartBorder.GetBottom()),r=a-e,o=n-i;Ce.IsNumber(this.BorderLine)?(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.beginPath(),(1&this.BorderLine)>0&&(this.Canvas.moveTo(e,i),this.Canvas.lineTo(a,i)),(2&this.BorderLine)>0&&(this.Canvas.moveTo(e,n),this.Canvas.lineTo(a,n)),(4&this.BorderLine)>0&&(this.Canvas.moveTo(e,i),this.Canvas.lineTo(e,n)),(8&this.BorderLine)>0&&(this.Canvas.moveTo(a,i),this.Canvas.lineTo(a,n)),this.Canvas.stroke()):(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(e,i,r,o))},this.DrawLogo=function(){var t=Qe.FrameLogo.Text;if(Ce.IsString(t)){this.Canvas.fillStyle=this.LogoTextColor,this.Canvas.font=this.LogoTextFont,this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom";var e=this.ChartBorder.GetLeft()+5,i=this.ChartBorder.GetBottom()-5;this.Canvas.fillText(t,e,i)}}},this.Frame.ChartBorder=new W,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartSplashPaint.Frame=this.Frame;var i=new function(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="ChartDealList",this.IsDrawFirst=!1,this.GetEventCallback,this.Data,this.Symbol,this.YClose,this.Open,this.Decimal=2,this.IsSingleTable=!1,this.IsShowHeader=!0,this.SizeChange=!0,this.UpColor=Qe.DealList.UpTextColor,this.DownColor=Qe.DealList.DownTextColor,this.UnchagneColor=Qe.DealList.UnchagneTextColor,this.BorderColor=Qe.DealList.BorderColor,this.HeaderFontConfig={Size:Qe.DealList.Header.Font.Size,Name:Qe.DealList.Header.Font.Name},this.HeaderColor=Qe.DealList.Header.Color,this.HeaderMergin={Left:Qe.DealList.Header.Mergin.Left,Right:Qe.DealList.Header.Mergin.Right,Top:Qe.DealList.Header.Mergin.Top,Bottom:Qe.DealList.Header.Mergin.Bottom},this.ItemFontConfig={Size:Qe.DealList.Row.Font.Size,Name:Qe.DealList.Row.Font.Name},this.RowMergin={Top:Qe.DealList.Row.Mergin.Top,Bottom:Qe.DealList.Row.Mergin.Bottom},this.BarMergin={Top:Qe.DealList.Row.BarMergin.Top,Left:Qe.DealList.Row.BarMergin.Left,Right:Qe.DealList.Row.BarMergin.Right,Bottom:Qe.DealList.Row.BarMergin.Bottom},this.HeaderFont=12*L()+"px 微软雅黑",this.ItemFont=15*L()+"px 微软雅黑",this.RowCount=0,this.TableWidth=0,this.TableCount=0,this.HeaderHeight=0,this.Column=[{Type:pa.TIME_ID,Title:"时间",TextAlign:"center",Width:null,TextColor:Qe.DealList.FieldColor.Time,MaxText:"88:88:88",Foramt:"HH:MM:SS"},{Type:pa.PRICE_ID,Title:"价格",TextAlign:"center",Width:null,MaxText:"888888.88"},{Type:pa.VOL_ID,Title:"成交",TextAlign:"right",Width:null,TextColor:Qe.DealList.FieldColor.Vol,MaxText:"888888"},{Type:pa.BS_ID,Title:"",TextAlign:"right",Width:null,MaxText:"擎"}],this.RectClient={},this.ReloadResource=function(t){this.UpColor=Qe.DealList.UpTextColor,this.DownColor=Qe.DealList.DownTextColor,this.UnchagneColor=Qe.DealList.UnchagneTextColor,this.BorderColor=Qe.DealList.BorderColor,this.HeaderFontConfig={Size:Qe.DealList.Header.Font.Size,Name:Qe.DealList.Header.Font.Name},this.HeaderColor=Qe.DealList.Header.Color,this.HeaderMergin={Left:Qe.DealList.Header.Mergin.Left,Right:Qe.DealList.Header.Mergin.Right,Top:Qe.DealList.Header.Mergin.Top,Bottom:Qe.DealList.Header.Mergin.Bottom},this.ItemFontConfig={Size:Qe.DealList.Row.Font.Size,Name:Qe.DealList.Row.Font.Name},this.RowMergin={Top:Qe.DealList.Row.Mergin.Top,Bottom:Qe.DealList.Row.Mergin.Bottom};for(var e=0;e<this.Column.length;++e){var i=this.Column[e];i.Type==pa.TIME_ID||i.Type==pa.STRING_TIME_ID?i.TextColor=Qe.DealList.FieldColor.Time:i.Type==pa.VOL_ID?i.TextColor=Qe.DealList.FieldColor.Vol:i.Type==pa.DEAL_ID?i.TextColor=Qe.DealList.FieldColor.Deal:i.Type==pa.INDEX_ID&&(i.TextColor=Qe.DealList.FieldColor.Index)}},this.SetColumn=function(t){if(Ce.IsNonEmptyArray(t)){this.Column=[];for(var e=0;e<t.length;++e){var i=t[e],a=this.GetDefaultColunm(i.Type);if(a){if(i.Title&&(a.Title=i.Title),i.TextAlign&&(a.TextAlign=i.TextAlign),i.TextColor&&(a.TextColor=i.TextColor),i.MaxText&&(a.MaxText=i.MaxText),i.Type==pa.MULTI_BAR_ID||i.Type==pa.CENTER_BAR_ID){if(!Ce.IsNumber(i.DataIndex))continue;a.DataIndex=i.DataIndex}this.Column.push(a)}}}},this.GetDefaultColunm=function(t){for(var e=[{Type:pa.TIME_ID,Title:"时间",TextAlign:"center",Width:null,TextColor:Qe.DealList.FieldColor.Time,MaxText:"88:88:88",Foramt:"HH:MM:SS"},{Type:pa.PRICE_ID,Title:"价格",TextAlign:"center",Width:null,MaxText:"888888.88"},{Type:pa.VOL_ID,Title:"成交",TextAlign:"right",Width:null,TextColor:Qe.DealList.FieldColor.Vol,MaxText:"888888"},{Type:pa.BS_ID,Title:"",TextAlign:"right",Width:null,MaxText:"擎"},{Type:pa.DEAL_ID,Title:"笔数",TextAlign:"right",Width:null,TextColor:Qe.DealList.FieldColor.Deal,MaxText:"8888"},{Type:pa.UPDOWN_ID,Title:"涨跌",TextAlign:"right",Width:null,MaxText:"-8888.88"},{Type:pa.STRING_TIME_ID,Title:"时间",TextAlign:"center",Width:null,TextColor:Qe.DealList.FieldColor.Time,MaxText:"88:88:88"},{Type:pa.INDEX_ID,Title:"序号",TextAlign:"center",Width:null,TextColor:Qe.DealList.FieldColor.Index,MaxText:"88888"},{Type:pa.MULTI_BAR_ID,Title:"柱子",TextAlign:"center",Width:null,TextColor:Qe.DealList.FieldColor.BarTitle,MaxText:"888888"},{Type:pa.CENTER_BAR_ID,Title:"柱子2",TextAlign:"center",Width:null,TextColor:Qe.DealList.FieldColor.BarTitle,MaxText:"888888"},{Type:pa.CUSTOM_TEXT_ID,Title:"自定义",TextAlign:"center",Width:null,TextColor:Qe.DealList.FieldColor.Text,MaxText:"擎擎擎擎擎"}],i=0;i<e.length;++i){var a=e[i];if(a.Type==t)return a}return null},this.Draw=function(){this.SizeChange?this.CalculateSize():this.UpdateCacheData(),this.DrawBorder(),this.DrawHeader(),this.DrawBody(),this.SizeChange=!1},this.UpdateCacheData=function(){this.RectClient.Left=this.ChartBorder.GetLeft(),this.RectClient.Right=this.ChartBorder.GetRight(),this.RectClient.Top=this.ChartBorder.GetTop(),this.RectClient.Bottom=this.ChartBorder.GetBottom(),this.Decimal=Ni(this.Symbol)},this.GetPageSize=function(t){t&&this.CalculateSize();var e=this.TableCount*this.RowCount;return e},this.CalculateSize=function(){this.UpdateCacheData();var t=L();this.HeaderFont=this.HeaderFontConfig.Size*t+"px "+this.HeaderFontConfig.Name,this.ItemFont=this.ItemFontConfig.Size*t+"px "+this.ItemFontConfig.Name,this.Canvas.font=this.ItemFont;for(var e=0,i=0,a=0;a<this.Column.length;++a){var n=this.Column[a];i=this.Canvas.measureText(n.MaxText).width,n.Width=i+4,e+=n.Width}var r=this.RectClient.Right-this.RectClient.Left;this.TableCount=parseInt(r/e),this.IsSingleTable&&(this.TableCount=1),this.TableWidth=r/this.TableCount,this.HeaderHeight=this.GetFontHeight(this.HeaderFont,"擎")+this.HeaderMergin.Top+this.HeaderMergin.Bottom,this.IsShowHeader||(this.HeaderHeight=0),this.RowHeight=this.GetFontHeight(this.ItemFont,"擎")+this.HeaderMergin.Top+this.HeaderMergin.Bottom,this.RowCount=parseInt((this.RectClient.Bottom-this.RectClient.Top-this.HeaderHeight)/this.RowHeight)},this.DrawHeader=function(){if(this.IsShowHeader){var t=this.RectClient.Left+this.HeaderMergin.Left,e=this.RectClient.Top,i=e+this.HeaderMergin.Top+(this.HeaderHeight-this.HeaderMergin.Top-this.HeaderMergin.Bottom)/2;this.Canvas.font=this.HeaderFont,this.Canvas.fillStyle=this.HeaderColor;for(var a=0,n=0;a<this.TableCount;++a){var r=t+this.TableWidth*a,o=r;for(n=0;n<this.Column.length;++n){var s=this.Column[n],l=s.Width;n==this.Column.length-1&&(l=this.TableWidth-(o-r)-this.HeaderMergin.Right-this.HeaderMergin.Left);var h=o;"center"==s.TextAlign?(h=o+l/2,this.Canvas.textAlign="center"):"right"==s.TextAlign?(h=o+l,this.Canvas.textAlign="right"):this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(s.Title,h,i),o+=s.Width}}}},this.DrawBorder=function(){var t=R(this.RectClient.Left),e=R(this.RectClient.Right),i=R(this.RectClient.Top),a=R(this.RectClient.Bottom);this.Canvas.strokeStyle=this.BorderColor,this.Canvas.beginPath(),this.IsShowHeader&&(this.Canvas.moveTo(t,i+this.HeaderHeight),this.Canvas.lineTo(e,i+this.HeaderHeight));for(var n=R(t+this.TableWidth),r=1;r<this.TableCount;++r)this.Canvas.moveTo(n,i),this.Canvas.lineTo(n,a),n=R(n+this.TableWidth);this.Canvas.stroke()},this.DrawBody=function(){if(this.Data&&Ce.IsNonEmptyArray(this.Data.Data)){this.Canvas.font=this.ItemFont;for(var t=this.RectClient.Top+this.HeaderHeight,e=this.RectClient.Left+this.HeaderMergin.Left,i=this.Data.Data.length,a=this.Data.DataOffset,n=0,r=0;n<this.TableCount;++n){var o=e+this.TableWidth*n,s=o,l=t;for(r=0;r<this.RowCount&&a<i;++r,++a){var h=this.Data.Data[a];this.DrawRow(h,s,l,a),l+=this.RowHeight}}}},this.DrawRow=function(t,e,i,a,n){for(var r=e,o=e+this.TableWidth,s=0;s<this.Column.length;++s){var l=this.Column[s],h=l.TextColor,u=null,c=l.Width,d=l.TextAlign;if(e+c>o)break;if(s==this.Column.length-1&&(c=this.TableWidth-(e-r)-this.HeaderMergin.Right-this.HeaderMergin.Left),l.Type==pa.TIME_ID)u=Ce.FormatTimeString(t.Time,l.Foramt);else if(l.Type==pa.STRING_TIME_ID)u=t.StrTime;else if(l.Type==pa.PRICE_ID)h=t.Price>this.YClose?this.UpColor:t.Price<this.YClose?this.DownColor:this.UnchagneColor,u=t.Price.toFixed(this.Decimal);else if(l.Type==pa.VOL_ID)u=Ce.FormatValueString(t.Vol,0),h=this.GetVolColor(l,t);else if(l.Type==pa.DEAL_ID)u=Ce.FormatValueString(t.Deal,0);else if(l.Type==pa.BS_ID)1==t.BS?(u="B",h=this.UpColor):2==t.BS&&(u="S",h=this.DownColor);else if(l.Type==pa.UPDOWN_ID){if(Ce.IsNumber(this.YClose)){var f=t.Price-this.YClose;u=f.toFixed(2),h=f>0?this.UpColor:f<0?this.DownColor:this.UnchagneColor}}else if(l.Type==pa.INDEX_ID)u=(a+1).toString();else if(l.Type==pa.MULTI_BAR_ID){var p={Left:e,Top:i,Width:c,Height:this.RowHeight};this.DrawMultiBar(l,t,p)}else if(l.Type==pa.CENTER_BAR_ID){var p={Left:e,Top:i,Width:c,Height:this.RowHeight};this.DrawCenterBar(l,t,p)}else if(l.Type==pa.CUSTOM_TEXT_ID){var m={Text:null,TextColor:null,TextAlign:null},p={Left:e,Top:i,Width:c,Height:this.RowHeight};this.DrawCustomText(l,t,p,a,s,m)&&(m.Text&&(u=m.Text),m.TextColor&&(h=m.TextColor),m.TextAlign&&(d=m.TextAlign))}this.DrawItemText(u,h,d,e,i,c),e+=l.Width}},this.DrawItemText=function(t,e,i,a,n,r){var o=a;"center"==i?(o=a+r/2,this.Canvas.textAlign="center"):"right"==i?(o=a+r,this.Canvas.textAlign="right"):this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=e,t&&this.Canvas.fillText(t,o,n+this.RowHeight/2)},this.DrawMultiBar=function(t,e,i){if(!e.Source||!Ce.IsNonEmptyArray(e.Source))return!1;var a=e.Source[t.DataIndex];if(!a)return!1;if(!Ce.IsNonEmptyArray(a.Value))return!1;for(var n=i.Width-this.BarMergin.Left-this.BarMergin.Right,r=i.Left+this.BarMergin.Left,o=i.Top+this.RowMergin.Top+this.BarMergin.Top,s=i.Height-this.RowMergin.Top-this.RowMergin.Bottom-this.BarMergin.Top-this.BarMergin.Bottom,l=r+n,h=0;h<a.Value.length;++h){var u=a.Value[h];if(!(u<=0)){if(r>=l)break;var c=n*u;c<1&&(c=1),r+c>l&&(c=l-r);var d=h;Ce.IsNonEmptyArray(a.Color)&&h<a.Color.length&&(d=a.Color[h]),this.Canvas.fillStyle=Qe.DealList.FieldColor.Bar[d],this.Canvas.fillRect(r,o,c,s),r+=c}}return!0},this.DrawCenterBar=function(t,e,i){if(!e.Source||!Ce.IsNonEmptyArray(e.Source))return!1;var a=e.Source[t.DataIndex];if(!a)return!1;if(!Ce.IsNonEmptyArray(a.Value))return!1;for(var n=(i.Width-this.BarMergin.Left-this.BarMergin.Right)/2,r=i.Left+this.BarMergin.Left,o=r+n,s=i.Top+this.RowMergin.Top+this.BarMergin.Top,l=i.Height-this.RowMergin.Top-this.RowMergin.Bottom-this.BarMergin.Top-this.BarMergin.Bottom,h=0;h<a.Value.length&&h<2;++h){var u=a.Value[h];if(!(u<=0)){u>1&&(u=1);var c=n*u;c<1&&(c=1);var d=h;Ce.IsNonEmptyArray(a.Color)&&h<a.Color.length&&(d=a.Color[h]),this.Canvas.fillStyle=Qe.DealList.FieldColor.Bar[d],0==h?this.Canvas.fillRect(o,s,-c,l):this.Canvas.fillRect(o,s,c,l)}}},this.DrawCustomText=function(t,e,i,a,n,r){var o=this.GetEventCallback(b.ON_DRAW_DEAL_TEXT);if(!o||!o.Callback)return!1;var s={Data:e,DataIndex:a,ColumnIndex:n,ColumnInfo:t,Out:{Text:null,TextColor:null,TextAlign:null}};return o.Callback(o,s,this),!!s.Out.Text&&(r.Text=s.Out.Text,s.Out.TextColor&&(r.TextColor=s.Out.TextColor),s.Out.TextAlign&&(r.TextAlign=s.Out.TextAlign),!0)},this.GetVolColor=function(t,e){var i=this.GetEventCallback(b.ON_DRAW_DEAL_VOL_COLOR);if(i&&i.Callback){var a={Data:e,TextColor:null};if(i.Callback(i,a,this),a.TextColor)return a.TextColor}return t.TextColor},this.GetFontHeight=function(t,e){return F(this.Canvas,t,e)}};i.Frame=this.Frame,i.ChartBorder=this.Frame.ChartBorder,i.Canvas=this.Canvas,i.GetEventCallback=function(t){return e.GetEventCallback(t)},this.ChartPaint[0]=i,t&&(Ce.IsBool(t.IsSingleTable)&&(i.IsSingleTable=t.IsSingleTable),Ce.IsBool(t.IsShowHeader)&&(i.IsShowHeader=t.IsShowHeader),Ce.IsBool(t.IsShowLastPage)&&(this.IsShowLastPage=t.IsShowLastPage),Ce.IsNumber(t.BorderLine)&&(this.Frame.BorderLine=t.BorderLine));var a=!0,n=!0;t&&(!1===t.KeyDown&&(a=!1,g.Chart.Log("[JSDealChartContainer::Create] not register keydown event.")),!1===t.Wheel&&(n=!1,g.Chart.Log("[JSDealChartContainer::Create] not register wheel event."))),a&&this.UIElement.addEventListener("keydown",function(t){e.OnKeyDown(t)},!0),n&&this.UIElement.addEventListener("wheel",function(t){e.OnWheel(t)},!0)},this.Draw=function(){if(!(this.UIElement.width<=0||this.UIElement.height<=0)){this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height);var t=L();if(this.Canvas.lineWidth=t,this.ChartSplashPaint&&this.ChartSplashPaint.IsEnableSplash)return this.Frame.Draw({IsEnableSplash:this.ChartSplashPaint.IsEnableSplash}),void this.ChartSplashPaint.Draw();this.Frame.Draw(),this.Frame.DrawLogo();for(var e=0;e<this.ChartPaint.length;++e){(i=this.ChartPaint[e]).IsDrawFirst&&i.Draw()}for(e=0;e<this.ChartPaint.length;++e){var i;(i=this.ChartPaint[e]).IsDrawFirst||i.Draw()}}},this.ChangeSymbol=function(t,e){this.Symbol=t,this.Data=null,this.SourceData=null;var i=this.ChartPaint[0];i&&(i.Data=null),e&&Ce.IsNumber(e.TradeDate)&&(this.TradeDate=e.TradeDate),this.Symbol?this.RequestDealData():this.Draw()},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=null)},this.AutoUpdateEvent=function(t,e){var i=t?b.RECV_START_AUTOUPDATE:b.RECV_STOP_AUTOUPDATE;if(this.mapEvent.has(i)){var a=this,n=this.mapEvent.get(i),r={Stock:{Symbol:this.Symbol,Name:this.Name,DayCount:this.DayCount},Explain:e};t&&(r.Callback=function(t){a.RecvDealUpdateData(t)}),n.Callback(n,r,this)}},this.RequestDealData=function(){this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.Draw();var t=this;if(this.NetworkFilter){var e={Name:"JSDealChartContainer::RequestDealData",Explain:"成交明细",Request:{Data:{symbol:t.Symbol,tradeDate:t.TradeDate}},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvDealData(e),t.AutoUpdateEvent(!0,"JSDealChartContainer::RequestDealData"),t.AutoUpdate()}),1==e.PreventDefault)return}var i=Qe.CacheDomain+"/cache/dealday/today/"+this.Symbol+".json";C.HttpRequest({url:i,type:"get",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvDealData(e),t.AutoUpdate(1)},error:function(e,i){t.ChartSplashPaint.EnableSplash(!1),t.AutoUpdate()}})},this.RecvDealData=function(t){var e=fa.JsonDataToDealData(t);this.SourceData={DataOffset:0,Data:e},this.Data={DataOffset:0,Data:this.FilterData(this.CloneArray(e))},this.Symbol=t.symbol,this.Name=t.name;var i=this.ChartPaint[0];if(i.Data=this.Data,i.Symbol=this.Symbol,i.YClose=t.yclose,i.Open=t.open,this.IsShowLastPage){var a=i.GetPageSize(!0),n=e.length-a;n<0&&(n=0),this.Data.DataOffset=n}this.Draw()},this.RequestDealUpdateData=function(){var t=this;if(this.NetworkFilter){var e={Name:"JSDealChartContainer::RequestDealUpdateData",Explain:"增量成交明细",Request:{Data:{symbol:t.Symbol}},Self:this,PreventDefault:!1};if(this.Data&&Ce.IsNonEmptyArray(this.Data.Data)){var i=this.Data.Data[this.Data.Data.length-1];e.LastItem=i}if(this.NetworkFilter(e,function(e){t.RecvDealUpdateData(e),t.AutoUpdate()}),1==e.PreventDefault)return}},this.RecvDealUpdateData=function(t){var e=fa.JsonDataToDealData(t);Ce.IsNonEmptyArray(e)&&(1===t.UpdateType?(this.SourceData.Data=e,this.Data.Data=this.FilterData(this.CloneArray(e)),this.Data.DataOffset>=this.Data.Data.length&&(this.Data.DataOffset=0)):(this.AddDealData(this.SourceData,e),this.AddDealData(this.Data,this.FilterData(e))),this.Draw())},this.AddDealData=function(t,e){if(t.Data){var i=0,a=this.ChartPaint[0];a&&(i=a.GetPageSize());for(var n=0;n<e.length;++n)t.Data.push(e[n]),t.DataOffset+i<t.Data.length&&++t.DataOffset}else t.Data=e},this.AutoUpdate=function(t){if(this.CancelAutoUpdate(),this.IsAutoUpdate&&this.Symbol){var e=this,i=Ii.GetMarketStatus(this.Symbol);if(0!=i&&3!=i){var a=this.AutoUpdateFrequency;1==i?this.AutoUpdateTimer=setTimeout(function(){e.AutoUpdate()},a):2==i&&(this.AutoUpdateTimer=setTimeout(function(){e.RequestDealUpdateData()},a))}}},this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"JSDealChartContainer::StopAutoUpdate"),this.IsAutoUpdate&&(this.IsAutoUpdate=!1)},this.AddEventCallback=function(t){if(t&&t.event&&t.callback){var e={Callback:t.callback,Source:t};this.mapEvent.set(t.event,e)}},this.RemoveEventCallback=function(t){this.mapEvent.has(t)&&this.mapEvent.delete(t)},this.GetEventCallback=function(t){return this.mapEvent.has(t)?this.mapEvent.get(t):null},this.OnSize=function(){if(this.Frame){this.SetSizeChange(!0);var t=this.ChartPaint[0];if(t&&this.Data&&this.Data.DataOffset>0&&Ce.IsNonEmptyArray(this.Data.Data))t.GetPageSize(!0)+this.Data.DataOffset>=this.Data.Data.length&&this.GotoLastPage();this.Draw()}},this.SetSizeChange=function(t){var e=this.ChartPaint[0];e&&(e.SizeChange=t)},this.OnWheel=function(t){if(g.Chart.Log("[JSDealChartContainer::OnWheel]",t),(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash)&&this.Data&&Ce.IsNonEmptyArray(this.Data.Data)){var e=t.clientX-this.UIElement.getBoundingClientRect().left,i=t.clientY-this.UIElement.getBoundingClientRect().top;if(this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),this.Canvas.isPointInPath(e,i))if(this.ChartPaint[0]){var a=t.wheelDelta;Ce.IsObjectExist(t.wheelDelta)||(a=-.01*t.deltaY),a<0?this.GotoNextPage()&&this.Draw():a>0&&this.GotoPreviousPage()&&this.Draw(),t.preventDefault?t.preventDefault():t.returnValue=!1}}},this.OnKeyDown=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){switch(t.keyCode?t.keyCode:t.which){case 38:this.GotoPreviousPage()&&this.Draw();break;case 40:this.GotoNextPage()&&this.Draw()}t.preventDefault?t.preventDefault():t.returnValue=!1}},this.GotoNextPage=function(){if(!this.Data||!Ce.IsNonEmptyArray(this.Data.Data))return!1;var t=this.ChartPaint[0];if(!t)return!1;var e=t.GetPageSize();if(e>this.Data.Data.length)return!1;var i=this.Data.DataOffset+e;return i+e!=this.Data.Data.length-1&&(i+e>this.Data.Data.length?this.Data.DataOffset=this.Data.Data.length-e:this.Data.DataOffset=i,!0)},this.GotoPreviousPage=function(){if(!this.Data||!Ce.IsNonEmptyArray(this.Data.Data))return!1;var t=this.ChartPaint[0];if(!t)return!1;if(this.Data.DataOffset<=0)return!1;var e=t.GetPageSize(),i=this.Data.DataOffset;return(i-=e)<0&&(i=0),this.Data.DataOffset=i,!0},this.GotoLastPage=function(){var t=this.ChartPaint[0];if(t){var e=t.GetPageSize(!0),i=this.Data.Data.length-e;i<0&&(i=0),this.Data.DataOffset=i}},this.SetColumn=function(t,e){var i=this.ChartPaint[0];i&&(i.SetColumn(t),i.SizeChange=!0,e&&e.Redraw&&this.Draw())},this.ReloadResource=function(t){this.Frame.ReloadResource(t);for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.ReloadResource&&i.ReloadResource(t)}t&&t.Redraw&&(this.SetSizeChange(!0),this.Draw())}}ca.GetStyleConfig=function(t){switch(t){case ua.BLACK_ID:return{BGColor:"rgb(0,0,0)",TooltipBGColor:"rgb(255, 255, 255)",TooltipAlpha:.92,SelectRectBGColor:"rgba(1,130,212,0.06)",UpBarColor:"rgb(238,21,21)",DownBarColor:"rgb(25,158,0)",UnchagneBarColor:"rgb(228,228,228)",EmptyBarBGColor:"rgb(0,0,0)",Minute:{VolBarColor:null,PriceColor:"rgb(25,180,231)",AreaPriceColor:"rgba(63,158,255,.3)",AvPriceColor:"rgb(255,236,0)",PositionColor:"rgb(218,165,32)",VolTitleColor:"rgb(190,190,190)",Before:{BGColor:"rgba(105,105,105,0.5)",AvPriceColor:"rgb(248,248,255)",CloseIcon:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"}},After:{BGColor:"rgba(105,105,105,0.5)",AvPriceColor:"rgb(248,248,255)"}},DefaultTextColor:"rgb(101,104,112)",DefaultTextFont:14*L()+"px 微软雅黑",TitleFont:13*L()+"px 微软雅黑",IndexTitleColor:"rgb(101,104,112)",UpTextColor:"rgb(238,21,21)",DownTextColor:"rgb(25,158,0)",UnchagneTextColor:"rgb(101,104,112)",CloseLineColor:"rgb(178,34,34)",Title:{TradeIndexColor:"rgb(105,105,105)",ColorIndexColor:"rgb(112,128,144)",VolColor:"rgb(101,104,112)",AmountColor:"rgb(101,104,112)",DateTimeColor:"rgb(101,104,112)",SettingColor:"rgb(101,104,112)",NameColor:"rgb(101,104,112)",TurnoverRateColor:"rgb(101,104,112)",PositionColor:"rgb(101,104,112)"},FrameBorderPen:"rgba(236,236,236,0.13)",MultiDayBorderPen:"rgba(236,236,236,0.5)",FrameSplitPen:"rgba(236,236,236,0.13)",FrameSplitTextColor:"rgb(101,104,112)",FrameSplitTextFont:12*L()+"px 微软雅黑",FrameTitleBGColor:"rgb(0,0,0)",OverlayIndexTitleBGColor:"rgba(0,0,0,0.7)",Frame:{XBottomOffset:1*L(),PercentageText:{PriceColor:"rgb(101,104,112)",PercentageColor:"rgb(101,104,112)",SplitColor:"rgb(101,104,112)",Font:14*L()+"px 微软雅黑"}},FrameLatestPrice:{TextColor:"rgb(255,255,255)",UpBarColor:"rgb(238,21,21)",DownBarColor:"rgb(25,158,0)",UnchagneBarColor:"rgb(190,190,190)",BGAlpha:.6},CorssCursorBGColor:"rgb(43,54,69)",CorssCursorTextColor:"rgb(255,255,255)",CorssCursorTextFont:12*L()+"px 微软雅黑",CorssCursorHPenColor:"rgb(130,130,130)",CorssCursorVPenColor:"rgb(130,130,130)",CorssCursor:{RightButton:{BGColor:"rgb(43,54,69)",PenColor:"rgb(255,255,255)",Icon:{Text:"",Color:"rgb(255,255,255)",Family:"iconfont",Size:18}}},OrderFlow:{UpColor:{BG:"rgb(223,191,180)",Border:"rgb(196,84,86)"},DownColor:{BG:"rgb(176,212,184)",Border:"rgb(66,94,74)"},UnchagneColor:{BG:"rgb(216,221,177)",Border:"rgb(209,172,129)"},Text:{Color:"rgb(248,248,255)",Family:"Arial",FontMaxSize:16,MaxValue:"8888"},Line:{UpDownColor:"rgb(220,220,220)",MiddleColor:"rgb(211,211,211)"}},KLine:{MaxMin:{Font:12*L()+"px 微软雅黑",Color:"rgb(255,250,240)",RightArrow:"→",LeftArrow:"←",HighYOffset:0,LowYOffset:0},Info:{Investor:{ApiUrl:"/API/NewsInteract",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#1c65db"}},Announcement:{ApiUrl:"/API/ReportList",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#f5a521"},IconFont2:{Family:"iconfont",Text:"",HScreenText:"",Color:"#ed7520"}},Pforecast:{ApiUrl:"/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#986cad"}},Research:{ApiUrl:"/API/InvestorRelationsList",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#19b1b7"}},BlockTrading:{ApiUrl:"/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#f39f7c"}},TradeDetail:{ApiUrl:"/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#b22626"}}},NumIcon:{Color:"rgb(251,80,80)",Family:"iconfont",Text:["","","","","","","","","","","","","","","","","","","","",""]},TradeIcon:{Family:"iconfont",Buy:{Color:"rgb(255,15,4)",Text:"",HScreenText:""},Sell:{Color:"rgb(64,122,22)",Text:"",HScreenText:""}}},Index:{LineColor:["rgb(255,189,09)","rgb(22,198,255)","rgb(174,35,161)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"],NotSupport:{Font:"14px 微软雅黑",TextColor:"rgb(52,52,52)"}},ColorArray:["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"],Buttons:{CloseOverlayIndex:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"},CloseWindow:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"},ChangeIndex:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"},OverlayIndex:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"},ModifyIndexParam:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"},MaxMinWindow:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"},TitleWindow:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"}},DrawPicture:{LineColor:["rgb(255,255,0)"],PointColor:["rgb(228,228,228)","rgb(192,192,192)"]},TooltipPaint:{BGColor:"rgba(20,20,20,0.8)",BorderColor:"rgb(210,210,210)",TitleColor:"rgb(210,210,210)",TitleFont:13*L()+"px 微软雅黑",DateTimeColor:"rgb(210,210,210)",VolColor:"rgb(210,210,210)",AmountColor:"rgb(210,210,210)"},PCTooltipPaint:{BGColor:"rgba(20,20,20,0.8)",BorderColor:"rgb(210,210,210)",TitleColor:"rgb(210,210,210)",TitleFont:12*L()+"px 微软雅黑",DateTimeColor:"rgb(210,210,210)",VolColor:"rgb(161,154,3)",AmountColor:"rgb(161,154,3)"},MinuteInfo:{TextColor:"rgb(84,143,255)",Font:14*L()+"px 微软雅黑",PointColor:"rgb(38,113,254)",LineColor:"rgb(120,167,255)",TextBGColor:"rgba(255,255,255,1)"},DepthMapPaint:{LineColor:"rgba(255,185,15)",AreaColor:"rgba(255,185,15,0.8)",TextColor:"rgba(255,255,255)",TextBGColor:"rgb(43,54,69)"},StockChip:{InfoColor:"rgb(255,255,255)",DayInfoColor:"rgb(0,0,0)"},DepthChart:{BidColor:{Line:"rgb(82,176,123)",Area:"rgba(82,176,123,0.5)"},AskColor:{Line:"rgb(207,76,89)",Area:"rgba(207,76,89, 0.5)"},LineWidth:4},DepthCorss:{BidColor:{Line:"rgb(82,176,123)"},AskColor:{Line:"rgb(207,76,89)"},LineWidth:2,LineDash:[3,3],Tooltip:{BGColor:"rgba(54,54,54, 0.8)",TextColor:"rgb(203,215,224)",Border:{Top:5,Left:20,Bottom:5,Center:5},Font:14*L()+"px 微软雅黑",LineHeight:16}},ChartDrawVolProfile:{BGColor:"rgba(244,250,254,0.3)",BorderColor:"rgba(255,255,255)",VolLineColor:"rgb(232,5,9)",UpVolColor:"rgba(103,179,238, 0.24)",DownVolColor:"rgba(237,208,105,0.24)",AreaUpColor:"rgb(103,179,238,0.7)",AreaDonwColor:"rgba(237,208,105,0.7)",Text:{Color:"rgb(0,0,0)",Family:"Arial",FontMaxSize:18,FontMinSize:6}},RectSelect:{LineColor:"rgb(115,83,64)",LineWidth:1*L(),LineDotted:[3,3],AreaColor:"rgba(26,13,7,0.5)"},SelectedChart:{LineWidth:1,LineColor:"rgb(55,100,100)",Radius:4,MinSpace:200,BGColor:"rgb(255,255,255)"},DragMovePaint:{TextColor:"rgb(255,255,255)"},DealList:{BorderColor:"rgb(38,38,41)",Header:{Color:"RGB(245,245,245)",Mergin:{Left:5,Right:5,Top:4,Bottom:2},Font:{Size:12,Name:"微软雅黑"}},Row:{Mergin:{Top:2,Bottom:2},Font:{Size:15,Name:"微软雅黑"},BarMergin:{Top:2,Left:3,Right:3,Bottom:2}},FieldColor:{Vol:"rgb(192,192,0)",Time:"rgb(245,245,245)",Deal:"rgb(111,128,112)",Index:"rgb(245,245,245)",BarTitle:"rgb(245,245,245)",Text:"rgb(245,245,245)"},UpTextColor:"rgb(238,21,21)",DownTextColor:"rgb(25,158,0)",UnchagneTextColor:"rgb(228,228,228)"},Report:{BorderColor:"rgb(38,38,41)",SelectedColor:"rgb(49,48,56)",Header:{Color:"RGB(245,245,245)",SortColor:"rgb(255,0,0)",Mergin:{Left:5,Right:5,Top:4,Bottom:2},Font:{Size:12,Name:"微软雅黑"}},Item:{Mergin:{Top:2,Bottom:0,Left:5,Right:5},Font:{Size:15,Name:"微软雅黑"},BarMergin:{Top:2,Left:3,Right:3,Bottom:2},NameFont:{Size:14,Name:"微软雅黑"},SymbolFont:{Size:12,Name:"微软雅黑"}},FixedItem:{Font:{Size:15,Name:"微软雅黑"}},LimitBorder:{Color:"rgb(64,64,64)",Mergin:{Top:1,Bottom:1,Left:0,Right:0}},FieldColor:{Index:"rgb(245,245,245)",Symbol:"rgb(255,255,255)",Name:"rgb(255,255,255)",Amount:"rgb(2,226,244)",Vol:"rgb(192,192,0)",BarTitle:"rgb(245,245,245)",Text:"rgb(245,245,245)"},UpTextColor:"rgb(238,21,21)",DownTextColor:"rgb(25,158,0)",UnchagneTextColor:"rgb(228,228,228)",Tab:{Font:{Size:12,Name:"微软雅黑"},ScrollBarWidth:100,ButtonColor:"rgb(13,12,15)",BarColor:"rgb(48,48,48)",BorderColor:"rgb(48,48,48)",TabTitleColor:"rgb(153,153,153)",TabSelectedTitleColor:"rgb(255,255,255)",TabSelectedBGColor:"rgb(13,12,15)",TabMoveOnTitleColor:"rgb(255,255,255)",TabBGColor:"rgb(28,28,31)"},PageInfo:{Font:{Size:15,Name:"微软雅黑"},TextColor:"rgb(255,255,255)",BGColor:"rgba(49,48,56,0.8)",Mergin:{Left:5,Right:5,Top:4,Bottom:2}},DragRow:{Color:"rgba(255,250, 250,0.8)",TextColor:"rgba(0,0, 0, 0.8)",MoveRowColor:"rgb(135,206,250)",SrcRowColor:"rgb(49,48,56)"}}};case ua.WHITE_ID:return new Ze;default:return null}},da.Init=function(t){var e=new da(t);return e.OnSize(),e},fa.JsonDataToDealData=function(t){t.symbol;var e=[];if(!Ce.IsNonEmptyArray(t.detail))return e;for(var i=0;i<t.detail.length;++i){var a=t.detail[i],n={Time:a[0],Price:a[1],Vol:a[2],BS:a[4],Amount:a[3]};n.Source=a,a[5]&&(n.StrTime=a[5]),a[6]&&(n.ID=a[6]),e.push(n)}return e};var pa={TIME_ID:0,PRICE_ID:1,VOL_ID:2,DEAL_ID:3,BS_ID:4,UPDOWN_ID:5,STRING_TIME_ID:6,INDEX_ID:7,MULTI_BAR_ID:8,CENTER_BAR_ID:9,CUSTOM_TEXT_ID:10};function ma(t){this.DivElement=t,this.JSChartContainer,this.CanvasElement=document.createElement("canvas"),this.CanvasElement.className="jsreportlist-drawing",this.CanvasElement.id=P(),this.CanvasElement.setAttribute("tabindex",0),this.CanvasElement.style&&(this.CanvasElement.style.outline="none"),t.hasChildNodes()&&g.Chart.Log("[JSReportChart::JSReportChart] divElement hasChildNodes",t.childNodes),t.appendChild(this.CanvasElement),this.OnSize=function(){var t=parseInt(this.DivElement.style.height.replace("px",""));this.CanvasElement.height=t,this.CanvasElement.width=parseInt(this.DivElement.style.width.replace("px","")),this.CanvasElement.style.width=this.CanvasElement.width+"px",this.CanvasElement.style.height=this.CanvasElement.height+"px";var e=L();this.CanvasElement.height*=e,this.CanvasElement.width*=e,g.Chart.Log("[JSReportChart::OnSize] devicePixelRatio="+window.devicePixelRatio+", height="+this.CanvasElement.height+", width="+this.CanvasElement.width),this.JSChartContainer&&this.JSChartContainer.OnSize&&this.JSChartContainer.OnSize()},this.SetOption=function(t){var e=this.CreateJSReportChartContainer(t);if(!e)return!1;t.OnCreatedCallback&&t.OnCreatedCallback(e),this.JSChartContainer=e,this.DivElement.JSChart=this,t.Symbol&&(e.Symbol=t.Symbol),t.Name&&(e.Name=t.Name);var i={Callback:null};e.Symbol&&(i.Callback=function(){e.RequestMemberListData()}),e.RequestStockListData(i)},this.CreateJSReportChartContainer=function(t){var e=new function(t){this.ClassName="JSReportChartContainer",this.Frame,this.ChartPaint=[],this.ChartSplashPaint=null,this.LoadDataSplashTitle="数据加载中",this.SplashTitle={StockList:"下载码表中.....",MemberList:"下载成分中....."},this.Canvas=t.getContext("2d"),this.ShowCanvas=null,this.Symbol,this.Name,this.NetworkFilter,this.Data={XOffset:0,YOffset:0,Data:[]},this.SourceData={Data:[]},this.BlockData=new p.default,this.MapStockData=new p.default,this.FixedRowData={Data:[],Type:0,Symbol:[]},this.SortInfo={Field:-1,Sort:0},this.DragRow,this.EnableDragRow=!1,this.DragRowType=0,this.AutoDragScrollTimer=null,this.EnablePageScroll=!1,this.DragMove,this.mapEvent=new p.default,this.AutoUpdateTimer=null,this.AutoUpdateFrequency=15e3,this.DelayUpdateTimer=null,this.DelayUpdateFrequency=500,this.UIElement=t,this.LastPoint=new H,this.IsOnTouch=!1,this.TouchDrag,this.TouchMoveMinAngle=70,this.YStepPixel=5*L(),this.XStepPixel=10*L(),this.PageUpDownCycle=!0,this.DragPageCycle=!0,this.DragXScroll=null,this.IsDestroy=!1,this.ChartDestory=function(){this.IsDestroy=!0,this.StopAutoUpdate()},this.StopAutoDragScrollTimer=function(){g.Chart.Log("[JSReportChartContainer::StopAutoDragScrollTimer] stop "),this.EnablePageScroll=!1,null!=this.AutoDragScrollTimer&&(clearTimeout(this.AutoDragScrollTimer),this.AutoDragScrollTimer=null)},this.AutoScrollPage=function(t){var e=this;this.AutoDragScrollTimer=setTimeout(function(){e.ChartOperator_Temp_ScrollPage(t)},300)},this.ChartOperator_Temp_ScrollPage=function(t){if(this.EnablePageScroll){var e=this.GetReportChart();if(e){if(t>0){var i=e.GetCurrentPageStatus();if(i.IsEnd)return;this.MoveYOffset(t,!1),++t}else{if(!(t<0))return;if(this.Data.YOffset<=0)return;this.MoveYOffset(t,!1),--t}this.Draw(),this.EnablePageScroll&&this.AutoScrollPage(t)}}},this.ClearFixedRowData=function(){this.FixedRowData.Data=[],this.FixedRowData.Symbol=[]},this.SetFixedRowCount=function(t){var e=this.GetReportChart();e&&(e.FixedRowCount=t)},this.Create=function(t){var e=this;this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new we,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.IsEnableSplash=!0,this.Frame=new function(){this.ChartBorder,this.Canvas,this.BorderLine=null,this.BorderColor=Qe.Report.BorderColor,this.LogoTextColor=Qe.FrameLogo.TextColor,this.LogoTextFont=Qe.FrameLogo.Font,this.ReloadResource=function(t){this.BorderColor=Qe.Report.BorderColor,this.LogoTextColor=Qe.FrameLogo.TextColor,this.LogoTextFont=Qe.FrameLogo.Font},this.Draw=function(){var t=R(this.ChartBorder.GetLeft()),e=R(this.ChartBorder.GetTop()),i=R(this.ChartBorder.GetRight()),a=R(this.ChartBorder.GetBottom()),n=i-t,r=a-e;Ce.IsNumber(this.BorderLine)?(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.beginPath(),(1&this.BorderLine)>0&&(this.Canvas.moveTo(t,e),this.Canvas.lineTo(i,e)),(2&this.BorderLine)>0&&(this.Canvas.moveTo(t,a),this.Canvas.lineTo(i,a)),(4&this.BorderLine)>0&&(this.Canvas.moveTo(t,e),this.Canvas.lineTo(t,a)),(8&this.BorderLine)>0&&(this.Canvas.moveTo(i,e),this.Canvas.lineTo(i,a)),this.Canvas.stroke()):(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(t,e,n,r))},this.DrawLogo=function(){var t=Qe.FrameLogo.Text;if(Ce.IsString(t)){this.Canvas.fillStyle=this.LogoTextColor,this.Canvas.font=this.LogoTextFont,this.Canvas.textAlign="right",this.Canvas.textBaseline="bottom";var e=this.ChartBorder.GetRight()-30,i=this.ChartBorder.GetBottom()-5;this.Canvas.fillText(t,e,i)}}},this.Frame.ChartBorder=new W,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartSplashPaint.Frame=this.Frame;var i=new function(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="ChartReport",this.UIElement,this.IsDrawFirst=!1,this.GetEventCallback,this.GetStockDataCallback,this.GetBlockDataCallback,this.Data,this.FixedRowData,this.SortInfo,this.FixedColumn=2,this.FixedRowCount=0,this.IsShowHeader=!0,this.SizeChange=!0,this.SelectedModel=0,this.SelectedRow=-1,this.SelectedFixedRow=-1,this.IsDrawBorder=1,this.ShowSymbol=[],this.DragRow,this.Tab,this.UpColor=Qe.Report.UpTextColor,this.DownColor=Qe.Report.DownTextColor,this.UnchagneColor=Qe.Report.UnchagneTextColor,this.BorderColor=Qe.Report.BorderColor,this.SelectedColor=Qe.Report.SelectedColor,this.HeaderFontConfig={Size:Qe.Report.Header.Font.Size,Name:Qe.Report.Header.Font.Name},this.HeaderColor=Qe.Report.Header.Color,this.SortColor=Qe.Report.Header.SortColor,this.HeaderMergin={Left:Qe.Report.Header.Mergin.Left,Right:Qe.Report.Header.Mergin.Right,Top:Qe.Report.Header.Mergin.Top,Bottom:Qe.Report.Header.Mergin.Bottom},this.ItemFontConfig={Size:Qe.Report.Item.Font.Size,Name:Qe.Report.Item.Font.Name},this.ItemFixedFontConfg={Size:Qe.Report.FixedItem.Font.Size,Name:Qe.Report.FixedItem.Font.Name},this.ItemMergin={Left:Qe.Report.Item.Mergin.Left,Right:Qe.Report.Item.Mergin.Right,Top:Qe.Report.Item.Mergin.Top,Bottom:Qe.Report.Item.Mergin.Bottom},this.BarMergin={Top:Qe.Report.Item.BarMergin.Top,Left:Qe.Report.Item.BarMergin.Left,Right:Qe.Report.Item.BarMergin.Right,Bottom:Qe.Report.Item.BarMergin.Bottom},this.LimitBorderColor=Qe.Report.LimitBorder.Color,this.LimitMergin={Top:Qe.Report.LimitBorder.Mergin.Top,Left:Qe.Report.LimitBorder.Mergin.Left,Right:Qe.Report.LimitBorder.Mergin.Right,Bottom:Qe.Report.LimitBorder.Mergin.Bottom},this.DragRowColor=Qe.Report.DragRow.Color,this.DragRowTextColor=Qe.Report.DragRow.TextColor,this.DragMoveRowColor=Qe.Report.DragRow.MoveRowColor,this.DragSrcRowColor=Qe.Report.DragRow.SrcRowColor,this.ItemSymbolFontConfig={Size:Qe.Report.Item.SymbolFont.Size,Name:Qe.Report.Item.SymbolFont.Name},this.ItemNameFontConfg={Size:Qe.Report.Item.NameFont.Size,Name:Qe.Report.Item.NameFont.Name},this.HeaderFont=12*L()+"px 微软雅黑",this.ItemFont=15*L()+"px 微软雅黑",this.ItemFixedFont=15*L()+"px 微软雅黑",this.ItemSymbolFont=12*L()+"px 微软雅黑",this.ItemNameFont=15*L()+"px 微软雅黑",this.ItemNameHeight=0,this.RowCount=0,this.HeaderHeight=0,this.FixedRowHeight=0,this.RowHeight=0,this.BottomToolbarHeight=0,this.IsShowAllColumn=!1,this.Column=[{Type:ga.INDEX_ID,Title:"序号",TextAlign:"center",Width:null,TextColor:Qe.Report.FieldColor.Index,MaxText:"8888"},{Type:ga.SYMBOL_ID,Title:"代码",TextAlign:"left",Width:null,TextColor:Qe.Report.FieldColor.Symbol,MaxText:"888888"},{Type:ga.NAME_ID,Title:"名称",TextAlign:"left",Width:null,TextColor:Qe.Report.FieldColor.Name,MaxText:"擎擎擎擎"},{Type:ga.INCREASE_ID,Title:"涨幅%",TextAlign:"right",Width:null,MaxText:"-888.88"}],this.RectClient={},this.ReloadResource=function(t){this.UpColor=Qe.Report.UpTextColor,this.DownColor=Qe.Report.DownTextColor,this.UnchagneColor=Qe.Report.UnchagneTextColor,this.BorderColor=Qe.Report.BorderColor,this.SelectedColor=Qe.Report.SelectedColor,this.HeaderFontConfig={Size:Qe.Report.Header.Font.Size,Name:Qe.Report.Header.Font.Name},this.HeaderColor=Qe.Report.Header.Color,this.SortColor=Qe.Report.Header.SortColor,this.HeaderMergin={Left:Qe.Report.Header.Mergin.Left,Right:Qe.Report.Header.Mergin.Right,Top:Qe.Report.Header.Mergin.Top,Bottom:Qe.Report.Header.Mergin.Bottom},this.ItemFontConfig={Size:Qe.Report.Item.Font.Size,Name:Qe.Report.Item.Font.Name},this.ItemMergin={Left:Qe.Report.Item.Mergin.Left,Right:Qe.Report.Item.Mergin.Right,Top:Qe.Report.Item.Mergin.Top,Bottom:Qe.Report.Item.Mergin.Bottom},this.BarMergin={Top:Qe.Report.Item.BarMergin.Top,Left:Qe.Report.Item.BarMergin.Left,Right:Qe.Report.Item.BarMergin.Right,Bottom:Qe.Report.Item.BarMergin.Bottom},this.LimitBorderColor=Qe.Report.LimitBorder.Color,this.LimitMergin={Top:Qe.Report.LimitBorder.Mergin.Top,Left:Qe.Report.LimitBorder.Mergin.Left,Right:Qe.Report.LimitBorder.Mergin.Right,Bottom:Qe.Report.LimitBorder.Mergin.Bottom};for(var e=0;e<this.Column.length;++e){var i=this.Column[e];i.Type==ga.INDEX_ID?i.TextColor=Qe.Report.FieldColor.Index:i.Type==ga.SYMBOL_ID?i.TextColor=Qe.Report.FieldColor.Symbol:i.Type==ga.NAME_ID?i.TextColor=Qe.Report.FieldColor.Name:i.Type==ga.VOL_ID?i.TextColor=Qe.Report.FieldColor.Vol:i.Type==ga.BUY_VOL_ID?i.TextColor=Qe.Report.FieldColor.Vol:i.Type==ga.SELL_VOL_ID?i.TextColor=Qe.Report.FieldColor.Vol:i.Type==ga.AMOUNT_ID?i.TextColor=Qe.Report.FieldColor.Amount:i.Type==ga.VOL_IN_ID?i.TextColor=Qe.Report.DownTextColor:i.Type==ga.VOL_OUT_ID?i.TextColor=Qe.Report.UpTextColor:i.TextColor=Qe.Report.FieldColor.Text}this.Tab&&this.Tab.ReloadResource(t)},this.SetColumn=function(t){if(Ce.IsNonEmptyArray(t)){this.Column=[];for(var e=0;e<t.length;++e){var i=t[e],a=this.GetDefaultColunm(i.Type);if(a){if(i.Title&&(a.Title=i.Title),i.TextAlign&&(a.TextAlign=i.TextAlign),i.TextColor&&(a.TextColor=i.TextColor),i.MaxText&&(a.MaxText=i.MaxText),i.ID&&(a.ID=i.ID),Ce.IsNumber(i.Sort)&&(a.Sort=i.Sort),1!=i.Sort&&2!=i.Sort||(a.SortType=[1,2],Ce.IsNonEmptyArray(i.SortType)&&(a.SortType=i.SortType.slice())),i.Type==ga.CUSTOM_STRING_TEXT_ID){if(!Ce.IsNumber(i.DataIndex)&&!Ce.IsNumber(i.BlockIndex))continue;Ce.IsNumber(i.DataIndex)&&(a.DataIndex=i.DataIndex),Ce.IsNumber(i.BlockIndex)&&(a.BlockIndex=i.BlockIndex),a.IsDrawCallback=!1,Ce.IsBool(i.IsDrawCallback)&&(a.IsDrawCallback=i.IsDrawCallback)}else if(i.Type==ga.CUSTOM_NUMBER_TEXT_ID){if(!Ce.IsNumber(i.DataIndex)&&!Ce.IsNumber(i.BlockIndex))continue;Ce.IsNumber(i.DataIndex)&&(a.DataIndex=i.DataIndex),Ce.IsNumber(i.BlockIndex)&&(a.BlockIndex=i.BlockIndex),a.Decimal=2,a.FormatType=0,a.ColorType=0,a.IsDrawCallback=!1,Ce.IsNumber(i.Decimal)&&(a.Decimal=i.Decimal),Ce.IsNumber(i.FormatType)&&(a.FormatType=i.FormatType),Ce.IsNumber(i.ColorType)&&(a.ColorType=i.ColorType),Ce.IsBool(i.IsDrawCallback)&&(a.IsDrawCallback=i.IsDrawCallback)}else if(i.Type==ga.CUSTOM_DATETIME_TEXT_ID){if(!Ce.IsNumber(i.DataIndex)&&!Ce.IsNumber(i.BlockIndex))continue;Ce.IsNumber(i.DataIndex)&&(a.DataIndex=i.DataIndex),Ce.IsNumber(i.BlockIndex)&&(a.BlockIndex=i.BlockIndex),a.FormatType=0,a.ValueType=0,a.IsDrawCallback=!1,Ce.IsNumber(i.FormatType)&&(a.FormatType=i.FormatType),Ce.IsNumber(i.ValueType)&&(a.FormatType=i.ValueType),Ce.IsBool(i.IsDrawCallback)&&(a.IsDrawCallback=i.IsDrawCallback)}this.Column.push(a)}}}},this.GetXScrollPos=function(){return this.Data.XOffset},this.GetXScrollRange=function(){var t=this.Column.length-this.FixedColumn-3;return t<0?0:t},this.GetDefaultColunm=function(t){for(var e=[{Type:ga.INDEX_ID,Title:"序号",TextAlign:"center",Width:null,TextColor:Qe.Report.FieldColor.Index,MaxText:"8888"},{Type:ga.SYMBOL_ID,Title:"代码",TextAlign:"left",Width:null,TextColor:Qe.Report.FieldColor.Symbol,MaxText:"888888"},{Type:ga.NAME_ID,Title:"名称",TextAlign:"left",Width:null,TextColor:Qe.Report.FieldColor.Name,MaxText:"擎擎擎擎0"},{Type:ga.SYMBOL_NAME_ID,Title:"股票名称",TextAlign:"left",Width:null,TextColor:Qe.Report.FieldColor.Name,MaxText:"擎擎擎擎0"},{Type:ga.INCREASE_ID,Title:"涨幅%",TextAlign:"right",Width:null,MaxText:"-888.88"},{Type:ga.PRICE_ID,Title:"现价",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:ga.UPDOWN_ID,Title:"涨跌",TextAlign:"right",Width:null,MaxText:"-888.88"},{Type:ga.AMPLITUDE_ID,Title:"振幅%",TextAlign:"right",Width:null,MaxText:"888.88"},{Type:ga.BUY_PRICE_ID,Title:"买价",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:ga.SELL_PRICE_ID,Title:"卖价",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:ga.AVERAGE_PRICE_ID,Title:"均价",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:ga.OPEN_ID,Title:"今开",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:ga.HIGH_ID,Title:"最高",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:ga.LOW_ID,Title:"最低",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:ga.YCLOSE_ID,Title:"昨收",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:ga.VOL_ID,Title:"总量",TextAlign:"right",TextColor:Qe.Report.FieldColor.Vol,Width:null,MaxText:"8888.8擎"},{Type:ga.AMOUNT_ID,Title:"总金额",TextAlign:"right",TextColor:Qe.Report.FieldColor.Amount,Width:null,MaxText:"8888.8擎"},{Type:ga.EXCHANGE_RATE_ID,Title:"换手%",TextAlign:"right",TextColor:Qe.Report.FieldColor.Text,Width:null,MaxText:"88.88"},{Type:ga.OUTSTANDING_SHARES_ID,Title:"流通股本",TextAlign:"right",TextColor:Qe.Report.FieldColor.Text,Width:null,MaxText:"8888.8擎"},{Type:ga.TOTAL_SHARES_ID,Title:"总股本",TextAlign:"right",TextColor:Qe.Report.FieldColor.Text,Width:null,MaxText:"8888.8擎"},{Type:ga.CIRC_MARKET_VALUE_ID,Title:"流通市值",TextAlign:"right",TextColor:Qe.Report.FieldColor.Text,Width:null,MaxText:"8888.8擎"},{Type:ga.MARKET_VALUE_ID,Title:"总市值",TextAlign:"right",TextColor:Qe.Report.FieldColor.Text,Width:null,MaxText:"8888.8擎"},{Type:ga.VOL_IN_ID,Title:"内盘",TextAlign:"right",TextColor:Qe.Report.DownTextColor,Width:null,MaxText:"8888.8擎"},{Type:ga.VOL_OUT_ID,Title:"外盘",TextAlign:"right",TextColor:Qe.Report.UpTextColor,Width:null,MaxText:"8888.8擎"},{Type:ga.BUY_VOL_ID,Title:"买量",TextAlign:"right",TextColor:Qe.Report.FieldColor.Vol,Width:null,MaxText:"8888.8擎"},{Type:ga.SELL_VOL_ID,Title:"卖量",TextAlign:"right",TextColor:Qe.Report.FieldColor.Vol,Width:null,MaxText:"8888.8擎"},{Type:ga.CUSTOM_STRING_TEXT_ID,Title:"自定义",TextAlign:"center",Width:null,TextColor:Qe.Report.FieldColor.Text,MaxText:"擎擎擎擎擎"},{Type:ga.CUSTOM_NUMBER_TEXT_ID,Title:"自定义",TextAlign:"center",Width:null,TextColor:Qe.Report.FieldColor.Text,MaxText:"擎擎擎擎擎"},{Type:ga.CUSTOM_DATETIME_TEXT_ID,Title:"自定义",TextAlign:"center",Width:null,TextColor:Qe.Report.FieldColor.Text,MaxText:"9999-99-99"}],i=0;i<e.length;++i){var a=e[i];if(a.Type==t)return a}return null},this.Draw=function(){if(this.ShowSymbol=[],this.SizeChange?this.CalculateSize():this.UpdateCacheData(),this.Canvas.save(),this.Canvas.beginPath(),this.Canvas.rect(this.RectClient.Left,this.RectClient.Top,this.RectClient.Right-this.RectClient.Left,this.RectClient.Bottom-this.RectClient.Top),this.Canvas.clip(),this.DrawHeader(),this.DrawBody(),this.Canvas.restore(),this.Tab&&this.BottomToolbarHeight>0){var t=this.ChartBorder.GetBottom();this.Tab.DrawTab(this.RectClient.Left,t-this.BottomToolbarHeight,this.RectClient.Right,t),this.Tab.DrawScrollbar(this.RectClient.Left,t-this.BottomToolbarHeight,this.RectClient.Right,t)}this.DrawBorder(),this.DrawDragRow(),this.SizeChange=!1},this.UpdateCacheData=function(){this.RectClient.Left=this.ChartBorder.GetLeft(),this.RectClient.Right=this.ChartBorder.GetRight(),this.RectClient.Top=this.ChartBorder.GetTop(),this.RectClient.Bottom=this.ChartBorder.GetBottom()-this.BottomToolbarHeight},this.GetPageSize=function(t){t&&this.CalculateSize();var e=this.RowCount;return e},this.GetCurrentPageStatus=function(){var t={Start:this.Data.YOffset,PageSize:this.RowCount,IsEnd:!1,SelectedRow:this.SelectedRow,IsSinglePage:!1,DataCount:0};return Ce.IsNonEmptyArray(this.Data.Data)?(t.End=this.Data.YOffset+this.RowCount-1,t.IsSinglePage=this.Data.Data.length<=this.RowCount,t.DataCount=this.Data.Data.length,t.End>=this.Data.Data.length-1&&(t.IsEnd=!0),t.End>=this.Data.Data.length&&(t.End=this.Data.Data.length-1)):(t.Star=0,t.End=0,t.IsEnd=!0,t.IsSinglePage=!0),t},this.CalculateSize=function(){this.Tab&&this.Tab.IsShow?(this.Tab.CalculateSize(),this.BottomToolbarHeight=this.Tab.Height):this.BottomToolbarHeight=0,this.UpdateCacheData();var t=L();this.HeaderFont=this.HeaderFontConfig.Size*t+"px "+this.HeaderFontConfig.Name,this.ItemFont=this.ItemFontConfig.Size*t+"px "+this.ItemFontConfig.Name,this.ItemFixedFont=this.ItemFixedFontConfg.Size*t+"px "+this.ItemFixedFontConfg.Name,this.ItemSymbolFont=this.ItemSymbolFontConfig.Size*t+"px "+this.ItemSymbolFontConfig.Name,this.ItemNameFont=this.ItemNameFontConfg.Size*t+"px "+this.ItemNameFontConfg.Name,this.RowHeight=this.GetFontHeight(this.ItemFont,"擎")+this.ItemMergin.Top+this.ItemMergin.Bottom,this.FixedRowHeight=this.GetFontHeight(this.ItemFixedFont,"擎")+this.ItemMergin.Top+this.ItemMergin.Bottom,this.Canvas.font=this.ItemFont;for(var e=0,i=0;i<this.Column.length;++i){var a=this.Column[i];if(a.Type==ga.SYMBOL_NAME_ID){this.Canvas.font=this.ItemNameFont;var n=this.Canvas.measureText(a.MaxText).width,r=this.GetFontHeight(this.ItemNameFont,"擎");this.ItemNameHeight=r,this.Canvas.font=this.ItemSymbolFont;var o=this.Canvas.measureText(a.MaxText).width,s=this.GetFontHeight(this.ItemSymbolFont,"擎");this.Canvas.font=this.ItemFont,e=Math.max(n,o),a.Width=e+4+this.ItemMergin.Left+this.ItemMergin.Right;var l=r+s+this.ItemMergin.Top+this.ItemMergin.Bottom;l>this.RowHeight&&(this.RowHeight=l),l>this.FixedRowHeight&&(this.FixedRowHeight=l)}else e=this.Canvas.measureText(a.MaxText).width,a.Width=e+4+this.ItemMergin.Left+this.ItemMergin.Right}this.Canvas.font=this.HeaderFont;for(var i=0;i<this.Column.length;++i){var a=this.Column[i];if(a.Title&&!(a.Title.length<=0)){var h=a.Title;a.Sort>0&&(h+="↓"),e=this.Canvas.measureText(h).width,e+=4+this.HeaderMergin.Left+this.HeaderMergin.Right,a.Width<e&&(a.Width=e)}}this.HeaderHeight=this.GetFontHeight(this.HeaderFont,"擎")+this.HeaderMergin.Top+this.HeaderMergin.Bottom,this.IsShowHeader||(this.HeaderHeight=0),this.FixedRowCount<=0&&(this.FixedRowHeight=0),this.RowCount=parseInt((this.RectClient.Bottom-this.RectClient.Top-this.HeaderHeight-this.FixedRowHeight*this.FixedRowCount)/this.RowHeight);for(var u=0,c=this.RectClient.Right-this.RectClient.Left,i=0;i<this.Column.length;++i){var a=this.Column[i];u+=a.Width}this.IsShowAllColumn=u<c},this.DrawHeader=function(){if(this.IsShowHeader){var t=this.RectClient.Left,e=this.RectClient.Top,i=e+this.HeaderMergin.Top+(this.HeaderHeight-this.HeaderMergin.Top-this.HeaderMergin.Bottom)/2;this.Canvas.font=this.HeaderFont,this.Canvas.fillStyle=this.HeaderColor;for(var a=t,n=0;n<this.FixedColumn&&n<this.Column.length;++n){var r=this.Column[n],o=r.Width,s=o-this.HeaderMergin.Left-this.HeaderMergin.Right,l=a+this.HeaderMergin.Left;this.SortInfo&&this.SortInfo.Field==n&&this.SortInfo.Sort>0?this.DrawSortHeader(r.Title,r.TextAlign,l,i,s,this.SortInfo.Sort):this.DrawText(r.Title,r.TextAlign,l,i,s),a+=r.Width}for(var n=this.FixedColumn+this.Data.XOffset;n<this.Column.length;++n){var r=this.Column[n],o=r.Width,s=o-this.HeaderMergin.Left-this.HeaderMergin.Right,l=a+this.HeaderMergin.Left;this.SortInfo&&this.SortInfo.Field==n&&this.SortInfo.Sort>0?this.DrawSortHeader(r.Title,r.TextAlign,l,i,s,this.SortInfo.Sort):this.DrawText(r.Title,r.TextAlign,l,i,s),a+=r.Width}}},this.DrawText=function(t,e,i,a,n){"center"==e?(i+=n/2,this.Canvas.textAlign="center"):"right"==e?(i+=n,this.Canvas.textAlign="right"):this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(t,i,a)},this.DrawSortHeader=function(t,e,i,a,n,r){var o=1==r?"↓":"↑",s=this.Canvas.measureText(o).width,l=this.Canvas.measureText(t).width+2;this.Canvas.textBaseline="middle",this.Canvas.textAlign="left","center"==e?i=i+n/2-(s+l)/2:"right"==e&&(i=i+n-s-l),this.Canvas.fillText(t,i,a),this.Canvas.fillStyle=this.SortColor,this.Canvas.fillText(o,i+l,a),this.Canvas.fillStyle=this.HeaderColor},this.DrawBorder=function(){if(this.IsDrawBorder){var t=this.RectClient.Left,e=this.RectClient.Right,i=this.RectClient.Top;this.RectClient.Bottom;this.Canvas.strokeStyle=this.BorderColor,this.Canvas.beginPath(),this.Canvas.moveTo(t,R(i+this.HeaderHeight)),this.Canvas.lineTo(e,R(i+this.HeaderHeight));for(var a=i+this.HeaderHeight+this.RowHeight,n=a,r=0;r<this.FixedRowCount;++r){var o=R(a);this.Canvas.moveTo(t,o),this.Canvas.lineTo(e,o),n=a,a+=this.FixedRowHeight}for(var a=i+this.HeaderHeight+this.RowHeight+this.FixedRowHeight*this.FixedRowCount,n=a,r=0;r<this.RowCount;++r){var o=R(a);this.Canvas.moveTo(t,o),this.Canvas.lineTo(e,o),n=a,a+=this.RowHeight}for(var s=t,r=0;r<this.FixedColumn&&r<this.Column.length;++r){var l=this.Column[r],h=R(s+l.Width);this.Canvas.moveTo(h,i),this.Canvas.lineTo(h,n),s+=l.Width}for(var r=this.FixedColumn+this.Data.XOffset;r<this.Column.length;++r){var l=this.Column[r],h=R(s+l.Width);this.Canvas.moveTo(h,i),this.Canvas.lineTo(h,n),s+=l.Width}this.Canvas.stroke()}},this.DrawBody=function(){if(this.Data&&Ce.IsNonEmptyArray(this.Data.Data)){this.Canvas.font=this.ItemFont;var t=this.RectClient.Top+this.HeaderHeight,e=this.RectClient.Left,i=this.RectClient.Right-this.RectClient.Left,a=t;this.Canvas.font=this.ItemFixedFont;for(var n=0;n<this.FixedRowCount;++n)this.SelectedFixedRow==n&&(this.Canvas.fillStyle=this.SelectedColor,this.Canvas.fillRect(e,a,i,this.FixedRowHeight)),1==this.FixedRowData.Type?this.DrawFixedSymbolRow(a,n):this.DrawFixedRow(a,n),a+=this.FixedRowHeight;a=t+this.FixedRowHeight*this.FixedRowCount,this.Canvas.font=this.ItemFont;for(var n=this.Data.YOffset,r=0;n<this.Data.Data.length&&r<this.RowCount;++n,++r){var o=this.Data.Data[n],s=!1;if(0==this.SelectedModel?r==this.SelectedRow&&(s=!0):n==this.SelectedRow&&(s=!0),this.DragRow){if(this.DragRow.Data){var l=this.DragRow.Data.Row.DataIndex;l==n&&(this.Canvas.fillStyle=this.DragSrcRowColor,this.Canvas.fillRect(e,a,i,this.RowHeight))}if(this.DragRow.MoveRow){var l=this.DragRow.MoveRow.Data.DataIndex;l==n&&(this.Canvas.fillStyle=this.DragMoveRowColor,this.Canvas.fillRect(e,a,i,this.RowHeight))}s=!1}s&&(this.Canvas.fillStyle=this.SelectedColor,this.Canvas.fillRect(e,a,i,this.RowHeight)),this.DrawRow(o,a,n),this.ShowSymbol.push({Index:n,Symbol:o}),a+=this.RowHeight}}},this.DrawFixedSymbolRow=function(t,e){this.RectClient.Left,this.RectClient.Right;if(this.FixedRowData&&Ce.IsNonEmptyArray(this.FixedRowData.Symbol)){var i=this.FixedRowData.Symbol[e];i&&(this.DrawRow(i,t,e,1),this.ShowSymbol.push({Index:e,Symbol:i,RowType:1}))}},this.DrawFixedRow=function(t,e){for(var i=this.RectClient.Left,a=this.RectClient.Right,n=0;n<this.FixedColumn&&n<this.Column.length;++n){var r=this.Column[n];if(this.DrawFixedItem(e,n,r,i,t),(i+=r.Width)>=a)break}for(var n=this.FixedColumn+this.Data.XOffset;n<this.Column.length;++n){var r=this.Column[n];if(this.DrawFixedItem(e,n,r,i,t),(i+=r.Width)>=a)break}},this.DrawFixedItem=function(t,e,i,a,n){var r=a+this.ItemMergin.Left,o=i.Width-this.ItemMergin.Left-this.ItemMergin.Right,s={Text:null,TextColor:i.TextColor,TextAlign:i.TextAlign};if(this.GetFixedRowTextDrawInfo(t,e,i,s))this.DrawItemText(s.Text,s.TextColor,s.TextAlign,r,n,o);else if(this.FixedRowData&&Ce.IsNonEmptyArray(this.FixedRowData.Data)){var l=this.FixedRowData.Data,h=l[t];if(Ce.IsNonEmptyArray(h)){var u=h[e];u&&u.Text&&(s.Text=u.Text,u.Color&&(s.TextColor=u.Color),u.TextAlign&&(s.TextAlign=u.TextAlign),this.DrawItemText(s.Text,s.TextColor,s.TextAlign,r,n,o))}}},this.DrawRow=function(t,e,i,a){var n=this.RectClient.Left,r=this.RectClient.Right,o={Symbol:t,Stock:null,Block:null};this.GetStockDataCallback&&(o.Stock=this.GetStockDataCallback(t)),this.GetBlockDataCallback&&(o.Block=this.GetBlockDataCallback(t)),o.Decimal=Ni(t);for(var s=0;s<this.FixedColumn&&s<this.Column.length;++s){var l=this.Column[s];if(this.DrawItem(i,o,l,n,e,a),(n+=l.Width)>=r)break}for(var s=this.FixedColumn+this.Data.XOffset;s<this.Column.length;++s){var l=this.Column[s];if(this.DrawItem(i,o,l,n,e,a),(n+=l.Width)>=r)break}},this.DrawItem=function(t,e,i,a,n,r){i.Width;var o=a+this.ItemMergin.Left,s=i.Width-this.ItemMergin.Left-this.ItemMergin.Right,l=e.Stock,h={Text:null,TextColor:i.TextColor,TextAlign:i.TextAlign};if(i.Type==ga.INDEX_ID){if(1==r)return;h.Text=(t+1).toString()}else if(i.Type==ga.SYMBOL_ID)l&&l.Symbol?h.Text=l.Symbol:h.Text=e.Symbol;else if(i.Type==ga.SYMBOL_NAME_ID)this.DrawSymbolName(e,i,a,n,r);else if(i.Type==ga.NAME_ID)l&&l.Name&&(h.Text=this.TextEllipsis(l.Name,s,i.MaxText),h.TextColor=this.GetNameColor(i,e.Symbol,r));else if(i.Type==ga.PRICE_ID)l&&this.GetPriceDrawInfo(l.Price,l,e,h);else if(i.Type==ga.OPEN_ID)l&&(this.DrawLimitPriceBorder(l.Open,l,a,n,i.Width),this.GetPriceDrawInfo(l.Open,l,e,h));else if(i.Type==ga.HIGH_ID)l&&(this.DrawLimitPriceBorder(l.High,l,a,n,i.Width),this.GetPriceDrawInfo(l.High,l,e,h));else if(i.Type==ga.LOW_ID)l&&(this.DrawLimitPriceBorder(l.Low,l,a,n,i.Width),this.GetPriceDrawInfo(l.Low,l,e,h));else if(i.Type==ga.YCLOSE_ID)l&&this.GetPriceDrawInfo(l.YClose,l,e,h);else if(i.Type==ga.BUY_PRICE_ID)l&&this.GetPriceDrawInfo(l.BuyPrice,l,e,h);else if(i.Type==ga.SELL_PRICE_ID)l&&this.GetPriceDrawInfo(l.SellPrice,l,e,h);else if(i.Type==ga.AVERAGE_PRICE_ID)l&&this.GetPriceDrawInfo(l.AvPrice,l,e,h);else if(i.Type==ga.EXCHANGE_RATE_ID)l&&Ce.IsNumber(l.Exchange)&&(h.Text=l.Exchange.toFixed(2));else if(i.Type==ga.BUY_VOL_ID)l&&Ce.IsNumber(l.BuyVol)&&(h.Text=this.FormatVolString(l.BuyVol));else if(i.Type==ga.SELL_VOL_ID)l&&Ce.IsNumber(l.SellVol)&&(h.Text=this.FormatVolString(l.SellVol));else if(i.Type==ga.VOL_ID)l&&Ce.IsNumber(l.Vol)&&(h.Text=this.FormatVolString(l.Vol));else if(i.Type==ga.VOL_IN_ID)l&&Ce.IsNumber(l.VolIn)&&(h.Text=this.FormatVolString(l.VolIn));else if(i.Type==ga.VOL_OUT_ID)l&&Ce.IsNumber(l.VolOut)&&(h.Text=this.FormatVolString(l.VolOut));else if(i.Type==ga.TOTAL_SHARES_ID)l&&Ce.IsNumber(l.TotalShares)&&(h.Text=this.FormatVolString(l.TotalShares));else if(i.Type==ga.OUTSTANDING_SHARES_ID)l&&Ce.IsNumber(l.OutShares)&&(h.Text=this.FormatVolString(l.OutShares));else if(i.Type==ga.CIRC_MARKET_VALUE_ID||i.Type==ga.MARKET_VALUE_ID||i.Type==ga.AMOUNT_ID){var u=Ca.get(i.Type);l&&Ce.IsNumber(l[u])&&(h.Text=this.FormatVolString(l[u]))}else if(i.Type==ga.INCREASE_ID||i.Type==ga.AMPLITUDE_ID||i.Type==ga.UPDOWN_ID){var u=Ca.get(i.Type);if(l&&Ce.IsNumber(l[u])){var c=l[u];h.Text=c.toFixed(2),h.TextColor=this.GetUpDownColor(c,0)}}else i.Type==ga.CUSTOM_STRING_TEXT_ID?this.GetCustomStringDrawInfo(e,i,h):i.Type==ga.CUSTOM_NUMBER_TEXT_ID?this.GetCustomNumberDrawInfo(e,i,h):i.Type==ga.CUSTOM_DATETIME_TEXT_ID&&this.GetCustomDateTimeDrawInfo(e,i,h);3==r&&(h.TextColor=this.DragRowTextColor),this.DrawItemText(h.Text,h.TextColor,h.TextAlign,o,n,s)},this.DrawSymbolName=function(t,e,i,a,n){var r,o=t.Stock,s=t.Symbol;if(o&&(s=o.Symbol,r=o.Name),s||r){var l=a+this.ItemMergin.Top+this.ItemNameHeight,h=i+this.ItemMergin.Left,u=h,c=e.Width-this.ItemMergin.Left-this.ItemMergin.Right,d=e.TextAlign;"center"==d?(u=h+c/2,this.Canvas.textAlign="center"):"right"==d?(u=h+c-2,this.Canvas.textAlign="right"):(u+=2,this.Canvas.textAlign="left");var f=this.GetNameColor(e,s,n),p=r;p&&(this.Canvas.textBaseline="ideographic",this.Canvas.fillStyle=f,this.Canvas.font=this.ItemNameFont,(p=this.TextEllipsis(p,c,e.MaxText))&&this.Canvas.fillText(p,u,l)),(p=s)&&(this.Canvas.textBaseline="top",this.Canvas.font=this.ItemSymbolFont,this.Canvas.fillStyle=f,this.Canvas.fillText(p,u,l)),this.Canvas.font=this.ItemFont}},this.DrawLimitPriceBorder=function(t,e,i,a,n){if(Ce.IsNumber(t)&&e){var r=!1;if(Ce.IsNumber(e.LimitHigh)&&t>=e.LimitHigh&&(r=!0),Ce.IsNumber(e.LimitLow)&&t<=e.LimitLow&&(r=!0),r){var o=i+this.ItemMergin.Left+this.LimitMergin.Left,s=n-this.ItemMergin.Left-this.ItemMergin.Right-this.LimitMergin.Left-this.LimitMergin.Right,l=a+this.ItemMergin.Top+this.LimitMergin.Top,h=this.RowHeight-this.ItemMergin.Top-this.ItemMergin.Bottom-this.LimitMergin.Top-this.LimitMergin.Bottom;this.Canvas.strokeStyle=this.LimitBorderColor,this.Canvas.strokeRect(R(o),R(l),k(s),k(h))}}},this.GetExtendData=function(t,e){if(Ce.IsNumber(e.DataIndex)){if(!t.Stock||!t.Stock.ExtendData)return null;if(e.DataIndex<0)return;return t.Stock.ExtendData[e.DataIndex]}if(Ce.IsNumber(e.BlockIndex)){if(!t.Block)return;if(e.BlockIndex<0)return;return t.Block[e.BlockIndex]}return null},this.GetCustomStringDrawInfo=function(t,e,i){var a=this.GetExtendData(t,e);Ce.IsString(a)&&(e.IsDrawCallback?this.GetCustomTextDrawInfo(e,t.Symbol,a,i,t):i.Text=a)},this.GetCustomNumberDrawInfo=function(t,e,i){var a=this.GetExtendData(t,e);if(Ce.IsNumber(a))if(e.IsDrawCallback)this.GetCustomTextDrawInfo(e,t.Symbol,a,i,t);else{switch(e.FormatType){case 1:i.Text=a.toFixed(e.Decimal);break;case 2:i.Text=Ce.FormatValueThousandsString(a,e.Decimal);break;case 3:i.Text=this.FormatVolString(a);break;default:i.Text=Ce.FormatValueString(a,e.Decimal)}switch(e.ColorType){case 1:i.TextColor=this.GetUpDownColor(a,0);break;case 2:Ce.IsNumber(t.Stock.YClose)?i.TextColor=this.GetUpDownColor(a,t.Stock.YClose):i.TextColor=this.UnchagneColor}}},this.GetCustomDateTimeDrawInfo=function(t,e,i){var a=this.GetExtendData(t,e);Ce.IsNumber(a)&&(e.IsDrawCallback?this.GetCustomTextDrawInfo(e,t.Symbol,a,i,t):0==e.ValueType&&(1==e.FormatType?i.Text=Ce.FormatDateString(a,"YYYY/MM/DD"):i.Text=Ce.FormatDateString(a)))},this.GetPriceDrawInfo=function(t,e,i,a){if(!Ce.IsNumber(t))return!1;a.Text=t.toFixed(i.Decimal),Ce.IsNumber(e.YClose)?a.TextColor=this.GetUpDownColor(t,e.YClose):a.TextColor=this.UnchagneColor},this.GetUpDownColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor},this.FormatVolString=function(t,e){return Ce.FormatVolString(t,e)},this.DrawItemText=function(t,e,i,a,n,r){if(t){var o=a;"center"==i?(o=a+r/2,this.Canvas.textAlign="center"):"right"==i?(o=a+r-2,this.Canvas.textAlign="right"):(o+=2,this.Canvas.textAlign="left"),this.Canvas.textBaseline="middle",this.Canvas.fillStyle=e,this.Canvas.fillText(t,o,n+this.ItemMergin.Top+this.RowHeight/2)}},this.TextEllipsis=function(t,e,i){if(!t)return null;if(t.length<i.length)return t;var a=i.length-3;if(a<0)return null;for(var n=t.slice(0,a),r=a;r<t.length;++r){var o=n+t[r]+"...",s=this.Canvas.measureText(o).width;if(s>e){n+="...";break}n+=t[r]}return n},this.DrawMultiBar=function(t,e,i){if(!e.Source||!Ce.IsNonEmptyArray(e.Source))return!1;var a=e.Source[t.DataIndex];if(!a)return!1;if(!Ce.IsNonEmptyArray(a.Value))return!1;for(var n=i.Width-this.BarMergin.Left-this.BarMergin.Right,r=i.Left+this.BarMergin.Left,o=i.Top+this.RowMergin.Top+this.BarMergin.Top,s=i.Height-this.RowMergin.Top-this.RowMergin.Bottom-this.BarMergin.Top-this.BarMergin.Bottom,l=r+n,h=0;h<a.Value.length;++h){var u=a.Value[h];if(!(u<=0)){if(r>=l)break;var c=n*u;c<1&&(c=1),r+c>l&&(c=l-r);var d=h;Ce.IsNonEmptyArray(a.Color)&&h<a.Color.length&&(d=a.Color[h]),this.Canvas.fillStyle=Qe.DealList.FieldColor.Bar[d],this.Canvas.fillRect(r,o,c,s),r+=c}}return!0},this.DrawCenterBar=function(t,e,i){if(!e.Source||!Ce.IsNonEmptyArray(e.Source))return!1;var a=e.Source[t.DataIndex];if(!a)return!1;if(!Ce.IsNonEmptyArray(a.Value))return!1;for(var n=(i.Width-this.BarMergin.Left-this.BarMergin.Right)/2,r=i.Left+this.BarMergin.Left,o=r+n,s=i.Top+this.RowMergin.Top+this.BarMergin.Top,l=i.Height-this.RowMergin.Top-this.RowMergin.Bottom-this.BarMergin.Top-this.BarMergin.Bottom,h=0;h<a.Value.length&&h<2;++h){var u=a.Value[h];if(!(u<=0)){u>1&&(u=1);var c=n*u;c<1&&(c=1);var d=h;Ce.IsNonEmptyArray(a.Color)&&h<a.Color.length&&(d=a.Color[h]),this.Canvas.fillStyle=Qe.DealList.FieldColor.Bar[d],0==h?this.Canvas.fillRect(o,s,-c,l):this.Canvas.fillRect(o,s,c,l)}}},this.GetCustomTextDrawInfo=function(t,e,i,a,n){var r=this.GetEventCallback(b.ON_DRAW_CUSTOM_TEXT);if(!r||!r.Callback)return!1;var o={Symbol:e,Column:t,Value:i,Data:n,Out:{Text:null,TextColor:null,TextAlign:null}};return r.Callback(r,o,this),o.Out.Text&&(a.Text=o.Out.Text),o.Out.TextColor&&(a.TextColor=o.Out.TextColor),o.Out.TextAlign&&(a.TextAlign=o.Out.TextAlign),!0},this.GetFixedRowTextDrawInfo=function(t,e,i,a){var n=this.GetEventCallback(b.ON_DRAW_REPORT_FIXEDROW_TEXT);if(!n||!n.Callback)return!1;var r={RowIndex:t,ColIndex:e,Column:i,Data:this.FixedRowData,Out:{Text:null,TextColor:null,TextAlign:null}};return n.Callback(n,r,this),r.Out.Text&&(a.Text=r.Out.Text),r.Out.TextColor&&(a.TextColor=r.Out.TextColor),r.Out.TextAlign&&(a.TextAlign=r.Out.TextAlign),!0},this.GetVolColor=function(t,e){var i=this.GetEventCallback(b.ON_DRAW_DEAL_VOL_COLOR);if(i&&i.Callback){var a={Data:e,TextColor:null};if(i.Callback(i,a,this),a.TextColor)return a.TextColor}return t.TextColor},this.GetNameColor=function(t,e,i){var a=this.GetEventCallback(b.ON_DRAW_REPORT_NAME_COLOR);if(a&&a.Callback){var n={Symbol:e,TextColor:null,RowType:i};if(a.Callback(a,n,this),n.TextColor)return n.TextColor}return t.TextColor},this.GetFontHeight=function(t,e){return F(this.Canvas,t,e)},this.OnMouseDown=function(t,e,i){if(!this.Data)return null;if(this.Tab){var a=this.Tab.OnMouseDown(t,e,i);if(a)return{Type:1,Tab:a}}var n=L(),r={X:t/n,Y:e/n};if(this.UIElement)var o={Left:this.UIElement.getBoundingClientRect().left,Top:this.UIElement.getBoundingClientRect().top};else var o={Left:null,Top:null};var s=this.PtInFixedBody(t,e);if(s){var l=!0,h=b.ON_CLICK_REPORT_FIXEDROW;return 2==i.button&&(h=b.ON_RCLICK_REPORT_FIXEDROW),this.SendClickEvent(h,{Data:s,X:t,Y:e,e:i,Inside:r,UIElement:o}),this.SelectedFixedRow=s.Index,this.SelectedRow=-1,{Type:4,Redraw:l,Row:s}}var s=this.PtInBody(t,e);if(s){var l=!0;0==this.SelectedModel?(this.SelectedRow==s.Index&&(l=!1),this.SelectedRow=s.Index,this.SelectedFixedRow=-1):(this.SelectedRow==s.DataIndex&&(l=!1),this.SelectedRow=s.DataIndex,this.SelectedFixedRow=-1);var h=b.ON_CLICK_REPORT_ROW;return 2==i.button&&(h=b.ON_RCLICK_REPORT_ROW),this.SendClickEvent(h,{Data:s,X:t,Y:e,e:i,Inside:r,UIElement:o}),{Type:2,Redraw:l,Row:s}}var u=this.PtInHeader(t,e);if(u){var h=b.ON_CLICK_REPORT_HEADER;return 2==i.button?h=b.ON_RCLICK_REPORT_HEADER:0==i.button&&(h=b.ON_CLICK_REPORT_HEADER),this.SendClickEvent(h,{Data:s,X:t,Y:e,e:i,Inside:r,UIElement:o}),{Type:3,Redraw:l,Header:u}}return null},this.OnDrawgRow=function(t,e,i){if(!this.Data)return null;if(!Ce.IsNonEmptyArray(this.Data.Data))return null;var a=this.RowHeight/2,n=this.RectClient.Top+this.HeaderHeight,r=this.ChartBorder.GetChartWidth(),o=n+this.FixedRowHeight*this.FixedRowCount;if(e<o+a)return{Type:5};for(var s=this.Data.YOffset,l=0;s<this.Data.Data.length&&l<this.RowCount;++s,++l){var h=this.Data.Data[s],u={Left:0,Top:o,Right:r,Bottom:o+this.RowHeight};if(u.Top+=a,u.Bottom+=a,t>=u.Left&&t<=u.Right&&e>=u.Top&&e<=u.Bottom){var c={DataIndex:s,Index:l,Symbol:h,Pos:0};return 0==l?c.Pos=1:l==this.RowCount-1&&(c.Pos=2),{Type:2,Data:c}}o+=this.RowHeight}return l<this.RowCount?{Type:6}:{Type:7}},this.OnDblClick=function(t,e,i){if(!this.Data)return!1;var a=this.PtInBody(t,e);return!!a&&(this.SendClickEvent(b.ON_DBCLICK_REPORT_ROW,{Data:a,X:t,Y:e}),!0)},this.PtInBody=function(t,e){if(!this.Data)return null;if(!Ce.IsNonEmptyArray(this.Data.Data))return null;for(var i=this.RectClient.Top+this.HeaderHeight,a=this.RectClient.Left,n=this.RectClient.Right,r=(this.RectClient.Right,this.RectClient.Left,i+this.FixedRowHeight*this.FixedRowCount),o=this.Data.YOffset,s=0;o<this.Data.Data.length&&s<this.RowCount;++o,++s){var l=this.Data.Data[o],h={Left:a,Top:r,Right:n,Bottom:r+this.RowHeight};if(t>=h.Left&&t<=h.Right&&e>=h.Top&&e<=h.Bottom){var u={Rect:h,DataIndex:o,Index:s,Symbol:l};return u.Item=this.PtInItem(t,e,h.Top,h.Bottom),u}r+=this.RowHeight}return null},this.PtInFixedBody=function(t,e){if(this.FixedRowCount<=0)return null;for(var i=this.RectClient.Top+this.HeaderHeight,a=this.RectClient.Left,n=this.RectClient.Right,r=(this.RectClient.Right,this.RectClient.Left,i),o=0;o<this.FixedRowCount;++o){var s={Left:a,Top:r,Right:n,Bottom:r+this.FixedRowHeight};if(t>=s.Left&&t<=s.Right&&e>=s.Top&&e<=s.Bottom){var l={Rect:s,Index:o};return l.Item=this.PtInItem(t,e,s.Top,s.Bottom),l}r+=this.FixedRowHeight}return null},this.PtInItem=function(t,e,i,a){for(var n=this.RectClient.Left,r=this.RectClient.Right,o=n,s=0;s<this.FixedColumn&&s<this.Column.length;++s){var l=this.Column[s],h={Left:o,Right:o+l.Width,Top:i,Bottom:a};if(t>=h.Left&&t<=h.Right&&e>=h.Top&&e<=h.Bottom)return{Rect:h,Column:l,Index:s};o+=l.Width}for(var s=this.FixedColumn+this.Data.XOffset;s<this.Column.length;++s){var l=this.Column[s];if(o>=r)break;var h={Left:o,Right:o+l.Width,Top:i,Bottom:a};if(t>=h.Left&&t<=h.Right&&e>=h.Top&&e<=h.Bottom)return{Rect:h,Column:l,Index:s};o+=l.Width}return null},this.PtInHeader=function(t,e){if(!this.IsShowHeader)return null;var i=this.RectClient.Left,a=this.RectClient.Right,n=this.RectClient.Top,r=n+this.HeaderHeight;return t>=i&&t<=a&&e>=n&&e<=r?this.PtInItem(t,e,n,r):null},this.IsPtInBody=function(t,e){var i=this.RectClient.Top+this.HeaderHeight,a=this.RectClient.Left,n=this.RectClient.Right,r=this.RectClient.Bottom;return t>=a&&t<=n&&e>=i&&e<=r},this.IsPtInHeader=function(t,e){if(!this.IsShowHeader)return!1;var i=this.RectClient.Left,a=this.RectClient.Right,n=this.RectClient.Top,r=n+this.HeaderHeight;return t>=i&&t<=a&&e>=n&&e<=r},this.SendClickEvent=function(t,e){var i=this.GetEventCallback(t);i&&i.Callback&&i.Callback(i,e,this)},this.DrawDragRow=function(){if(this.DragRow){var t=this.DragRow;if(t.Data&&t.Inside&&t.Data.Row){var e=t.Data.Row.DataIndex;if(Ce.IsNumber(e)&&!(e<0)){var i=t.Inside.Y-this.RowHeight/2,a=i,n=this.RectClient.Left,r=this.RectClient.Right-this.RectClient.Left;this.Canvas.fillStyle=this.DragRowColor,this.Canvas.fillRect(n,i,r,this.RowHeight);var o=this.Data.Data[e],s={Symbol:o,Stock:null,Block:null};this.GetStockDataCallback&&(s.Stock=this.GetStockDataCallback(o)),this.GetBlockDataCallback&&(s.Block=this.GetBlockDataCallback(o)),s.Decimal=Ni(o);var l=this.RectClient.Right;this.Canvas.font=this.ItemFont;for(var h=0;h<this.FixedColumn&&h<this.Column.length;++h){var u=this.Column[h];if(this.DrawItem(e,s,u,n,a,3),(n+=u.Width)>=l)break}for(var h=this.FixedColumn+this.Data.XOffset;h<this.Column.length;++h){var u=this.Column[h];if(this.DrawItem(e,s,u,n,a,3),(n+=u.Width)>=l)break}}}}}};if(i.Frame=this.Frame,i.ChartBorder=this.Frame.ChartBorder,i.Canvas=this.Canvas,i.UIElement=this.UIElement,i.GetEventCallback=function(t){return e.GetEventCallback(t)},i.GetStockDataCallback=function(t){return e.GetStockData(t)},i.GetBlockDataCallback=function(t){return e.GetBlockData(t)},i.Data=this.Data,i.FixedRowData=this.FixedRowData,i.SortInfo=this.SortInfo,i.Tab=new function(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="ChartReportTab",this.IsDrawFirst=!1,this.GetEventCallback,this.Report,this.IsShow=!0,this.TabList=[],this.SelectedTabIndex=-1,this.MoveOnTabIndex=-1,this.MaxPos=15,this.CurrentPos=15,this.Step=1,this.ScrollBarWidth=Qe.Report.Tab.ScrollBarWidth,this.ButtonColor=Qe.Report.Tab.ButtonColor,this.BarColor=Qe.Report.Tab.BarColor,this.BorderColor=Qe.Report.Tab.BorderColor,this.Mergin={Left:2,Right:2,Top:2,Bottom:2},this.TabFontConfig={Size:Qe.Report.Tab.Font.Size,Name:Qe.Report.Tab.Font.Name},this.TabFont,this.TabTitleColor=Qe.Report.Tab.TabTitleColor,this.TabSelectedTitleColor=Qe.Report.Tab.TabSelectedTitleColor,this.TabSelectedBGColor=Qe.Report.Tab.TabSelectedBGColor,this.TabMoveOnTitleColor=Qe.Report.Tab.TabMoveOnTitleColor,this.TabBGColor=Qe.Report.Tab.TabBGColor,this.TabMergin={Top:Qe.Report.Tab.Mergin.Top,Left:Qe.Report.Tab.Mergin.Left,Right:Qe.Report.Tab.Mergin.Right,Bottom:Qe.Report.Tab.Mergin.Bottom},this.Height,this.ButtonSize=25,this.TabWidth=0,this.RectScroll={Left:null,Right:null,Bar:null,Client:null},this.ReloadResource=function(t){this.ScrollBarWidth=Qe.Report.Tab.ScrollBarWidth,this.ButtonColor=Qe.Report.Tab.ButtonColor,this.BarColor=Qe.Report.Tab.BarColor,this.BorderColor=Qe.Report.Tab.BorderColor,this.TabFontConfig={Size:Qe.Report.Tab.Font.Size,Name:Qe.Report.Tab.Font.Name},this.TabTitleColor=Qe.Report.Tab.TabTitleColor,this.TabSelectedTitleColor=Qe.Report.Tab.TabSelectedTitleColor,this.TabSelectedBGColor=Qe.Report.Tab.TabSelectedBGColor,this.TabMoveOnTitleColor=Qe.Report.Tab.TabMoveOnTitleColor,this.TabBGColor=Qe.Report.Tab.TabBGColor,this.TabMergin={Top:Qe.Report.Tab.Mergin.Top,Left:Qe.Report.Tab.Mergin.Left,Right:Qe.Report.Tab.Mergin.Right,Bottom:Qe.Report.Tab.Mergin.Bottom}},this.SetTabList=function(t){this.TabList=[];for(var e=0;e<t.length;++e){var i=t[e];if(i.Title){var a={Title:i.Title,IsMenu:!1,FixedSymbol:[],FixedRowCount:0};if(i.ID&&(a.ID=i.ID),i.MenuID&&(a.MenuID=i.MenuID),Ce.IsBool(i.IsMenu)&&(a.IsMenu=i.IsMenu),Ce.IsNonEmptyArray(i.FixedSymbol))for(var n=0;n<i.FixedSymbol.length;++n){var r=i.FixedSymbol[n];r&&r.Symbol&&(a.FixedSymbol.push(r),++a.FixedRowCount)}this.TabList.push(a)}}},this.CalculateSize=function(){var t=L();this.TabFont=this.TabFontConfig.Size*t+"px "+this.TabFontConfig.Name,this.Height=this.GetFontHeight(this.TabFont,"8")+this.Mergin.Top+this.Mergin.Bottom;var e=Math.min(25,this.Height-this.Mergin.Top-this.Mergin.Bottom);this.ButtonSize=e},this.DrawScrollbar=function(t,e,i,a){this.RectScroll={Left:null,Right:null,Bar:null,Client:null};var n=this.Report.GetXScrollPos(),r=this.Report.GetXScrollRange();if(!(r<=0||this.Report.IsShowAllColumn)){var t=t+this.TabWidth;if(!(t+2*this.ScrollBarWidth>i)){this.MaxPos=r,this.CurrentPos=n;var o=this.ButtonSize,s={Left:t+this.Mergin.Left,Top:a-o-this.Mergin.Bottom,Width:o,Height:o};s.Right=s.Left+o,s.Bottom=s.Top+o;var l={Left:i-o-this.Mergin.Right,Top:s.Top,Width:o,Height:o};l.Right=l.Left+o,l.Bottom=l.Top+o,this.Canvas.fillStyle=this.ButtonColor,this.Canvas.fillRect(s.Left,s.Top,s.Width,s.Height),this.Canvas.fillRect(l.Left,l.Top,l.Width,l.Height),this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(s.Left,s.Top,s.Width,s.Height),this.Canvas.strokeRect(l.Left,l.Top,l.Width,l.Height);var h=l.Left-2-(s.Right+2),u=h-this.ScrollBarWidth,c=u*this.CurrentPos/this.MaxPos,d=s.Right+2+c,f={Left:d,Top:s.Top,Width:this.ScrollBarWidth,Height:s.Height};f.Right=f.Left+this.ScrollBarWidth,f.Bottom=s.Bottom,this.Canvas.fillStyle=this.BarColor,this.Canvas.fillRect(f.Left,f.Top,f.Width,f.Height),this.RectScroll.Left=s,this.RectScroll.Right=l,this.RectScroll.Bar=f,this.RectScroll.Client={Left:s.Right,Right:l.Left,Top:s.Top,Bottom:s.Bottom}}}},this.DrawTab=function(t,e,i,a){this.TabWidth=0,this.Canvas.font=this.TabFont,this.Canvas.textBaseline="bottom";var n,r=a-e,o=t+1,s=a-this.TabMergin.Bottom,l=0,h=0,u=0;for(u=0;u<this.TabList.length;++u){var c=this.TabList[u];n=c.Title,c.IsMenu&&(n+="▲"),l=o+this.TabMergin.Left,h=this.Canvas.measureText(n).width;var d={Left:o,Top:e,Width:h+this.TabMergin.Left+this.TabMergin.Right,Height:r};if(d.Right=d.Left+d.Width,d.Bottom=d.Top+d.Height,d.Right>i)break;var f=this.TabBGColor;u==this.SelectedTabIndex&&(f=this.TabSelectedBGColor),this.Canvas.fillStyle=f,this.Canvas.fillRect(d.Left,d.Top,d.Width,d.Height),this.Canvas.textAlign="left";var p=this.TabTitleColor;u==this.MoveOnTabIndex&&(p=this.TabMoveOnTitleColor),u==this.SelectedTabIndex&&(p=this.TabSelectedTitleColor),this.Canvas.fillStyle=p,this.Canvas.fillText(n,l,s),c.Rect=d,o+=d.Width+1,this.TabWidth+=d.Width+1}for(;u<this.TabList.length;++u){var c=this.TabList[u];c.Rect=null}},this.OnMouseDown=function(t,e,i){var a=this.PtInTab(t,e);return a||this.PtInScroll(t,e)},this.PtInScroll=function(t,e){if(!this.RectScroll)return null;if(this.RectScroll.Left){var i=this.RectScroll.Left;if(t>=i.Left&&t<=i.Right&&e>=i.Top&&e<=i.Bottom)return{Type:1,Rect:i}}if(this.RectScroll.Right){var i=this.RectScroll.Right;if(t>=i.Left&&t<=i.Right&&e>=i.Top&&e<=i.Bottom)return{Type:2,Rect:i}}if(this.RectScroll.Bar){var i=this.RectScroll.Bar;if(t>=i.Left&&t<=i.Right&&e>=i.Top&&e<=i.Bottom)return{Type:3,Rect:i}}if(this.RectScroll.Client){var i=this.RectScroll.Client;if(t>=i.Left&&t<=i.Right&&e>=i.Top&&e<=i.Bottom)return{Type:4,Rect:i,Pos:this.GetScrollPostionByPoint(t,e)}}return null},this.PtInTab=function(t,e){for(var i=0;i<this.TabList.length;++i){var a=this.TabList[i];if(a.Rect){var n=a.Rect;if(t>=n.Left&&t<=n.Right&&e>=n.Top&&e<=n.Bottom){var r={Type:5,Rect:n,Tab:a,Index:i};return a.IsMenu,r}}}return null},this.GetFontHeight=function(t,e){return F(this.Canvas,t,e)},this.GetScrollPostionByPoint=function(t,e){var i=this.RectScroll.Client,a=i.Right-i.Left-this.ScrollBarWidth,n=parseInt(this.MaxPos*(t-i.Left)/a);return n}},i.Tab.Frame=this.Frame,i.Tab.Canvas=this.Canvas,i.Tab.ChartBorder=this.Frame.ChartBorder,i.Tab.Report=i,this.ChartPaint[0]=i,t&&!0===t.PageInfo){var a=new function(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="ChartPageInfo",this.IsDrawFirst=!1,this.IsShow=!1,this.SizeChange=!0,this.Report,this.FontConfig={Size:Qe.Report.PageInfo.Font.Size,Name:Qe.Report.PageInfo.Font.Name},this.TextColor=Qe.Report.PageInfo.TextColor,this.BGColor=Qe.Report.PageInfo.BGColor,this.Mergin={Top:Qe.Report.PageInfo.Mergin.Top,Left:Qe.Report.PageInfo.Mergin.Left,Right:Qe.Report.PageInfo.Mergin.Right,Bottom:Qe.Report.PageInfo.Mergin.Bottom},this.Font,this.TextHeight=0,this.ReloadResource=function(t){this.FontConfig={Size:Qe.Report.PageInfo.Font.Size,Name:Qe.Report.PageInfo.Font.Name},this.TextColor=Qe.Report.PageInfo.TextColor,this.BGColor=Qe.Report.PageInfo.BGColor,this.Mergin={Top:Qe.Report.PageInfo.Mergin.Top,Left:Qe.Report.PageInfo.Mergin.Left,Right:Qe.Report.PageInfo.Mergin.Right,Bottom:Qe.Report.PageInfo.Mergin.Bottom}},this.Draw=function(){if(this.IsShow&&this.Report){var t=this.Report.GetCurrentPageStatus();if(!t.IsSinglePage){if(this.SizeChange){var e=L();this.Font=this.FontConfig.Size*e+"px "+this.FontConfig.Name,this.TextHeight=F(this.Canvas,this.Font,"擎")+this.Mergin.Top+this.Mergin.Bottom}var i=this.ChartBorder.GetLeft(),a=this.ChartBorder.GetRight(),n=this.ChartBorder.GetBottom()-2,r=i+(a-i)/2,o=t.DataCount+"/"+t.DataCount;this.Canvas.font=this.Font;var s=this.Canvas.measureText(o).width+4,l=r-s/2-this.Mergin.Left,h=n-this.TextHeight;this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(l,h,s+(this.Mergin.Left+this.Mergin.Right),this.TextHeight),o=t.Start+1+"/"+t.DataCount,this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(o,r,n-this.Mergin.Bottom),this.SizeChange=!1}}}};a.Frame=this.Frame,a.ChartBorder=this.Frame.ChartBorder,a.Canvas=this.Canvas,a.Report=i,this.ChartPaint[1]=a}if(t&&(Ce.IsBool(t.IsShowHeader)&&(i.IsShowHeader=t.IsShowHeader),Ce.IsNumber(t.FixedColumn)&&(i.FixedColumn=t.FixedColumn),Ce.IsNumber(t.BorderLine)&&(this.Frame.BorderLine=t.BorderLine),Ce.IsBool(t.TabShow)&&(i.Tab.IsShow=t.TabShow),Ce.IsNumber(t.FixedRowCount)&&(i.FixedRowCount=t.FixedRowCount),Ce.IsBool(t.ItemBorder)&&(i.IsDrawBorder=t.ItemBorder),Ce.IsNumber(t.SelectedModel)&&(i.SelectedModel=t.SelectedModel),Ce.IsNonEmptyArray(t.FixedSymbol))){i.FixedRowCount=0,this.FixedRowData.Type=1,this.FixedRowData.Symbol=[];for(var n=t.FixedSymbol,r=0;r<n.length;++r){var o=n[r];this.FixedRowData.Symbol.push(o.Symbol),++i.FixedRowCount}}var s=!0,l=!0;t&&(!1===t.KeyDown&&(s=!1,g.Chart.Log("[JSDealChartContainer::Create] not register keydown event.")),!1===t.Wheel&&(l=!1,g.Chart.Log("[JSDealChartContainer::Create] not register wheel event."))),s&&this.UIElement.addEventListener("keydown",function(t){e.OnKeyDown(t)},!0),l&&this.UIElement.addEventListener("wheel",function(t){e.OnWheel(t)},!0),this.UIElement.ondblclick=function(t){e.UIOnDblClick(t)},this.UIElement.onmousedown=function(t){e.UIOnMouseDown(t)},this.UIElement.oncontextmenu=function(t){e.UIOnContextMenu(t)},this.UIElement.onmousemove=function(t){e.UIOnMouseMove(t)},this.UIElement.onmouseout=function(t){e.UIOnMounseOut(t)},this.UIElement.onmouseleave=function(t){e.UIOnMouseleave(t)},this.UIElement.ontouchstart=function(t){e.OnTouchStart(t)},this.UIElement.ontouchmove=function(t){e.OnTouchMove(t)},this.UIElement.ontouchend=function(t){e.OnTouchEnd(t)}},this.Draw=function(){if(!(this.UIElement.width<=0||this.UIElement.height<=0)){this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height);var t=L();if(this.Canvas.lineWidth=t,this.ChartSplashPaint&&this.ChartSplashPaint.IsEnableSplash)return this.Frame.Draw({IsEnableSplash:this.ChartSplashPaint.IsEnableSplash}),void this.ChartSplashPaint.Draw();this.Frame.Draw(),this.Frame.DrawLogo();for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.IsDrawFirst&&i.Draw()}for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.IsDrawFirst||i.Draw()}}},this.ResetReportStatus=function(){this.Data.XOffset=0,this.Data.YOffset=0},this.ResetReportSelectStatus=function(){var t=this.GetReportChart();t&&(t.SelectedRow=-1,t.SelectedFixedRow=-1)},this.ClearData=function(){this.SourceData.Data=[],this.Data.Data=[],this.BlockData=new p.default},this.ResetSortStatus=function(){this.SortInfo.Field=-1,this.SortInfo.Sort=0},this.SetSymbolList=function(t,e){if(this.ClearData(),this.ResetReportStatus(),this.ResetSortStatus(),Ce.IsNonEmptyArray(t))for(var i=0;i<t.length;++i)this.Data.Data.push(t[i]);var a=this.ChartPaint[0];a&&(a.Data=this.Data),this.Draw()},this.ChangeSymbol=function(t,e){if(this.Symbol=t,this.ClearData(),this.ResetReportStatus(),this.ResetSortStatus(),this.ResetReportSelectStatus(),e){if(Ce.IsNumber(e.TabSelected)){var i=this.GetTabChart();i&&(i.SelectedTabIndex=e.TabSelected)}if(Array.isArray(e.FixedSymbol)){var a=this.GetReportChart();if(a){a.FixedRowCount=0,this.FixedRowData.Type=1,this.FixedRowData.Symbol=[];for(var n=e.FixedSymbol,r=0;r<n.length;++r){var o=n[r];this.FixedRowData.Symbol.push(o.Symbol),++a.FixedRowCount}this.SetSizeChange(!0)}}if(e.SortInfo){var o=e.SortInfo;Ce.IsNumber(o.Field)&&(this.SortInfo.Field=o.Field),Ce.IsNumber(o.Sort)&&(this.SortInfo.Sort=o.Sort)}}this.RequestMemberListData()},this.RequestMemberListData=function(){var t=this;if(this.NetworkFilter){var e={Name:"JSReportChartContainer::RequestMemberListData",Explain:"板块成分数据",Request:{Data:{symbol:this.Symbol}},Self:this,PreventDefault:!1};if(this.SortInfo.Field>=0&&this.SortInfo.Sort>0){var i=this.GetReportChart();if(i){var a=i.Column[this.SortInfo.Field];e.Sort={Column:a,Field:this.SortInfo.Field,Sort:this.SortInfo.Sort}}}if(this.NetworkFilter(e,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMemberListData(e)}),1==e.PreventDefault)return}throw{Name:"JSReportChartContainer::RequestMemberListData",Error:"(板块成分数据)不提供内置测试数据"}},this.RecvMemberListData=function(t){if(this.ClearData(),Ce.IsNonEmptyArray(t.data))for(var e=0;e<t.data.length;++e)this.Data.Data.push(t.data[e]),this.SourceData.Data.push(t.data[e]);this.Draw(),this.UpdateStockData()},this.AutoUpdateEvent=function(t,e){var i=t?b.RECV_START_AUTOUPDATE:b.RECV_STOP_AUTOUPDATE;if(this.mapEvent.has(i)){var a=this,n=this.mapEvent.get(i),r={Stock:{Symbol:this.Symbol,Name:this.Name,DayCount:this.DayCount},Explain:e};t&&(r.Callback=function(t){a.RecvDealUpdateData(t)}),n.Callback(n,r,this)}},this.RequestStockListData=function(t){this.ChartSplashPaint.SetTitle(this.SplashTitle.StockList),this.ChartSplashPaint.EnableSplash(!0),this.Draw();var e=this;if(this.NetworkFilter){var i={Name:"JSReportChartContainer::RequestStockListData",Explain:"码表数据",Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(i){e.ChartSplashPaint.EnableSplash(!1),e.RecvStockListData(i,t)}),1==i.PreventDefault)return}throw{Name:"JSReportChartContainer::RequestStockListData",Error:"(码表数据)不提供内置测试数据"}},this.RecvStockListData=function(t,e){if(Ce.IsNonEmptyArray(t.data))for(var i=0;i<t.data.length;++i){var a=t.data[i],n=a[0],r=null;this.MapStockData.has(n)?r=this.MapStockData.get(n):((r=new va).OriginalSymbol=n,this.MapStockData.set(n,r)),r.Symbol=this.GetSymbolNoSuffix(n),r.Name=a[1],this.ReadStockJsonData(r,a)}e&&e.Callback?e.Callback():(this.Draw(),this.UpdateStockData())},this.UpdateMapStockData=function(t){if(t&&Ce.IsNonEmptyArray(t.data))for(var e=0;e<t.data.length;++e){var i=t.data[e],a=i[0],n=null;this.MapStockData.has(a)?n=this.MapStockData.get(a):((n=new va).OriginalSymbol=a,this.MapStockData.set(a,n)),n.Symbol=this.GetSymbolNoSuffix(a),n.Name=i[1],this.ReadStockJsonData(n,i)}},this.GetStockData=function(t){return this.MapStockData&&this.MapStockData.has(t)?this.MapStockData.get(t):null},this.GetBlockData=function(t){return this.BlockData&&this.BlockData.has(t)?this.BlockData.get(t):null},this.DelayUpdateStockData=function(){var t=this;null!=this.DelayUpdateTimer&&(clearTimeout(this.DelayUpdateTimer),this.DelayUpdateTimer=null);var e=this.DelayUpdateFrequency;this.DelayUpdateTimer=setTimeout(function(){t.UpdateStockData()},e)},this.UpdateStockData=function(){if(Ce.IsNonEmptyArray(this.Data.Data)){var t=this.ChartPaint[0];if(t){if(this.SortInfo&&this.SortInfo.Field>=0&&this.SortInfo.Sort>0){var e=t.Column[this.SortInfo.Field];if(2==e.Sort)return void this.RequestStockSortData(e,this.SortInfo.Field,this.SortInfo.Sort)}var i=t.ShowSymbol;Ce.IsNonEmptyArray(i)&&this.RequestStockData(i)}}},this.RequestStockData=function(t){var e=this;if(this.NetworkFilter){var i={Name:"JSDealChartContainer::RequestStockData",Explain:"报价列表股票数据",Request:{Data:{stocks:t}},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(t){e.RecvStockData(t),e.AutoUpdate()}),1==i.PreventDefault)return}throw{Name:"JSReportChartContainer::RequestStockData",Error:"(报价列表股票数据)不提供内置测试数据"}},this.RecvStockData=function(t){var e=new c.default;if(Ce.IsNonEmptyArray(t.data))for(var i=0;i<t.data.length;++i){var a=t.data[i],n=a[0];if(n){var r=null;this.MapStockData.has(n)?r=this.MapStockData.get(n):((r=new va).OriginalSymbol=n,r.Symbol=this.GetSymbolNoSuffix(n),this.MapStockData.set(n,r)),this.ReadStockJsonData(r,a),e.has(n)||e.add(n)}}var o=this.ChartPaint[0];if(o){for(var s=!1,l=o.ShowSymbol,i=0;i<l.length;++i)if(e.has(l[i].Symbol)){s=!0;break}s&&this.Draw()}},this.ReadStockJsonData=function(t,e){Ce.IsString(e[1])&&(t.Name=e[1]),Ce.IsNumber(e[2])&&(t.YClose=e[2]),Ce.IsNumber(e[3])&&(t.Open=e[3]),Ce.IsNumber(e[4])&&(t.High=e[4]),Ce.IsNumber(e[5])&&(t.Low=e[5]),Ce.IsNumber(e[6])&&(t.Price=e[6]),Ce.IsNumber(e[7])&&(t.Vol=e[7]),Ce.IsNumber(e[8])&&(t.Amount=e[8]),Ce.IsNumber(e[9])&&(t.BuyPrice=e[9]),Ce.IsNumber(e[10])&&(t.BuyVol=e[10]),Ce.IsNumber(e[11])&&(t.SellPrice=e[11]),Ce.IsNumber(e[12])&&(t.SellVol=e[12]),Ce.IsNumber(e[13])&&(t.AvPrice=e[13]),Ce.IsNumber(e[14])&&(t.OutShares=e[14]),Ce.IsNumber(e[15])&&(t.TotalShares=e[15]),Ce.IsNumber(e[16])&&(t.LimitHigh=e[16]),Ce.IsNumber(e[17])&&(t.LimitLow=e[17]),Ce.IsNumber(e[18])&&(t.VolIn=e[18]),Ce.IsNumber(e[19])&&(t.VolOut=e[19]),Ce.IsNumber(e[20])&&(t.DealNum=e[20]),Ce.IsNumber(e[21])&&(t.Increase=e[21]),Ce.IsNumber(e[22])&&(t.UpDown=e[22]),Ce.IsNumber(e[23])&&(t.Exchange=e[23]),Ce.IsNumber(e[24])&&(t.Amplitude=e[24]),Ce.IsNumber(e[25])&&(t.CircMarketValue=e[25]),Ce.IsNumber(e[26])&&(t.MarketValue=e[26]),Ce.IsNumber(e[21])||Ce.IsNumber(t.Price)&&Ce.IsNumber(t.YClose)&&0!=t.YClose&&(t.Increase=(t.Price-t.YClose)/t.YClose*100),Ce.IsNumber(e[22])||Ce.IsNumber(t.Price)&&Ce.IsNumber(t.YClose)&&(t.UpDown=t.Price-t.YClose),Ce.IsNumber(e[23])||Ce.IsNumber(t.Vol)&&Ce.IsNumber(t.OutShares)&&t.OutShares>0&&(t.Exchange=t.Vol/t.OutShares*100),Ce.IsNumber(e[24])||Ce.IsNumber(t.High)&&Ce.IsNumber(t.Low)&&Ce.IsNumber(t.YClose)&&0!=t.YClose&&(t.Amplitude=(t.High-t.Low)/t.YClose*100),Ce.IsNumber(e[25])||Ce.IsNumber(t.OutShares)&&Ce.IsNumber(t.Price)&&(t.CircMarketValue=t.OutShares*t.Price),Ce.IsNumber(e[26])||Ce.IsNumber(t.TotalShares)&&Ce.IsNumber(t.Price)&&(t.MarketValue=t.TotalShares*t.Price),e[30]&&(t.ExtendData=e[30]),e[31]&&this.BlockData.set(t.OriginalSymbol,e[31])},this.GetSymbolNoSuffix=function(t){var e=t.lastIndexOf(".");return e>0?t.substring(0,e):t},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=null)},this.AutoUpdate=function(t){if(this.CancelAutoUpdate(),this.IsAutoUpdate){var e=this,i=2,a=this.GetEventCallback(b.ON_REPORT_MARKET_STATUS);if(a&&a.Callback){var n={MarketStatus:2};a.Callback(a,n,this),Ce.IsNumber(n.MarketStatus)&&(i=n.MarketStatus)}if(0!=i&&3!=i){var r=this.AutoUpdateFrequency;1==i?this.AutoUpdateTimer=setTimeout(function(){e.AutoUpdate()},r):2==i&&(this.AutoUpdateTimer=setTimeout(function(){e.UpdateStockData()},r))}}},this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"JSDealChartContainer::StopAutoUpdate"),this.IsAutoUpdate&&(this.IsAutoUpdate=!1)},this.AddEventCallback=function(t){if(t&&t.event&&t.callback){var e={Callback:t.callback,Source:t};this.mapEvent.set(t.event,e)}},this.RemoveEventCallback=function(t){this.mapEvent.has(t)&&this.mapEvent.delete(t)},this.GetEventCallback=function(t){if(!this.mapEvent.has(t))return null;var e=this.mapEvent.get(t);return e},this.OnSize=function(){this.Frame&&(this.SetSizeChange(!0),this.Draw(),this.DelayUpdateStockData())},this.SetSizeChange=function(t){for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i&&(i.SizeChange=t)}},this.OnWheel=function(t){if(g.Chart.Log("[JSReportChartContainer::OnWheel]",t),(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash)&&this.Data&&Ce.IsNonEmptyArray(this.Data.Data)){var e=t.clientX-this.UIElement.getBoundingClientRect().left,i=t.clientY-this.UIElement.getBoundingClientRect().top;if(this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),this.Canvas.isPointInPath(e,i)){var a=this.ChartPaint[0];if(a){var n=t.wheelDelta;Ce.IsObjectExist(t.wheelDelta)||(n=-.01*t.deltaY),n<0?this.GotoNextPage(this.PageUpDownCycle)&&(this.Draw(),this.DelayUpdateStockData()):n>0&&this.GotoPreviousPage(this.PageUpDownCycle)&&(this.Draw(),this.DelayUpdateStockData()),t.preventDefault?t.preventDefault():t.returnValue=!1}}}},this.OnKeyDown=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var e=this.GetReportChart();if(e){var i=t.keyCode?t.keyCode:t.which;switch(i){case 33:this.GotoPreviousPage(this.PageUpDownCycle)&&(this.Draw(),this.DelayUpdateStockData());break;case 34:this.GotoNextPage(this.PageUpDownCycle)&&(this.Draw(),this.DelayUpdateStockData());break;case 38:var a=this.MoveSelectedRow(-1);a&&(a.Redraw&&this.Draw(),a.Update&&this.DelayUpdateStockData());break;case 40:var a=this.MoveSelectedRow(1);a&&(a.Redraw&&this.Draw(),a.Update&&this.DelayUpdateStockData());break;case 37:this.MoveXOffset(-1)&&this.Draw();break;case 39:this.MoveXOffset(1)&&this.Draw()}t.preventDefault?t.preventDefault():t.returnValue=!1}}},this.UIOnDblClick=function(t){var e=L(),i=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,a=(t.clientY-this.UIElement.getBoundingClientRect().top)*e,n=this.ChartPaint[0];n&&n.OnDblClick(i,a,t)},this.UIOnMouseDown=function(t){var e=this;this.DragXScroll=null,this.DragMove={Click:{X:t.clientX,Y:t.clientY},Move:{X:t.clientX,Y:t.clientY},PreMove:{X:t.clientX,Y:t.clientY}};var i=L(),a=(t.clientX-this.UIElement.getBoundingClientRect().left)*i,n=(t.clientY-this.UIElement.getBoundingClientRect().top)*i,r=this.ChartPaint[0];if(r){var o=r.OnMouseDown(a,n,t);if(!o)return;if(2!=o.Type&&4!=o.Type||0!=t.button&&2!=t.button){if(3==o.Type&&0==t.button)this.OnClickHeader(o,t);else if(1==o.Type&&0==t.button){var s=o.Tab;1==s.Type?this.MoveXOffset(-1)&&this.Draw():2==s.Type?this.MoveXOffset(1)&&this.Draw():3==s.Type?this.DragXScroll={Click:{X:a,Y:n},LastMove:{X:a,Y:n}}:4==s.Type?this.SetXOffset(s.Pos)&&this.Draw():5==s.Type&&this.OnClickTab(s,t)}}else 0==t.button&&2==o.Type&&this.EnableDragRow&&this.SortInfo.Sort<=0&&(this.DragRow={Click:{X:t.clientX,Y:t.clientY},LastMove:{X:t.clientX,Y:t.clientY},Data:o}),1==o.Redraw&&this.Draw()}document.onmousemove=function(t){e.DocOnMouseMove(t)},document.onmouseup=function(t){e.DocOnMouseUp(t)}},this.UIOnContextMenu=function(t){t.preventDefault()},this.UIOnMouseMove=function(t){var e=L(),i=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,a=(t.clientY-this.UIElement.getBoundingClientRect().top)*e;if(!this.DragRow){var n=this.GetTabChart();if(n){var r=n.PtInTab(i,a);if(r){var o=r.Index;n.MoveOnTabIndex!=o&&(n.MoveOnTabIndex=o,this.Draw())}}}},this.UIOnMounseOut=function(t){var e=this.GetTabChart();e&&e.MoveOnTabIndex>=0&&(e.MoveOnTabIndex=-1,this.Draw())},this.UIOnMouseleave=function(t){var e=this.GetTabChart();e&&e.MoveOnTabIndex>=0&&(e.MoveOnTabIndex=-1,this.Draw())},this.DocOnMouseMove=function(t){if(this.DragMove.PreMove.X=this.DragMove.Move.X,this.DragMove.PreMove.Y=this.DragMove.Move.Y,this.DragMove.Move.X=t.clientX,this.DragMove.Move.Y=t.clientX,this.DragMove.Move.X==this.DragMove.PreMove.X&&this.DragMove.Move.Y==this.DragMove.PreMove.Y||this.StopAutoDragScrollTimer(),!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var e=L(),i=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,a=(t.clientY-this.UIElement.getBoundingClientRect().top)*e;if(this.DragRow){var n=this.DragRow,r=n.LastMove.Y-t.clientY;if(Math.abs(r)<2)return;var o=this.GetReportChart();if(n.LastMove.X=t.clientX,n.LastMove.Y=t.clientY,n.Inside={X:i,Y:a},o){var s=o.OnDrawgRow(i,a,t);if(s)if(2==s.Type)s.Data.DataIndex!=n.Data.Row.DataIndex&&(n.MoveRow=s);else if(7==s.Type){var l=o.GetCurrentPageStatus();l.IsEnd||(this.MoveYOffset(1,!1),n.MoveRow=null,this.EnablePageScroll=!0,this.AutoScrollPage(2))}else 5==s.Type&&this.Data.YOffset>0&&(this.MoveYOffset(-1,!1),n.MoveRow=null,this.EnablePageScroll=!0,this.AutoScrollPage(-2));o.DragRow=n}this.Draw()}else if(this.DragXScroll){var h=this.ChartPaint[0];if(!h||!h.Tab)return;this.DragXScroll.LastMove.X=i,this.DragXScroll.LastMove.Y=a;var u=h.Tab.GetScrollPostionByPoint(i,a);this.SetXOffset(u)&&this.Draw()}}},this.DocOnMouseUp=function(t){document.onmousemove=null,document.onmouseup=null,this.StopAutoDragScrollTimer();var e=!1;if(this.DragRow){var i=this.GetReportChart();i&&(this.OnDragRow(),i.DragRow=null),e=!0}this.DragXScroll=null,this.DragRow=null,this.DragMove=null,e&&this.Draw()},this.OnDragRow=function(){if(this.SourceData&&Ce.IsNonEmptyArray(this.SourceData.Data)&&this.DragRow&&this.DragRow.MoveRow){var t=this.DragRow,e=t.Data.Row.DataIndex,i=t.MoveRow.Data.DataIndex;if(!(e==i||e<0||i<0)){var a=this.SourceData.Data;if(!(e>=a.length||i>=a.length)){var n=this.GetEventCallback(b.ON_REPORT_DRAG_ROW);if(n){var r={Symbol:this.Symbol,Src:{Index:e,Symbol:a[e]},To:{Index:i,Symbol:a[i]},PreventDefault:!1};if(n.Callback(n,r,this),r.PreventDefault)return}if(1==this.DragRowType){var o=a[e];a[e]=a[i],a[i]=o,this.Data.Data=a.slice(0)}else{var s=a[e];a.splice(e,1),a.splice(i,0,s),this.Data.Data=a.slice(0)}var l=this.GetReportChart();l&&(0==l.SelectedModel?l.SelectedRow=t.MoveRow.Data.Index:l.SelectedRow=t.MoveRow.Data.DataIndex)}}}},this.IsPhoneDragging=function(t){var e=t.changedTouches.length,i=t.touches.length;return 1==e&&1==i},this.GetTouchData=function(t){for(var e=[],i=L(),a=0;a<t.touches.length;++a){var n=t.touches[a],r={clientX:n.clientX*i,clientY:n.clientY*i,pageX:n.pageX*i,pageY:n.pageY*i,InsideX:(n.clientX-this.UIElement.getBoundingClientRect().left)*i,InsideY:(n.clientY-this.UIElement.getBoundingClientRect().top)*i};e.push(r)}return e},this.GetMoveAngle=function(t,e){var i=Math.abs(t.X-e.X),a=Math.abs(t.Y-e.Y),n=180*Math.atan(i/a)/Math.PI;return n},this.PreventTouchEvent=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()},this.OnTouchStart=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){this.IsOnTouch=!0;var e=this.GetReportChart();if(e&&this.IsPhoneDragging(t)){var i={Click:{},LastMove:{},InsideClick:{}},a=this.GetTouchData(t);i.Click.X=a[0].clientX,i.Click.Y=a[0].clientY,i.InsideClick.X=a[0].InsideX,i.InsideClick.Y=a[0].InsideY,i.LastMove.X=a[0].clientX,i.LastMove.Y=a[0].clientY,i.IsXMove=!1,i.IsYMove=!1,e.IsPtInBody(i.InsideClick.X,i.InsideClick.Y)&&(this.TouchDrag=i),this.TouchInfo={InsideClick:{X:a[0].InsideX,Y:a[0].InsideY},Click:{X:a[0].clientX,Y:a[0].clientY}},this.PreventTouchEvent(t)}}},this.OnDragYOffset=function(t,e,i,a){if(i<5)return!1;var n=!0;t.LastMove.Y<e[0].clientY&&(n=!1);var r=this.YStepPixel;r<=0&&(r=5);var o=parseInt(i/r);return!(o<=0)&&(0==n&&(o*=-1),this.MoveYOffset(o,this.DragPageCycle)&&(t.IsYMove=!0,this.Draw(),this.DelayUpdateStockData()),!0)},this.OnDragXOffset=function(t,e,i,a){if(i<5)return!1;var n=!0;t.LastMove.X<e[0].clientX&&(n=!1);var r=this.XStepPixel;r<=0&&(r=5);var o=parseInt(i/r);return!(o<=0)&&(n||(o*=-1),this.MoveXOffset(o)&&(t.IsXMove=!0,this.Draw()),!0)},this.OnTouchMove=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var e=this.GetReportChart();if(e){var i=this.GetTouchData(t);if(this.IsPhoneDragging(t)){var a=this.TouchDrag;if(this.TouchInfo.Move={X:i[0].clientX,Y:i[0].clientY},a){this.PreventTouchEvent(t);var n=this.GetMoveAngle(a.LastMove,{X:i[0].clientX,Y:i[0].clientY}),r=Math.abs(a.LastMove.X-i[0].clientX),o=Math.abs(a.LastMove.Y-i[0].clientY);if(1==a.IsYMove){if(this.ShowPageInfo(!0),!this.OnDragYOffset(a,i,o,t))return}else if(1==a.IsXMove){if(!this.OnDragXOffset(a,i,r,t))return}else if(o>0&&n<this.TouchMoveMinAngle){if(this.ShowPageInfo(!0),!this.OnDragYOffset(a,i,o,t))return}else{if(!(r>0&&n>=this.TouchMoveMinAngle))return;if(!this.OnDragXOffset(a,i,r,t))return}a.LastMove.X=i[0].clientX,a.LastMove.Y=i[0].clientY}}}}},this.OnTouchEnd=function(t){g.Chart.Log("[JSReportChartContainer:OnTouchEnd]",t),this.ChartSplashPaint&&1==this.ChartSplashPaint.IsEnableSplash||(this.ShowPageInfo(!1),this.OnTouchClick(this.TouchInfo,t),this.IsOnTouch=!1,this.TouchDrag=null,this.TouchInfo=null)},this.OnTouchClick=function(t,e){if(!t||!t.Click)return!1;if(t.Move)return!1;var i=t.InsideClick,a=this.GetReportChart();if(!a)return!1;var n=a.OnMouseDown(i.X,i.Y,e);if(!n)return!1;2==n.Type||4==n.Type?1==n.Redraw&&this.Draw():3==n.Type&&this.OnClickHeader(n,e),g.Chart.Log("[JSReportChartContainer:OnTouchClick] clickData",n)},this.GetTabChart=function(){var t=this.ChartPaint[0];return t?t.Tab:null},this.GetReportChart=function(){var t=this.ChartPaint[0];return t},this.GotoNextPage=function(t){if(!this.Data||!Ce.IsNonEmptyArray(this.Data.Data))return!1;var e=this.ChartPaint[0];if(!e)return!1;var i=e.GetPageSize();if(i>this.Data.Data.length)return!1;if(this.Data.YOffset+i>=this.Data.Data.length)return!0===t&&(this.Data.YOffset=0,!0);this.Data.YOffset+=i;var a=this.Data.Data.length-this.Data.YOffset;return 0==e.SelectedModel&&e.SelectedRow>a-1&&(e.SelectedRow=a-1),!0},this.GotoPreviousPage=function(t){if(!this.Data||!Ce.IsNonEmptyArray(this.Data.Data))return!1;var e=this.ChartPaint[0];if(!e)return!1;var i=e.GetPageSize();if(i>this.Data.Data.length)return!1;if(this.Data.YOffset<=0)return!0===t&&(this.Data.YOffset=this.Data.Data.length-i,!0);var a=this.Data.YOffset;return(a-=i)<0&&(a=0),this.Data.YOffset=a,!0},this.MoveYOffset=function(t,e){if(!this.Data||!Ce.IsNonEmptyArray(this.Data.Data))return!1;var i=this.ChartPaint[0];if(!i)return!1;var a=i.GetCurrentPageStatus();if(a.IsSinglePage)return!1;if(t>0){var n=this.Data.Data.length,r=a.PageSize,o=this.Data.YOffset;if(e)for(var s=0;s<t;++s)++o+r>n&&(o=0);else{if(o+r>=n)return!1;for(var s=0;s<t&&!(o+r+1>n);++s)++o}return this.Data.YOffset=o,!0}if(t<0){t=Math.abs(t);var o=this.Data.YOffset;if(e)for(var r=a.PageSize,s=0;s<t;++s)--o<0&&(o=this.Data.Data.length-r);else{if(this.Data.YOffset<=0)return!1;for(var s=0;s<t&&!(o-1<0);++s)--o}return this.Data.YOffset=o,!0}return!1},this.MoveSelectedRow=function(t){var e=this.ChartPaint[0];if(!e)return null;if(!Ce.IsNonEmptyArray(this.Data.Data))return null;var i={Redraw:!1,Update:!1};if(0==e.SelectedModel){var a=e.GetCurrentPageStatus(),n=a.End-a.Start+1,r=a.SelectedRow;if(t>0)return r+=t,r%=n,e.SelectedRow=r,e.SelectedFixedRow=-1,i.Redraw=!0,i;if(t<0)return(r+=t)<0&&(r=n+(r%=n)),e.SelectedRow=r,e.SelectedFixedRow=-1,i.Redraw=!0,i}else if(1==e.SelectedModel){var a=e.GetCurrentPageStatus(),n=a.PageSize,r=a.SelectedRow;if(t>0){if(r<0||r<a.Start||r>a.End)return e.SelectedRow=a.Start,i.Redraw=!0,i;for(var o=this.Data.YOffset,s=0;s<t;++s)++r>a.End&&++o,r>=this.Data.Data.length&&(r=0,o=0);return i.Redraw=!0,i.Update=o!=this.Data.YOffset,e.SelectedRow=r,this.Data.YOffset=o,i}if(t<0){if(r<0||r<a.Start||r>a.End)return e.SelectedRow=a.End,i.Redraw=!0,i;t=Math.abs(t);for(var o=this.Data.YOffset,s=0;s<t;++s)--r<a.Start&&--o,r<0&&(r=this.Data.Data.length-1,(o=this.Data.Data.length-n)<0&&(o=0));return i.Redraw=!0,i.Update=o!=this.Data.YOffset,e.SelectedRow=r,this.Data.YOffset=o,i}}return null},this.MoveXOffset=function(t){var e=this.ChartPaint[0];if(!e)return!1;var i=e.GetXScrollRange();if(i<=0)return!1;if(t>0){if(this.Data.XOffset>=i)return!1;for(var a=0;a<t&&!(this.Data.XOffset>=i);++a)++this.Data.XOffset;return!0}if(t<0){if(this.Data.XOffset<=0)return!1;t=Math.abs(t);for(var a=0;a<t&&!(this.Data.XOffset-1<0);++a)--this.Data.XOffset;return!0}return!1},this.SetXOffset=function(t){if(!Ce.IsNumber(t))return!1;var e=this.ChartPaint[0];if(!e)return!1;var i=e.GetXScrollRange();return t<0&&(t=0),t>i&&(t=i),this.Data.XOffset=t,!0},this.GotoLastPage=function(){var t=this.ChartPaint[0];if(t){var e=t.GetPageSize(!0),i=this.Data.Data.length-e;i<0&&(i=0),this.Data.DataOffset=i}},this.SetColumn=function(t,e){var i=this.ChartPaint[0];i&&(i.SetColumn(t),i.SizeChange=!0,e&&e.Redraw&&this.Draw())},this.SetTab=function(t,e){var i=this.ChartPaint[0];if(i){var a=i.Tab;a&&(a.SetTabList(t),e&&e.Redraw&&this.Draw())}},this.SetSelectedTab=function(t,e){var i=this.ChartPaint[0];if(i){var a=i.Tab;a&&(a.SelectedTabIndex=t)}},this.ReloadResource=function(t){this.Frame.ReloadResource(t);for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.ReloadResource&&i.ReloadResource(t)}t&&t.Redraw&&(this.SetSizeChange(!0),this.Draw())},this.OnClickHeader=function(t,e){var i=this,a=t.Header;if(a.Column&&(1==a.Column.Sort||2==a.Column.Sort)){var n=a.Index,r={Field:this.SortInfo.Field,Sort:this.SortInfo.Sort},o=a.Column.SortType;if(r.Field!=n)r.Field=n,r.Sort=o[0];else if(1==o.length)r.Sort=o[0];else for(var s=0;s<o.length;++s)if(r.Sort==o[s]){r.Sort=o[(s+1)%o.length];break}if(1==a.Column.Sort||2==a.Column.Sort){if(0==r.Sort){this.Data.Data=[];for(var s=0;s<this.SourceData.Data.length;++s)this.Data.Data.push(this.SourceData.Data[s])}else if(1==a.Column.Sort){var l=this.GetEventCallback(b.ON_REPORT_LOCAL_SORT);if(l&&l.Callback){var h={Column:a.Column,SortInfo:r,SymbolList:this.Data.Data,Result:null};l.Callback(l,h,this),Array.isArray(h.Result)&&(this.Data.Data=h.Result)}else this.Data.Data.sort(function(t,e){return i.LocalSort(t,e,a.Column,r.Sort)})}else if(2==a.Column.Sort){if(!Ce.IsNonEmptyArray(this.Data.Data))return;return this.SortInfo.Field=r.Field,this.SortInfo.Sort=r.Sort,this.Data.YOffset=0,this.ResetReportSelectStatus(),void this.RequestStockSortData(a.Column,r.Field,r.Sort)}this.Data.YOffset=0,this.ResetReportSelectStatus(),this.SortInfo.Field=r.Field,this.SortInfo.Sort=r.Sort,this.Draw(),this.DelayUpdateStockData()}}},this.OnClickTab=function(t,e){if(t.Tab){var i=!1,a=L(),n=(e.clientX-this.UIElement.getBoundingClientRect().left)*a,r=(e.clientY,this.UIElement.getBoundingClientRect().top,{Left:this.UIElement.getBoundingClientRect().left,Top:this.UIElement.getBoundingClientRect().top});if(t.Tab.IsMenu){var o=this.GetEventCallback(b.ON_CLICK_REPORT_TABMENU);if(o&&o.Callback){i=!0;var s=t.Rect,l={Left:s.Left/a,Right:s.Right/a,Top:s.Top/a,Bottom:s.Bottom/a},h={Data:t,IsSide:{X:n,Y:n},UIElement:r,Rect:l,e:e,Redraw:i};o.Callback(o,h,this),Ce.IsBool(h.Redraw)&&(i=h.Redraw)}this.SetSelectedTab(t.Index)}else{var o=this.GetEventCallback(b.ON_CLICK_REPORT_TAB);if(o&&o.Callback){var h={Data:t,IsSide:{X:n,Y:n},UIElement:r,e:e,Redraw:i};o.Callback(o,h,this),Ce.IsBool(h.Redraw)&&(i=h.Redraw)}this.SetSelectedTab(t.Index)}i&&this.Draw()}},this.LocalSort=function(t,e,i,a){switch(i.Type){case ga.SYMBOL_ID:case ga.NAME_ID:return this.LocalStringSort(t,e,i,a);case ga.PRICE_ID:case ga.VOL_ID:case ga.INCREASE_ID:case ga.UPDOWN_ID:case ga.BUY_PRICE_ID:case ga.SELL_PRICE_ID:case ga.AMOUNT_ID:case ga.BUY_VOL_ID:case ga.SELL_VOL_ID:case ga.YCLOSE_ID:case ga.OPEN_ID:case ga.HIGH_ID:case ga.LOW_ID:case ga.AVERAGE_PRICE_ID:case ga.OUTSTANDING_SHARES_ID:case ga.TOTAL_SHARES_ID:case ga.CIRC_MARKET_VALUE_ID:case ga.MARKET_VALUE_ID:case ga.EXCHANGE_RATE_ID:case ga.AMPLITUDE_ID:case ga.LIMIT_HIGH_ID:case ga.LIMIT_LOW_ID:case ga.VOL_IN_ID:case ga.VOL_OUT_ID:return this.LocalNumberSort(t,e,i,a);case ga.CUSTOM_NUMBER_TEXT_ID:return this.LoacCustomNumberSort(t,e,i,a);case ga.CUSTOM_STRING_TEXT_ID:return this.LoacCustomStringSort(t,e,i,a);case ga.CUSTOM_DATETIME_TEXT_ID:return this.LoacCustomDateTimeSort(t,e,i,a);default:return 0}},this.GetStockExtendData=function(t,e){if(Ce.IsNumber(e.DataIndex)){if(e.DataIndex<0)return null;var i=this.GetStockData(t);return i&&i.ExtendData?i.ExtendData[e.DataIndex]:null}if(Ce.IsNumber(e.BlockIndex)){if(e.BlockIndex<0)return null;var i=this.GetBlockData(t);return i?i[e.BlockIndex]:null}return null},this.LocalStringSort=function(t,e,i,a){var n=this.GetStockData(t),r=this.GetStockData(e),o="",s="";2==a&&(o="啊啊啊啊啊",s="啊啊啊啊啊");var l=Ca.get(i.Type);return n&&n[l]&&(o=n[l]),r&&r[l]&&(s=r[l]),1==a?s<o?-1:s<o?1:0:o<s?-1:o>s?1:0},this.LocalNumberSort=function(t,e,i,a){var n=this.GetStockData(t),r=this.GetStockData(e),o=-99999999999999,s=-99999999999999;2==a&&(o=s=99999999999999);var l=Ca.get(i.Type);return n&&Ce.IsNumber(n[l])&&(o=n[l]),r&&Ce.IsNumber(r[l])&&(s=r[l]),1==a?s<o?-1:s<o?1:0:o<s?-1:o>s?1:0},this.LoacCustomNumberSort=function(t,e,i,a){var n=-99999999999999,r=-99999999999999;2==a&&(n=r=99999999999999);var o=this.GetStockExtendData(t,i);Ce.IsNumber(o)&&(n=o);var o=this.GetStockExtendData(e,i);return Ce.IsNumber(o)&&(r=o),1==a?r<n?-1:r<n?1:0:n<r?-1:n>r?1:0},this.LoacCustomDateTimeSort=function(t,e,i,a){var n=-99999999999999,r=-99999999999999;2==a&&(n=r=99999999999999);var o=this.GetStockExtendData(t,i);Ce.IsNumber(o)&&(n=o);var o=this.GetStockExtendData(e,i);return Ce.IsNumber(o)&&(r=o),1==a?r<n?-1:r<n?1:0:n<r?-1:n>r?1:0},this.RequestStockSortData=function(t,e,i){var a=this.ChartPaint[0];if(a){var n=this,r=this.Data.YOffset,o=a.GetPageSize(),s=r+o;if(s>=this.Data.Data.length&&(s=this.Data.Data.length-1),this.NetworkFilter){var l={Name:"JSDealChartContainer::RequestStockSortData",Explain:"报价列表股票排序数据",Request:{Data:{range:{start:r,end:s,count:this.Data.Data.length},column:{name:t.Title,type:t.Type,index:e,ID:t.ID},sort:i,symbol:this.Symbol,name:this.Name,pageSize:o}},Self:this,PreventDefault:!1};if(a.FixedRowCount>0&&1==a.FixedRowData.Type){for(var h=[],u=0;u<a.FixedRowData.Symbol.length;++u){var c=a.FixedRowData.Symbol[u];c&&h.push(c)}l.Request.FixedSymbol=h}if(this.NetworkFilter(l,function(t){n.RecvStockSortData(t),n.AutoUpdate()}),1==l.PreventDefault)return}throw{Name:"JSReportChartContainer::RequestStockSortData",Error:"(报价列表股票排序数据)不提供内置测试数据"}}},this.RecvStockSortData=function(t){var e=[];if(Ce.IsNonEmptyArray(t.data))for(var i=0;i<t.data.length;++i){var a=t.data[i],n=a[0];if(n){var r=null;this.MapStockData.has(n)?r=this.MapStockData.get(n):((r=new va).OriginalSymbol=n,r.Symbol=this.GetSymbolNoSuffix(n),this.MapStockData.set(n,r)),this.ReadStockJsonData(r,a),e.push(n)}}if(Ce.IsNonEmptyArray(t.index))for(var i=0;i<t.index.length;++i){var o=t.index[i],s=e[i],l=this.Data.Data[o];s!=l&&(this.Data.Data[o]=s)}var h=this.ChartPaint[0];if(h){this.Draw()}},this.ShowPageInfo=function(t){var e=this.ChartPaint[1];return!!e&&(e.IsShow=t,!0)}}(this.CanvasElement);if(e.Create(t),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),Ce.IsNonEmptyArray(t.Column)&&e.SetColumn(t.Column),Ce.IsNonEmptyArray(t.Tab)&&e.SetTab(t.Tab),Ce.IsNumber(t.TabSelected)&&e.SetSelectedTab(t.TabSelected),Ce.IsBool(t.EnableDragRow)&&(e.EnableDragRow=t.EnableDragRow),Ce.IsNumber(t.DragRowType)&&(e.DragRowType=t.DragRowType),t.SortInfo){var i=t.SortInfo;Ce.IsNumber(i.Field)&&(e.SortInfo.Field=i.Field),Ce.IsNumber(i.Sort)&&(e.SortInfo.Sort=i.Sort)}if(this.SetChartBorder(e,t),null!=t.IsAutoUpdate&&(e.IsAutoUpdate=t.IsAutoUpdate),t.AutoUpdateFrequency>0&&(e.AutoUpdateFrequency=t.AutoUpdateFrequency),Ce.IsBool(t.EnableFilter)&&(e.EnableFilter=t.EnableFilter),t.EventCallback)for(var a=0;a<t.EventCallback.length;++a){i=t.EventCallback[a];e.AddEventCallback(i)}return e},this.SetChartBorder=function(t,e){if(e.Border){e.Border;Ce.IsNumber(e.Border.Left)&&(t.Frame.ChartBorder.Left=e.Border.Left),Ce.IsNumber(e.Border.Right)&&(t.Frame.ChartBorder.Right=e.Border.Right),Ce.IsNumber(e.Border.Top)&&(t.Frame.ChartBorder.Top=e.Border.Top),Ce.IsNumber(e.Border.Bottom)&&(t.Frame.ChartBorder.Bottom=e.Border.Bottom);var i=L();t.Frame.ChartBorder.Left*=i,t.Frame.ChartBorder.Right*=i,t.Frame.ChartBorder.Top*=i,t.Frame.ChartBorder.Bottom*=i}},this.ChangeSymbol=function(t,e){this.JSChartContainer&&this.JSChartContainer.ChangeSymbol(t,e)},this.SetColumn=function(t,e){this.JSChartContainer&&this.JSChartContainer.SetColumn(t,e)},this.EnableFilter=function(t,e){this.JSChartContainer&&this.JSChartContainer.EnableFilter(t,e)},this.AddEventCallback=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddEventCallback&&(g.Chart.Log("[JSReportChart:AddEventCallback] obj=",t),this.JSChartContainer.AddEventCallback(t))},this.ReloadResource=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ReloadResource&&(g.Chart.Log("[JSReportChart:ReloadResource] "),this.JSChartContainer.ReloadResource(t))},this.ChartDestory=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChartDestory&&this.JSChartContainer.ChartDestory()},this.Draw=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.Draw&&(g.Chart.Log("[JSReportChart:Draw] "),this.JSChartContainer.Draw())}}function va(){this.OriginalSymbol,this.Symbol,this.Name,this.YClose,this.Open,this.Price,this.High,this.Low,this.Amount,this.Vol,this.Increase,this.UpDown,this.Exchange,this.Amplitude,this.BuyPrice,this.BuyVol,this.SellPrice,this.SellVol,this.AvPrice,this.LimitHigh,this.LimitLow,this.VolIn,this.VolOut,this.DealNum,this.OutShares,this.TotalShares,this.MarketValue,this.CircMarketValue,this.ExtendData}ma.Init=function(t){var e=new ma(t);return e.OnSize(),e},ma.SetStyle=function(t){t&&Qe.SetStyle(t)},ma.GetResource=function(){return Qe};var ga={SYMBOL_ID:0,NAME_ID:1,PRICE_ID:2,VOL_ID:3,INCREASE_ID:4,UPDOWN_ID:5,BUY_PRICE_ID:6,SELL_PRICE_ID:7,AMOUNT_ID:8,BUY_VOL_ID:9,SELL_VOL_ID:10,YCLOSE_ID:11,OPEN_ID:12,HIGH_ID:13,LOW_ID:14,AVERAGE_PRICE_ID:15,INDEX_ID:16,OUTSTANDING_SHARES_ID:17,TOTAL_SHARES_ID:18,CIRC_MARKET_VALUE_ID:19,MARKET_VALUE_ID:20,EXCHANGE_RATE_ID:21,AMPLITUDE_ID:22,LIMIT_HIGH_ID:23,LIMIT_LOW_ID:24,VOL_IN_ID:25,VOL_OUT_ID:26,SYMBOL_NAME_ID:27,CUSTOM_STRING_TEXT_ID:100,CUSTOM_NUMBER_TEXT_ID:101,CUSTOM_DATETIME_TEXT_ID:102},Ca=new p.default([[ga.SYMBOL_ID,"Symbol"],[ga.NAME_ID,"Name"],[ga.PRICE_ID,"Price"],[ga.INCREASE_ID,"Increase"],[ga.UPDOWN_ID,"UpDown"],[ga.VOL_ID,"Vol"],[ga.BUY_PRICE_ID,"BuyPrice"],[ga.SELL_PRICE_ID,"SellPrice"],[ga.AMOUNT_ID,"Amount"],[ga.BUY_VOL_ID,"BuyVol"],[ga.SELL_VOL_ID,"SellVol"],[ga.YCLOSE_ID,"YClose"],[ga.OPEN_ID,"Open"],[ga.HIGH_ID,"High"],[ga.LOW_ID,"Low"],[ga.AVERAGE_PRICE_ID,"AvPrice"],[ga.OUTSTANDING_SHARES_ID,"OutShares"],[ga.TOTAL_SHARES_ID,"TotalShares"],[ga.CIRC_MARKET_VALUE_ID,"CircMarketValue"],[ga.MARKET_VALUE_ID,"MarketValue"],[ga.EXCHANGE_RATE_ID,"Exchange"],[ga.AMPLITUDE_ID,"Amplitude"],[ga.LIMIT_HIGH_ID,"LimitHigh"],[ga.LIMIT_LOW_ID,"LimitLow"],[ga.VOL_IN_ID,"VolIn"],[ga.VOL_OUT_ID,"VolOut"]]);e.default=(n={jsChartInit:T.Init,jsChartStyle:T.SetStyle,JSChart:T,ChartData:mt,HistoryData:ot,MARKET_SUFFIX_NAME:Ii,IFrameSplitOperator:Ce,FrameSplitKLinePriceY:De,FrameSplitKLineX:xe,JSKLineInfoMap:mi,JSCHART_EVENT_ID:b,JSCHART_OPERATOR_ID:w,JSCHART_DATA_FIELD_ID:A,JSAlgorithm:Ki,JSComplier:Qi,JSIndexScript:I,GetDevicePixelRatio:L},(0,u.default)(n,"GetDevicePixelRatio",L),(0,u.default)(n,"ScriptIndexConsole",sa),(0,u.default)(n,"STYLE_TYPE_ID",ua),(0,u.default)(n,"HQChartStyle",ca),(0,u.default)(n,"JSConsole",g),(0,u.default)(n,"KLineTooltipPaint",fe),(0,u.default)(n,"MinuteTooltipPaint",pe),(0,u.default)(n,"ChartDrawTwoPointDemo",$e),(0,u.default)(n,"ChartDrawThreePointDemo",je),(0,u.default)(n,"CoordinateInfo",Y),(0,u.default)(n,"JSDealChart",da),(0,u.default)(n,"DEAL_COLUMN_ID",pa),(0,u.default)(n,"JSReportChart",ma),(0,u.default)(n,"REPORT_COLUMN_ID",ga),(0,u.default)(n,"IChartPainting",bt),(0,u.default)(n,"IExtendChartPainting",de),(0,u.default)(n,"IChartTitlePainting",Oe),(0,u.default)(n,"IChartDrawPicture",He),(0,u.default)(n,"DynamicTitleData",ke),n)},"0sHC":function(t,e,i){var a=i("/gxq"),n=i("dE09"),r=i("DRaW"),o=i("dOVI"),s=i("C7PF"),l=i("GxVO"),h=i("/ZBO"),u=i("MAom");e.Image=u;var c=i("AlhT");e.Group=c;var d=i("/86O");e.Text=d;var f=i("Of86");e.Circle=f;var p=i("sRta");e.Sector=p;var m=i("6Kqb");e.Ring=m;var v=i("+UTs");e.Polygon=v;var g=i("BeCT");e.Polyline=g;var C=i("PD67");e.Rect=C;var D=i("KsMi");e.Line=D;var y=i("67nf");e.BezierCurve=y;var x=i("46eW");e.Arc=x;var S=i("me52");e.CompoundPath=S;var I=i("Gw4f");e.LinearGradient=I;var T=i("jHiU");e.RadialGradient=T;var b=i("8b51");e.BoundingRect=b;var w=i("thE4");e.IncrementalDisplayable=w;var M=i("xr8J"),E=Math.max,A=Math.min,_={},L=1,F="emphasis",O="normal",P=1,N={},R={};function B(t,e){R[t]=e}function k(t,e,i,a){var r=n.createFromString(t,e);return i&&("center"===a&&(i=V(i,r.getBoundingRect())),G(r,i)),r}function V(t,e){var i,a=e.width/e.height,n=t.height*a;return i=n<=t.width?t.height:(n=t.width)/a,{x:t.x+t.width/2-n/2,y:t.y+t.height/2-i/2,width:n,height:i}}var H=n.mergePath;function G(t,e){if(t.applyTransform){var i=t.getBoundingRect().calculateTransform(e);t.applyTransform(i)}}var Y=M.subPixelOptimize;function W(t){return null!=t&&"none"!==t}var X=a.createHashMap(),U=0;function z(t){var e=t.__hoverStl;if(e&&!t.__highlighted){var i=t.__zr,a=t.useHoverLayer&&i&&"canvas"===i.painter.type;if(t.__highlighted=a?"layer":"plain",!(t.isGroup||!i&&t.useHoverLayer)){var n=t,r=t.style;a&&(r=(n=i.addHover(t)).style),lt(r),a||function(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(e){var i=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var a=t.style;for(var n in e)null!=e[n]&&(i[n]=a[n]);i.fill=a.fill,i.stroke=a.stroke}else t.__cachedNormalStl=t.__cachedNormalZ2=null}}(n),r.extendFrom(e),K(r,e,"fill"),K(r,e,"stroke"),st(r),a||(t.dirty(!1),t.z2+=L)}}}function K(t,e,i){!W(e[i])&&W(t[i])&&(t[i]=function(t){if("string"!=typeof t)return t;var e=X.get(t);return e||(e=r.lift(t,-.1),U<1e4&&(X.set(t,e),U++)),e}(t[i]))}function $(t){var e=t.__highlighted;if(e&&(t.__highlighted=!1,!t.isGroup))if("layer"===e)t.__zr&&t.__zr.removeHover(t);else{var i=t.style,a=t.__cachedNormalStl;a&&(lt(i),t.setStyle(a),st(i));var n=t.__cachedNormalZ2;null!=n&&t.z2-n===L&&(t.z2=n)}}function j(t,e,i){var a,n=O,r=O;t.__highlighted&&(n=F,a=!0),e(t,i),t.__highlighted&&(r=F,a=!0),t.isGroup&&t.traverse(function(t){!t.isGroup&&e(t,i)}),a&&t.__highDownOnUpdate&&t.__highDownOnUpdate(n,r)}function q(t,e){e=t.__hoverStl=!1!==e&&(t.hoverStyle||e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,$(t),z(t))}function J(t){!et(this,t)&&!this.__highByOuter&&j(this,z)}function Z(t){!et(this,t)&&!this.__highByOuter&&j(this,$)}function Q(t){this.__highByOuter|=1<<(t||0),j(this,z)}function tt(t){!(this.__highByOuter&=~(1<<(t||0)))&&j(this,$)}function et(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function it(t,e){var i=!1===e;if(t.__highDownSilentOnTouch=t.highDownSilentOnTouch,t.__highDownOnUpdate=t.highDownOnUpdate,!i||t.__highDownDispatcher){var a=i?"off":"on";t[a]("mouseover",J)[a]("mouseout",Z),t[a]("emphasis",Q)[a]("normal",tt),t.__highByOuter=t.__highByOuter||0,t.__highDownDispatcher=!i}}function at(t,e,i,n,r){return nt(t,e,n,r),i&&a.extend(t,i),t}function nt(t,e,i,n){if((i=i||_).isRectText){var r;i.getTextPosition?r=i.getTextPosition(e,n):"outside"===(r=e.getShallow("position")||(n?null:"inside"))&&(r="top"),t.textPosition=r,t.textOffset=e.getShallow("offset");var o=e.getShallow("rotate");null!=o&&(o*=Math.PI/180),t.textRotation=o,t.textDistance=a.retrieve2(e.getShallow("distance"),n?null:5)}var s,l=e.ecModel,h=l&&l.option.textStyle,u=function(t){var e;for(;t&&t!==t.ecModel;){var i=(t.option||_).rich;if(i)for(var a in e=e||{},i)i.hasOwnProperty(a)&&(e[a]=1);t=t.parentModel}return e}(e);if(u)for(var c in s={},u)if(u.hasOwnProperty(c)){var d=e.getModel(["rich",c]);rt(s[c]={},d,h,i,n)}return t.rich=s,rt(t,e,h,i,n,!0),i.forceRich&&!i.textStyle&&(i.textStyle={}),t}function rt(t,e,i,n,r,o){i=!r&&i||_,t.textFill=ot(e.getShallow("color"),n)||i.color,t.textStroke=ot(e.getShallow("textBorderColor"),n)||i.textBorderColor,t.textStrokeWidth=a.retrieve2(e.getShallow("textBorderWidth"),i.textBorderWidth),r||(o&&(t.insideRollbackOpt=n,st(t)),null==t.textFill&&(t.textFill=n.autoColor)),t.fontStyle=e.getShallow("fontStyle")||i.fontStyle,t.fontWeight=e.getShallow("fontWeight")||i.fontWeight,t.fontSize=e.getShallow("fontSize")||i.fontSize,t.fontFamily=e.getShallow("fontFamily")||i.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),o&&n.disableBox||(t.textBackgroundColor=ot(e.getShallow("backgroundColor"),n),t.textPadding=e.getShallow("padding"),t.textBorderColor=ot(e.getShallow("borderColor"),n),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||i.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||i.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||i.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||i.textShadowOffsetY}function ot(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function st(t){var e,i=t.textPosition,a=t.insideRollbackOpt;if(a&&null==t.textFill){var n=a.autoColor,r=a.isRectText,o=a.useInsideStyle,s=!1!==o&&(!0===o||r&&i&&"string"==typeof i&&i.indexOf("inside")>=0),l=!s&&null!=n;(s||l)&&(e={textFill:t.textFill,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth}),s&&(t.textFill="#fff",null==t.textStroke&&(t.textStroke=n,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),l&&(t.textFill=n)}t.insideRollback=e}function lt(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function ht(t,e,i,a,n,r){if("function"==typeof n&&(r=n,n=null),a&&a.isAnimationEnabled()){var o=t?"Update":"",s=a.getShallow("animationDuration"+o),l=a.getShallow("animationEasing"+o),h=a.getShallow("animationDelay"+o);"function"==typeof h&&(h=h(n,a.getAnimationDelayParams?a.getAnimationDelayParams(e,n):null)),"function"==typeof s&&(s=s(n)),s>0?e.animateTo(i,s,h||0,l,r,!!r):(e.stopAnimation(),e.attr(i),r&&r())}else e.stopAnimation(),e.attr(i),r&&r()}function ut(t,e,i,a,n){ht(!0,t,e,i,a,n)}function ct(t,e,i){return e&&!a.isArrayLike(e)&&(e=h.getLocalTransform(e)),i&&(e=o.invert([],e)),s.applyTransform([],t,e)}function dt(t,e,i,a,n,r,o,s){var l,h=i-t,u=a-e,c=o-n,d=s-r,f=ft(c,d,h,u);if((l=f)<=1e-6&&l>=-1e-6)return!1;var p=t-n,m=e-r,v=ft(p,m,h,u)/f;if(v<0||v>1)return!1;var g=ft(p,m,c,d)/f;return!(g<0||g>1)}function ft(t,e,i,a){return t*a-i*e}B("circle",f),B("sector",p),B("ring",m),B("polygon",v),B("polyline",g),B("rect",C),B("line",D),B("bezierCurve",y),B("arc",x),e.Z2_EMPHASIS_LIFT=L,e.CACHED_LABEL_STYLE_PROPERTIES={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},e.extendShape=function(t){return l.extend(t)},e.extendPath=function(t,e){return n.extendFromString(t,e)},e.registerShape=B,e.getShapeClass=function(t){if(R.hasOwnProperty(t))return R[t]},e.makePath=k,e.makeImage=function(t,e,i){var a=new u({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===i){var n={width:t.width,height:t.height};a.setStyle(V(e,n))}}});return a},e.mergePath=H,e.resizePath=G,e.subPixelOptimizeLine=function(t){return M.subPixelOptimizeLine(t.shape,t.shape,t.style),t},e.subPixelOptimizeRect=function(t){return M.subPixelOptimizeRect(t.shape,t.shape,t.style),t},e.subPixelOptimize=Y,e.setElementHoverStyle=q,e.setHoverStyle=function(t,e){it(t,!0),j(t,q,e)},e.setAsHighDownDispatcher=it,e.isHighDownDispatcher=function(t){return!(!t||!t.__highDownDispatcher)},e.getHighlightDigit=function(t){var e=N[t];return null==e&&P<=32&&(e=N[t]=P++),e},e.setLabelStyle=function(t,e,i,n,r,o,s){var l,h=(r=r||_).labelFetcher,u=r.labelDataIndex,c=r.labelDimIndex,d=i.getShallow("show"),f=n.getShallow("show");(d||f)&&(h&&(l=h.getFormattedLabel(u,"normal",null,c)),null==l&&(l=a.isFunction(r.defaultText)?r.defaultText(u,r):r.defaultText));var p=d?l:null,m=f?a.retrieve2(h?h.getFormattedLabel(u,"emphasis",null,c):null,l):null;null==p&&null==m||(at(t,i,o,r),at(e,n,s,r,!0)),t.text=p,e.text=m},e.modifyLabelStyle=function(t,e,i){var n=t.style;e&&(lt(n),t.setStyle(e),st(n)),n=t.__hoverStl,i&&n&&(lt(n),a.extend(n,i),st(n))},e.setTextStyle=at,e.setText=function(t,e,i){var a,n={isRectText:!0};!1===i?a=!0:n.autoColor=i,nt(t,e,n,a)},e.getFont=function(t,e){var i=e||e.getModel("textStyle");return a.trim([t.fontStyle||i&&i.getShallow("fontStyle")||"",t.fontWeight||i&&i.getShallow("fontWeight")||"",(t.fontSize||i&&i.getShallow("fontSize")||12)+"px",t.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))},e.updateProps=ut,e.initProps=function(t,e,i,a,n){ht(!1,t,e,i,a,n)},e.getTransform=function(t,e){for(var i=o.identity([]);t&&t!==e;)o.mul(i,t.getLocalTransform(),i),t=t.parent;return i},e.applyTransform=ct,e.transformDirection=function(t,e,i){var a=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),n=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),r=["left"===t?-a:"right"===t?a:0,"top"===t?-n:"bottom"===t?n:0];return r=ct(r,e,i),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"},e.groupTransition=function(t,e,i,n){if(t&&e){var r,o=(r={},t.traverse(function(t){!t.isGroup&&t.anid&&(r[t.anid]=t)}),r);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=o[t.anid];if(e){var a=l(t);t.attr(l(e)),ut(t,a,i,t.dataIndex)}}})}function l(t){var e={position:s.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=a.extend({},t.shape)),e}},e.clipPointsByRect=function(t,e){return a.map(t,function(t){var i=t[0];i=E(i,e.x),i=A(i,e.x+e.width);var a=t[1];return a=E(a,e.y),[i,a=A(a,e.y+e.height)]})},e.clipRectByRect=function(t,e){var i=E(t.x,e.x),a=A(t.x+t.width,e.x+e.width),n=E(t.y,e.y),r=A(t.y+t.height,e.y+e.height);if(a>=i&&r>=n)return{x:i,y:n,width:a-i,height:r-n}},e.createIcon=function(t,e,i){var n=(e=a.extend({rectHover:!0},e)).style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(n.image=t.slice(8),a.defaults(n,i),new u(e)):k(t.replace("path://",""),e,i,"center")},e.linePolygonIntersect=function(t,e,i,a,n){for(var r=0,o=n[n.length-1];r<n.length;r++){var s=n[r];if(dt(t,e,i,a,s[0],s[1],o[0],o[1]))return!0;o=s}},e.lineLineIntersect=dt},"162o":function(t,e,i){(function(t){var a=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(n.call(setTimeout,a,arguments),clearTimeout)},e.setInterval=function(){return new r(n.call(setInterval,a,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(a,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i("mypn"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,i("DuR2"))},"1A4n":function(t,e,i){var a=i("/gxq"),n=i("0sHC"),r=i("Ylhr");function o(t,e,i,a){var n=e.getData(),r=this.dataIndex,o=n.getName(r),l=e.get("selectedOffset");a.dispatchAction({type:"pieToggleSelect",from:t,name:o,seriesId:e.id}),n.each(function(t){s(n.getItemGraphicEl(t),n.getItemLayout(t),e.isSelected(n.getName(t)),l,i)})}function s(t,e,i,a,n){var r=(e.startAngle+e.endAngle)/2,o=Math.cos(r),s=Math.sin(r),l=i?a:0,h=[o*l,s*l];n?t.animate().when(200,{position:h}).start("bounceOut"):t.attr("position",h)}function l(t,e){n.Group.call(this);var i=new n.Sector({z2:2}),a=new n.Polyline,r=new n.Text;this.add(i),this.add(a),this.add(r),this.updateData(t,e,!0)}var h=l.prototype;h.updateData=function(t,e,i){var r=this.childAt(0),o=this.childAt(1),l=this.childAt(2),h=t.hostModel,u=t.getItemModel(e),c=t.getItemLayout(e),d=a.extend({},c);d.label=null;var f=h.getShallow("animationTypeUpdate");i?(r.setShape(d),"scale"===h.getShallow("animationType")?(r.shape.r=c.r0,n.initProps(r,{shape:{r:c.r}},h,e)):(r.shape.endAngle=c.startAngle,n.updateProps(r,{shape:{endAngle:c.endAngle}},h,e))):"expansion"===f?r.setShape(d):n.updateProps(r,{shape:d},h,e);var p=t.getItemVisual(e,"color");r.useStyle(a.defaults({lineJoin:"bevel",fill:p},u.getModel("itemStyle").getItemStyle())),r.hoverStyle=u.getModel("emphasis.itemStyle").getItemStyle();var m=u.getShallow("cursor");m&&r.attr("cursor",m),s(this,t.getItemLayout(e),h.isSelected(null,e),h.get("selectedOffset"),h.get("animation"));var v=!i&&"transition"===f;this._updateLabel(t,e,v),this.highDownOnUpdate=u.get("hoverAnimation")&&h.isAnimationEnabled()?function(t,e){"emphasis"===e?(o.ignore=o.hoverIgnore,l.ignore=l.hoverIgnore,r.stopAnimation(!0),r.animateTo({shape:{r:c.r+h.get("hoverOffset")}},300,"elasticOut")):(o.ignore=o.normalIgnore,l.ignore=l.normalIgnore,r.stopAnimation(!0),r.animateTo({shape:{r:c.r}},300,"elasticOut"))}:null,n.setHoverStyle(this)},h._updateLabel=function(t,e,i){var a=this.childAt(1),r=this.childAt(2),o=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e).label,h=t.getItemVisual(e,"color");if(!l||isNaN(l.x)||isNaN(l.y))r.ignore=r.normalIgnore=r.hoverIgnore=a.ignore=a.normalIgnore=a.hoverIgnore=!0;else{var u={points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]},c={x:l.x,y:l.y};i?(n.updateProps(a,{shape:u},o,e),n.updateProps(r,{style:c},o,e)):(a.attr({shape:u}),r.attr({style:c})),r.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var d=s.getModel("label"),f=s.getModel("emphasis.label"),p=s.getModel("labelLine"),m=s.getModel("emphasis.labelLine");h=t.getItemVisual(e,"color");n.setLabelStyle(r.style,r.hoverStyle={},d,f,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:h,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),r.ignore=r.normalIgnore=!d.get("show"),r.hoverIgnore=!f.get("show"),a.ignore=a.normalIgnore=!p.get("show"),a.hoverIgnore=!m.get("show"),a.setStyle({stroke:h,opacity:t.getItemVisual(e,"opacity")}),a.setStyle(p.getModel("lineStyle").getLineStyle()),a.hoverStyle=m.getModel("lineStyle").getLineStyle();var v=p.get("smooth");v&&!0===v&&(v=.4),a.setShape({smooth:v})}},a.inherits(l,n.Group);var u=r.extend({type:"pie",init:function(){var t=new n.Group;this._sectorGroup=t},render:function(t,e,i,n){if(!n||n.from!==this.uid){var r=t.getData(),s=this._data,h=this.group,u=e.get("animation"),c=!s,d=t.get("animationType"),f=t.get("animationTypeUpdate"),p=a.curry(o,this.uid,t,u,i),m=t.get("selectedMode");if(r.diff(s).add(function(t){var e=new l(r,t);c&&"scale"!==d&&e.eachChild(function(t){t.stopAnimation(!0)}),m&&e.on("click",p),r.setItemGraphicEl(t,e),h.add(e)}).update(function(t,e){var i=s.getItemGraphicEl(e);c||"transition"===f||i.eachChild(function(t){t.stopAnimation(!0)}),i.updateData(r,t),i.off("click"),m&&i.on("click",p),h.add(i),r.setItemGraphicEl(t,i)}).remove(function(t){var e=s.getItemGraphicEl(t);h.remove(e)}).execute(),u&&r.count()>0&&(c?"scale"!==d:"transition"!==f)){for(var v=r.getItemLayout(0),g=1;isNaN(v.startAngle)&&g<r.count();++g)v=r.getItemLayout(g);var C=Math.max(i.getWidth(),i.getHeight())/2,D=a.bind(h.removeClipPath,h);h.setClipPath(this._createClipPath(v.cx,v.cy,C,v.startAngle,v.clockwise,D,t,c))}else h.removeClipPath();this._data=r}},dispose:function(){},_createClipPath:function(t,e,i,a,r,o,s,l){var h=new n.Sector({shape:{cx:t,cy:e,r0:0,r:i,startAngle:a,endAngle:a,clockwise:r}});return(l?n.initProps:n.updateProps)(h,{shape:{endAngle:a+(r?1:-1)*Math.PI*2}},s,o),h},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){var a=t[0]-i.cx,n=t[1]-i.cy,r=Math.sqrt(a*a+n*n);return r<=i.r&&r>=i.r0}}});t.exports=u},"1FNb":function(t,e,i){var a=i("Icdr");i("z81E"),i("0nGg"),i("iZVd");var n=i("T6W2"),r=i("AjK0"),o=i("akwy"),s=i("TXKS"),l=i("4RQY"),h=i("NAKW"),u=i("pzOI"),c=i("KGuM");a.registerProcessor(n),a.registerVisual(r("graph","circle",null)),a.registerVisual(o),a.registerVisual(s),a.registerLayout(l),a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,h),a.registerLayout(u),a.registerCoordinateSystem("graphView",{create:c})},"1Hui":function(t,e){function i(t){return t}function a(t,e,a,n,r){this._old=t,this._new=e,this._oldKeyGetter=a||i,this._newKeyGetter=n||i,this.context=r}function n(t,e,i,a,n){for(var r=0;r<t.length;r++){var o="_ec_"+n[a](t[r],r),s=e[o];null==s?(i.push(o),e[o]=r):(s.length||(e[o]=s=[s]),s.push(r))}}a.prototype={constructor:a,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,i={},a=[],r=[];for(n(t,{},a,"_oldKeyGetter",this),n(e,i,r,"_newKeyGetter",this),o=0;o<t.length;o++){if(null!=(l=i[s=a[o]]))(u=l.length)?(1===u&&(i[s]=null),l=l.shift()):i[s]=null,this._update&&this._update(l,o);else this._remove&&this._remove(o)}for(var o=0;o<r.length;o++){var s=r[o];if(i.hasOwnProperty(s)){var l;if(null==(l=i[s]))continue;if(l.length)for(var h=0,u=l.length;h<u;h++)this._add&&this._add(l[h]);else this._add&&this._add(l)}}}};var r=a;t.exports=r},"1Nix":function(t,e,i){var a=i("/gxq").map,n=i("CqCN"),r=i("qVJQ").isDimensionStacked;t.exports=function(t){return{seriesType:t,plan:n(),reset:function(t){var e=t.getData(),i=t.coordinateSystem,n=t.pipelineContext.large;if(i){var o=a(i.dimensions,function(t){return e.mapDimension(t)}).slice(0,2),s=o.length,l=e.getCalculationInfo("stackResultDimension");return r(e,o[0])&&(o[0]=l),r(e,o[1])&&(o[1]=l),s&&{progress:function(t,e){for(var a=t.end-t.start,r=n&&new Float32Array(a*s),l=t.start,h=0,u=[],c=[];l<t.end;l++){var d;if(1===s){var f=e.get(o[0],l);d=!isNaN(f)&&i.dataToPoint(f,null,c)}else{f=u[0]=e.get(o[0],l);var p=u[1]=e.get(o[1],l);d=!isNaN(f)&&!isNaN(p)&&i.dataToPoint(u,null,c)}n?(r[h++]=d?d[0]:NaN,r[h++]=d?d[1]:NaN):e.setItemLayout(l,d&&d.slice()||[NaN,NaN])}n&&e.setLayout("symbolPoints",r)}}}}}}},"1VkX":function(t,e,i){var a=i("/gxq"),n=i("Ylhr"),r=i("0sHC"),o=i("GxVO"),s=i("DDYI").createClipPath,l=["itemStyle"],h=["emphasis","itemStyle"],u=["color","color0","borderColor","borderColor0"],c=n.extend({type:"candlestick",render:function(t,e,i){this.group.removeClipPath(),this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},incrementalPrepareRender:function(t,e,i){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,i,a){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t){var e=t.getData(),i=this._data,a=this.group,n=e.getLayout("isSimpleBox"),o=t.get("clip",!0),s=t.coordinateSystem,l=s.getArea&&s.getArea();this._data||a.removeAll(),e.diff(i).add(function(i){if(e.hasValue(i)){var s,h=e.getItemLayout(i);if(o&&p(l,h))return;s=f(h,i,!0),r.initProps(s,{shape:{points:h.ends}},t,i),m(s,e,i,n),a.add(s),e.setItemGraphicEl(i,s)}}).update(function(s,h){var u=i.getItemGraphicEl(h);if(e.hasValue(s)){var c=e.getItemLayout(s);o&&p(l,c)?a.remove(u):(u?r.updateProps(u,{shape:{points:c.ends}},t,s):u=f(c,s),m(u,e,s,n),a.add(u),e.setItemGraphicEl(s,u))}else a.remove(u)}).remove(function(t){var e=i.getItemGraphicEl(t);e&&a.remove(e)}).execute(),this._data=e},_renderLarge:function(t){this._clear(),g(t,this.group);var e=t.get("clip",!0)?s(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},_incrementalRenderNormal:function(t,e){for(var i,a=e.getData(),n=a.getLayout("isSimpleBox");null!=(i=t.next());){var r;m(r=f(a.getItemLayout(i),i),a,i,n),r.incremental=!0,this.group.add(r)}},_incrementalRenderLarge:function(t,e){g(e,this.group,!0)},remove:function(t){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:a.noop}),d=o.extend({type:"normalCandlestickBox",shape:{},buildPath:function(t,e){var i=e.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))}});function f(t,e,i){var n=t.ends;return new d({shape:{points:i?function(t,e){return a.map(t,function(t){return(t=t.slice())[1]=e.initBaseline,t})}(n,t):n},z2:100})}function p(t,e){for(var i=!0,a=0;a<e.ends.length;a++)if(t.contain(e.ends[a][0],e.ends[a][1])){i=!1;break}return i}function m(t,e,i,a){var n=e.getItemModel(i),o=n.getModel(l),s=e.getItemVisual(i,"color"),c=e.getItemVisual(i,"borderColor")||s,d=o.getItemStyle(u);t.useStyle(d),t.style.strokeNoScale=!0,t.style.fill=s,t.style.stroke=c,t.__simpleBox=a;var f=n.getModel(h).getItemStyle();r.setHoverStyle(t,f)}var v=o.extend({type:"largeCandlestickBox",shape:{},buildPath:function(t,e){for(var i=e.points,a=0;a<i.length;)if(this.__sign===i[a++]){var n=i[a++];t.moveTo(n,i[a++]),t.lineTo(n,i[a++])}else a+=3}});function g(t,e,i){var a=t.getData(),n=a.getLayout("largePoints"),r=new v({shape:{points:n},__sign:1});e.add(r);var o=new v({shape:{points:n},__sign:-1});e.add(o),C(1,r,t,a),C(-1,o,t,a),i&&(r.incremental=!0,o.incremental=!0)}function C(t,e,i,a){var n=t>0?"P":"N",r=a.getVisual("borderColor"+n)||a.getVisual("color"+n),o=i.getModel(l).getItemStyle(u);e.useStyle(o),e.style.fill=null,e.style.stroke=r}var D=c;t.exports=D},"1Xuh":function(t,e,i){var a=i("/gxq"),n=i("8b51"),r=i("wWR3").parsePercent,o=i("HHfb"),s=a.each,l=["left","right","top","bottom","width","height"],h=[["width","left","right"],["height","top","bottom"]];function u(t,e,i,a,n){var r=0,o=0;null==a&&(a=1/0),null==n&&(n=1/0);var s=0;e.eachChild(function(l,h){var u,c,d=l.position,f=l.getBoundingRect(),p=e.childAt(h+1),m=p&&p.getBoundingRect();if("horizontal"===t){var v=f.width+(m?-m.x+f.x:0);(u=r+v)>a||l.newline?(r=0,u=v,o+=s+i,s=f.height):s=Math.max(s,f.height)}else{var g=f.height+(m?-m.y+f.y:0);(c=o+g)>n||l.newline?(r+=s+i,o=0,c=g,s=f.width):s=Math.max(s,f.width)}l.newline||(d[0]=r,d[1]=o,"horizontal"===t?r=u+i:o=c+i)})}var c=u,d=a.curry(u,"vertical"),f=a.curry(u,"horizontal");function p(t,e,i){i=o.normalizeCssArray(i||0);var a=e.width,s=e.height,l=r(t.left,a),h=r(t.top,s),u=r(t.right,a),c=r(t.bottom,s),d=r(t.width,a),f=r(t.height,s),p=i[2]+i[0],m=i[1]+i[3],v=t.aspect;switch(isNaN(d)&&(d=a-u-m-l),isNaN(f)&&(f=s-c-p-h),null!=v&&(isNaN(d)&&isNaN(f)&&(v>a/s?d=.8*a:f=.8*s),isNaN(d)&&(d=v*f),isNaN(f)&&(f=d/v)),isNaN(l)&&(l=a-u-d-m),isNaN(h)&&(h=s-c-f-p),t.left||t.right){case"center":l=a/2-d/2-i[3];break;case"right":l=a-d-m}switch(t.top||t.bottom){case"middle":case"center":h=s/2-f/2-i[0];break;case"bottom":h=s-f-p}l=l||0,h=h||0,isNaN(d)&&(d=a-m-l-(u||0)),isNaN(f)&&(f=s-p-h-(c||0));var g=new n(l+i[3],h+i[0],d,f);return g.margin=i,g}function m(t,e){return e&&t&&s(l,function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t}e.LOCATION_PARAMS=l,e.HV_NAMES=h,e.box=c,e.vbox=d,e.hbox=f,e.getAvailableSize=function(t,e,i){var a=e.width,n=e.height,s=r(t.x,a),l=r(t.y,n),h=r(t.x2,a),u=r(t.y2,n);return(isNaN(s)||isNaN(parseFloat(t.x)))&&(s=0),(isNaN(h)||isNaN(parseFloat(t.x2)))&&(h=a),(isNaN(l)||isNaN(parseFloat(t.y)))&&(l=0),(isNaN(u)||isNaN(parseFloat(t.y2)))&&(u=n),i=o.normalizeCssArray(i||0),{width:Math.max(h-s-i[1]-i[3],0),height:Math.max(u-l-i[0]-i[2],0)}},e.getLayoutRect=p,e.positionElement=function(t,e,i,r,o){var s=!o||!o.hv||o.hv[0],l=!o||!o.hv||o.hv[1],h=o&&o.boundingMode||"all";if(s||l){var u;if("raw"===h)u="group"===t.type?new n(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(u=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();(u=u.clone()).applyTransform(c)}e=p(a.defaults({width:u.width,height:u.height},e),i,r);var d=t.position,f=s?e.x-u.x:0,m=l?e.y-u.y:0;t.attr("position","raw"===h?[f,m]:[d[0]+f,d[1]+m])}},e.sizeCalculable=function(t,e){return null!=t[h[e][0]]||null!=t[h[e][1]]&&null!=t[h[e][2]]},e.mergeLayoutParam=function(t,e,i){!a.isObject(i)&&(i={});var n=i.ignoreSize;!a.isArray(n)&&(n=[n,n]);var r=l(h[0],0),o=l(h[1],1);function l(i,a){var r={},o=0,l={},h=0;if(s(i,function(e){l[e]=t[e]}),s(i,function(t){u(e,t)&&(r[t]=l[t]=e[t]),c(r,t)&&o++,c(l,t)&&h++}),n[a])return c(e,i[1])?l[i[2]]=null:c(e,i[2])&&(l[i[1]]=null),l;if(2!==h&&o){if(o>=2)return r;for(var d=0;d<i.length;d++){var f=i[d];if(!u(r,f)&&u(t,f)){r[f]=t[f];break}}return r}return l}function u(t,e){return t.hasOwnProperty(e)}function c(t,e){return null!=t[e]&&"auto"!==t[e]}function d(t,e,i){s(t,function(t){e[t]=i[t]})}d(h[0],t,r),d(h[1],t,o)},e.getLayoutParams=function(t){return m({},t)},e.copyLayoutParams=m},"1Y2G":function(t,e,i){var a=i("oLzS"),n=i("Sd0T"),r=i("utyv"),o=i("uF9H"),s=i("yYhy"),l=i("Dsid"),h=a.getBCHDigit(7973);function u(t,e){return o.getCharCountIndicator(t,e)+4}function c(t,e){var i=0;return t.forEach(function(t){var a=u(t.mode,e);i+=a+t.getBitsLength()}),i}e.from=function(t,e){return s.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,i){if(!s.isValid(t))throw new Error("Invalid QR Code version");void 0===i&&(i=o.BYTE);var r=8*(a.getSymbolTotalCodewords(t)-n.getTotalCodewordsCount(t,e));if(i===o.MIXED)return r;var l=r-u(i,t);switch(i){case o.NUMERIC:return Math.floor(l/10*3);case o.ALPHANUMERIC:return Math.floor(l/11*2);case o.KANJI:return Math.floor(l/13);case o.BYTE:default:return Math.floor(l/8)}},e.getBestVersionForData=function(t,i){var a,n=r.from(i,r.M);if(l(t)){if(t.length>1)return function(t,i){for(var a=1;a<=40;a++)if(c(t,a)<=e.getCapacity(a,i,o.MIXED))return a}(t,n);if(0===t.length)return 1;a=t[0]}else a=t;return function(t,i,a){for(var n=1;n<=40;n++)if(i<=e.getCapacity(n,a,t))return n}(a.mode,a.getLength(),n)},e.getEncodedBits=function(t){if(!s.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var e=t<<12;a.getBCHDigit(e)-h>=0;)e^=7973<<a.getBCHDigit(e)-h;return t<<12|e}},"1Yoh":function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},"1bHA":function(t,e,i){var a=i("/gxq"),n=i("kK7q").createSymbol,r=i("0sHC"),o=i("wWR3").parsePercent,s=i("RjA7").getDefaultLabel;function l(t,e,i){r.Group.call(this),this.updateData(t,e,i)}var h=l.prototype,u=l.getSymbolSize=function(t,e){var i=t.getItemVisual(e,"symbolSize");return i instanceof Array?i.slice():[+i,+i]};function c(t){return[t[0]/2,t[1]/2]}function d(t,e){this.parent.drift(t,e)}h._createSymbol=function(t,e,i,a,r){this.removeAll();var o=e.getItemVisual(i,"color"),s=n(t,-1,-1,2,2,o,r);s.attr({z2:100,culling:!0,scale:c(a)}),s.drift=d,this._symbolType=t,this.add(s)},h.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},h.getSymbolPath=function(){return this.childAt(0)},h.getScale=function(){return this.childAt(0).scale},h.highlight=function(){this.childAt(0).trigger("emphasis")},h.downplay=function(){this.childAt(0).trigger("normal")},h.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},h.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},h.updateData=function(t,e,i){this.silent=!1;var a=t.getItemVisual(e,"symbol")||"circle",n=t.hostModel,o=u(t,e),s=a!==this._symbolType;if(s){var l=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(a,t,e,o,l)}else{(h=this.childAt(0)).silent=!1,r.updateProps(h,{scale:c(o)},n,e)}if(this._updateCommon(t,e,o,i),s){var h=this.childAt(0),d=i&&i.fadeIn,f={scale:h.scale.slice()};d&&(f.style={opacity:h.style.opacity}),h.scale=[0,0],d&&(h.style.opacity=0),r.initProps(h,f,n,e)}this._seriesModel=n};var f=["itemStyle"],p=["emphasis","itemStyle"],m=["label"],v=["emphasis","label"];function g(t,e){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===e){var i=this.__symbolOriginalScale,a=i[1]/i[0],n={scale:[Math.max(1.1*i[0],i[0]+3),Math.max(1.1*i[1],i[1]+3*a)]};this.animateTo(n,400,"elasticOut")}else"normal"===e&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}h._updateCommon=function(t,e,i,n){var l=this.childAt(0),h=t.hostModel,u=t.getItemVisual(e,"color");"image"!==l.type?l.useStyle({strokeNoScale:!0}):l.setStyle({opacity:null,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var d=n&&n.itemStyle,C=n&&n.hoverItemStyle,D=n&&n.symbolRotate,y=n&&n.symbolOffset,x=n&&n.labelModel,S=n&&n.hoverLabelModel,I=n&&n.hoverAnimation,T=n&&n.cursorStyle;if(!n||t.hasItemOption){var b=n&&n.itemModel?n.itemModel:t.getItemModel(e);d=b.getModel(f).getItemStyle(["color"]),C=b.getModel(p).getItemStyle(),D=b.getShallow("symbolRotate"),y=b.getShallow("symbolOffset"),x=b.getModel(m),S=b.getModel(v),I=b.getShallow("hoverAnimation"),T=b.getShallow("cursor")}else C=a.extend({},C);var w=l.style;l.attr("rotation",(D||0)*Math.PI/180||0),y&&l.attr("position",[o(y[0],i[0]),o(y[1],i[1])]),T&&l.attr("cursor",T),l.setColor(u,n&&n.symbolInnerColor),l.setStyle(d);var M=t.getItemVisual(e,"opacity");null!=M&&(w.opacity=M);var E=t.getItemVisual(e,"liftZ"),A=l.__z2Origin;null!=E?null==A&&(l.__z2Origin=l.z2,l.z2+=E):null!=A&&(l.z2=A,l.__z2Origin=null);var _=n&&n.useNameLabel;r.setLabelStyle(w,C,x,S,{labelFetcher:h,labelDataIndex:e,defaultText:function(e,i){return _?t.getName(e):s(t,e)},isRectText:!0,autoColor:u}),l.__symbolOriginalScale=c(i),l.hoverStyle=C,l.highDownOnUpdate=I&&h.isAnimationEnabled()?g:null,r.setHoverStyle(l)},h.fadeOut=function(t,e){var i=this.childAt(0);this.silent=i.silent=!0,(!e||!e.keepLabel)&&(i.style.text=null),r.updateProps(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},a.inherits(l,r.Group);var C=l;t.exports=C},"1bf2":function(t,e,i){i("PBlc"),i("rFvp")},"1kS7":function(t,e){e.f=Object.getOwnPropertySymbols},"1oZe":function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t){return{methods:{focus:function(){this.$refs[t].focus()}}}}},"1uRk":function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=i("BNYN").enableClassCheck;function r(t){return"_EC_"+t}var o=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},s=o.prototype;function l(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function h(t,e,i){this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}s.type="graph",s.isDirected=function(){return this._directed},s.addNode=function(t,e){t=null==t?""+e:""+t;var i=this._nodesMap;if(!i[r(t)]){var a=new l(t,e);return a.hostGraph=this,this.nodes.push(a),i[r(t)]=a,a}},s.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},s.getNodeById=function(t){return this._nodesMap[r(t)]},s.addEdge=function(t,e,i){var a=this._nodesMap,n=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),l.isInstance(t)||(t=a[r(t)]),l.isInstance(e)||(e=a[r(e)]),t&&e){var o=t.id+"-"+e.id;if(!n[o]){var s=new h(t,e,i);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),n[o]=s,s}}},s.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},s.getEdge=function(t,e){l.isInstance(t)&&(t=t.id),l.isInstance(e)&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},s.eachNode=function(t,e){for(var i=this.nodes,a=i.length,n=0;n<a;n++)i[n].dataIndex>=0&&t.call(e,i[n],n)},s.eachEdge=function(t,e){for(var i=this.edges,a=i.length,n=0;n<a;n++)i[n].dataIndex>=0&&i[n].node1.dataIndex>=0&&i[n].node2.dataIndex>=0&&t.call(e,i[n],n)},s.breadthFirstTraverse=function(t,e,i,a){if(l.isInstance(e)||(e=this._nodesMap[r(e)]),e){for(var n="out"===i?"outEdges":"in"===i?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(a,e,null))for(var s=[e];s.length;){var h=s.shift(),u=h[n];for(o=0;o<u.length;o++){var c=u[o],d=c.node1===h?c.node2:c.node1;if(!d.__visited){if(t.call(a,d,h))return;s.push(d),d.__visited=!0}}}}},s.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,a=this.edges,n=0,r=i.length;n<r;n++)i[n].dataIndex=-1;for(n=0,r=t.count();n<r;n++)i[t.getRawIndex(n)].dataIndex=n;e.filterSelf(function(t){var i=a[e.getRawIndex(t)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0});for(n=0,r=a.length;n<r;n++)a[n].dataIndex=-1;for(n=0,r=e.count();n<r;n++)a[e.getRawIndex(n)].dataIndex=n},s.clone=function(){for(var t=new o(this._directed),e=this.nodes,i=this.edges,a=0;a<e.length;a++)t.addNode(e[a].id,e[a].dataIndex);for(a=0;a<i.length;a++){var n=i[a];t.addEdge(n.node1.id,n.node2.id,n.dataIndex)}return t},l.prototype={constructor:l,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},h.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};var u=function(t,e){return{getValue:function(i){var a=this[t][e];return a.get(a.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,a){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,i,a)},getVisual:function(i,a){return this[t][e].getItemVisual(this.dataIndex,i,a)},setLayout:function(i,a){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,i,a)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};a.mixin(l,u("hostGraph","data")),a.mixin(h,u("hostGraph","edgeData")),o.Node=l,o.Edge=h,n(l),n(h);var c=o;t.exports=c},"21It":function(t,e,i){"use strict";var a=i("FtD3");t.exports=function(t,e,i){var n=i.config.validateStatus;!n||n(i.status)?t(i):e(a("Request failed with status code "+i.status,i.config,null,i.request,i))}},"28kU":function(t,e){e.ContextCachedBy={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},e.WILL_BE_RESTORED=9},"2HcM":function(t,e,i){var a=i("/gxq"),n=a.each,r=a.map,o=i("wWR3"),s=o.linearMap,l=o.getPixelPrecision,h=o.round,u=i("SiPa"),c=u.createAxisTicks,d=u.createAxisLabels,f=u.calculateCategoryInterval,p=[0,1],m=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1};function v(t,e){var i=(t[1]-t[0])/e/2;t[0]+=i,t[1]-=i}m.prototype={constructor:m,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),a=Math.max(e[0],e[1]);return t>=i&&t<=a},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return l(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,a=this.scale;return t=a.normalize(t),this.onBand&&"ordinal"===a.type&&v(i=i.slice(),a.count()),s(t,p,i,e)},coordToData:function(t,e){var i=this._extent,a=this.scale;this.onBand&&"ordinal"===a.type&&v(i=i.slice(),a.count());var n=s(t,i,p,e);return this.scale.scale(n)},pointToData:function(t,e){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),i=c(this,e).ticks,a=r(i,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this);return function(t,e,i,a){var r=e.length;if(!t.onBand||i||!r)return;var o,s,l=t.getExtent();if(1===r)e[0].coord=l[0],o=e[1]={coord:l[0]};else{var u=e[r-1].tickValue-e[0].tickValue,c=(e[r-1].coord-e[0].coord)/u;n(e,function(t){t.coord-=c/2});var d=t.scale.getExtent();s=1+d[1]-e[r-1].tickValue,o={coord:e[r-1].coord+c*s},e.push(o)}var f=l[0]>l[1];p(e[0].coord,l[0])&&(a?e[0].coord=l[0]:e.shift());a&&p(l[0],e[0].coord)&&e.unshift({coord:l[0]});p(l[1],o.coord)&&(a?o.coord=l[1]:e.pop());a&&p(o.coord,l[1])&&e.push({coord:l[1]});function p(t,e){return t=h(t),e=h(e),f?t>e:t<e}}(this,a,e.get("alignWithLabel"),t.clamp),a},getViewLabels:function(){return d(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var a=Math.abs(t[1]-t[0]);return Math.abs(a)/i},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return f(this)}};var g=m;t.exports=g},"2I/p":function(t,e,i){var a=i("ABnm").normalizeRadian,n=2*Math.PI;e.containStroke=function(t,e,i,r,o,s,l,h,u){if(0===l)return!1;var c=l;h-=t,u-=e;var d=Math.sqrt(h*h+u*u);if(d-c>i||d+c<i)return!1;if(Math.abs(r-o)%n<1e-4)return!0;if(s){var f=r;r=a(o),o=a(f)}else r=a(r),o=a(o);r>o&&(o+=n);var p=Math.atan2(u,h);return p<0&&(p+=n),p>=r&&p<=o||p+n>=r&&p+n<=o}},"2KxR":function(t,e){t.exports=function(t,e,i,a){if(!(t instanceof e)||void 0!==a&&a in t)throw TypeError(i+": incorrect invocation!");return t}},"2M5Q":function(t,e,i){var a=i("moDv"),n=i("u+XU"),r=i("LICT"),o=i("oBGI"),s=i("2I/p"),l=i("ABnm").normalizeRadian,h=i("AAi1"),u=i("QxFU"),c=a.CMD,d=2*Math.PI,f=1e-4;var p=[-1,-1,-1],m=[-1,-1];function v(t,e,i,a,n,r,o,s,l,u){if(u>e&&u>a&&u>r&&u>s||u<e&&u<a&&u<r&&u<s)return 0;var c,d=h.cubicRootAt(e,a,r,s,u,p);if(0===d)return 0;for(var f,v,g=0,C=-1,D=0;D<d;D++){var y=p[D],x=0===y||1===y?.5:1;h.cubicAt(t,i,n,o,y)<l||(C<0&&(C=h.cubicExtrema(e,a,r,s,m),m[1]<m[0]&&C>1&&(void 0,c=m[0],m[0]=m[1],m[1]=c),f=h.cubicAt(e,a,r,s,m[0]),C>1&&(v=h.cubicAt(e,a,r,s,m[1]))),2===C?y<m[0]?g+=f<e?x:-x:y<m[1]?g+=v<f?x:-x:g+=s<v?x:-x:y<m[0]?g+=f<e?x:-x:g+=s<f?x:-x)}return g}function g(t,e,i,a,n,r,o,s){if(s>e&&s>a&&s>r||s<e&&s<a&&s<r)return 0;var l=h.quadraticRootAt(e,a,r,s,p);if(0===l)return 0;var u=h.quadraticExtremum(e,a,r);if(u>=0&&u<=1){for(var c=0,d=h.quadraticAt(e,a,r,u),f=0;f<l;f++){var m=0===p[f]||1===p[f]?.5:1;h.quadraticAt(t,i,n,p[f])<o||(p[f]<u?c+=d<e?m:-m:c+=r<d?m:-m)}return c}m=0===p[0]||1===p[0]?.5:1;return h.quadraticAt(t,i,n,p[0])<o?0:r<e?m:-m}function C(t,e,i,a,n,r,o,s){if((s-=e)>i||s<-i)return 0;var h=Math.sqrt(i*i-s*s);p[0]=-h,p[1]=h;var u=Math.abs(a-n);if(u<1e-4)return 0;if(u%d<1e-4){a=0,n=d;var c=r?1:-1;return o>=p[0]+t&&o<=p[1]+t?c:0}if(r){h=a;a=l(n),n=l(h)}else a=l(a),n=l(n);a>n&&(n+=d);for(var f=0,m=0;m<2;m++){var v=p[m];if(v+t>o){var g=Math.atan2(s,v);c=r?1:-1;g<0&&(g=d+g),(g>=a&&g<=n||g+d>=a&&g+d<=n)&&(g>Math.PI/2&&g<1.5*Math.PI&&(c=-c),f+=c)}}return f}function D(t,e,i,a,l){for(var h,d,p=0,m=0,D=0,y=0,x=0,S=0;S<t.length;){var I=t[S++];switch(I===c.M&&S>1&&(i||(p+=u(m,D,y,x,a,l))),1===S&&(y=m=t[S],x=D=t[S+1]),I){case c.M:m=y=t[S++],D=x=t[S++];break;case c.L:if(i){if(n.containStroke(m,D,t[S],t[S+1],e,a,l))return!0}else p+=u(m,D,t[S],t[S+1],a,l)||0;m=t[S++],D=t[S++];break;case c.C:if(i){if(r.containStroke(m,D,t[S++],t[S++],t[S++],t[S++],t[S],t[S+1],e,a,l))return!0}else p+=v(m,D,t[S++],t[S++],t[S++],t[S++],t[S],t[S+1],a,l)||0;m=t[S++],D=t[S++];break;case c.Q:if(i){if(o.containStroke(m,D,t[S++],t[S++],t[S],t[S+1],e,a,l))return!0}else p+=g(m,D,t[S++],t[S++],t[S],t[S+1],a,l)||0;m=t[S++],D=t[S++];break;case c.A:var T=t[S++],b=t[S++],w=t[S++],M=t[S++],E=t[S++],A=t[S++];S+=1;var _=1-t[S++],L=Math.cos(E)*w+T,F=Math.sin(E)*M+b;S>1?p+=u(m,D,L,F,a,l):(y=L,x=F);var O=(a-T)*M/w+T;if(i){if(s.containStroke(T,b,M,E,E+A,_,e,O,l))return!0}else p+=C(T,b,M,E,E+A,_,O,l);m=Math.cos(E+A)*w+T,D=Math.sin(E+A)*M+b;break;case c.R:y=m=t[S++],x=D=t[S++];L=y+t[S++],F=x+t[S++];if(i){if(n.containStroke(y,x,L,x,e,a,l)||n.containStroke(L,x,L,F,e,a,l)||n.containStroke(L,F,y,F,e,a,l)||n.containStroke(y,F,y,x,e,a,l))return!0}else p+=u(L,x,L,F,a,l),p+=u(y,F,y,x,a,l);break;case c.Z:if(i){if(n.containStroke(m,D,y,x,e,a,l))return!0}else p+=u(m,D,y,x,a,l);m=y,D=x}}return i||(h=D,d=x,Math.abs(h-d)<f)||(p+=u(m,D,y,x,a,l)||0),0!==p}e.contain=function(t,e,i){return D(t,0,!1,e,i)},e.containStroke=function(t,e,i,a){return D(t,e,!0,i,a)}},"2Ow2":function(t,e,i){var a=i("0sHC"),n=.3;function r(t,e,i,a){for(var n,r=[],o=0;o<i.length;o++){var s=i[o],l=t.get(t.mapDimension(s),e);n=l,("category"===a.getAxis(s).type?null==n:null==n||isNaN(n))||r.push(a.dataToPoint(l,s))}return r}function o(t,e,i,n,o){var s=r(t,i,n,o),l=new a.Polyline({shape:{points:s},silent:!0,z2:10});return e.add(l),t.setItemGraphicEl(i,l),l}function s(t){var e=t.get("smooth",!0);return!0===e&&(e=n),{lineStyle:t.getModel("lineStyle").getLineStyle(),smooth:null!=e?e:n}}function l(t,e,i,a){var n=a.lineStyle;e.hasItemOption&&(n=e.getItemModel(i).getModel("lineStyle").getLineStyle());t.useStyle(n);var r=t.style;r.fill=null,r.stroke=e.getItemVisual(i,"color"),r.opacity=e.getItemVisual(i,"opacity"),a.smooth&&(t.shape.smooth=a.smooth)}var h=i("Ylhr").extend({type:"parallel",init:function(){this._dataGroup=new a.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(t,e,i,n){var h=this._dataGroup,u=t.getData(),c=this._data,d=t.coordinateSystem,f=d.dimensions,p=s(t);if(u.diff(c).add(function(t){l(o(u,h,t,f,d),u,t,p)}).update(function(e,i){var o=c.getItemGraphicEl(i),s=r(u,e,f,d);u.setItemGraphicEl(e,o);var h=n&&!1===n.animation?null:t;a.updateProps(o,{shape:{points:s}},h,e),l(o,u,e,p)}).remove(function(t){var e=c.getItemGraphicEl(t);h.remove(e)}).execute(),!this._initialized){this._initialized=!0;var m=function(t,e,i){var n=t.model,r=t.getRect(),o=new a.Rect({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),s="horizontal"===n.get("layout")?"width":"height";return o.setShape(s,0),a.initProps(o,{shape:{width:r.width,height:r.height}},e,i),o}(d,t,function(){setTimeout(function(){h.removeClipPath()})});h.setClipPath(m)}this._data=u},incrementalPrepareRender:function(t,e,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(t,e,i){for(var a=e.getData(),n=e.coordinateSystem,r=n.dimensions,h=s(e),u=t.start;u<t.end;u++){var c=o(a,this._dataGroup,u,r,n);c.incremental=!0,l(c,a,u,h)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});t.exports=h},"2W4A":function(t,e){t.exports=function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),i=t.getModel("itemStyle"),a=i.get("areaColor"),n=i.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:a,color:n})})}},"2XvD":function(t,e,i){var a=i("C7PF").distance;function n(t,e,i,a,n,r,o){var s=.5*(i-t),l=.5*(a-e);return(2*(e-i)+s+l)*o+(-3*(e-i)-2*s-l)*r+s*n+e}t.exports=function(t,e){for(var i=t.length,r=[],o=0,s=1;s<i;s++)o+=a(t[s-1],t[s]);var l=o/2;for(l=l<i?i:l,s=0;s<l;s++){var h,u,c,d=s/(l-1)*(e?i:i-1),f=Math.floor(d),p=d-f,m=t[f%i];e?(h=t[(f-1+i)%i],u=t[(f+1)%i],c=t[(f+2)%i]):(h=t[0===f?f:f-1],u=t[f>i-2?i-1:f+1],c=t[f>i-3?i-1:f+2]);var v=p*p,g=p*v;r.push([n(h[0],m[0],u[0],c[0],p,v,g),n(h[1],m[1],u[1],c[1],p,v,g)])}return r}},"2kvA":function(t,e,i){"use strict";e.__esModule=!0,e.isInContainer=e.getScrollContainer=e.isScroll=e.getStyle=e.once=e.off=e.on=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.hasClass=p,e.addClass=function(t,e){if(!t)return;for(var i=t.className,a=(e||"").split(" "),n=0,r=a.length;n<r;n++){var o=a[n];o&&(t.classList?t.classList.add(o):p(t,o)||(i+=" "+o))}t.classList||(t.className=i)},e.removeClass=function(t,e){if(!t||!e)return;for(var i=e.split(" "),a=" "+t.className+" ",n=0,r=i.length;n<r;n++){var o=i[n];o&&(t.classList?t.classList.remove(o):p(t,o)&&(a=a.replace(" "+o+" "," ")))}t.classList||(t.className=u(a))},e.setStyle=function t(e,i,n){if(!e||!i)return;if("object"===(void 0===i?"undefined":a(i)))for(var r in i)i.hasOwnProperty(r)&&t(e,r,i[r]);else"opacity"===(i=c(i))&&h<9?e.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":e.style[i]=n};var n,r=i("/5sW");var o=((n=r)&&n.__esModule?n:{default:n}).default.prototype.$isServer,s=/([\:\-\_]+(.))/g,l=/^moz([A-Z])/,h=o?0:Number(document.documentMode),u=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},c=function(t){return t.replace(s,function(t,e,i,a){return a?i.toUpperCase():i}).replace(l,"Moz$1")},d=e.on=!o&&document.addEventListener?function(t,e,i){t&&e&&i&&t.addEventListener(e,i,!1)}:function(t,e,i){t&&e&&i&&t.attachEvent("on"+e,i)},f=e.off=!o&&document.removeEventListener?function(t,e,i){t&&e&&t.removeEventListener(e,i,!1)}:function(t,e,i){t&&e&&t.detachEvent("on"+e,i)};e.once=function(t,e,i){d(t,e,function a(){i&&i.apply(this,arguments),f(t,e,a)})};function p(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}var m=e.getStyle=h<9?function(t,e){if(!o){if(!t||!e)return null;"float"===(e=c(e))&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch(t){return 1}default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch(i){return t.style[e]}}}:function(t,e){if(!o){if(!t||!e)return null;"float"===(e=c(e))&&(e="cssFloat");try{var i=document.defaultView.getComputedStyle(t,"");return t.style[e]||i?i[e]:null}catch(i){return t.style[e]}}};var v=e.isScroll=function(t,e){if(!o)return m(t,null!==e||void 0!==e?e?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)};e.getScrollContainer=function(t,e){if(!o){for(var i=t;i;){if([window,document,document.documentElement].includes(i))return window;if(v(i,e))return i;i=i.parentNode}return i}},e.isInContainer=function(t,e){if(o||!t||!e)return!1;var i=t.getBoundingClientRect(),a=void 0;return a=[window,document,document.documentElement,null,void 0].includes(e)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:e.getBoundingClientRect(),i.top<a.bottom&&i.bottom>a.top&&i.right>a.left&&i.left<a.right}},"2m1D":function(t,e,i){var a=i("EJsE"),n=i("ao1T"),r=a.extend({type:"series.__base_bar__",getInitialData:function(t,e){return n(this.getSource(),this)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(e.clampData(t)),a=this.getData(),n=a.getLayout("offset"),r=a.getLayout("size");return i[e.getBaseAxis().isHorizontal()?0:1]+=n+r/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});t.exports=r},"2tOJ":function(t,e,i){var a=i("Icdr");i("orv6"),i("vEM8"),a.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}})},"2uoh":function(t,e,i){var a=i("/gxq"),n={getMin:function(t){var e=this.option,i=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=i&&"dataMin"!==i&&"function"!=typeof i&&!a.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(t){var e=this.option,i=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=i&&"dataMax"!==i&&"function"!=typeof i&&!a.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:a.noop,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};t.exports=n},"3C/1":function(t,e,i){i("M6a0"),i("zQR9"),i("+tPU"),i("qCoq"),i("UvrK"),i("Xjd4"),i("bqnK"),t.exports=i("FeBl").Map},"3Eo+":function(t,e){var i=0,a=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+a).toString(36))}},"3IRH":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"3fo+":function(t,e,i){t.exports=i("YAhB")},"3fs2":function(t,e,i){var a=i("RY/4"),n=i("dSzd")("iterator"),r=i("/bQp");t.exports=i("FeBl").getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||r[a(t)]}},"3h1/":function(t,e,i){var a=i("8b51"),n=i("+Y0c"),r=i("/gxq"),o=r.getContext,s=r.extend,l=r.retrieve2,h=r.retrieve3,u=r.trim,c={},d=0,f=5e3,p=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,m="12px sans-serif",v={};function g(t,e){var i=t+":"+(e=e||m);if(c[i])return c[i];for(var a=(t+"").split("\n"),n=0,r=0,o=a.length;r<o;r++)n=Math.max(w(a[r],e).width,n);return d>f&&(d=0,c={}),d++,c[i]=n,n}function C(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function D(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function y(t,e,i){var a=e.textPosition,n=e.textDistance,r=i.x,o=i.y;n=n||0;var s=i.height,l=i.width,h=s/2,u="left",c="top";switch(a){case"left":r-=n,o+=h,u="right",c="middle";break;case"right":r+=n+l,o+=h,c="middle";break;case"top":r+=l/2,o-=n,u="center",c="bottom";break;case"bottom":r+=l/2,o+=s+n,u="center";break;case"inside":r+=l/2,o+=h,u="center",c="middle";break;case"insideLeft":r+=n,o+=h,c="middle";break;case"insideRight":r+=l-n,o+=h,u="right",c="middle";break;case"insideTop":r+=l/2,o+=n,u="center";break;case"insideBottom":r+=l/2,o+=s-n,u="center",c="bottom";break;case"insideTopLeft":r+=n,o+=n;break;case"insideTopRight":r+=l-n,o+=n,u="right";break;case"insideBottomLeft":r+=n,o+=s-n,c="bottom";break;case"insideBottomRight":r+=l-n,o+=s-n,u="right",c="bottom"}return(t=t||{}).x=r,t.y=o,t.textAlign=u,t.textVerticalAlign=c,t}function x(t,e,i,a,n){if(!e)return"";var r=(t+"").split("\n");n=S(e,i,a,n);for(var o=0,s=r.length;o<s;o++)r[o]=I(r[o],n);return r.join("\n")}function S(t,e,i,a){(a=s({},a)).font=e;i=l(i,"...");a.maxIterations=l(a.maxIterations,2);var n=a.minChar=l(a.minChar,0);a.cnCharWidth=g("国",e);var r=a.ascCharWidth=g("a",e);a.placeholder=l(a.placeholder,"");for(var o=t=Math.max(0,t-1),h=0;h<n&&o>=r;h++)o-=r;var u=g(i,e);return u>o&&(i="",u=0),o=t-u,a.ellipsis=i,a.ellipsisWidth=u,a.contentWidth=o,a.containerWidth=t,a}function I(t,e){var i=e.containerWidth,a=e.font,n=e.contentWidth;if(!i)return"";var r=g(t,a);if(r<=i)return t;for(var o=0;;o++){if(r<=n||o>=e.maxIterations){t+=e.ellipsis;break}var s=0===o?T(t,n,e.ascCharWidth,e.cnCharWidth):r>0?Math.floor(t.length*n/r):0;r=g(t=t.substr(0,s),a)}return""===t&&(t=e.placeholder),t}function T(t,e,i,a){for(var n=0,r=0,o=t.length;r<o&&n<e;r++){var s=t.charCodeAt(r);n+=0<=s&&s<=127?i:a}return r}function b(t){return g("国",t)}function w(t,e){return v.measureText(t,e)}function M(t,e,i,a,n){null!=t&&(t+="");var r=l(a,b(e)),o=t?t.split("\n"):[],s=o.length*r,h=s,u=!0;if(i&&(h+=i[0]+i[2]),t&&n){u=!1;var c=n.outerHeight,d=n.outerWidth;if(null!=c&&h>c)t="",o=[];else if(null!=d)for(var f=S(d-(i?i[1]+i[3]:0),e,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),p=0,m=o.length;p<m;p++)o[p]=I(o[p],f)}return{lines:o,height:s,outerHeight:h,lineHeight:r,canCacheByTextString:u}}function E(t,e){var i={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return i;for(var a,r=p.lastIndex=0;null!=(a=p.exec(t));){var o=a.index;o>r&&A(i,t.substring(r,o)),A(i,a[2],a[1]),r=p.lastIndex}r<t.length&&A(i,t.substring(r,t.length));var s=i.lines,u=0,c=0,d=[],f=e.textPadding,m=e.truncate,v=m&&m.outerWidth,C=m&&m.outerHeight;f&&(null!=v&&(v-=f[1]+f[3]),null!=C&&(C-=f[0]+f[2]));for(var D=0;D<s.length;D++){for(var y=s[D],S=0,I=0,T=0;T<y.tokens.length;T++){var w=(B=y.tokens[T]).styleName&&e.rich[B.styleName]||{},M=B.textPadding=w.textPadding,E=B.font=w.font||e.font,_=B.textHeight=l(w.textHeight,b(E));if(M&&(_+=M[0]+M[2]),B.height=_,B.lineHeight=h(w.textLineHeight,e.textLineHeight,_),B.textAlign=w&&w.textAlign||e.textAlign,B.textVerticalAlign=w&&w.textVerticalAlign||"middle",null!=C&&u+B.lineHeight>C)return{lines:[],width:0,height:0};B.textWidth=g(B.text,E);var L=w.textWidth,F=null==L||"auto"===L;if("string"==typeof L&&"%"===L.charAt(L.length-1))B.percentWidth=L,d.push(B),L=0;else{if(F){L=B.textWidth;var O=w.textBackgroundColor,P=O&&O.image;P&&(P=n.findExistImage(P),n.isImageReady(P)&&(L=Math.max(L,P.width*_/P.height)))}var N=M?M[1]+M[3]:0;L+=N;var R=null!=v?v-I:null;null!=R&&R<L&&(!F||R<N?(B.text="",B.textWidth=L=0):(B.text=x(B.text,R-N,E,m.ellipsis,{minChar:m.minChar}),B.textWidth=g(B.text,E),L=B.textWidth+N))}I+=B.width=L,w&&(S=Math.max(S,B.lineHeight))}y.width=I,y.lineHeight=S,u+=S,c=Math.max(c,I)}i.outerWidth=i.width=l(e.textWidth,c),i.outerHeight=i.height=l(e.textHeight,u),f&&(i.outerWidth+=f[1]+f[3],i.outerHeight+=f[0]+f[2]);for(D=0;D<d.length;D++){var B,k=(B=d[D]).percentWidth;B.width=parseInt(k,10)/100*c}return i}function A(t,e,i){for(var a=""===e,n=e.split("\n"),r=t.lines,o=0;o<n.length;o++){var s=n[o],l={styleName:i,text:s,isLineHolder:!s&&!a};if(o)r.push({tokens:[l]});else{var h=(r[r.length-1]||(r[0]={tokens:[]})).tokens,u=h.length;1===u&&h[0].isLineHolder?h[0]=l:(s||!u||a)&&h.push(l)}}}v.measureText=function(t,e){var i=o();return i.font=e||m,i.measureText(t)},e.DEFAULT_FONT=m,e.$override=function(t,e){v[t]=e},e.getWidth=g,e.getBoundingRect=function(t,e,i,n,r,o,s,l){return s?function(t,e,i,n,r,o,s,l){var h=E(t,{rich:s,truncate:l,font:e,textAlign:i,textPadding:r,textLineHeight:o}),u=h.outerWidth,c=h.outerHeight,d=C(0,u,i),f=D(0,c,n);return new a(d,f,u,c)}(t,e,i,n,r,o,s,l):function(t,e,i,n,r,o,s){var l=M(t,e,r,o,s),h=g(t,e);r&&(h+=r[1]+r[3]);var u=l.outerHeight,c=C(0,h,i),d=D(0,u,n),f=new a(c,d,h,u);return f.lineHeight=l.lineHeight,f}(t,e,i,n,r,o,l)},e.adjustTextX=C,e.adjustTextY=D,e.calculateTextPosition=y,e.adjustTextPositionOnRect=function(t,e,i){return y({},{textPosition:t,textDistance:i},e)},e.truncateText=x,e.getLineHeight=b,e.measureText=w,e.parsePlainText=M,e.parseRichText=E,e.makeFont=function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&u(e)||t.textFont||t.font}},"3n/B":function(t,e,i){i("PBlc"),i("0BNI")},"3yJd":function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=i("u5Nq"),r=i("tBuv"),o=i("/+sa"),s=i("wWR3"),l=i("m/6y"),h=l.prepareLayoutBarSeries,u=l.makeColumnLayout,c=l.retrieveColumnLayout,d=i("8b51");function f(t,e){var i,n,r,o=t.type,l=e.getMin(),d=e.getMax(),f=null!=l,p=null!=d,m=t.getExtent();"ordinal"===o?i=e.getCategories().length:(n=e.get("boundaryGap"),a.isArray(n)||(n=[n||0,n||0]),"boolean"==typeof n[0]&&(n=[0,0]),n[0]=s.parsePercent(n[0],1),n[1]=s.parsePercent(n[1],1),r=m[1]-m[0]||Math.abs(m[0])),null==l&&(l="ordinal"===o?i?0:NaN:m[0]-n[0]*r),null==d&&(d="ordinal"===o?i?i-1:NaN:m[1]+n[1]*r),"dataMin"===l?l=m[0]:"function"==typeof l&&(l=l({min:m[0],max:m[1]})),"dataMax"===d?d=m[1]:"function"==typeof d&&(d=d({min:m[0],max:m[1]})),(null==l||!isFinite(l))&&(l=NaN),(null==d||!isFinite(d))&&(d=NaN),t.setBlank(a.eqNaN(l)||a.eqNaN(d)||"ordinal"===o&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(l>0&&d>0&&!f&&(l=0),l<0&&d<0&&!p&&(d=0));var v=e.ecModel;if(v&&"time"===o){var g,C=h("bar",v);if(a.each(C,function(t){g|=t.getBaseAxis()===e.axis}),g){var D=u(C),y=function(t,e,i,n){var r=i.axis.getExtent(),o=r[1]-r[0],s=c(n,i.axis);if(void 0===s)return{min:t,max:e};var l=1/0;a.each(s,function(t){l=Math.min(t.offset,l)});var h=-1/0;a.each(s,function(t){h=Math.max(t.offset+t.width,h)}),l=Math.abs(l),h=Math.abs(h);var u=l+h,d=e-t,f=d/(1-(l+h)/o)-d;return{min:t-=f*(l/u),max:e+=f*(h/u)}}(l,d,e,D);l=y.min,d=y.max}}return[l,d]}function p(t){var e,i=t.getLabelModel().get("formatter"),a="category"===t.type?t.scale.getExtent()[0]:null;return"string"==typeof i?(e=i,i=function(i){return i=t.scale.getLabel(i),e.replace("{value}",null!=i?i:"")}):"function"==typeof i?function(e,n){return null!=a&&(n=e-a),i(m(t,e),n)}:function(e){return t.scale.getLabel(e)}}function m(t,e){return"category"===t.type?t.scale.getLabel(e):e}function v(t){var e=t.get("interval");return null==e?"auto":e}i("dDRy"),i("xCbH"),e.getScaleExtent=f,e.niceScaleExtent=function(t,e){var i=f(t,e),a=null!=e.getMin(),n=null!=e.getMax(),r=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var o=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:r,fixMin:a,fixMax:n,minInterval:"interval"===o||"time"===o?e.get("minInterval"):null,maxInterval:"interval"===o||"time"===o?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&t.setInterval&&t.setInterval(s)},e.createScaleByModel=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new n(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new r;default:return(o.getClass(e)||r).create(t)}},e.ifAxisCrossZero=function(t){var e=t.scale.getExtent(),i=e[0],a=e[1];return!(i>0&&a>0||i<0&&a<0)},e.makeLabelFormatter=p,e.getAxisRawValue=m,e.estimateLabelUnionRect=function(t){var e=t.model,i=t.scale;if(e.get("axisLabel.show")&&!i.isBlank()){var a,n,r="category"===t.type,o=i.getExtent();n=r?i.count():(a=i.getTicks()).length;var s,l,h,u,c,f,m,v,g,C=t.getLabelModel(),D=p(t),y=1;n>40&&(y=Math.ceil(n/40));for(var x=0;x<n;x+=y){var S=D(a?a[x]:o[0]+x),I=C.getTextRect(S),T=(l=I,h=C.get("rotate")||0,u=h*Math.PI/180,c=l.plain(),f=c.width,m=c.height,v=f*Math.cos(u)+m*Math.sin(u),g=f*Math.sin(u)+m*Math.cos(u),new d(c.x,c.y,v,g));s?s.union(T):s=T}return s}},e.getOptionCategoryInterval=v,e.shouldShowAllLabels=function(t){return"category"===t.type&&0===v(t.getLabelModel())}},"42YS":function(t,e,i){var a=i("CCtz"),n=i("eZxa"),r=i("/gxq"),o=r.isString,s=r.isFunction,l=r.isObject,h=r.isArrayLike,u=r.indexOf,c=function(){this.animators=[]};function d(t,e,i,a,n,r,u,c){o(a)?(r=n,n=a,a=0):s(n)?(r=n,n="linear",a=0):s(a)?(r=a,a=0):s(i)?(r=i,i=500):i||(i=500),t.stopAnimation(),function t(e,i,a,n,r,o,s){var u={};var c=0;for(var d in n)n.hasOwnProperty(d)&&(null!=a[d]?l(n[d])&&!h(n[d])?t(e,i?i+"."+d:d,a[d],n[d],r,o,s):(s?(u[d]=a[d],f(e,i,d,n[d])):u[d]=n[d],c++):null==n[d]||s||f(e,i,d,n[d]));c>0&&e.animate(i,!1).when(null==r?500:r,u).delay(o||0)}(t,"",t,e,i,a,c);var d=t.animators.slice(),p=d.length;function m(){--p||r&&r()}p||r&&r();for(var v=0;v<d.length;v++)d[v].done(m).start(n,u)}function f(t,e,i,a){if(e){var n={};n[e]={},n[e][i]=a,t.attr(n)}else t.attr(i,a)}c.prototype={constructor:c,animate:function(t,e){var i,r=!1,o=this,s=this.__zr;if(t){var l=t.split("."),h=o;r="shape"===l[0];for(var c=0,d=l.length;c<d;c++)h&&(h=h[l[c]]);h&&(i=h)}else i=o;if(i){var f=o.animators,p=new a(i,e);return p.during(function(t){o.dirty(r)}).done(function(){f.splice(u(f,p),1)}),f.push(p),s&&s.animation.addAnimator(p),p}n('Property "'+t+'" is not existed in element '+o.id)},stopAnimation:function(t){for(var e=this.animators,i=e.length,a=0;a<i;a++)e[a].stop(t);return e.length=0,this},animateTo:function(t,e,i,a,n,r){d(this,t,e,i,a,n,r)},animateFrom:function(t,e,i,a,n,r){d(this,t,e,i,a,n,r,!0)}};var p=c;t.exports=p},"43ae":function(t,e,i){i("4Nz2").__DEV__;var a=i("Icdr"),n=i("QCrJ"),r=a.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,i,a){this.axisPointerClass&&n.fixValue(t),r.superApply(this,"render",arguments),o(this,t,e,i,a,!0)},updateAxisPointer:function(t,e,i,a,n){o(this,t,e,i,a,!1)},remove:function(t,e){var i=this._axisPointer;i&&i.remove(e),r.superApply(this,"remove",arguments)},dispose:function(t,e){s(this,e),r.superApply(this,"dispose",arguments)}});function o(t,e,i,a,o,l){var h=r.getAxisPointerClass(t.axisPointerClass);if(h){var u=n.getAxisPointerModel(e);u?(t._axisPointer||(t._axisPointer=new h)).render(e,u,a,l):s(t,a)}}function s(t,e,i){var a=t._axisPointer;a&&a.dispose(e,i),t._axisPointer=null}var l=[];r.registerAxisPointerClass=function(t,e){l[t]=e},r.getAxisPointerClass=function(t){return t&&l[t]};var h=r;t.exports=h},"46eW":function(t,e,i){var a=i("GxVO").extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,a=e.cy,n=Math.max(e.r,0),r=e.startAngle,o=e.endAngle,s=e.clockwise,l=Math.cos(r),h=Math.sin(r);t.moveTo(l*n+i,h*n+a),t.arc(i,a,n,r,o,!s)}});t.exports=a},"4A6G":function(t,e,i){var a={seriesType:"lines",plan:i("CqCN")(),reset:function(t){var e=t.coordinateSystem,i=t.get("polyline"),a=t.pipelineContext.large;return{progress:function(n,r){var o=[];if(a){var s,l=n.end-n.start;if(i){for(var h=0,u=n.start;u<n.end;u++)h+=t.getLineCoordsCount(u);s=new Float32Array(l+2*h)}else s=new Float32Array(4*l);var c=0,d=[];for(u=n.start;u<n.end;u++){var f=t.getLineCoords(u,o);i&&(s[c++]=f);for(var p=0;p<f;p++)d=e.dataToPoint(o[p],!1,d),s[c++]=d[0],s[c++]=d[1]}r.setLayout("linesPoints",s)}else for(u=n.start;u<n.end;u++){var m=r.getItemModel(u),v=(f=t.getLineCoords(u,o),[]);if(i)for(var g=0;g<f;g++)v.push(e.dataToPoint(o[g]));else{v[0]=e.dataToPoint(o[0]),v[1]=e.dataToPoint(o[1]);var C=m.get("lineStyle.curveness");+C&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*C,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*C])}r.setItemLayout(u,v)}}}}};t.exports=a},"4Nz2":function(t,e,i){(function(t){var i;"undefined"!=typeof window?i=window.__DEV__:void 0!==t&&(i=t.__DEV__),void 0===i&&(i=!0);var a=i;e.__DEV__=a}).call(e,i("DuR2"))},"4RQY":function(t,e,i){var a=i("/gxq").each,n=i("rbn0"),r=n.simpleLayout,o=n.simpleLayoutEdge;t.exports=function(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),i=t.coordinateSystem;if(i&&"view"!==i.type){var n=t.getData(),s=[];a(i.dimensions,function(t){s=s.concat(n.mapDimension(t,!0))});for(var l=0;l<n.count();l++){for(var h=[],u=!1,c=0;c<s.length;c++){var d=n.get(s[c],l);isNaN(d)||(u=!0),h.push(d)}u?n.setItemLayout(l,i.dataToPoint(h)):n.setItemLayout(l,[NaN,NaN])}o(n.graph)}else e&&"none"!==e||r(t)})}},"4SGL":function(t,e,i){var a=i("wWR3").parsePercent,n=i("/gxq"),r=Math.PI/180;t.exports=function(t,e,i,o){e.eachSeriesByType(t,function(t){var e=t.get("center"),o=t.get("radius");n.isArray(o)||(o=[0,o]),n.isArray(e)||(e=[e,e]);var s=i.getWidth(),l=i.getHeight(),h=Math.min(s,l),u=a(e[0],s),c=a(e[1],l),d=a(o[0],h/2),f=a(o[1],h/2),p=-t.get("startAngle")*r,m=t.get("minAngle")*r,v=t.getData().tree.root,g=t.getViewRoot(),C=g.depth,D=t.get("sort");null!=D&&function t(e,i){var a=e.children||[];e.children=function(t,e){if("function"==typeof e)return t.sort(e);var i="asc"===e;return t.sort(function(t,e){var a=(t.getValue()-e.getValue())*(i?1:-1);return 0===a?(t.dataIndex-e.dataIndex)*(i?-1:1):a})}(a,i),a.length&&n.each(e.children,function(e){t(e,i)})}(g,D);var y=0;n.each(g.children,function(t){!isNaN(t.getValue())&&y++});var x=g.getValue(),S=Math.PI/(x||y)*2,I=g.depth>0,T=g.height-(I?-1:1),b=(f-d)/(T||1),w=t.get("clockwise"),M=t.get("stillShowZeroSum"),E=w?1:-1,A=function(t,e){if(t){var i=e;if(t!==v){var r=t.getValue(),o=0===x&&M?S:r*S;o<m&&(o=m),i=e+E*o;var s=t.depth-C-(I?-1:1),l=d+b*s,f=d+b*(s+1),p=t.getModel();null!=p.get("r0")&&(l=a(p.get("r0"),h/2)),null!=p.get("r")&&(f=a(p.get("r"),h/2)),t.setLayout({angle:o,startAngle:e,endAngle:i,clockwise:w,cx:u,cy:c,r0:l,r:f})}if(t.children&&t.children.length){var g=0;n.each(t.children,function(t){g+=A(t,e+g)})}return i-e}};if(I){var _=d,L=d+b,F=2*Math.PI;v.setLayout({angle:F,startAngle:p,endAngle:p+F,clockwise:w,cx:u,cy:c,r0:_,r:L})}A(g,p)})}},"4SW2":function(t,e,i){var a=i("Icdr"),n=i("DZTl");i("Osoq"),i("w2H/"),i("OlnU"),i("gZam"),i("H4Wn"),a.registerPreprocessor(n)},"4UDB":function(t,e,i){var a=i("Icdr");i("jMTz"),i("cO/Q");var n=i("AjK0"),r=i("1Nix"),o=i("PWa9");i("UkNE"),a.registerVisual(n("line","circle","line")),a.registerLayout(r("line")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,o("line"))},"4V7L":function(t,e,i){var a=i("Icdr");i("ghha"),i("oqQy"),i("rwkR"),i("AKXb"),i("+bS+"),a.extendComponentView({type:"single"})},"4WTo":function(t,e,i){var a=i("NWt+");t.exports=function(t,e){var i=[];return a(t,!1,i.push,i,e),i}},"4mcu":function(t,e){t.exports=function(){}},"4oYY":function(t,e){var i=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],a={color:i,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:i[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:i},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};a.categoryAxis.splitLine.show=!1;var n=a;t.exports=n},"4w1v":function(t,e,i){var a=i("VewU").createElement,n=i("moDv"),r=i("8b51"),o=i("dOVI"),s=i("3h1/"),l=i("qjrH"),h=i("/86O"),u=n.CMD,c=Array.prototype.join,d="none",f=Math.round,p=Math.sin,m=Math.cos,v=Math.PI,g=2*Math.PI,C=180/v,D=1e-4;function y(t){return f(1e4*t)/1e4}function x(t){return t<D&&t>-D}function S(t,e){e&&I(t,"transform","matrix("+c.call(e,",")+")")}function I(t,e,i){(!i||"linear"!==i.type&&"radial"!==i.type)&&t.setAttribute(e,i)}function T(t,e,i,a){if(function(t,e){var i=e?t.textFill:t.fill;return null!=i&&i!==d}(e,i)){var n=i?e.textFill:e.fill;I(t,"fill",n="transparent"===n?d:n),I(t,"fill-opacity",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)}else I(t,"fill",d);if(function(t,e){var i=e?t.textStroke:t.stroke;return null!=i&&i!==d}(e,i)){var r=i?e.textStroke:e.stroke;I(t,"stroke",r="transparent"===r?d:r),I(t,"stroke-width",(i?e.textStrokeWidth:e.lineWidth)/(!i&&e.strokeNoScale?a.getLineScale():1)),I(t,"paint-order",i?"stroke":"fill"),I(t,"stroke-opacity",null!=e.strokeOpacity?e.strokeOpacity:e.opacity),e.lineDash?(I(t,"stroke-dasharray",e.lineDash.join(",")),I(t,"stroke-dashoffset",f(e.lineDashOffset||0))):I(t,"stroke-dasharray",""),e.lineCap&&I(t,"stroke-linecap",e.lineCap),e.lineJoin&&I(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&I(t,"stroke-miterlimit",e.miterLimit)}else I(t,"stroke",d)}var b={};b.brush=function(t){var e=t.style,i=t.__svgEl;i||(i=a("path"),t.__svgEl=i),t.path||t.createPathProxy();var n=t.path;if(t.__dirtyPath){n.beginPath(),n.subPixelOptimize=!1,t.buildPath(n,t.shape),t.__dirtyPath=!1;var r=function(t){for(var e=[],i=t.data,a=t.len(),n=0;n<a;){var r="",o=0;switch(i[n++]){case u.M:r="M",o=2;break;case u.L:r="L",o=2;break;case u.Q:r="Q",o=4;break;case u.C:r="C",o=6;break;case u.A:var s=i[n++],l=i[n++],h=i[n++],c=i[n++],d=i[n++],D=i[n++],S=i[n++],I=i[n++],T=Math.abs(D),b=x(T-g)||(I?D>=g:-D>=g),w=D>0?D%g:D%g+g,M=!1;M=!!b||!x(T)&&w>=v==!!I;var E=y(s+h*m(d)),A=y(l+c*p(d));b&&(D=I?g-1e-4:1e-4-g,M=!0,9===n&&e.push("M",E,A));var _=y(s+h*m(d+D)),L=y(l+c*p(d+D));e.push("A",y(h),y(c),f(S*C),+M,+I,_,L);break;case u.Z:r="Z";break;case u.R:_=y(i[n++]),L=y(i[n++]);var F=y(i[n++]),O=y(i[n++]);e.push("M",_,L,"L",_+F,L,"L",_+F,L+O,"L",_,L+O,"L",_,L)}r&&e.push(r);for(var P=0;P<o;P++)e.push(y(i[n++]))}return e.join(" ")}(n);r.indexOf("NaN")<0&&I(i,"d",r)}T(i,e,!1,t),S(i,t.transform),null!=e.text&&F(t,t.getBoundingRect())};var w={brush:function(t){var e=t.style,i=e.image;i instanceof HTMLImageElement&&(i=i.src);if(i){var n=e.x||0,r=e.y||0,o=e.width,s=e.height,l=t.__svgEl;l||(l=a("image"),t.__svgEl=l),i!==t.__imageSrc&&(!function(t,e,i){t.setAttributeNS("http://www.w3.org/1999/xlink",e,i)}(l,"href",i),t.__imageSrc=i),I(l,"width",o),I(l,"height",s),I(l,"x",n),I(l,"y",r),S(l,t.transform),null!=e.text&&F(t,t.getBoundingRect())}}},M={},E=new r,A={},_=[],L={left:"start",right:"end",center:"middle",middle:"middle"},F=function(t,e){var i=t.style,n=t.transform,r=t instanceof h||i.transformText;t.__dirty&&l.normalizeTextStyle(i,!0);var u=i.text;if(null!=u&&(u+=""),l.needDrawText(u,i)){null==u&&(u=""),!r&&n&&(E.copy(e),E.applyTransform(n),e=E);var c=t.__textSvgEl;c||(c=a("text"),t.__textSvgEl=c);var d=c.style,f=i.font||s.DEFAULT_FONT,p=c.__computedFont;f!==c.__styleFont&&(d.font=c.__styleFont=f,p=c.__computedFont=d.font);var m=i.textPadding,v=i.textLineHeight,g=t.__textCotentBlock;g&&!t.__dirtyText||(g=t.__textCotentBlock=s.parsePlainText(u,p,m,v,i.truncate));var C=g.outerHeight,D=g.lineHeight;l.getBoxPosition(A,t,i,e);var y=A.baseX,x=A.baseY,I=A.textAlign||"left",b=A.textVerticalAlign;!function(t,e,i,a,n,r,s){o.identity(_),e&&i&&o.copy(_,i);var l=a.textRotation;if(n&&l){var h=a.textOrigin;"center"===h?(r=n.width/2+n.x,s=n.height/2+n.y):h&&(r=h[0]+n.x,s=h[1]+n.y),_[4]-=r,_[5]-=s,o.rotate(_,_,l),_[4]+=r,_[5]+=s}S(t,_)}(c,r,n,i,e,y,x);var w=y,M=s.adjustTextY(x,C,b);m&&(w=function(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}(y,I,m),M+=m[0]),M+=D/2,T(c,i,!0,t);var L=g.canCacheByTextString,F=t.__tspanList||(t.__tspanList=[]),P=F.length;if(L&&t.__canCacheByTextString&&t.__text===u){if(t.__dirtyText&&P)for(var N=0;N<P;++N)O(F[N],I,w,M+N*D)}else{t.__text=u,t.__canCacheByTextString=L;var R=g.lines,B=R.length;for(N=0;N<B;N++){var k=F[N],V=R[N];k?k.__zrText!==V&&(k.innerHTML="",k.appendChild(document.createTextNode(V))):(k=F[N]=a("tspan"),c.appendChild(k),k.appendChild(document.createTextNode(V))),O(k,I,w,M+N*D)}if(P>B){for(;N<P;N++)c.removeChild(F[N]);F.length=B}}}};function O(t,e,i,a){I(t,"dominant-baseline","middle"),I(t,"text-anchor",L[e]),I(t,"x",i),I(t,"y",a)}M.drawRectText=F,M.brush=function(t){null!=t.style.text&&F(t,!1)},e.path=b,e.image=w,e.text=M},"4xrk":function(t,e,i){var a=i("/gxq");e.layout=function(t,e,i){i=i||{};var n=t.coordinateSystem,r=e.axis,o={},s=r.getAxesOnZeroOf()[0],l=r.position,h=s?"onZero":l,u=r.dim,c=n.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,m="x"===u?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(s){var v=s.toGlobalCoord(s.dataToCoord(0));m[f.onZero]=Math.max(Math.min(v,m[1]),m[0])}o.position=["y"===u?m[f[h]]:d[0],"x"===u?m[f[h]]:d[3]],o.rotation=Math.PI/2*("x"===u?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],o.labelOffset=s?m[f[l]]-m[f.onZero]:0,e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),a.retrieve(i.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var g=e.get("axisLabel.rotate");return o.labelRotate="top"===h?-g:g,o.z2=1,o}},"5/bM":function(t,e,i){var a=i("Icdr");i("eQYg"),i("h4VJ");var n=i("ri8f"),r=i("UOrf"),o=i("l4Op");a.registerVisual(n("funnel")),a.registerLayout(r),a.registerProcessor(o("funnel"))},"52gC":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"56C7":function(t,e,i){var a=i("Icdr"),n=i("DpwM"),r=a.extendComponentView({type:"axisPointer",render:function(t,e,i){var a=e.getComponent("tooltip"),r=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";n.register("axisPointer",i,function(t,e,i){"none"!==r&&("leave"===t||r.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){n.unregister(e.getZr(),"axisPointer"),r.superApply(this._model,"remove",arguments)},dispose:function(t,e){n.unregister("axisPointer",e),r.superApply(this._model,"dispose",arguments)}}),o=r;t.exports=o},"5Hn/":function(t,e,i){var a=i("/gxq"),n=i("UAiw"),r=i("0sHC"),o=i("QD+P"),s=i("ilLo"),l=i("wWR3"),h=i("1Xuh"),u=i("og9+"),c=r.Rect,d=l.linearMap,f=l.asc,p=a.bind,m=a.each,v="horizontal",g=5,C=["line","bar","candlestick","scatter"],D=s.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,a){D.superApply(this,"render",arguments),o.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(a&&"dataZoom"===a.type&&a.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){D.superApply(this,"remove",arguments),o.clear(this,"_dispatchZoomAction")},dispose:function(){D.superApply(this,"dispose",arguments),o.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new r.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),n={width:e.getWidth(),height:e.getHeight()},r=this._orient===v?{right:n.width-i.x-i.width,top:n.height-30-7,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},o=h.getLayoutParams(t.option);a.each(["right","top","width","height"],function(t){"ph"===o[t]&&(o[t]=r[t])});var s=h.getLayoutRect(o,n,t.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),n=a&&a.get("inverse"),r=this._displayables.barGroup,o=(this._dataShadowInfo||{}).otherAxisInverse;r.attr(i!==v||n?i===v&&n?{scale:o?[-1,1]:[-1,-1]}:"vertical"!==i||n?{scale:o?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:o?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:o?[1,1]:[1,-1]});var s=t.getBoundingRect([r]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,i=this._displayables.barGroup;i.add(new c({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),i.add(new c({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:a.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,n=i.getRawData(),o=i.getShadowDim?i.getShadowDim():t.otherDim;if(null!=o){var s=n.getDataExtent(o),l=.3*(s[1]-s[0]);s=[s[0]-l,s[1]+l];var h,u=[0,e[1]],c=[0,e[0]],f=[[e[0],0],[0,0]],p=[],m=c[1]/(n.count()-1),v=0,g=Math.round(n.count()/e[0]);n.each([o],function(t,e){if(g>0&&e%g)v+=m;else{var i=null==t||isNaN(t)||""===t,a=i?0:d(t,s,u,!0);i&&!h&&e?(f.push([f[f.length-1][0],0]),p.push([p[p.length-1][0],0])):!i&&h&&(f.push([v,0]),p.push([v,0])),f.push([v,a]),p.push([v,a]),v+=m,h=i}});var C=this.dataZoomModel;this._displayables.barGroup.add(new r.Polygon({shape:{points:f},style:a.defaults({fill:C.get("dataBackgroundColor")},C.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new r.Polyline({shape:{points:p},style:C.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var i,n=this.ecModel;return t.eachTargetAxis(function(r,o){var s=t.getAxisProxy(r.name,o).getTargetSeriesModels();a.each(s,function(t){if(!(i||!0!==e&&a.indexOf(C,t.get("type"))<0)){var s,l=n.getComponent(r.axis,o).axis,h={x:"y",y:"x",radius:"angle",angle:"radius"}[r.name],u=t.coordinateSystem;null!=h&&u.getOtherAxis&&(s=u.getOtherAxis(l).inverse),h=t.getData().mapDimension(h),i={thisAxis:l,series:t,thisDim:r.name,otherDim:h,otherAxisInverse:s}}},this)},this),i}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],i=t.handleLabels=[],a=this._displayables.barGroup,o=this._size,s=this.dataZoomModel;a.add(t.filler=new c({draggable:!0,cursor:y(this._orient),drift:p(this._onDragMove,this,"all"),onmousemove:function(t){n.stop(t.event)},ondragstart:p(this._showDataInfo,this,!0),ondragend:p(this._onDragEnd,this),onmouseover:p(this._showDataInfo,this,!0),onmouseout:p(this._showDataInfo,this,!1),style:{fill:s.get("fillerColor"),textPosition:"inside"}})),a.add(new c({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{stroke:s.get("dataBackgroundColor")||s.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),m([0,1],function(t){var o=r.createIcon(s.get("handleIcon"),{cursor:y(this._orient),draggable:!0,drift:p(this._onDragMove,this,t),onmousemove:function(t){n.stop(t.event)},ondragend:p(this._onDragEnd,this),onmouseover:p(this._showDataInfo,this,!0),onmouseout:p(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),h=o.getBoundingRect();this._handleHeight=l.parsePercent(s.get("handleSize"),this._size[1]),this._handleWidth=h.width/h.height*this._handleHeight,o.setStyle(s.getModel("handleStyle").getItemStyle());var u=s.get("handleColor");null!=u&&(o.style.fill=u),a.add(e[t]=o);var c=s.textStyleModel;this.group.add(i[t]=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:c.getTextColor(),textFont:c.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[d(t[0],[0,100],e,!0),d(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this.dataZoomModel,a=this._handleEnds,n=this._getViewExtent(),r=i.findRepresentativeAxisProxy().getMinMaxSpan(),o=[0,100];u(e,a,n,i.get("zoomLock")?"all":t,null!=r.minSpan?d(r.minSpan,o,n,!0):null,null!=r.maxSpan?d(r.maxSpan,o,n,!0):null);var s=this._range,l=this._range=f([d(a[0],n,o,!0),d(a[1],n,o,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},_updateView:function(t){var e=this._displayables,i=this._handleEnds,a=f(i.slice()),n=this._size;m([0,1],function(t){var a=e.handles[t],r=this._handleHeight;a.attr({scale:[r/2,r/2],position:[i[t],n[1]/2-r/2]})},this),e.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:n[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){var e=this.dataZoomModel,i=this._displayables,a=i.handleLabels,n=this._orient,o=["",""];if(e.get("showDetail")){var s=e.findRepresentativeAxisProxy();if(s){var l=s.getAxisModel().axis,h=this._range,u=t?s.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:s.getDataValueWindow();o=[this._formatLabel(u[0],l),this._formatLabel(u[1],l)]}}var c=f(this._handleEnds.slice());function d(t){var e=r.getTransform(i.handles[t].parent,this.group),s=r.transformDirection(0===t?"right":"left",e),l=this._handleWidth/2+g,h=r.applyTransform([c[t]+(0===t?-l:l),this._size[1]/2],e);a[t].setStyle({x:h[0],y:h[1],textVerticalAlign:n===v?"middle":s,textAlign:n===v?s:"center",text:o[t]})}d.call(this,0),d.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,n=i.get("labelFormatter"),r=i.get("labelPrecision");null!=r&&"auto"!==r||(r=e.getPixelPrecision());var o=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(r,20));return a.isFunction(n)?n(t,o):a.isString(n)?n.replace("{value}",o):o},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,i){this._dragging=!0;var a=this._displayables.barGroup.getLocalTransform(),n=r.applyTransform([e,i],a,!0),o=this._updateInterval(t,n[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),o&&s&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,i=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>e[0]||i[1]<0||i[1]>e[1])){var a=this._handleEnds,n=(a[0]+a[1])/2,r=this._updateInterval("all",i[0]-n);this._updateView(),r&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(m(this.getTargetCoordInfo(),function(e){if(!t&&e.length){var i=e[0].model.coordinateSystem;t=i.getRect&&i.getRect()}}),!t){var e=this.api.getWidth(),i=this.api.getHeight();t={x:.2*e,y:.2*i,width:.6*e,height:.6*i}}return t}});function y(t){return"vertical"===t?"ns-resize":"ew-resize"}var x=D;t.exports=x},"5KBG":function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=(a.isTypedArray,a.extend),r=(a.assert,a.each),o=a.isObject,s=i("vXqC"),l=s.getDataItemValue,h=s.isDataItemOption,u=i("wWR3").parseDate,c=i("rrAD"),d=i("+2Ke"),f=d.SOURCE_FORMAT_TYPED_ARRAY,p=d.SOURCE_FORMAT_ARRAY_ROWS,m=d.SOURCE_FORMAT_ORIGINAL,v=d.SOURCE_FORMAT_OBJECT_ROWS;function g(t,e){c.isInstance(t)||(t=c.seriesDataToSource(t)),this._source=t;var i=this._data=t.data,a=t.sourceFormat;a===f&&(this._offset=0,this._dimSize=e,this._data=i);var r=D[a===p?a+"_"+t.seriesLayoutBy:a];n(this,r)}var C=g.prototype;C.pure=!1,C.persistent=!0,C.getSource=function(){return this._source};var D={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:S},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],i=this._data,a=0;a<i.length;a++){var n=i[a];e.push(n?n[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:y,getItem:x,appendData:S},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],i=this._source.dimensionsDefine,a=0;a<i.length;a++){var n=this._data[i[a].name];e.push(n?n[t]:null)}return e},appendData:function(t){var e=this._data;r(t,function(t,i){for(var a=e[i]||(e[i]=[]),n=0;n<(t||[]).length;n++)a.push(t[n])})}},original:{count:y,getItem:x,appendData:S},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var i=this._dimSize*t,a=0;a<this._dimSize;a++)e[a]=this._data[i+a];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}};function y(){return this._data.length}function x(t){return this._data[t]}function S(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}var I={arrayRows:T,objectRows:function(t,e,i,a){return null!=i?t[a]:t},keyedColumns:T,original:function(t,e,i,a){var n=l(t);return null!=i&&n instanceof Array?n[i]:n},typedArray:T};function T(t,e,i,a){return null!=i?t[i]:t}var b={arrayRows:w,objectRows:function(t,e,i,a){return M(t[e],this._dimensionInfos[e])},keyedColumns:w,original:function(t,e,i,a){var n=t&&(null==t.value?t:t.value);return!this._rawData.pure&&h(t)&&(this.hasItemOption=!0),M(n instanceof Array?n[a]:n,this._dimensionInfos[e])},typedArray:function(t,e,i,a){return t[a]}};function w(t,e,i,a){return M(t[a],this._dimensionInfos[e])}function M(t,e){var i=e&&e.type;if("ordinal"===i){var a=e&&e.ordinalMeta;return a?a.parseAndCollect(t):t}return"time"===i&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+u(t)),null==t||""===t?NaN:+t}e.DefaultDataProvider=g,e.defaultDimValueGetters=b,e.retrieveRawValue=function(t,e,i){if(t){var a=t.getRawDataItem(e);if(null!=a){var n,r,o=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(i);return s&&(n=s.name,r=s.index),I[o](a,e,r,n)}}},e.retrieveRawAttr=function(t,e,i){if(t){var a=t.getProvider().getSource().sourceFormat;if(a===m||a===v){var n=t.getRawDataItem(e);return a!==m||o(n)||(n=null),n?n[i]:void 0}}}},"5KWC":function(t,e){var i=["itemStyle","borderColor"];t.exports=function(t,e){var a=t.get("color");t.eachRawSeriesByType("boxplot",function(e){var n=a[e.seriesIndex%a.length],r=e.getData();r.setVisual({legendSymbol:"roundRect",color:e.get(i)||n}),t.isSeriesFiltered(e)||r.each(function(t){var e=r.getItemModel(t);r.setItemVisual(t,{color:e.get(i,!0)})})})}},"5Mek":function(t,e,i){var a=i("/gxq"),n=i("qjvV"),r=i("UAiw"),o=i("mcsk");function s(t){this.pointerChecker,this._zr=t,this._opt={};var e=a.bind,i=e(l,this),r=e(h,this),o=e(u,this),s=e(c,this),f=e(d,this);n.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,n){this.disable(),this._opt=a.defaults(a.clone(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",i),t.on("mousemove",r),t.on("mouseup",o)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",s),t.on("pinch",f))},this.disable=function(){t.off("mousedown",i),t.off("mousemove",r),t.off("mouseup",o),t.off("mousewheel",s),t.off("pinch",f)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function l(t){if(!(r.isMiddleOrRightButtonOnMouseUpDown(t)||t.target&&t.target.draggable)){var e=t.offsetX,i=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,i)&&(this._x=e,this._y=i,this._dragging=!0)}}function h(t){if(this._dragging&&m("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!o.isTaken(this._zr,"globalPan")){var e=t.offsetX,i=t.offsetY,a=this._x,n=this._y,s=e-a,l=i-n;this._x=e,this._y=i,this._opt.preventDefaultMouseMove&&r.stop(t.event),p(this,"pan","moveOnMouseMove",t,{dx:s,dy:l,oldX:a,oldY:n,newX:e,newY:i})}}function u(t){r.isMiddleOrRightButtonOnMouseUpDown(t)||(this._dragging=!1)}function c(t){var e=m("zoomOnMouseWheel",t,this._opt),i=m("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,n=Math.abs(a),r=t.offsetX,o=t.offsetY;if(0!==a&&(e||i)){if(e){var s=n>3?1.4:n>1?1.2:1.1;f(this,"zoom","zoomOnMouseWheel",t,{scale:a>0?s:1/s,originX:r,originY:o})}if(i){var l=Math.abs(a);f(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(a>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:r,originY:o})}}}function d(t){o.isTaken(this._zr,"globalPan")||f(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY})}function f(t,e,i,a,n){t.pointerChecker&&t.pointerChecker(a,n.originX,n.originY)&&(r.stop(a.event),p(t,e,i,a,n))}function p(t,e,i,n,r){r.isAvailableBehavior=a.bind(m,null,i,n),t.trigger(e,r)}function m(t,e,i){var n=i[t];return!t||n&&(!a.isString(n)||e.event[n+"Key"])}a.mixin(s,n);var v=s;t.exports=v},"5QRV":function(t,e,i){var a=i("/gxq"),n=i("ao1T"),r=i("3yJd"),o=i("2uoh"),s=i("Pdtn"),l=i("1Xuh");l.getLayoutRect;e.getLayoutRect=l.getLayoutRect;var h=i("qVJQ"),u=h.enableDataStack,c=h.isDimensionStacked,d=h.getStackedDimension,f=i("/n1K");e.completeDimensions=f;var p=i("hcq/");e.createDimensions=p;var m=i("kK7q");e.createSymbol=m.createSymbol;var v={isDimensionStacked:c,enableDataStack:u,getStackedDimension:d};e.createList=function(t){return n(t.getSource(),t)},e.dataStack=v,e.createScale=function(t,e){var i=e;s.isInstance(e)||(i=new s(e),a.mixin(i,o));var n=r.createScaleByModel(i);return n.setExtent(t[0],t[1]),r.niceScaleExtent(n,i),n},e.mixinAxisModelCommonMethods=function(t){a.mixin(t,o)}},"5QVw":function(t,e,i){t.exports={default:i("BwfY"),__esModule:!0}},"5VQ+":function(t,e,i){"use strict";var a=i("cGG2");t.exports=function(t,e){a.forEach(t,function(i,a){a!==e&&a.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[a])})}},"5dr1":function(t,e,i){var a=i("/gxq"),n=i("8b51"),r=i("ct4P");function o(t){r.call(this,t)}o.prototype={constructor:o,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,i){var a=this.getAxis("x"),n=this.getAxis("y");return(i=i||[])[0]=a.toGlobalCoord(a.dataToCoord(t[0])),i[1]=n.toGlobalCoord(n.dataToCoord(t[1])),i},clampData:function(t,e){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,n=i.getExtent(),r=a.getExtent(),o=i.parse(t[0]),s=a.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(n[0],n[1]),o),Math.max(n[0],n[1])),e[1]=Math.min(Math.max(Math.min(r[0],r[1]),s),Math.max(r[0],r[1])),e},pointToData:function(t,e){var i=this.getAxis("x"),a=this.getAxis("y");return(e=e||[])[0]=i.coordToData(i.toLocalCoord(t[0])),e[1]=a.coordToData(a.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")},getArea:function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),a=Math.min(e[0],e[1]),r=Math.max(t[0],t[1])-i,o=Math.max(e[0],e[1])-a;return new n(i,a,r,o)}},a.inherits(o,r);var s=o;t.exports=s},"5tow":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=i("ifoU"),r=(a=n)&&a.__esModule?a:{default:a};function o(){this.HistoryData,this.BuyData,this.SellData,this.IndexClose,this.NetCalculateModel=0,this.InitialCapital=1e4,this.Data=new r.default,this.SetPolicyData=function(t){this.HistoryData=t.KLineData,this.BuyData=t.BuyData,this.SellData=t.SellData,t.IndexClose&&(this.IndexClose=t.IndexClose)},this.ClearData=function(){this.Data=new r.default},this.GetBSData=function(t){for(var e=null,i=0;i<this.HistoryData.length;++i){if(this.HistoryData[i].Date>=t){e=i;break}}if(null===e)return null;console.log("[RegressionTest::GetBSData] startDate="+t+" index="+e);var a=[],n=null;for(i=e;i<this.HistoryData.length;++i){var r=this.BuyData[i],o=this.SellData[i],s=this.HistoryData[i];if(null===n){if(r>0){var l={Data:s,Count:0};i+1<this.HistoryData.length&&(l.NextOpen=this.HistoryData[i+1].Open),n={B:[l],S:null}}}else{for(var h in n.B)++n.B[h].Count;if(r>0){l={Data:s,Count:0};i+1<this.HistoryData.length&&(l.NextOpen=this.HistoryData[i+1].Open),n.B.push(l)}else o>0&&(n.S={Data:s},a.push(n),n=null)}}var u={StartDate:this.HistoryData[e].Date,StartIndex:e,Count:this.HistoryData.length-e,BSData:a};return console.log("[RegressionTest::GetBSData] data",u),u},this.Calculate=function(t){var e={Count:t.Count,Max:null,Min:null,Average:null},i={Count:0,Days:0,Success:0,Fail:0,SuccessRate:0};for(var a in t.BSData){var n=t.BSData[a];for(var r in n.B){var o=n.B[r];null===e.Max?e.Max=o.Count:e.Max<o.Count&&(e.Max=o.Count),null===e.Min?e.Min=o.Count:e.Min>o.Count&&(e.Min=o.Count),++i.Count,i.Days+=o.Count,n.S.Data.Close>o.Data.Open?++i.Success:++i.Fail}}i.Count>0&&(e.Average=i.Days/i.Count,i.SuccessRate=i.Success/i.Count);var s,l=1;for(var a in t.BSData){n=t.BSData[a];s=1===this.NetCalculateModel&&n.B[0].NextOpen>0?n.B[0].NextOpen:n.B[0].Data.Open,l*=(n.S.Data.Close-s)/s+1}l-=1;var h=this.HistoryData[t.StartIndex].Close,u=(this.HistoryData[this.HistoryData.length-1].Close-h)/h;console.log("[RegressionTest::Calculate] stock profit first["+this.HistoryData[t.StartIndex].Date+", YClose="+this.HistoryData[t.StartIndex].YClose+"] end["+this.HistoryData[this.HistoryData.length-1].Date+", Close="+this.HistoryData[this.HistoryData.length-1].Close+"]");var c=this.CaclulateNetValue(t),d=null,f=null;c&&c.length>0&&(d=this.CaclulateMaxDropdown(c),this.IndexClose&&(f=this.CaclulateBeta(c)));var p={Day:e,Trade:i,Profit:l,StockProfit:u,Excess:l-u,NetValue:c,MaxDropdown:d,Beta:f,BSDataPair:t.BSData};return console.log("[RegressionTest::Calculate] NetCalculateModel, result ",this.NetCalculateModel,p),p},this.CaclulateNetValue=function(t){for(var e,i=t.StartIndex,a=[],n={Position:0,Cache:this.InitialCapital},r=null,o=i;o<this.HistoryData.length;++o){var s=this.BuyData[o],l=this.SellData[o],h=this.HistoryData[o],u={Date:h.Date,Position:n.Position,Cache:n.Cache,Open:h.Open,Close:h.Close};if(u.MarketValue=u.Position*u.Close+u.Cache,null===r){if(s>0){r={B:{Data:h},S:null},e=1===this.NetCalculateModel&&o+1<this.HistoryData.length&&this.HistoryData[o+1].Open>0?this.HistoryData[o+1].Open:u.Open;var c=parseInt(u.Cache/e),d=u.Cache-e*c;u.Position=c,u.Cache=d,u.MarketValue=u.Position*u.Close+u.Cache}}else if(l>0){r.S={Data:h},r=null;var f=u.Position*u.Close;u.Position=0,u.Cache+=f,u.MarketValue=u.Position*u.Close+u.Cache}n.Position=u.Position,n.Cache=u.Cache,u.Net=u.MarketValue/this.InitialCapital,this.IndexClose&&(u.IndexClose=this.IndexClose[o]),a.push(u)}if(a.length<=0)return[];var p=[];for(o=0;o<a.length;++o){var m=a[o],v={Net:m.Net,Date:m.Date,Close:m.Close};m.IndexClose&&(v.IndexClose=m.IndexClose),p.push(v)}return p},this.CaclulateMaxDropdown=function(t){for(var e,i=t[0].Net,a=0,n=1;n<t.length;++n){var r=t[n],o=1-r.Net/i;a<o&&(a=o,e=r),i<r.Net&&(i=r.Net)}return console.log("[RegressionTest::CaclulateMaxDropdown] maxDay",e),a},this.CaclulateBeta=function(t){for(var e=t[0],i=[],a=[],n=0,r=0,o=1;o<t.length;++o){i[o-1]=0,a[o-1]=0;var s=t[o];s.IndexClose>0&&e.IndexClose>0&&(i[o-1]=(s.IndexClose-e.IndexClose)/e.IndexClose),s.Net>0&&e.Net>0&&(a[o-1]=(s.Net-e.Net)/e.Net),n+=i[o-1],r+=a[o-1],e=s}var l=n/i.length,h=r/a.length,u=0;for(o=0;o<i.length;++o)u+=(a[o]-h)*(i[o]-l);var c=0;for(o=0;o<i.length;++o)c+=(i[o]-l)*(i[o]-l);return u/c},this.Execute=function(t){for(var e in t){var i=t[e];if(this.Data.has(i.Name))console.log("[RegressionTest::Execute] id="+e+" Name="+i.Name+" Date:"+i.Date+" is exsit.");else{console.log("[RegressionTest::Execute] id="+e+" Name="+i.Name+" Date:"+i.Date);var a=this.GetBSData(i.Date),n=this.Calculate(a);this.Data.set(i.Name,n)}}}}o.CaclulateOverlayData=function(t){if(!t.Main||!t.Sub)return null;var e=t.Main.length;for(var i in t.Sub){if(t.Sub[i].length!=e)return console.log("[RegressionTest::OverlayData] id="+i+" data count not match. MainData count="+e),null}var a=[],n={Sub:[]};n.Main=t.Main[0],a.push([]);for(i=0;i<t.Sub.length;++i){var r=t.Sub[i];n.Sub[i]=r[0],a.push([])}for(i=0;i<t.Main.length;++i){var o=(t.Main[i]-n.Main)/n.Main;a[0][i]=o;for(var s=0;s<t.Sub.length;++s){var l=((r=t.Sub[s])[i]-n.Sub[s])/n.Sub[s];a[s+1][i]=l}}return a},o.GetPolicyData=function(t){var e={KLineData:null,IndexClose:null,BuyData:null,SellData:null};for(var i in e.KLineData=t.HistoryData.Data,t.OutVar){var a=t.OutVar[i];"INDEXCLOSE"==a.Name?e.IndexClose=a.Data:"DRAWICON"==a.Name&&a.Draw&&a.Draw.Icon&&(13===a.Draw.Icon.ID?e.BuyData=a.Draw.DrawData:14===a.Draw.Icon.ID&&(e.SellData=a.Draw.DrawData))}return e.KLineData&&e.BuyData&&e.SellData?e:null},e.default={RegressionTest:o}},"5vFd":function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=a.isObject,r=a.each,o=a.map,s=a.indexOf,l=(a.retrieve,i("1Xuh").getLayoutRect),h=i("3yJd"),u=h.createScaleByModel,c=h.ifAxisCrossZero,d=h.niceScaleExtent,f=h.estimateLabelUnionRect,p=i("5dr1"),m=i("RKzr"),v=i("rctg"),g=i("qVJQ").getStackedDimension;function C(t,e,i){return t.getCoordSysModel()===e}function D(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this.model=t}i("BuI2");var y=D.prototype;function x(t,e,i,a){i.getAxesOnZeroOf=function(){return n?[n]:[]};var n,r=t[e],o=i.model,s=o.get("axisLine.onZero"),l=o.get("axisLine.onZeroAxisIndex");if(s){if(null!=l)S(r[l])&&(n=r[l]);else for(var h in r)if(r.hasOwnProperty(h)&&S(r[h])&&!a[u(r[h])]){n=r[h];break}n&&(a[u(n)]=!0)}function u(t){return t.dim+"_"+t.index}}function S(t){return t&&"category"!==t.type&&"time"!==t.type&&c(t)}y.type="grid",y.axisPointerEnabled=!0,y.getRect=function(){return this._rect},y.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),r(i.x,function(t){d(t.scale,t.model)}),r(i.y,function(t){d(t.scale,t.model)});var a={};r(i.x,function(t){x(i,"y",t,a)}),r(i.y,function(t){x(i,"x",t,a)}),this.resize(this.model,e)},y.resize=function(t,e,i){var a=l(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=a;var n=this._axesList;function o(){r(n,function(t){var e=t.isHorizontal(),i=e?[0,a.width]:[0,a.height],n=t.inverse?1:0;t.setExtent(i[n],i[1-n]),function(t,e){var i=t.getExtent(),a=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return a-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return a-t+e}}(t,e?a.x:a.y)})}o(),!i&&t.get("containLabel")&&(r(n,function(t){if(!t.model.get("axisLabel.inside")){var e=f(t);if(e){var i=t.isHorizontal()?"height":"width",n=t.model.get("axisLabel.margin");a[i]-=e[i]+n,"top"===t.position?a.y+=e.height+n:"left"===t.position&&(a.x+=e.width+n)}}}),o())},y.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var a in i)if(i.hasOwnProperty(a))return i[a];return i[e]}},y.getAxes=function(){return this._axesList.slice()},y.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}n(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var a=0,r=this._coordsList;a<r.length;a++)if(r[a].getAxis("x").index===t||r[a].getAxis("y").index===e)return r[a]},y.getCartesians=function(){return this._coordsList.slice()},y.convertToPixel=function(t,e,i){var a=this._findConvertTarget(t,e);return a.cartesian?a.cartesian.dataToPoint(i):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(i)):null},y.convertFromPixel=function(t,e,i){var a=this._findConvertTarget(t,e);return a.cartesian?a.cartesian.pointToData(i):a.axis?a.axis.coordToData(a.axis.toLocalCoord(i)):null},y._findConvertTarget=function(t,e){var i,a,n=e.seriesModel,r=e.xAxisModel||n&&n.getReferringComponents("xAxis")[0],o=e.yAxisModel||n&&n.getReferringComponents("yAxis")[0],l=e.gridModel,h=this._coordsList;if(n)i=n.coordinateSystem,s(h,i)<0&&(i=null);else if(r&&o)i=this.getCartesian(r.componentIndex,o.componentIndex);else if(r)a=this.getAxis("x",r.componentIndex);else if(o)a=this.getAxis("y",o.componentIndex);else if(l){l.coordinateSystem===this&&(i=this._coordsList[0])}return{cartesian:i,axis:a}},y.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},y._initCartesian=function(t,e,i){var a={left:!1,right:!1,top:!1,bottom:!1},n={x:{},y:{}},o={x:0,y:0};if(e.eachComponent("xAxis",s("x"),this),e.eachComponent("yAxis",s("y"),this),!o.x||!o.y)return this._axesMap={},void(this._axesList=[]);function s(e){return function(i,r){if(C(i,t)){var s=i.get("position");"x"===e?"top"!==s&&"bottom"!==s&&(s=a.bottom?"top":"bottom"):"left"!==s&&"right"!==s&&(s=a.left?"right":"left"),a[s]=!0;var l=new m(e,u(i),[0,0],i.get("type"),s),h="category"===l.type;l.onBand=h&&i.get("boundaryGap"),l.inverse=i.get("inverse"),i.axis=l,l.model=i,l.grid=this,l.index=r,this._axesList.push(l),n[e][r]=l,o[e]++}}}this._axesMap=n,r(n.x,function(e,i){r(n.y,function(a,n){var r="x"+i+"y"+n,o=new p(r);o.grid=this,o.model=t,this._coordsMap[r]=o,this._coordsList.push(o),o.addAxis(e),o.addAxis(a)},this)},this)},y._updateScale=function(t,e){function i(t,e,i){r(t.mapDimension(e.dim,!0),function(i){e.scale.unionExtentFromData(t,g(t,i))})}r(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(a){if(b(a)){var n=T(a,t),r=n[0],o=n[1];if(!C(r,e)||!C(o,e))return;var s=this.getCartesian(r.componentIndex,o.componentIndex),l=a.getData(),h=s.getAxis("x"),u=s.getAxis("y");"list"===l.type&&(i(l,h,a),i(l,u,a))}},this)},y.getTooltipAxes=function(t){var e=[],i=[];return r(this.getCartesians(),function(a){var n=null!=t&&"auto"!==t?a.getAxis(t):a.getBaseAxis(),r=a.getOtherAxis(n);s(e,n)<0&&e.push(n),s(i,r)<0&&i.push(r)}),{baseAxes:e,otherAxes:i}};var I=["xAxis","yAxis"];function T(t,e){return o(I,function(e){return t.getReferringComponents(e)[0]})}function b(t){return"cartesian2d"===t.get("coordinateSystem")}D.create=function(t,e){var i=[];return t.eachComponent("grid",function(a,n){var r=new D(a,t,e);r.name="grid_"+n,r.resize(a,e,!0),a.coordinateSystem=r,i.push(r)}),t.eachSeries(function(t){if(b(t)){var e=T(t),i=e[0],a=e[1],n=i.getCoordSysModel().coordinateSystem;t.coordinateSystem=n.getCartesian(i.componentIndex,a.componentIndex)}}),i},D.dimensions=D.prototype.dimensions=p.prototype.dimensions,v.register("cartesian2d",D);var w=D;t.exports=w},"5zde":function(t,e,i){i("zQR9"),i("qyJz"),t.exports=i("FeBl").Array.from},"67nf":function(t,e,i){var a=i("GxVO"),n=i("C7PF"),r=i("AAi1"),o=r.quadraticSubdivide,s=r.cubicSubdivide,l=r.quadraticAt,h=r.cubicAt,u=r.quadraticDerivativeAt,c=r.cubicDerivativeAt,d=[];function f(t,e,i){var a=t.cpx2,n=t.cpy2;return null===a||null===n?[(i?c:h)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?c:h)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?u:l)(t.x1,t.cpx1,t.x2,e),(i?u:l)(t.y1,t.cpy1,t.y2,e)]}var p=a.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,a=e.y1,n=e.x2,r=e.y2,l=e.cpx1,h=e.cpy1,u=e.cpx2,c=e.cpy2,f=e.percent;0!==f&&(t.moveTo(i,a),null==u||null==c?(f<1&&(o(i,l,n,f,d),l=d[1],n=d[2],o(a,h,r,f,d),h=d[1],r=d[2]),t.quadraticCurveTo(l,h,n,r)):(f<1&&(s(i,l,u,n,f,d),l=d[1],u=d[2],n=d[3],s(a,h,c,r,f,d),h=d[1],c=d[2],r=d[3]),t.bezierCurveTo(l,h,u,c,n,r)))},pointAt:function(t){return f(this.shape,t,!1)},tangentAt:function(t){var e=f(this.shape,t,!0);return n.normalize(e,e)}});t.exports=p},"6HcI":function(t,e,i){var a=i("/gxq");t.exports=function(t){var e=t.polar;if(e){a.isArray(e)||(e=[e]);var i=[];a.each(e,function(e,n){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],a.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):i.push(e)}),t.polar=i}a.each(t.series,function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})}},"6HoR":function(t,e,i){var a=i("Icdr"),n=i("MXTC").Polygon,r=i("0sHC"),o=i("/gxq"),s=o.bind,l=o.extend,h=i("1Hui"),u=a.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(t,e,i){var a=t.getData(),o=this.group,u=t.getLayerSeries(),c=a.getLayout("layoutInfo"),d=c.rect,f=c.boundaryGap;function p(t){return t.name}o.attr("position",[0,d.y+f[0]]);var m={};function v(e,i,s){var h=this._layers;if("remove"!==e){for(var c,d,f,p=[],v=[],g=u[i].indices,C=0;C<g.length;C++){var D=a.getItemLayout(g[C]),y=D.x,x=D.y0,S=D.y;p.push([y,x]),v.push([y,x+S]),c=a.getItemVisual(g[C],"color")}var I=a.getItemLayout(g[0]),T=a.getItemModel(g[C-1]),b=T.getModel("label"),w=b.get("margin");if("add"===e){var M=m[i]=new r.Group;d=new n({shape:{points:p,stackedOnPoints:v,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),f=new r.Text({style:{x:I.x-w,y:I.y0+I.y/2}}),M.add(d),M.add(f),o.add(M),d.setClipPath(function(t,e,i){var a=new r.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return r.initProps(a,{shape:{width:t.width+20,height:t.height+20}},e,i),a}(d.getBoundingRect(),t,function(){d.removeClipPath()}))}else{M=h[s];d=M.childAt(0),f=M.childAt(1),o.add(M),m[i]=M,r.updateProps(d,{shape:{points:p,stackedOnPoints:v}},t),r.updateProps(f,{style:{x:I.x-w,y:I.y0+I.y/2}},t)}var E=T.getModel("emphasis.itemStyle"),A=T.getModel("itemStyle");r.setTextStyle(f.style,b,{text:b.get("show")?t.getFormattedLabel(g[C-1],"normal")||a.getName(g[C-1]):null,textVerticalAlign:"middle"}),d.setStyle(l({fill:c},A.getItemStyle(["color"]))),r.setHoverStyle(d,E.getItemStyle())}else o.remove(h[i])}new h(this._layersSeries||[],u,p,p).add(s(v,this,"add")).update(s(v,this,"update")).remove(s(v,this,"remove")).execute(),this._layersSeries=u,this._layers=m},dispose:function(){}});t.exports=u},"6JAQ":function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("Pdtn"),o=i("vXqC").isNameSpecified,s=i("FIAY").legend.selector,l={all:{type:"all",title:n.clone(s.all)},inverse:{type:"inverse",title:n.clone(s.inverse)}},h=a.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},mergeOption:function(t){h.superCall(this,"mergeOption",t),this._updateSelector(t)},_updateSelector:function(t){var e=t.selector;!0===e&&(e=t.selector=["all","inverse"]),n.isArray(e)&&n.each(e,function(t,i){n.isString(t)&&(t={type:t}),e[i]=n.merge(t,l[t.type])})},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var a=t[i].get("name");if(this.isSelected(a)){this.select(a),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=[],i=[];t.eachRawSeries(function(a){var n,r=a.name;if(i.push(r),a.legendDataProvider){var s=a.legendDataProvider(),l=s.mapArray(s.getName);t.isSeriesFiltered(a)||(i=i.concat(l)),l.length?e=e.concat(l):n=!0}else n=!0;n&&o(a)&&e.push(a.name)}),this._availableNames=i;var a=this.get("data")||e,s=n.map(a,function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new r(t,this,this.ecModel)},this);this._data=s},getData:function(){return this._data},select:function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var i=this._data;n.each(i,function(t){e[t.get("name")]=!1})}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},allSelect:function(){var t=this._data,e=this.option.selected;n.each(t,function(t){e[t.get("name",!0)]=!0})},inverseSelect:function(){var t=this._data,e=this.option.selected;n.each(t,function(t){var i=t.get("name",!0);e.hasOwnProperty(i)||(e[i]=!0),e[i]=!e[i]})},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&n.indexOf(this._availableNames,t)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),u=h;t.exports=u},"6Kqb":function(t,e,i){var a=i("GxVO").extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,a=e.cy,n=2*Math.PI;t.moveTo(i+e.r,a),t.arc(i,a,e.r,0,n,!1),t.moveTo(i+e.r0,a),t.arc(i,a,e.r0,0,n,!0)}});t.exports=a},"6MCj":function(t,e,i){var a=i("YNzw"),n=i("C7PF").applyTransform,r=i("8b51"),o=i("DRaW"),s=i("3h1/"),l=i("qjrH"),h=i("taS8"),u=i("9qnA"),c=i("MAom"),d=i("/86O"),f=i("GxVO"),p=i("moDv"),m=i("wRzc"),v=i("cI6i"),g=p.CMD,C=Math.round,D=Math.sqrt,y=Math.abs,x=Math.cos,S=Math.sin,I=Math.max;if(!a.canvasSupported){var T=21600,b=T/2,w=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=T+","+T,t.coordorigin="0,0"},M=function(t,e,i){return"rgb("+[t,e,i].join(",")+")"},E=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},A=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},_=function(t,e,i){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+i},L=l.parsePercent,F=function(t,e,i){var a=o.parse(e);i=+i,isNaN(i)&&(i=1),a&&(t.color=M(a[0],a[1],a[2]),t.opacity=i*a[3])},O=function(t,e,i,a){var r="fill"===e,s=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(r||!r&&i.lineWidth)?(t[r?"filled":"stroked"]="true",i[e]instanceof m&&A(t,s),s||(s=v.createNode(e)),r?function(t,e,i){var a,r,s=e.fill;if(null!=s)if(s instanceof m){var l,h=0,u=[0,0],c=0,d=1,f=i.getBoundingRect(),p=f.width,v=f.height;if("linear"===s.type){l="gradient";var g=i.transform,C=[s.x*p,s.y*v],D=[s.x2*p,s.y2*v];g&&(n(C,C,g),n(D,D,g));var y=D[0]-C[0],x=D[1]-C[1];(h=180*Math.atan2(y,x)/Math.PI)<0&&(h+=360),h<1e-6&&(h=0)}else{l="gradientradial",C=[s.x*p,s.y*v],g=i.transform;var S=i.scale,b=p,w=v;u=[(C[0]-f.x)/b,(C[1]-f.y)/w],g&&n(C,C,g),b/=S[0]*T,w/=S[1]*T;var E=I(b,w);c=0/E,d=2*s.r/E-c}var A=s.colorStops.slice();A.sort(function(t,e){return t.offset-e.offset});for(var _=A.length,L=[],O=[],P=0;P<_;P++){var N=A[P],R=(a=N.color,r=o.parse(a),[M(r[0],r[1],r[2]),r[3]]);O.push(N.offset*d+c+" "+R[0]),0!==P&&P!==_-1||L.push(R)}if(_>=2){var B=L[0][0],k=L[1][0],V=L[0][1]*e.opacity,H=L[1][1]*e.opacity;t.type=l,t.method="none",t.focus="100%",t.angle=h,t.color=B,t.color2=k,t.colors=O.join(","),t.opacity=H,t.opacity2=V}"radial"===l&&(t.focusposition=u.join(","))}else F(t,s,e.opacity)}(s,i,a):function(t,e){e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof m||F(t,e.stroke,e.opacity)}(s,i),E(t,s)):(t[r?"filled":"stroked"]="false",A(t,s))},P=[[],[],[]];f.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=v.createNode("shape"),w(i),this._vmlEl=i),O(i,"fill",e,this),O(i,"stroke",e,this);var a=this.transform,r=null!=a,o=i.getElementsByTagName("stroke")[0];if(o){var s=e.lineWidth;if(r&&!e.strokeNoScale){var l=a[0]*a[3]-a[1]*a[2];s*=D(y(l))}o.weight=s+"px"}var h=this.path||(this.path=new p);this.__dirtyPath&&(h.beginPath(),h.subPixelOptimize=!1,this.buildPath(h,this.shape),h.toStatic(),this.__dirtyPath=!1),i.path=function(t,e){var i,a,r,o,s,l,h=g.M,u=g.C,c=g.L,d=g.A,f=g.Q,p=[],m=t.data,v=t.len();for(o=0;o<v;){switch(a="",i=0,r=m[o++]){case h:a=" m ",i=1,s=m[o++],l=m[o++],P[0][0]=s,P[0][1]=l;break;case c:a=" l ",i=1,s=m[o++],l=m[o++],P[0][0]=s,P[0][1]=l;break;case f:case u:a=" c ",i=3;var y,I,w=m[o++],M=m[o++],E=m[o++],A=m[o++];r===f?(y=E,I=A,E=(E+2*w)/3,A=(A+2*M)/3,w=(s+2*w)/3,M=(l+2*M)/3):(y=m[o++],I=m[o++]),P[0][0]=w,P[0][1]=M,P[1][0]=E,P[1][1]=A,P[2][0]=y,P[2][1]=I,s=y,l=I;break;case d:var _=0,L=0,F=1,O=1,N=0;e&&(_=e[4],L=e[5],F=D(e[0]*e[0]+e[1]*e[1]),O=D(e[2]*e[2]+e[3]*e[3]),N=Math.atan2(-e[1]/O,e[0]/F));var R=m[o++],B=m[o++],k=m[o++],V=m[o++],H=m[o++]+N,G=m[o++]+H+N;o++;var Y=m[o++],W=R+x(H)*k,X=B+S(H)*V,U=(w=R+x(G)*k,M=B+S(G)*V,Y?" wa ":" at ");Math.abs(W-w)<1e-4&&(Math.abs(G-H)>.01?Y&&(W+=.0125):Math.abs(X-B)<1e-4?Y&&W<R||!Y&&W>R?M-=.0125:M+=.0125:Y&&X<B||!Y&&X>B?w+=.0125:w-=.0125),p.push(U,C(((R-k)*F+_)*T-b),",",C(((B-V)*O+L)*T-b),",",C(((R+k)*F+_)*T-b),",",C(((B+V)*O+L)*T-b),",",C((W*F+_)*T-b),",",C((X*O+L)*T-b),",",C((w*F+_)*T-b),",",C((M*O+L)*T-b)),s=w,l=M;break;case g.R:var z=P[0],K=P[1];z[0]=m[o++],z[1]=m[o++],K[0]=z[0]+m[o++],K[1]=z[1]+m[o++],e&&(n(z,z,e),n(K,K,e)),z[0]=C(z[0]*T-b),K[0]=C(K[0]*T-b),z[1]=C(z[1]*T-b),K[1]=C(K[1]*T-b),p.push(" m ",z[0],",",z[1]," l ",K[0],",",z[1]," l ",K[0],",",K[1]," l ",z[0],",",K[1]);break;case g.Z:p.push(" x ")}if(i>0){p.push(a);for(var $=0;$<i;$++){var j=P[$];e&&n(j,j,e),p.push(C(j[0]*T-b),",",C(j[1]*T-b),$<i-1?",":"")}}}return p.join("")}(h,this.transform),i.style.zIndex=_(this.zlevel,this.z,this.z2),E(t,i),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},f.prototype.onRemove=function(t){A(t,this._vmlEl),this.removeRectText(t)},f.prototype.onAdd=function(t){E(t,this._vmlEl),this.appendRectText(t)};c.prototype.brushVML=function(t){var e,i,a,r=this.style,o=r.image;if("object"==typeof(a=o)&&a.tagName&&"IMG"===a.tagName.toUpperCase()){var s=o.src;if(s===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var l=o.runtimeStyle,h=l.width,u=l.height;l.width="auto",l.height="auto",e=o.width,i=o.height,l.width=h,l.height=u,this._imageSrc=s,this._imageWidth=e,this._imageHeight=i}o=s}else o===this._imageSrc&&(e=this._imageWidth,i=this._imageHeight);if(o){var c=r.x||0,d=r.y||0,f=r.width,p=r.height,m=r.sWidth,g=r.sHeight,y=r.sx||0,x=r.sy||0,S=m&&g,T=this._vmlEl;T||(T=v.doc.createElement("div"),w(T),this._vmlEl=T);var b,M=T.style,A=!1,L=1,F=1;if(this.transform&&(b=this.transform,L=D(b[0]*b[0]+b[1]*b[1]),F=D(b[2]*b[2]+b[3]*b[3]),A=b[1]||b[2]),A){var O=[c,d],P=[c+f,d],N=[c,d+p],R=[c+f,d+p];n(O,O,b),n(P,P,b),n(N,N,b),n(R,R,b);var B=I(O[0],P[0],N[0],R[0]),k=I(O[1],P[1],N[1],R[1]),V=[];V.push("M11=",b[0]/L,",","M12=",b[2]/F,",","M21=",b[1]/L,",","M22=",b[3]/F,",","Dx=",C(c*L+b[4]),",","Dy=",C(d*F+b[5])),M.padding="0 "+C(B)+"px "+C(k)+"px 0",M.filter="progid:DXImageTransform.Microsoft.Matrix("+V.join("")+", SizingMethod=clip)"}else b&&(c=c*L+b[4],d=d*F+b[5]),M.filter="",M.left=C(c)+"px",M.top=C(d)+"px";var H=this._imageEl,G=this._cropEl;H||(H=v.doc.createElement("div"),this._imageEl=H);var Y=H.style;if(S){if(e&&i)Y.width=C(L*e*f/m)+"px",Y.height=C(F*i*p/g)+"px";else{var W=new Image,X=this;W.onload=function(){W.onload=null,e=W.width,i=W.height,Y.width=C(L*e*f/m)+"px",Y.height=C(F*i*p/g)+"px",X._imageWidth=e,X._imageHeight=i,X._imageSrc=o},W.src=o}G||((G=v.doc.createElement("div")).style.overflow="hidden",this._cropEl=G);var U=G.style;U.width=C((f+y*f/m)*L),U.height=C((p+x*p/g)*F),U.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-y*f/m*L+",Dy="+-x*p/g*F+")",G.parentNode||T.appendChild(G),H.parentNode!==G&&G.appendChild(H)}else Y.width=C(L*f)+"px",Y.height=C(F*p)+"px",T.appendChild(H),G&&G.parentNode&&(T.removeChild(G),this._cropEl=null);var z="",K=r.opacity;K<1&&(z+=".Alpha(opacity="+C(100*K)+") "),z+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+o+", SizingMethod=scale)",Y.filter=z,T.style.zIndex=_(this.zlevel,this.z,this.z2),E(t,T),null!=r.text&&this.drawRectText(t,this.getBoundingRect())}},c.prototype.onRemove=function(t){A(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},c.prototype.onAdd=function(t){E(t,this._vmlEl),this.appendRectText(t)};var N,R={},B=0,k=document.createElement("div");s.$override("measureText",function(t,e){var i=v.doc;N||((N=i.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",v.doc.body.appendChild(N));try{N.style.font=e}catch(t){}return N.innerHTML="",N.appendChild(i.createTextNode(t)),{width:N.offsetWidth}});for(var V=new r,H=function(t,e,i,a){var r=this.style;this.__dirty&&l.normalizeTextStyle(r,!0);var o=r.text;if(null!=o&&(o+=""),o){if(r.rich){var h=s.parseRichText(o,r);o=[];for(var u=0;u<h.lines.length;u++){for(var c=h.lines[u].tokens,d=[],f=0;f<c.length;f++)d.push(c[f].text);o.push(d.join(""))}o=o.join("\n")}var p,m,g=r.textAlign,D=r.textVerticalAlign,y=function(t){var e=R[t];if(!e){B>100&&(B=0,R={});var i,a=k.style;try{a.font=t,i=a.fontFamily.split(",")[0]}catch(t){}e={style:a.fontStyle||"normal",variant:a.fontVariant||"normal",weight:a.fontWeight||"normal",size:0|parseFloat(a.fontSize||12),family:i||"Microsoft YaHei"},R[t]=e,B++}return e}(r.font),x=y.style+" "+y.variant+" "+y.weight+" "+y.size+'px "'+y.family+'"';i=i||s.getBoundingRect(o,x,g,D,r.textPadding,r.textLineHeight);var S=this.transform;if(S&&!a&&(V.copy(e),V.applyTransform(S),e=V),a)p=e.x,m=e.y;else{var I=r.textPosition;if(I instanceof Array)p=e.x+L(I[0],e.width),m=e.y+L(I[1],e.height),g=g||"left";else{var T=this.calculateTextPosition?this.calculateTextPosition({},r,e):s.calculateTextPosition({},r,e);p=T.x,m=T.y,g=g||T.textAlign,D=D||T.textVerticalAlign}}p=s.adjustTextX(p,i.width,g),m=s.adjustTextY(m,i.height,D),m+=i.height/2;var b,M,A,F=v.createNode,P=this._textVmlEl;P?M=(b=(A=P.firstChild).nextSibling).nextSibling:(P=F("line"),b=F("path"),M=F("textpath"),A=F("skew"),M.style["v-text-align"]="left",w(P),b.textpathok=!0,M.on=!0,P.from="0 0",P.to="1000 0.05",E(P,A),E(P,b),E(P,M),this._textVmlEl=P);var N=[p,m],H=P.style;S&&a?(n(N,N,S),A.on=!0,A.matrix=S[0].toFixed(3)+","+S[2].toFixed(3)+","+S[1].toFixed(3)+","+S[3].toFixed(3)+",0,0",A.offset=(C(N[0])||0)+","+(C(N[1])||0),A.origin="0 0",H.left="0px",H.top="0px"):(A.on=!1,H.left=C(p)+"px",H.top=C(m)+"px"),M.string=String(o).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{M.style.font=x}catch(t){}O(P,"fill",{fill:r.textFill,opacity:r.opacity},this),O(P,"stroke",{stroke:r.textStroke,opacity:r.opacity,lineDash:r.lineDash||null},this),P.style.zIndex=_(this.zlevel,this.z,this.z2),E(t,P)}},G=function(t){A(t,this._textVmlEl),this._textVmlEl=null},Y=function(t){E(t,this._textVmlEl)},W=[h,u,c,f,d],X=0;X<W.length;X++){var U=W[X].prototype;U.drawRectText=H,U.removeRectText=G,U.appendRectText=Y}d.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},d.prototype.onRemove=function(t){this.removeRectText(t)},d.prototype.onAdd=function(t){this.appendRectText(t)}}},"6NQ8":function(t,e){var i=Math.log(2);function a(t,e,n,r,o,s){var l=r+"-"+o,h=t.length;if(s.hasOwnProperty(l))return s[l];if(1===e){var u=Math.round(Math.log((1<<h)-1&~o)/i);return t[n][u]}for(var c=r|1<<n,d=n+1;r&1<<d;)d++;for(var f=0,p=0,m=0;p<h;p++){var v=1<<p;v&o||(f+=(m%2?-1:1)*t[n][p]*a(t,e-1,d,c,o|v,s),m++)}return s[l]=f,f}e.buildTransformer=function(t,e){var i=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},r=a(i,8,0,0,0,n);if(0!==r){for(var o=[],s=0;s<8;s++)for(var l=0;l<8;l++)null==o[l]&&(o[l]=0),o[l]+=((s+l)%2?-1:1)*a(i,7,0===s?1:0,1<<s,1<<l,n)/r*e[s];return function(t,e,i){var a=e*o[6]+i*o[7]+1;t[0]=(e*o[0]+i*o[1]+o[2])/a,t[1]=(e*o[3]+i*o[4]+o[5])/a}}}},"6Twh":function(t,e,i){"use strict";e.__esModule=!0,e.default=function(){if(r.default.prototype.$isServer)return 0;if(void 0!==o)return o;var t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",t.appendChild(i);var a=i.offsetWidth;return t.parentNode.removeChild(t),o=e-a};var a,n=i("/5sW"),r=(a=n)&&a.__esModule?a:{default:a};var o=void 0},"6UfY":function(t,e,i){var a=i("/gxq"),n=i("3h1/"),r=i("2HcM"),o=(0,i("vXqC").makeInner)();function s(t,e){e=e||[0,360],r.call(this,"angle",t,e),this.type="category"}s.prototype={constructor:s,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:r.prototype.dataToCoord,angleToData:r.prototype.coordToData,calculateCategoryInterval:function(){var t=this.getLabelModel(),e=this.scale,i=e.getExtent(),a=e.count();if(i[1]-i[0]<1)return 0;var r=i[0],s=this.dataToCoord(r+1)-this.dataToCoord(r),l=Math.abs(s),h=n.getBoundingRect(r,t.getFont(),"center","top"),u=Math.max(h.height,7)/l;isNaN(u)&&(u=1/0);var c=Math.max(0,Math.floor(u)),d=o(this.model),f=d.lastAutoInterval,p=d.lastTickCount;return null!=f&&null!=p&&Math.abs(f-c)<=1&&Math.abs(p-a)<=1&&f>c?c=f:(d.lastTickCount=a,d.lastAutoInterval=c),c}},a.inherits(s,r);var l=s;t.exports=l},"6axr":function(t,e,i){var a=i("YqdL"),n=i("6UfY"),r=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new a,this._angleAxis=new n,this._radiusAxis.polar=this._angleAxis.polar=this};r.prototype={type:"polar",axisPointerEnabled:!0,constructor:r,dimensions:["radius","angle"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],i=this._angleAxis,a=this._radiusAxis;return i.scale.type===t&&e.push(i),a.scale.type===t&&e.push(a),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,i=t[1]-this.cy,a=this.getAngleAxis(),n=a.getExtent(),r=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);a.inverse?r=o-360:o=r+360;var s=Math.sqrt(e*e+i*i);e/=s,i/=s;for(var l=Math.atan2(-i,e)/Math.PI*180,h=l<r?1:-1;l<r||l>o;)l+=360*h;return[s,l]},coordToPoint:function(t){var e=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*e+this.cx,-Math.sin(i)*e+this.cy]},getArea:function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var i=t.getExtent(),a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(t,e){var i=t-this.cx,a=e-this.cy,n=i*i+a*a,r=this.r,o=this.r0;return n<=r*r&&n>=o*o}}}};var o=r;t.exports=o},"6f6q":function(t,e,i){var a=i("Icdr"),n=i("/gxq");function r(t,e,i){var a,r={},o="toggleSelected"===t;return i.eachComponent("legend",function(i){o&&null!=a?i[a?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?i[t]():(i[t](e.name),a=i.isSelected(e.name));var s=i.getData();n.each(s,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var a=i.isSelected(e);r.hasOwnProperty(e)?r[e]=r[e]&&a:r[e]=a}})}),"allSelect"===t||"inverseSelect"===t?{selected:r}:{name:e.name,selected:r}}a.registerAction("legendToggleSelect","legendselectchanged",n.curry(r,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",n.curry(r,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",n.curry(r,"inverseSelect")),a.registerAction("legendSelect","legendselected",n.curry(r,"select")),a.registerAction("legendUnSelect","legendunselected",n.curry(r,"unSelect"))},"6n1D":function(t,e,i){var a=i("0sHC"),n=i("bzOU");function r(t){this._ctor=t||n,this.group=new a.Group}var o=r.prototype;function s(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}function l(t){return isNaN(t[0])||isNaN(t[1])}function h(t){return!l(t[0])&&!l(t[1])}o.isPersistent=function(){return!0},o.updateData=function(t){var e=this,i=e.group,a=e._lineData;e._lineData=t,a||i.removeAll();var n=s(t);t.diff(a).add(function(i){!function(t,e,i,a){if(!h(e.getItemLayout(i)))return;var n=new t._ctor(e,i,a);e.setItemGraphicEl(i,n),t.group.add(n)}(e,t,i,n)}).update(function(i,r){!function(t,e,i,a,n,r){var o=e.getItemGraphicEl(a);if(!h(i.getItemLayout(n)))return void t.group.remove(o);o?o.updateData(i,n,r):o=new t._ctor(i,n,r);i.setItemGraphicEl(n,o),t.group.add(o)}(e,a,t,r,i,n)}).remove(function(t){i.remove(a.getItemGraphicEl(t))}).execute()},o.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,i){e.updateLayout(t,i)},this)},o.incrementalPrepareUpdate=function(t){this._seriesScope=s(t),this._lineData=null,this.group.removeAll()},o.incrementalUpdate=function(t,e){function i(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}for(var a=t.start;a<t.end;a++){if(h(e.getItemLayout(a))){var n=new this._ctor(e,a,this._seriesScope);n.traverse(i),this.group.add(n),e.setItemGraphicEl(a,n)}}},o.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},o._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var u=r;t.exports=u},"71e1":function(t,e,i){var a=i("cJP9"),n=i("WEzc"),r=i("9ff9"),o=i("729m");function s(t,e,i,r,o){var s=[].slice.call(arguments,1),l=s.length,h="function"==typeof s[l-1];if(!h&&!a())throw new Error("Callback required as last argument");if(!h){if(l<1)throw new Error("Too few arguments provided");return 1===l?(i=e,e=r=void 0):2!==l||e.getContext||(r=i,i=e,e=void 0),new Promise(function(a,o){try{var s=n.create(i,r);a(t(s,e,r))}catch(t){o(t)}})}if(l<2)throw new Error("Too few arguments provided");2===l?(o=i,i=e,e=r=void 0):3===l&&(e.getContext&&void 0===o?(o=r,r=void 0):(o=r,r=i,i=e,e=void 0));try{var u=n.create(i,r);o(null,t(u,e,r))}catch(t){o(t)}}e.create=n.create,e.toCanvas=s.bind(null,r.render),e.toDataURL=s.bind(null,r.renderToDataURL),e.toString=s.bind(null,function(t,e,i){return o.render(t,i)})},"729m":function(t,e,i){var a=i("nwDn");function n(t,e){var i=t.a/255,a=e+'="'+t.hex+'"';return i<1?a+" "+e+'-opacity="'+i.toFixed(2).slice(1)+'"':a}function r(t,e,i){var a=t+e;return void 0!==i&&(a+=" "+i),a}e.render=function(t,e,i){var o=a.getOptions(e),s=t.modules.size,l=t.modules.data,h=s+2*o.margin,u=o.color.light.a?"<path "+n(o.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",c="<path "+n(o.color.dark,"stroke")+' d="'+function(t,e,i){for(var a="",n=0,o=!1,s=0,l=0;l<t.length;l++){var h=Math.floor(l%e),u=Math.floor(l/e);h||o||(o=!0),t[l]?(s++,l>0&&h>0&&t[l-1]||(a+=o?r("M",h+i,.5+u+i):r("m",n,0),n=0,o=!1),h+1<e&&t[l+1]||(a+=r("h",s),s=0)):n++}return a}(l,s,o.margin)+'"/>',d='viewBox="0 0 '+h+" "+h+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+d+' shape-rendering="crispEdges">'+u+c+"</svg>\n";return"function"==typeof i&&i(null,f),f}},"77Pl":function(t,e,i){var a=i("EqjI");t.exports=function(t){if(!a(t))throw TypeError(t+" is not an object!");return t}},"7Doy":function(t,e,i){var a=i("EqjI"),n=i("7UMu"),r=i("dSzd")("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),a(e)&&null===(e=e[r])&&(e=void 0)),void 0===e?Array:e}},"7GwW":function(t,e,i){"use strict";var a=i("cGG2"),n=i("21It"),r=i("DQCr"),o=i("oJlt"),s=i("GHBc"),l=i("FtD3");t.exports=function(t){return new Promise(function(e,h){var u=t.data,c=t.headers;a.isFormData(u)&&delete c["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",p=t.auth.password||"";c.Authorization="Basic "+btoa(f+":"+p)}if(d.open(t.method.toUpperCase(),r(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in d?o(d.getAllResponseHeaders()):null,a={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:i,config:t,request:d};n(e,h,a),d=null}},d.onabort=function(){d&&(h(l("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){h(l("Network Error",t,null,d)),d=null},d.ontimeout=function(){h(l("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},a.isStandardBrowserEnv()){var m=i("p1b6"),v=(t.withCredentials||s(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;v&&(c[t.xsrfHeaderName]=v)}if("setRequestHeader"in d&&a.forEach(c,function(t,e){void 0===u&&"content-type"===e.toLowerCase()?delete c[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),h(t),d=null)}),void 0===u&&(u=null),d.send(u)})}},"7J9s":function(t,e,i){"use strict";e.__esModule=!0,e.PopupManager=void 0;var a=l(i("/5sW")),n=l(i("jmaC")),r=l(i("OAzY")),o=l(i("6Twh")),s=i("2kvA");function l(t){return t&&t.__esModule?t:{default:t}}var h=1,u=void 0;e.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+h++,r.default.register(this._popupId,this)},beforeDestroy:function(){r.default.deregister(this._popupId),r.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(t){var e=this;if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,a.default.nextTick(function(){e.open()}))}else this.close()}},methods:{open:function(t){var e=this;this.rendered||(this.rendered=!0);var i=(0,n.default)({},this.$props||this,t);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var a=Number(i.openDelay);a>0?this._openTimer=setTimeout(function(){e._openTimer=null,e.doOpen(i)},a):this.doOpen(i)},doOpen:function(t){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var e=this.$el,i=t.modal,a=t.zIndex;if(a&&(r.default.zIndex=a),i&&(this._closing&&(r.default.closeModal(this._popupId),this._closing=!1),r.default.openModal(this._popupId,r.default.nextZIndex(),this.modalAppendToBody?void 0:e,t.modalClass,t.modalFade),t.lockScroll)){this.withoutHiddenClass=!(0,s.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,s.getStyle)(document.body,"paddingRight"),10)),u=(0,o.default)();var n=document.documentElement.clientHeight<document.body.scrollHeight,l=(0,s.getStyle)(document.body,"overflowY");u>0&&(n||"scroll"===l)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+u+"px"),(0,s.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(e).position&&(e.style.position="absolute"),e.style.zIndex=r.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var t=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var e=Number(this.closeDelay);e>0?this._closeTimer=setTimeout(function(){t._closeTimer=null,t.doClose()},e):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){r.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,s.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},e.PopupManager=r.default},"7KvD":function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"7UMu":function(t,e,i){var a=i("R9M2");t.exports=Array.isArray||function(t){return"Array"==a(t)}},"7XrG":function(t,e,i){var a=i("Icdr").extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});t.exports=a},"7bL3":function(t,e,i){var a=i("Icdr");i("4V7L"),i("8DFW"),i("6HoR");var n=i("nQkE"),r=i("h6Uy"),o=i("l4Op");a.registerLayout(n),a.registerVisual(r),a.registerProcessor(o("themeRiver"))},"7t+N":function(t,e,i){var a;
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
!function(e,i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,function(i,n){"use strict";var r=[],o=i.document,s=Object.getPrototypeOf,l=r.slice,h=r.concat,u=r.push,c=r.indexOf,d={},f=d.toString,p=d.hasOwnProperty,m=p.toString,v=m.call(Object),g={},C=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},D=function(t){return null!=t&&t===t.window},y={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,i){var a,n,r=(i=i||o).createElement("script");if(r.text=t,e)for(a in y)(n=e[a]||e.getAttribute&&e.getAttribute(a))&&r.setAttribute(a,n);i.head.appendChild(r).parentNode.removeChild(r)}function S(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[f.call(t)]||"object":typeof t}var I=function(t,e){return new I.fn.init(t,e)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function b(t){var e=!!t&&"length"in t&&t.length,i=S(t);return!C(t)&&!D(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}I.fn=I.prototype={jquery:"3.4.1",constructor:I,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=I.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return I.each(this,t)},map:function(t){return this.pushStack(I.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:r.sort,splice:r.splice},I.extend=I.fn.extend=function(){var t,e,i,a,n,r,o=arguments[0]||{},s=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[s]||{},s++),"object"==typeof o||C(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)a=t[e],"__proto__"!==e&&o!==a&&(h&&a&&(I.isPlainObject(a)||(n=Array.isArray(a)))?(i=o[e],r=n&&!Array.isArray(i)?[]:n||I.isPlainObject(i)?i:{},n=!1,o[e]=I.extend(h,r,a)):void 0!==a&&(o[e]=a));return o},I.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==f.call(t))&&(!(e=s(t))||"function"==typeof(i=p.call(e,"constructor")&&e.constructor)&&m.call(i)===v)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){x(t,{nonce:e&&e.nonce})},each:function(t,e){var i,a=0;if(b(t))for(i=t.length;a<i&&!1!==e.call(t[a],a,t[a]);a++);else for(a in t)if(!1===e.call(t[a],a,t[a]))break;return t},trim:function(t){return null==t?"":(t+"").replace(T,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(b(Object(t))?I.merge(i,"string"==typeof t?[t]:t):u.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:c.call(e,t,i)},merge:function(t,e){for(var i=+e.length,a=0,n=t.length;a<i;a++)t[n++]=e[a];return t.length=n,t},grep:function(t,e,i){for(var a=[],n=0,r=t.length,o=!i;n<r;n++)!e(t[n],n)!==o&&a.push(t[n]);return a},map:function(t,e,i){var a,n,r=0,o=[];if(b(t))for(a=t.length;r<a;r++)null!=(n=e(t[r],r,i))&&o.push(n);else for(r in t)null!=(n=e(t[r],r,i))&&o.push(n);return h.apply([],o)},guid:1,support:g}),"function"==typeof Symbol&&(I.fn[Symbol.iterator]=r[Symbol.iterator]),I.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){d["[object "+e+"]"]=e.toLowerCase()});var w=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(t){var e,i,a,n,r,o,s,l,h,u,c,d,f,p,m,v,g,C,D,y="sizzle"+1*new Date,x=t.document,S=0,I=0,T=lt(),b=lt(),w=lt(),M=lt(),E=function(t,e){return t===e&&(c=!0),0},A={}.hasOwnProperty,_=[],L=_.pop,F=_.push,O=_.push,P=_.slice,N=function(t,e){for(var i=0,a=t.length;i<a;i++)if(t[i]===e)return i;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",k="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",V="\\["+B+"*("+k+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+k+"))|)"+B+"*\\]",H=":("+k+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+V+")*)|.*)\\)|)",G=new RegExp(B+"+","g"),Y=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),W=new RegExp("^"+B+"*,"+B+"*"),X=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),U=new RegExp(B+"|>"),z=new RegExp(H),K=new RegExp("^"+k+"$"),$={ID:new RegExp("^#("+k+")"),CLASS:new RegExp("^\\.("+k+")"),TAG:new RegExp("^("+k+"|[*])"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},j=/HTML$/i,q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),it=function(t,e,i){var a="0x"+e-65536;return a!=a||i?e:a<0?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},at=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){d()},ot=yt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{O.apply(_=P.call(x.childNodes),x.childNodes),_[x.childNodes.length].nodeType}catch(t){O={apply:_.length?function(t,e){F.apply(t,P.call(e))}:function(t,e){for(var i=t.length,a=0;t[i++]=e[a++];);t.length=i-1}}}function st(t,e,a,n){var r,s,h,u,c,p,g,C=e&&e.ownerDocument,S=e?e.nodeType:9;if(a=a||[],"string"!=typeof t||!t||1!==S&&9!==S&&11!==S)return a;if(!n&&((e?e.ownerDocument||e:x)!==f&&d(e),e=e||f,m)){if(11!==S&&(c=Q.exec(t)))if(r=c[1]){if(9===S){if(!(h=e.getElementById(r)))return a;if(h.id===r)return a.push(h),a}else if(C&&(h=C.getElementById(r))&&D(e,h)&&h.id===r)return a.push(h),a}else{if(c[2])return O.apply(a,e.getElementsByTagName(t)),a;if((r=c[3])&&i.getElementsByClassName&&e.getElementsByClassName)return O.apply(a,e.getElementsByClassName(r)),a}if(i.qsa&&!M[t+" "]&&(!v||!v.test(t))&&(1!==S||"object"!==e.nodeName.toLowerCase())){if(g=t,C=e,1===S&&U.test(t)){for((u=e.getAttribute("id"))?u=u.replace(at,nt):e.setAttribute("id",u=y),s=(p=o(t)).length;s--;)p[s]="#"+u+" "+Dt(p[s]);g=p.join(","),C=tt.test(t)&&gt(e.parentNode)||e}try{return O.apply(a,C.querySelectorAll(g)),a}catch(e){M(t,!0)}finally{u===y&&e.removeAttribute("id")}}}return l(t.replace(Y,"$1"),e,a,n)}function lt(){var t=[];return function e(i,n){return t.push(i+" ")>a.cacheLength&&delete e[t.shift()],e[i+" "]=n}}function ht(t){return t[y]=!0,t}function ut(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var i=t.split("|"),n=i.length;n--;)a.attrHandle[i[n]]=e}function dt(t,e){var i=e&&t,a=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(a)return a;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function vt(t){return ht(function(e){return e=+e,ht(function(i,a){for(var n,r=t([],i.length,e),o=r.length;o--;)i[n=r[o]]&&(i[n]=!(a[n]=i[n]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=st.support={},r=st.isXML=function(t){var e=t.namespaceURI,i=(t.ownerDocument||t).documentElement;return!j.test(e||i&&i.nodeName||"HTML")},d=st.setDocument=function(t){var e,n,o=t?t.ownerDocument||t:x;return o!==f&&9===o.nodeType&&o.documentElement?(p=(f=o).documentElement,m=!r(f),x!==f&&(n=f.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",rt,!1):n.attachEvent&&n.attachEvent("onunload",rt)),i.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),i.getElementsByTagName=ut(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),i.getElementsByClassName=Z.test(f.getElementsByClassName),i.getById=ut(function(t){return p.appendChild(t).id=y,!f.getElementsByName||!f.getElementsByName(y).length}),i.getById?(a.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},a.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i=e.getElementById(t);return i?[i]:[]}}):(a.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},a.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i,a,n,r=e.getElementById(t);if(r){if((i=r.getAttributeNode("id"))&&i.value===t)return[r];for(n=e.getElementsByName(t),a=0;r=n[a++];)if((i=r.getAttributeNode("id"))&&i.value===t)return[r]}return[]}}),a.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,a=[],n=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[n++];)1===i.nodeType&&a.push(i);return a}return r},a.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},g=[],v=[],(i.qsa=Z.test(f.querySelectorAll))&&(ut(function(t){p.appendChild(t).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+B+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+B+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+y+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+y+"+*").length||v.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+B+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(i.matchesSelector=Z.test(C=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ut(function(t){i.disconnectedMatch=C.call(t,"*"),C.call(t,"[s!='']:x"),g.push("!=",H)}),v=v.length&&new RegExp(v.join("|")),g=g.length&&new RegExp(g.join("|")),e=Z.test(p.compareDocumentPosition),D=e||Z.test(p.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,a=e&&e.parentNode;return t===a||!(!a||1!==a.nodeType||!(i.contains?i.contains(a):t.compareDocumentPosition&&16&t.compareDocumentPosition(a)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return c=!0,0;var a=!t.compareDocumentPosition-!e.compareDocumentPosition;return a||(1&(a=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===a?t===f||t.ownerDocument===x&&D(x,t)?-1:e===f||e.ownerDocument===x&&D(x,e)?1:u?N(u,t)-N(u,e):0:4&a?-1:1)}:function(t,e){if(t===e)return c=!0,0;var i,a=0,n=t.parentNode,r=e.parentNode,o=[t],s=[e];if(!n||!r)return t===f?-1:e===f?1:n?-1:r?1:u?N(u,t)-N(u,e):0;if(n===r)return dt(t,e);for(i=t;i=i.parentNode;)o.unshift(i);for(i=e;i=i.parentNode;)s.unshift(i);for(;o[a]===s[a];)a++;return a?dt(o[a],s[a]):o[a]===x?-1:s[a]===x?1:0},f):f},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&d(t),i.matchesSelector&&m&&!M[e+" "]&&(!g||!g.test(e))&&(!v||!v.test(e)))try{var a=C.call(t,e);if(a||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return a}catch(t){M(e,!0)}return st(e,f,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!==f&&d(t),D(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!==f&&d(t);var n=a.attrHandle[e.toLowerCase()],r=n&&A.call(a.attrHandle,e.toLowerCase())?n(t,e,!m):void 0;return void 0!==r?r:i.attributes||!m?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},st.escape=function(t){return(t+"").replace(at,nt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,a=[],n=0,r=0;if(c=!i.detectDuplicates,u=!i.sortStable&&t.slice(0),t.sort(E),c){for(;e=t[r++];)e===t[r]&&(n=a.push(r));for(;n--;)t.splice(a[n],1)}return u=null,t},n=st.getText=function(t){var e,i="",a=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=n(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[a++];)i+=n(e);return i},(a=st.selectors={cacheLength:50,createPseudo:ht,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return $.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&z.test(i)&&(e=o(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=T[t+" "];return e||(e=new RegExp("(^|"+B+")"+t+"("+B+"|$)"))&&T(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(a){var n=st.attr(a,t);return null==n?"!="===e:!e||(n+="","="===e?n===i:"!="===e?n!==i:"^="===e?i&&0===n.indexOf(i):"*="===e?i&&n.indexOf(i)>-1:"$="===e?i&&n.slice(-i.length)===i:"~="===e?(" "+n.replace(G," ")+" ").indexOf(i)>-1:"|="===e&&(n===i||n.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,a,n){var r="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===a&&0===n?function(t){return!!t.parentNode}:function(e,i,l){var h,u,c,d,f,p,m=r!==o?"nextSibling":"previousSibling",v=e.parentNode,g=s&&e.nodeName.toLowerCase(),C=!l&&!s,D=!1;if(v){if(r){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?v.firstChild:v.lastChild],o&&C){for(D=(f=(h=(u=(c=(d=v)[y]||(d[y]={}))[d.uniqueID]||(c[d.uniqueID]={}))[t]||[])[0]===S&&h[1])&&h[2],d=f&&v.childNodes[f];d=++f&&d&&d[m]||(D=f=0)||p.pop();)if(1===d.nodeType&&++D&&d===e){u[t]=[S,f,D];break}}else if(C&&(D=f=(h=(u=(c=(d=e)[y]||(d[y]={}))[d.uniqueID]||(c[d.uniqueID]={}))[t]||[])[0]===S&&h[1]),!1===D)for(;(d=++f&&d&&d[m]||(D=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++D||(C&&((u=(c=d[y]||(d[y]={}))[d.uniqueID]||(c[d.uniqueID]={}))[t]=[S,D]),d!==e)););return(D-=n)===a||D%a==0&&D/a>=0}}},PSEUDO:function(t,e){var i,n=a.pseudos[t]||a.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return n[y]?n(e):n.length>1?(i=[t,t,"",e],a.setFilters.hasOwnProperty(t.toLowerCase())?ht(function(t,i){for(var a,r=n(t,e),o=r.length;o--;)t[a=N(t,r[o])]=!(i[a]=r[o])}):function(t){return n(t,0,i)}):n}},pseudos:{not:ht(function(t){var e=[],i=[],a=s(t.replace(Y,"$1"));return a[y]?ht(function(t,e,i,n){for(var r,o=a(t,null,n,[]),s=t.length;s--;)(r=o[s])&&(t[s]=!(e[s]=r))}):function(t,n,r){return e[0]=t,a(e,null,r,i),e[0]=null,!i.pop()}}),has:ht(function(t){return function(e){return st(t,e).length>0}}),contains:ht(function(t){return t=t.replace(et,it),function(e){return(e.textContent||n(e)).indexOf(t)>-1}}),lang:ht(function(t){return K.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!a.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:vt(function(){return[0]}),last:vt(function(t,e){return[e-1]}),eq:vt(function(t,e,i){return[i<0?i+e:i]}),even:vt(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:vt(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:vt(function(t,e,i){for(var a=i<0?i+e:i>e?e:i;--a>=0;)t.push(a);return t}),gt:vt(function(t,e,i){for(var a=i<0?i+e:i;++a<e;)t.push(a);return t})}}).pseudos.nth=a.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})a.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})a.pseudos[e]=pt(e);function Ct(){}function Dt(t){for(var e=0,i=t.length,a="";e<i;e++)a+=t[e].value;return a}function yt(t,e,i){var a=e.dir,n=e.next,r=n||a,o=i&&"parentNode"===r,s=I++;return e.first?function(e,i,n){for(;e=e[a];)if(1===e.nodeType||o)return t(e,i,n);return!1}:function(e,i,l){var h,u,c,d=[S,s];if(l){for(;e=e[a];)if((1===e.nodeType||o)&&t(e,i,l))return!0}else for(;e=e[a];)if(1===e.nodeType||o)if(u=(c=e[y]||(e[y]={}))[e.uniqueID]||(c[e.uniqueID]={}),n&&n===e.nodeName.toLowerCase())e=e[a]||e;else{if((h=u[r])&&h[0]===S&&h[1]===s)return d[2]=h[2];if(u[r]=d,d[2]=t(e,i,l))return!0}return!1}}function xt(t){return t.length>1?function(e,i,a){for(var n=t.length;n--;)if(!t[n](e,i,a))return!1;return!0}:t[0]}function St(t,e,i,a,n){for(var r,o=[],s=0,l=t.length,h=null!=e;s<l;s++)(r=t[s])&&(i&&!i(r,a,n)||(o.push(r),h&&e.push(s)));return o}function It(t,e,i,a,n,r){return a&&!a[y]&&(a=It(a)),n&&!n[y]&&(n=It(n,r)),ht(function(r,o,s,l){var h,u,c,d=[],f=[],p=o.length,m=r||function(t,e,i){for(var a=0,n=e.length;a<n;a++)st(t,e[a],i);return i}(e||"*",s.nodeType?[s]:s,[]),v=!t||!r&&e?m:St(m,d,t,s,l),g=i?n||(r?t:p||a)?[]:o:v;if(i&&i(v,g,s,l),a)for(h=St(g,f),a(h,[],s,l),u=h.length;u--;)(c=h[u])&&(g[f[u]]=!(v[f[u]]=c));if(r){if(n||t){if(n){for(h=[],u=g.length;u--;)(c=g[u])&&h.push(v[u]=c);n(null,g=[],h,l)}for(u=g.length;u--;)(c=g[u])&&(h=n?N(r,c):d[u])>-1&&(r[h]=!(o[h]=c))}}else g=St(g===o?g.splice(p,g.length):g),n?n(null,o,g,l):O.apply(o,g)})}function Tt(t){for(var e,i,n,r=t.length,o=a.relative[t[0].type],s=o||a.relative[" "],l=o?1:0,u=yt(function(t){return t===e},s,!0),c=yt(function(t){return N(e,t)>-1},s,!0),d=[function(t,i,a){var n=!o&&(a||i!==h)||((e=i).nodeType?u(t,i,a):c(t,i,a));return e=null,n}];l<r;l++)if(i=a.relative[t[l].type])d=[yt(xt(d),i)];else{if((i=a.filter[t[l].type].apply(null,t[l].matches))[y]){for(n=++l;n<r&&!a.relative[t[n].type];n++);return It(l>1&&xt(d),l>1&&Dt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(Y,"$1"),i,l<n&&Tt(t.slice(l,n)),n<r&&Tt(t=t.slice(n)),n<r&&Dt(t))}d.push(i)}return xt(d)}return Ct.prototype=a.filters=a.pseudos,a.setFilters=new Ct,o=st.tokenize=function(t,e){var i,n,r,o,s,l,h,u=b[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],h=a.preFilter;s;){for(o in i&&!(n=W.exec(s))||(n&&(s=s.slice(n[0].length)||s),l.push(r=[])),i=!1,(n=X.exec(s))&&(i=n.shift(),r.push({value:i,type:n[0].replace(Y," ")}),s=s.slice(i.length)),a.filter)!(n=$[o].exec(s))||h[o]&&!(n=h[o](n))||(i=n.shift(),r.push({value:i,type:o,matches:n}),s=s.slice(i.length));if(!i)break}return e?s.length:s?st.error(t):b(t,l).slice(0)},s=st.compile=function(t,e){var i,n=[],r=[],s=w[t+" "];if(!s){for(e||(e=o(t)),i=e.length;i--;)(s=Tt(e[i]))[y]?n.push(s):r.push(s);(s=w(t,function(t,e){var i=e.length>0,n=t.length>0,r=function(r,o,s,l,u){var c,p,v,g=0,C="0",D=r&&[],y=[],x=h,I=r||n&&a.find.TAG("*",u),T=S+=null==x?1:Math.random()||.1,b=I.length;for(u&&(h=o===f||o||u);C!==b&&null!=(c=I[C]);C++){if(n&&c){for(p=0,o||c.ownerDocument===f||(d(c),s=!m);v=t[p++];)if(v(c,o||f,s)){l.push(c);break}u&&(S=T)}i&&((c=!v&&c)&&g--,r&&D.push(c))}if(g+=C,i&&C!==g){for(p=0;v=e[p++];)v(D,y,o,s);if(r){if(g>0)for(;C--;)D[C]||y[C]||(y[C]=L.call(l));y=St(y)}O.apply(l,y),u&&!r&&y.length>0&&g+e.length>1&&st.uniqueSort(l)}return u&&(S=T,h=x),D};return i?ht(r):r}(r,n))).selector=t}return s},l=st.select=function(t,e,i,n){var r,l,h,u,c,d="function"==typeof t&&t,f=!n&&o(t=d.selector||t);if(i=i||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(h=l[0]).type&&9===e.nodeType&&m&&a.relative[l[1].type]){if(!(e=(a.find.ID(h.matches[0].replace(et,it),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(r=$.needsContext.test(t)?0:l.length;r--&&(h=l[r],!a.relative[u=h.type]);)if((c=a.find[u])&&(n=c(h.matches[0].replace(et,it),tt.test(l[0].type)&&gt(e.parentNode)||e))){if(l.splice(r,1),!(t=n.length&&Dt(l)))return O.apply(i,n),i;break}}return(d||s(t,f))(n,e,!m,i,!e||tt.test(t)&&gt(e.parentNode)||e),i},i.sortStable=y.split("").sort(E).join("")===y,i.detectDuplicates=!!c,d(),i.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),i.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||ct(R,function(t,e,i){var a;if(!i)return!0===t[e]?e.toLowerCase():(a=t.getAttributeNode(e))&&a.specified?a.value:null}),st}(i);I.find=w,I.expr=w.selectors,I.expr[":"]=I.expr.pseudos,I.uniqueSort=I.unique=w.uniqueSort,I.text=w.getText,I.isXMLDoc=w.isXML,I.contains=w.contains,I.escapeSelector=w.escape;var M=function(t,e,i){for(var a=[],n=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&I(t).is(i))break;a.push(t)}return a},E=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},A=I.expr.match.needsContext;function _(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function F(t,e,i){return C(e)?I.grep(t,function(t,a){return!!e.call(t,a,t)!==i}):e.nodeType?I.grep(t,function(t){return t===e!==i}):"string"!=typeof e?I.grep(t,function(t){return c.call(e,t)>-1!==i}):I.filter(e,t,i)}I.filter=function(t,e,i){var a=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===a.nodeType?I.find.matchesSelector(a,t)?[a]:[]:I.find.matches(t,I.grep(e,function(t){return 1===t.nodeType}))},I.fn.extend({find:function(t){var e,i,a=this.length,n=this;if("string"!=typeof t)return this.pushStack(I(t).filter(function(){for(e=0;e<a;e++)if(I.contains(n[e],this))return!0}));for(i=this.pushStack([]),e=0;e<a;e++)I.find(t,n[e],i);return a>1?I.uniqueSort(i):i},filter:function(t){return this.pushStack(F(this,t||[],!1))},not:function(t){return this.pushStack(F(this,t||[],!0))},is:function(t){return!!F(this,"string"==typeof t&&A.test(t)?I(t):t||[],!1).length}});var O,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(I.fn.init=function(t,e,i){var a,n;if(!t)return this;if(i=i||O,"string"==typeof t){if(!(a="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:P.exec(t))||!a[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(a[1]){if(e=e instanceof I?e[0]:e,I.merge(this,I.parseHTML(a[1],e&&e.nodeType?e.ownerDocument||e:o,!0)),L.test(a[1])&&I.isPlainObject(e))for(a in e)C(this[a])?this[a](e[a]):this.attr(a,e[a]);return this}return(n=o.getElementById(a[2]))&&(this[0]=n,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):C(t)?void 0!==i.ready?i.ready(t):t(I):I.makeArray(t,this)}).prototype=I.fn,O=I(o);var N=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function B(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}I.fn.extend({has:function(t){var e=I(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(I.contains(this,e[t]))return!0})},closest:function(t,e){var i,a=0,n=this.length,r=[],o="string"!=typeof t&&I(t);if(!A.test(t))for(;a<n;a++)for(i=this[a];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&I.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?I.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?c.call(I(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(I.uniqueSort(I.merge(this.get(),I(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),I.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return M(t,"parentNode")},parentsUntil:function(t,e,i){return M(t,"parentNode",i)},next:function(t){return B(t,"nextSibling")},prev:function(t){return B(t,"previousSibling")},nextAll:function(t){return M(t,"nextSibling")},prevAll:function(t){return M(t,"previousSibling")},nextUntil:function(t,e,i){return M(t,"nextSibling",i)},prevUntil:function(t,e,i){return M(t,"previousSibling",i)},siblings:function(t){return E((t.parentNode||{}).firstChild,t)},children:function(t){return E(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(_(t,"template")&&(t=t.content||t),I.merge([],t.childNodes))}},function(t,e){I.fn[t]=function(i,a){var n=I.map(this,e,i);return"Until"!==t.slice(-5)&&(a=i),a&&"string"==typeof a&&(n=I.filter(a,n)),this.length>1&&(R[t]||I.uniqueSort(n),N.test(t)&&n.reverse()),this.pushStack(n)}});var k=/[^\x20\t\r\n\f]+/g;function V(t){return t}function H(t){throw t}function G(t,e,i,a){var n;try{t&&C(n=t.promise)?n.call(t).done(e).fail(i):t&&C(n=t.then)?n.call(t,e,i):e.apply(void 0,[t].slice(a))}catch(t){i.apply(void 0,[t])}}I.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return I.each(t.match(k)||[],function(t,i){e[i]=!0}),e}(t):I.extend({},t);var e,i,a,n,r=[],o=[],s=-1,l=function(){for(n=n||t.once,a=e=!0;o.length;s=-1)for(i=o.shift();++s<r.length;)!1===r[s].apply(i[0],i[1])&&t.stopOnFalse&&(s=r.length,i=!1);t.memory||(i=!1),e=!1,n&&(r=i?[]:"")},h={add:function(){return r&&(i&&!e&&(s=r.length-1,o.push(i)),function e(i){I.each(i,function(i,a){C(a)?t.unique&&h.has(a)||r.push(a):a&&a.length&&"string"!==S(a)&&e(a)})}(arguments),i&&!e&&l()),this},remove:function(){return I.each(arguments,function(t,e){for(var i;(i=I.inArray(e,r,i))>-1;)r.splice(i,1),i<=s&&s--}),this},has:function(t){return t?I.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return n=o=[],r=i="",this},disabled:function(){return!r},lock:function(){return n=o=[],i||e||(r=i=""),this},locked:function(){return!!n},fireWith:function(t,i){return n||(i=[t,(i=i||[]).slice?i.slice():i],o.push(i),e||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!a}};return h},I.extend({Deferred:function(t){var e=[["notify","progress",I.Callbacks("memory"),I.Callbacks("memory"),2],["resolve","done",I.Callbacks("once memory"),I.Callbacks("once memory"),0,"resolved"],["reject","fail",I.Callbacks("once memory"),I.Callbacks("once memory"),1,"rejected"]],a="pending",n={state:function(){return a},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return n.then(null,t)},pipe:function(){var t=arguments;return I.Deferred(function(i){I.each(e,function(e,a){var n=C(t[a[4]])&&t[a[4]];r[a[1]](function(){var t=n&&n.apply(this,arguments);t&&C(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[a[0]+"With"](this,n?[t]:arguments)})}),t=null}).promise()},then:function(t,a,n){var r=0;function o(t,e,a,n){return function(){var s=this,l=arguments,h=function(){var i,h;if(!(t<r)){if((i=a.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");h=i&&("object"==typeof i||"function"==typeof i)&&i.then,C(h)?n?h.call(i,o(r,e,V,n),o(r,e,H,n)):(r++,h.call(i,o(r,e,V,n),o(r,e,H,n),o(r,e,V,e.notifyWith))):(a!==V&&(s=void 0,l=[i]),(n||e.resolveWith)(s,l))}},u=n?h:function(){try{h()}catch(i){I.Deferred.exceptionHook&&I.Deferred.exceptionHook(i,u.stackTrace),t+1>=r&&(a!==H&&(s=void 0,l=[i]),e.rejectWith(s,l))}};t?u():(I.Deferred.getStackHook&&(u.stackTrace=I.Deferred.getStackHook()),i.setTimeout(u))}}return I.Deferred(function(i){e[0][3].add(o(0,i,C(n)?n:V,i.notifyWith)),e[1][3].add(o(0,i,C(t)?t:V)),e[2][3].add(o(0,i,C(a)?a:H))}).promise()},promise:function(t){return null!=t?I.extend(t,n):n}},r={};return I.each(e,function(t,i){var o=i[2],s=i[5];n[i[1]]=o.add,s&&o.add(function(){a=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(i[3].fire),r[i[0]]=function(){return r[i[0]+"With"](this===r?void 0:this,arguments),this},r[i[0]+"With"]=o.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e=arguments.length,i=e,a=Array(i),n=l.call(arguments),r=I.Deferred(),o=function(t){return function(i){a[t]=this,n[t]=arguments.length>1?l.call(arguments):i,--e||r.resolveWith(a,n)}};if(e<=1&&(G(t,r.done(o(i)).resolve,r.reject,!e),"pending"===r.state()||C(n[i]&&n[i].then)))return r.then();for(;i--;)G(n[i],o(i),r.reject);return r.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;I.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&Y.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},I.readyException=function(t){i.setTimeout(function(){throw t})};var W=I.Deferred();function X(){o.removeEventListener("DOMContentLoaded",X),i.removeEventListener("load",X),I.ready()}I.fn.ready=function(t){return W.then(t).catch(function(t){I.readyException(t)}),this},I.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--I.readyWait:I.isReady)||(I.isReady=!0,!0!==t&&--I.readyWait>0||W.resolveWith(o,[I]))}}),I.ready.then=W.then,"complete"===o.readyState||"loading"!==o.readyState&&!o.documentElement.doScroll?i.setTimeout(I.ready):(o.addEventListener("DOMContentLoaded",X),i.addEventListener("load",X));var U=function(t,e,i,a,n,r,o){var s=0,l=t.length,h=null==i;if("object"===S(i))for(s in n=!0,i)U(t,e,s,i[s],!0,r,o);else if(void 0!==a&&(n=!0,C(a)||(o=!0),h&&(o?(e.call(t,a),e=null):(h=e,e=function(t,e,i){return h.call(I(t),i)})),e))for(;s<l;s++)e(t[s],i,o?a:a.call(t[s],s,e(t[s],i)));return n?t:h?e.call(t):l?e(t[0],i):r},z=/^-ms-/,K=/-([a-z])/g;function $(t,e){return e.toUpperCase()}function j(t){return t.replace(z,"ms-").replace(K,$)}var q=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function J(){this.expando=I.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},q(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var a,n=this.cache(t);if("string"==typeof e)n[j(e)]=i;else for(a in e)n[j(a)]=e[a];return n},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][j(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,a=t[this.expando];if(void 0!==a){if(void 0!==e){i=(e=Array.isArray(e)?e.map(j):(e=j(e))in a?[e]:e.match(k)||[]).length;for(;i--;)delete a[e[i]]}(void 0===e||I.isEmptyObject(a))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!I.isEmptyObject(e)}};var Z=new J,Q=new J,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function it(t,e,i){var a;if(void 0===i&&1===t.nodeType)if(a="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(a))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(i)}catch(t){}Q.set(t,e,i)}else i=void 0;return i}I.extend({hasData:function(t){return Q.hasData(t)||Z.hasData(t)},data:function(t,e,i){return Q.access(t,e,i)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,i){return Z.access(t,e,i)},_removeData:function(t,e){Z.remove(t,e)}}),I.fn.extend({data:function(t,e){var i,a,n,r=this[0],o=r&&r.attributes;if(void 0===t){if(this.length&&(n=Q.get(r),1===r.nodeType&&!Z.get(r,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(a=o[i].name).indexOf("data-")&&(a=j(a.slice(5)),it(r,a,n[a]));Z.set(r,"hasDataAttrs",!0)}return n}return"object"==typeof t?this.each(function(){Q.set(this,t)}):U(this,function(e){var i;if(r&&void 0===e)return void 0!==(i=Q.get(r,t))?i:void 0!==(i=it(r,t))?i:void 0;this.each(function(){Q.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),I.extend({queue:function(t,e,i){var a;if(t)return e=(e||"fx")+"queue",a=Z.get(t,e),i&&(!a||Array.isArray(i)?a=Z.access(t,e,I.makeArray(i)):a.push(i)),a||[]},dequeue:function(t,e){e=e||"fx";var i=I.queue(t,e),a=i.length,n=i.shift(),r=I._queueHooks(t,e);"inprogress"===n&&(n=i.shift(),a--),n&&("fx"===e&&i.unshift("inprogress"),delete r.stop,n.call(t,function(){I.dequeue(t,e)},r)),!a&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Z.get(t,i)||Z.access(t,i,{empty:I.Callbacks("once memory").add(function(){Z.remove(t,[e+"queue",i])})})}}),I.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?I.queue(this[0],t):void 0===e?this:this.each(function(){var i=I.queue(this,t,e);I._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&I.dequeue(this,t)})},dequeue:function(t){return this.each(function(){I.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,a=1,n=I.Deferred(),r=this,o=this.length,s=function(){--a||n.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=Z.get(r[o],t+"queueHooks"))&&i.empty&&(a++,i.empty.add(s));return s(),n.promise(e)}});var at=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nt=new RegExp("^(?:([+-])=|)("+at+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],ot=o.documentElement,st=function(t){return I.contains(t.ownerDocument,t)},lt={composed:!0};ot.getRootNode&&(st=function(t){return I.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ht=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===I.css(t,"display")},ut=function(t,e,i,a){var n,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in n=i.apply(t,a||[]),e)t.style[r]=o[r];return n};function ct(t,e,i,a){var n,r,o=20,s=a?function(){return a.cur()}:function(){return I.css(t,e,"")},l=s(),h=i&&i[3]||(I.cssNumber[e]?"":"px"),u=t.nodeType&&(I.cssNumber[e]||"px"!==h&&+l)&&nt.exec(I.css(t,e));if(u&&u[3]!==h){for(l/=2,h=h||u[3],u=+l||1;o--;)I.style(t,e,u+h),(1-r)*(1-(r=s()/l||.5))<=0&&(o=0),u/=r;u*=2,I.style(t,e,u+h),i=i||[]}return i&&(u=+u||+l||0,n=i[1]?u+(i[1]+1)*i[2]:+i[2],a&&(a.unit=h,a.start=u,a.end=n)),n}var dt={};function ft(t){var e,i=t.ownerDocument,a=t.nodeName,n=dt[a];return n||(e=i.body.appendChild(i.createElement(a)),n=I.css(e,"display"),e.parentNode.removeChild(e),"none"===n&&(n="block"),dt[a]=n,n)}function pt(t,e){for(var i,a,n=[],r=0,o=t.length;r<o;r++)(a=t[r]).style&&(i=a.style.display,e?("none"===i&&(n[r]=Z.get(a,"display")||null,n[r]||(a.style.display="")),""===a.style.display&&ht(a)&&(n[r]=ft(a))):"none"!==i&&(n[r]="none",Z.set(a,"display",i)));for(r=0;r<o;r++)null!=n[r]&&(t[r].style.display=n[r]);return t}I.fn.extend({show:function(){return pt(this,!0)},hide:function(){return pt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ht(this)?I(this).show():I(this).hide()})}});var mt=/^(?:checkbox|radio)$/i,vt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,gt=/^$|^module$|\/(?:java|ecma)script/i,Ct={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Dt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&_(t,e)?I.merge([t],i):i}function yt(t,e){for(var i=0,a=t.length;i<a;i++)Z.set(t[i],"globalEval",!e||Z.get(e[i],"globalEval"))}Ct.optgroup=Ct.option,Ct.tbody=Ct.tfoot=Ct.colgroup=Ct.caption=Ct.thead,Ct.th=Ct.td;var xt,St,It=/<|&#?\w+;/;function Tt(t,e,i,a,n){for(var r,o,s,l,h,u,c=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((r=t[f])||0===r)if("object"===S(r))I.merge(d,r.nodeType?[r]:r);else if(It.test(r)){for(o=o||c.appendChild(e.createElement("div")),s=(vt.exec(r)||["",""])[1].toLowerCase(),l=Ct[s]||Ct._default,o.innerHTML=l[1]+I.htmlPrefilter(r)+l[2],u=l[0];u--;)o=o.lastChild;I.merge(d,o.childNodes),(o=c.firstChild).textContent=""}else d.push(e.createTextNode(r));for(c.textContent="",f=0;r=d[f++];)if(a&&I.inArray(r,a)>-1)n&&n.push(r);else if(h=st(r),o=Dt(c.appendChild(r),"script"),h&&yt(o),i)for(u=0;r=o[u++];)gt.test(r.type||"")&&i.push(r);return c}xt=o.createDocumentFragment().appendChild(o.createElement("div")),(St=o.createElement("input")).setAttribute("type","radio"),St.setAttribute("checked","checked"),St.setAttribute("name","t"),xt.appendChild(St),g.checkClone=xt.cloneNode(!0).cloneNode(!0).lastChild.checked,xt.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!xt.cloneNode(!0).lastChild.defaultValue;var bt=/^key/,wt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Mt=/^([^.]*)(?:\.(.+)|)/;function Et(){return!0}function At(){return!1}function _t(t,e){return t===function(){try{return o.activeElement}catch(t){}}()==("focus"===e)}function Lt(t,e,i,a,n,r){var o,s;if("object"==typeof e){for(s in"string"!=typeof i&&(a=a||i,i=void 0),e)Lt(t,s,i,a,e[s],r);return t}if(null==a&&null==n?(n=i,a=i=void 0):null==n&&("string"==typeof i?(n=a,a=void 0):(n=a,a=i,i=void 0)),!1===n)n=At;else if(!n)return t;return 1===r&&(o=n,(n=function(t){return I().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=I.guid++)),t.each(function(){I.event.add(this,e,n,a,i)})}function Ft(t,e,i){i?(Z.set(t,e,!1),I.event.add(t,e,{namespace:!1,handler:function(t){var a,n,r=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(I.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=l.call(arguments),Z.set(this,e,r),a=i(this,e),this[e](),r!==(n=Z.get(this,e))||a?Z.set(this,e,!1):n={},r!==n)return t.stopImmediatePropagation(),t.preventDefault(),n.value}else r.length&&(Z.set(this,e,{value:I.event.trigger(I.extend(r[0],I.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Z.get(t,e)&&I.event.add(t,e,Et)}I.event={global:{},add:function(t,e,i,a,n){var r,o,s,l,h,u,c,d,f,p,m,v=Z.get(t);if(v)for(i.handler&&(i=(r=i).handler,n=r.selector),n&&I.find.matchesSelector(ot,n),i.guid||(i.guid=I.guid++),(l=v.events)||(l=v.events={}),(o=v.handle)||(o=v.handle=function(e){return void 0!==I&&I.event.triggered!==e.type?I.event.dispatch.apply(t,arguments):void 0}),h=(e=(e||"").match(k)||[""]).length;h--;)f=m=(s=Mt.exec(e[h])||[])[1],p=(s[2]||"").split(".").sort(),f&&(c=I.event.special[f]||{},f=(n?c.delegateType:c.bindType)||f,c=I.event.special[f]||{},u=I.extend({type:f,origType:m,data:a,handler:i,guid:i.guid,selector:n,needsContext:n&&I.expr.match.needsContext.test(n),namespace:p.join(".")},r),(d=l[f])||((d=l[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,a,p,o)||t.addEventListener&&t.addEventListener(f,o)),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),n?d.splice(d.delegateCount++,0,u):d.push(u),I.event.global[f]=!0)},remove:function(t,e,i,a,n){var r,o,s,l,h,u,c,d,f,p,m,v=Z.hasData(t)&&Z.get(t);if(v&&(l=v.events)){for(h=(e=(e||"").match(k)||[""]).length;h--;)if(f=m=(s=Mt.exec(e[h])||[])[1],p=(s[2]||"").split(".").sort(),f){for(c=I.event.special[f]||{},d=l[f=(a?c.delegateType:c.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=d.length;r--;)u=d[r],!n&&m!==u.origType||i&&i.guid!==u.guid||s&&!s.test(u.namespace)||a&&a!==u.selector&&("**"!==a||!u.selector)||(d.splice(r,1),u.selector&&d.delegateCount--,c.remove&&c.remove.call(t,u));o&&!d.length&&(c.teardown&&!1!==c.teardown.call(t,p,v.handle)||I.removeEvent(t,f,v.handle),delete l[f])}else for(f in l)I.event.remove(t,f+e[h],i,a,!0);I.isEmptyObject(l)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,i,a,n,r,o,s=I.event.fix(t),l=new Array(arguments.length),h=(Z.get(this,"events")||{})[s.type]||[],u=I.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(o=I.event.handlers.call(this,s,h),e=0;(n=o[e++])&&!s.isPropagationStopped();)for(s.currentTarget=n.elem,i=0;(r=n.handlers[i++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==r.namespace&&!s.rnamespace.test(r.namespace)||(s.handleObj=r,s.data=r.data,void 0!==(a=((I.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,l))&&!1===(s.result=a)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var i,a,n,r,o,s=[],l=e.delegateCount,h=t.target;if(l&&h.nodeType&&!("click"===t.type&&t.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(r=[],o={},i=0;i<l;i++)void 0===o[n=(a=e[i]).selector+" "]&&(o[n]=a.needsContext?I(n,this).index(h)>-1:I.find(n,this,null,[h]).length),o[n]&&r.push(a);r.length&&s.push({elem:h,handlers:r})}return h=this,l<e.length&&s.push({elem:h,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(I.Event.prototype,t,{enumerable:!0,configurable:!0,get:C(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[I.expando]?t:new I.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return mt.test(e.type)&&e.click&&_(e,"input")&&Ft(e,"click",Et),!1},trigger:function(t){var e=this||t;return mt.test(e.type)&&e.click&&_(e,"input")&&Ft(e,"click"),!0},_default:function(t){var e=t.target;return mt.test(e.type)&&e.click&&_(e,"input")&&Z.get(e,"click")||_(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},I.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},I.Event=function(t,e){if(!(this instanceof I.Event))return new I.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Et:At,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&I.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[I.expando]=!0},I.Event.prototype={constructor:I.Event,isDefaultPrevented:At,isPropagationStopped:At,isImmediatePropagationStopped:At,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Et,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Et,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Et,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},I.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&bt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&wt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},I.event.addProp),I.each({focus:"focusin",blur:"focusout"},function(t,e){I.event.special[t]={setup:function(){return Ft(this,t,_t),!1},trigger:function(){return Ft(this,t),!0},delegateType:e}}),I.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){I.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,a=t.relatedTarget,n=t.handleObj;return a&&(a===this||I.contains(this,a))||(t.type=n.origType,i=n.handler.apply(this,arguments),t.type=e),i}}}),I.fn.extend({on:function(t,e,i,a){return Lt(this,t,e,i,a)},one:function(t,e,i,a){return Lt(this,t,e,i,a,1)},off:function(t,e,i){var a,n;if(t&&t.preventDefault&&t.handleObj)return a=t.handleObj,I(t.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof t){for(n in t)this.off(n,e,t[n]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=At),this.each(function(){I.event.remove(this,t,i,e)})}});var Ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pt=/<script|<style|<link/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Bt(t,e){return _(t,"table")&&_(11!==e.nodeType?e:e.firstChild,"tr")&&I(t).children("tbody")[0]||t}function kt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Vt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ht(t,e){var i,a,n,r,o,s,l,h;if(1===e.nodeType){if(Z.hasData(t)&&(r=Z.access(t),o=Z.set(e,r),h=r.events))for(n in delete o.handle,o.events={},h)for(i=0,a=h[n].length;i<a;i++)I.event.add(e,n,h[n][i]);Q.hasData(t)&&(s=Q.access(t),l=I.extend({},s),Q.set(e,l))}}function Gt(t,e,i,a){e=h.apply([],e);var n,r,o,s,l,u,c=0,d=t.length,f=d-1,p=e[0],m=C(p);if(m||d>1&&"string"==typeof p&&!g.checkClone&&Nt.test(p))return t.each(function(n){var r=t.eq(n);m&&(e[0]=p.call(this,n,r.html())),Gt(r,e,i,a)});if(d&&(r=(n=Tt(e,t[0].ownerDocument,!1,t,a)).firstChild,1===n.childNodes.length&&(n=r),r||a)){for(s=(o=I.map(Dt(n,"script"),kt)).length;c<d;c++)l=n,c!==f&&(l=I.clone(l,!0,!0),s&&I.merge(o,Dt(l,"script"))),i.call(t[c],l,c);if(s)for(u=o[o.length-1].ownerDocument,I.map(o,Vt),c=0;c<s;c++)l=o[c],gt.test(l.type||"")&&!Z.access(l,"globalEval")&&I.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?I._evalUrl&&!l.noModule&&I._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):x(l.textContent.replace(Rt,""),l,u))}return t}function Yt(t,e,i){for(var a,n=e?I.filter(e,t):t,r=0;null!=(a=n[r]);r++)i||1!==a.nodeType||I.cleanData(Dt(a)),a.parentNode&&(i&&st(a)&&yt(Dt(a,"script")),a.parentNode.removeChild(a));return t}I.extend({htmlPrefilter:function(t){return t.replace(Ot,"<$1></$2>")},clone:function(t,e,i){var a,n,r,o,s,l,h,u=t.cloneNode(!0),c=st(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||I.isXMLDoc(t)))for(o=Dt(u),a=0,n=(r=Dt(t)).length;a<n;a++)s=r[a],l=o[a],void 0,"input"===(h=l.nodeName.toLowerCase())&&mt.test(s.type)?l.checked=s.checked:"input"!==h&&"textarea"!==h||(l.defaultValue=s.defaultValue);if(e)if(i)for(r=r||Dt(t),o=o||Dt(u),a=0,n=r.length;a<n;a++)Ht(r[a],o[a]);else Ht(t,u);return(o=Dt(u,"script")).length>0&&yt(o,!c&&Dt(t,"script")),u},cleanData:function(t){for(var e,i,a,n=I.event.special,r=0;void 0!==(i=t[r]);r++)if(q(i)){if(e=i[Z.expando]){if(e.events)for(a in e.events)n[a]?I.event.remove(i,a):I.removeEvent(i,a,e.handle);i[Z.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),I.fn.extend({detach:function(t){return Yt(this,t,!0)},remove:function(t){return Yt(this,t)},text:function(t){return U(this,function(t){return void 0===t?I.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Gt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Bt(this,t).appendChild(t)})},prepend:function(){return Gt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Bt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Gt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Gt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(I.cleanData(Dt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return I.clone(this,t,e)})},html:function(t){return U(this,function(t){var e=this[0]||{},i=0,a=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!Ct[(vt.exec(t)||["",""])[1].toLowerCase()]){t=I.htmlPrefilter(t);try{for(;i<a;i++)1===(e=this[i]||{}).nodeType&&(I.cleanData(Dt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Gt(this,arguments,function(e){var i=this.parentNode;I.inArray(this,t)<0&&(I.cleanData(Dt(this)),i&&i.replaceChild(e,this))},t)}}),I.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){I.fn[t]=function(t){for(var i,a=[],n=I(t),r=n.length-1,o=0;o<=r;o++)i=o===r?this:this.clone(!0),I(n[o])[e](i),u.apply(a,i.get());return this.pushStack(a)}});var Wt=new RegExp("^("+at+")(?!px)[a-z%]+$","i"),Xt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Ut=new RegExp(rt.join("|"),"i");function zt(t,e,i){var a,n,r,o,s=t.style;return(i=i||Xt(t))&&(""!==(o=i.getPropertyValue(e)||i[e])||st(t)||(o=I.style(t,e)),!g.pixelBoxStyles()&&Wt.test(o)&&Ut.test(e)&&(a=s.width,n=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=i.width,s.width=a,s.minWidth=n,s.maxWidth=r)),void 0!==o?o+"":o}function Kt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){h.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(h).appendChild(u);var t=i.getComputedStyle(u);a="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",s=36===e(t.right),n=36===e(t.width),u.style.position="absolute",r=12===e(u.offsetWidth/3),ot.removeChild(h),u=null}}function e(t){return Math.round(parseFloat(t))}var a,n,r,s,l,h=o.createElement("div"),u=o.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,I.extend(g,{boxSizingReliable:function(){return t(),n},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),a},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),r}}))}();var $t=["Webkit","Moz","ms"],jt=o.createElement("div").style,qt={};function Jt(t){var e=I.cssProps[t]||qt[t];return e||(t in jt?t:qt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=$t.length;i--;)if((t=$t[i]+e)in jt)return t}(t)||t)}var Zt=/^(none|table(?!-c[ea]).+)/,Qt=/^--/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ie(t,e,i){var a=nt.exec(e);return a?Math.max(0,a[2]-(i||0))+(a[3]||"px"):e}function ae(t,e,i,a,n,r){var o="width"===e?1:0,s=0,l=0;if(i===(a?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=I.css(t,i+rt[o],!0,n)),a?("content"===i&&(l-=I.css(t,"padding"+rt[o],!0,n)),"margin"!==i&&(l-=I.css(t,"border"+rt[o]+"Width",!0,n))):(l+=I.css(t,"padding"+rt[o],!0,n),"padding"!==i?l+=I.css(t,"border"+rt[o]+"Width",!0,n):s+=I.css(t,"border"+rt[o]+"Width",!0,n));return!a&&r>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-s-.5))||0),l}function ne(t,e,i){var a=Xt(t),n=(!g.boxSizingReliable()||i)&&"border-box"===I.css(t,"boxSizing",!1,a),r=n,o=zt(t,e,a),s="offset"+e[0].toUpperCase()+e.slice(1);if(Wt.test(o)){if(!i)return o;o="auto"}return(!g.boxSizingReliable()&&n||"auto"===o||!parseFloat(o)&&"inline"===I.css(t,"display",!1,a))&&t.getClientRects().length&&(n="border-box"===I.css(t,"boxSizing",!1,a),(r=s in t)&&(o=t[s])),(o=parseFloat(o)||0)+ae(t,e,i||(n?"border":"content"),r,a,o)+"px"}function re(t,e,i,a,n){return new re.prototype.init(t,e,i,a,n)}I.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=zt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,a){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,r,o,s=j(e),l=Qt.test(e),h=t.style;if(l||(e=Jt(s)),o=I.cssHooks[e]||I.cssHooks[s],void 0===i)return o&&"get"in o&&void 0!==(n=o.get(t,!1,a))?n:h[e];"string"===(r=typeof i)&&(n=nt.exec(i))&&n[1]&&(i=ct(t,e,n),r="number"),null!=i&&i==i&&("number"!==r||l||(i+=n&&n[3]||(I.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,a))||(l?h.setProperty(e,i):h[e]=i))}},css:function(t,e,i,a){var n,r,o,s=j(e);return Qt.test(e)||(e=Jt(s)),(o=I.cssHooks[e]||I.cssHooks[s])&&"get"in o&&(n=o.get(t,!0,i)),void 0===n&&(n=zt(t,e,a)),"normal"===n&&e in ee&&(n=ee[e]),""===i||i?(r=parseFloat(n),!0===i||isFinite(r)?r||0:n):n}}),I.each(["height","width"],function(t,e){I.cssHooks[e]={get:function(t,i,a){if(i)return!Zt.test(I.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ne(t,e,a):ut(t,te,function(){return ne(t,e,a)})},set:function(t,i,a){var n,r=Xt(t),o=!g.scrollboxSize()&&"absolute"===r.position,s=(o||a)&&"border-box"===I.css(t,"boxSizing",!1,r),l=a?ae(t,e,a,s,r):0;return s&&o&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(r[e])-ae(t,e,"border",!1,r)-.5)),l&&(n=nt.exec(i))&&"px"!==(n[3]||"px")&&(t.style[e]=i,i=I.css(t,e)),ie(0,i,l)}}}),I.cssHooks.marginLeft=Kt(g.reliableMarginLeft,function(t,e){if(e)return(parseFloat(zt(t,"marginLeft"))||t.getBoundingClientRect().left-ut(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),I.each({margin:"",padding:"",border:"Width"},function(t,e){I.cssHooks[t+e]={expand:function(i){for(var a=0,n={},r="string"==typeof i?i.split(" "):[i];a<4;a++)n[t+rt[a]+e]=r[a]||r[a-2]||r[0];return n}},"margin"!==t&&(I.cssHooks[t+e].set=ie)}),I.fn.extend({css:function(t,e){return U(this,function(t,e,i){var a,n,r={},o=0;if(Array.isArray(e)){for(a=Xt(t),n=e.length;o<n;o++)r[e[o]]=I.css(t,e[o],!1,a);return r}return void 0!==i?I.style(t,e,i):I.css(t,e)},t,e,arguments.length>1)}}),I.Tween=re,re.prototype={constructor:re,init:function(t,e,i,a,n,r){this.elem=t,this.prop=i,this.easing=n||I.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=a,this.unit=r||(I.cssNumber[i]?"":"px")},cur:function(){var t=re.propHooks[this.prop];return t&&t.get?t.get(this):re.propHooks._default.get(this)},run:function(t){var e,i=re.propHooks[this.prop];return this.options.duration?this.pos=e=I.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):re.propHooks._default.set(this),this}},re.prototype.init.prototype=re.prototype,re.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=I.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){I.fx.step[t.prop]?I.fx.step[t.prop](t):1!==t.elem.nodeType||!I.cssHooks[t.prop]&&null==t.elem.style[Jt(t.prop)]?t.elem[t.prop]=t.now:I.style(t.elem,t.prop,t.now+t.unit)}}},re.propHooks.scrollTop=re.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},I.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},I.fx=re.prototype.init,I.fx.step={};var oe,se,le=/^(?:toggle|show|hide)$/,he=/queueHooks$/;function ue(){se&&(!1===o.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(ue):i.setTimeout(ue,I.fx.interval),I.fx.tick())}function ce(){return i.setTimeout(function(){oe=void 0}),oe=Date.now()}function de(t,e){var i,a=0,n={height:t};for(e=e?1:0;a<4;a+=2-e)n["margin"+(i=rt[a])]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function fe(t,e,i){for(var a,n=(pe.tweeners[e]||[]).concat(pe.tweeners["*"]),r=0,o=n.length;r<o;r++)if(a=n[r].call(i,e,t))return a}function pe(t,e,i){var a,n,r=0,o=pe.prefilters.length,s=I.Deferred().always(function(){delete l.elem}),l=function(){if(n)return!1;for(var e=oe||ce(),i=Math.max(0,h.startTime+h.duration-e),a=1-(i/h.duration||0),r=0,o=h.tweens.length;r<o;r++)h.tweens[r].run(a);return s.notifyWith(t,[h,a,i]),a<1&&o?i:(o||s.notifyWith(t,[h,1,0]),s.resolveWith(t,[h]),!1)},h=s.promise({elem:t,props:I.extend({},e),opts:I.extend(!0,{specialEasing:{},easing:I.easing._default},i),originalProperties:e,originalOptions:i,startTime:oe||ce(),duration:i.duration,tweens:[],createTween:function(e,i){var a=I.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(a),a},stop:function(e){var i=0,a=e?h.tweens.length:0;if(n)return this;for(n=!0;i<a;i++)h.tweens[i].run(1);return e?(s.notifyWith(t,[h,1,0]),s.resolveWith(t,[h,e])):s.rejectWith(t,[h,e]),this}}),u=h.props;for(!function(t,e){var i,a,n,r,o;for(i in t)if(n=e[a=j(i)],r=t[i],Array.isArray(r)&&(n=r[1],r=t[i]=r[0]),i!==a&&(t[a]=r,delete t[i]),(o=I.cssHooks[a])&&"expand"in o)for(i in r=o.expand(r),delete t[a],r)i in t||(t[i]=r[i],e[i]=n);else e[a]=n}(u,h.opts.specialEasing);r<o;r++)if(a=pe.prefilters[r].call(h,t,u,h.opts))return C(a.stop)&&(I._queueHooks(h.elem,h.opts.queue).stop=a.stop.bind(a)),a;return I.map(u,fe,h),C(h.opts.start)&&h.opts.start.call(t,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),I.fx.timer(I.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h}I.Animation=I.extend(pe,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return ct(i.elem,t,nt.exec(e),i),i}]},tweener:function(t,e){C(t)?(e=t,t=["*"]):t=t.match(k);for(var i,a=0,n=t.length;a<n;a++)i=t[a],pe.tweeners[i]=pe.tweeners[i]||[],pe.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var a,n,r,o,s,l,h,u,c="width"in e||"height"in e,d=this,f={},p=t.style,m=t.nodeType&&ht(t),v=Z.get(t,"fxshow");for(a in i.queue||(null==(o=I._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,I.queue(t,"fx").length||o.empty.fire()})})),e)if(n=e[a],le.test(n)){if(delete e[a],r=r||"toggle"===n,n===(m?"hide":"show")){if("show"!==n||!v||void 0===v[a])continue;m=!0}f[a]=v&&v[a]||I.style(t,a)}if((l=!I.isEmptyObject(e))||!I.isEmptyObject(f))for(a in c&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(h=v&&v.display)&&(h=Z.get(t,"display")),"none"===(u=I.css(t,"display"))&&(h?u=h:(pt([t],!0),h=t.style.display||h,u=I.css(t,"display"),pt([t]))),("inline"===u||"inline-block"===u&&null!=h)&&"none"===I.css(t,"float")&&(l||(d.done(function(){p.display=h}),null==h&&(u=p.display,h="none"===u?"":u)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1,f)l||(v?"hidden"in v&&(m=v.hidden):v=Z.access(t,"fxshow",{display:h}),r&&(v.hidden=!m),m&&pt([t],!0),d.done(function(){for(a in m||pt([t]),Z.remove(t,"fxshow"),f)I.style(t,a,f[a])})),l=fe(m?v[a]:0,a,d),a in v||(v[a]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?pe.prefilters.unshift(t):pe.prefilters.push(t)}}),I.speed=function(t,e,i){var a=t&&"object"==typeof t?I.extend({},t):{complete:i||!i&&e||C(t)&&t,duration:t,easing:i&&e||e&&!C(e)&&e};return I.fx.off?a.duration=0:"number"!=typeof a.duration&&(a.duration in I.fx.speeds?a.duration=I.fx.speeds[a.duration]:a.duration=I.fx.speeds._default),null!=a.queue&&!0!==a.queue||(a.queue="fx"),a.old=a.complete,a.complete=function(){C(a.old)&&a.old.call(this),a.queue&&I.dequeue(this,a.queue)},a},I.fn.extend({fadeTo:function(t,e,i,a){return this.filter(ht).css("opacity",0).show().end().animate({opacity:e},t,i,a)},animate:function(t,e,i,a){var n=I.isEmptyObject(t),r=I.speed(e,i,a),o=function(){var e=pe(this,I.extend({},t),r);(n||Z.get(this,"finish"))&&e.stop(!0)};return o.finish=o,n||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(t,e,i){var a=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",r=I.timers,o=Z.get(this);if(n)o[n]&&o[n].stop&&a(o[n]);else for(n in o)o[n]&&o[n].stop&&he.test(n)&&a(o[n]);for(n=r.length;n--;)r[n].elem!==this||null!=t&&r[n].queue!==t||(r[n].anim.stop(i),e=!1,r.splice(n,1));!e&&i||I.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=Z.get(this),a=i[t+"queue"],n=i[t+"queueHooks"],r=I.timers,o=a?a.length:0;for(i.finish=!0,I.queue(this,t,[]),n&&n.stop&&n.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)a[e]&&a[e].finish&&a[e].finish.call(this);delete i.finish})}}),I.each(["toggle","show","hide"],function(t,e){var i=I.fn[e];I.fn[e]=function(t,a,n){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(de(e,!0),t,a,n)}}),I.each({slideDown:de("show"),slideUp:de("hide"),slideToggle:de("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){I.fn[t]=function(t,i,a){return this.animate(e,t,i,a)}}),I.timers=[],I.fx.tick=function(){var t,e=0,i=I.timers;for(oe=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||I.fx.stop(),oe=void 0},I.fx.timer=function(t){I.timers.push(t),I.fx.start()},I.fx.interval=13,I.fx.start=function(){se||(se=!0,ue())},I.fx.stop=function(){se=null},I.fx.speeds={slow:600,fast:200,_default:400},I.fn.delay=function(t,e){return t=I.fx&&I.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,a){var n=i.setTimeout(e,t);a.stop=function(){i.clearTimeout(n)}})},function(){var t=o.createElement("input"),e=o.createElement("select").appendChild(o.createElement("option"));t.type="checkbox",g.checkOn=""!==t.value,g.optSelected=e.selected,(t=o.createElement("input")).value="t",t.type="radio",g.radioValue="t"===t.value}();var me,ve=I.expr.attrHandle;I.fn.extend({attr:function(t,e){return U(this,I.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){I.removeAttr(this,t)})}}),I.extend({attr:function(t,e,i){var a,n,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?I.prop(t,e,i):(1===r&&I.isXMLDoc(t)||(n=I.attrHooks[e.toLowerCase()]||(I.expr.match.bool.test(e)?me:void 0)),void 0!==i?null===i?void I.removeAttr(t,e):n&&"set"in n&&void 0!==(a=n.set(t,i,e))?a:(t.setAttribute(e,i+""),i):n&&"get"in n&&null!==(a=n.get(t,e))?a:null==(a=I.find.attr(t,e))?void 0:a)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&_(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,a=0,n=e&&e.match(k);if(n&&1===t.nodeType)for(;i=n[a++];)t.removeAttribute(i)}}),me={set:function(t,e,i){return!1===e?I.removeAttr(t,i):t.setAttribute(i,i),i}},I.each(I.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ve[e]||I.find.attr;ve[e]=function(t,e,a){var n,r,o=e.toLowerCase();return a||(r=ve[o],ve[o]=n,n=null!=i(t,e,a)?o:null,ve[o]=r),n}});var ge=/^(?:input|select|textarea|button)$/i,Ce=/^(?:a|area)$/i;function De(t){return(t.match(k)||[]).join(" ")}function ye(t){return t.getAttribute&&t.getAttribute("class")||""}function xe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(k)||[]}I.fn.extend({prop:function(t,e){return U(this,I.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[I.propFix[t]||t]})}}),I.extend({prop:function(t,e,i){var a,n,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&I.isXMLDoc(t)||(e=I.propFix[e]||e,n=I.propHooks[e]),void 0!==i?n&&"set"in n&&void 0!==(a=n.set(t,i,e))?a:t[e]=i:n&&"get"in n&&null!==(a=n.get(t,e))?a:t[e]},propHooks:{tabIndex:{get:function(t){var e=I.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(I.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),I.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){I.propFix[this.toLowerCase()]=this}),I.fn.extend({addClass:function(t){var e,i,a,n,r,o,s,l=0;if(C(t))return this.each(function(e){I(this).addClass(t.call(this,e,ye(this)))});if((e=xe(t)).length)for(;i=this[l++];)if(n=ye(i),a=1===i.nodeType&&" "+De(n)+" "){for(o=0;r=e[o++];)a.indexOf(" "+r+" ")<0&&(a+=r+" ");n!==(s=De(a))&&i.setAttribute("class",s)}return this},removeClass:function(t){var e,i,a,n,r,o,s,l=0;if(C(t))return this.each(function(e){I(this).removeClass(t.call(this,e,ye(this)))});if(!arguments.length)return this.attr("class","");if((e=xe(t)).length)for(;i=this[l++];)if(n=ye(i),a=1===i.nodeType&&" "+De(n)+" "){for(o=0;r=e[o++];)for(;a.indexOf(" "+r+" ")>-1;)a=a.replace(" "+r+" "," ");n!==(s=De(a))&&i.setAttribute("class",s)}return this},toggleClass:function(t,e){var i=typeof t,a="string"===i||Array.isArray(t);return"boolean"==typeof e&&a?e?this.addClass(t):this.removeClass(t):C(t)?this.each(function(i){I(this).toggleClass(t.call(this,i,ye(this),e),e)}):this.each(function(){var e,n,r,o;if(a)for(n=0,r=I(this),o=xe(t);e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||((e=ye(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))})},hasClass:function(t){var e,i,a=0;for(e=" "+t+" ";i=this[a++];)if(1===i.nodeType&&(" "+De(ye(i))+" ").indexOf(e)>-1)return!0;return!1}});var Se=/\r/g;I.fn.extend({val:function(t){var e,i,a,n=this[0];return arguments.length?(a=C(t),this.each(function(i){var n;1===this.nodeType&&(null==(n=a?t.call(this,i,I(this).val()):t)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=I.map(n,function(t){return null==t?"":t+""})),(e=I.valHooks[this.type]||I.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,n,"value")||(this.value=n))})):n?(e=I.valHooks[n.type]||I.valHooks[n.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(n,"value"))?i:"string"==typeof(i=n.value)?i.replace(Se,""):null==i?"":i:void 0}}),I.extend({valHooks:{option:{get:function(t){var e=I.find.attr(t,"value");return null!=e?e:De(I.text(t))}},select:{get:function(t){var e,i,a,n=t.options,r=t.selectedIndex,o="select-one"===t.type,s=o?null:[],l=o?r+1:n.length;for(a=r<0?l:o?r:0;a<l;a++)if(((i=n[a]).selected||a===r)&&!i.disabled&&(!i.parentNode.disabled||!_(i.parentNode,"optgroup"))){if(e=I(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,a,n=t.options,r=I.makeArray(e),o=n.length;o--;)((a=n[o]).selected=I.inArray(I.valHooks.option.get(a),r)>-1)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),I.each(["radio","checkbox"],function(){I.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=I.inArray(I(t).val(),e)>-1}},g.checkOn||(I.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),g.focusin="onfocusin"in i;var Ie=/^(?:focusinfocus|focusoutblur)$/,Te=function(t){t.stopPropagation()};I.extend(I.event,{trigger:function(t,e,a,n){var r,s,l,h,u,c,d,f,m=[a||o],v=p.call(t,"type")?t.type:t,g=p.call(t,"namespace")?t.namespace.split("."):[];if(s=f=l=a=a||o,3!==a.nodeType&&8!==a.nodeType&&!Ie.test(v+I.event.triggered)&&(v.indexOf(".")>-1&&(v=(g=v.split(".")).shift(),g.sort()),u=v.indexOf(":")<0&&"on"+v,(t=t[I.expando]?t:new I.Event(v,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=a),e=null==e?[t]:I.makeArray(e,[t]),d=I.event.special[v]||{},n||!d.trigger||!1!==d.trigger.apply(a,e))){if(!n&&!d.noBubble&&!D(a)){for(h=d.delegateType||v,Ie.test(h+v)||(s=s.parentNode);s;s=s.parentNode)m.push(s),l=s;l===(a.ownerDocument||o)&&m.push(l.defaultView||l.parentWindow||i)}for(r=0;(s=m[r++])&&!t.isPropagationStopped();)f=s,t.type=r>1?h:d.bindType||v,(c=(Z.get(s,"events")||{})[t.type]&&Z.get(s,"handle"))&&c.apply(s,e),(c=u&&s[u])&&c.apply&&q(s)&&(t.result=c.apply(s,e),!1===t.result&&t.preventDefault());return t.type=v,n||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(m.pop(),e)||!q(a)||u&&C(a[v])&&!D(a)&&((l=a[u])&&(a[u]=null),I.event.triggered=v,t.isPropagationStopped()&&f.addEventListener(v,Te),a[v](),t.isPropagationStopped()&&f.removeEventListener(v,Te),I.event.triggered=void 0,l&&(a[u]=l)),t.result}},simulate:function(t,e,i){var a=I.extend(new I.Event,i,{type:t,isSimulated:!0});I.event.trigger(a,null,e)}}),I.fn.extend({trigger:function(t,e){return this.each(function(){I.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return I.event.trigger(t,e,i,!0)}}),g.focusin||I.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){I.event.simulate(e,t.target,I.event.fix(t))};I.event.special[e]={setup:function(){var a=this.ownerDocument||this,n=Z.access(a,e);n||a.addEventListener(t,i,!0),Z.access(a,e,(n||0)+1)},teardown:function(){var a=this.ownerDocument||this,n=Z.access(a,e)-1;n?Z.access(a,e,n):(a.removeEventListener(t,i,!0),Z.remove(a,e))}}});var be=i.location,we=Date.now(),Me=/\?/;I.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||I.error("Invalid XML: "+t),e};var Ee=/\[\]$/,Ae=/\r?\n/g,_e=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;function Fe(t,e,i,a){var n;if(Array.isArray(e))I.each(e,function(e,n){i||Ee.test(t)?a(t,n):Fe(t+"["+("object"==typeof n&&null!=n?e:"")+"]",n,i,a)});else if(i||"object"!==S(e))a(t,e);else for(n in e)Fe(t+"["+n+"]",e[n],i,a)}I.param=function(t,e){var i,a=[],n=function(t,e){var i=C(e)?e():e;a[a.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!I.isPlainObject(t))I.each(t,function(){n(this.name,this.value)});else for(i in t)Fe(i,t[i],e,n);return a.join("&")},I.fn.extend({serialize:function(){return I.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=I.prop(this,"elements");return t?I.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!I(this).is(":disabled")&&Le.test(this.nodeName)&&!_e.test(t)&&(this.checked||!mt.test(t))}).map(function(t,e){var i=I(this).val();return null==i?null:Array.isArray(i)?I.map(i,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:i.replace(Ae,"\r\n")}}).get()}});var Oe=/%20/g,Pe=/#.*$/,Ne=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)$/gm,Be=/^(?:GET|HEAD)$/,ke=/^\/\//,Ve={},He={},Ge="*/".concat("*"),Ye=o.createElement("a");function We(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var a,n=0,r=e.toLowerCase().match(k)||[];if(C(i))for(;a=r[n++];)"+"===a[0]?(a=a.slice(1)||"*",(t[a]=t[a]||[]).unshift(i)):(t[a]=t[a]||[]).push(i)}}function Xe(t,e,i,a){var n={},r=t===He;function o(s){var l;return n[s]=!0,I.each(t[s]||[],function(t,s){var h=s(e,i,a);return"string"!=typeof h||r||n[h]?r?!(l=h):void 0:(e.dataTypes.unshift(h),o(h),!1)}),l}return o(e.dataTypes[0])||!n["*"]&&o("*")}function Ue(t,e){var i,a,n=I.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((n[i]?t:a||(a={}))[i]=e[i]);return a&&I.extend(!0,t,a),t}Ye.href=be.href,I.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:be.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(be.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":I.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ue(Ue(t,I.ajaxSettings),e):Ue(I.ajaxSettings,t)},ajaxPrefilter:We(Ve),ajaxTransport:We(He),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var a,n,r,s,l,h,u,c,d,f,p=I.ajaxSetup({},e),m=p.context||p,v=p.context&&(m.nodeType||m.jquery)?I(m):I.event,g=I.Deferred(),C=I.Callbacks("once memory"),D=p.statusCode||{},y={},x={},S="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=Re.exec(r);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?r:null},setRequestHeader:function(t,e){return null==u&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,y[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)T.always(t[T.status]);else for(e in t)D[e]=[D[e],t[e]];return this},abort:function(t){var e=t||S;return a&&a.abort(e),b(0,e),this}};if(g.promise(T),p.url=((t||p.url||be.href)+"").replace(ke,be.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(k)||[""],null==p.crossDomain){h=o.createElement("a");try{h.href=p.url,h.href=h.href,p.crossDomain=Ye.protocol+"//"+Ye.host!=h.protocol+"//"+h.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=I.param(p.data,p.traditional)),Xe(Ve,p,e,T),u)return T;for(d in(c=I.event&&p.global)&&0==I.active++&&I.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Be.test(p.type),n=p.url.replace(Pe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Oe,"+")):(f=p.url.slice(n.length),p.data&&(p.processData||"string"==typeof p.data)&&(n+=(Me.test(n)?"&":"?")+p.data,delete p.data),!1===p.cache&&(n=n.replace(Ne,"$1"),f=(Me.test(n)?"&":"?")+"_="+we+++f),p.url=n+f),p.ifModified&&(I.lastModified[n]&&T.setRequestHeader("If-Modified-Since",I.lastModified[n]),I.etag[n]&&T.setRequestHeader("If-None-Match",I.etag[n])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ge+"; q=0.01":""):p.accepts["*"]),p.headers)T.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(m,T,p)||u))return T.abort();if(S="abort",C.add(p.complete),T.done(p.success),T.fail(p.error),a=Xe(He,p,e,T)){if(T.readyState=1,c&&v.trigger("ajaxSend",[T,p]),u)return T;p.async&&p.timeout>0&&(l=i.setTimeout(function(){T.abort("timeout")},p.timeout));try{u=!1,a.send(y,b)}catch(t){if(u)throw t;b(-1,t)}}else b(-1,"No Transport");function b(t,e,o,s){var h,d,f,y,x,S=e;u||(u=!0,l&&i.clearTimeout(l),a=void 0,r=s||"",T.readyState=t>0?4:0,h=t>=200&&t<300||304===t,o&&(y=function(t,e,i){for(var a,n,r,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=t.mimeType||e.getResponseHeader("Content-Type"));if(a)for(n in s)if(s[n]&&s[n].test(a)){l.unshift(n);break}if(l[0]in i)r=l[0];else{for(n in i){if(!l[0]||t.converters[n+" "+l[0]]){r=n;break}o||(o=n)}r=r||o}if(r)return r!==l[0]&&l.unshift(r),i[r]}(p,T,o)),y=function(t,e,i,a){var n,r,o,s,l,h={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)h[o.toLowerCase()]=t.converters[o];for(r=u.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&a&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(o=h[l+" "+r]||h["* "+r]))for(n in h)if((s=n.split(" "))[1]===r&&(o=h[l+" "+s[0]]||h["* "+s[0]])){!0===o?o=h[n]:!0!==h[n]&&(r=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(p,y,T,h),h?(p.ifModified&&((x=T.getResponseHeader("Last-Modified"))&&(I.lastModified[n]=x),(x=T.getResponseHeader("etag"))&&(I.etag[n]=x)),204===t||"HEAD"===p.type?S="nocontent":304===t?S="notmodified":(S=y.state,d=y.data,h=!(f=y.error))):(f=S,!t&&S||(S="error",t<0&&(t=0))),T.status=t,T.statusText=(e||S)+"",h?g.resolveWith(m,[d,S,T]):g.rejectWith(m,[T,S,f]),T.statusCode(D),D=void 0,c&&v.trigger(h?"ajaxSuccess":"ajaxError",[T,p,h?d:f]),C.fireWith(m,[T,S]),c&&(v.trigger("ajaxComplete",[T,p]),--I.active||I.event.trigger("ajaxStop")))}return T},getJSON:function(t,e,i){return I.get(t,e,i,"json")},getScript:function(t,e){return I.get(t,void 0,e,"script")}}),I.each(["get","post"],function(t,e){I[e]=function(t,i,a,n){return C(i)&&(n=n||a,a=i,i=void 0),I.ajax(I.extend({url:t,type:e,dataType:n,data:i,success:a},I.isPlainObject(t)&&t))}}),I._evalUrl=function(t,e){return I.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){I.globalEval(t,e)}})},I.fn.extend({wrapAll:function(t){var e;return this[0]&&(C(t)&&(t=t.call(this[0])),e=I(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return C(t)?this.each(function(e){I(this).wrapInner(t.call(this,e))}):this.each(function(){var e=I(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=C(t);return this.each(function(i){I(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){I(this).replaceWith(this.childNodes)}),this}}),I.expr.pseudos.hidden=function(t){return!I.expr.pseudos.visible(t)},I.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},I.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var ze={0:200,1223:204},Ke=I.ajaxSettings.xhr();g.cors=!!Ke&&"withCredentials"in Ke,g.ajax=Ke=!!Ke,I.ajaxTransport(function(t){var e,a;if(g.cors||Ke&&!t.crossDomain)return{send:function(n,r){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)s.setRequestHeader(o,n[o]);e=function(t){return function(){e&&(e=a=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(ze[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),a=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=a:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout(function(){e&&a()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),I.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),I.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return I.globalEval(t),t}}}),I.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),I.ajaxTransport("script",function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(a,n){e=I("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&n("error"===t.type?404:200,t.type)}),o.head.appendChild(e[0])},abort:function(){i&&i()}}});var $e,je=[],qe=/(=)\?(?=&|$)|\?\?/;I.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=je.pop()||I.expando+"_"+we++;return this[t]=!0,t}}),I.ajaxPrefilter("json jsonp",function(t,e,a){var n,r,o,s=!1!==t.jsonp&&(qe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&qe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=C(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(qe,"$1"+n):!1!==t.jsonp&&(t.url+=(Me.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return o||I.error(n+" was not called"),o[0]},t.dataTypes[0]="json",r=i[n],i[n]=function(){o=arguments},a.always(function(){void 0===r?I(i).removeProp(n):i[n]=r,t[n]&&(t.jsonpCallback=e.jsonpCallback,je.push(n)),o&&C(r)&&r(o[0]),o=r=void 0}),"script"}),g.createHTMLDocument=(($e=o.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$e.childNodes.length),I.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(g.createHTMLDocument?((a=(e=o.implementation.createHTMLDocument("")).createElement("base")).href=o.location.href,e.head.appendChild(a)):e=o),n=L.exec(t),r=!i&&[],n?[e.createElement(n[1])]:(n=Tt([t],e,r),r&&r.length&&I(r).remove(),I.merge([],n.childNodes)));var a,n,r},I.fn.load=function(t,e,i){var a,n,r,o=this,s=t.indexOf(" ");return s>-1&&(a=De(t.slice(s)),t=t.slice(0,s)),C(e)?(i=e,e=void 0):e&&"object"==typeof e&&(n="POST"),o.length>0&&I.ajax({url:t,type:n||"GET",dataType:"html",data:e}).done(function(t){r=arguments,o.html(a?I("<div>").append(I.parseHTML(t)).find(a):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,r||[t.responseText,e,t])})}),this},I.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){I.fn[e]=function(t){return this.on(e,t)}}),I.expr.pseudos.animated=function(t){return I.grep(I.timers,function(e){return t===e.elem}).length},I.offset={setOffset:function(t,e,i){var a,n,r,o,s,l,h=I.css(t,"position"),u=I(t),c={};"static"===h&&(t.style.position="relative"),s=u.offset(),r=I.css(t,"top"),l=I.css(t,"left"),("absolute"===h||"fixed"===h)&&(r+l).indexOf("auto")>-1?(o=(a=u.position()).top,n=a.left):(o=parseFloat(r)||0,n=parseFloat(l)||0),C(e)&&(e=e.call(t,i,I.extend({},s))),null!=e.top&&(c.top=e.top-s.top+o),null!=e.left&&(c.left=e.left-s.left+n),"using"in e?e.using.call(t,c):u.css(c)}},I.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){I.offset.setOffset(this,t,e)});var e,i,a=this[0];return a?a.getClientRects().length?(e=a.getBoundingClientRect(),i=a.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,a=this[0],n={top:0,left:0};if("fixed"===I.css(a,"position"))e=a.getBoundingClientRect();else{for(e=this.offset(),i=a.ownerDocument,t=a.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===I.css(t,"position");)t=t.parentNode;t&&t!==a&&1===t.nodeType&&((n=I(t).offset()).top+=I.css(t,"borderTopWidth",!0),n.left+=I.css(t,"borderLeftWidth",!0))}return{top:e.top-n.top-I.css(a,"marginTop",!0),left:e.left-n.left-I.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===I.css(t,"position");)t=t.offsetParent;return t||ot})}}),I.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;I.fn[t]=function(a){return U(this,function(t,a,n){var r;if(D(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===n)return r?r[e]:t[a];r?r.scrollTo(i?r.pageXOffset:n,i?n:r.pageYOffset):t[a]=n},t,a,arguments.length)}}),I.each(["top","left"],function(t,e){I.cssHooks[e]=Kt(g.pixelPosition,function(t,i){if(i)return i=zt(t,e),Wt.test(i)?I(t).position()[e]+"px":i})}),I.each({Height:"height",Width:"width"},function(t,e){I.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,a){I.fn[a]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),s=i||(!0===n||!0===r?"margin":"border");return U(this,function(e,i,n){var r;return D(e)?0===a.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?I.css(e,i,s):I.style(e,i,n,s)},e,o?n:void 0,o)}})}),I.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){I.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),I.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),I.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,a){return this.on(e,t,i,a)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),I.proxy=function(t,e){var i,a,n;if("string"==typeof e&&(i=t[e],e=t,t=i),C(t))return a=l.call(arguments,2),(n=function(){return t.apply(e||this,a.concat(l.call(arguments)))}).guid=t.guid=t.guid||I.guid++,n},I.holdReady=function(t){t?I.readyWait++:I.ready(!0)},I.isArray=Array.isArray,I.parseJSON=JSON.parse,I.nodeName=_,I.isFunction=C,I.isWindow=D,I.camelCase=j,I.type=S,I.now=Date.now,I.isNumeric=function(t){var e=I.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(a=function(){return I}.apply(e,[]))||(t.exports=a);var Je=i.jQuery,Ze=i.$;return I.noConflict=function(t){return i.$===I&&(i.$=Ze),t&&i.jQuery===I&&(i.jQuery=Je),I},n||(i.jQuery=i.$=I),I})},"80cc":function(t,e,i){var a=i("Icdr");i("6JAQ"),i("6f6q"),i("8RN9");var n=i("JIsR"),r=i("Y5nL");a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,n),r.registerSubTypeDefaulter("legend",function(){return"plain"})},"80zD":function(t,e,i){var a=i("Icdr"),n=i("/gxq");function r(t,e){e.update="updateView",a.registerAction(e,function(e,i){var a={};return i.eachComponent({mainType:"geo",query:e},function(i){i[t](e.name);var r=i.coordinateSystem;n.each(r.regions,function(t){a[t.name]=i.isSelected(t.name)||!1})}),{selected:a,name:e.name}})}i("whrq"),i("srbS"),i("jpt2"),i("FvdC"),r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"})},"82Mu":function(t,e,i){var a=i("7KvD"),n=i("L42u").set,r=a.MutationObserver||a.WebKitMutationObserver,o=a.process,s=a.Promise,l="process"==i("R9M2")(o);t.exports=function(){var t,e,i,h=function(){var a,n;for(l&&(a=o.domain)&&a.exit();t;){n=t.fn,t=t.next;try{n()}catch(a){throw t?i():e=void 0,a}}e=void 0,a&&a.enter()};if(l)i=function(){o.nextTick(h)};else if(!r||a.navigator&&a.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);i=function(){u.then(h)}}else i=function(){n.call(a,h)};else{var c=!0,d=document.createTextNode("");new r(h).observe(d,{characterData:!0}),i=function(){d.data=c=!c}}return function(a){var n={fn:a,next:void 0};e&&(e.next=n),t||(t=n,i()),e=n}}},"835U":function(t,e,i){"use strict";e.__esModule=!0,e.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},e.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e.isHtmlElement=function(t){return t&&t.nodeType===Node.ELEMENT_NODE};e.isFunction=function(t){return t&&"[object Function]"==={}.toString.call(t)},e.isUndefined=function(t){return void 0===t},e.isDefined=function(t){return void 0!==t&&null!==t}},"87tG":function(t,e,i){i("JNWs"),i("sTIA")},"880/":function(t,e,i){t.exports=i("hJx8")},"8DFW":function(t,e,i){var a=i("EJsE"),n=i("hcq/"),r=i("mvCM").getDimensionTypeByAxis,o=i("Rfu2"),s=i("/gxq"),l=i("vXqC").groupData,h=i("HHfb").encodeHTML,u=a.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(t){u.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(t){var e=t.length,i=[];l(t,function(t){return t[2]}).buckets.each(function(t,e){i.push({name:e,dataList:t})});for(var a=i.length,n=-1,r=-1,o=0;o<a;++o){var s=i[o].dataList.length;s>n&&(n=s,r=o)}for(var h=0;h<a;++h)if(h!==r)for(var u=i[h].name,c=0;c<n;++c){for(var d=i[r].dataList[c][0],f=i[h].dataList.length,p=-1,m=0;m<f;++m){if(i[h].dataList[m][0]===d){p=m;break}}-1===p&&(t[e]=[],t[e][0]=d,t[e][1]=0,t[e][2]=u,e++)}return t},getInitialData:function(t,e){for(var i=e.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),a=s.filter(t.data,function(t){return void 0!==t[2]}),l=this.fixData(a||[]),h=[],u=this.nameMap=s.createHashMap(),c=0,d=0;d<l.length;++d)h.push(l[d][2]),u.get(l[d][2])||(u.set(l[d][2],c),c++);var f=n(l,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:r(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),p=new o(f,this);return p.initData(l),p},getLayerSeries:function(){for(var t=this.getData(),e=t.count(),i=[],a=0;a<e;++a)i[a]=a;var n=t.mapDimension("single"),r=[];return l(i,function(e){return t.get("name",e)}).buckets.each(function(e,i){e.sort(function(e,i){return t.get(n,e)-t.get(n,i)}),r.push({name:i,indices:e})}),r},getAxisTooltipData:function(t,e,i){s.isArray(t)||(t=t?[t]:[]);for(var a,n=this.getData(),r=this.getLayerSeries(),o=[],l=r.length,h=0;h<l;++h){for(var u=Number.MAX_VALUE,c=-1,d=r[h].indices.length,f=0;f<d;++f){var p=n.get(t[0],r[h].indices[f]),m=Math.abs(p-e);m<=u&&(a=p,u=m,c=r[h].indices[f])}o.push(c)}return{dataIndices:o,nestestValue:a}},formatTooltip:function(t){var e=this.getData(),i=e.getName(t),a=e.get(e.mapDimension("value"),t);return(isNaN(a)||null==a)&&(a="-"),h(i+" : "+a)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),c=u;t.exports=c},"8Mpj":function(t,e,i){var a=i("sJ4e").extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});t.exports=a},"8RN9":function(t,e,i){i("4Nz2").__DEV__;var a=i("Icdr"),n=i("/gxq"),r=i("kK7q").createSymbol,o=i("0sHC"),s=i("v/cD").makeBackground,l=i("1Xuh"),h=n.curry,u=n.each,c=o.Group,d=a.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new c),this._backgroundEl,this.group.add(this._selectorGroup=new c),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(t,e,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var r=t.get("align"),o=t.get("orient");r&&"auto"!==r||(r="right"===t.get("left")&&"vertical"===o?"right":"left");var h=t.get("selector",!0),u=t.get("selectorPosition",!0);!h||u&&"auto"!==u||(u="horizontal"===o?"end":"start"),this.renderInner(r,t,e,i,h,o,u);var c=t.getBoxLayoutParams(),d={width:i.getWidth(),height:i.getHeight()},f=t.get("padding"),p=l.getLayoutRect(c,d,f),m=this.layoutInner(t,r,p,a,h,u),v=l.getLayoutRect(n.defaults({width:m.width,height:m.height},c),d,f);this.group.attr("position",[v.x-m.x,v.y-m.y]),this.group.add(this._backgroundEl=s(m,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(t,e,i,a,r,o,s){var l=this.getContentGroup(),d=n.createHashMap(),f=e.get("selectedMode"),g=[];i.eachRawSeries(function(t){!t.get("legendHoverLink")&&g.push(t.id)}),u(e.getData(),function(n,r){var o=n.get("name");if(this.newlineDisabled||""!==o&&"\n"!==o){var s=i.getSeriesByName(o)[0];if(!d.get(o))if(s){var u=s.getData(),C=u.getVisual("color"),D=u.getVisual("borderColor");"function"==typeof C&&(C=C(s.getDataParams(0))),"function"==typeof D&&(D=D(s.getDataParams(0)));var y=u.getVisual("legendSymbol")||"roundRect",x=u.getVisual("symbol");this._createItem(o,r,n,e,y,x,t,C,D,f).on("click",h(p,o,a)).on("mouseover",h(m,s.name,null,a,g)).on("mouseout",h(v,s.name,null,a,g)),d.set(o,!0)}else i.eachRawSeries(function(i){if(!d.get(o)&&i.legendDataProvider){var s=i.legendDataProvider(),l=s.indexOfName(o);if(l<0)return;var u=s.getItemVisual(l,"color"),c=s.getItemVisual(l,"borderColor");this._createItem(o,r,n,e,"roundRect",null,t,u,c,f).on("click",h(p,o,a)).on("mouseover",h(m,null,o,a,g)).on("mouseout",h(v,null,o,a,g)),d.set(o,!0)}},this)}else l.add(new c({newline:!0}))},this),r&&this._createSelector(r,e,a,o,s)},_createSelector:function(t,e,i,a,n){var r=this.getSelectorGroup();u(t,function(t){!function(t){var a=t.type,n=new o.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===a?"legendAllSelect":"legendInverseSelect"})}});r.add(n);var s=e.getModel("selectorLabel"),l=e.getModel("emphasis.selectorLabel");o.setLabelStyle(n.style,n.hoverStyle={},s,l,{defaultText:t.title,isRectText:!1}),o.setHoverStyle(n)}(t)})},_createItem:function(t,e,i,a,s,l,h,u,d,p){var m=a.get("itemWidth"),v=a.get("itemHeight"),g=a.get("inactiveColor"),C=a.get("inactiveBorderColor"),D=a.get("symbolKeepAspect"),y=a.getModel("itemStyle"),x=a.isSelected(t),S=new c,I=i.getModel("textStyle"),T=i.get("icon"),b=i.getModel("tooltip"),w=b.parentModel,M=r(s=T||s,0,0,m,v,x?u:g,null==D||D);if(S.add(f(M,s,y,d,C,x)),!T&&l&&(l!==s||"none"===l)){var E=.8*v;"none"===l&&(l="circle");var A=r(l,(m-E)/2,(v-E)/2,E,E,x?u:g,null==D||D);S.add(f(A,l,y,d,C,x))}var _="left"===h?m+5:-5,L=h,F=a.get("formatter"),O=t;"string"==typeof F&&F?O=F.replace("{name}",null!=t?t:""):"function"==typeof F&&(O=F(t)),S.add(new o.Text({style:o.setTextStyle({},I,{text:O,x:_,y:v/2,textFill:x?I.getTextColor():g,textAlign:L,textVerticalAlign:"middle"})}));var P=new o.Rect({shape:S.getBoundingRect(),invisible:!0,tooltip:b.get("show")?n.extend({content:t,formatter:w.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:a.componentIndex,name:t,$vars:["name"]}},b.option):null});return S.add(P),S.eachChild(function(t){t.silent=!0}),P.silent=!p,this.getContentGroup().add(S),o.setHoverStyle(S),S.__legendDataIndex=e,S},layoutInner:function(t,e,i,a,n,r){var o=this.getContentGroup(),s=this.getSelectorGroup();l.box(t.get("orient"),o,t.get("itemGap"),i.width,i.height);var h=o.getBoundingRect(),u=[-h.x,-h.y];if(n){l.box("horizontal",s,t.get("selectorItemGap",!0));var c=s.getBoundingRect(),d=[-c.x,-c.y],f=t.get("selectorButtonGap",!0),p=t.getOrient().index,m=0===p?"width":"height",v=0===p?"height":"width",g=0===p?"y":"x";"end"===r?d[p]+=h[m]+f:u[p]+=c[m]+f,d[1-p]+=h[v]/2-c[v]/2,s.attr("position",d),o.attr("position",u);var C={x:0,y:0};return C[m]=h[m]+f+c[m],C[v]=Math.max(h[v],c[v]),C[g]=Math.min(0,c[g]+d[1-p]),C}return o.attr("position",u),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function f(t,e,i,a,n,r){var o;return"line"!==e&&e.indexOf("empty")<0?(o=i.getItemStyle(),t.style.stroke=a,r||(o.stroke=n)):o=i.getItemStyle(["borderWidth","borderColor"]),t.setStyle(o)}function p(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function m(t,e,i,a){var n=i.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:a})}function v(t,e,i,a){var n=i.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:a})}t.exports=d},"8UWf":function(t,e,i){var a=i("Icdr");i("LGKB"),i("CUwD"),i("PYc7");var n=i("AjK0"),r=i("iDGQ");a.registerVisual(n("tree","circle")),a.registerLayout(r)},"8V5i":function(t,e,i){var a=i("/gxq"),n=a.each,r=a.isArray,o=a.isObject,s=i("xb/I"),l=i("vXqC").normalizeToArray;function h(t){n(u,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var u=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],c=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];t.exports=function(t,e){s(t,e),t.series=l(t.series),n(t.series,function(t){if(o(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e)null!=t.clockWise&&(t.clockwise=t.clockWise);else if("gauge"===e){var i=function(t,e){e=e.split(",");for(var i=t,a=0;a<e.length&&null!=(i=i&&i[e[a]]);a++);return i}(t,"pointer.color");null!=i&&function(t,e,i,a){e=e.split(",");for(var n,r=t,o=0;o<e.length-1;o++)null==r[n=e[o]]&&(r[n]={}),r=r[n];(a||null==r[e[o]])&&(r[e[o]]=i)}(t,"itemStyle.color",i)}h(t)}}),t.dataRange&&(t.visualMap=t.dataRange),n(c,function(e){var i=t[e];i&&(r(i)||(i=[i]),n(i,function(t){h(t)}))})}},"8YpK":function(t,e,i){var a=i("/gxq");function n(t,e){var i=this.getAxis(),a=e instanceof Array?e[0]:e,n=(t instanceof Array?t[0]:t)/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(a-n)-i.dataToCoord(a+n))}t.exports=function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:a.bind(n,t)}}}},"8b51":function(t,e,i){var a,n,r,o,s=i("C7PF"),l=i("dOVI"),h=s.applyTransform,u=Math.min,c=Math.max;function d(t,e,i,a){i<0&&(t+=i,i=-i),a<0&&(e+=a,a=-a),this.x=t,this.y=e,this.width=i,this.height=a}d.prototype={constructor:d,union:function(t){var e=u(t.x,this.x),i=u(t.y,this.y);this.width=c(t.x+t.width,this.x+this.width)-e,this.height=c(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:(a=[],n=[],r=[],o=[],function(t){if(t){a[0]=r[0]=this.x,a[1]=o[1]=this.y,n[0]=o[0]=this.x+this.width,n[1]=r[1]=this.y+this.height,h(a,a,t),h(n,n,t),h(r,r,t),h(o,o,t),this.x=u(a[0],n[0],r[0],o[0]),this.y=u(a[1],n[1],r[1],o[1]);var e=c(a[0],n[0],r[0],o[0]),i=c(a[1],n[1],r[1],o[1]);this.width=e-this.x,this.height=i-this.y}}),calculateTransform:function(t){var e=this,i=t.width/e.width,a=t.height/e.height,n=l.create();return l.translate(n,n,[-e.x,-e.y]),l.scale(n,n,[i,a]),l.translate(n,n,[t.x,t.y]),n},intersect:function(t){if(!t)return!1;t instanceof d||(t=d.create(t));var e=this,i=e.x,a=e.x+e.width,n=e.y,r=e.y+e.height,o=t.x,s=t.x+t.width,l=t.y,h=t.y+t.height;return!(a<o||s<i||r<l||h<n)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new d(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},d.create=function(t){return new d(t.x,t.y,t.width,t.height)};var f=d;t.exports=f},"94VQ":function(t,e,i){"use strict";var a=i("Yobk"),n=i("X8DO"),r=i("e6n0"),o={};i("hJx8")(o,i("dSzd")("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=a(o,{next:n(1,i)}),r(t,e+" Iterator")}},"997V":function(t,e,i){i("jJrn"),i("xLO3"),i("lVde")},"9Bbf":function(t,e,i){"use strict";var a=i("kM2E");t.exports=function(t){a(a.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},"9C8M":function(t,e,i){"use strict";var a=i("evD5").f,n=i("Yobk"),r=i("xH/j"),o=i("+ZMJ"),s=i("2KxR"),l=i("NWt+"),h=i("vIB/"),u=i("EGZi"),c=i("bRrM"),d=i("+E39"),f=i("06OY").fastKey,p=i("LIJb"),m=d?"_s":"size",v=function(t,e){var i,a=f(e);if("F"!==a)return t._i[a];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,h){var u=t(function(t,a){s(t,u,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=a&&l(a,i,t[h],t)});return r(u.prototype,{clear:function(){for(var t=p(this,e),i=t._i,a=t._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete i[a.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var i=p(this,e),a=v(i,t);if(a){var n=a.n,r=a.p;delete i._i[a.i],a.r=!0,r&&(r.n=n),n&&(n.p=r),i._f==a&&(i._f=n),i._l==a&&(i._l=r),i[m]--}return!!a},forEach:function(t){p(this,e);for(var i,a=o(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(a(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!v(p(this,e),t)}}),d&&a(u.prototype,"size",{get:function(){return p(this,e)[m]}}),u},def:function(t,e,i){var a,n,r=v(t,e);return r?r.v=i:(t._l=r={i:n=f(e,!0),k:e,v:i,p:a=t._l,n:void 0,r:!1},t._f||(t._f=r),a&&(a.n=r),t[m]++,"F"!==n&&(t._i[n]=r)),t},getEntry:v,setStrong:function(t,e,i){h(t,e,function(t,i){this._t=p(t,e),this._k=i,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))},i?"entries":"values",!i,!0),c(e)}}},"9N6q":function(t,e,i){var a=i("/gxq"),n=i("YNzw"),r=i("AlhT"),o=i("HKuw");function s(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var l=function(){this._roots=[],this._displayList=[],this._displayListLen=0};l.prototype={constructor:l,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,a=0,r=e.length;a<r;a++)this._updateAndAddDisplayable(e[a],null,t);i.length=this._displayListLen,n.canvasSupported&&o(i,s)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var a=t.clipPath;if(a){e=e?e.slice():[];for(var n=a,r=t;n;)n.parent=r,n.updateTransform(),e.push(n),r=n,n=n.clipPath}if(t.isGroup){for(var o=t._children,s=0;s<o.length;s++){var l=o[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof r&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof r&&i.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var n=t.length;e<n;e++)this.delRoot(t[e])}else{var o=a.indexOf(this._roots,t);o>=0&&(this.delFromStorage(t),this._roots.splice(o,1),t instanceof r&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:s};var h=l;t.exports=h},"9Owa":function(t,e,i){var a=i("/gxq").each,n="\0_ec_hist_store";function r(t){var e=t[n];return e||(e=t[n]=[{}]),e}e.push=function(t,e){var i=r(t);a(e,function(e,a){for(var n=i.length-1;n>=0&&!i[n][a];n--);if(n<0){var r=t.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(r){var o=r.getPercentRange();i[0][a]={dataZoomId:a,start:o[0],end:o[1]}}}}),i.push(e)},e.pop=function(t){var e=r(t),i=e[e.length-1];e.length>1&&e.pop();var n={};return a(i,function(t,i){for(var a=e.length-1;a>=0;a--)if(t=e[a][i]){n[i]=t;break}}),n},e.clear=function(t){t[n]=null},e.count=function(t){return r(t).length}},"9Z3y":function(t,e,i){var a=i("wWR3"),n=a.parsePercent,r=a.linearMap,o=i("XhgW"),s=i("/gxq"),l=2*Math.PI,h=Math.PI/180;t.exports=function(t,e,i,a){e.eachSeriesByType(t,function(t){var e=t.getData(),a=e.mapDimension("value"),u=t.get("center"),c=t.get("radius");s.isArray(c)||(c=[0,c]),s.isArray(u)||(u=[u,u]);var d=i.getWidth(),f=i.getHeight(),p=Math.min(d,f),m=n(u[0],d),v=n(u[1],f),g=n(c[0],p/2),C=n(c[1],p/2),D=-t.get("startAngle")*h,y=t.get("minAngle")*h,x=0;e.each(a,function(t){!isNaN(t)&&x++});var S=e.getSum(a),I=Math.PI/(S||x)*2,T=t.get("clockwise"),b=t.get("roseType"),w=t.get("stillShowZeroSum"),M=e.getDataExtent(a);M[0]=0;var E=l,A=0,_=D,L=T?1:-1;if(e.each(a,function(t,i){var a;if(isNaN(t))e.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:T,cx:m,cy:v,r0:g,r:b?NaN:C});else{(a="area"!==b?0===S&&w?I:t*I:l/x)<y?(a=y,E-=y):A+=t;var n=_+L*a;e.setItemLayout(i,{angle:a,startAngle:_,endAngle:n,clockwise:T,cx:m,cy:v,r0:g,r:b?r(t,M,[g,C]):C}),_=n}}),E<l&&x)if(E<=.001){var F=l/x;e.each(a,function(t,i){if(!isNaN(t)){var a=e.getItemLayout(i);a.angle=F,a.startAngle=D+L*i*F,a.endAngle=D+L*(i+1)*F}})}else I=E/A,_=D,e.each(a,function(t,i){if(!isNaN(t)){var a=e.getItemLayout(i),n=a.angle===y?y:t*I;a.startAngle=_,a.endAngle=_+L*n,_+=L*n}});o(t,C,d,f)})}},"9b8q":function(t,e){var i={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};t.exports=function(t,e,a){return i.hasOwnProperty(e)?a*t.dpr:a}},"9bBU":function(t,e,i){i("mClu");var a=i("FeBl").Object;t.exports=function(t,e,i){return a.defineProperty(t,e,i)}},"9cSo":function(t,e,i){var a=i("Icdr");i("a1DW"),i("1VkX");var n=i("g8A/"),r=i("fAbo"),o=i("vxwL");a.registerPreprocessor(n),a.registerVisual(r),a.registerLayout(o)},"9ff9":function(t,e,i){var a=i("nwDn");e.render=function(t,e,i){var n=i,r=e;void 0!==n||e&&e.getContext||(n=e,e=void 0),e||(r=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),n=a.getOptions(n);var o=a.getImageWidth(t.modules.size,n),s=r.getContext("2d"),l=s.createImageData(o,o);return a.qrToImageData(l.data,t,n),function(t,e,i){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=i,e.width=i,e.style.height=i+"px",e.style.width=i+"px"}(s,r,o),s.putImageData(l,0,0),r},e.renderToDataURL=function(t,i,a){var n=a;void 0!==n||i&&i.getContext||(n=i,i=void 0),n||(n={});var r=e.render(t,i,n),o=n.type||"image/png",s=n.rendererOpts||{};return r.toDataURL(o,s.quality)}},"9jEu":function(t,e,i){var a=i("oLzS").getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,i=a(t),n=145===i?26:2*Math.ceil((i-13)/(2*e-2)),r=[i-7],o=1;o<e-1;o++)r[o]=r[o-1]-n;return r.push(6),r.reverse()},e.getPositions=function(t){for(var i=[],a=e.getRowColCoords(t),n=a.length,r=0;r<n;r++)for(var o=0;o<n;o++)0===r&&0===o||0===r&&o===n-1||r===n-1&&0===o||i.push([a[r],a[o]]);return i}},"9qnA":function(t,e,i){var a=i("/gxq"),n=i("d8Tt"),r=i("avYi"),o=i("taS8");function s(t){for(var e in t=t||{},r.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new n(t.style,this),this._rect=null,this.__clipPaths=null}s.prototype={constructor:s,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?r.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new n(t,this),this.dirty(!1),this},calculateTextPosition:null},a.inherits(s,r),a.mixin(s,o);var l=s;t.exports=l},A6Kt:function(t,e,i){var a=i("Icdr"),n=i("/gxq");i("qBny"),i("DnWC"),i("C6b9");var r=i("ri8f"),o=i("4SGL"),s=i("l4Op");a.registerVisual(n.curry(r,"sunburst")),a.registerLayout(n.curry(o,"sunburst")),a.registerProcessor(n.curry(s,"sunburst"))},AAi1:function(t,e,i){var a=i("C7PF"),n=a.create,r=a.distSquare,o=Math.pow,s=Math.sqrt,l=1e-8,h=1e-4,u=s(3),c=1/3,d=n(),f=n(),p=n();function m(t){return t>-l&&t<l}function v(t){return t>l||t<-l}function g(t,e,i,a,n){var r=1-n;return r*r*(r*t+3*n*e)+n*n*(n*a+3*r*i)}function C(t,e,i,a){var n=1-a;return n*(n*t+2*a*e)+a*a*i}e.cubicAt=g,e.cubicDerivativeAt=function(t,e,i,a,n){var r=1-n;return 3*(((e-t)*r+2*(i-e)*n)*r+(a-i)*n*n)},e.cubicRootAt=function(t,e,i,a,n,r){var l=a+3*(e-i)-t,h=3*(i-2*e+t),d=3*(e-t),f=t-n,p=h*h-3*l*d,v=h*d-9*l*f,g=d*d-3*h*f,C=0;if(m(p)&&m(v))m(h)?r[0]=0:(A=-d/h)>=0&&A<=1&&(r[C++]=A);else{var D=v*v-4*p*g;if(m(D)){var y=v/p,x=-y/2;(A=-h/l+y)>=0&&A<=1&&(r[C++]=A),x>=0&&x<=1&&(r[C++]=x)}else if(D>0){var S=s(D),I=p*h+1.5*l*(-v+S),T=p*h+1.5*l*(-v-S);(A=(-h-((I=I<0?-o(-I,c):o(I,c))+(T=T<0?-o(-T,c):o(T,c))))/(3*l))>=0&&A<=1&&(r[C++]=A)}else{var b=(2*p*h-3*l*v)/(2*s(p*p*p)),w=Math.acos(b)/3,M=s(p),E=Math.cos(w),A=(-h-2*M*E)/(3*l),_=(x=(-h+M*(E+u*Math.sin(w)))/(3*l),(-h+M*(E-u*Math.sin(w)))/(3*l));A>=0&&A<=1&&(r[C++]=A),x>=0&&x<=1&&(r[C++]=x),_>=0&&_<=1&&(r[C++]=_)}}return C},e.cubicExtrema=function(t,e,i,a,n){var r=6*i-12*e+6*t,o=9*e+3*a-3*t-9*i,l=3*e-3*t,h=0;if(m(o))v(r)&&(c=-l/r)>=0&&c<=1&&(n[h++]=c);else{var u=r*r-4*o*l;if(m(u))n[0]=-r/(2*o);else if(u>0){var c,d=s(u),f=(-r-d)/(2*o);(c=(-r+d)/(2*o))>=0&&c<=1&&(n[h++]=c),f>=0&&f<=1&&(n[h++]=f)}}return h},e.cubicSubdivide=function(t,e,i,a,n,r){var o=(e-t)*n+t,s=(i-e)*n+e,l=(a-i)*n+i,h=(s-o)*n+o,u=(l-s)*n+s,c=(u-h)*n+h;r[0]=t,r[1]=o,r[2]=h,r[3]=c,r[4]=c,r[5]=u,r[6]=l,r[7]=a},e.cubicProjectPoint=function(t,e,i,a,n,o,l,u,c,m,v){var C,D,y,x,S,I=.005,T=1/0;d[0]=c,d[1]=m;for(var b=0;b<1;b+=.05)f[0]=g(t,i,n,l,b),f[1]=g(e,a,o,u,b),(x=r(d,f))<T&&(C=b,T=x);T=1/0;for(var w=0;w<32&&!(I<h);w++)D=C-I,y=C+I,f[0]=g(t,i,n,l,D),f[1]=g(e,a,o,u,D),x=r(f,d),D>=0&&x<T?(C=D,T=x):(p[0]=g(t,i,n,l,y),p[1]=g(e,a,o,u,y),S=r(p,d),y<=1&&S<T?(C=y,T=S):I*=.5);return v&&(v[0]=g(t,i,n,l,C),v[1]=g(e,a,o,u,C)),s(T)},e.quadraticAt=C,e.quadraticDerivativeAt=function(t,e,i,a){return 2*((1-a)*(e-t)+a*(i-e))},e.quadraticRootAt=function(t,e,i,a,n){var r=t-2*e+i,o=2*(e-t),l=t-a,h=0;if(m(r))v(o)&&(c=-l/o)>=0&&c<=1&&(n[h++]=c);else{var u=o*o-4*r*l;if(m(u))(c=-o/(2*r))>=0&&c<=1&&(n[h++]=c);else if(u>0){var c,d=s(u),f=(-o-d)/(2*r);(c=(-o+d)/(2*r))>=0&&c<=1&&(n[h++]=c),f>=0&&f<=1&&(n[h++]=f)}}return h},e.quadraticExtremum=function(t,e,i){var a=t+i-2*e;return 0===a?.5:(t-e)/a},e.quadraticSubdivide=function(t,e,i,a,n){var r=(e-t)*a+t,o=(i-e)*a+e,s=(o-r)*a+r;n[0]=t,n[1]=r,n[2]=s,n[3]=s,n[4]=o,n[5]=i},e.quadraticProjectPoint=function(t,e,i,a,n,o,l,u,c){var m,v=.005,g=1/0;d[0]=l,d[1]=u;for(var D=0;D<1;D+=.05)f[0]=C(t,i,n,D),f[1]=C(e,a,o,D),(I=r(d,f))<g&&(m=D,g=I);g=1/0;for(var y=0;y<32&&!(v<h);y++){var x=m-v,S=m+v;f[0]=C(t,i,n,x),f[1]=C(e,a,o,x);var I=r(f,d);if(x>=0&&I<g)m=x,g=I;else{p[0]=C(t,i,n,S),p[1]=C(e,a,o,S);var T=r(p,d);S<=1&&T<g?(m=S,g=T):v*=.5}}return c&&(c[0]=C(t,i,n,m),c[1]=C(e,a,o,m)),s(g)}},ABnm:function(t,e){var i=2*Math.PI;e.normalizeRadian=function(t){return(t%=i)<0&&(t+=i),t}},AKXb:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("QCrJ"),o=i("dtW/");i("TCXJ"),i("56C7"),i("D7EH"),a.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!n.isArray(e)&&(t.axisPointer.link=[e])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=r.collect(t,e)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},o)},ALrJ:function(t,e,i){var a=i("+ZMJ"),n=i("MU5D"),r=i("sB3e"),o=i("QRG4"),s=i("oeOm");t.exports=function(t,e){var i=1==t,l=2==t,h=3==t,u=4==t,c=6==t,d=5==t||c,f=e||s;return function(e,s,p){for(var m,v,g=r(e),C=n(g),D=a(s,p,3),y=o(C.length),x=0,S=i?f(e,y):l?f(e,0):void 0;y>x;x++)if((d||x in C)&&(v=D(m=C[x],x,g),t))if(i)S[x]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:S.push(m)}else if(u)return!1;return c?-1:h||u?u:S}}},AMCD:function(t,e,i){"use strict";e.__esModule=!0,e.validateRangeInOneMonth=e.extractTimeFormat=e.extractDateFormat=e.nextYear=e.prevYear=e.nextMonth=e.prevMonth=e.changeYearMonthAndClampDate=e.timeWithinRange=e.limitTimeRange=e.clearMilliseconds=e.clearTime=e.modifyWithTimeString=e.modifyTime=e.modifyDate=e.range=e.getRangeMinutes=e.getMonthDays=e.getPrevMonthLastDays=e.getRangeHours=e.getWeekNumber=e.getStartDateOfMonth=e.nextDate=e.prevDate=e.getFirstDayOfMonth=e.getDayCountOfYear=e.getDayCountOfMonth=e.parseDate=e.formatDate=e.isDateObject=e.isDate=e.toDate=e.getI18nSettings=void 0;var a,n=i("eNfa"),r=(a=n)&&a.__esModule?a:{default:a},o=i("urW8");var s=["sun","mon","tue","wed","thu","fri","sat"],l=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],h=e.getI18nSettings=function(){return{dayNamesShort:s.map(function(t){return(0,o.t)("el.datepicker.weeks."+t)}),dayNames:s.map(function(t){return(0,o.t)("el.datepicker.weeks."+t)}),monthNamesShort:l.map(function(t){return(0,o.t)("el.datepicker.months."+t)}),monthNames:l.map(function(t,e){return(0,o.t)("el.datepicker.month"+(e+1))}),amPm:["am","pm"]}},u=e.toDate=function(t){return c(t)?new Date(t):null},c=e.isDate=function(t){return null!==t&&void 0!==t&&(!isNaN(new Date(t).getTime())&&!Array.isArray(t))},d=(e.isDateObject=function(t){return t instanceof Date},e.formatDate=function(t,e){return(t=u(t))?r.default.format(t,e||"yyyy-MM-dd",h()):""},e.parseDate=function(t,e){return r.default.parse(t,e||"yyyy-MM-dd",h())}),f=e.getDayCountOfMonth=function(t,e){return 3===e||5===e||8===e||10===e?30:1===e?t%4==0&&t%100!=0||t%400==0?29:28:31},p=(e.getDayCountOfYear=function(t){return t%400==0||t%100!=0&&t%4==0?366:365},e.getFirstDayOfMonth=function(t){var e=new Date(t.getTime());return e.setDate(1),e.getDay()},e.prevDate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Date(t.getFullYear(),t.getMonth(),t.getDate()-e)});e.nextDate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},e.getStartDateOfMonth=function(t,e){var i=new Date(t,e,1),a=i.getDay();return p(i,0===a?7:a)},e.getWeekNumber=function(t){if(!c(t))return null;var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var i=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-i.getTime())/864e5-3+(i.getDay()+6)%7)/7)},e.getRangeHours=function(t){var e=[],i=[];if((t||[]).forEach(function(t){var e=t.map(function(t){return t.getHours()});i=i.concat(function(t,e){for(var i=[],a=t;a<=e;a++)i.push(a);return i}(e[0],e[1]))}),i.length)for(var a=0;a<24;a++)e[a]=-1===i.indexOf(a);else for(var n=0;n<24;n++)e[n]=!1;return e},e.getPrevMonthLastDays=function(t,e){if(e<=0)return[];var i=new Date(t.getTime());i.setDate(0);var a=i.getDate();return v(e).map(function(t,i){return a-(e-i-1)})},e.getMonthDays=function(t){var e=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();return v(e).map(function(t,e){return e+1})};function m(t,e,i,a){for(var n=e;n<i;n++)t[n]=a}e.getRangeMinutes=function(t,e){var i=new Array(60);return t.length>0?t.forEach(function(t){var a=t[0],n=t[1],r=a.getHours(),o=a.getMinutes(),s=n.getHours(),l=n.getMinutes();r===e&&s!==e?m(i,o,60,!0):r===e&&s===e?m(i,o,l+1,!0):r!==e&&s===e?m(i,0,l+1,!0):r<e&&s>e&&m(i,0,60,!0)}):m(i,0,60,!0),i};var v=e.range=function(t){return Array.apply(null,{length:t}).map(function(t,e){return e})},g=e.modifyDate=function(t,e,i,a){return new Date(e,i,a,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},C=e.modifyTime=function(t,e,i,a){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e,i,a,t.getMilliseconds())},D=(e.modifyWithTimeString=function(t,e){return null!=t&&e?(e=d(e,"HH:mm:ss"),C(t,e.getHours(),e.getMinutes(),e.getSeconds())):t},e.clearTime=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.clearMilliseconds=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),0)},e.limitTimeRange=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HH:mm:ss";if(0===e.length)return t;var a=function(t){return r.default.parse(r.default.format(t,i),i)},n=a(t),o=e.map(function(t){return t.map(a)});if(o.some(function(t){return n>=t[0]&&n<=t[1]}))return t;var s=o[0][0],l=o[0][0];return o.forEach(function(t){s=new Date(Math.min(t[0],s)),l=new Date(Math.max(t[1],s))}),g(n<s?s:l,t.getFullYear(),t.getMonth(),t.getDate())}),y=(e.timeWithinRange=function(t,e,i){return D(t,e,i).getTime()===t.getTime()},e.changeYearMonthAndClampDate=function(t,e,i){var a=Math.min(t.getDate(),f(e,i));return g(t,e,i,a)});e.prevMonth=function(t){var e=t.getFullYear(),i=t.getMonth();return 0===i?y(t,e-1,11):y(t,e,i-1)},e.nextMonth=function(t){var e=t.getFullYear(),i=t.getMonth();return 11===i?y(t,e+1,0):y(t,e,i+1)},e.prevYear=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=t.getFullYear(),a=t.getMonth();return y(t,i-e,a)},e.nextYear=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=t.getFullYear(),a=t.getMonth();return y(t,i+e,a)},e.extractDateFormat=function(t){return t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim()},e.extractTimeFormat=function(t){return t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?y{2,4}/g,"").trim()},e.validateRangeInOneMonth=function(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}},ARaV:function(t,e,i){var a=i("/gxq"),n=i("Rfu2"),r=i("wWR3"),o=i("vx1D"),s=i("6n1D"),l=i("SZjP"),h=i("qVJQ").getStackedDimension,u=function(t,e,i,n){var r=t.getData(),s=n.type;if(!a.isArray(n)&&("min"===s||"max"===s||"average"===s||"median"===s||null!=n.xAxis||null!=n.yAxis)){var l,u;if(null!=n.yAxis||null!=n.xAxis)l=e.getAxis(null!=n.yAxis?"y":"x"),u=a.retrieve(n.yAxis,n.xAxis);else{var c=o.getAxisInfo(n,r,e,t);l=c.valueAxis;var d=h(r,c.valueDataDim);u=o.numCalculate(r,d,s)}var f="x"===l.dim?0:1,p=1-f,m=a.clone(n),v={};m.type=null,m.coord=[],v.coord=[],m.coord[p]=-1/0,v.coord[p]=1/0;var g=i.get("precision");g>=0&&"number"==typeof u&&(u=+u.toFixed(Math.min(g,20))),m.coord[f]=v.coord[f]=u,n=[m,v,{type:s,valueIndex:n.valueIndex,value:u}]}return(n=[o.dataTransform(t,n[0]),o.dataTransform(t,n[1]),a.extend({},n[2])])[2].type=n[2].type||"",a.merge(n[2],n[0]),a.merge(n[2],n[1]),n};function c(t){return!isNaN(t)&&!isFinite(t)}function d(t,e,i,a){var n=1-t,r=a.dimensions[t];return c(e[n])&&c(i[n])&&e[t]===i[t]&&a.getAxis(r).containData(e[t])}function f(t,e){if("cartesian2d"===t.type){var i=e[0].coord,a=e[1].coord;if(i&&a&&(d(1,i,a,t)||d(0,i,a,t)))return!0}return o.dataFilter(t,e[0])&&o.dataFilter(t,e[1])}function p(t,e,i,a,n){var o,s=a.coordinateSystem,l=t.getItemModel(e),h=r.parsePercent(l.get("x"),n.getWidth()),u=r.parsePercent(l.get("y"),n.getHeight());if(isNaN(h)||isNaN(u)){if(a.getMarkerPosition)o=a.getMarkerPosition(t.getValues(t.dimensions,e));else{var d=s.dimensions,f=t.get(d[0],e),p=t.get(d[1],e);o=s.dataToPoint([f,p])}if("cartesian2d"===s.type){var m=s.getAxis("x"),v=s.getAxis("y");d=s.dimensions;c(t.get(d[0],e))?o[0]=m.toGlobalCoord(m.getExtent()[i?0:1]):c(t.get(d[1],e))&&(o[1]=v.toGlobalCoord(v.getExtent()[i?0:1]))}isNaN(h)||(o[0]=h),isNaN(u)||(o[1]=u)}else o=[h,u];t.setItemLayout(e,o)}var m=l.extend({type:"markLine",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markLineModel;if(e){var a=e.getData(),n=e.__from,r=e.__to;n.each(function(e){p(n,e,!0,t,i),p(r,e,!1,t,i)}),a.each(function(t){a.setItemLayout(t,[n.getItemLayout(t),r.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},renderSeries:function(t,e,i,r){var l=t.coordinateSystem,h=t.id,c=t.getData(),d=this.markerGroupMap,m=d.get(h)||d.set(h,new s);this.group.add(m.group);var v=function(t,e,i){var r;r=t?a.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return a.defaults({name:t},i)}):[{name:"value",type:"float"}];var s=new n(r,i),l=new n(r,i),h=new n([],i),c=a.map(i.get("data"),a.curry(u,e,t,i));t&&(c=a.filter(c,a.curry(f,t)));var d=t?o.dimValueGetter:function(t){return t.value};return s.initData(a.map(c,function(t){return t[0]}),null,d),l.initData(a.map(c,function(t){return t[1]}),null,d),h.initData(a.map(c,function(t){return t[2]})),h.hasItemOption=!0,{from:s,to:l,line:h}}(l,t,e),g=v.from,C=v.to,D=v.line;e.__from=g,e.__to=C,e.setData(D);var y=e.get("symbol"),x=e.get("symbolSize");function S(e,i,a){var n=e.getItemModel(i);p(e,i,a,t,r),e.setItemVisual(i,{symbolSize:n.get("symbolSize")||x[a?0:1],symbol:n.get("symbol",!0)||y[a?0:1],color:n.get("itemStyle.color")||c.getVisual("color")})}a.isArray(y)||(y=[y,y]),"number"==typeof x&&(x=[x,x]),v.from.each(function(t){S(g,t,!0),S(C,t,!1)}),D.each(function(t){var e=D.getItemModel(t).get("lineStyle.color");D.setItemVisual(t,{color:e||g.getItemVisual(t,"color")}),D.setItemLayout(t,[g.getItemLayout(t),C.getItemLayout(t)]),D.setItemVisual(t,{fromSymbolSize:g.getItemVisual(t,"symbolSize"),fromSymbol:g.getItemVisual(t,"symbol"),toSymbolSize:C.getItemVisual(t,"symbolSize"),toSymbol:C.getItemVisual(t,"symbol")})}),m.updateData(D),v.line.eachItemGraphicEl(function(t,i){t.traverse(function(t){t.dataModel=e})}),m.__keep=!0,m.group.silent=e.get("silent")||t.get("silent")}});t.exports=m},AXdl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});
/*!
 * Vue-Lazyload.js v1.3.3
 * (c) 2019 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */
var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),o=function(t){return null==t||"function"!=typeof t&&"object"!==(void 0===t?"undefined":a(t))},s=function(t,e){if(null===t||void 0===t)throw new TypeError("expected first argument to be an object.");if(void 0===e||"undefined"==typeof Symbol)return t;if("function"!=typeof Object.getOwnPropertySymbols)return t;for(var i=Object.prototype.propertyIsEnumerable,a=Object(t),n=arguments.length,r=0;++r<n;)for(var o=Object(arguments[r]),s=Object.getOwnPropertySymbols(o),l=0;l<s.length;l++){var h=s[l];i.call(o,h)&&(a[h]=o[h])}return a},l=Object.prototype.toString,h=function(t){var e=void 0===t?"undefined":a(t);return"undefined"===e?"undefined":null===t?"null":!0===t||!1===t||t instanceof Boolean?"boolean":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?void 0!==t.constructor.name&&"Generator"===t.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(t)?"array":t instanceof RegExp?"regexp":t instanceof Date?"date":"[object RegExp]"===(e=l.call(t))?"regexp":"[object Date]"===e?"date":"[object Arguments]"===e?"arguments":"[object Error]"===e?"error":"[object Promise]"===e?"promise":function(t){return t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}(t)?"buffer":"[object Set]"===e?"set":"[object WeakSet]"===e?"weakset":"[object Map]"===e?"map":"[object WeakMap]"===e?"weakmap":"[object Symbol]"===e?"symbol":"[object Map Iterator]"===e?"mapiterator":"[object Set Iterator]"===e?"setiterator":"[object String Iterator]"===e?"stringiterator":"[object Array Iterator]"===e?"arrayiterator":"[object Int8Array]"===e?"int8array":"[object Uint8Array]"===e?"uint8array":"[object Uint8ClampedArray]"===e?"uint8clampedarray":"[object Int16Array]"===e?"int16array":"[object Uint16Array]"===e?"uint16array":"[object Int32Array]"===e?"int32array":"[object Uint32Array]"===e?"uint32array":"[object Float32Array]"===e?"float32array":"[object Float64Array]"===e?"float64array":"object"};function u(t){t=t||{};var e=arguments.length,i=0;if(1===e)return t;for(;++i<e;){var a=arguments[i];o(t)&&(t=a),d(a)&&c(t,a)}return t}function c(t,e){for(var i in s(t,e),e)if("__proto__"!==i&&f(e,i)){var a=e[i];d(a)?("undefined"===h(t[i])&&"function"===h(a)&&(t[i]=a),t[i]=u(t[i]||{},a)):t[i]=a}return t}function d(t){return"object"===h(t)||"function"===h(t)}function f(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var p=u,m="undefined"!=typeof window,v=function(){if(m&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0;return!1}();var g={event:"event",observer:"observer"},C=function(){if(m)return"function"==typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t);function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}}();function D(t,e){if(t.length){var i=t.indexOf(e);return i>-1?t.splice(i,1):void 0}}function y(t,e){if("IMG"===t.tagName&&t.getAttribute("data-srcset")){var i=t.getAttribute("data-srcset"),a=[],n=t.parentNode.offsetWidth*e,r=void 0,o=void 0,s=void 0;(i=i.trim().split(",")).map(function(t){t=t.trim(),-1===(r=t.lastIndexOf(" "))?(o=t,s=999998):(o=t.substr(0,r),s=parseInt(t.substr(r+1,t.length-r-2),10)),a.push([s,o])}),a.sort(function(t,e){if(t[0]<e[0])return 1;if(t[0]>e[0])return-1;if(t[0]===e[0]){if(-1!==e[1].indexOf(".webp",e[1].length-5))return 1;if(-1!==t[1].indexOf(".webp",t[1].length-5))return-1}return 0});for(var l="",h=void 0,u=0;u<a.length;u++){l=(h=a[u])[1];var c=a[u+1];if(c&&c[0]<n){l=h[1];break}if(!c){l=h[1];break}}return l}}function x(t,e){for(var i=void 0,a=0,n=t.length;a<n;a++)if(e(t[a])){i=t[a];break}return i}var S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return m&&window.devicePixelRatio||t};var I=function(){if(m){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}}(),T={on:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];I?t.addEventListener(e,i,{capture:a,passive:!0}):t.addEventListener(e,i,a)},off:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,i,a)}},b=function(t,e,i){var a=new Image;if(!t||!t.src){var n=new Error("image src is required");return i(n)}a.src=t.src,a.onload=function(){e({naturalHeight:a.naturalHeight,naturalWidth:a.naturalWidth,src:a.src})},a.onerror=function(t){i(t)}},w=function(t,e){return"undefined"!=typeof getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.style[e]},M=function(t){return w(t,"overflow")+w(t,"overflow-y")+w(t,"overflow-x")};function E(){}var A=function(){function t(e){var i=e.max;n(this,t),this.options={max:i||100},this._caches=[]}return r(t,[{key:"has",value:function(t){return this._caches.indexOf(t)>-1}},{key:"add",value:function(t){this.has(t)||(this._caches.push(t),this._caches.length>this.options.max&&this.free())}},{key:"free",value:function(){this._caches.shift()}}]),t}(),_=function(){function t(e){var i=e.el,a=e.src,r=e.error,o=e.loading,s=e.bindType,l=e.$parent,h=e.options,u=e.elRenderer,c=e.imageCache;n(this,t),this.el=i,this.src=a,this.error=r,this.loading=o,this.bindType=s,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=h,this.rect=null,this.$parent=l,this.elRenderer=u,this._imageCache=c,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return r(t,[{key:"initState",value:function(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(t){this.performanceData[t]=Date.now()}},{key:"update",value:function(t){var e=t.src,i=t.loading,a=t.error,n=this.src;this.src=e,this.loading=i,this.error=a,this.filter(),n!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}},{key:"filter",value:function(){var t=this;(function(t){if(!(t instanceof Object))return[];if(Object.keys)return Object.keys(t);var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e})(this.options.filter).map(function(e){t.options.filter[e](t,t.options)})}},{key:"renderLoading",value:function(t){var e=this;this.state.loading=!0,b({src:this.loading},function(i){e.render("loading",!1),e.state.loading=!1,t()},function(){t(),e.state.loading=!1,e.options.silent||console.warn("VueLazyload log: load failed with loading image("+e.loading+")")})}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent||console.log("VueLazyload log: "+this.src+" tried too more than "+this.options.attempt+" times"),void e()):this.state.rendered&&this.state.loaded?void 0:this._imageCache.has(this.src)?(this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,e()):void this.renderLoading(function(){t.attempt++,t.options.adapter.beforeLoad&&t.options.adapter.beforeLoad(t,t.options),t.record("loadStart"),b({src:t.src},function(i){t.naturalHeight=i.naturalHeight,t.naturalWidth=i.naturalWidth,t.state.loaded=!0,t.state.error=!1,t.record("loadEnd"),t.render("loaded",!1),t.state.rendered=!0,t._imageCache.add(t.src),e()},function(e){!t.options.silent&&console.error(e),t.state.error=!0,t.state.loaded=!1,t.render("error",!1)})})}},{key:"render",value:function(t,e){this.elRenderer(this,t,e)}},{key:"performance",value:function(){var t="loading",e=0;return this.state.loaded&&(t="loaded",e=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:e}}},{key:"$destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),t}(),L="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",F=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],O={rootMargin:"0px",threshold:0},P=function(t){return function(){function e(t){var i,a,r,o,s=t.preLoad,l=t.error,h=t.throttleWait,u=t.preLoadTop,c=t.dispatchEvent,d=t.loading,f=t.attempt,p=t.silent,v=void 0===p||p,C=t.scale,D=t.listenEvents,y=(t.hasbind,t.filter),x=t.adapter,I=t.observer,T=t.observerOptions;n(this,e),this.version="1.3.3",this.mode=g.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:v,dispatchEvent:!!c,throttleWait:h||200,preLoad:s||1.3,preLoadTop:u||0,error:l||L,loading:d||L,attempt:f||3,scale:C||S(C),ListenEvents:D||F,hasbind:!1,supportWebp:function(){if(!m)return!1;var t=!0,e=document;try{var i=e.createElement("object");i.type="image/webp",i.style.visibility="hidden",i.innerHTML="!",e.body.appendChild(i),t=!i.offsetWidth,e.body.removeChild(i)}catch(e){t=!1}return t}(),filter:y||{},adapter:x||{},observer:!!I,observerOptions:T||O},this._initEvent(),this._imageCache=new A({max:200}),this.lazyLoadHandler=(i=this._lazyLoadHandler.bind(this),a=this.options.throttleWait,r=null,o=0,function(){if(!r){var t=this,e=arguments,n=function(){o=Date.now(),r=!1,i.apply(t,e)};Date.now()-o>=a?n():r=setTimeout(n,a)}}),this.setMode(this.options.observer?g.observer:g.event)}return r(e,[{key:"config",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this.options,t)}},{key:"performance",value:function(){var t=[];return this.ListenerQueue.map(function(e){t.push(e.performance())}),t}},{key:"addLazyBox",value:function(t){this.ListenerQueue.push(t),m&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}},{key:"add",value:function(e,i,a){var n=this;if(function(t,e){for(var i=!1,a=0,n=t.length;a<n;a++)if(e(t[a])){i=!0;break}return i}(this.ListenerQueue,function(t){return t.el===e}))return this.update(e,i),t.nextTick(this.lazyLoadHandler);var r=this._valueFormatter(i.value),o=r.src,s=r.loading,l=r.error;t.nextTick(function(){o=y(e,n.options.scale)||o,n._observer&&n._observer.observe(e);var r=Object.keys(i.modifiers)[0],h=void 0;r&&(h=(h=a.context.$refs[r])?h.$el||h:document.getElementById(r)),h||(h=function(t){if(m){if(!(t instanceof HTMLElement))return window;for(var e=t;e&&e!==document.body&&e!==document.documentElement&&e.parentNode;){if(/(scroll|auto)/.test(M(e)))return e;e=e.parentNode}return window}}(e));var u=new _({bindType:i.arg,$parent:h,el:e,loading:s,error:l,src:o,elRenderer:n._elRenderer.bind(n),options:n.options,imageCache:n._imageCache});n.ListenerQueue.push(u),m&&(n._addListenerTarget(window),n._addListenerTarget(h)),n.lazyLoadHandler(),t.nextTick(function(){return n.lazyLoadHandler()})})}},{key:"update",value:function(e,i,a){var n=this,r=this._valueFormatter(i.value),o=r.src,s=r.loading,l=r.error;o=y(e,this.options.scale)||o;var h=x(this.ListenerQueue,function(t){return t.el===e});h?h.update({src:o,loading:s,error:l}):this.add(e,i,a),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),this.lazyLoadHandler(),t.nextTick(function(){return n.lazyLoadHandler()})}},{key:"remove",value:function(t){if(t){this._observer&&this._observer.unobserve(t);var e=x(this.ListenerQueue,function(e){return e.el===t});e&&(this._removeListenerTarget(e.$parent),this._removeListenerTarget(window),D(this.ListenerQueue,e),e.$destroy())}}},{key:"removeComponent",value:function(t){t&&(D(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(t){var e=this;v||t!==g.observer||(t=g.event),this.mode=t,t===g.event?(this._observer&&(this.ListenerQueue.forEach(function(t){e._observer.unobserve(t.el)}),this._observer=null),this.TargetQueue.forEach(function(t){e._initListen(t.el,!0)})):(this.TargetQueue.forEach(function(t){e._initListen(t.el,!1)}),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(t){if(t){var e=x(this.TargetQueue,function(e){return e.el===t});return e?e.childrenCount++:(e={el:t,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===g.event&&this._initListen(e.el,!0),this.TargetQueue.push(e)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(t){var e=this;this.TargetQueue.forEach(function(i,a){i.el===t&&(i.childrenCount--,i.childrenCount||(e._initListen(i.el,!1),e.TargetQueue.splice(a,1),i=null))})}},{key:"_initListen",value:function(t,e){var i=this;this.options.ListenEvents.forEach(function(a){return T[e?"on":"off"](t,a,i.lazyLoadHandler)})}},{key:"_initEvent",value:function(){var t=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(e,i){t.Event.listeners[e]||(t.Event.listeners[e]=[]),t.Event.listeners[e].push(i)},this.$once=function(e,i){var a=t;t.$on(e,function t(){a.$off(e,t),i.apply(a,arguments)})},this.$off=function(e,i){if(i)D(t.Event.listeners[e],i);else{if(!t.Event.listeners[e])return;t.Event.listeners[e].length=0}},this.$emit=function(e,i,a){t.Event.listeners[e]&&t.Event.listeners[e].forEach(function(t){return t(i,a)})}}},{key:"_lazyLoadHandler",value:function(){var t=this,e=[];this.ListenerQueue.forEach(function(t,i){t.el&&t.el.parentNode||e.push(t),t.checkInView()&&t.load()}),e.forEach(function(e){D(t.ListenerQueue,e),e.$destroy()})}},{key:"_initIntersectionObserver",value:function(){var t=this;v&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(function(e){t._observer.observe(e.el)}))}},{key:"_observerHandler",value:function(t,e){var i=this;t.forEach(function(t){t.isIntersecting&&i.ListenerQueue.forEach(function(e){if(e.el===t.target){if(e.state.loaded)return i._observer.unobserve(e.el);e.load()}})})}},{key:"_elRenderer",value:function(t,e,i){if(t.el){var a=t.el,n=t.bindType,r=void 0;switch(e){case"loading":r=t.loading;break;case"error":r=t.error;break;default:r=t.src}if(n?a.style[n]='url("'+r+'")':a.getAttribute("src")!==r&&a.setAttribute("src",r),a.setAttribute("lazy",e),this.$emit(e,t,i),this.options.adapter[e]&&this.options.adapter[e](t,this.options),this.options.dispatchEvent){var o=new C(e,{detail:t});a.dispatchEvent(o)}}}},{key:"_valueFormatter",value:function(t){var e,i=t,n=this.options.loading,r=this.options.error;return null!==(e=t)&&"object"===(void 0===e?"undefined":a(e))&&(t.src||this.options.silent||console.error("Vue Lazyload warning: miss src with "+t),i=t.src,n=t.loading||this.options.loading,r=t.error||this.options.error),{src:i,loading:n,error:r}}}]),e}()},N=function(){function t(e){var i=e.lazy;n(this,t),this.lazy=i,i.lazyContainerMananger=this,this._queue=[]}return r(t,[{key:"bind",value:function(t,e,i){var a=new B({el:t,binding:e,vnode:i,lazy:this.lazy});this._queue.push(a)}},{key:"update",value:function(t,e,i){var a=x(this._queue,function(e){return e.el===t});a&&a.update({el:t,binding:e,vnode:i})}},{key:"unbind",value:function(t,e,i){var a=x(this._queue,function(e){return e.el===t});a&&(a.clear(),D(this._queue,a))}}]),t}(),R={selector:"img"},B=function(){function t(e){var i=e.el,a=e.binding,r=e.vnode,o=e.lazy;n(this,t),this.el=null,this.vnode=r,this.binding=a,this.options={},this.lazy=o,this._queue=[],this.update({el:i,binding:a})}return r(t,[{key:"update",value:function(t){var e=this,i=t.el,a=t.binding;this.el=i,this.options=p({},R,a.value),this.getImgs().forEach(function(t){e.lazy.add(t,p({},e.binding,{value:{src:"dataset"in t?t.dataset.src:t.getAttribute("data-src"),error:("dataset"in t?t.dataset.error:t.getAttribute("data-error"))||e.options.error,loading:("dataset"in t?t.dataset.loading:t.getAttribute("data-loading"))||e.options.loading}}),e.vnode)})}},{key:"getImgs",value:function(){return function(t){for(var e=t.length,i=[],a=0;a<e;a++)i.push(t[a]);return i}(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var t=this;this.getImgs().forEach(function(e){return t.lazy.remove(e)}),this.vnode=null,this.binding=null,this.lazy=null}}]),t}(),k={install:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new(P(t))(i),n=new N({lazy:a}),r="2"===t.version.split(".")[0];t.prototype.$Lazyload=a,i.lazyComponent&&t.component("lazy-component",function(t){return{props:{tag:{type:String,default:"div"}},render:function(t){return!1===this.show?t(this.tag):t(this.tag,null,this.$slots.default)},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeDestroy:function(){t.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),m&&this.rect.top<window.innerHeight*t.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*t.options.preLoad&&this.rect.right>0},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)},destroy:function(){return this.$destroy}}}}(a)),i.lazyImage&&t.component("lazy-image",(e=a,{props:{src:[String,Object],tag:{type:String,default:"img"}},render:function(t){return t(this.tag,{attrs:{src:this.renderSrc}},this.$slots.default)},data:function(){return{el:null,options:{src:"",error:"",loading:"",attempt:e.options.attempt},state:{loaded:!1,error:!1,attempt:0},rect:{},renderSrc:""}},watch:{src:function(){this.init(),e.addLazyBox(this),e.lazyLoadHandler()}},created:function(){this.init(),this.renderSrc=this.options.loading},mounted:function(){this.el=this.$el,e.addLazyBox(this),e.lazyLoadHandler()},beforeDestroy:function(){e.removeComponent(this)},methods:{init:function(){var t=e._valueFormatter(this.src),i=t.src,a=t.loading,n=t.error;this.state.loaded=!1,this.options.src=i,this.options.error=n,this.options.loading=a,this.renderSrc=this.options.loading},getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),m&&this.rect.top<window.innerHeight*e.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*e.options.preLoad&&this.rect.right>0},load:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;if(this.state.attempt>this.options.attempt-1&&this.state.error)return e.options.silent||console.log("VueLazyload log: "+this.options.src+" tried too more than "+this.options.attempt+" times"),void i();var a=this.options.src;b({src:a},function(e){var i=e.src;t.renderSrc=i,t.state.loaded=!0},function(e){t.state.attempt++,t.renderSrc=t.options.error,t.state.error=!0})}}})),r?(t.directive("lazy",{bind:a.add.bind(a),update:a.update.bind(a),componentUpdated:a.lazyLoadHandler.bind(a),unbind:a.remove.bind(a)}),t.directive("lazy-container",{bind:n.bind.bind(n),componentUpdated:n.update.bind(n),unbind:n.unbind.bind(n)})):(t.directive("lazy",{bind:a.lazyLoadHandler.bind(a),update:function(t,e){p(this.vm.$refs,this.vm.$els),a.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){a.remove(this.el)}}),t.directive("lazy-container",{update:function(t,e){n.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){n.unbind(this.el)}}))}};e.default=k},AbHi:function(t,e,i){var a=i("YNzw"),n=i("FIAY"),r=i("dCQY"),o=n.toolbox.saveAsImage;function s(t){this.model=t}s.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:o.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:o.lang.slice()},s.prototype.unusable=!a.canvasSupported,s.prototype.onclick=function(t,e){var i=this.model,n=i.get("name")||t.get("title.0.text")||"echarts",r=i.get("type",!0)||"png",o=e.getConnectedDataURL({type:r,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});if("function"!=typeof MouseEvent||a.browser.ie||a.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(o.split(",")[1]),l=s.length,h=new Uint8Array(l);l--;)h[l]=s.charCodeAt(l);var u=new Blob([h]);window.navigator.msSaveOrOpenBlob(u,n+"."+r)}else{var c=i.get("lang"),d='<body style="margin:0;"><img src="'+o+'" style="max-width:100%;" title="'+(c&&c[0]||"")+'" /></body>';window.open().document.write(d)}else{var f=document.createElement("a");f.download=n+"."+r,f.target="_blank",f.href=o;var p=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});f.dispatchEvent(p)}},r.register("saveAsImage",s);var l=s;t.exports=l},AjK0:function(t,e,i){var a=i("/gxq").isFunction;t.exports=function(t,e,i){return{seriesType:t,performRawSeries:!0,reset:function(t,n,r){var o=t.getData(),s=t.get("symbol"),l=t.get("symbolSize"),h=t.get("symbolKeepAspect"),u=a(s),c=a(l),d=u||c,f=!u&&s?s:e,p=c?null:l;if(o.setVisual({legendSymbol:i||f,symbol:f,symbolSize:p,symbolKeepAspect:h}),!n.isSeriesFiltered(t))return{dataEach:o.hasItemOption||d?function(e,i){if(d){var a=t.getRawValue(i),n=t.getDataParams(i);u&&e.setItemVisual(i,"symbol",s(a,n)),c&&e.setItemVisual(i,"symbolSize",l(a,n))}if(e.hasItemOption){var r=e.getItemModel(i),o=r.getShallow("symbol",!0),h=r.getShallow("symbolSize",!0),f=r.getShallow("symbolKeepAspect",!0);null!=o&&e.setItemVisual(i,"symbol",o),null!=h&&e.setItemVisual(i,"symbolSize",h),null!=f&&e.setItemVisual(i,"symbolKeepAspect",f)}}:null}}}}},AjST:function(t,e,i){var a=i("Icdr");i("Po+l"),i("MsVc");var n=i("5KWC"),r=i("YbE0");a.registerVisual(n),a.registerLayout(r)},AlF5:function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=a.each,r=a.createHashMap,o=i("0MNY"),s=i("s/PG"),l=i("mvkK"),h=i("8b51"),u={geoJSON:s,svg:l},c={load:function(t,e){var i,a=[],o=r(),s=r(),l=f(t);return n(l,function(r){var l=u[r.type].load(t,r);n(l.regions,function(t){var i=t.name;e&&e.hasOwnProperty(i)&&(t=t.cloneShallow(i=e[i])),a.push(t),o.set(i,t),s.set(i,t.center)});var h=l.boundingRect;h&&(i?i.union(h):i=h.clone())}),{regions:a,regionsMap:o,nameCoordMap:s,boundingRect:i||new h(0,0,0,0)}},makeGraphic:d("makeGraphic"),removeGraphic:d("removeGraphic")};function d(t){return function(e,i){var a=f(e),r=[];return n(a,function(a){var n=u[a.type][t];n&&r.push(n(e,a,i))}),r}}function f(t){return o.retrieveMap(t)||[]}t.exports=c},AlhT:function(t,e,i){var a=i("/gxq"),n=i("avYi"),r=i("8b51"),o=function(t){for(var e in t=t||{},n.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};o.prototype={constructor:o,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,a=i.indexOf(e);a>=0&&(i.splice(a,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof o&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,n=this._children,r=a.indexOf(n,t);return r<0?this:(n.splice(r,1),t.parent=null,i&&(i.delFromStorage(t),t instanceof o&&t.delChildrenFromStorage(i)),e&&e.refresh(),this)},removeAll:function(){var t,e,i=this._children,a=this.__storage;for(e=0;e<i.length;e++)t=i[e],a&&(a.delFromStorage(t),t instanceof o&&t.delChildrenFromStorage(a)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,a=0;a<i.length;a++){var n=i[a];t.call(e,n,a)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var a=this._children[i];t.call(e,a),"group"===a.type&&a.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToStorage(i),i instanceof o&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromStorage(i),i instanceof o&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new r(0,0,0,0),a=t||this._children,n=[],o=0;o<a.length;o++){var s=a[o];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),h=s.getLocalTransform(n);h?(i.copy(l),i.applyTransform(h),(e=e||i.clone()).union(i)):(e=e||l.clone()).union(l)}}return e||i}},a.inherits(o,n);var s=o;t.exports=s},Au9i:function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=202)}([function(t,e){t.exports=function(t,e,i,a,n){var r,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(r=t,o=t.default);var l,h="function"==typeof o?o.options:o;if(e&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns),a&&(h._scopeId=a),n?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},h._ssrRegister=l):i&&(l=i),l){var u=h.functional,c=u?h.render:h.beforeCreate;u?h.render=function(t,e){return l.call(e),c(t,e)}:h.beforeCreate=c?[].concat(c,l):[l]}return{esModule:r,exports:o,options:h}}},function(t,e){t.exports=i("/5sW")},function(t,e,i){"use strict";var a=i(132),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(1),n=i.n(a);i.d(e,"c",function(){return h}),e.a=function(t,e){if(!t)return;for(var i=t.className,a=(e||"").split(" "),n=0,r=a.length;n<r;n++){var o=a[n];o&&(t.classList?t.classList.add(o):u(t,o)||(i+=" "+o))}t.classList||(t.className=i)},e.b=function(t,e){if(!t||!e)return;for(var i=e.split(" "),a=" "+t.className+" ",n=0,r=i.length;n<r;n++){var s=i[n];s&&(t.classList?t.classList.remove(s):u(t,s)&&(a=a.replace(" "+s+" "," ")))}t.classList||(t.className=o(a))};var r=n.a.prototype.$isServer,o=(r||Number(document.documentMode),function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}),s=!r&&document.addEventListener?function(t,e,i){t&&e&&i&&t.addEventListener(e,i,!1)}:function(t,e,i){t&&e&&i&&t.attachEvent("on"+e,i)},l=!r&&document.removeEventListener?function(t,e,i){t&&e&&t.removeEventListener(e,i,!1)}:function(t,e,i){t&&e&&t.detachEvent("on"+e,i)},h=function(t,e,i){var a=function(){i&&i.apply(this,arguments),l(t,e,a)};s(t,e,a)};function u(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}},function(t,e){},function(t,e,i){var a=i(0)(i(39),null,null,null,null);t.exports=a.exports},function(t,e,i){"use strict";var a,n=i(1),r=i.n(n),o=i(11),s=i(90),l=1,h=[],u=function(t){return 3===t.nodeType&&(t=t.nextElementSibling||t.nextSibling,u(t)),t};e.a={props:{value:{type:Boolean,default:!1},transition:{type:String,default:""},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},created:function(){this.transition&&function(t){if(-1===h.indexOf(t)){var e=function(t){var e=t.__vue__;if(!e){var i=t.previousSibling;i.__vue__&&(e=i.__vue__)}return e};r.a.transition(t,{afterEnter:function(t){var i=e(t);i&&i.doAfterOpen&&i.doAfterOpen()},afterLeave:function(t){var i=e(t);i&&i.doAfterClose&&i.doAfterClose()}})}}(this.transition)},beforeMount:function(){this._popupId="popup-"+l++,s.a.register(this._popupId,this)},beforeDestroy:function(){s.a.deregister(this._popupId),s.a.closeModal(this._popupId),this.modal&&null!==this.bodyOverflow&&"hidden"!==this.bodyOverflow&&(document.body.style.overflow=this.bodyOverflow,document.body.style.paddingRight=this.bodyPaddingRight),this.bodyOverflow=null,this.bodyPaddingRight=null},data:function(){return{opened:!1,bodyOverflow:null,bodyPaddingRight:null,rendered:!1}},watch:{value:function(t){var e=this;if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,r.a.nextTick(function(){e.open()}))}else this.close()}},methods:{open:function(t){var e=this;this.rendered||(this.rendered=!0,this.$emit("input",!0));var a=i.i(o.a)({},this,t,this.$props);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var n=Number(a.openDelay);n>0?this._openTimer=setTimeout(function(){e._openTimer=null,e.doOpen(a)},n):this.doOpen(a)},doOpen:function(t){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0,this.visible=!0,this.$emit("input",!0);var e=u(this.$el),i=t.modal,n=t.zIndex;if(n&&(s.a.zIndex=n),i&&(this._closing&&(s.a.closeModal(this._popupId),this._closing=!1),s.a.openModal(this._popupId,s.a.nextZIndex(),e,t.modalClass,t.modalFade),t.lockScroll)){this.bodyOverflow||(this.bodyPaddingRight=document.body.style.paddingRight,this.bodyOverflow=document.body.style.overflow),a=function(){if(!r.a.prototype.$isServer){if(void 0!==a)return a;var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",t.appendChild(i);var n=i.offsetWidth;return t.parentNode.removeChild(t),e-n}}();var o=document.documentElement.clientHeight<document.body.scrollHeight;a>0&&o&&(document.body.style.paddingRight=a+"px"),document.body.style.overflow="hidden"}"static"===getComputedStyle(e).position&&(e.style.position="absolute"),e.style.zIndex=s.a.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.transition||this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var t=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var e=Number(this.closeDelay);e>0?this._closeTimer=setTimeout(function(){t._closeTimer=null,t.doClose()},e):this.doClose()}},doClose:function(){var t=this;this.visible=!1,this.$emit("input",!1),this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(function(){t.modal&&"hidden"!==t.bodyOverflow&&(document.body.style.overflow=t.bodyOverflow,document.body.style.paddingRight=t.bodyPaddingRight),t.bodyOverflow=null,t.bodyPaddingRight=null},200),this.opened=!1,this.transition||this.doAfterClose()},doAfterClose:function(){s.a.closeModal(this._popupId),this._closing=!1}}}},function(t,e,i){"use strict";var a=i(145),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(146),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(151),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";e.a={bind:function(t,e,i){var a=function(e){i.context&&!t.contains(e.target)&&i.context[t["@@clickoutsideContext"].methodName]()};t["@@clickoutsideContext"]={documentHandler:a,methodName:e.expression,arg:e.arg||"click"},document.addEventListener(t["@@clickoutsideContext"].arg,a)},update:function(t,e){t["@@clickoutsideContext"].methodName=e.expression},unbind:function(t){document.removeEventListener(t["@@clickoutsideContext"].arg,t["@@clickoutsideContext"].documentHandler)},install:function(t){t.directive("clickoutside",{bind:this.bind,unbind:this.unbind})}}},function(t,e,i){"use strict";e.a=function(t){for(var e=arguments,i=1,a=arguments.length;i<a;i++){var n=e[i]||{};for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];void 0!==o&&(t[r]=o)}}return t}},function(t,e){},function(t,e,i){var a=i(0)(i(41),i(175),function(t){i(104)},null,null);t.exports=a.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(59),n=i(54),r=i(2),o=i(55),s=i(58),l=i(53),h=i(82),u=i(9),c=i(85),d=i(83),f=i(84),p=i(71),m=i(86),v=i(79),g=i(56),C=i(76),D=i(68),y=i(52),x=i(8),S=i(81),I=i(80),T=i(77),b=i(7),w=i(75),M=i(87),E=i(62),A=i(69),_=i(63),L=i(66),F=i(57),O=i(60),P=i(61),N=i(72),R=i(91),B=(i.n(R),i(11)),k=function(t,e){void 0===e&&(e={}),k.installed||(t.component(a.a.name,a.a),t.component(n.a.name,n.a),t.component(r.a.name,r.a),t.component(o.a.name,o.a),t.component(s.a.name,s.a),t.component(l.a.name,l.a),t.component(h.a.name,h.a),t.component(u.a.name,u.a),t.component(c.a.name,c.a),t.component(d.a.name,d.a),t.component(f.a.name,f.a),t.component(p.a.name,p.a),t.component(m.a.name,m.a),t.component(v.a.name,v.a),t.component(g.a.name,g.a),t.component(C.a.name,C.a),t.component(D.a.name,D.a),t.component(y.a.name,y.a),t.component(x.a.name,x.a),t.component(S.a.name,S.a),t.component(I.a.name,I.a),t.component(T.a.name,T.a),t.component(b.a.name,b.a),t.component(w.a.name,w.a),t.component(F.a.name,F.a),t.component(O.a.name,O.a),t.component(P.a.name,P.a),t.component(N.a.name,N.a),t.use(_.a),t.use(L.a,i.i(B.a)({loading:i(127),attempt:3},e.lazyload)),t.$messagebox=t.prototype.$messagebox=A.a,t.$toast=t.prototype.$toast=M.a,t.$indicator=t.prototype.$indicator=E.a)};"undefined"!=typeof window&&window.Vue&&k(window.Vue),t.exports={install:k,version:"2.2.13",Header:a.a,Button:n.a,Cell:r.a,CellSwipe:o.a,Field:s.a,Badge:l.a,Switch:h.a,Spinner:u.a,TabItem:c.a,TabContainerItem:d.a,TabContainer:f.a,Navbar:p.a,Tabbar:m.a,Search:v.a,Checklist:g.a,Radio:C.a,Loadmore:D.a,Actionsheet:y.a,Popup:x.a,Swipe:S.a,SwipeItem:I.a,Range:T.a,Picker:b.a,Progress:w.a,Toast:M.a,Indicator:E.a,MessageBox:A.a,InfiniteScroll:_.a,Lazyload:L.a,DatetimePicker:F.a,IndexList:O.a,IndexSection:P.a,PaletteButton:N.a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),n=i(12);i.n(n);e.default={name:"mt-actionsheet",mixins:[a.a],props:{modal:{default:!0},modalFade:{default:!1},lockScroll:{default:!1},closeOnClickModal:{default:!0},cancelText:{type:String,default:"取消"},actions:{type:Array,default:function(){return[]}}},data:function(){return{currentValue:!1}},watch:{currentValue:function(t){this.$emit("input",t)},value:function(t){this.currentValue=t}},methods:{itemClick:function(t,e){t.method&&"function"==typeof t.method&&t.method(t,e),this.currentValue=!1}},mounted:function(){this.value&&(this.rendered=!0,this.currentValue=!0,this.open())}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-badge",props:{color:String,type:{type:String,default:"primary"},size:{type:String,default:"normal"}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-button",methods:{handleClick:function(t){this.$emit("click",t)}},props:{icon:String,disabled:Boolean,nativeType:String,plain:Boolean,type:{type:String,default:"default",validator:function(t){return["default","danger","primary"].indexOf(t)>-1}},size:{type:String,default:"normal",validator:function(t){return["small","normal","large"].indexOf(t)>-1}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),n=i(2),r=i(10);e.default={name:"mt-cell-swipe",components:{XCell:n.a},directives:{Clickoutside:r.a},props:{to:String,left:Array,right:Array,icon:String,title:String,label:String,isLink:Boolean,value:{}},data:function(){return{start:{x:0,y:0}}},mounted:function(){this.wrap=this.$refs.cell.$el.querySelector(".mint-cell-wrapper"),this.leftElm=this.$refs.left,this.rightElm=this.$refs.right,this.leftWrapElm=this.leftElm.parentNode,this.rightWrapElm=this.rightElm.parentNode,this.leftWidth=this.leftElm.getBoundingClientRect().width,this.rightWidth=this.rightElm.getBoundingClientRect().width,this.leftDefaultTransform=this.translate3d(-this.leftWidth-1),this.rightDefaultTransform=this.translate3d(this.rightWidth),this.rightWrapElm.style.webkitTransform=this.rightDefaultTransform,this.leftWrapElm.style.webkitTransform=this.leftDefaultTransform},methods:{resetSwipeStatus:function(){this.swiping=!1,this.opened=!0,this.offsetLeft=0},translate3d:function(t){return"translate3d("+t+"px, 0, 0)"},setAnimations:function(t){this.wrap.style.transitionDuration=t,this.rightWrapElm.style.transitionDuration=t,this.leftWrapElm.style.transitionDuration=t},swipeMove:function(t){void 0===t&&(t=0),this.wrap.style.webkitTransform=this.translate3d(t),this.rightWrapElm.style.webkitTransform=this.translate3d(this.rightWidth+t),this.leftWrapElm.style.webkitTransform=this.translate3d(-this.leftWidth+t),t&&(this.swiping=!0)},swipeLeaveTransition:function(t){var e=this;setTimeout(function(){return e.swipeLeave=!0,t>0&&-e.offsetLeft>.4*e.rightWidth?(e.swipeMove(-e.rightWidth),void e.resetSwipeStatus()):t<0&&e.offsetLeft>.4*e.leftWidth?(e.swipeMove(e.leftWidth),void e.resetSwipeStatus()):(e.swipeMove(0),void i.i(a.c)(e.wrap,"webkitTransitionEnd",function(t){e.wrap.style.webkitTransform="",e.rightWrapElm.style.webkitTransform=e.rightDefaultTransform,e.leftWrapElm.style.webkitTransform=e.leftDefaultTransform,e.swipeLeave=!1,e.swiping=!1}))},0)},startDrag:function(t){t=t.changedTouches?t.changedTouches[0]:t,this.dragging=!0,this.start.x=t.pageX,this.start.y=t.pageY,this.direction=""},onDrag:function(t){if(this.opened)return this.swiping||(this.swipeMove(0),this.setAnimations("")),void(this.opened=!1);if(this.dragging){var e=t.changedTouches?t.changedTouches[0]:t,i=e.pageY-this.start.y,a=this.offsetLeft=e.pageX-this.start.x,n=Math.abs(i),r=Math.abs(a);if(this.setAnimations("0ms"),""===this.direction&&(this.direction=r>n?"horizonal":"vertical"),"horizonal"===this.direction){if(t.preventDefault(),t.stopPropagation(),!!(r<5||r>=5&&n>=1.73*r))return;a<0&&-a>this.rightWidth||a>0&&a>this.leftWidth||a>0&&!this.leftWidth||a<0&&!this.rightWidth||this.swipeMove(a)}}},endDrag:function(){this.direction="",this.setAnimations(""),this.swiping&&this.swipeLeaveTransition(this.offsetLeft>0?-1:1)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-cell",props:{to:[String,Object],icon:String,title:String,label:String,isLink:Boolean,value:{}},computed:{href:function(){var t=this;if(this.to&&!this.added&&this.$router){var e=this.$router.match(this.to);return e.matched.length?(this.$nextTick(function(){t.added=!0,t.$el.addEventListener("click",t.handleClick)}),e.fullPath||e.path):this.to}return this.to}},methods:{handleClick:function(t){t.preventDefault(),this.$router.push(this.href)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(2);e.default={name:"mt-checklist",props:{max:Number,title:String,align:String,options:{type:Array,required:!0},value:Array},components:{XCell:a.a},data:function(){return{currentValue:this.value}},computed:{limit:function(){return this.max<this.currentValue.length}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.limit&&t.pop(),this.$emit("input",t)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(7),n=i(8);var r={Y:"year",M:"month",D:"date",H:"hour",m:"minute"};e.default={name:"mt-datetime-picker",props:{cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确定"},type:{type:String,default:"datetime"},startDate:{type:Date,default:function(){return new Date((new Date).getFullYear()-10,0,1)}},endDate:{type:Date,default:function(){return new Date((new Date).getFullYear()+10,11,31)}},startHour:{type:Number,default:0},endHour:{type:Number,default:23},yearFormat:{type:String,default:"{value}"},monthFormat:{type:String,default:"{value}"},dateFormat:{type:String,default:"{value}"},hourFormat:{type:String,default:"{value}"},minuteFormat:{type:String,default:"{value}"},visibleItemCount:{type:Number,default:7},closeOnClickModal:{type:Boolean,default:!0},value:null},data:function(){return{visible:!1,startYear:null,endYear:null,startMonth:1,endMonth:12,startDay:1,endDay:31,currentValue:null,selfTriggered:!1,dateSlots:[],shortMonthDates:[],longMonthDates:[],febDates:[],leapFebDates:[]}},components:{"mt-picker":a.a,"mt-popup":n.a},methods:{open:function(){this.visible=!0},close:function(){this.visible=!1},isLeapYear:function(t){return t%400==0||t%100!=0&&t%4==0},isShortMonth:function(t){return[4,6,9,11].indexOf(t)>-1},getMonthEndDay:function(t,e){return this.isShortMonth(e)?30:2===e?this.isLeapYear(t)?29:28:31},getTrueValue:function(t){if(t){for(;isNaN(parseInt(t,10));)t=t.slice(1);return parseInt(t,10)}},getValue:function(t){var e,i=this;if("time"===this.type)e=t.map(function(t){return("0"+i.getTrueValue(t)).slice(-2)}).join(":");else{var a=this.getTrueValue(t[0]),n=this.getTrueValue(t[1]),r=this.getTrueValue(t[2]);r>this.getMonthEndDay(a,n)&&(this.selfTriggered=!0,r=1);var o=this.typeStr.indexOf("H")>-1?this.getTrueValue(t[this.typeStr.indexOf("H")]):0,s=this.typeStr.indexOf("m")>-1?this.getTrueValue(t[this.typeStr.indexOf("m")]):0;e=new Date(a,n-1,r,o,s)}return e},onChange:function(t){var e=t.$children.filter(function(t){return void 0!==t.currentValue}).map(function(t){return t.currentValue});this.selfTriggered?this.selfTriggered=!1:0!==e.length&&(this.currentValue=this.getValue(e),this.handleValueChange())},fillValues:function(t,e,i){for(var a=[],n=e;n<=i;n++)n<10?a.push(this[r[t]+"Format"].replace("{value}",("0"+n).slice(-2))):a.push(this[r[t]+"Format"].replace("{value}",n));return a},pushSlots:function(t,e,i,a){t.push({flex:1,values:this.fillValues(e,i,a)})},generateSlots:function(){var t=this,e=[],i={Y:this.rims.year,M:this.rims.month,D:this.rims.date,H:this.rims.hour,m:this.rims.min};this.typeStr.split("").forEach(function(a){i[a]&&t.pushSlots.apply(null,[e,a].concat(i[a]))}),"Hm"===this.typeStr&&e.splice(1,0,{divider:!0,content:":"}),this.dateSlots=e,this.handleExceededValue()},handleExceededValue:function(){var t=this,e=[];if("time"===this.type){var i=this.currentValue.split(":");e=[this.hourFormat.replace("{value}",i[0]),this.minuteFormat.replace("{value}",i[1])]}else e=[this.yearFormat.replace("{value}",this.getYear(this.currentValue)),this.monthFormat.replace("{value}",("0"+this.getMonth(this.currentValue)).slice(-2)),this.dateFormat.replace("{value}",("0"+this.getDate(this.currentValue)).slice(-2))],"datetime"===this.type&&e.push(this.hourFormat.replace("{value}",("0"+this.getHour(this.currentValue)).slice(-2)),this.minuteFormat.replace("{value}",("0"+this.getMinute(this.currentValue)).slice(-2)));this.dateSlots.filter(function(t){return void 0!==t.values}).map(function(t){return t.values}).forEach(function(t,i){-1===t.indexOf(e[i])&&(e[i]=t[0])}),this.$nextTick(function(){t.setSlotsByValues(e)})},setSlotsByValues:function(t){var e=this.$refs.picker.setSlotValue;"time"===this.type&&(e(0,t[0]),e(1,t[1])),"time"!==this.type&&(e(0,t[0]),e(1,t[1]),e(2,t[2]),"datetime"===this.type&&(e(3,t[3]),e(4,t[4]))),[].forEach.call(this.$refs.picker.$children,function(t){return t.doOnValueChange()})},rimDetect:function(t,e){var i="start"===e?0:1,a="start"===e?this.startDate:this.endDate;this.getYear(this.currentValue)===a.getFullYear()&&(t.month[i]=a.getMonth()+1,this.getMonth(this.currentValue)===a.getMonth()+1&&(t.date[i]=a.getDate(),this.getDate(this.currentValue)===a.getDate()&&(t.hour[i]=a.getHours(),this.getHour(this.currentValue)===a.getHours()&&(t.min[i]=a.getMinutes()))))},isDateString:function(t){return/\d{4}(\-|\/|.)\d{1,2}\1\d{1,2}/.test(t)},getYear:function(t){return this.isDateString(t)?t.split(" ")[0].split(/-|\/|\./)[0]:t.getFullYear()},getMonth:function(t){return this.isDateString(t)?t.split(" ")[0].split(/-|\/|\./)[1]:t.getMonth()+1},getDate:function(t){return this.isDateString(t)?t.split(" ")[0].split(/-|\/|\./)[2]:t.getDate()},getHour:function(t){return this.isDateString(t)?(t.split(" ")[1]||"00:00:00").split(":")[0]:t.getHours()},getMinute:function(t){return this.isDateString(t)?(t.split(" ")[1]||"00:00:00").split(":")[1]:t.getMinutes()},confirm:function(){this.visible=!1,this.$emit("confirm",this.currentValue)},handleValueChange:function(){this.$emit("input",this.currentValue)}},computed:{rims:function(){return this.currentValue?"time"===this.type?t={hour:[this.startHour,this.endHour],min:[0,59]}:(t={year:[this.startDate.getFullYear(),this.endDate.getFullYear()],month:[1,12],date:[1,this.getMonthEndDay(this.getYear(this.currentValue),this.getMonth(this.currentValue))],hour:[0,23],min:[0,59]},this.rimDetect(t,"start"),this.rimDetect(t,"end"),t):{year:[],month:[],date:[],hour:[],min:[]};var t},typeStr:function(){return"time"===this.type?"Hm":"date"===this.type?"YMD":"YMDHm"}},watch:{value:function(t){this.currentValue=t},rims:function(){this.generateSlots()},visible:function(t){this.$emit("visible-change",t)}},mounted:function(){this.currentValue=this.value,this.value||(this.type.indexOf("date")>-1?this.currentValue=this.startDate:this.currentValue=("0"+this.startHour).slice(-2)+":00"),this.generateSlots()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(2),n=i(10);e.default={name:"mt-field",data:function(){return{active:!1,currentValue:this.value}},directives:{Clickoutside:n.a},props:{type:{type:String,default:"text"},rows:String,label:String,placeholder:String,readonly:Boolean,disabled:Boolean,disableClear:Boolean,state:{type:String,default:"default"},value:{},attr:Object},components:{XCell:a.a},methods:{doCloseActive:function(){this.active=!1},handleInput:function(t){this.currentValue=t.target.value},handleClear:function(){this.disabled||this.readonly||(this.currentValue="")}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t)},attr:{immediate:!0,handler:function(t){var e=this;this.$nextTick(function(){[e.$refs.input,e.$refs.textarea].forEach(function(e){e&&t&&Object.keys(t).map(function(i){return e.setAttribute(i,t[i])})})})}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-header",props:{fixed:Boolean,title:String}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-index-list",props:{height:Number,showIndicator:{type:Boolean,default:!0}},data:function(){return{sections:[],navWidth:0,indicatorTime:null,moving:!1,firstSection:null,currentIndicator:"",currentHeight:this.height,navOffsetX:0}},watch:{sections:function(){this.init()},height:function(t){t&&(this.currentHeight=t)}},methods:{init:function(){var t=this;this.$nextTick(function(){t.navWidth=t.$refs.nav.clientWidth});var e=this.$refs.content.getElementsByTagName("li");e.length>0&&(this.firstSection=e[0])},handleTouchStart:function(t){"LI"===t.target.tagName&&(this.navOffsetX=t.changedTouches[0].clientX,this.scrollList(t.changedTouches[0].clientY),this.indicatorTime&&clearTimeout(this.indicatorTime),this.moving=!0,window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleTouchEnd))},handleTouchMove:function(t){t.preventDefault(),this.scrollList(t.changedTouches[0].clientY)},handleTouchEnd:function(){var t=this;this.indicatorTime=setTimeout(function(){t.moving=!1,t.currentIndicator=""},500),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd)},scrollList:function(t){var e=document.elementFromPoint(this.navOffsetX,t);if(e&&e.classList.contains("mint-indexlist-navitem")){this.currentIndicator=e.innerText;var i,a=this.sections.filter(function(t){return t.index===e.innerText});a.length>0&&(i=a[0].$el,this.$refs.content.scrollTop=i.getBoundingClientRect().top-this.firstSection.getBoundingClientRect().top)}}},mounted:function(){var t=this;this.currentHeight||(window.scrollTo(0,0),requestAnimationFrame(function(){t.currentHeight=document.documentElement.clientHeight-t.$refs.content.getBoundingClientRect().top})),this.init()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-index-section",props:{index:{type:String,required:!0}},mounted:function(){this.$parent.sections.push(this)},beforeDestroy:function(){var t=this.$parent.sections.indexOf(this);t>-1&&this.$parent.sections.splice(t,1)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(9);e.default={data:function(){return{visible:!1}},components:{Spinner:a.a},computed:{convertedSpinnerType:function(){switch(this.spinnerType){case"double-bounce":return 1;case"triple-bounce":return 2;case"fading-circle":return 3;default:return 0}}},props:{text:String,spinnerType:{type:String,default:"snake"}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(13),n=i.n(a);e.default={name:"mt-loadmore",components:{spinner:n.a},props:{maxDistance:{type:Number,default:0},autoFill:{type:Boolean,default:!0},distanceIndex:{type:Number,default:2},topPullText:{type:String,default:"下拉刷新"},topDropText:{type:String,default:"释放更新"},topLoadingText:{type:String,default:"加载中..."},topDistance:{type:Number,default:70},topMethod:{type:Function},bottomPullText:{type:String,default:"上拉刷新"},bottomDropText:{type:String,default:"释放更新"},bottomLoadingText:{type:String,default:"加载中..."},bottomDistance:{type:Number,default:70},bottomMethod:{type:Function},bottomAllLoaded:{type:Boolean,default:!1}},data:function(){return{translate:0,scrollEventTarget:null,containerFilled:!1,topText:"",topDropped:!1,bottomText:"",bottomDropped:!1,bottomReached:!1,direction:"",startY:0,startScrollTop:0,currentY:0,topStatus:"",bottomStatus:""}},computed:{transform:function(){return 0===this.translate?null:"translate3d(0, "+this.translate+"px, 0)"}},watch:{topStatus:function(t){switch(this.$emit("top-status-change",t),t){case"pull":this.topText=this.topPullText;break;case"drop":this.topText=this.topDropText;break;case"loading":this.topText=this.topLoadingText}},bottomStatus:function(t){switch(this.$emit("bottom-status-change",t),t){case"pull":this.bottomText=this.bottomPullText;break;case"drop":this.bottomText=this.bottomDropText;break;case"loading":this.bottomText=this.bottomLoadingText}}},methods:{onTopLoaded:function(){var t=this;this.translate=0,setTimeout(function(){t.topStatus="pull"},200)},onBottomLoaded:function(){var t=this;this.bottomStatus="pull",this.bottomDropped=!1,this.$nextTick(function(){t.scrollEventTarget===window?document.body.scrollTop+=50:t.scrollEventTarget.scrollTop+=50,t.translate=0}),this.bottomAllLoaded||this.containerFilled||this.fillContainer()},getScrollEventTarget:function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var i=document.defaultView.getComputedStyle(e).overflowY;if("scroll"===i||"auto"===i)return e;e=e.parentNode}return window},getScrollTop:function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},bindTouchEvents:function(){this.$el.addEventListener("touchstart",this.handleTouchStart),this.$el.addEventListener("touchmove",this.handleTouchMove),this.$el.addEventListener("touchend",this.handleTouchEnd)},init:function(){this.topStatus="pull",this.bottomStatus="pull",this.topText=this.topPullText,this.scrollEventTarget=this.getScrollEventTarget(this.$el),"function"==typeof this.bottomMethod&&(this.fillContainer(),this.bindTouchEvents()),"function"==typeof this.topMethod&&this.bindTouchEvents()},fillContainer:function(){var t=this;this.autoFill&&this.$nextTick(function(){t.scrollEventTarget===window?t.containerFilled=t.$el.getBoundingClientRect().bottom>=document.documentElement.getBoundingClientRect().bottom:t.containerFilled=t.$el.getBoundingClientRect().bottom>=t.scrollEventTarget.getBoundingClientRect().bottom,t.containerFilled||(t.bottomStatus="loading",t.bottomMethod())})},checkBottomReached:function(){return this.scrollEventTarget===window?document.body.scrollTop+document.documentElement.clientHeight>=document.body.scrollHeight:this.$el.getBoundingClientRect().bottom<=this.scrollEventTarget.getBoundingClientRect().bottom+1},handleTouchStart:function(t){this.startY=t.touches[0].clientY,this.startScrollTop=this.getScrollTop(this.scrollEventTarget),this.bottomReached=!1,"loading"!==this.topStatus&&(this.topStatus="pull",this.topDropped=!1),"loading"!==this.bottomStatus&&(this.bottomStatus="pull",this.bottomDropped=!1)},handleTouchMove:function(t){if(!(this.startY<this.$el.getBoundingClientRect().top&&this.startY>this.$el.getBoundingClientRect().bottom)){this.currentY=t.touches[0].clientY;var e=(this.currentY-this.startY)/this.distanceIndex;this.direction=e>0?"down":"up","function"==typeof this.topMethod&&"down"===this.direction&&0===this.getScrollTop(this.scrollEventTarget)&&"loading"!==this.topStatus&&(t.preventDefault(),t.stopPropagation(),this.maxDistance>0?this.translate=e<=this.maxDistance?e-this.startScrollTop:this.translate:this.translate=e-this.startScrollTop,this.translate<0&&(this.translate=0),this.topStatus=this.translate>=this.topDistance?"drop":"pull"),"up"===this.direction&&(this.bottomReached=this.bottomReached||this.checkBottomReached()),"function"==typeof this.bottomMethod&&"up"===this.direction&&this.bottomReached&&"loading"!==this.bottomStatus&&!this.bottomAllLoaded&&(t.preventDefault(),t.stopPropagation(),this.maxDistance>0?this.translate=Math.abs(e)<=this.maxDistance?this.getScrollTop(this.scrollEventTarget)-this.startScrollTop+e:this.translate:this.translate=this.getScrollTop(this.scrollEventTarget)-this.startScrollTop+e,this.translate>0&&(this.translate=0),this.bottomStatus=-this.translate>=this.bottomDistance?"drop":"pull"),this.$emit("translate-change",this.translate)}},handleTouchEnd:function(){"down"===this.direction&&0===this.getScrollTop(this.scrollEventTarget)&&this.translate>0&&(this.topDropped=!0,"drop"===this.topStatus?(this.translate="50",this.topStatus="loading",this.topMethod()):(this.translate="0",this.topStatus="pull")),"up"===this.direction&&this.bottomReached&&this.translate<0&&(this.bottomDropped=!0,this.bottomReached=!1,"drop"===this.bottomStatus?(this.translate="-50",this.bottomStatus="loading",this.bottomMethod()):(this.translate="0",this.bottomStatus="pull")),this.$emit("translate-change",this.translate),this.direction=""}},mounted:function(){this.init()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6);e.default={mixins:[a.a],props:{modal:{default:!0},showClose:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!1},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},inputType:{type:String,default:"text"}},computed:{confirmButtonClasses:function(){var t="mint-msgbox-btn mint-msgbox-confirm "+this.confirmButtonClass;return this.confirmButtonHighlight&&(t+=" mint-msgbox-confirm-highlight"),t},cancelButtonClasses:function(){var t="mint-msgbox-btn mint-msgbox-cancel "+this.cancelButtonClass;return this.cancelButtonHighlight&&(t+=" mint-msgbox-cancel-highlight"),t}},methods:{doClose:function(){var t=this;this.value=!1,this._closing=!0,this.onClose&&this.onClose(),setTimeout(function(){t.modal&&"hidden"!==t.bodyOverflow&&(document.body.style.overflow=t.bodyOverflow,document.body.style.paddingRight=t.bodyPaddingRight),t.bodyOverflow=null,t.bodyPaddingRight=null},200),this.opened=!1,this.transition||this.doAfterClose()},handleAction:function(t){if("prompt"!==this.$type||"confirm"!==t||this.validate()){var e=this.callback;this.value=!1,e(t)}},validate:function(){if("prompt"===this.$type){var t=this.inputPattern;if(t&&!t.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||"输入的数据不合法!",this.$refs.input.classList.add("invalid"),!1;var e=this.inputValidator;if("function"==typeof e){var i=e(this.inputValue);if(!1===i)return this.editorErrorMessage=this.inputErrorMessage||"输入的数据不合法!",this.$refs.input.classList.add("invalid"),!1;if("string"==typeof i)return this.editorErrorMessage=i,!1}}return this.editorErrorMessage="",this.$refs.input.classList.remove("invalid"),!0},handleInputType:function(t){"range"!==t&&this.$refs.input&&(this.$refs.input.type=t)}},watch:{inputValue:function(){"prompt"===this.$type&&this.validate()},value:function(t){var e=this;this.handleInputType(this.inputType),t&&"prompt"===this.$type&&setTimeout(function(){e.$refs.input&&e.$refs.input.focus()},500)},inputType:function(t){this.handleInputType(t)}},data:function(){return{title:"",message:"",type:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-navbar",props:{fixed:Boolean,value:{}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-palette-button",data:function(){return{transforming:!1,expanded:!1}},props:{content:{type:String,default:""},offset:{type:Number,default:Math.PI/4},direction:{type:String,default:"lt"},radius:{type:Number,default:90},mainButtonStyle:{type:String,default:""}},methods:{toggle:function(t){this.transforming||(this.expanded?this.collapse(t):this.expand(t))},onMainAnimationEnd:function(t){this.transforming=!1,this.$emit("expanded")},expand:function(t){this.expanded=!0,this.transforming=!0,this.$emit("expand",t)},collapse:function(t){this.expanded=!1,this.$emit("collapse",t)}},mounted:function(){this.slotChildren=[];for(var t=0;t<this.$slots.default.length;t++)3!==this.$slots.default[t].elm.nodeType&&this.slotChildren.push(this.$slots.default[t]);for(var e="",i=Math.PI*(3+Math.max(["lt","t","rt","r","rb","b","lb","l"].indexOf(this.direction),0))/4,a=0;a<this.slotChildren.length;a++){var n=(Math.PI-2*this.offset)/(this.slotChildren.length-1)*a+this.offset+i,r=(Math.cos(n)*this.radius).toFixed(2),o=(Math.sin(n)*this.radius).toFixed(2);e+=".expand .palette-button-"+this._uid+"-sub-"+a+"{transform:translate("+r+"px,"+o+"px) rotate(720deg);transition-delay:"+.03*a+"s}",this.slotChildren[a].elm.className+=" palette-button-"+this._uid+"-sub-"+a}this.styleNode=document.createElement("style"),this.styleNode.type="text/css",this.styleNode.rel="stylesheet",this.styleNode.title="palette button style",this.styleNode.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(this.styleNode)},destroyed:function(){this.styleNode&&this.styleNode.parentNode.removeChild(this.styleNode)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(73),n=i(74),r=i(3),o=i(89),s=i(1);i.n(s).a.prototype.$isServer||i(200);var l={3:-45,5:-20,7:-15};e.default={name:"picker-slot",props:{values:{type:Array,default:function(){return[]}},value:{},visibleItemCount:{type:Number,default:5},valueKey:String,rotateEffect:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},textAlign:{type:String,default:"center"},flex:{},className:{},content:{},itemHeight:{type:Number,default:36},defaultIndex:{type:Number,default:0,require:!1}},data:function(){return{currentValue:this.value,mutatingValues:this.values,dragging:!1,animationFrameId:null}},mixins:[o.a],computed:{flexStyle:function(){return{flex:this.flex,"-webkit-box-flex":this.flex,"-moz-box-flex":this.flex,"-ms-flex":this.flex}},classNames:function(){var t="picker-slot-",e=[];this.rotateEffect&&e.push(t+"absolute");var i=this.textAlign||"center";return e.push(t+i),this.divider&&e.push(t+"divider"),this.className&&e.push(this.className),e.join(" ")},contentHeight:function(){return this.itemHeight*this.visibleItemCount},valueIndex:function(){var t=this.valueKey;if(this.currentValue instanceof Object){for(var e=0,i=this.mutatingValues.length;e<i;e++)if(this.currentValue[t]===this.mutatingValues[e][t])return e;return-1}return this.mutatingValues.indexOf(this.currentValue)},dragRange:function(){var t=this.mutatingValues,e=this.visibleItemCount,i=this.itemHeight;return[-i*(t.length-Math.ceil(e/2)),i*Math.floor(e/2)]},minTranslateY:function(){return this.itemHeight*(Math.ceil(this.visibleItemCount/2)-this.mutatingValues.length)},maxTranslateY:function(){return this.itemHeight*Math.floor(this.visibleItemCount/2)}},methods:{value2Translate:function(t){var e=this.mutatingValues.indexOf(t),i=Math.floor(this.visibleItemCount/2),a=this.itemHeight;if(-1!==e)return(e-i)*-a},translate2Value:function(t){var e=this.itemHeight,i=-((t=Math.round(t/e)*e)-Math.floor(this.visibleItemCount/2)*e)/e;return this.mutatingValues[i]},updateRotate:function(t,e){var a=this;if(!this.divider){var o=this.dragRange,s=this.$refs.wrapper;e||(e=s.querySelectorAll(".picker-item")),void 0===t&&(t=n.a.getElementTranslate(s).top);var h=Math.ceil(this.visibleItemCount/2),u=l[this.visibleItemCount]||-20;[].forEach.call(e,function(e,s){var l=(s*a.itemHeight-(o[1]-t))/a.itemHeight,c=u*l;c>180&&(c=180),c<-180&&(c=-180),function(t,e){if(t){var i=n.a.transformProperty;t.style[i]=t.style[i].replace(/rotateX\(.+?deg\)/gi,"")+" rotateX("+e+"deg)"}}(e,c),Math.abs(l)>h?i.i(r.a)(e,"picker-item-far"):i.i(r.b)(e,"picker-item-far")})}},planUpdateRotate:function(){var t=this,e=this.$refs.wrapper;cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame(function(){t.updateRotate()}),i.i(r.c)(e,n.a.transitionEndProperty,function(){cancelAnimationFrame(t.animationFrameId),t.animationFrameId=null})},initEvents:function(){var t,e,r,o=this,s=this.$refs.wrapper,l={};i.i(a.a)(s,{start:function(t){cancelAnimationFrame(o.animationFrameId),o.animationFrameId=null,l={range:o.dragRange,start:new Date,startLeft:t.pageX,startTop:t.pageY,startTranslateTop:n.a.getElementTranslate(s).top},r=s.querySelectorAll(".picker-item")},drag:function(i){o.dragging=!0,l.left=i.pageX,l.top=i.pageY;var a=l.top-l.startTop,h=l.startTranslateTop+a;n.a.translateElement(s,null,h),t=h-e||h,e=h,o.rotateEffect&&o.updateRotate(e,r)},end:function(e){o.dragging=!1;var i,a,r,h=n.a.getElementTranslate(s).top,u=new Date-l.start,c=Math.abs(l.startTranslateTop-h),d=o.itemHeight,f=o.visibleItemCount;c<6&&(i=o.$el.getBoundingClientRect(),(a=Math.floor((e.clientY-(i.top+(f-1)*d/2))/d)*d)>o.maxTranslateY&&(a=o.maxTranslateY),t=0,h-=a),u<300&&(r=h+7*t);var p=l.range;o.$nextTick(function(){var t;t=r?Math.round(r/d)*d:Math.round(h/d)*d,t=Math.max(Math.min(t,p[1]),p[0]),n.a.translateElement(s,null,t),o.currentValue=o.translate2Value(t),o.rotateEffect&&o.planUpdateRotate()}),l={}}})},doOnValueChange:function(){var t=this.currentValue,e=this.$refs.wrapper;n.a.translateElement(e,null,this.value2Translate(t))},doOnValuesChange:function(){var t=this,e=this.$el.querySelectorAll(".picker-item");[].forEach.call(e,function(e,i){n.a.translateElement(e,null,t.itemHeight*i)}),this.rotateEffect&&this.planUpdateRotate()}},mounted:function(){this.ready=!0,this.divider||(this.initEvents(),this.doOnValueChange()),this.rotateEffect&&this.doOnValuesChange()},watch:{values:function(t){this.mutatingValues=t},mutatingValues:function(t){var e=this;-1===this.valueIndex&&(this.currentValue=(t||[])[0]),this.rotateEffect&&this.$nextTick(function(){e.doOnValuesChange()})},currentValue:function(t){this.doOnValueChange(),this.rotateEffect&&this.planUpdateRotate(),this.$emit("input",t),this.dispatch("picker","slotValueChange",this)},defaultIndex:function(t){void 0!==this.mutatingValues[t]&&this.mutatingValues.length>=t+1&&(this.currentValue=this.mutatingValues[t])}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-picker",componentName:"picker",props:{slots:{type:Array},showToolbar:{type:Boolean,default:!1},visibleItemCount:{type:Number,default:5},valueKey:String,rotateEffect:{type:Boolean,default:!1},itemHeight:{type:Number,default:36}},created:function(){this.$on("slotValueChange",this.slotValueChange),this.slotValueChange()},methods:{slotValueChange:function(){this.$emit("change",this,this.values)},getSlot:function(t){var e,i=this.slots||[],a=0,n=this.$children.filter(function(t){return"picker-slot"===t.$options.name});return i.forEach(function(i,r){i.divider||(t===a&&(e=n[r]),a++)}),e},getSlotValue:function(t){var e=this.getSlot(t);return e?e.currentValue:null},setSlotValue:function(t,e){var i=this.getSlot(t);i&&(i.currentValue=e)},getSlotValues:function(t){var e=this.getSlot(t);return e?e.mutatingValues:null},setSlotValues:function(t,e){var i=this.getSlot(t);i&&(i.mutatingValues=e)},getValues:function(){return this.values},setValues:function(t){var e=this;if(this.slotCount!==(t=t||[]).length)throw new Error("values length is not equal slot count.");t.forEach(function(t,i){e.setSlotValue(i,t)})}},computed:{values:{get:function(){var t=[],e=0;return(this.slots||[]).forEach(function(i){i.divider||(i.valueIndex=e++,t[i.valueIndex]=(i.values||[])[i.defaultIndex||0])}),t}},slotCount:function(){var t=0;return(this.slots||[]).forEach(function(e){e.divider||t++}),t}},components:{PickerSlot:i(144)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),n=i(1);i.n(n).a.prototype.$isServer||i(12),e.default={name:"mt-popup",mixins:[a.a],props:{modal:{default:!0},modalFade:{default:!1},lockScroll:{default:!1},closeOnClickModal:{default:!0},popupTransition:{type:String,default:"popup-slide"},position:{type:String,default:""}},data:function(){return{currentValue:!1,currentTransition:this.popupTransition}},watch:{currentValue:function(t){this.$emit("input",t)},value:function(t){this.currentValue=t}},beforeMount:function(){"popup-fade"!==this.popupTransition&&(this.currentTransition="popup-slide-"+this.position)},mounted:function(){this.value&&(this.rendered=!0,this.currentValue=!0,this.open())}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-progress",props:{value:Number,barHeight:{type:Number,default:3}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(2);e.default={name:"mt-radio",props:{title:String,align:String,options:{type:Array,required:!0},value:String},data:function(){return{currentValue:this.value}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t)}},components:{XCell:a.a}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(78);e.default={name:"mt-range",props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},value:{type:Number},barHeight:{type:Number,default:1}},computed:{progress:function(){var t=this.value;return void 0===t||null===t?0:Math.floor((t-this.min)/(this.max-this.min)*100)}},mounted:function(){var t=this,e=this.$refs.thumb,n=this.$refs.content,r={};i.i(a.a)(e,{start:function(i){if(!t.disabled){var a,o,s=(a=n.getBoundingClientRect(),{left:(o=e.getBoundingClientRect()).left-a.left,top:o.top-a.top,thumbBoxLeft:o.left}),l=i.clientX-s.thumbBoxLeft;r={thumbStartLeft:s.left,thumbStartTop:s.top,thumbClickDetalX:l}}},drag:function(e){if(!t.disabled){var i=n.getBoundingClientRect(),a=e.pageX-i.left-r.thumbStartLeft-r.thumbClickDetalX,o=Math.ceil((t.max-t.min)/t.step),s=(r.thumbStartLeft+a-(r.thumbStartLeft+a)%(i.width/o))/i.width;s<0?s=0:s>1&&(s=1),t.$emit("input",Math.round(t.min+s*(t.max-t.min)))}},end:function(){t.disabled||(t.$emit("change",t.value),r={})}})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(2);e.default={name:"mt-search",data:function(){return{visible:!1,currentValue:this.value}},components:{XCell:a.a},watch:{currentValue:function(t){this.$emit("input",t)},value:function(t){this.currentValue=t}},props:{value:String,autofocus:Boolean,show:Boolean,cancelText:{default:"取消"},placeholder:{default:"搜索"},result:Array},mounted:function(){this.autofocus&&this.$refs.input.focus()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=["snake","double-bounce","triple-bounce","fading-circle"];e.default={name:"mt-spinner",computed:{spinner:function(){return"spinner-"+(t=this.type,"[object Number]"==={}.toString.call(t)?(a.length<=t&&(console.warn("'"+t+"' spinner not found, use the default spinner."),t=0),a[t]):(-1===a.indexOf(t)&&(console.warn("'"+t+"' spinner not found, use the default spinner."),t=a[0]),t));var t}},components:{SpinnerSnake:i(153),SpinnerDoubleBounce:i(152),SpinnerTripleBounce:i(154),SpinnerFadingCircle:i(13)},props:{type:{default:0},size:{type:Number,default:28},color:{type:String,default:"#ccc"}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{spinnerColor:function(){return this.color||this.$parent.color||"#ccc"},spinnerSize:function(){return(this.size||this.$parent.size||28)+"px"}},props:{size:Number,color:String}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(5),n=i.n(a);e.default={name:"double-bounce",mixins:[n.a]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(5),n=i.n(a);e.default={name:"fading-circle",mixins:[n.a],created:function(){if(!this.$isServer){this.styleNode=document.createElement("style");var t=".circle-color-"+this._uid+" > div::before { background-color: "+this.spinnerColor+"; }";this.styleNode.type="text/css",this.styleNode.rel="stylesheet",this.styleNode.title="fading circle style",document.getElementsByTagName("head")[0].appendChild(this.styleNode),this.styleNode.appendChild(document.createTextNode(t))}},destroyed:function(){this.styleNode&&this.styleNode.parentNode.removeChild(this.styleNode)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(5),n=i.n(a);e.default={name:"snake",mixins:[n.a]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(5),n=i.n(a);e.default={name:"triple-bounce",mixins:[n.a],computed:{spinnerSize:function(){return(this.size||this.$parent.size||28)/3+"px"},bounceStyle:function(){return{width:this.spinnerSize,height:this.spinnerSize,backgroundColor:this.spinnerColor}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-swipe-item",mounted:function(){this.$parent&&this.$parent.swipeItemCreated(this)},destroyed:function(){this.$parent&&this.$parent.swipeItemDestroyed(this)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(3);e.default={name:"mt-swipe",created:function(){this.dragState={}},data:function(){return{ready:!1,dragging:!1,userScrolling:!1,animating:!1,index:0,pages:[],timer:null,reInitTimer:null,noDrag:!1,isDone:!1}},props:{speed:{type:Number,default:300},defaultIndex:{type:Number,default:0},auto:{type:Number,default:3e3},continuous:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0},noDragWhenSingle:{type:Boolean,default:!0},prevent:{type:Boolean,default:!1},stopPropagation:{type:Boolean,default:!1}},watch:{index:function(t){this.$emit("change",t)}},methods:{swipeItemCreated:function(){var t=this;this.ready&&(clearTimeout(this.reInitTimer),this.reInitTimer=setTimeout(function(){t.reInitPages()},100))},swipeItemDestroyed:function(){var t=this;this.ready&&(clearTimeout(this.reInitTimer),this.reInitTimer=setTimeout(function(){t.reInitPages()},100))},rafTranslate:function(t,e,i,a,n){var r=.88;this.animating=!0;var o=e,s=0;(function e(){if(Math.abs(o-i)<.5)return this.animating=!1,o=i,t.style.webkitTransform="",n&&(n.style.webkitTransform=""),cancelAnimationFrame(s),void(a&&a());o=r*o+(1-r)*i,t.style.webkitTransform="translate3d("+o+"px, 0, 0)",n&&(n.style.webkitTransform="translate3d("+(o-i)+"px, 0, 0)"),s=requestAnimationFrame(e.bind(this))}).call(this)},translate:function(t,e,n,r){var o=arguments,s=this;if(n){this.animating=!0,t.style.webkitTransition="-webkit-transform "+n+"ms ease-in-out",setTimeout(function(){t.style.webkitTransform="translate3d("+e+"px, 0, 0)"},50);var l=!1,h=function(){l||(l=!0,s.animating=!1,t.style.webkitTransition="",t.style.webkitTransform="",r&&r.apply(s,o))};i.i(a.c)(t,"webkitTransitionEnd",h),setTimeout(h,n+100)}else t.style.webkitTransition="",t.style.webkitTransform="translate3d("+e+"px, 0, 0)"},reInitPages:function(){var t=this.$children;this.noDrag=1===t.length&&this.noDragWhenSingle;var e=[],n=Math.floor(this.defaultIndex),r=n>=0&&n<t.length?n:0;this.index=r,t.forEach(function(t,n){e.push(t.$el),i.i(a.b)(t.$el,"is-active"),n===r&&i.i(a.a)(t.$el,"is-active")}),this.pages=e},doAnimate:function(t,e){var n=this;if(0!==this.$children.length&&(e||!(this.$children.length<2))){var r,o,s,l,h,u,c,d=this.speed||300,f=this.index,p=this.pages,m=p.length;e?(r=e.prevPage,s=e.currentPage,o=e.nextPage,l=e.pageWidth,h=e.offsetLeft,u=e.speedX):(l=this.$el.clientWidth,s=p[f],r=p[f-1],o=p[f+1],this.continuous&&p.length>1&&(r||(r=p[p.length-1]),o||(o=p[0])),r&&(r.style.display="block",this.translate(r,-l)),o&&(o.style.display="block",this.translate(o,l)));var v=this.$children[f].$el;"prev"===t?(f>0&&(c=f-1),this.continuous&&0===f&&(c=m-1)):"next"===t&&(f<m-1&&(c=f+1),this.continuous&&f===m-1&&(c=0));var g=function(){if(void 0!==c){var t=n.$children[c].$el;i.i(a.b)(v,"is-active"),i.i(a.a)(t,"is-active"),n.index=c}n.isDone&&n.end(),r&&(r.style.display=""),o&&(o.style.display="")};setTimeout(function(){"next"===t?(n.isDone=!0,n.before(s),u?n.rafTranslate(s,h,-l,g,o):(n.translate(s,-l,d,g),o&&n.translate(o,0,d))):"prev"===t?(n.isDone=!0,n.before(s),u?n.rafTranslate(s,h,l,g,r):(n.translate(s,l,d,g),r&&n.translate(r,0,d))):(n.isDone=!1,n.translate(s,0,d,g),void 0!==h?(r&&h>0&&n.translate(r,-1*l,d),o&&h<0&&n.translate(o,l,d)):(r&&n.translate(r,-1*l,d),o&&n.translate(o,l,d)))},10)}},next:function(){this.doAnimate("next")},prev:function(){this.doAnimate("prev")},before:function(){this.$emit("before",this.index)},end:function(){this.$emit("end",this.index)},doOnTouchStart:function(t){if(!this.noDrag){var e=this.$el,i=this.dragState,a=t.touches[0];i.startTime=new Date,i.startLeft=a.pageX,i.startTop=a.pageY,i.startTopAbsolute=a.clientY,i.pageWidth=e.offsetWidth,i.pageHeight=e.offsetHeight;var n=this.$children[this.index-1],r=this.$children[this.index],o=this.$children[this.index+1];this.continuous&&this.pages.length>1&&(n||(n=this.$children[this.$children.length-1]),o||(o=this.$children[0])),i.prevPage=n?n.$el:null,i.dragPage=r?r.$el:null,i.nextPage=o?o.$el:null,i.prevPage&&(i.prevPage.style.display="block"),i.nextPage&&(i.nextPage.style.display="block")}},doOnTouchMove:function(t){if(!this.noDrag){var e=this.dragState,i=t.touches[0];e.speedX=i.pageX-e.currentLeft,e.currentLeft=i.pageX,e.currentTop=i.pageY,e.currentTopAbsolute=i.clientY;var a=e.currentLeft-e.startLeft,n=e.currentTopAbsolute-e.startTopAbsolute,r=Math.abs(a),o=Math.abs(n);if(r<5||r>=5&&o>=1.73*r)this.userScrolling=!0;else{this.userScrolling=!1,t.preventDefault();var s=(a=Math.min(Math.max(1-e.pageWidth,a),e.pageWidth-1))<0?"next":"prev";e.prevPage&&"prev"===s&&this.translate(e.prevPage,a-e.pageWidth),this.translate(e.dragPage,a),e.nextPage&&"next"===s&&this.translate(e.nextPage,a+e.pageWidth)}}},doOnTouchEnd:function(){if(!this.noDrag){var t=this.dragState,e=new Date-t.startTime,i=null,a=t.currentLeft-t.startLeft,n=t.currentTop-t.startTop,r=t.pageWidth,o=this.index,s=this.pages.length;if(e<300){var l=Math.abs(a)<5&&Math.abs(n)<5;(isNaN(a)||isNaN(n))&&(l=!0),l&&this.$children[this.index].$emit("tap")}e<300&&void 0===t.currentLeft||((e<300||Math.abs(a)>r/2)&&(i=a<0?"next":"prev"),this.continuous||(0===o&&"prev"===i||o===s-1&&"next"===i)&&(i=null),this.$children.length<2&&(i=null),this.doAnimate(i,{offsetLeft:a,pageWidth:t.pageWidth,prevPage:t.prevPage,currentPage:t.dragPage,nextPage:t.nextPage,speedX:t.speedX}),this.dragState={})}},initTimer:function(){var t=this;this.auto>0&&!this.timer&&(this.timer=setInterval(function(){if(!t.continuous&&t.index>=t.pages.length-1)return t.clearTimer();t.dragging||t.animating||t.next()},this.auto))},clearTimer:function(){clearInterval(this.timer),this.timer=null}},destroyed:function(){this.timer&&this.clearTimer(),this.reInitTimer&&(clearTimeout(this.reInitTimer),this.reInitTimer=null)},mounted:function(){var t=this;this.ready=!0,this.initTimer(),this.reInitPages();var e=this.$el;e.addEventListener("touchstart",function(e){t.prevent&&e.preventDefault(),t.stopPropagation&&e.stopPropagation(),t.animating||(t.dragging=!0,t.userScrolling=!1,t.doOnTouchStart(e))}),e.addEventListener("touchmove",function(e){t.dragging&&(t.timer&&t.clearTimer(),t.doOnTouchMove(e))}),e.addEventListener("touchend",function(e){if(t.userScrolling)return t.dragging=!1,void(t.dragState={});t.dragging&&(t.initTimer(),t.doOnTouchEnd(e),t.dragging=!1)})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-switch",props:{value:Boolean,disabled:{type:Boolean,default:!1}},computed:{currentValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-tab-container-item",props:["id"]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),n=i(199),r=i.n(n);e.default={name:"mt-tab-container",props:{value:{},swipeable:Boolean},data:function(){return{start:{x:0,y:0},swiping:!1,activeItems:[],pageWidth:0,currentActive:this.value}},watch:{value:function(t){this.currentActive=t},currentActive:function(t,e){if(this.$emit("input",t),this.swipeable){var i=r()(this.$children,function(t){return t.id===e});this.swipeLeaveTransition(i)}}},mounted:function(){this.swipeable&&(this.wrap=this.$refs.wrap,this.pageWidth=this.wrap.clientWidth,this.limitWidth=this.pageWidth/4)},methods:{swipeLeaveTransition:function(t){var e=this;void 0===t&&(t=0),"number"!=typeof this.index&&(this.index=r()(this.$children,function(t){return t.id===e.currentActive}),this.swipeMove(-t*this.pageWidth)),setTimeout(function(){e.wrap.classList.add("swipe-transition"),e.swipeMove(-e.index*e.pageWidth),i.i(a.c)(e.wrap,"webkitTransitionEnd",function(t){e.wrap.classList.remove("swipe-transition"),e.wrap.style.webkitTransform="",e.swiping=!1,e.index=null})},0)},swipeMove:function(t){this.wrap.style.webkitTransform="translate3d("+t+"px, 0, 0)",this.swiping=!0},startDrag:function(t){this.swipeable&&(t=t.changedTouches?t.changedTouches[0]:t,this.dragging=!0,this.start.x=t.pageX,this.start.y=t.pageY)},onDrag:function(t){var e=this;if(this.dragging){var i=t.changedTouches?t.changedTouches[0]:t,a=i.pageY-this.start.y,n=i.pageX-this.start.x,o=Math.abs(a),s=Math.abs(n);if(!(s<5||s>=5&&o>=1.73*s)){t.preventDefault();var l=this.$children.length-1,h=r()(this.$children,function(t){return t.id===e.currentActive}),u=n-h*this.pageWidth;Math.abs(u)>l*this.pageWidth||u>0&&u<this.pageWidth?this.swiping=!1:(this.offsetLeft=n,this.index=h,this.swipeMove(u))}}},endDrag:function(){if(this.swiping){this.dragging=!1;var t=this.offsetLeft>0?-1:1;if(Math.abs(this.offsetLeft)>this.limitWidth){this.index+=t;var e=this.$children[this.index];if(e)return void(this.currentActive=e.id)}this.swipeLeaveTransition()}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-tab-item",props:["id"]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-tabbar",props:{fixed:Boolean,value:{}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{message:String,className:{type:String,default:""},position:{type:String,default:"middle"},iconClass:{type:String,default:""}},data:function(){return{visible:!1}},computed:{customClass:function(){var t=[];switch(this.position){case"top":t.push("is-placetop");break;case"bottom":t.push("is-placebottom");break;default:t.push("is-placemiddle")}return t.push(this.className),t.join(" ")}}}},function(t,e,i){"use strict";var a=i(128),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(129),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(130),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(131),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(133),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(134),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(135),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(136),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(137),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(138),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a,n=i(1),r=i.n(n),o=r.a.extend(i(139));e.a={open:function(t){void 0===t&&(t={}),a||(a=new o({el:document.createElement("div")})),a.visible||(a.text="string"==typeof t?t:t.text||"",a.spinnerType=t.spinnerType||"snake",document.body.appendChild(a.$el),r.a.nextTick(function(){a.visible=!0}))},close:function(){a&&(a.visible=!1)}}},function(t,e,i){"use strict";var a=i(4),n=(i.n(a),i(65));i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(1),n="@@InfiniteScroll",r=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},o=i.n(a).a.prototype.$isServer?{}:document.defaultView.getComputedStyle,s=function(t){return t===window?r(window):t.getBoundingClientRect().top+r(window)},l=function(t){for(var e=t.parentNode;e;){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},h=function(){if(!this.binded){this.binded=!0;var t,e,i,a,n,r,s,l,h=this,c=h.el;h.scrollEventTarget=function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var i=o(e).overflowY;if("scroll"===i||"auto"===i)return e;e=e.parentNode}return window}(c),h.scrollListener=(t=u.bind(h),e=200,l=function(){t.apply(r,s),a=i},function(){if(r=this,s=arguments,i=Date.now(),n&&(clearTimeout(n),n=null),a){var t=e-(i-a);t<0?l():n=setTimeout(function(){l()},t)}else l()}),h.scrollEventTarget.addEventListener("scroll",h.scrollListener);var d=c.getAttribute("infinite-scroll-disabled"),f=!1;d&&(this.vm.$watch(d,function(t){h.disabled=t,!t&&h.immediateCheck&&u.call(h)}),f=Boolean(h.vm[d])),h.disabled=f;var p=c.getAttribute("infinite-scroll-distance"),m=0;p&&(m=Number(h.vm[p]||p),isNaN(m)&&(m=0)),h.distance=m;var v=c.getAttribute("infinite-scroll-immediate-check"),g=!0;v&&(g=Boolean(h.vm[v])),h.immediateCheck=g,g&&u.call(h);var C=c.getAttribute("infinite-scroll-listen-for-event");C&&h.vm.$on(C,function(){u.call(h)})}},u=function(t){var e=this.scrollEventTarget,i=this.el,a=this.distance;if(!0===t||!this.disabled){var n=r(e),o=n+function(t){return t===window?document.documentElement.clientHeight:t.clientHeight}(e),l=!1;if(e===i)l=e.scrollHeight-o<=a;else l=o+a>=s(i)-s(e)+i.offsetHeight+n;l&&this.expression&&this.expression()}};e.a={bind:function(t,e,i){t[n]={el:t,vm:i.context,expression:e.value};var a=arguments,r=function(){t[n].vm.$nextTick(function(){l(t)&&h.call(t[n],a),t[n].bindTryCount=0;var e=function(){t[n].bindTryCount>10||(t[n].bindTryCount++,l(t)?h.call(t[n],a):setTimeout(e,50))};e()})};t[n].vm._isMounted?r():t[n].vm.$on("hook:mounted",r)},unbind:function(t){t[n]&&t[n].scrollEventTarget&&t[n].scrollEventTarget.removeEventListener("scroll",t[n].scrollListener)}}},function(t,e,i){"use strict";var a=i(64),n=i(4),r=(i.n(n),i(1)),o=i.n(r),s=function(t){t.directive("InfiniteScroll",a.a)};!o.a.prototype.$isServer&&window.Vue&&(window.infiniteScroll=a.a,o.a.use(s)),a.a.install=s,e.a=a.a},function(t,e,i){"use strict";var a=i(4),n=(i.n(a),i(67));i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(201),n=i.n(a),r=i(4);i.n(r);e.a=n.a},function(t,e,i){"use strict";var a=i(140),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(70);i.d(e,"a",function(){return a.a})},function(t,e,i){"use strict";var a,n,r=i(1),o=i.n(r),s=i(141),l=i.n(s),h={title:"提示",message:"",type:"",showInput:!1,showClose:!0,modalFade:!1,lockScroll:!1,closeOnClickModal:!0,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonClass:"",cancelButtonClass:""},u=function(t){for(var e=arguments,i=1,a=arguments.length;i<a;i++){var n=e[i];for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];void 0!==o&&(t[r]=o)}}return t},c=o.a.extend(l.a),d=[],f=function(t){if(a){var e=a.callback;if("function"==typeof e&&(n.showInput?e(n.inputValue,t):e(t)),a.resolve){var i=a.options.$type;"confirm"===i||"prompt"===i?"confirm"===t?n.showInput?a.resolve({value:n.inputValue,action:t}):a.resolve(t):"cancel"===t&&a.reject&&a.reject(t):a.resolve(t)}}},p=function(){if(n||((n=new c({el:document.createElement("div")})).callback=f),(!n.value||n.closeTimer)&&d.length>0){var t=(a=d.shift()).options;for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);void 0===t.callback&&(n.callback=f),["modal","showClose","closeOnClickModal","closeOnPressEscape"].forEach(function(t){void 0===n[t]&&(n[t]=!0)}),document.body.appendChild(n.$el),o.a.nextTick(function(){n.value=!0})}},m=function(t,e){if("string"==typeof t?(t={title:t},arguments[1]&&(t.message=arguments[1]),arguments[2]&&(t.type=arguments[2])):t.callback&&!e&&(e=t.callback),"undefined"!=typeof Promise)return new Promise(function(i,a){d.push({options:u({},h,m.defaults||{},t),callback:e,resolve:i,reject:a}),p()});d.push({options:u({},h,m.defaults||{},t),callback:e}),p()};m.setDefaults=function(t){m.defaults=t},m.alert=function(t,e,i){return"object"==typeof e&&(i=e,e=""),m(u({title:e,message:t,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},i))},m.confirm=function(t,e,i){return"object"==typeof e&&(i=e,e=""),m(u({title:e,message:t,$type:"confirm",showCancelButton:!0},i))},m.prompt=function(t,e,i){return"object"==typeof e&&(i=e,e=""),m(u({title:e,message:t,showCancelButton:!0,showInput:!0,$type:"prompt"},i))},m.close=function(){n&&(n.value=!1,d=[],a=null)},e.a=m},function(t,e,i){"use strict";var a=i(142),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(143),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(1),n=!1,r=!i.n(a).a.prototype.$isServer&&"ontouchstart"in window;e.a=function(t,e){var i=function(t){e.drag&&e.drag(r?t.changedTouches[0]||t.touches[0]:t)},a=function(t){r||(document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a)),document.onselectstart=null,document.ondragstart=null,n=!1,e.end&&e.end(r?t.changedTouches[0]||t.touches[0]:t)};t.addEventListener(r?"touchstart":"mousedown",function(t){n||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},r||(document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)),n=!0,e.start&&(t.preventDefault(),e.start(r?t.changedTouches[0]||t.touches[0]:t)))}),r&&(t.addEventListener("touchmove",i),t.addEventListener("touchend",a),t.addEventListener("touchcancel",a))}},function(t,e,i){"use strict";var a=i(1),n={};if(!i.n(a).a.prototype.$isServer){var r,o=document.documentElement.style,s=!1;window.opera&&"[object Opera]"===Object.prototype.toString.call(opera)?r="presto":"MozAppearance"in o?r="gecko":"WebkitAppearance"in o?r="webkit":"string"==typeof navigator.cpuClass&&(r="trident");var l={trident:"-ms-",gecko:"-moz-",webkit:"-webkit-",presto:"-o-"}[r],h={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[r],u=document.createElement("div"),c=h+"Perspective",d=h+"Transform",f=l+"transform",p=h+"Transition",m=l+"transition",v=h.toLowerCase()+"TransitionEnd";void 0!==u.style[c]&&(s=!0);var g=function(t){var e={left:0,top:0};if(null===t||null===t.style)return e;var i=t.style[d],a=/translate\(\s*(-?\d+(\.?\d+?)?)px,\s*(-?\d+(\.\d+)?)px\)\s*translateZ\(0px\)/gi.exec(i);return a&&(e.left=+a[1],e.top=+a[3]),e},C=function(t){if(null!==t&&null!==t.style){var e=t.style[d];e&&(e=e.replace(/translate\(\s*(-?\d+(\.?\d+?)?)px,\s*(-?\d+(\.\d+)?)px\)\s*translateZ\(0px\)/g,""),t.style[d]=e)}};n={transformProperty:d,transformStyleName:f,transitionProperty:p,transitionStyleName:m,transitionEndProperty:v,getElementTranslate:g,translateElement:function(t,e,i){if((null!==e||null!==i)&&null!==t&&void 0!==t&&null!==t.style&&(t.style[d]||0!==e||0!==i)){if(null===e||null===i){var a=g(t);null===e&&(e=a.left),null===i&&(i=a.top)}C(t),t.style[d]+=s?" translate("+(e?e+"px":"0px")+","+(i?i+"px":"0px")+") translateZ(0px)":" translate("+(e?e+"px":"0px")+","+(i?i+"px":"0px")+")"}},cancelTranslateElement:C}}e.a=n},function(t,e,i){"use strict";var a=i(147),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(148),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(149),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(1),n=!1,r=!i.n(a).a.prototype.$isServer&&"ontouchstart"in window;e.a=function(t,e){var i=function(t){e.drag&&e.drag(r?t.changedTouches[0]||t.touches[0]:t)},a=function(t){r||(document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a)),document.onselectstart=null,document.ondragstart=null,n=!1,e.end&&e.end(r?t.changedTouches[0]||t.touches[0]:t)};t.addEventListener(r?"touchstart":"mousedown",function(t){n||(t.preventDefault(),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},r||(document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)),n=!0,e.start&&e.start(r?t.changedTouches[0]||t.touches[0]:t))}),r&&(t.addEventListener("touchmove",i),t.addEventListener("touchend",a),t.addEventListener("touchcancel",a))}},function(t,e,i){"use strict";var a=i(150),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(4),n=(i.n(a),i(155)),r=i.n(n);i.d(e,"a",function(){return r.a})},function(t,e,i){"use strict";var a=i(156),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(157),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(158),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(159),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(160),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(161),n=i.n(a);i.d(e,"a",function(){return n.a})},function(t,e,i){"use strict";var a=i(88);i.d(e,"a",function(){return a.a})},function(t,e,i){"use strict";var a=i(1),n=i.n(a),r=n.a.extend(i(162)),o=[],s=function(t){t.target.parentNode&&t.target.parentNode.removeChild(t.target)};r.prototype.close=function(){var t;this.visible=!1,this.$el.addEventListener("transitionend",s),this.closed=!0,(t=this)&&o.push(t)};e.a=function(t){void 0===t&&(t={});var e=t.duration||3e3,i=function(){if(o.length>0){var t=o[0];return o.splice(0,1),t}return new r({el:document.createElement("div")})}();return i.closed=!1,clearTimeout(i.timer),i.message="string"==typeof t?t:t.message,i.position=t.position||"middle",i.className=t.className||"",i.iconClass=t.iconClass||"",document.body.appendChild(i.$el),n.a.nextTick(function(){i.visible=!0,i.$el.removeEventListener("transitionend",s),~e&&(i.timer=setTimeout(function(){i.closed||i.close()},e))}),i}},function(t,e,i){"use strict";e.a={methods:{dispatch:function(t,e,i){for(var a=this.$parent,n=a.$options.componentName;a&&(!n||n!==t);)(a=a.$parent)&&(n=a.$options.componentName);a&&a.$emit.apply(a,[e].concat(i))},broadcast:function(t,e,i){(function t(e,i,a){this.$children.forEach(function(n){n.$options.componentName===e?n.$emit.apply(n,[i].concat(a)):t.apply(n,[e,i].concat(a))})}).call(this,t,e,i)}}}},function(t,e,i){"use strict";var a=i(1),n=i.n(a),r=i(3),o=!1,s=function(){if(!n.a.prototype.$isServer){var t=h.modalDom;return t?o=!0:(o=!1,t=document.createElement("div"),h.modalDom=t,t.addEventListener("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),t.addEventListener("click",function(){h.doOnModalClick&&h.doOnModalClick()})),t}},l={},h={zIndex:2e3,modalFade:!0,getInstance:function(t){return l[t]},register:function(t,e){t&&e&&(l[t]=e)},deregister:function(t){t&&(l[t]=null,delete l[t])},nextZIndex:function(){return h.zIndex++},modalStack:[],doOnModalClick:function(){var t=h.modalStack[h.modalStack.length-1];if(t){var e=h.getInstance(t.id);e&&e.closeOnClickModal&&e.close()}},openModal:function(t,e,a,l,h){if(!n.a.prototype.$isServer&&t&&void 0!==e){this.modalFade=h;for(var u=this.modalStack,c=0,d=u.length;c<d;c++){if(u[c].id===t)return}var f=s();if(i.i(r.a)(f,"v-modal"),this.modalFade&&!o&&i.i(r.a)(f,"v-modal-enter"),l)l.trim().split(/\s+/).forEach(function(t){return i.i(r.a)(f,t)});setTimeout(function(){i.i(r.b)(f,"v-modal-enter")},200),a&&a.parentNode&&11!==a.parentNode.nodeType?a.parentNode.appendChild(f):document.body.appendChild(f),e&&(f.style.zIndex=e),f.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:l})}},closeModal:function(t){var e=this.modalStack,a=s();if(e.length>0){var n=e[e.length-1];if(n.id===t){if(n.modalClass)n.modalClass.trim().split(/\s+/).forEach(function(t){return i.i(r.b)(a,t)});e.pop(),e.length>0&&(a.style.zIndex=e[e.length-1].zIndex)}else for(var o=e.length-1;o>=0;o--)if(e[o].id===t){e.splice(o,1);break}}0===e.length&&(this.modalFade&&i.i(r.a)(a,"v-modal-leave"),setTimeout(function(){0===e.length&&(a.parentNode&&a.parentNode.removeChild(a),a.style.display="none",h.modalDom=void 0),i.i(r.b)(a,"v-modal-leave")},200))}};!n.a.prototype.$isServer&&window.addEventListener("keydown",function(t){if(27===t.keyCode&&h.modalStack.length>0){var e=h.modalStack[h.modalStack.length-1];if(!e)return;var i=h.getInstance(e.id);i.closeOnPressEscape&&i.close()}}),e.a=h},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSJ3aGl0ZSI+CiAgPHBhdGggb3BhY2l0eT0iLjI1IiBkPSJNMTYgMCBBMTYgMTYgMCAwIDAgMTYgMzIgQTE2IDE2IDAgMCAwIDE2IDAgTTE2IDQgQTEyIDEyIDAgMCAxIDE2IDI4IEExMiAxMiAwIDAgMSAxNiA0Ii8+CiAgPHBhdGggZD0iTTE2IDAgQTE2IDE2IDAgMCAxIDMyIDE2IEwyOCAxNiBBMTIgMTIgMCAwIDAgMTYgNHoiPgogICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGZyb209IjAgMTYgMTYiIHRvPSIzNjAgMTYgMTYiIGR1cj0iMC44cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+CiAgPC9wYXRoPgo8L3N2Zz4K"},function(t,e,i){var a=i(0)(i(15),i(171),function(t){i(100)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(16),i(173),function(t){i(102)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(17),i(177),function(t){i(106)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(18),i(169),function(t){i(98)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(19),i(185),function(t){i(113)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(20),i(196),function(t){i(124)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(21),i(181),function(t){i(109)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(22),i(187),function(t){i(116)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(23),i(179),function(t){i(108)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(24),i(164),function(t){i(93)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(25),i(165),function(t){i(94)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(26),i(191),function(t){i(119)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(27),i(193),function(t){i(121)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(28),i(186),function(t){i(114),i(115)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(29),i(195),function(t){i(123)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(30),i(184),function(t){i(112)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(31),i(163),function(t){i(92)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(32),i(198),function(t){i(126)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(33),i(192),function(t){i(120)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(34),i(167),function(t){i(96)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(35),i(190),function(t){i(118)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(36),i(194),function(t){i(122)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(37),i(197),function(t){i(125)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(38),i(189),null,null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(40),i(183),function(t){i(111)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(42),i(174),function(t){i(103)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(43),i(170),function(t){i(99)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(44),i(180),null,null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(45),i(166),function(t){i(95)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(46),i(178),function(t){i(107)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(47),i(188),function(t){i(117)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(48),i(172),function(t){i(101)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(49),i(176),function(t){i(105)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(50),i(182),function(t){i(110)},null,null);t.exports=a.exports},function(t,e,i){var a=i(0)(i(51),i(168),function(t){i(97)},null,null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"picker-slot",class:t.classNames,style:t.flexStyle},[t.divider?t._e():i("div",{ref:"wrapper",staticClass:"picker-slot-wrapper",class:{dragging:t.dragging},style:{height:t.contentHeight+"px"}},t._l(t.mutatingValues,function(e){return i("div",{staticClass:"picker-item",class:{"picker-selected":e===t.currentValue},style:{height:t.itemHeight+"px",lineHeight:t.itemHeight+"px"}},[t._v("\n      "+t._s("object"==typeof e&&e[t.valueKey]?e[t.valueKey]:e)+"\n    ")])})),t._v(" "),t.divider?i("div",[t._v(t._s(t.content))]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mint-indexlist"},[i("ul",{ref:"content",staticClass:"mint-indexlist-content",style:{height:t.currentHeight+"px","margin-right":t.navWidth+"px"}},[t._t("default")],2),t._v(" "),i("div",{ref:"nav",staticClass:"mint-indexlist-nav",on:{touchstart:t.handleTouchStart}},[i("ul",{staticClass:"mint-indexlist-navlist"},t._l(t.sections,function(e){return i("li",{staticClass:"mint-indexlist-navitem"},[t._v(t._s(e.index))])}))]),t._v(" "),t.showIndicator?i("div",{directives:[{name:"show",rawName:"v-show",value:t.moving,expression:"moving"}],staticClass:"mint-indexlist-indicator"},[t._v(t._s(t.currentIndicator))]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"mint-indexsection"},[e("p",{staticClass:"mint-indexsection-index"},[this._v(this._s(this.index))]),this._v(" "),e("ul",[this._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mint-swipe"},[i("div",{ref:"wrap",staticClass:"mint-swipe-items-wrap"},[t._t("default")],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showIndicators,expression:"showIndicators"}],staticClass:"mint-swipe-indicators"},t._l(t.pages,function(e,a){return i("div",{staticClass:"mint-swipe-indicator",class:{"is-active":a===t.index}})}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-progress"},[t._t("start"),t._v(" "),i("div",{staticClass:"mt-progress-content"},[i("div",{staticClass:"mt-progress-runway",style:{height:t.barHeight+"px"}}),t._v(" "),i("div",{staticClass:"mt-progress-progress",style:{width:t.value+"%",height:t.barHeight+"px"}})]),t._v(" "),t._t("end")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"mint-toast-pop"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-toast",class:t.customClass,style:{padding:""===t.iconClass?"10px":"20px"}},[""!==t.iconClass?i("i",{staticClass:"mint-toast-icon",class:t.iconClass}):t._e(),t._v(" "),i("span",{staticClass:"mint-toast-text",style:{"padding-top":""===t.iconClass?"0":"10px"}},[t._v(t._s(t.message))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("x-cell",{directives:[{name:"clickoutside",rawName:"v-clickoutside:touchstart",value:t.swipeMove,expression:"swipeMove",arg:"touchstart"}],ref:"cell",staticClass:"mint-cell-swipe",attrs:{title:t.title,icon:t.icon,label:t.label,to:t.to,"is-link":t.isLink,value:t.value},nativeOn:{click:function(e){t.swipeMove()},touchstart:function(e){t.startDrag(e)},touchmove:function(e){t.onDrag(e)},touchend:function(e){t.endDrag(e)}}},[i("div",{ref:"right",staticClass:"mint-cell-swipe-buttongroup",slot:"right"},t._l(t.right,function(e){return i("a",{staticClass:"mint-cell-swipe-button",style:e.style,domProps:{innerHTML:t._s(e.content)},on:{click:function(i){i.preventDefault(),i.stopPropagation(),e.handler&&e.handler(),t.swipeMove()}}})})),t._v(" "),i("div",{ref:"left",staticClass:"mint-cell-swipe-buttongroup",slot:"left"},t._l(t.left,function(e){return i("a",{staticClass:"mint-cell-swipe-button",style:e.style,domProps:{innerHTML:t._s(e.content)},on:{click:function(i){i.preventDefault(),i.stopPropagation(),e.handler&&e.handler(),t.swipeMove()}}})})),t._v(" "),t._t("default"),t._v(" "),t.$slots.title?i("span",{slot:"title"},[t._t("title")],2):t._e(),t._v(" "),t.$slots.icon?i("span",{slot:"icon"},[t._t("icon")],2):t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mint-spinner-triple-bounce"},[e("div",{staticClass:"mint-spinner-triple-bounce-bounce1",style:this.bounceStyle}),this._v(" "),e("div",{staticClass:"mint-spinner-triple-bounce-bounce2",style:this.bounceStyle}),this._v(" "),e("div",{staticClass:"mint-spinner-triple-bounce-bounce3",style:this.bounceStyle})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"actionsheet-float"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.currentValue,expression:"currentValue"}],staticClass:"mint-actionsheet"},[i("ul",{staticClass:"mint-actionsheet-list",style:{"margin-bottom":t.cancelText?"5px":"0"}},t._l(t.actions,function(e,a){return i("li",{staticClass:"mint-actionsheet-listitem",on:{click:function(i){i.stopPropagation(),t.itemClick(e,a)}}},[t._v(t._s(e.name))])})),t._v(" "),t.cancelText?i("a",{staticClass:"mint-actionsheet-button",on:{click:function(e){e.stopPropagation(),t.currentValue=!1}}},[t._v(t._s(t.cancelText))]):t._e()])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mint-tab-container",on:{touchstart:this.startDrag,mousedown:this.startDrag,touchmove:this.onDrag,mousemove:this.onDrag,mouseup:this.endDrag,touchend:this.endDrag}},[e("div",{ref:"wrap",staticClass:"mint-tab-container-wrap"},[this._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"mint-badge",class:["is-"+this.type,"is-size-"+this.size],style:{backgroundColor:this.color}},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"mint-spinner-snake",style:{"border-top-color":this.spinnerColor,"border-left-color":this.spinnerColor,"border-bottom-color":this.spinnerColor,height:this.spinnerSize,width:this.spinnerSize}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["mint-spinner-fading-circle circle-color-"+this._uid],style:{width:this.spinnerSize,height:this.spinnerSize}},this._l(12,function(t){return e("div",{staticClass:"mint-spinner-fading-circle-circle",class:["is-circle"+(t+1)]})}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"mint-tab-item",class:{"is-selected":t.$parent.value===t.id},on:{click:function(e){t.$parent.$emit("input",t.id)}}},[i("div",{staticClass:"mint-tab-item-icon"},[t._t("icon")],2),t._v(" "),i("div",{staticClass:"mint-tab-item-label"},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"mint-button",class:["mint-button--"+t.type,"mint-button--"+t.size,{"is-disabled":t.disabled,"is-plain":t.plain}],attrs:{type:t.nativeType,disabled:t.disabled},on:{click:t.handleClick}},[t.icon||t.$slots.icon?i("span",{staticClass:"mint-button-icon"},[t._t("icon",[t.icon?i("i",{staticClass:"mintui",class:"mintui-"+t.icon}):t._e()])],2):t._e(),t._v(" "),i("label",{staticClass:"mint-button-text"},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"mint-switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"mint-switch-input",attrs:{disabled:t.disabled,type:"checkbox"},domProps:{checked:Array.isArray(t.currentValue)?t._i(t.currentValue,null)>-1:t.currentValue},on:{change:function(e){t.$emit("change",t.currentValue)},__c:function(e){var i=t.currentValue,a=!!e.target.checked;if(Array.isArray(i)){var n=t._i(i,null);a?n<0&&(t.currentValue=i.concat(null)):n>-1&&(t.currentValue=i.slice(0,n).concat(i.slice(n+1)))}else t.currentValue=a}}}),t._v(" "),i("span",{staticClass:"mint-switch-core"}),t._v(" "),i("div",{staticClass:"mint-switch-label"},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"mint-header",class:{"is-fixed":this.fixed}},[e("div",{staticClass:"mint-header-button is-left"},[this._t("left")],2),this._v(" "),e("h1",{staticClass:"mint-header-title",domProps:{textContent:this._s(this.title)}}),this._v(" "),e("div",{staticClass:"mint-header-button is-right"},[this._t("right")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"mint-swipe-item"},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mt-popup",{staticClass:"mint-datetime",attrs:{closeOnClickModal:t.closeOnClickModal,position:"bottom"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("mt-picker",{ref:"picker",staticClass:"mint-datetime-picker",attrs:{slots:t.dateSlots,"visible-item-count":t.visibleItemCount,"show-toolbar":""},on:{change:t.onChange}},[i("span",{staticClass:"mint-datetime-action mint-datetime-cancel",on:{click:function(e){t.visible=!1,t.$emit("cancel")}}},[t._v(t._s(t.cancelText))]),t._v(" "),i("span",{staticClass:"mint-datetime-action mint-datetime-confirm",on:{click:t.confirm}},[t._v(t._s(t.confirmText))])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"mint-tabbar",class:{"is-fixed":this.fixed}},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mint-spinner-double-bounce",style:{width:this.spinnerSize,height:this.spinnerSize}},[e("div",{staticClass:"mint-spinner-double-bounce-bounce1",style:{backgroundColor:this.spinnerColor}}),this._v(" "),e("div",{staticClass:"mint-spinner-double-bounce-bounce2",style:{backgroundColor:this.spinnerColor}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mint-palette-button",class:{expand:t.expanded,"mint-palette-button-active":t.transforming},on:{animationend:t.onMainAnimationEnd,webkitAnimationEnd:t.onMainAnimationEnd,mozAnimationEnd:t.onMainAnimationEnd}},[i("div",{staticClass:"mint-sub-button-container"},[t._t("default")],2),t._v(" "),i("div",{staticClass:"mint-main-button",style:t.mainButtonStyle,on:{touchstart:t.toggle}},[t._v("\n    "+t._s(t.content)+"\n  ")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"mint-cell",attrs:{href:t.href}},[t.isLink?i("span",{staticClass:"mint-cell-mask"}):t._e(),t._v(" "),i("div",{staticClass:"mint-cell-left"},[t._t("left")],2),t._v(" "),i("div",{staticClass:"mint-cell-wrapper"},[i("div",{staticClass:"mint-cell-title"},[t._t("icon",[t.icon?i("i",{staticClass:"mintui",class:"mintui-"+t.icon}):t._e()]),t._v(" "),t._t("title",[i("span",{staticClass:"mint-cell-text",domProps:{textContent:t._s(t.title)}}),t._v(" "),t.label?i("span",{staticClass:"mint-cell-label",domProps:{textContent:t._s(t.label)}}):t._e()])],2),t._v(" "),i("div",{staticClass:"mint-cell-value",class:{"is-link":t.isLink}},[t._t("default",[i("span",{domProps:{textContent:t._s(t.value)}})])],2),t._v(" "),t.isLink?i("i",{staticClass:"mint-cell-allow-right"}):t._e()]),t._v(" "),i("div",{staticClass:"mint-cell-right"},[t._t("right")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mint-msgbox-wrapper"},[i("transition",{attrs:{name:"msgbox-bounce"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"mint-msgbox"},[""!==t.title?i("div",{staticClass:"mint-msgbox-header"},[i("div",{staticClass:"mint-msgbox-title"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),""!==t.message?i("div",{staticClass:"mint-msgbox-content"},[i("div",{staticClass:"mint-msgbox-message",domProps:{innerHTML:t._s(t.message)}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"mint-msgbox-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"input",attrs:{placeholder:t.inputPlaceholder},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value)}}}),t._v(" "),i("div",{staticClass:"mint-msgbox-errormsg",style:{visibility:t.editorErrorMessage?"visible":"hidden"}},[t._v(t._s(t.editorErrorMessage))])])]):t._e(),t._v(" "),i("div",{staticClass:"mint-msgbox-btns"},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.showCancelButton,expression:"showCancelButton"}],class:[t.cancelButtonClasses],on:{click:function(e){t.handleAction("cancel")}}},[t._v(t._s(t.cancelButtonText))]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],class:[t.confirmButtonClasses],on:{click:function(e){t.handleAction("confirm")}}},[t._v(t._s(t.confirmButtonText))])])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("x-cell",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.doCloseActive,expression:"doCloseActive"}],staticClass:"mint-field",class:[{"is-textarea":"textarea"===t.type,"is-nolabel":!t.label}],attrs:{title:t.label}},["textarea"===t.type?i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"textarea",staticClass:"mint-field-core",attrs:{placeholder:t.placeholder,rows:t.rows,disabled:t.disabled,readonly:t.readonly},domProps:{value:t.currentValue},on:{change:function(e){t.$emit("change",t.currentValue)},input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}):i("input",{ref:"input",staticClass:"mint-field-core",attrs:{placeholder:t.placeholder,number:"number"===t.type,type:t.type,disabled:t.disabled,readonly:t.readonly},domProps:{value:t.currentValue},on:{change:function(e){t.$emit("change",t.currentValue)},focus:function(e){t.active=!0},input:t.handleInput}}),t._v(" "),t.disableClear?t._e():i("div",{directives:[{name:"show",rawName:"v-show",value:t.currentValue&&"textarea"!==t.type&&t.active,expression:"currentValue && type !== 'textarea' && active"}],staticClass:"mint-field-clear",on:{click:t.handleClear}},[i("i",{staticClass:"mintui mintui-field-error"})]),t._v(" "),t.state?i("span",{staticClass:"mint-field-state",class:["is-"+t.state]},[i("i",{staticClass:"mintui",class:["mintui-field-"+t.state]})]):t._e(),t._v(" "),i("div",{staticClass:"mint-field-other"},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.$parent.swiping||this.id===this.$parent.currentActive,expression:"$parent.swiping || id === $parent.currentActive"}],staticClass:"mint-tab-container-item"},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e(this.spinner,{tag:"component"})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mint-radiolist",on:{change:function(e){t.$emit("change",t.currentValue)}}},[i("label",{staticClass:"mint-radiolist-title",domProps:{textContent:t._s(t.title)}}),t._v(" "),t._l(t.options,function(e){return i("x-cell",[i("label",{staticClass:"mint-radiolist-label",slot:"title"},[i("span",{staticClass:"mint-radio",class:{"is-right":"right"===t.align}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"mint-radio-input",attrs:{type:"radio",disabled:e.disabled},domProps:{value:e.value||e,checked:t._q(t.currentValue,e.value||e)},on:{__c:function(i){t.currentValue=e.value||e}}}),t._v(" "),i("span",{staticClass:"mint-radio-core"})]),t._v(" "),i("span",{staticClass:"mint-radio-label",domProps:{textContent:t._s(e.label||e)}})])])})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"mint-indicator"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-indicator"},[i("div",{staticClass:"mint-indicator-wrapper",style:{padding:t.text?"20px":"15px"}},[i("spinner",{staticClass:"mint-indicator-spin",attrs:{type:t.convertedSpinnerType,size:32}}),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.text,expression:"text"}],staticClass:"mint-indicator-text"},[t._v(t._s(t.text))])],1),t._v(" "),i("div",{staticClass:"mint-indicator-mask",on:{touchmove:function(t){t.stopPropagation(),t.preventDefault()}}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:this.currentTransition}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.currentValue,expression:"currentValue"}],staticClass:"mint-popup",class:[this.position?"mint-popup-"+this.position:""]},[this._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mint-loadmore"},[i("div",{staticClass:"mint-loadmore-content",class:{"is-dropped":t.topDropped||t.bottomDropped},style:{transform:t.transform}},[t._t("top",[t.topMethod?i("div",{staticClass:"mint-loadmore-top"},["loading"===t.topStatus?i("spinner",{staticClass:"mint-loadmore-spinner",attrs:{size:20,type:"fading-circle"}}):t._e(),t._v(" "),i("span",{staticClass:"mint-loadmore-text"},[t._v(t._s(t.topText))])],1):t._e()]),t._v(" "),t._t("default"),t._v(" "),t._t("bottom",[t.bottomMethod?i("div",{staticClass:"mint-loadmore-bottom"},["loading"===t.bottomStatus?i("spinner",{staticClass:"mint-loadmore-spinner",attrs:{size:20,type:"fading-circle"}}):t._e(),t._v(" "),i("span",{staticClass:"mint-loadmore-text"},[t._v(t._s(t.bottomText))])],1):t._e()])],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-range",class:{"mt-range--disabled":t.disabled}},[t._t("start"),t._v(" "),i("div",{ref:"content",staticClass:"mt-range-content"},[i("div",{staticClass:"mt-range-runway",style:{"border-top-width":t.barHeight+"px"}}),t._v(" "),i("div",{staticClass:"mt-range-progress",style:{width:t.progress+"%",height:t.barHeight+"px"}}),t._v(" "),i("div",{ref:"thumb",staticClass:"mt-range-thumb",style:{left:t.progress+"%"}})]),t._v(" "),t._t("end")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"mint-navbar",class:{"is-fixed":this.fixed}},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mint-checklist",class:{"is-limit":t.max<=t.currentValue.length},on:{change:function(e){t.$emit("change",t.currentValue)}}},[i("label",{staticClass:"mint-checklist-title",domProps:{textContent:t._s(t.title)}}),t._v(" "),t._l(t.options,function(e){return i("x-cell",[i("label",{staticClass:"mint-checklist-label",slot:"title"},[i("span",{staticClass:"mint-checkbox",class:{"is-right":"right"===t.align}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"mint-checkbox-input",attrs:{type:"checkbox",disabled:e.disabled},domProps:{value:e.value||e,checked:Array.isArray(t.currentValue)?t._i(t.currentValue,e.value||e)>-1:t.currentValue},on:{__c:function(i){var a=t.currentValue,n=!!i.target.checked;if(Array.isArray(a)){var r=e.value||e,o=t._i(a,r);n?o<0&&(t.currentValue=a.concat(r)):o>-1&&(t.currentValue=a.slice(0,o).concat(a.slice(o+1)))}else t.currentValue=n}}}),t._v(" "),i("span",{staticClass:"mint-checkbox-core"})]),t._v(" "),i("span",{staticClass:"mint-checkbox-label",domProps:{textContent:t._s(e.label||e)}})])])})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mint-search"},[i("div",{staticClass:"mint-searchbar"},[i("div",{staticClass:"mint-searchbar-inner"},[i("i",{staticClass:"mintui mintui-search"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"mint-searchbar-core",attrs:{type:"search",placeholder:t.placeholder},domProps:{value:t.currentValue},on:{click:function(e){t.visible=!0},input:function(e){e.target.composing||(t.currentValue=e.target.value)}}})]),t._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-searchbar-cancel",domProps:{textContent:t._s(t.cancelText)},on:{click:function(e){t.visible=!1,t.currentValue=""}}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show||t.currentValue,expression:"show || currentValue"}],staticClass:"mint-search-list"},[i("div",{staticClass:"mint-search-list-warp"},[t._t("default",t._l(t.result,function(t,e){return i("x-cell",{key:e,attrs:{title:t}})}))],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"picker",class:{"picker-3d":t.rotateEffect}},[t.showToolbar?i("div",{staticClass:"picker-toolbar"},[t._t("default")],2):t._e(),t._v(" "),i("div",{staticClass:"picker-items"},[t._l(t.slots,function(e){return i("picker-slot",{attrs:{valueKey:t.valueKey,values:e.values||[],"text-align":e.textAlign||"center","visible-item-count":t.visibleItemCount,"class-name":e.className,flex:e.flex,"rotate-effect":t.rotateEffect,divider:e.divider,content:e.content,itemHeight:t.itemHeight,"default-index":e.defaultIndex},model:{value:t.values[e.valueIndex],callback:function(i){var a=t.values,n=e.valueIndex;Array.isArray(a)?a.splice(n,1,i):t.values[e.valueIndex]=i},expression:"values[slot.valueIndex]"}})}),t._v(" "),i("div",{staticClass:"picker-center-highlight",style:{height:t.itemHeight+"px",marginTop:-t.itemHeight/2+"px"}})],2)])},staticRenderFns:[]}},function(t,e){t.exports=i("MII+")},function(t,e){t.exports=i("migS")},function(t,e){t.exports=i("AXdl")},function(t,e,i){t.exports=i(14)}])},Axyt:function(t,e,i){var a=i("/gxq"),n=i("B33o");function r(t,e,i){for(var a=[],n=e[0],r=e[1],o=0;o<t.length;o+=2){var s=t.charCodeAt(o)-64,l=t.charCodeAt(o+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),n=s+=n,r=l+=r,a.push([s/i,l/i])}return a}t.exports=function(t){return function(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var i=t.features,a=0;a<i.length;a++)for(var n=i[a].geometry,o=n.coordinates,s=n.encodeOffsets,l=0;l<o.length;l++){var h=o[l];if("Polygon"===n.type)o[l]=r(h,s[l],e);else if("MultiPolygon"===n.type)for(var u=0;u<h.length;u++){var c=h[u];h[u]=r(c,s[l][u],e)}}t.UTF8Encoding=!1}(t),a.map(a.filter(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var e=t.properties,i=t.geometry,r=i.coordinates,o=[];"Polygon"===i.type&&o.push({type:"polygon",exterior:r[0],interiors:r.slice(1)}),"MultiPolygon"===i.type&&a.each(r,function(t){t[0]&&o.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})});var s=new n(e.name,o,e.cp);return s.properties=e,s})}},B123:function(t,e,i){var a=i("/gxq"),n={get:function(t,e,i){var n=a.clone((r[t]||{})[e]);return i&&a.isArray(n)?n[n.length-1]:n}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},o=n;t.exports=o},B33o:function(t,e,i){var a=i("8b51"),n=i("wUOi"),r=i("C7PF"),o=i("N1qP");function s(t,e,i){if(this.name=t,this.geometries=e,i)i=[i[0],i[1]];else{var a=this.getBoundingRect();i=[a.x+a.width/2,a.y+a.height/2]}this.center=i}s.prototype={constructor:s,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],o=[-e,-e],s=[],l=[],h=this.geometries,u=0;u<h.length;u++)if("polygon"===h[u].type){var c=h[u].exterior;n.fromPoints(c,s,l),r.min(i,i,s),r.max(o,o,l)}return 0===u&&(i[0]=i[1]=o[0]=o[1]=0),this._rect=new a(i[0],i[1],o[0]-i[0],o[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var a=0,n=i.length;a<n;a++)if("polygon"===i[a].type){var r=i[a].exterior,s=i[a].interiors;if(o.contain(r,t[0],t[1])){for(var l=0;l<(s?s.length:0);l++)if(o.contain(s[l]))continue t;return!0}}return!1},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),s=o.width/o.height;i?n||(n=i/s):i=s*n;for(var l=new a(t,e,i,n),h=o.calculateTransform(l),u=this.geometries,c=0;c<u.length;c++)if("polygon"===u[c].type){for(var d=u[c].exterior,f=u[c].interiors,p=0;p<d.length;p++)r.applyTransform(d[p],d[p],h);for(var m=0;m<(f?f.length:0);m++)for(p=0;p<f[m].length;p++)r.applyTransform(f[m][p],f[m][p],h)}(o=this._rect).copy(l),this.center=[o.x+o.width/2,o.y+o.height/2]},cloneShallow:function(t){null==t&&(t=this.name);var e=new s(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}};var l=s;t.exports=l},BDhv:function(t,e,i){var a=i("kM2E");a(a.P+a.R,"Set",{toJSON:i("m9gC")("Set")})},BNYN:function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=".",r="___EC__COMPONENT__CONTAINER___";function o(t){var e={main:"",sub:""};return t&&(t=t.split(n),e.main=t[0]||"",e.sub=t[1]||""),e}var s=0;function l(t,e){var i=a.slice(arguments,2);return this.superClass.prototype[e].apply(t,i)}function h(t,e,i){return this.superClass.prototype[e].apply(t,i)}e.parseClassType=o,e.enableClassExtend=function(t,e){t.$constructor=t,t.extend=function(t){var e=this,i=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return a.extend(i.prototype,t),i.extend=this.extend,i.superCall=l,i.superApply=h,a.inherits(i,this),i.superClass=e,i}},e.enableClassCheck=function(t){var e=["__\0is_clz",s++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}},e.enableClassManagement=function(t,e){e=e||{};var i={};if(t.registerClass=function(t,e){return e&&(function(t){a.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}(e),(e=o(e)).sub?e.sub!==r&&((function(t){var e=i[t.main];return e&&e[r]||((e=i[t.main]={})[r]=!0),e}(e))[e.sub]=t):i[e.main]=t),t},t.getClass=function(t,e,a){var n=i[t];if(n&&n[r]&&(n=e?n[e]:null),a&&!n)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return n},t.getClassesByMainType=function(t){t=o(t);var e=[],n=i[t.main];return n&&n[r]?a.each(n,function(t,i){i!==r&&e.push(t)}):e.push(n),e},t.hasClass=function(t){return t=o(t),!!i[t.main]},t.getAllClassMainTypes=function(){var t=[];return a.each(i,function(e,i){t.push(i)}),t},t.hasSubTypes=function(t){t=o(t);var e=i[t.main];return e&&e[r]},t.parseClassType=o,e.registerWhenExtend){var n=t.extend;n&&(t.extend=function(e){var i=n.call(this,e);return t.registerClass(i,e.type)})}return t},e.setReadOnly=function(t,e){}},BO1k:function(t,e,i){t.exports={default:i("fxRn"),__esModule:!0}},BeCT:function(t,e,i){var a=i("GxVO"),n=i("No7X"),r=a.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){n.buildPath(t,e,!1)}});t.exports=r},BqCv:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("vjPX"),o=i("oDOe"),s=i("ZJ+T"),l=i("0sHC"),h=["axisLine","axisTickLabel","axisName"],u=a.extendComponentView({type:"parallelAxis",init:function(t,e){u.superApply(this,"init",arguments),(this._brushController=new o(e.getZr())).on("brush",n.bind(this._onBrush,this))},render:function(t,e,i,a){if(!function(t,e,i){return i&&"axisAreaSelect"===i.type&&e.findComponents({mainType:"parallelAxis",query:i})[0]===t}(t,e,a)){this.axisModel=t,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new l.Group,this.group.add(this._axisGroup),t.get("show")){var s=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),u=s.coordinateSystem,c=t.getAreaSelectStyle(),d=c.width,f=t.axis.dim,p=u.getAxisLayout(f),m=n.extend({strokeContainThreshold:d},p),v=new r(t,m);n.each(h,v.add,v),this._axisGroup.add(v.getGroup()),this._refreshBrushController(m,c,t,s,d,i);var g=a&&!1===a.animation?null:t;l.groupTransition(o,this._axisGroup,g)}}},_refreshBrushController:function(t,e,i,a,r,o){var h=i.axis.getExtent(),u=h[1]-h[0],c=Math.min(30,.1*Math.abs(u)),d=l.BoundingRect.create({x:h[0],y:-r/2,width:u,height:r});d.x-=c,d.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",clipPath:s.makeRectPanelClipPath(d),isTargetByCursor:s.makeRectIsTargetByCursor(d,o,a),getLinearBrushOtherExtent:s.makeLinearBrushOtherExtent(d,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=t.axis;return n.map(t.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}(i))},_onBrush:function(t,e){var i=this.axisModel,a=i.axis,r=n.map(t,function(t){return[a.coordToData(t.range[0],!0),a.coordToData(t.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:r})},dispose:function(){this._brushController.dispose()}});var c=u;t.exports=c},BuI2:function(t,e,i){i("ecfp");var a=i("Y5nL").extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});t.exports=a},BwZ6:function(t,e,i){var a=i("RYbJ")([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),n={getLineStyle:function(t){var e=a(this,t);return e.lineDash=this.getLineDash(e.lineWidth),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),i=Math.max(t,2),a=4*t;return"solid"!==e&&null!=e&&("dashed"===e?[a,a]:[i,i])}};t.exports=n},BwfY:function(t,e,i){i("fWfb"),i("M6a0"),i("OYls"),i("QWe/"),t.exports=i("FeBl").Symbol},"C1+n":function(t,e,i){var a=i("moDv"),n=i("C7PF").applyTransform,r=a.CMD,o=[[],[],[]],s=Math.sqrt,l=Math.atan2;t.exports=function(t,e){var i,a,h,u,c,d=t.data,f=r.M,p=r.C,m=r.L,v=r.R,g=r.A,C=r.Q;for(h=0,u=0;h<d.length;){switch(i=d[h++],u=h,a=0,i){case f:case m:a=1;break;case p:a=3;break;case C:a=2;break;case g:var D=e[4],y=e[5],x=s(e[0]*e[0]+e[1]*e[1]),S=s(e[2]*e[2]+e[3]*e[3]),I=l(-e[1]/S,e[0]/x);d[h]*=x,d[h++]+=D,d[h]*=S,d[h++]+=y,d[h++]*=x,d[h++]*=S,d[h++]+=I,d[h++]+=I,u=h+=2;break;case v:T[0]=d[h++],T[1]=d[h++],n(T,T,e),d[u++]=T[0],d[u++]=T[1],T[0]+=d[h++],T[1]+=d[h++],n(T,T,e),d[u++]=T[0],d[u++]=T[1]}for(c=0;c<a;c++){var T;(T=o[c])[0]=d[h++],T[1]=d[h++],n(T,T,e),d[u++]=T[0],d[u++]=T[1]}}}},C4MV:function(t,e,i){t.exports={default:i("9bBU"),__esModule:!0}},C6b9:function(t,e,i){var a=i("Icdr"),n=i("gOx9"),r="sunburstRootToNode";a.registerAction({type:r,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,i){var a=n.retrieveTargetInfo(t,[r],e);if(a){var o=e.getViewRoot();o&&(t.direction=n.aboveViewRoot(o,a.node)?"rollUp":"drillDown"),e.resetViewRoot(a.node)}})});var o="sunburstHighlight";a.registerAction({type:o,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,i){var a=n.retrieveTargetInfo(t,[o],e);a&&(t.highlight=a.node)})});a.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,i){t.unhighlight=!0})})},C7PF:function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array;function a(t){return Math.sqrt(r(t))}var n=a;function r(t){return t[0]*t[0]+t[1]*t[1]}var o=r;function s(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var l=s;function h(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var u=h;e.create=function(t,e){var a=new i(2);return null==t&&(t=0),null==e&&(e=0),a[0]=t,a[1]=e,a},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.clone=function(t){var e=new i(2);return e[0]=t[0],e[1]=t[1],e},e.set=function(t,e,i){return t[0]=e,t[1]=i,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},e.scaleAndAdd=function(t,e,i,a){return t[0]=e[0]+i[0]*a,t[1]=e[1]+i[1]*a,t},e.sub=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},e.len=a,e.length=n,e.lenSquare=r,e.lengthSquare=o,e.mul=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},e.div=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},e.normalize=function(t,e){var i=a(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t},e.distance=s,e.dist=l,e.distanceSquare=h,e.distSquare=u,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.lerp=function(t,e,i,a){return t[0]=e[0]+a*(i[0]-e[0]),t[1]=e[1]+a*(i[1]-e[1]),t},e.applyTransform=function(t,e,i){var a=e[0],n=e[1];return t[0]=i[0]*a+i[2]*n+i[4],t[1]=i[1]*a+i[3]*n+i[5],t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}},CCtz:function(t,e,i){var a=i("yt/B"),n=i("DRaW"),r=i("/gxq").isArrayLike,o=Array.prototype.slice;function s(t,e){return t[e]}function l(t,e,i){t[e]=i}function h(t,e,i){return(e-t)*i+t}function u(t,e,i){return i>.5?e:t}function c(t,e,i,a,n){var r=t.length;if(1===n)for(var o=0;o<r;o++)a[o]=h(t[o],e[o],i);else{var s=r&&t[0].length;for(o=0;o<r;o++)for(var l=0;l<s;l++)a[o][l]=h(t[o][l],e[o][l],i)}}function d(t,e,i){var a=t.length,n=e.length;if(a!==n)if(a>n)t.length=n;else for(var r=a;r<n;r++)t.push(1===i?e[r]:o.call(e[r]));var s=t[0]&&t[0].length;for(r=0;r<t.length;r++)if(1===i)isNaN(t[r])&&(t[r]=e[r]);else for(var l=0;l<s;l++)isNaN(t[r][l])&&(t[r][l]=e[r][l])}function f(t,e,i){if(t===e)return!0;var a=t.length;if(a!==e.length)return!1;if(1===i){for(var n=0;n<a;n++)if(t[n]!==e[n])return!1}else{var r=t[0].length;for(n=0;n<a;n++)for(var o=0;o<r;o++)if(t[n][o]!==e[n][o])return!1}return!0}function p(t,e,i,a,n,r,o,s,l){var h=t.length;if(1===l)for(var u=0;u<h;u++)s[u]=m(t[u],e[u],i[u],a[u],n,r,o);else{var c=t[0].length;for(u=0;u<h;u++)for(var d=0;d<c;d++)s[u][d]=m(t[u][d],e[u][d],i[u][d],a[u][d],n,r,o)}}function m(t,e,i,a,n,r,o){var s=.5*(i-t),l=.5*(a-e);return(2*(e-i)+s+l)*o+(-3*(e-i)-2*s-l)*r+s*n+e}function v(t){if(r(t)){var e=t.length;if(r(t[0])){for(var i=[],a=0;a<e;a++)i.push(o.call(t[a]));return i}return o.call(t)}return t}function g(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function C(t,e,i,o,s,l){var v=t._getter,C=t._setter,D="spline"===e,y=o.length;if(y){var x,S=o[0].value,I=r(S),T=!1,b=!1,w=I?function(t){var e=t[t.length-1].value;return r(e&&e[0])?2:1}(o):0;o.sort(function(t,e){return t.time-e.time}),x=o[y-1].time;for(var M=[],E=[],A=o[0].value,_=!0,L=0;L<y;L++){M.push(o[L].time/x);var F=o[L].value;if(I&&f(F,A,w)||!I&&F===A||(_=!1),A=F,"string"==typeof F){var O=n.parse(F);O?(F=O,T=!0):b=!0}E.push(F)}if(l||!_){var P=E[y-1];for(L=0;L<y-1;L++)I?d(E[L],P,w):!isNaN(E[L])||isNaN(P)||b||T||(E[L]=P);I&&d(v(t._target,s),P,w);var N,R,B,k,V,H=0,G=0;if(T)var Y=[0,0,0,0];var W=new a({target:t._target,life:x,loop:t._loop,delay:t._delay,onframe:function(t,e){var i;if(e<0)i=0;else if(e<G){for(i=Math.min(H+1,y-1);i>=0&&!(M[i]<=e);i--);i=Math.min(i,y-2)}else{for(i=H;i<y&&!(M[i]>e);i++);i=Math.min(i-1,y-2)}H=i,G=e;var a=M[i+1]-M[i];if(0!==a)if(N=(e-M[i])/a,D)if(B=E[i],R=E[0===i?i:i-1],k=E[i>y-2?y-1:i+1],V=E[i>y-3?y-1:i+2],I)p(R,B,k,V,N,N*N,N*N*N,v(t,s),w);else{if(T)n=p(R,B,k,V,N,N*N,N*N*N,Y,1),n=g(Y);else{if(b)return u(B,k,N);n=m(R,B,k,V,N,N*N,N*N*N)}C(t,s,n)}else if(I)c(E[i],E[i+1],N,v(t,s),w);else{var n;if(T)c(E[i],E[i+1],N,Y,1),n=g(Y);else{if(b)return u(E[i],E[i+1],N);n=h(E[i],E[i+1],N)}C(t,s,n)}},ondestroy:i});return e&&"spline"!==e&&(W.easing=e),W}}}var D=function(t,e,i,a){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||s,this._setter=a||l,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};D.prototype={when:function(t,e){var i=this._tracks;for(var a in e)if(e.hasOwnProperty(a)){if(!i[a]){i[a]=[];var n=this._getter(this._target,a);if(null==n)continue;0!==t&&i[a].push({time:0,value:v(n)})}i[a].push({time:t,value:e[a]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t,e){var i,a=this,n=0,r=function(){--n||a._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=C(this,t,r,this._tracks[o],o,e);s&&(this._clipList.push(s),n++,this.animation&&this.animation.addClip(s),i=s)}if(i){var l=i.onframe;i.onframe=function(t,e){l(t,e);for(var i=0;i<a._onframeList.length;i++)a._onframeList[i](t,e)}}return n||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,a=0;a<e.length;a++){var n=e[a];t&&n.onframe(this._target,1),i&&i.removeClip(n)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var y=D;t.exports=y},CJli:function(t,e,i){i("pRCB");var a=i("FeBl").Object;t.exports=function(t,e){return a.defineProperties(t,e)}},CUwD:function(t,e,i){var a=i("/gxq"),n=i("0sHC"),r=i("1bHA"),o=i("ERCD").radialCoordinate,s=i("Icdr"),l=i("wUOi"),h=i("H4Od"),u=i("YpIy"),c=i("5Mek"),d=i("NKek").onIrrelevantElement,f=s.extendChartView({type:"tree",init:function(t,e){this._oldTree,this._mainGroup=new n.Group,this._controller=new c(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(t,e,i,a){var n=t.getData(),r=t.layoutInfo,o=this._mainGroup,s=t.get("layout");"radial"===s?o.attr("position",[r.x+r.width/2,r.y+r.height/2]):o.attr("position",[r.x,r.y]),this._updateViewCoordSys(t,r,s),this._updateController(t,e,i);var l=this._data,h={expandAndCollapse:t.get("expandAndCollapse"),layout:s,orient:t.getOrient(),curvature:t.get("lineStyle.curveness"),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};n.diff(l).add(function(e){p(n,e)&&v(n,e,null,o,t,h)}).update(function(e,i){var a=l.getItemGraphicEl(i);p(n,e)?v(n,e,a,o,t,h):a&&g(l,i,a,o,t,h)}).remove(function(e){var i=l.getItemGraphicEl(e);i&&g(l,e,i,o,t,h)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===h.expandAndCollapse&&n.eachItemGraphicEl(function(e,a){e.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:a})})}),this._data=n},_updateViewCoordSys:function(t){var e=t.getData(),i=[];e.each(function(t){var a=e.getItemLayout(t);!a||isNaN(a.x)||isNaN(a.y)||i.push([+a.x,+a.y])});var a=[],n=[];l.fromPoints(i,a,n);var r=this._min,o=this._max;n[0]-a[0]==0&&(a[0]=r?r[0]:a[0]-1,n[0]=o?o[0]:n[0]+1),n[1]-a[1]==0&&(a[1]=r?r[1]:a[1]-1,n[1]=o?o[1]:n[1]+1);var s=t.coordinateSystem=new h;s.zoomLimit=t.get("scaleLimit"),s.setBoundingRect(a[0],a[1],n[0]-a[0],n[1]-a[1]),s.setCenter(t.get("center")),s.setZoom(t.get("zoom")),this.group.attr({position:s.position,scale:s.scale}),this._viewCoordSys=s,this._min=a,this._max=n},_updateController:function(t,e,i){var a=this._controller,n=this._controllerHost,r=this.group;a.setPointerChecker(function(e,a,n){var o=r.getBoundingRect();return o.applyTransform(r.transform),o.contain(a,n)&&!d(e,i,t)}),a.enable(t.get("roam")),n.zoomLimit=t.get("scaleLimit"),n.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(e){u.updateViewOnPan(n,e.dx,e.dy),i.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})},this).on("zoom",function(e){u.updateViewOnZoom(n,e.scale,e.originX,e.originY),i.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),this._updateNodeAndLinkScale(t)},this)},_updateNodeAndLinkScale:function(t){var e=t.getData(),i=this._getNodeGlobalScale(t),a=[i,i];e.eachItemGraphicEl(function(t,e){t.attr("scale",a)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var i=this._nodeScaleRatio,a=e.scale,n=a&&a[0]||1;return((e.getZoom()-1)*i+1)/n},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function p(t,e){var i=t.getItemLayout(e);return i&&!isNaN(i.x)&&!isNaN(i.y)&&"none"!==t.getItemVisual(e,"symbol")}function m(t,e,i){return i.itemModel=e,i.itemStyle=e.getModel("itemStyle").getItemStyle(),i.hoverItemStyle=e.getModel("emphasis.itemStyle").getItemStyle(),i.lineStyle=e.getModel("lineStyle").getLineStyle(),i.labelModel=e.getModel("label"),i.hoverLabelModel=e.getModel("emphasis.label"),!1===t.isExpand&&0!==t.children.length?i.symbolInnerColor=i.itemStyle.fill:i.symbolInnerColor="#fff",i}function v(t,e,i,o,s,l){var h=!i,u=t.tree.getNodeByDataIndex(e),c=(l=m(u,u.getModel(),l),t.tree.root),d=u.parentNode===c?u:u.parentNode||u,f=t.getItemGraphicEl(d.dataIndex),p=d.getLayout(),v=f?{x:f.position[0],y:f.position[1],rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:p,g=u.getLayout();h?(i=new r(t,e,l)).attr("position",[v.x,v.y]):i.updateData(t,e,l),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=g.rawX,i.__radialRawY=g.rawY,o.add(i),t.setItemGraphicEl(e,i),n.updateProps(i,{position:[g.x,g.y]},s);var D=i.getSymbolPath();if("radial"===l.layout){var y,x,S=c.children[0],I=S.getLayout(),T=S.children.length;if(g.x===I.x&&!0===u.isExpand){var b={};b.x=(S.children[0].getLayout().x+S.children[T-1].getLayout().x)/2,b.y=(S.children[0].getLayout().y+S.children[T-1].getLayout().y)/2,(y=Math.atan2(b.y-I.y,b.x-I.x))<0&&(y=2*Math.PI+y),(x=b.x<I.x)&&(y-=Math.PI)}else(y=Math.atan2(g.y-I.y,g.x-I.x))<0&&(y=2*Math.PI+y),0===u.children.length||0!==u.children.length&&!1===u.isExpand?(x=g.x<I.x)&&(y-=Math.PI):(x=g.x>I.x)||(y-=Math.PI);var w=x?"left":"right",M=l.labelModel.get("rotate"),E=M*(Math.PI/180);D.setStyle({textPosition:l.labelModel.get("position")||w,textRotation:null==M?-y:E,textOrigin:"center",verticalAlign:"middle"})}if(u.parentNode&&u.parentNode!==c){var A=i.__edge;A||(A=i.__edge=new n.BezierCurve({shape:C(l,v,v),style:a.defaults({opacity:0,strokeNoScale:!0},l.lineStyle)})),n.updateProps(A,{shape:C(l,p,g),style:{opacity:1}},s),o.add(A)}}function g(t,e,i,a,r,o){for(var s,l=t.tree.getNodeByDataIndex(e),h=t.tree.root,u=(o=m(l,l.getModel(),o),l.parentNode===h?l:l.parentNode||l);null==(s=u.getLayout());)u=u.parentNode===h?u:u.parentNode||u;n.updateProps(i,{position:[s.x+1,s.y+1]},r,function(){a.remove(i),t.setItemGraphicEl(e,null)}),i.fadeOut(null,{keepLabel:!0});var c=i.__edge;c&&n.updateProps(c,{shape:C(o,s,s),style:{opacity:0}},r,function(){a.remove(c)})}function C(t,e,i){var a,n,r,s,l,h,u,c,d=t.orient;if("radial"===t.layout){l=e.rawX,u=e.rawY,h=i.rawX,c=i.rawY;var f=o(l,u),p=o(l,u+(c-u)*t.curvature),m=o(h,c+(u-c)*t.curvature),v=o(h,c);return{x1:f.x,y1:f.y,x2:v.x,y2:v.y,cpx1:p.x,cpy1:p.y,cpx2:m.x,cpy2:m.y}}return l=e.x,u=e.y,h=i.x,c=i.y,"LR"!==d&&"RL"!==d||(a=l+(h-l)*t.curvature,n=u,r=h+(l-h)*t.curvature,s=c),"TB"!==d&&"BT"!==d||(a=l,n=u+(c-u)*t.curvature,r=h,s=c+(u-c)*t.curvature),{x1:l,y1:u,x2:h,y2:c,cpx1:a,cpy1:n,cpx2:r,cpy2:s}}t.exports=f},CWSg:function(t,e){var i=["lineStyle","normal","opacity"],a={seriesType:"parallel",reset:function(t,e,a){var n=t.getModel("itemStyle"),r=t.getModel("lineStyle"),o=e.get("color"),s=r.get("color")||n.get("color")||o[t.seriesIndex%o.length],l=t.get("inactiveOpacity"),h=t.get("activeOpacity"),u=t.getModel("lineStyle").getLineStyle(),c=t.coordinateSystem,d=t.getData(),f={normal:u.opacity,active:h,inactive:l};return d.setVisual("color",s),{progress:function(t,e){c.eachActiveState(e,function(t,a){var n=f[t];if("normal"===t&&e.hasItemOption){var r=e.getItemModel(a).get(i,!0);null!=r&&(n=r)}e.setItemVisual(a,"opacity",n)},t.start,t.end)}}}};t.exports=a},CXw9:function(t,e,i){"use strict";var a,n,r,o,s=i("O4g8"),l=i("7KvD"),h=i("+ZMJ"),u=i("RY/4"),c=i("kM2E"),d=i("EqjI"),f=i("lOnJ"),p=i("2KxR"),m=i("NWt+"),v=i("t8x9"),g=i("L42u").set,C=i("82Mu")(),D=i("qARP"),y=i("dNDb"),x=i("iUbK"),S=i("fJUb"),I=l.TypeError,T=l.process,b=T&&T.versions,w=b&&b.v8||"",M=l.Promise,E="process"==u(T),A=function(){},_=n=D.f,L=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[i("dSzd")("species")]=function(t){t(A,A)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e&&0!==w.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),F=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var i=t._c;C(function(){for(var a=t._v,n=1==t._s,r=0,o=function(e){var i,r,o,s=n?e.ok:e.fail,l=e.resolve,h=e.reject,u=e.domain;try{s?(n||(2==t._h&&R(t),t._h=1),!0===s?i=a:(u&&u.enter(),i=s(a),u&&(u.exit(),o=!0)),i===e.promise?h(I("Promise-chain cycle")):(r=F(i))?r.call(i,l,h):l(i)):h(a)}catch(t){u&&!o&&u.exit(),h(t)}};i.length>r;)o(i[r++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){g.call(l,function(){var e,i,a,n=t._v,r=N(t);if(r&&(e=y(function(){E?T.emit("unhandledRejection",n,t):(i=l.onunhandledrejection)?i({promise:t,reason:n}):(a=l.console)&&a.error&&a.error("Unhandled promise rejection",n)}),t._h=E||N(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){g.call(l,function(){var e;E?T.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},B=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},k=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw I("Promise can't be resolved itself");(e=F(t))?C(function(){var a={_w:i,_d:!1};try{e.call(t,h(k,a,1),h(B,a,1))}catch(t){B.call(a,t)}}):(i._v=t,i._s=1,O(i,!1))}catch(t){B.call({_w:i,_d:!1},t)}}};L||(M=function(t){p(this,M,"Promise","_h"),f(t),a.call(this);try{t(h(k,this,1),h(B,this,1))}catch(t){B.call(this,t)}},(a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i("xH/j")(M.prototype,{then:function(t,e){var i=_(v(this,M));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=E?T.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&O(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new a;this.promise=t,this.resolve=h(k,t,1),this.reject=h(B,t,1)},D.f=_=function(t){return t===M||t===o?new r(t):n(t)}),c(c.G+c.W+c.F*!L,{Promise:M}),i("e6n0")(M,"Promise"),i("bRrM")("Promise"),o=i("FeBl").Promise,c(c.S+c.F*!L,"Promise",{reject:function(t){var e=_(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(s||!L),"Promise",{resolve:function(t){return S(s&&this===o?M:this,t)}}),c(c.S+c.F*!(L&&i("dY0y")(function(t){M.all(t).catch(A)})),"Promise",{all:function(t){var e=this,i=_(e),a=i.resolve,n=i.reject,r=y(function(){var i=[],r=0,o=1;m(t,!1,function(t){var s=r++,l=!1;i.push(void 0),o++,e.resolve(t).then(function(t){l||(l=!0,i[s]=t,--o||a(i))},n)}),--o||a(i)});return r.e&&n(r.v),i.promise},race:function(t){var e=this,i=_(e),a=i.reject,n=y(function(){m(t,!1,function(t){e.resolve(t).then(i.resolve,a)})});return n.e&&a(n.v),i.promise}})},Cdx3:function(t,e,i){var a=i("sB3e"),n=i("lktj");i("uqUo")("keys",function(){return function(t){return n(a(t))}})},CqCN:function(t,e,i){var a=i("vXqC").makeInner;t.exports=function(){var t=a();return function(e){var i=t(e),a=e.pipelineContext,n=i.large,r=i.progressiveRender,o=i.large=a.large,s=i.progressiveRender=a.progressiveRender;return!!(n^o||r^s)&&"reset"}}},Cuh7:function(t,e,i){var a=i("0sHC"),n=i("Icdr"),r=i("/gxq"),o=["itemStyle","opacity"],s=["lineStyle","opacity"];function l(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function h(t,e,i){var a=t.getGraphicEl(),n=l(t,e);null!=i&&(null==n&&(n=1),n*=i),a.downplay&&a.downplay(),a.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",n)})}function u(t,e){var i=l(t,e),a=t.getGraphicEl();a.highlight&&a.highlight(),a.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",i)})}var c=a.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(t,e){var i=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+i,e.y2),t.bezierCurveTo(e.cpx2+i,e.cpy2,e.cpx1+i,e.cpy1,e.x1+i,e.y1)):(t.lineTo(e.x2,e.y2+i),t.bezierCurveTo(e.cpx2,e.cpy2+i,e.cpx1,e.cpy1+i,e.x1,e.y1+i)),t.closePath()}}),d=n.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(t,e,i){var n=this,r=t.getGraph(),o=this.group,s=t.layoutInfo,l=s.width,h=s.height,u=t.getData(),d=t.getData("edge"),f=t.get("orient");this._model=t,o.removeAll(),o.attr("position",[s.x,s.y]),r.eachEdge(function(e){var i=new c;i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType="edge";var n,r,s,u,p,m,v,g,C=e.getModel("lineStyle"),D=C.get("curveness"),y=e.node1.getLayout(),x=e.node1.getModel(),S=x.get("localX"),I=x.get("localY"),T=e.node2.getLayout(),b=e.node2.getModel(),w=b.get("localX"),M=b.get("localY"),E=e.getLayout();switch(i.shape.extent=Math.max(1,E.dy),i.shape.orient=f,"vertical"===f?(n=(null!=S?S*l:y.x)+E.sy,r=(null!=I?I*h:y.y)+y.dy,s=(null!=w?w*l:T.x)+E.ty,p=n,m=r*(1-D)+(u=null!=M?M*h:T.y)*D,v=s,g=r*D+u*(1-D)):(n=(null!=S?S*l:y.x)+y.dx,r=(null!=I?I*h:y.y)+E.sy,p=n*(1-D)+(s=null!=w?w*l:T.x)*D,m=r,v=n*D+s*(1-D),g=u=(null!=M?M*h:T.y)+E.ty),i.setShape({x1:n,y1:r,x2:s,y2:u,cpx1:p,cpy1:m,cpx2:v,cpy2:g}),i.setStyle(C.getItemStyle()),i.style.fill){case"source":i.style.fill=e.node1.getVisual("color");break;case"target":i.style.fill=e.node2.getVisual("color")}a.setHoverStyle(i,e.getModel("emphasis.lineStyle").getItemStyle()),o.add(i),d.setItemGraphicEl(e.dataIndex,i)}),r.eachNode(function(e){var i=e.getLayout(),n=e.getModel(),r=n.get("localX"),s=n.get("localY"),c=n.getModel("label"),d=n.getModel("emphasis.label"),f=new a.Rect({shape:{x:null!=r?r*l:i.x,y:null!=s?s*h:i.y,width:i.dx,height:i.dy},style:n.getModel("itemStyle").getItemStyle()}),p=e.getModel("emphasis.itemStyle").getItemStyle();a.setLabelStyle(f.style,p,c,d,{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),f.setStyle("fill",e.getVisual("color")),a.setHoverStyle(f,p),o.add(f),u.setItemGraphicEl(e.dataIndex,f),f.dataType="node"}),u.eachItemGraphicEl(function(e,a){var r=u.getItemModel(a);r.get("draggable")&&(e.drift=function(e,r){n._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=r,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:u.getRawIndex(a),localX:this.shape.x/l,localY:this.shape.y/h})},e.ondragend=function(){n._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move"),r.get("focusNodeAdjacency")&&(e.off("mouseover").on("mouseover",function(){n._focusAdjacencyDisabled||i.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex})}),e.off("mouseout").on("mouseout",function(){n._focusAdjacencyDisabled||i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))}),d.eachItemGraphicEl(function(e,a){d.getItemModel(a).get("focusNodeAdjacency")&&(e.off("mouseover").on("mouseover",function(){n._focusAdjacencyDisabled||i.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,edgeDataIndex:e.dataIndex})}),e.off("mouseout").on("mouseout",function(){n._focusAdjacencyDisabled||i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))}),!this._data&&t.get("animation")&&o.setClipPath(function(t,e,i){var n=new a.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return a.initProps(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}(o.getBoundingRect(),t,function(){o.removeClipPath()})),this._data=t.getData()},dispose:function(){},focusNodeAdjacency:function(t,e,i,a){var n=this._model.getData(),l=n.graph,c=a.dataIndex,d=n.getItemModel(c),f=a.edgeDataIndex;if(null!=c||null!=f){var p=l.getNodeByIndex(c),m=l.getEdgeByIndex(f);if(l.eachNode(function(t){h(t,o,.1)}),l.eachEdge(function(t){h(t,s,.1)}),p){u(p,o);var v=d.get("focusNodeAdjacency");"outEdges"===v?r.each(p.outEdges,function(t){t.dataIndex<0||(u(t,s),u(t.node2,o))}):"inEdges"===v?r.each(p.inEdges,function(t){t.dataIndex<0||(u(t,s),u(t.node1,o))}):"allEdges"===v&&r.each(p.edges,function(t){t.dataIndex<0||(u(t,s),u(t.node1,o),u(t.node2,o))})}m&&(u(m,s),u(m.node1,o),u(m.node2,o))}},unfocusNodeAdjacency:function(t,e,i,a){var n=this._model.getGraph();n.eachNode(function(t){h(t,o)}),n.eachEdge(function(t){h(t,s)})}});t.exports=d},CwSZ:function(t,e,i){"use strict";var a=i("p8xL"),n=i("XgCd"),r=Object.prototype.hasOwnProperty,o={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Array.isArray,l=Array.prototype.push,h=function(t,e){l.apply(t,s(e)?e:[e])},u=Date.prototype.toISOString,c=n.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,format:c,formatter:n.formatters[c],indices:!1,serializeDate:function(t){return u.call(t)},skipNulls:!1,strictNullHandling:!1},f=function t(e,i,n,r,o,l,u,c,f,p,m,v,g){var C,D=e;if("function"==typeof u?D=u(i,D):D instanceof Date?D=p(D):"comma"===n&&s(D)&&(D=D.join(",")),null===D){if(r)return l&&!v?l(i,d.encoder,g,"key"):i;D=""}if("string"==typeof(C=D)||"number"==typeof C||"boolean"==typeof C||"symbol"==typeof C||"bigint"==typeof C||a.isBuffer(D))return l?[m(v?i:l(i,d.encoder,g,"key"))+"="+m(l(D,d.encoder,g,"value"))]:[m(i)+"="+m(String(D))];var y,x=[];if(void 0===D)return x;if(s(u))y=u;else{var S=Object.keys(D);y=c?S.sort(c):S}for(var I=0;I<y.length;++I){var T=y[I];o&&null===D[T]||(s(D)?h(x,t(D[T],"function"==typeof n?n(i,T):i,n,r,o,l,u,c,f,p,m,v,g)):h(x,t(D[T],i+(f?"."+T:"["+T+"]"),n,r,o,l,u,c,f,p,m,v,g)))}return x};t.exports=function(t,e){var i,a=t,l=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=n.default;if(void 0!==t.format){if(!r.call(n.formatters,t.format))throw new TypeError("Unknown format option provided.");i=t.format}var a=n.formatters[i],o=d.filter;return("function"==typeof t.filter||s(t.filter))&&(o=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:o,formatter:a,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}}(e);"function"==typeof l.filter?a=(0,l.filter)("",a):s(l.filter)&&(i=l.filter);var u,c=[];if("object"!=typeof a||null===a)return"";u=e&&e.arrayFormat in o?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var p=o[u];i||(i=Object.keys(a)),l.sort&&i.sort(l.sort);for(var m=0;m<i.length;++m){var v=i[m];l.skipNulls&&null===a[v]||h(c,f(a[v],v,p,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.formatter,l.encodeValuesOnly,l.charset))}var g=c.join(l.delimiter),C=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?C+="utf8=%26%2310003%3B&":C+="utf8=%E2%9C%93&"),g.length>0?C+g:""}},D2L2:function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},D7EH:function(t,e,i){var a=i("Ou7x"),n=i("zAPJ"),r=i("4xrk"),o=i("43ae"),s=a.extend({makeElOption:function(t,e,i,a,o){var s=i.axis,u=s.grid,c=a.get("type"),d=l(u,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(e,!0));if(c&&"none"!==c){var p=n.buildElStyle(a),m=h[c](s,f,d);m.style=p,t.graphicKey=m.type,t.pointer=m}var v=r.layout(u.model,i);n.buildCartesianSingleLabelElOption(e,t,v,i,a,o)},getHandleTransform:function(t,e,i){var a=r.layout(e.axis.grid.model,e,{labelInside:!1});return a.labelMargin=i.get("handle.margin"),{position:n.getTransformedPosition(e.axis,t,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,a){var n=i.axis,r=n.grid,o=n.getGlobalExtent(!0),s=l(r,n).getOtherAxis(n).getGlobalExtent(),h="x"===n.dim?0:1,u=t.position;u[h]+=e[h],u[h]=Math.min(o[1],u[h]),u[h]=Math.max(o[0],u[h]);var c=(s[1]+s[0])/2,d=[c,c];d[h]=u[h];return{position:u,rotation:t.rotation,cursorPoint:d,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][h]}}});function l(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}var h={line:function(t,e,i){return{type:"Line",subPixelOptimize:!0,shape:n.makeLineShape([e,i[0]],[e,i[1]],u(t))}},shadow:function(t,e,i){var a=Math.max(1,t.getBandWidth()),r=i[1]-i[0];return{type:"Rect",shape:n.makeRectShape([e-a/2,i[0]],[a,r],u(t))}}};function u(t){return"x"===t.dim?0:1}o.registerAxisPointerClass("CartesianAxisPointer",s);var c=s;t.exports=c},DDCP:function(t,e,i){"use strict";var a=i("p8xL"),n=Object.prototype.hasOwnProperty,r=Array.isArray,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:a.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},l=function(t,e,i){if(t){var a=i.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,r=/(\[[^[\]]*])/g,o=i.depth>0&&/(\[[^[\]]*])/.exec(a),s=o?a.slice(0,o.index):a,l=[];if(s){if(!i.plainObjects&&n.call(Object.prototype,s)&&!i.allowPrototypes)return;l.push(s)}for(var h=0;i.depth>0&&null!==(o=r.exec(a))&&h<i.depth;){if(h+=1,!i.plainObjects&&n.call(Object.prototype,o[1].slice(1,-1))&&!i.allowPrototypes)return;l.push(o[1])}return o&&l.push("["+a.slice(o.index)+"]"),function(t,e,i){for(var a=e,n=t.length-1;n>=0;--n){var r,o=t[n];if("[]"===o&&i.parseArrays)r=[].concat(a);else{r=i.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,l=parseInt(s,10);i.parseArrays||""!==s?!isNaN(l)&&o!==s&&String(l)===s&&l>=0&&i.parseArrays&&l<=i.arrayLimit?(r=[])[l]=a:r[s]=a:r={0:a}}a=r}return a}(l,e,i)}};t.exports=function(t,e){var i=function(t){if(!t)return o;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?o.charset:t.charset;return{allowDots:void 0===t.allowDots?o.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:o.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:o.comma,decoder:"function"==typeof t.decoder?t.decoder:o.decoder,delimiter:"string"==typeof t.delimiter||a.isRegExp(t.delimiter)?t.delimiter:o.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:o.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:o.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:o.strictNullHandling}}(e);if(""===t||null===t||void 0===t)return i.plainObjects?Object.create(null):{};for(var h="string"==typeof t?function(t,e){var i,l={},h=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,u=e.parameterLimit===1/0?void 0:e.parameterLimit,c=h.split(e.delimiter,u),d=-1,f=e.charset;if(e.charsetSentinel)for(i=0;i<c.length;++i)0===c[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===c[i]?f="utf-8":"utf8=%26%2310003%3B"===c[i]&&(f="iso-8859-1"),d=i,i=c.length);for(i=0;i<c.length;++i)if(i!==d){var p,m,v=c[i],g=v.indexOf("]="),C=-1===g?v.indexOf("="):g+1;-1===C?(p=e.decoder(v,o.decoder,f,"key"),m=e.strictNullHandling?null:""):(p=e.decoder(v.slice(0,C),o.decoder,f,"key"),m=e.decoder(v.slice(C+1),o.decoder,f,"value")),m&&e.interpretNumericEntities&&"iso-8859-1"===f&&(m=s(m)),m&&"string"==typeof m&&e.comma&&m.indexOf(",")>-1&&(m=m.split(",")),v.indexOf("[]=")>-1&&(m=r(m)?[m]:m),n.call(l,p)?l[p]=a.combine(l[p],m):l[p]=m}return l}(t,i):t,u=i.plainObjects?Object.create(null):{},c=Object.keys(h),d=0;d<c.length;++d){var f=c[d],p=l(f,h[f],i);u=a.merge(u,p,i)}return a.compact(u)}},DDYI:function(t,e,i){var a=i("0sHC"),n=i("wWR3").round;function r(t,e,i){var n=t.getArea(),r=t.getBaseAxis().isHorizontal(),o=n.x,s=n.y,l=n.width,h=n.height,u=i.get("lineStyle.width")||2;o-=u/2,s-=u/2,l+=u,h+=u;var c=new a.Rect({shape:{x:o,y:s,width:l,height:h}});return e&&(c.shape[r?"width":"height"]=0,a.initProps(c,{shape:{width:l,height:h}},i)),c}function o(t,e,i){var r=t.getArea(),o=new a.Sector({shape:{cx:n(t.cx,1),cy:n(t.cy,1),r0:n(r.r0,1),r:n(r.r,1),startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});return e&&(o.shape.endAngle=r.startAngle,a.initProps(o,{shape:{endAngle:r.endAngle}},i)),o}e.createGridClipPath=r,e.createPolarClipPath=o,e.createClipPath=function(t,e,i){return t?"polar"===t.type?o(t,e,i):"cartesian2d"===t.type?r(t,e,i):null:null}},DEuz:function(t,e){function i(){this.buffer=[],this.length=0}i.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=i},DHpS:function(t,e,i){var a=i("/gxq"),n=i("Y5nL"),r=i("RYbJ"),o=i("eH0a"),s=i("wWR3"),l=i("2uoh"),h=n.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=a.clone(t);if(e)for(var i=e.length-1;i>=0;i--)s.asc(e[i])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(t))return"inactive";if(1===e.length){var i=e[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var a=0,n=e.length;a<n;a++)if(e[a][0]<=t&&t<=e[a][1])return"active";return"inactive"}});a.merge(h.prototype,l),o("parallel",h,function(t,e){return e.type||(e.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});var u=h;t.exports=u},"DPh+":function(t,e,i){var a=i("2m1D").extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},defaultOption:{clip:!0,roundCap:!1}});t.exports=a},DQCr:function(t,e,i){"use strict";var a=i("cGG2");function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var r;if(i)r=i(e);else if(a.isURLSearchParams(e))r=e.toString();else{var o=[];a.forEach(e,function(t,e){null!==t&&void 0!==t&&(a.isArray(t)?e+="[]":t=[t],a.forEach(t,function(t){a.isDate(t)?t=t.toISOString():a.isObject(t)&&(t=JSON.stringify(t)),o.push(n(e)+"="+n(t))}))}),r=o.join("&")}if(r){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}},DQJY:function(t,e,i){"use strict";e.__esModule=!0;var a,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i("hyEB"),o=(a=r)&&a.__esModule?a:{default:a};var s,l=l||{};l.Dialog=function(t,e,i){var a=this;if(this.dialogNode=t,null===this.dialogNode||"dialog"!==this.dialogNode.getAttribute("role"))throw new Error("Dialog() requires a DOM element with ARIA role of dialog.");"string"==typeof e?this.focusAfterClosed=document.getElementById(e):"object"===(void 0===e?"undefined":n(e))?this.focusAfterClosed=e:this.focusAfterClosed=null,"string"==typeof i?this.focusFirst=document.getElementById(i):"object"===(void 0===i?"undefined":n(i))?this.focusFirst=i:this.focusFirst=null,this.focusFirst?this.focusFirst.focus():o.default.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement,s=function(t){a.trapFocus(t)},this.addListeners()},l.Dialog.prototype.addListeners=function(){document.addEventListener("focus",s,!0)},l.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",s,!0)},l.Dialog.prototype.closeDialog=function(){var t=this;this.removeListeners(),this.focusAfterClosed&&setTimeout(function(){t.focusAfterClosed.focus()})},l.Dialog.prototype.trapFocus=function(t){o.default.IgnoreUtilFocusChanges||(this.dialogNode.contains(t.target)?this.lastFocus=t.target:(o.default.focusFirstDescendant(this.dialogNode),this.lastFocus===document.activeElement&&o.default.focusLastDescendant(this.dialogNode),this.lastFocus=document.activeElement))},e.default=l.Dialog},DRaW:function(t,e,i){var a={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return(t=Math.round(t))<0?0:t>255?255:t}function r(t){return t<0?0:t>1?1:t}function o(t){return t.length&&"%"===t.charAt(t.length-1)?n(parseFloat(t)/100*255):n(parseInt(t,10))}function s(t){return t.length&&"%"===t.charAt(t.length-1)?r(parseFloat(t)/100):r(parseFloat(t))}function l(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function h(t,e,i){return t+(e-t)*i}function u(t,e,i,a,n){return t[0]=e,t[1]=i,t[2]=a,t[3]=n,t}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var d=new(i("zMj2"))(20),f=null;function p(t,e){f&&c(f,e),f=d.put(t,f||e.slice())}function m(t,e){if(t){e=e||[];var i=d.get(t);if(i)return c(e,i);var n,r=(t+="").replace(/ /g,"").toLowerCase();if(r in a)return c(e,a[r]),p(t,e),e;if("#"===r.charAt(0))return 4===r.length?(n=parseInt(r.substr(1),16))>=0&&n<=4095?(u(e,(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1),p(t,e),e):void u(e,0,0,0,1):7===r.length?(n=parseInt(r.substr(1),16))>=0&&n<=16777215?(u(e,(16711680&n)>>16,(65280&n)>>8,255&n,1),p(t,e),e):void u(e,0,0,0,1):void 0;var l=r.indexOf("("),h=r.indexOf(")");if(-1!==l&&h+1===r.length){var f=r.substr(0,l),m=r.substr(l+1,h-(l+1)).split(","),g=1;switch(f){case"rgba":if(4!==m.length)return void u(e,0,0,0,1);g=s(m.pop());case"rgb":return 3!==m.length?void u(e,0,0,0,1):(u(e,o(m[0]),o(m[1]),o(m[2]),g),p(t,e),e);case"hsla":return 4!==m.length?void u(e,0,0,0,1):(m[3]=s(m[3]),v(m,e),p(t,e),e);case"hsl":return 3!==m.length?void u(e,0,0,0,1):(v(m,e),p(t,e),e);default:return}}u(e,0,0,0,1)}}function v(t,e){var i=(parseFloat(t[0])%360+360)%360/360,a=s(t[1]),r=s(t[2]),o=r<=.5?r*(a+1):r+a-r*a,h=2*r-o;return u(e=e||[],n(255*l(h,o,i+1/3)),n(255*l(h,o,i)),n(255*l(h,o,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function g(t,e,i){if(e&&e.length&&t>=0&&t<=1){i=i||[];var a=t*(e.length-1),o=Math.floor(a),s=Math.ceil(a),l=e[o],u=e[s],c=a-o;return i[0]=n(h(l[0],u[0],c)),i[1]=n(h(l[1],u[1],c)),i[2]=n(h(l[2],u[2],c)),i[3]=r(h(l[3],u[3],c)),i}}var C=g;function D(t,e,i){if(e&&e.length&&t>=0&&t<=1){var a=t*(e.length-1),o=Math.floor(a),s=Math.ceil(a),l=m(e[o]),u=m(e[s]),c=a-o,d=x([n(h(l[0],u[0],c)),n(h(l[1],u[1],c)),n(h(l[2],u[2],c)),r(h(l[3],u[3],c))],"rgba");return i?{color:d,leftIndex:o,rightIndex:s,value:a}:d}}var y=D;function x(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")"}}e.parse=m,e.lift=function(t,e){var i=m(t);if(i){for(var a=0;a<3;a++)i[a]=e<0?i[a]*(1-e)|0:(255-i[a])*e+i[a]|0,i[a]>255?i[a]=255:t[a]<0&&(i[a]=0);return x(i,4===i.length?"rgba":"rgb")}},e.toHex=function(t){var e=m(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},e.fastLerp=g,e.fastMapToColor=C,e.lerp=D,e.mapToColor=y,e.modifyHSL=function(t,e,i,a){if(t=m(t))return t=function(t){if(t){var e,i,a=t[0]/255,n=t[1]/255,r=t[2]/255,o=Math.min(a,n,r),s=Math.max(a,n,r),l=s-o,h=(s+o)/2;if(0===l)e=0,i=0;else{i=h<.5?l/(s+o):l/(2-s-o);var u=((s-a)/6+l/2)/l,c=((s-n)/6+l/2)/l,d=((s-r)/6+l/2)/l;a===s?e=d-c:n===s?e=1/3+u-d:r===s&&(e=2/3+c-u),e<0&&(e+=1),e>1&&(e-=1)}var f=[360*e,i,h];return null!=t[3]&&f.push(t[3]),f}}(t),null!=e&&(t[0]=(n=e,(n=Math.round(n))<0?0:n>360?360:n)),null!=i&&(t[1]=s(i)),null!=a&&(t[2]=s(a)),x(v(t),"rgba");var n},e.modifyAlpha=function(t,e){if((t=m(t))&&null!=e)return t[3]=r(e),x(t,"rgba")},e.stringify=x},DUeU:function(t,e,i){"use strict";var a=i("cGG2");t.exports=function(t,e){e=e||{};var i={};return a.forEach(["url","method","params","data"],function(t){void 0!==e[t]&&(i[t]=e[t])}),a.forEach(["headers","auth","proxy"],function(n){a.isObject(e[n])?i[n]=a.deepMerge(t[n],e[n]):void 0!==e[n]?i[n]=e[n]:a.isObject(t[n])?i[n]=a.deepMerge(t[n]):void 0!==t[n]&&(i[n]=t[n])}),a.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(a){void 0!==e[a]?i[a]=e[a]:void 0!==t[a]&&(i[a]=t[a])}),i}},DZTl:function(t,e,i){var a=i("/gxq"),n=a.each;function r(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}t.exports=function(t){var e=t&&t.visualMap;a.isArray(e)||(e=e?[e]:[]),n(e,function(t){if(t){r(t,"splitList")&&!r(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&a.isArray(e)&&n(e,function(t){a.isObject(t)&&(r(t,"start")&&!r(t,"min")&&(t.min=t.start),r(t,"end")&&!r(t,"max")&&(t.max=t.end))})}})}},Dd8w:function(t,e,i){"use strict";e.__esModule=!0;var a,n=i("woOf"),r=(a=n)&&a.__esModule?a:{default:a};e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t}},DknX:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("oDOe"),o=i("XCrL"),s=i("9Owa"),l=i("og9+"),h=i("FIAY"),u=i("dCQY");i("l2wH");var c=h.toolbox.dataZoom,d=n.each,f="\0_ec_\0toolbox-dataZoom_";function p(t,e,i){(this._brushController=new r(i.getZr())).on("brush",n.bind(this._onBrush,this)).mount(),this._isZoomActive}p.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:n.clone(c.title)};var m=p.prototype;m.render=function(t,e,i,a){this.model=t,this.ecModel=e,this.api=i,function(t,e,i,a,n){var r=i._isZoomActive;a&&"takeGlobalCursor"===a.type&&(r="dataZoomSelect"===a.key&&a.dataZoomSelectActive);i._isZoomActive=r,t.setIconStatus("zoom",r?"emphasis":"normal");var s=new o(g(t.option),e,{include:["grid"]});i._brushController.setPanels(s.makePanelOpts(n,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"})).enableBrush(!!r&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}(t,e,this,a,i),function(t,e){t.setIconStatus("back",s.count(e)>1?"emphasis":"normal")}(t,e)},m.onclick=function(t,e,i){v[i].call(this)},m.remove=function(t,e){this._brushController.unmount()},m.dispose=function(t,e){this._brushController.dispose()};var v={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(s.pop(this.ecModel))}};function g(t){var e={};return n.each(["xAxisIndex","yAxisIndex"],function(i){e[i]=t[i],null==e[i]&&(e[i]="all"),(!1===e[i]||"none"===e[i])&&(e[i]=[])}),e}m._onBrush=function(t,e){if(e.isEnd&&t.length){var i={},a=this.ecModel;this._brushController.updateCovers([]),new o(g(this.model.option),a,{include:["grid"]}).matchOutputRanges(t,a,function(t,e,i){if("cartesian2d"===i.type){var a=t.brushType;"rect"===a?(n("x",i,e[0]),n("y",i,e[1])):n({lineX:"x",lineY:"y"}[a],i,e)}}),s.push(a,i),this._dispatchZoomAction(i)}function n(t,e,n){var r=e.getAxis(t),o=r.model,s=function(t,e,i){var a;return i.eachComponent({mainType:"dataZoom",subType:"select"},function(i){i.getAxisModel(t,e.componentIndex)&&(a=i)}),a}(t,o,a),h=s.findRepresentativeAxisProxy(o).getMinMaxSpan();null==h.minValueSpan&&null==h.maxValueSpan||(n=l(0,n.slice(),r.scale.getExtent(),0,h.minValueSpan,h.maxValueSpan)),s&&(i[s.id]={dataZoomId:s.id,startValue:n[0],endValue:n[1]})}},m._dispatchZoomAction=function(t){var e=[];d(t,function(t,i){e.push(n.clone(t))}),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},u.register("dataZoom",p),a.registerPreprocessor(function(t){if(t){var e=t.dataZoom||(t.dataZoom=[]);n.isArray(e)||(t.dataZoom=e=[e]);var i=t.toolbox;if(i&&(n.isArray(i)&&(i=i[0]),i&&i.feature)){var a=i.feature.dataZoom;r("xAxis",a),r("yAxis",a)}}function r(i,a){if(a){var r=i+"Index",o=a[r];null==o||"all"===o||n.isArray(o)||(o=!1===o||"none"===o?[]:[o]),function(e,i){var a=t[e];n.isArray(a)||(a=a?[a]:[]);d(a,i)}(i,function(t,s){if(null==o||"all"===o||-1!==n.indexOf(o,s)){var l={type:"select",$fromToolbox:!0,filterMode:a.filterMode||"filter",id:f+i+s};l[r]=s,e.push(l)}})}}});var C=p;t.exports=C},DnWC:function(t,e,i){var a=i("/gxq"),n=i("Ylhr"),r=i("pSwa"),o=i("1Hui"),s=n.extend({type:"sunburst",init:function(){},render:function(t,e,i,n){var s=this;this.seriesModel=t,this.api=i,this.ecModel=e;var l=t.getData(),h=l.tree.root,u=t.getViewRoot(),c=this.group,d=t.get("renderLabelForZeroData"),f=[];u.eachNode(function(t){f.push(t)});var p=this._oldChildren||[];if(function(i,n){if(0===i.length&&0===n.length)return;function s(t){return t.getId()}function u(a,o){var s=null==a?null:i[a],u=null==o?null:n[o];!function(i,a){d||!i||i.getValue()||(i=null);if(i!==h&&a!==h)if(a&&a.piece)i?(a.piece.updateData(!1,i,"normal",t,e),l.setItemGraphicEl(i.dataIndex,a.piece)):function(t){if(!t)return;t.piece&&(c.remove(t.piece),t.piece=null)}(a);else if(i){var n=new r(i,t,e);c.add(n),l.setItemGraphicEl(i.dataIndex,n)}}(s,u)}new o(n,i,s,s).add(u).update(u).remove(a.curry(u,null)).execute()}(f,p),function(i,a){if(a.depth>0){s.virtualPiece?s.virtualPiece.updateData(!1,i,"normal",t,e):(s.virtualPiece=new r(i,t,e),c.add(s.virtualPiece)),a.piece._onclickEvent&&a.piece.off("click",a.piece._onclickEvent);var n=function(t){s._rootToNode(a.parentNode)};a.piece._onclickEvent=n,s.virtualPiece.on("click",n)}else s.virtualPiece&&(c.remove(s.virtualPiece),s.virtualPiece=null)}(h,u),n&&n.highlight&&n.highlight.piece){var m=t.getShallow("highlightPolicy");n.highlight.piece.onEmphasis(m)}else if(n&&n.unhighlight){var v=this.virtualPiece;!v&&h.children.length&&(v=h.children[0].piece),v&&v.onNormal()}this._initEvents(),this._oldChildren=f},dispose:function(){},_initEvents:function(){var t=this,e=function(e){var i=!1;t.seriesModel.getViewRoot().eachNode(function(a){if(!i&&a.piece&&a.piece.childAt(0)===e.target){var n=a.getModel().get("nodeClick");if("rootToNode"===n)t._rootToNode(a);else if("link"===n){var r=a.getModel(),o=r.get("link");if(o){var s=r.get("target",!0)||"_blank";window.open(o,s)}}i=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",e),this.group._onclickEvent=e},_rootToNode:function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){var a=t[0]-i.cx,n=t[1]-i.cy,r=Math.sqrt(a*a+n*n);return r<=i.r&&r>=i.r0}}});t.exports=s},DpwM:function(t,e,i){var a=i("/gxq"),n=i("YNzw"),r=(0,i("vXqC").makeInner)(),o=a.each;function s(t,e,i){t.handler("leave",null,i)}function l(t,e,i,a){e.handler(t,i,a)}e.register=function(t,e,i){if(!n.node){var h=e.getZr();r(h).records||(r(h).records={}),function(t,e){function i(i,a){t.on(i,function(i){var n=function(t){var e={showTip:[],hideTip:[]},i=function(a){var n=e[a.type];n?n.push(a):(a.dispatchAction=i,t.dispatchAction(a))};return{dispatchAction:i,pendings:e}}(e);o(r(t).records,function(t){t&&a(t,i,n.dispatchAction)}),function(t,e){var i,a=t.showTip.length,n=t.hideTip.length;a?i=t.showTip[a-1]:n&&(i=t.hideTip[n-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}(n.pendings,e)})}r(t).initialized||(r(t).initialized=!0,i("click",a.curry(l,"click")),i("mousemove",a.curry(l,"mousemove")),i("globalout",s))}(h,e),(r(h).records[t]||(r(h).records[t]={})).handler=i}},e.unregister=function(t,e){if(!n.node){var i=e.getZr();(r(i).records||{})[t]&&(r(i).records[t]=null)}}},Dsid:function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},DuR2:function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},"E/in":function(t,e,i){"use strict";e.__esModule=!0,e.isDef=function(t){return void 0!==t&&null!==t},e.isKorean=function(t){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(t)}},E7aA:function(t,e,i){var a=i("/gxq"),n=i("5Mek"),r=i("QD+P"),o="\0_ec_dataZoom_roams";function s(t){var e=t.getZr();return e[o]||(e[o]={})}function l(t){a.each(t,function(e,i){e.count||(e.controller.dispose(),delete t[i])})}function h(t,e){t.dispatchAction({type:"dataZoom",batch:e})}e.register=function(t,e){var i=s(t),o=e.dataZoomId,u=e.coordId;a.each(i,function(t,i){var n=t.dataZoomInfos;n[o]&&a.indexOf(e.allCoordIds,u)<0&&(delete n[o],t.count--)}),l(i);var c=i[u];c||((c=i[u]={coordId:u,dataZoomInfos:{},count:0}).controller=function(t,e){var i=new n(t.getZr());return a.each(["pan","zoom","scrollMove"],function(t){i.on(t,function(i){var n=[];a.each(e.dataZoomInfos,function(a){if(i.isAvailableBehavior(a.dataZoomModel.option)){var r=(a.getRange||{})[t],o=r&&r(e.controller,i);!a.dataZoomModel.get("disabled",!0)&&o&&n.push({dataZoomId:a.dataZoomId,start:o[0],end:o[1]})}}),n.length&&e.dispatchAction(n)})}),i}(t,c),c.dispatchAction=a.curry(h,t)),!c.dataZoomInfos[o]&&c.count++,c.dataZoomInfos[o]=e;var d,f,p,m,v=(d=c.dataZoomInfos,p={type_true:2,type_move:1,type_false:0,type_undefined:-1},m=!0,a.each(d,function(t){var e=t.dataZoomModel,i=!e.get("disabled",!0)&&(!e.get("zoomLock",!0)||"move");p["type_"+i]>p["type_"+f]&&(f=i),m&=e.get("preventDefaultMouseMove",!0)}),{controlType:f,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!m}});c.controller.enable(v.controlType,v.opt),c.controller.setPointerChecker(e.containsPoint),r.createOrUpdate(c,"dispatchAction",e.dataZoomModel.get("throttle",!0),"fixRate")},e.unregister=function(t,e){var i=s(t);a.each(i,function(t){t.controller.dispose();var i=t.dataZoomInfos;i[e]&&(delete i[e],t.count--)}),l(i)},e.generateCoordId=function(t){return t.type+"\0_"+t.id}},E8YU:function(t,e,i){var a=i("/gxq"),n=i("1Xuh").getLayoutRect;e.getItemAlign=function(t,e,i){var a=t.option,r=a.align;if(null!=r&&"auto"!==r)return r;for(var o={width:e.getWidth(),height:e.getHeight()},s="horizontal"===a.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],h=l[s],u=[0,null,10],c={},d=0;d<3;d++)c[l[1-s][d]]=u[d],c[h[d]]=2===d?i[0]:a[h[d]];var f=[["x","width",3],["y","height",0]][s],p=n(c,o,a.padding);return h[(p.margin[f[2]]||0)+p[f[0]]+.5*p[f[1]]<.5*o[f[1]]?0:1]},e.makeHighDownBatch=function(t,e){return a.each(t||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),t}},EGZi:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},EJsE:function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=i("YNzw"),r=i("HHfb"),o=r.formatTime,s=r.encodeHTML,l=r.addCommas,h=r.getTooltipMarker,u=i("vXqC"),c=i("Y5nL"),d=i("MyoG"),f=i("bBvJ"),p=i("1Xuh"),m=p.getLayoutParams,v=p.mergeLayoutParam,g=i("gV7x").createTask,C=i("kdOt"),D=C.prepareSource,y=C.getSource,x=i("5KBG").retrieveRawValue,S=u.makeInner(),I=c.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(t,e,i,a){this.seriesIndex=this.componentIndex,this.dataTask=g({count:b,reset:w}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),D(this);var n=this.getInitialData(t,i);E(n,this),this.dataTask.context.data=n,S(this).dataBeforeProcessed=n,T(this)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?m(t):{},r=this.subType;c.hasClass(r)&&(r+="Series"),a.merge(t,e.getTheme().get(this.subType)),a.merge(t,this.getDefaultOption()),u.defaultEmphasis(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&v(t,n,i)},mergeOption:function(t,e){t=a.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.layoutMode;i&&v(this.option,t,i),D(this);var n=this.getInitialData(t,e);E(n,this),this.dataTask.dirty(),this.dataTask.context.data=n,S(this).dataBeforeProcessed=n,T(this)},fillDataTextStyle:function(t){if(t&&!a.isTypedArray(t))for(var e=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&u.defaultEmphasis(t[i],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=_(this);if(e){var i=e.context.data;return null==t?i:i.getLinkedData(t)}return S(this).data},setData:function(t){var e=_(this);if(e){var i=e.context;i.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),i.outputData=t,e!==this.dataTask&&(i.data=t)}S(this).data=t},getSource:function(){return y(this)},getRawData:function(){return S(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,i,n){var r=this,c="html"===(n=n||"html")?"<br/>":"\n",d="richText"===n,f={},p=0;function m(t){return{renderMode:n,content:s(l(t)),style:f}}var v=this.getData(),g=v.mapDimension("defaultedTooltip",!0),C=g.length,D=this.getRawValue(t),y=a.isArray(D),S=v.getItemVisual(t,"color");a.isObject(S)&&S.colorStops&&(S=(S.colorStops[0]||{}).color),S=S||"transparent";var I=(C>1||y&&!C?function(i){var u=a.reduce(i,function(t,e,i){var a=v.getDimensionInfo(i);return t|(a&&!1!==a.tooltip&&null!=a.displayName)},0),c=[];function m(t,i){var a=v.getDimensionInfo(i);if(a&&!1!==a.otherDims.tooltip){var m=a.type,g="sub"+r.seriesIndex+"at"+p,C=h({color:S,type:"subItem",renderMode:n,markerId:g}),D="string"==typeof C?C:C.content,y=(u?D+s(a.displayName||"-")+": ":"")+s("ordinal"===m?t+"":"time"===m?e?"":o("yyyy/MM/dd hh:mm:ss",t):l(t));y&&c.push(y),d&&(f[g]=S,++p)}}g.length?a.each(g,function(e){m(x(v,t,e),e)}):a.each(i,m);var C=u?d?"\n":"<br/>":"",D=C+c.join(C||", ");return{renderMode:n,content:D,style:f}}(D):m(C?x(v,t,g[0]):y?D[0]:D)).content,T=r.seriesIndex+"at"+p,b=h({color:S,type:"item",renderMode:n,markerId:T});f[T]=S,++p;var w=v.getName(t),M=this.name;u.isNameSpecified(this)||(M=""),M=M?s(M)+(e?": ":c):"";var E="string"==typeof b?b:b.content;return{html:e?E+M+I:M+E+(w?s(w)+": "+I:I),markers:f}},isAnimationEnabled:function(){if(n.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,i){var a=this.ecModel,n=d.getColorFromPalette.call(this,t,e,i);return n||(n=a.getColorFromPalette(t,e,i)),n},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function T(t){var e=t.name;u.isNameSpecified(t)||(t.name=function(t){var e=t.getRawData(),i=e.mapDimension("seriesName",!0),n=[];return a.each(i,function(t){var i=e.getDimensionInfo(t);i.displayName&&n.push(i.displayName)}),n.join(" ")}(t)||e)}function b(t){return t.model.getRawData().count()}function w(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),M}function M(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function E(t,e){a.each(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,a.curry(A,e))})}function A(t){var e=_(t);e&&e.setOutputEnd(this.count())}function _(t){var e=(t.ecModel||{}).scheduler,i=e&&e.getPipeline(t.uid);if(i){var a=i.currentTask;if(a){var n=a.agentStubMap;n&&(a=n.get(t.uid))}return a}}a.mixin(I,f),a.mixin(I,d);var L=I;t.exports=L},EKTV:function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=83)}({0:function(t,e,i){"use strict";function a(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return a})},4:function(t,e){t.exports=i("fPll")},83:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-checkbox",class:[t.border&&t.checkboxSize?"el-checkbox--"+t.checkboxSize:"",{"is-disabled":t.isDisabled},{"is-bordered":t.border},{"is-checked":t.isChecked}],attrs:{id:t.id}},[i("span",{staticClass:"el-checkbox__input",class:{"is-disabled":t.isDisabled,"is-checked":t.isChecked,"is-indeterminate":t.indeterminate,"is-focus":t.focus},attrs:{tabindex:!!t.indeterminate&&0,role:!!t.indeterminate&&"checkbox","aria-checked":!!t.indeterminate&&"mixed"}},[i("span",{staticClass:"el-checkbox__inner"}),t.trueLabel||t.falseLabel?i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",name:t.name,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t._q(t.model,t.trueLabel)},on:{change:[function(e){var i=t.model,a=e.target,n=a.checked?t.trueLabel:t.falseLabel;if(Array.isArray(i)){var r=t._i(i,null);a.checked?r<0&&(t.model=i.concat([null])):r>-1&&(t.model=i.slice(0,r).concat(i.slice(r+1)))}else t.model=n},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",disabled:t.isDisabled,name:t.name},domProps:{value:t.label,checked:Array.isArray(t.model)?t._i(t.model,t.label)>-1:t.model},on:{change:[function(e){var i=t.model,a=e.target,n=!!a.checked;if(Array.isArray(i)){var r=t.label,o=t._i(i,r);a.checked?o<0&&(t.model=i.concat([r])):o>-1&&(t.model=i.slice(0,o).concat(i.slice(o+1)))}else t.model=n},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}})]),t.$slots.default||t.label?i("span",{staticClass:"el-checkbox__label"},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2):t._e()])};a._withStripped=!0;var n=i(4),r={name:"ElCheckbox",mixins:[i.n(n).a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(t){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&t.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&t.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[t])):(this.$emit("input",t),this.selfModel=t)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){for(var t=this.$parent;t;){if("ElCheckboxGroup"===t.$options.componentName)return this._checkboxGroup=t,!0;t=t.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var t=this._checkboxGroup,e=t.max,i=t.min;return!(!e&&!i)&&this.model.length>=e&&!this.isChecked||this.model.length<=i&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||t}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(t){var e=this;if(!this.isLimitExceeded){var i=void 0;i=t.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",i,t),this.$nextTick(function(){e.isGroup&&e.dispatch("ElCheckboxGroup","change",[e._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",t)}}},o=i(0),s=Object(o.a)(r,a,[],!1,null,null,null);s.options.__file="packages/checkbox/src/checkbox.vue";var l=s.exports;l.install=function(t){t.component(l.name,l)};e.default=l}})},EKta:function(t,e,i){"use strict";e.byteLength=function(t){var e=h(t),i=e[0],a=e[1];return 3*(i+a)/4-a},e.toByteArray=function(t){var e,i,a=h(t),o=a[0],s=a[1],l=new r(function(t,e,i){return 3*(e+i)/4-i}(0,o,s)),u=0,c=s>0?o-4:o;for(i=0;i<c;i+=4)e=n[t.charCodeAt(i)]<<18|n[t.charCodeAt(i+1)]<<12|n[t.charCodeAt(i+2)]<<6|n[t.charCodeAt(i+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;2===s&&(e=n[t.charCodeAt(i)]<<2|n[t.charCodeAt(i+1)]>>4,l[u++]=255&e);1===s&&(e=n[t.charCodeAt(i)]<<10|n[t.charCodeAt(i+1)]<<4|n[t.charCodeAt(i+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e);return l},e.fromByteArray=function(t){for(var e,i=t.length,n=i%3,r=[],o=0,s=i-n;o<s;o+=16383)r.push(u(t,o,o+16383>s?s:o+16383));1===n?(e=t[i-1],r.push(a[e>>2]+a[e<<4&63]+"==")):2===n&&(e=(t[i-2]<<8)+t[i-1],r.push(a[e>>10]+a[e>>4&63]+a[e<<2&63]+"="));return r.join("")};for(var a=[],n=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)a[s]=o[s],n[o.charCodeAt(s)]=s;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function u(t,e,i){for(var n,r,o=[],s=e;s<i;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(a[(r=n)>>18&63]+a[r>>12&63]+a[r>>6&63]+a[63&r]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},ERCD:function(t,e,i){var a=i("1Xuh");function n(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function r(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function o(t,e,i){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:i}function s(t,e,i){var a=i/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=a,e.hierNode.shift+=i,e.hierNode.modifier+=i,e.hierNode.prelim+=i,t.hierNode.change+=a}function l(t,e){return t.parentNode===e.parentNode?1:2}e.init=function(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,i,a=[t];e=a.pop();)if(i=e.children,e.isExpand&&i.length)for(var n=i.length-1;n>=0;n--){var r=i[n];r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:n,thread:null},a.push(r)}},e.firstWalk=function(t,e){var i=t.isExpand?t.children:[],a=t.parentNode.children,l=t.hierNode.i?a[t.hierNode.i-1]:null;if(i.length){!function(t){for(var e=t.children,i=e.length,a=0,n=0;--i>=0;){var r=e[i];r.hierNode.prelim+=a,r.hierNode.modifier+=a,n+=r.hierNode.change,a+=r.hierNode.shift+n}}(t);var h=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;l?(t.hierNode.prelim=l.hierNode.prelim+e(t,l),t.hierNode.modifier=t.hierNode.prelim-h):t.hierNode.prelim=h}else l&&(t.hierNode.prelim=l.hierNode.prelim+e(t,l));t.parentNode.hierNode.defaultAncestor=function(t,e,i,a){if(e){for(var l=t,h=t,u=h.parentNode.children[0],c=e,d=l.hierNode.modifier,f=h.hierNode.modifier,p=u.hierNode.modifier,m=c.hierNode.modifier;c=n(c),h=r(h),c&&h;){l=n(l),u=r(u),l.hierNode.ancestor=t;var v=c.hierNode.prelim+m-h.hierNode.prelim-f+a(c,h);v>0&&(s(o(c,t,i),t,v),f+=v,d+=v),m+=c.hierNode.modifier,f+=h.hierNode.modifier,d+=l.hierNode.modifier,p+=u.hierNode.modifier}c&&!n(l)&&(l.hierNode.thread=c,l.hierNode.modifier+=m-d),h&&!r(u)&&(u.hierNode.thread=h,u.hierNode.modifier+=f-p,i=t)}return i}(t,l,t.parentNode.hierNode.defaultAncestor||a[0],e)},e.secondWalk=function(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier},e.separation=function(t){return arguments.length?t:l},e.radialCoordinate=function(t,e){var i={};return t-=Math.PI/2,i.x=e*Math.cos(t),i.y=e*Math.sin(t),i},e.getViewRect=function(t,e){return a.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}},EqBC:function(t,e,i){"use strict";var a=i("kM2E"),n=i("FeBl"),r=i("7KvD"),o=i("t8x9"),s=i("fJUb");a(a.P+a.R,"Promise",{finally:function(t){var e=o(this,n.Promise||r.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then(function(){return i})}:t,i?function(i){return s(e,t()).then(function(){throw i})}:t)}})},EqjI:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},EuP9:function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var a=i("EKta"),n=i("ujcs"),r=i("sOR5");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return h(this,t,e,i)}function h(t,e,i,a){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,a){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(a||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===a?new Uint8Array(e):void 0===a?new Uint8Array(e,i):new Uint8Array(e,i,a);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e);return t}(t,e,i,a):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var a=0|p(e,i),n=(t=s(t,a)).write(e,i);n!==a&&(t=t.slice(0,n));return t}(t,e,i):function(t,e){if(l.isBuffer(e)){var i=0|f(e.length);return 0===(t=s(t,i)).length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(a=e.length)!=a?s(t,0):d(t,e);if("Buffer"===e.type&&r(e.data))return d(t,e.data)}var a;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(u(e),t=s(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function d(t,e){var i=e.length<0?0:0|f(e.length);t=s(t,i);for(var a=0;a<i;a+=1)t[a]=255&e[a];return t}function f(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var a=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return G(t).length;default:if(a)return H(t).length;e=(""+e).toLowerCase(),a=!0}}function m(t,e,i){var a=t[e];t[e]=t[i],t[i]=a}function v(t,e,i,a,n){if(0===t.length)return-1;if("string"==typeof i?(a=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return-1;i=t.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof e&&(e=l.from(e,a)),l.isBuffer(e))return 0===e.length?-1:g(t,e,i,a,n);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):g(t,[e],i,a,n);throw new TypeError("val must be string, number or Buffer")}function g(t,e,i,a,n){var r,o=1,s=t.length,l=e.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,i/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){var u=-1;for(r=i;r<s;r++)if(h(t,r)===h(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===l)return u*o}else-1!==u&&(r-=r-u),u=-1}else for(i+l>s&&(i=s-l),r=i;r>=0;r--){for(var c=!0,d=0;d<l;d++)if(h(t,r+d)!==h(e,d)){c=!1;break}if(c)return r}return-1}function C(t,e,i,a){i=Number(i)||0;var n=t.length-i;a?(a=Number(a))>n&&(a=n):a=n;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");a>r/2&&(a=r/2);for(var o=0;o<a;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[i+o]=s}return o}function D(t,e,i,a){return Y(H(e,t.length-i),t,i,a)}function y(t,e,i,a){return Y(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,a)}function x(t,e,i,a){return y(t,e,i,a)}function S(t,e,i,a){return Y(G(e),t,i,a)}function I(t,e,i,a){return Y(function(t,e){for(var i,a,n,r=[],o=0;o<t.length&&!((e-=2)<0);++o)i=t.charCodeAt(o),a=i>>8,n=i%256,r.push(n),r.push(a);return r}(e,t.length-i),t,i,a)}function T(t,e,i){return 0===e&&i===t.length?a.fromByteArray(t):a.fromByteArray(t.slice(e,i))}function b(t,e,i){i=Math.min(t.length,i);for(var a=[],n=e;n<i;){var r,o,s,l,h=t[n],u=null,c=h>239?4:h>223?3:h>191?2:1;if(n+c<=i)switch(c){case 1:h<128&&(u=h);break;case 2:128==(192&(r=t[n+1]))&&(l=(31&h)<<6|63&r)>127&&(u=l);break;case 3:r=t[n+1],o=t[n+2],128==(192&r)&&128==(192&o)&&(l=(15&h)<<12|(63&r)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:r=t[n+1],o=t[n+2],s=t[n+3],128==(192&r)&&128==(192&o)&&128==(192&s)&&(l=(15&h)<<18|(63&r)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,c=1):u>65535&&(u-=65536,a.push(u>>>10&1023|55296),u=56320|1023&u),a.push(u),n+=c}return function(t){var e=t.length;if(e<=w)return String.fromCharCode.apply(String,t);var i="",a=0;for(;a<e;)i+=String.fromCharCode.apply(String,t.slice(a,a+=w));return i}(a)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,i){return h(null,t,e,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,i){return function(t,e,i,a){return u(e),e<=0?s(t,e):void 0!==i?"string"==typeof a?s(t,e).fill(i,a):s(t,e).fill(i):s(t,e)}(null,t,e,i)},l.allocUnsafe=function(t){return c(null,t)},l.allocUnsafeSlow=function(t){return c(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,a=e.length,n=0,r=Math.min(i,a);n<r;++n)if(t[n]!==e[n]){i=t[n],a=e[n];break}return i<a?-1:a<i?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var a=l.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var o=t[i];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,n),n+=o.length}return a},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?b(this,0,t):function(t,e,i){var a=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,i);case"utf8":case"utf-8":return b(this,e,i);case"ascii":return M(this,e,i);case"latin1":case"binary":return E(this,e,i);case"base64":return T(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,i);default:if(a)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),a=!0}}.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,i,a,n){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===a&&(a=0),void 0===n&&(n=this.length),e<0||i>t.length||a<0||n>this.length)throw new RangeError("out of range index");if(a>=n&&e>=i)return 0;if(a>=n)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,a>>>=0,n>>>=0,this===t)return 0;for(var r=n-a,o=i-e,s=Math.min(r,o),h=this.slice(a,n),u=t.slice(e,i),c=0;c<s;++c)if(h[c]!==u[c]){r=h[c],o=u[c];break}return r<o?-1:o<r?1:0},l.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},l.prototype.indexOf=function(t,e,i){return v(this,t,e,i,!0)},l.prototype.lastIndexOf=function(t,e,i){return v(this,t,e,i,!1)},l.prototype.write=function(t,e,i,a){if(void 0===e)a="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)a=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===a&&(a="utf8")):(a=i,i=void 0)}var n=this.length-e;if((void 0===i||i>n)&&(i=n),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var r=!1;;)switch(a){case"hex":return C(this,t,e,i);case"utf8":case"utf-8":return D(this,t,e,i);case"ascii":return y(this,t,e,i);case"latin1":case"binary":return x(this,t,e,i);case"base64":return S(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,i);default:if(r)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function M(t,e,i){var a="";i=Math.min(t.length,i);for(var n=e;n<i;++n)a+=String.fromCharCode(127&t[n]);return a}function E(t,e,i){var a="";i=Math.min(t.length,i);for(var n=e;n<i;++n)a+=String.fromCharCode(t[n]);return a}function A(t,e,i){var a=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>a)&&(i=a);for(var n="",r=e;r<i;++r)n+=V(t[r]);return n}function _(t,e,i){for(var a=t.slice(e,i),n="",r=0;r<a.length;r+=2)n+=String.fromCharCode(a[r]+256*a[r+1]);return n}function L(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,i,a,n,r){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<r)throw new RangeError('"value" argument is out of bounds');if(i+a>t.length)throw new RangeError("Index out of range")}function O(t,e,i,a){e<0&&(e=65535+e+1);for(var n=0,r=Math.min(t.length-i,2);n<r;++n)t[i+n]=(e&255<<8*(a?n:1-n))>>>8*(a?n:1-n)}function P(t,e,i,a){e<0&&(e=4294967295+e+1);for(var n=0,r=Math.min(t.length-i,4);n<r;++n)t[i+n]=e>>>8*(a?n:3-n)&255}function N(t,e,i,a,n,r){if(i+a>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function R(t,e,i,a,r){return r||N(t,0,i,4),n.write(t,e,i,a,23,4),i+4}function B(t,e,i,a,r){return r||N(t,0,i,8),n.write(t,e,i,a,52,8),i+8}l.prototype.slice=function(t,e){var i,a=this.length;if(t=~~t,e=void 0===e?a:~~e,t<0?(t+=a)<0&&(t=0):t>a&&(t=a),e<0?(e+=a)<0&&(e=0):e>a&&(e=a),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=l.prototype;else{var n=e-t;i=new l(n,void 0);for(var r=0;r<n;++r)i[r]=this[r+t]}return i},l.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||L(t,e,this.length);for(var a=this[t],n=1,r=0;++r<e&&(n*=256);)a+=this[t+r]*n;return a},l.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||L(t,e,this.length);for(var a=this[t+--e],n=1;e>0&&(n*=256);)a+=this[t+--e]*n;return a},l.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||L(t,e,this.length);for(var a=this[t],n=1,r=0;++r<e&&(n*=256);)a+=this[t+r]*n;return a>=(n*=128)&&(a-=Math.pow(2,8*e)),a},l.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||L(t,e,this.length);for(var a=e,n=1,r=this[t+--a];a>0&&(n*=256);)r+=this[t+--a]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),n.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),n.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),n.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),n.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,i,a){(t=+t,e|=0,i|=0,a)||F(this,t,e,i,Math.pow(2,8*i)-1,0);var n=1,r=0;for(this[e]=255&t;++r<i&&(n*=256);)this[e+r]=t/n&255;return e+i},l.prototype.writeUIntBE=function(t,e,i,a){(t=+t,e|=0,i|=0,a)||F(this,t,e,i,Math.pow(2,8*i)-1,0);var n=i-1,r=1;for(this[e+n]=255&t;--n>=0&&(r*=256);)this[e+n]=t/r&255;return e+i},l.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,i,a){if(t=+t,e|=0,!a){var n=Math.pow(2,8*i-1);F(this,t,e,i,n-1,-n)}var r=0,o=1,s=0;for(this[e]=255&t;++r<i&&(o*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/o>>0)-s&255;return e+i},l.prototype.writeIntBE=function(t,e,i,a){if(t=+t,e|=0,!a){var n=Math.pow(2,8*i-1);F(this,t,e,i,n-1,-n)}var r=i-1,o=1,s=0;for(this[e+r]=255&t;--r>=0&&(o*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/o>>0)-s&255;return e+i},l.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,i){return R(this,t,e,!0,i)},l.prototype.writeFloatBE=function(t,e,i){return R(this,t,e,!1,i)},l.prototype.writeDoubleLE=function(t,e,i){return B(this,t,e,!0,i)},l.prototype.writeDoubleBE=function(t,e,i){return B(this,t,e,!1,i)},l.prototype.copy=function(t,e,i,a){if(i||(i=0),a||0===a||(a=this.length),e>=t.length&&(e=t.length),e||(e=0),a>0&&a<i&&(a=i),a===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-e<a-i&&(a=t.length-e+i);var n,r=a-i;if(this===t&&i<e&&e<a)for(n=r-1;n>=0;--n)t[n+e]=this[n+i];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(n=0;n<r;++n)t[n+e]=this[n+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+r),e);return r},l.prototype.fill=function(t,e,i,a){if("string"==typeof t){if("string"==typeof e?(a=e,e=0,i=this.length):"string"==typeof i&&(a=i,i=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!l.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var r;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(r=e;r<i;++r)this[r]=t;else{var o=l.isBuffer(t)?t:H(new l(t,a).toString()),s=o.length;for(r=0;r<i-e;++r)this[r+e]=o[r%s]}return this};var k=/[^+\/0-9A-Za-z-_]/g;function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){var i;e=e||1/0;for(var a=t.length,n=null,r=[],o=0;o<a;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(o+1===a){(e-=3)>-1&&r.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&r.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(e-=3)>-1&&r.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;r.push(i)}else if(i<2048){if((e-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function G(t){return a.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(k,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,i,a){for(var n=0;n<a&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}}).call(e,i("DuR2"))},F8oC:function(t,e,i){var a=i("/gxq"),n=i("Y5nL"),r=i("Rfu2"),o=i("vXqC"),s=n.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(t,e,i){this._data,this._names,this.mergeDefaultAndTheme(t,i),this._initData()},mergeOption:function(t){s.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],i=t.axisType,n=this._names=[];if("category"===i){var s=[];a.each(e,function(t,e){var i,r=o.getDataItemValue(t);a.isObject(t)?(i=a.clone(t)).value=e:i=e,s.push(i),a.isString(r)||null!=r&&!isNaN(r)||(r=""),n.push(r+"")}),e=s}var l={category:"ordinal",time:"time"}[i]||"number";(this._data=new r([{name:"value",type:l}],this)).initData(e,n)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),l=s;t.exports=l},FIAY:function(t,e){t.exports={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}}},FeBl:function(t,e){var i=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=i)},Fkmw:function(t,e,i){var a=i("/gxq"),n=i("DRaW"),r=i("Rfu2"),o=i("wWR3"),s=i("0sHC"),l=i("vx1D"),h=function(t,e,i,n){var r=l.dataTransform(t,n[0]),o=l.dataTransform(t,n[1]),s=a.retrieve,h=r.coord,u=o.coord;h[0]=s(h[0],-1/0),h[1]=s(h[1],-1/0),u[0]=s(u[0],1/0),u[1]=s(u[1],1/0);var c=a.mergeAll([{},r,o]);return c.coord=[r.coord,o.coord],c.x0=r.x,c.y0=r.y,c.x1=o.x,c.y1=o.y,c};function u(t){return!isNaN(t)&&!isFinite(t)}function c(t,e,i,a){var n=1-t;return u(e[n])&&u(i[n])}function d(t,e){var i=e.coord[0],a=e.coord[1];return!("cartesian2d"!==t.type||!i||!a||!c(1,i,a)&&!c(0,i,a))||(l.dataFilter(t,{coord:i,x:e.x0,y:e.y0})||l.dataFilter(t,{coord:a,x:e.x1,y:e.y1}))}function f(t,e,i,a,n){var r,s=a.coordinateSystem,l=t.getItemModel(e),h=o.parsePercent(l.get(i[0]),n.getWidth()),c=o.parsePercent(l.get(i[1]),n.getHeight());if(isNaN(h)||isNaN(c)){if(a.getMarkerPosition)r=a.getMarkerPosition(t.getValues(i,e));else{var d=[m=t.get(i[0],e),v=t.get(i[1],e)];s.clampData&&s.clampData(d,d),r=s.dataToPoint(d,!0)}if("cartesian2d"===s.type){var f=s.getAxis("x"),p=s.getAxis("y"),m=t.get(i[0],e),v=t.get(i[1],e);u(m)?r[0]=f.toGlobalCoord(f.getExtent()["x0"===i[0]?0:1]):u(v)&&(r[1]=p.toGlobalCoord(p.getExtent()["y0"===i[1]?0:1]))}isNaN(h)||(r[0]=h),isNaN(c)||(r[1]=c)}else r=[h,c];return r}var p=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];i("SZjP").extend({type:"markArea",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markAreaModel;if(e){var n=e.getData();n.each(function(e){var r=a.map(p,function(a){return f(n,e,a,t,i)});n.setItemLayout(e,r),n.getItemGraphicEl(e).setShape("points",r)})}},this)},renderSeries:function(t,e,i,o){var l=t.coordinateSystem,u=t.id,c=t.getData(),m=this.markerGroupMap,v=m.get(u)||m.set(u,{group:new s.Group});this.group.add(v.group),v.__keep=!0;var g=function(t,e,i){var n,o;t?(n=a.map(t&&t.dimensions,function(t){var i=e.getData(),n=i.getDimensionInfo(i.mapDimension(t))||{};return a.defaults({name:t},n)}),o=new r(a.map(["x0","y0","x1","y1"],function(t,e){return{name:t,type:n[e%2].type}}),i)):o=new r(n=[{name:"value",type:"float"}],i);var s=a.map(i.get("data"),a.curry(h,e,t,i));t&&(s=a.filter(s,a.curry(d,t)));var l=t?function(t,e,i,a){return t.coord[Math.floor(a/2)][a%2]}:function(t){return t.value};return o.initData(s,null,l),o.hasItemOption=!0,o}(l,t,e);e.setData(g),g.each(function(e){g.setItemLayout(e,a.map(p,function(i){return f(g,e,i,t,o)})),g.setItemVisual(e,{color:c.getVisual("color")})}),g.diff(v.__data).add(function(t){var e=new s.Polygon({shape:{points:g.getItemLayout(t)}});g.setItemGraphicEl(t,e),v.group.add(e)}).update(function(t,i){var a=v.__data.getItemGraphicEl(i);s.updateProps(a,{shape:{points:g.getItemLayout(t)}},e,t),v.group.add(a),g.setItemGraphicEl(t,a)}).remove(function(t){var e=v.__data.getItemGraphicEl(t);v.group.remove(e)}).execute(),g.eachItemGraphicEl(function(t,i){var r=g.getItemModel(i),o=r.getModel("label"),l=r.getModel("emphasis.label"),h=g.getItemVisual(i,"color");t.useStyle(a.defaults(r.getModel("itemStyle").getItemStyle(),{fill:n.modifyAlpha(h,.4),stroke:h})),t.hoverStyle=r.getModel("emphasis.itemStyle").getItemStyle(),s.setLabelStyle(t.style,t.hoverStyle,o,l,{labelFetcher:e,labelDataIndex:i,defaultText:g.getName(i)||"",isRectText:!0,autoColor:h}),s.setHoverStyle(t,{}),t.dataModel=e}),v.__data=g,v.group.silent=e.get("silent")||t.get("silent")}})},FlXs:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("QD+P"),o=i("i6Ks");i("qSkD"),i("KjPy"),i("LjPz");a.extendComponentView({type:"parallel",render:function(t,e,i){this._model=t,this._api=i,this._handlers||(this._handlers={},n.each(s,function(t,e){i.getZr().on(e,this._handlers[e]=n.bind(t,this))},this)),r.createOrUpdate(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},dispose:function(t,e){n.each(this._handlers,function(t,i){e.getZr().off(i,t)}),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&&this._api.dispatchAction(n.extend({type:"parallelAxisExpand"},t))}});var s={mousedown:function(t){l(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(l(this,"click")&&e){var i=[t.offsetX,t.offsetY];if(Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2)>5)return;var a=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==a.behavior&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&l(this,"mousemove")){var e=this._model,i=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),a=i.behavior;"jump"===a&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===a?null:{axisExpandWindow:i.axisExpandWindow,animation:"jump"===a&&null})}}};function l(t,e){var i=t._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===e}a.registerPreprocessor(o)},FtD3:function(t,e,i){"use strict";var a=i("t8qj");t.exports=function(t,e,i,n,r){var o=new Error(t);return a(o,e,i,n,r)}},FvdC:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("ii60").updateCenterAndZoom;a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,e){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},function(e){var a=e.coordinateSystem;if("geo"===a.type){var o=r(a,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom),"series"===i&&n.each(e.seriesGroup,function(t){t.setCenter(o.center),t.setZoom(o.zoom)})}})})},GHBc:function(t,e,i){"use strict";var a=i("cGG2");t.exports=a.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(t){var a=t;return e&&(i.setAttribute("href",a),a=i.href),i.setAttribute("href",a),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=n(window.location.href),function(e){var i=a.isString(e)?n(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},GQGX:function(t,e,i){var a=i("/gxq");function n(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},o=n.normal||(n.normal={}),s={normal:1,emphasis:1};a.each(n,function(t,e){s[e]||r(o,e)||(o[e]=t)}),i.label&&!r(n,"emphasis")&&(n.emphasis=i.label,delete i.label)}function r(t,e){return t.hasOwnProperty(e)}t.exports=function(t){var e=t&&t.timeline;a.isArray(e)||(e=e?[e]:[]),a.each(e,function(t){t&&function(t){var e=t.type,i={number:"value",time:"time"};if(i[e]&&(t.axisType=i[e],delete t.type),n(t),r(t,"controlPosition")){var o=t.controlStyle||(t.controlStyle={});r(o,"position")||(o.position=t.controlPosition),"none"!==o.position||r(o,"show")||(o.show=!1,delete o.position),delete t.controlPosition}a.each(t.data||[],function(t){a.isObject(t)&&!a.isArray(t)&&(!r(t,"value")&&r(t,"name")&&(t.value=t.name),n(t))})}(t)})}},GWV8:function(t,e,i){var a=i("/gxq"),n=i("wWR3"),r=i("s1Aj"),o=i("og9+"),s=a.each,l=n.asc,h=function(t,e,i,a){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=a,this._dataZoomModel=i};function u(t,e){var i=t.getAxisModel(),a=t._percentWindow,r=t._valueWindow;if(a){var o=n.getPixelPrecision(r,[0,500]);o=Math.min(o,20);var s=e||0===a[0]&&100===a[1];i.setRange(s?null:+r[0].toFixed(o),s?null:+r[1].toFixed(o))}}h.prototype={constructor:h,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries(function(i){if(r.isCoordSupported(i.get("coordinateSystem"))){var a=this._dimName,n=e.queryComponents({mainType:a+"Axis",index:i.get(a+"AxisIndex"),id:i.get(a+"AxisId")})[0];this._axisIndex===(n&&n.componentIndex)&&t.push(i)}},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,i,a=this._dimName,n=this.ecModel,r=this.getAxisModel();return"x"===a||"y"===a?(e="gridIndex",t="x"===a?"y":"x"):(e="polarIndex",t="angle"===a?"radius":"angle"),n.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(r.get(e)||0)&&(i=t)}),i},getMinMaxSpan:function(){return a.clone(this._minMaxSpan)},calculateDataWindow:function(t){var e,i=this._dataExtent,a=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),h=[0,100],u=[],c=[];s(["start","end"],function(o,s){var l=t[o],d=t[o+"Value"];"percent"===r[s]?(null==l&&(l=h[s]),d=a.parse(n.linearMap(l,h,i))):(e=!0,d=null==d?i[s]:a.parse(d),l=n.linearMap(d,i,h)),c[s]=d,u[s]=l}),l(c),l(u);var d=this._minMaxSpan;function f(t,e,i,r,s){var l=s?"Span":"ValueSpan";o(0,t,i,"all",d["min"+l],d["max"+l]);for(var h=0;h<2;h++)e[h]=n.linearMap(t[h],i,r,!0),s&&(e[h]=a.parse(e[h]))}return e?f(c,u,i,h,!1):f(u,c,h,i,!0),{valueWindow:c,percentWindow:u}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,i){var a=[1/0,-1/0];s(i,function(t){var i=t.getData();i&&s(i.mapDimension(e,!0),function(t){var e=i.getApproximateExtent(t);e[0]<a[0]&&(a[0]=e[0]),e[1]>a[1]&&(a[1]=e[1])})}),a[1]<a[0]&&(a=[NaN,NaN]);return function(t,e){var i=t.getAxisModel(),a=i.getMin(!0),n="category"===i.get("type"),r=n&&i.getCategories().length;null!=a&&"dataMin"!==a&&"function"!=typeof a?e[0]=a:n&&(e[0]=r>0?0:NaN);var o=i.getMax(!0);null!=o&&"dataMax"!==o&&"function"!=typeof o?e[1]=o:n&&(e[1]=r>0?r-1:NaN),i.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0))}(t,a),a}(this,this._dimName,e),function(t){var e=t._minMaxSpan={},i=t._dataZoomModel,a=t._dataExtent;s(["min","max"],function(r){var o=i.get(r+"Span"),s=i.get(r+"ValueSpan");null!=s&&(s=t.getAxisModel().axis.scale.parse(s)),null!=s?o=n.linearMap(a[0]+s,a,[0,100],!0):null!=o&&(s=n.linearMap(o,[0,100],a,!0)-a[0]),e[r+"Span"]=o,e[r+"ValueSpan"]=s})}(this);var i=this.calculateDataWindow(t.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,u(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,u(this,!0))},filterData:function(t,e){if(t===this._dataZoomModel){var i=this._dimName,a=this.getTargetSeriesModels(),n=t.get("filterMode"),r=this._valueWindow;"none"!==n&&s(a,function(t){var e=t.getData(),a=e.mapDimension(i,!0);a.length&&("weakFilter"===n?e.filterSelf(function(t){for(var i,n,o,s=0;s<a.length;s++){var l=e.get(a[s],t),h=!isNaN(l),u=l<r[0],c=l>r[1];if(h&&!u&&!c)return!0;h&&(o=!0),u&&(i=!0),c&&(n=!0)}return o&&i&&n}):s(a,function(i){if("empty"===n)t.setData(e=e.map(i,function(t){return function(t){return t>=r[0]&&t<=r[1]}(t)?t:NaN}));else{var a={};a[i]=r,e.selectRange(a)}}),s(a,function(t){e.setApproximateExtent(r,t)}))})}}};var c=h;t.exports=c},GbHy:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("m/6y"),o=r.layout,s=r.largeLayout;i("5vFd"),i("DPh+"),i("eHPu"),i("UkNE"),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,n.curry(o,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,s),a.registerVisual({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}})},GegP:function(t,e){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=119)}({0:function(t,e,i){"use strict";function a(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return a})},119:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-progress",class:["el-progress--"+t.type,t.status?"is-"+t.status:"",{"el-progress--without-text":!t.showText,"el-progress--text-inside":t.textInside}],attrs:{role:"progressbar","aria-valuenow":t.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===t.type?i("div",{staticClass:"el-progress-bar"},[i("div",{staticClass:"el-progress-bar__outer",style:{height:t.strokeWidth+"px"}},[i("div",{staticClass:"el-progress-bar__inner",style:t.barStyle},[t.showText&&t.textInside?i("div",{staticClass:"el-progress-bar__innerText"},[t._v(t._s(t.content))]):t._e()])])]):i("div",{staticClass:"el-progress-circle",style:{height:t.width+"px",width:t.width+"px"}},[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("path",{staticClass:"el-progress-circle__track",style:t.trailPathStyle,attrs:{d:t.trackPath,stroke:"#e5e9f2","stroke-width":t.relativeStrokeWidth,fill:"none"}}),i("path",{staticClass:"el-progress-circle__path",style:t.circlePathStyle,attrs:{d:t.trackPath,stroke:t.stroke,fill:"none","stroke-linecap":t.strokeLinecap,"stroke-width":t.percentage?t.relativeStrokeWidth:0}})])]),t.showText&&!t.textInside?i("div",{staticClass:"el-progress__text",style:{fontSize:t.progressTextSize+"px"}},[t.status?i("i",{class:t.iconClass}):[t._v(t._s(t.content))]],2):t._e()])};a._withStripped=!0;var n={name:"ElProgress",props:{type:{type:String,default:"line",validator:function(t){return["line","circle","dashboard"].indexOf(t)>-1}},percentage:{type:Number,default:0,required:!0,validator:function(t){return t>=0&&t<=100}},status:{type:String,validator:function(t){return["success","exception","warning"].indexOf(t)>-1}},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:Function},computed:{barStyle:function(){var t={};return t.width=this.percentage+"%",t.backgroundColor=this.getCurrentColor(this.percentage),t},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var t=this.radius,e="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(e?"":"-")+t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"-":"")+2*t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"":"-")+2*t+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){return-1*this.perimeter*(1-this.rate)/2+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var t=void 0;if(this.color)t=this.getCurrentColor(this.percentage);else switch(this.status){case"success":t="#13ce66";break;case"exception":t="#ff4949";break;case"warning":t="#e6a23c";break;default:t="#20a0ff"}return t},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"==typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(t){return"function"==typeof this.color?this.color(t):"string"==typeof this.color?this.color:this.getLevelColor(t)},getLevelColor:function(t){for(var e=this.getColorArray().sort(function(t,e){return t.percentage-e.percentage}),i=0;i<e.length;i++)if(e[i].percentage>t)return e[i].color;return e[e.length-1].color},getColorArray:function(){var t=this.color,e=100/t.length;return t.map(function(t,i){return"string"==typeof t?{color:t,progress:(i+1)*e}:t})}}},r=i(0),o=Object(r.a)(n,a,[],!1,null,null,null);o.options.__file="packages/progress/src/progress.vue";var s=o.exports;s.install=function(t){t.component(s.name,s)};e.default=s}})},Gevp:function(t,e,i){var a=i("EJsE"),n=i("/gZK"),r=i("/gxq"),o=i("HHfb").encodeHTML,s=a.extend({type:"series.radar",dependencies:["radar"],init:function(t){s.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(t,e){return n(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(t){var e=this.getData(),i=this.coordinateSystem.getIndicatorAxes(),a=this.getData().getName(t);return o(""===a?this.name:a)+"<br/>"+r.map(i,function(i,a){var n=e.get(e.mapDimension(i.dim),t);return o(i.name+" : "+n)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),l=s;t.exports=l},GnMB:function(t,e,i){var a=i("/gxq"),n=i("kK7q").createSymbol,r=i("0sHC").Group,o=i("wWR3").parsePercent,s=i("1bHA");function l(t,e){var i=e.rippleEffectColor||e.color;t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?i:null,fill:"fill"===e.brushType?i:null}})})}function h(t,e){r.call(this);var i=new s(t,e),a=new r;this.add(i),this.add(a),a.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(t,e)}var u=h.prototype;u.stopEffectAnimation=function(){this.childAt(1).removeAll()},u.startEffectAnimation=function(t){for(var e=t.symbolType,i=t.color,a=this.childAt(1),r=0;r<3;r++){var o=n(e,-1,-1,2,2,i);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var s=-r/3*t.period+t.effectOffset;o.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(s).start(),o.animateStyle(!0).when(t.period,{opacity:0}).delay(s).start(),a.add(o)}l(a,t)},u.updateEffectAnimation=function(t){for(var e=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale"],n=0;n<a.length;n++){var r=a[n];if(e[r]!==t[r])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}l(i,t)},u.highlight=function(){this.trigger("emphasis")},u.downplay=function(){this.trigger("normal")},u.updateData=function(t,e){var i=t.hostModel;this.childAt(0).updateData(t,e);var n=this.childAt(1),r=t.getItemModel(e),s=t.getItemVisual(e,"symbol"),l=function(t){return a.isArray(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),h=t.getItemVisual(e,"color");n.attr("scale",l),n.traverse(function(t){t.attr({fill:h})});var u=r.getShallow("symbolOffset");if(u){var c=n.position;c[0]=o(u[0],l[0]),c[1]=o(u[1],l[1])}n.rotation=(r.getShallow("symbolRotate")||0)*Math.PI/180||0;var d={};if(d.showEffectOn=i.get("showEffectOn"),d.rippleScale=r.get("rippleEffect.scale"),d.brushType=r.get("rippleEffect.brushType"),d.period=1e3*r.get("rippleEffect.period"),d.effectOffset=e/t.count(),d.z=r.getShallow("z")||0,d.zlevel=r.getShallow("zlevel")||0,d.symbolType=s,d.color=h,d.rippleEffectColor=r.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===d.showEffectOn)this._effectCfg?this.updateEffectAnimation(d):this.startEffectAnimation(d),this._effectCfg=d;else{this._effectCfg=null,this.stopEffectAnimation();var f=this.childAt(0),p=function(){f.highlight(),"render"!==d.showEffectOn&&this.startEffectAnimation(d)},m=function(){f.downplay(),"render"!==d.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",p,this).on("mouseout",m,this).on("emphasis",p,this).on("normal",m,this)}this._effectCfg=d},u.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},a.inherits(h,r);var c=h;t.exports=c},Goha:function(t,e,i){var a=i("AAi1"),n=i("C7PF"),r=i("hD/x").getSymbolSize,o=[],s=[],l=[],h=a.quadraticAt,u=n.distSquare,c=Math.abs;function d(t,e,i){for(var a,n=t[0],r=t[1],d=t[2],f=1/0,p=i*i,m=.1,v=.1;v<=.9;v+=.1){o[0]=h(n[0],r[0],d[0],v),o[1]=h(n[1],r[1],d[1],v),(D=c(u(o,e)-p))<f&&(f=D,a=v)}for(var g=0;g<32;g++){var C=a+m;s[0]=h(n[0],r[0],d[0],a),s[1]=h(n[1],r[1],d[1],a),l[0]=h(n[0],r[0],d[0],C),l[1]=h(n[1],r[1],d[1],C);var D=u(s,e)-p;if(c(D)<.01)break;var y=u(l,e)-p;m/=2,D<0?y>=0?a+=m:a-=m:y>=0?a-=m:a+=m}return a}t.exports=function(t,e){var i=[],o=a.quadraticSubdivide,s=[[],[],[]],l=[[],[]],h=[];e/=2,t.eachEdge(function(t,a){var u=t.getLayout(),c=t.getVisual("fromSymbol"),f=t.getVisual("toSymbol");u.__original||(u.__original=[n.clone(u[0]),n.clone(u[1])],u[2]&&u.__original.push(n.clone(u[2])));var p=u.__original;if(null!=u[2]){if(n.copy(s[0],p[0]),n.copy(s[1],p[2]),n.copy(s[2],p[1]),c&&"none"!==c){var m=r(t.node1),v=d(s,p[0],m*e);o(s[0][0],s[1][0],s[2][0],v,i),s[0][0]=i[3],s[1][0]=i[4],o(s[0][1],s[1][1],s[2][1],v,i),s[0][1]=i[3],s[1][1]=i[4]}f&&"none"!==f&&(m=r(t.node2),v=d(s,p[1],m*e),o(s[0][0],s[1][0],s[2][0],v,i),s[1][0]=i[1],s[2][0]=i[2],o(s[0][1],s[1][1],s[2][1],v,i),s[1][1]=i[1],s[2][1]=i[2]),n.copy(u[0],s[0]),n.copy(u[1],s[2]),n.copy(u[2],s[1])}else n.copy(l[0],p[0]),n.copy(l[1],p[1]),n.sub(h,l[1],l[0]),n.normalize(h,h),c&&"none"!==c&&(m=r(t.node1),n.scaleAndAdd(l[0],l[0],h,m*e)),f&&"none"!==f&&(m=r(t.node2),n.scaleAndAdd(l[1],l[1],h,-m*e)),n.copy(u[0],l[0]),n.copy(u[1],l[1])})}},Gp87:function(t,e,i){var a=i("Pgdp").extend({type:"timeline"});t.exports=a},Gu7T:function(t,e,i){"use strict";e.__esModule=!0;var a,n=i("c/Tr"),r=(a=n)&&a.__esModule?a:{default:a};e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,r.default)(t)}},Gw4f:function(t,e,i){var a=i("/gxq"),n=i("wRzc"),r=function(t,e,i,a,r,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==a?0:a,this.type="linear",this.global=o||!1,n.call(this,r)};r.prototype={constructor:r},a.inherits(r,n);var o=r;t.exports=o},GxVO:function(t,e,i){var a=i("9qnA"),n=i("/gxq"),r=i("moDv"),o=i("2M5Q"),s=i("dZ2L").prototype.getCanvasPattern,l=Math.abs,h=new r(!0);function u(t){a.call(this,t),this.path=null}u.prototype={constructor:u,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){var i,a=this.style,n=this.path||h,r=a.hasStroke(),o=a.hasFill(),l=a.fill,u=a.stroke,c=o&&!!l.colorStops,d=r&&!!u.colorStops,f=o&&!!l.image,p=r&&!!u.image;(a.bind(t,this,e),this.setTransform(t),this.__dirty)&&(c&&(i=i||this.getBoundingRect(),this._fillGradient=a.getGradient(t,l,i)),d&&(i=i||this.getBoundingRect(),this._strokeGradient=a.getGradient(t,u,i)));c?t.fillStyle=this._fillGradient:f&&(t.fillStyle=s.call(l,t)),d?t.strokeStyle=this._strokeGradient:p&&(t.strokeStyle=s.call(u,t));var m=a.lineDash,v=a.lineDashOffset,g=!!t.setLineDash,C=this.getGlobalScale();if(n.setScale(C[0],C[1],this.segmentIgnoreThreshold),this.__dirtyPath||m&&!g&&r?(n.beginPath(t),m&&!g&&(n.setLineDash(m),n.setLineDashOffset(v)),this.buildPath(n,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),o)if(null!=a.fillOpacity){var D=t.globalAlpha;t.globalAlpha=a.fillOpacity*a.opacity,n.fill(t),t.globalAlpha=D}else n.fill(t);if(m&&g&&(t.setLineDash(m),t.lineDashOffset=v),r)if(null!=a.strokeOpacity){D=t.globalAlpha;t.globalAlpha=a.strokeOpacity*a.opacity,n.stroke(t),t.globalAlpha=D}else n.stroke(t);m&&g&&t.setLineDash([]),null!=a.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,i){},createPathProxy:function(){this.path=new r},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var a=this.path;a||(a=this.path=new r),this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape,!1)),t=a.getBoundingRect()}if(this._rect=t,e.hasStroke()){var n=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){n.copy(t);var o=e.lineWidth,s=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),s>1e-10&&(n.width+=o/s,n.height+=o/s,n.x-=o/s/2,n.y-=o/s/2)}return n}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),a=this.getBoundingRect(),n=this.style;if(t=i[0],e=i[1],a.contain(t,e)){var r=this.path.data;if(n.hasStroke()){var s=n.lineWidth,l=n.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(n.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),o.containStroke(r,s/l,t,e)))return!0}if(n.hasFill())return o.contain(r,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):a.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(n.isObject(t))for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&l(t[0]-1)>1e-10&&l(t[3]-1)>1e-10?Math.sqrt(l(t[0]*t[3]-t[2]*t[1])):1}},u.extend=function(t){var e=function(e){u.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var a=this.shape;for(var n in i)!a.hasOwnProperty(n)&&i.hasOwnProperty(n)&&(a[n]=i[n])}t.init&&t.init.call(this,e)};for(var i in n.inherits(e,u),t)"style"!==i&&"shape"!==i&&(e.prototype[i]=t[i]);return e},n.inherits(u,a);var c=u;t.exports=c},H4Od:function(t,e,i){var a=i("/gxq"),n=i("C7PF"),r=i("dOVI"),o=i("8b51"),s=i("/ZBO"),l=n.applyTransform;function h(){s.call(this)}function u(t){this.name=t,this.zoomLimit,s.call(this),this._roamTransformable=new h,this._rawTransformable=new h,this._center,this._zoom}function c(t,e,i,a){var n=i.seriesModel,r=n?n.coordinateSystem:null;return r===this?r[t](a):null}a.mixin(h,s),u.prototype={constructor:u,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,i,a){return this._rect=new o(t,e,i,a),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,i,a){this.transformTo(t,e,i,a),this._viewRect=new o(t,e,i,a)},transformTo:function(t,e,i,a){var n=this.getBoundingRect(),r=this._rawTransformable;r.transform=n.calculateTransform(new o(t,e,i,a)),r.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),r=this.getZoom();a=n.applyTransform([],a,t),i=n.applyTransform([],i,t),e.origin=a,e.position=[i[0]-a[0],i[1]-a[1]],e.scale=[r,r],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),r.copy(this.transform||(this.transform=[]),e.transform||r.create()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],r.invert(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t,e,i){var a=e?this._rawTransform:this.transform;return i=i||[],a?l(i,t,a):n.copy(i,t)},pointToData:function(t){var e=this.invTransform;return e?l([],t,e):[t[0],t[1]]},convertToPixel:a.curry(c,"dataToPoint"),convertFromPixel:a.curry(c,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},a.mixin(u,s);var d=u;t.exports=d},H4Wn:function(t,e,i){i("Icdr").registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})})},H8dH:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t||!e)throw new Error("instance & callback is required");var n=!1,r=function(){n||(n=!0,e&&e.apply(null,arguments))};a?t.$once("after-leave",r):t.$on("after-leave",r),setTimeout(function(){r()},i+100)}},HGSA:function(t,e,i){var a=i("/gxq"),n=i("DRaW"),r=i("wWR3").linearMap,o=a.each,s=a.isObject,l=-1,h=function(t){var e=t.mappingMethod,i=t.type,n=this.option=a.clone(t);this.type=i,this.mappingMethod=e,this._normalizeData=y[e];var r=u[i];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._doMap=r._doMap[e],"piecewise"===e?(c(n),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,a.each(e,function(e,i){e.originIndex=i,null!=e.visual&&(t.hasSpecialVisual=!0)})}(n)):"category"===e?n.categories?function(t){var e=t.categories,i=t.visual,n=t.categoryMap={};if(o(e,function(t,e){n[t]=e}),!a.isArray(i)){var r=[];a.isObject(i)?o(i,function(t,e){var i=n[e];r[null!=i?i:l]=t}):r[l]=i,i=D(t,r)}for(var s=e.length-1;s>=0;s--)null==i[s]&&(delete n[e[s]],e.pop())}(n):c(n,!0):(a.assert("linear"!==e||n.dataExtent),c(n))};h.prototype={constructor:h,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return a.bind(this._normalizeData,this)}};var u=h.visualHandlers={color:{applyVisual:p("color"),getColorMapper:function(){var t=this.option;return a.bind("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),m.call(this,t)}:function(e,i,a){var r=!!a;return!i&&(e=this._normalizeData(e)),a=n.fastLerp(e,t.parsedVisual,a),r?a:n.stringify(a,"rgba")},this)},_doMap:{linear:function(t){return n.stringify(n.fastLerp(t,this.option.parsedVisual),"rgba")},category:m,piecewise:function(t,e){var i=C.call(this,e);return null==i&&(i=n.stringify(n.fastLerp(t,this.option.parsedVisual),"rgba")),i},fixed:v}},colorHue:d(function(t,e){return n.modifyHSL(t,e)}),colorSaturation:d(function(t,e){return n.modifyHSL(t,null,e)}),colorLightness:d(function(t,e){return n.modifyHSL(t,null,null,e)}),colorAlpha:d(function(t,e){return n.modifyAlpha(t,e)}),opacity:{applyVisual:p("opacity"),_doMap:g([0,1])},liftZ:{applyVisual:p("liftZ"),_doMap:{linear:v,category:v,piecewise:v,fixed:v}},symbol:{applyVisual:function(t,e,i){var n=this.mapValueToVisual(t);if(a.isString(n))i("symbol",n);else if(s(n))for(var r in n)n.hasOwnProperty(r)&&i(r,n[r])},_doMap:{linear:f,category:m,piecewise:function(t,e){var i=C.call(this,e);return null==i&&(i=f.call(this,t)),i},fixed:v}},symbolSize:{applyVisual:p("symbolSize"),_doMap:g([0,1])}};function c(t,e){var i=t.visual,n=[];a.isObject(i)?o(i,function(t){n.push(t)}):null!=i&&n.push(i);e||1!==n.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(n[1]=n[0]),D(t,n)}function d(t){return{applyVisual:function(e,i,a){e=this.mapValueToVisual(e),a("color",t(i("color"),e))},_doMap:g([0,1])}}function f(t){var e=this.option.visual;return e[Math.round(r(t,[0,1],[0,e.length-1],!0))]||{}}function p(t){return function(e,i,a){a(t,this.mapValueToVisual(e))}}function m(t){var e=this.option.visual;return e[this.option.loop&&t!==l?t%e.length:t]}function v(){return this.option.visual[0]}function g(t){return{linear:function(e){return r(e,t,this.option.visual,!0)},category:m,piecewise:function(e,i){var a=C.call(this,i);return null==a&&(a=r(e,t,this.option.visual,!0)),a},fixed:v}}function C(t){var e=this.option,i=e.pieceList;if(e.hasSpecialVisual){var a=i[h.findPieceIndex(t,i)];if(a&&a.visual)return a.visual[this.type]}}function D(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=a.map(e,function(t){return n.parse(t)})),e}var y={linear:function(t){return r(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,i=h.findPieceIndex(t,e,!0);if(null!=i)return r(i,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?l:e},fixed:a.noop};function x(t,e,i){return t?e<=i:e<i}h.listVisualTypes=function(){var t=[];return a.each(u,function(e,i){t.push(i)}),t},h.addVisualHandler=function(t,e){u[t]=e},h.isValidType=function(t){return u.hasOwnProperty(t)},h.eachVisual=function(t,e,i){a.isObject(t)?a.each(t,e,i):e.call(i,t)},h.mapVisual=function(t,e,i){var n,r=a.isArray(t)?[]:a.isObject(t)?{}:(n=!0,null);return h.eachVisual(t,function(t,a){var o=e.call(i,t,a);n?r=o:r[a]=o}),r},h.retrieveVisuals=function(t){var e,i={};return t&&o(u,function(a,n){t.hasOwnProperty(n)&&(i[n]=t[n],e=!0)}),e?i:null},h.prepareVisualTypes=function(t){if(s(t)){var e=[];o(t,function(t,i){e.push(i)}),t=e}else{if(!a.isArray(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},h.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},h.findPieceIndex=function(t,e,i){for(var a,n=1/0,r=0,o=e.length;r<o;r++){var s=e[r].value;if(null!=s){if(s===t||"string"==typeof s&&s===t+"")return r;i&&c(s,r)}}for(r=0,o=e.length;r<o;r++){var l=e[r],h=l.interval,u=l.close;if(h){if(h[0]===-1/0){if(x(u[1],t,h[1]))return r}else if(h[1]===1/0){if(x(u[0],h[0],t))return r}else if(x(u[0],h[0],t)&&x(u[1],t,h[1]))return r;i&&c(h[0],r),i&&c(h[1],r)}}if(i)return t===1/0?e.length-1:t===-1/0?0:a;function c(e,i){var r=Math.abs(e-t);r<n&&(n=r,a=i)}};var S=h;t.exports=S},HHfb:function(t,e,i){var a=i("/gxq"),n=i("3h1/"),r=i("wWR3");var o=a.normalizeCssArray,s=/([&<>"'])/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function h(t){return null==t?"":(t+"").replace(s,function(t,e){return l[e]})}var u=["a","b","c","d","e","f","g"],c=function(t,e){return"{"+t+(null==e?"":e)+"}"};function d(t,e){return"0000".substr(0,e-(t+="").length)+t}var f=n.truncateText;e.addCommas=function(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")},e.toCamelCase=function(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t},e.normalizeCssArray=o,e.encodeHTML=h,e.formatTpl=function(t,e,i){a.isArray(e)||(e=[e]);var n=e.length;if(!n)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var s=u[o];t=t.replace(c(s),c(s,0))}for(var l=0;l<n;l++)for(var d=0;d<r.length;d++){var f=e[l][r[d]];t=t.replace(c(u[d],l),i?h(f):f)}return t},e.formatTplSimple=function(t,e,i){return a.each(e,function(e,a){t=t.replace("{"+a+"}",i?h(e):e)}),t},e.getTooltipMarker=function(t,e){var i=(t=a.isString(t)?{color:t,extraCssText:e}:t||{}).color,n=t.type,r=(e=t.extraCssText,t.renderMode||"html"),o=t.markerId||"X";return i?"html"===r?"subItem"===n?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+h(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+h(i)+";"+(e||"")+'"></span>':{renderMode:r,content:"{marker"+o+"|}  ",style:{color:i}}:""},e.formatTime=function(t,e,i){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var a=r.parseDate(e),n=i?"UTC":"",o=a["get"+n+"FullYear"](),s=a["get"+n+"Month"]()+1,l=a["get"+n+"Date"](),h=a["get"+n+"Hours"](),u=a["get"+n+"Minutes"](),c=a["get"+n+"Seconds"](),f=a["get"+n+"Milliseconds"]();return t=t.replace("MM",d(s,2)).replace("M",s).replace("yyyy",o).replace("yy",o%100).replace("dd",d(l,2)).replace("d",l).replace("hh",d(h,2)).replace("h",h).replace("mm",d(u,2)).replace("m",u).replace("ss",d(c,2)).replace("s",c).replace("SSS",d(f,3))},e.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},e.truncateText=f,e.getTextBoundingRect=function(t){return n.getBoundingRect(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)},e.getTextRect=function(t,e,i,a,r,o,s,l){return n.getBoundingRect(t,e,i,a,r,l,o,s)}},HJMx:function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=76)}({0:function(t,e,i){"use strict";function a(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return a})},11:function(t,e){t.exports=i("aW5l")},21:function(t,e){t.exports=i("E/in")},4:function(t,e){t.exports=i("fPll")},76:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?i("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),"textarea"!==t.type?i("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)):t._e(),t.$slots.prefix||t.prefixIcon?i("span",{staticClass:"el-input__prefix"},[t._t("prefix"),t.prefixIcon?i("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t.getSuffixVisible()?i("span",{staticClass:"el-input__suffix"},[i("span",{staticClass:"el-input__suffix-inner"},[t.showClear&&t.showPwdVisible&&t.isWordLimitVisible?t._e():[t._t("suffix"),t.suffixIcon?i("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],t.showClear?i("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(t){t.preventDefault()},click:t.clear}}):t._e(),t.showPwdVisible?i("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:t.handlePasswordVisible}}):t._e(),t.isWordLimitVisible?i("span",{staticClass:"el-input__count"},[i("span",{staticClass:"el-input__count-inner"},[t._v("\n            "+t._s(t.textLength)+"/"+t._s(t.upperLimit)+"\n          ")])]):t._e()],2),t.validateState?i("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t.$slots.append?i("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:i("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$attrs,!1)),t.isWordLimitVisible&&"textarea"===t.type?i("span",{staticClass:"el-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()],2)};a._withStripped=!0;var n=i(4),r=i.n(n),o=i(11),s=i.n(o),l=void 0,h="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",u=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l||(l=document.createElement("textarea"),document.body.appendChild(l));var a=function(t){var e=window.getComputedStyle(t),i=e.getPropertyValue("box-sizing"),a=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),n=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:u.map(function(t){return t+":"+e.getPropertyValue(t)}).join(";"),paddingSize:a,borderSize:n,boxSizing:i}}(t),n=a.paddingSize,r=a.borderSize,o=a.boxSizing,s=a.contextStyle;l.setAttribute("style",s+";"+h),l.value=t.value||t.placeholder||"";var c=l.scrollHeight,d={};"border-box"===o?c+=r:"content-box"===o&&(c-=n),l.value="";var f=l.scrollHeight-n;if(null!==e){var p=f*e;"border-box"===o&&(p=p+n+r),c=Math.max(p,c),d.minHeight=p+"px"}if(null!==i){var m=f*i;"border-box"===o&&(m=m+n+r),c=Math.min(m,c)}return d.height=c+"px",l.parentNode&&l.parentNode.removeChild(l),l=null,d}var d=i(9),f=i.n(d),p=i(21),m={name:"ElInput",componentName:"ElInput",mixins:[r.a,s.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return f()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(t){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var t=this;this.$nextTick(function(){t.setNativeInputValue(),t.resizeTextarea(),t.updateIconOffset()})}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type)if(t){var e=t.minRows,i=t.maxRows;this.textareaCalcStyle=c(this.$refs.textarea,e,i)}else this.textareaCalcStyle={minHeight:c(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var t=this.getInput();t&&t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(t){var e=t.target.value,i=e[e.length-1]||"";this.isComposing=!Object(p.isKorean)(i)},handleCompositionEnd:function(t){this.isComposing&&(this.isComposing=!1,this.handleInput(t))},handleInput:function(t){this.isComposing||t.target.value!==this.nativeInputValue&&(this.$emit("input",t.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(t){this.$emit("change",t.target.value)},calcIconOffset:function(t){var e=[].slice.call(this.$el.querySelectorAll(".el-input__"+t)||[]);if(e.length){for(var i=null,a=0;a<e.length;a++)if(e[a].parentNode===this.$el){i=e[a];break}if(i){var n={suffix:"append",prefix:"prepend"}[t];this.$slots[n]?i.style.transform="translateX("+("suffix"===t?"-":"")+this.$el.querySelector(".el-input-group__"+n).offsetWidth+"px)":i.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},v=i(0),g=Object(v.a)(m,a,[],!1,null,null,null);g.options.__file="packages/input/src/input.vue";var C=g.exports;C.install=function(t){t.component(C.name,C)};e.default=C},9:function(t,e){t.exports=i("jmaC")}})},HKuw:function(t,e){var i=32,a=7;function n(t,e,i,a){var n=e+1;if(n===i)return 1;if(a(t[n++],t[e])<0){for(;n<i&&a(t[n],t[n-1])<0;)n++;!function(t,e,i){i--;for(;e<i;){var a=t[e];t[e++]=t[i],t[i--]=a}}(t,e,n)}else for(;n<i&&a(t[n],t[n-1])>=0;)n++;return n-e}function r(t,e,i,a,n){for(a===e&&a++;a<i;a++){for(var r,o=t[a],s=e,l=a;s<l;)n(o,t[r=s+l>>>1])<0?l=r:s=r+1;var h=a-s;switch(h){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;h>0;)t[s+h]=t[s+h-1],h--}t[s]=o}}function o(t,e,i,a,n,r){var o=0,s=0,l=1;if(r(t,e[i+n])>0){for(s=a-n;l<s&&r(t,e[i+n+l])>0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),o+=n,l+=n}else{for(s=n+1;l<s&&r(t,e[i+n-l])<=0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var h=o;o=n-l,l=n-h}for(o++;o<l;){var u=o+(l-o>>>1);r(t,e[i+u])>0?o=u+1:l=u}return l}function s(t,e,i,a,n,r){var o=0,s=0,l=1;if(r(t,e[i+n])<0){for(s=n+1;l<s&&r(t,e[i+n-l])<0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var h=o;o=n-l,l=n-h}else{for(s=a-n;l<s&&r(t,e[i+n+l])>=0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),o+=n,l+=n}for(o++;o<l;){var u=o+(l-o>>>1);r(t,e[i+u])<0?l=u:o=u+1}return l}function l(t,e){var i,n,r,l=a,h=0;i=t.length;var u=[];function c(i){var c=n[i],d=r[i],f=n[i+1],p=r[i+1];r[i]=d+p,i===h-3&&(n[i+1]=n[i+2],r[i+1]=r[i+2]),h--;var m=s(t[f],t,c,d,0,e);c+=m,0!==(d-=m)&&0!==(p=o(t[c+d-1],t,f,p,p-1,e))&&(d<=p?function(i,n,r,h){var c=0;for(c=0;c<n;c++)u[c]=t[i+c];var d=0,f=r,p=i;if(t[p++]=t[f++],0==--h){for(c=0;c<n;c++)t[p+c]=u[d+c];return}if(1===n){for(c=0;c<h;c++)t[p+c]=t[f+c];return void(t[p+h]=u[d])}var m,v,g,C=l;for(;;){m=0,v=0,g=!1;do{if(e(t[f],u[d])<0){if(t[p++]=t[f++],v++,m=0,0==--h){g=!0;break}}else if(t[p++]=u[d++],m++,v=0,1==--n){g=!0;break}}while((m|v)<C);if(g)break;do{if(0!==(m=s(t[f],u,d,n,0,e))){for(c=0;c<m;c++)t[p+c]=u[d+c];if(p+=m,d+=m,(n-=m)<=1){g=!0;break}}if(t[p++]=t[f++],0==--h){g=!0;break}if(0!==(v=o(u[d],t,f,h,0,e))){for(c=0;c<v;c++)t[p+c]=t[f+c];if(p+=v,f+=v,0===(h-=v)){g=!0;break}}if(t[p++]=u[d++],1==--n){g=!0;break}C--}while(m>=a||v>=a);if(g)break;C<0&&(C=0),C+=2}if((l=C)<1&&(l=1),1===n){for(c=0;c<h;c++)t[p+c]=t[f+c];t[p+h]=u[d]}else{if(0===n)throw new Error;for(c=0;c<n;c++)t[p+c]=u[d+c]}}(c,d,f,p):function(i,n,r,h){var c=0;for(c=0;c<h;c++)u[c]=t[r+c];var d=i+n-1,f=h-1,p=r+h-1,m=0,v=0;if(t[p--]=t[d--],0==--n){for(m=p-(h-1),c=0;c<h;c++)t[m+c]=u[c];return}if(1===h){for(v=(p-=n)+1,m=(d-=n)+1,c=n-1;c>=0;c--)t[v+c]=t[m+c];return void(t[p]=u[f])}var g=l;for(;;){var C=0,D=0,y=!1;do{if(e(u[f],t[d])<0){if(t[p--]=t[d--],C++,D=0,0==--n){y=!0;break}}else if(t[p--]=u[f--],D++,C=0,1==--h){y=!0;break}}while((C|D)<g);if(y)break;do{if(0!==(C=n-s(u[f],t,i,n,n-1,e))){for(n-=C,v=(p-=C)+1,m=(d-=C)+1,c=C-1;c>=0;c--)t[v+c]=t[m+c];if(0===n){y=!0;break}}if(t[p--]=u[f--],1==--h){y=!0;break}if(0!==(D=h-o(t[d],u,0,h,h-1,e))){for(h-=D,v=(p-=D)+1,m=(f-=D)+1,c=0;c<D;c++)t[v+c]=u[m+c];if(h<=1){y=!0;break}}if(t[p--]=t[d--],0==--n){y=!0;break}g--}while(C>=a||D>=a);if(y)break;g<0&&(g=0),g+=2}(l=g)<1&&(l=1);if(1===h){for(v=(p-=n)+1,m=(d-=n)+1,c=n-1;c>=0;c--)t[v+c]=t[m+c];t[p]=u[f]}else{if(0===h)throw new Error;for(m=p-(h-1),c=0;c<h;c++)t[m+c]=u[c]}}(c,d,f,p))}n=[],r=[],this.mergeRuns=function(){for(;h>1;){var t=h-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;c(t)}},this.forceMergeRuns=function(){for(;h>1;){var t=h-2;t>0&&r[t-1]<r[t+1]&&t--,c(t)}},this.pushRun=function(t,e){n[h]=t,r[h]=e,h+=1}}t.exports=function(t,e,a,o){a||(a=0),o||(o=t.length);var s=o-a;if(!(s<2)){var h=0;if(s<i)r(t,a,o,a+(h=n(t,a,o,e)),e);else{var u=new l(t,e),c=function(t){for(var e=0;t>=i;)e|=1&t,t>>=1;return t+e}(s);do{if((h=n(t,a,o,e))<c){var d=s;d>c&&(d=c),r(t,a,a+d,a+h,e),h=d}u.pushRun(a,h),u.mergeRuns(),s-=h,a+=h}while(0!==s);u.forceMergeRuns()}}}},HSQo:function(t,e,i){t.exports={default:i("CJli"),__esModule:!0}},HcG6:function(t,e,i){var a=i("/gxq"),n=i("8b51"),r=i("H4Od"),o=i("AlF5");function s(t,e,i,a){r.call(this,t),this.map=e;var n=o.load(e,i);this._nameCoordMap=n.nameCoordMap,this._regionsMap=n.regionsMap,this._invertLongitute=null==a||a,this.regions=n.regions,this._rect=n.boundingRect}function l(t,e,i,a){var n=i.geoModel,r=i.seriesModel,o=n?n.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return o===this?o[t](a):null}s.prototype={constructor:s,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return!0;return!1},transformTo:function(t,e,i,a){var r=this.getBoundingRect(),o=this._invertLongitute;r=r.clone(),o&&(r.y=-r.y-r.height);var s=this._rawTransformable;if(s.transform=r.calculateTransform(new n(t,e,i,a)),s.decomposeTransform(),o){var l=s.scale;l[1]=-l[1]}s.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return e[i]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){return this._rect},dataToPoint:function(t,e,i){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return r.prototype.dataToPoint.call(this,t,e,i)},convertToPixel:a.curry(l,"dataToPoint"),convertFromPixel:a.curry(l,"pointToData")},a.mixin(s,r);var h=s;t.exports=h},HpRW:function(t,e,i){"use strict";var a=i("kM2E"),n=i("lOnJ"),r=i("+ZMJ"),o=i("NWt+");t.exports=function(t){a(a.S,t,{from:function(t){var e,i,a,s,l=arguments[1];return n(this),(e=void 0!==l)&&n(l),void 0==t?new this:(i=[],e?(a=0,s=r(l,arguments[2],2),o(t,!1,function(t){i.push(s(t,a++))})):o(t,!1,i.push,i),new this(i))}})}},HzcN:function(t,e,i){var a=i("uY1a"),n=i("ON3O");t.exports={throttle:a,debounce:n}},I0Vc:function(t,e,i){var a=i("g+yZ").devicePixelRatio,n=i("/gxq"),r=i("eZxa"),o=i("8b51"),s=i("HKuw"),l=i("OT4p"),h=i("a1Sp"),u=i("MAom"),c=i("YNzw");function d(t){return parseInt(t,10)}var f=new o(0,0,0,0),p=new o(0,0,0,0);var m=function(t,e,i){this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=n.extend({},i||{}),this.dpr=i.devicePixelRatio||a,this._singleCanvas=r,this.root=t;var o=t.style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var s=this._zlevelList=[],h=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){var u=t.width,c=t.height;null!=i.width&&(u=i.width),null!=i.height&&(c=i.height),this.dpr=i.devicePixelRatio||1,t.width=u*this.dpr,t.height=c*this.dpr,this._width=u,this._height=c;var d=new l(t,this,this.dpr);d.__builtin__=!0,d.initContext(),h[314159]=d,d.zlevel=314159,s.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var f=this._domRoot=function(t,e){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}(this._width,this._height);t.appendChild(f)}this._hoverlayer=null,this._hoverElements=[]};m.prototype={constructor:m,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var a=0;a<i.length;a++){var n=i[a],r=this._layers[n];if(!r.__builtin__&&r.refresh){var o=0===a?this._backgroundColor:null;r.refresh(o)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return i.__from=t,t.__hoverMir=i,e&&i.setStyle(e),this._hoverElements.push(i),i}},removeHover:function(t){var e=t.__hoverMir,i=this._hoverElements,a=n.indexOf(i,e);a>=0&&i.splice(a,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var a=e[i].__from;a&&(a.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){s(t,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(1e5));var a={};i.ctx.save();for(var n=0;n<e;){var r=t[n],o=r.__from;o&&o.__zr?(n++,o.invisible||(r.transform=o.transform,r.invTransform=o.invTransform,r.__clipPaths=o.__clipPaths,this._doPaintEl(r,i,!0,a))):(t.splice(n,1),o.__hoverMir=null,e--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,i){if(this._redrawId===i){e=e||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!a){var n=this;h(function(){n._paintList(t,e,i)})}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer(function(a){a.virtual&&t.drawImage(a.dom,0,0,e,i)})},_doPaintList:function(t,e){for(var i=[],a=0;a<this._zlevelList.length;a++){var r=this._zlevelList[a];(l=this._layers[r]).__builtin__&&l!==this._hoverlayer&&(l.__dirty||e)&&i.push(l)}for(var o=!0,s=0;s<i.length;s++){var l,h=(l=i[s]).ctx,u={};h.save();var d=e?l.__startIndex:l.__drawIndex,f=!e&&l.incremental&&Date.now,p=f&&Date.now(),m=l.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,m);else if(d===l.__startIndex){var v=t[d];v.incremental&&v.notClear&&!e||l.clear(!1,m)}-1===d&&(console.error("For some unknown reason. drawIndex is -1"),d=l.__startIndex);for(var g=d;g<l.__endIndex;g++){var C=t[g];if(this._doPaintEl(C,l,e,u),C.__dirty=C.__dirtyText=!1,f)if(Date.now()-p>15)break}l.__drawIndex=g,l.__drawIndex<l.__endIndex&&(o=!1),u.prevElClipPaths&&h.restore(),h.restore()}return c.wxa&&n.each(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),o},_doPaintEl:function(t,e,i,a){var n=e.ctx,r=t.transform;if((e.__dirty||i)&&!t.invisible&&0!==t.style.opacity&&(!r||r[0]||r[3])&&(!t.culling||!function(t,e,i){return f.copy(t.getBoundingRect()),t.transform&&f.applyTransform(t.transform),p.width=e,p.height=i,!f.intersect(p)}(t,this._width,this._height))){var o=t.__clipPaths,s=a.prevElClipPaths;s&&!function(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0;return!1}(o,s)||(s&&(n.restore(),a.prevElClipPaths=null,a.prevEl=null),o&&(n.save(),function(t,e){for(var i=0;i<t.length;i++){var a=t[i];a.setTransform(e),e.beginPath(),a.buildPath(e,a.shape),e.clip(),a.restoreTransform(e)}}(o,n),a.prevElClipPaths=o)),t.beforeBrush&&t.beforeBrush(n),t.brush(n,a.prevEl||null),a.prevEl=t,t.afterBrush&&t.afterBrush(n)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var i=this._layers[t];return i||((i=new l("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]&&n.merge(i,this._layerConfig[t],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},insertLayer:function(t,e){var i=this._layers,a=this._zlevelList,n=a.length,o=null,s=-1,l=this._domRoot;if(i[t])r("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(n>0&&t>a[0]){for(s=0;s<n-1&&!(a[s]<t&&a[s+1]>t);s++);o=i[a[s]]}if(a.splice(s+1,0,t),i[t]=e,!e.virtual)if(o){var h=o.dom;h.nextSibling?l.insertBefore(e.dom,h.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom)}else r("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var i,a,n=this._zlevelList;for(a=0;a<n.length;a++)i=n[a],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){var i,a,n,r=this._zlevelList;for(n=0;n<r.length;n++)a=r[n],(i=this._layers[a]).__builtin__&&t.call(e,i,a)},eachOtherLayer:function(t,e){var i,a,n,r=this._zlevelList;for(n=0;n<r.length;n++)a=r[n],(i=this._layers[a]).__builtin__||t.call(e,i,a)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){a&&(a.__endIndex!==t&&(a.__dirty=!0),a.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var i=1;i<t.length;i++){if((o=t[i]).zlevel!==t[i-1].zlevel||o.incremental){this._needsManuallyCompositing=!0;break}}var a=null,n=0;for(i=0;i<t.length;i++){var o,s,l=(o=t[i]).zlevel;o.incremental?((s=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,n=1):s=this.getLayer(l+(n>0?.01:0),this._needsManuallyCompositing),s.__builtin__||r("ZLevel "+l+" has been used by unkown layer "+s.id),s!==a&&(s.__used=!0,s.__startIndex!==i&&(s.__dirty=!0),s.__startIndex=i,s.incremental?s.__drawIndex=-1:s.__drawIndex=i,e(i),a=s),o.__dirty&&(s.__dirty=!0,s.incremental&&s.__drawIndex<0&&(s.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?n.merge(i[t],e,!0):i[t]=e;for(var a=0;a<this._zlevelList.length;a++){var r=this._zlevelList[a];if(r===t||r===t+.01){var o=this._layers[r];n.merge(o,i[t],!0)}}}},delLayer:function(t){var e=this._layers,i=this._zlevelList,a=e[t];a&&(a.dom.parentNode.removeChild(a.dom),delete e[t],i.splice(n.indexOf(i,t),1))},resize:function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var a=this._opts;if(null!=t&&(a.width=t),null!=e&&(a.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||e!==this._height){for(var r in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(t,e);n.each(this._progressiveLayers,function(i){i.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new l("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,a=e.dom.height,n=e.ctx;this.eachLayer(function(t){t.__builtin__?n.drawImage(t.dom,0,0,i,a):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var r={},o=this.storage.getDisplayList(!0),s=0;s<o.length;s++){var h=o[s];this._doPaintEl(h,e,!0,r)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],a=["clientWidth","clientHeight"][t],n=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[a]||d(s[i])||d(o.style[i]))-(d(s[n])||0)-(d(s[r])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),a=i.getContext("2d"),n=t.getBoundingRect(),r=t.style,o=r.shadowBlur*e,s=r.shadowOffsetX*e,l=r.shadowOffsetY*e,h=r.hasStroke()?r.lineWidth:0,c=Math.max(h/2,-s+o),d=Math.max(h/2,s+o),f=Math.max(h/2,-l+o),p=Math.max(h/2,l+o),m=n.width+c+d,v=n.height+f+p;i.width=m*e,i.height=v*e,a.scale(e,e),a.clearRect(0,0,m,v),a.dpr=e;var g={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[c-n.x,f-n.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(a);var C=new u({style:{x:0,y:0,image:i}});return null!=g.position&&(C.position=t.position=g.position),null!=g.rotation&&(C.rotation=t.rotation=g.rotation),null!=g.scale&&(C.scale=t.scale=g.scale),C}};var v=m;t.exports=v},ILx8:function(t,e,i){i("UkNE"),i("D7EH"),i("AKXb")},ISYW:function(t,e,i){"use strict";e.__esModule=!0;var a,n=i("/5sW"),r=(a=n)&&a.__esModule?a:{default:a},o=i("2kvA");var s=[],l="@@clickoutsideContext",h=void 0,u=0;function c(t,e,i){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(i&&i.context&&a.target&&n.target)||t.contains(a.target)||t.contains(n.target)||t===a.target||i.context.popperElm&&(i.context.popperElm.contains(a.target)||i.context.popperElm.contains(n.target))||(e.expression&&t[l].methodName&&i.context[t[l].methodName]?i.context[t[l].methodName]():t[l].bindingFn&&t[l].bindingFn())}}!r.default.prototype.$isServer&&(0,o.on)(document,"mousedown",function(t){return h=t}),!r.default.prototype.$isServer&&(0,o.on)(document,"mouseup",function(t){s.forEach(function(e){return e[l].documentHandler(t,h)})}),e.default={bind:function(t,e,i){s.push(t);var a=u++;t[l]={id:a,documentHandler:c(t,e,i),methodName:e.expression,bindingFn:e.value}},update:function(t,e,i){t[l].documentHandler=c(t,e,i),t[l].methodName=e.expression,t[l].bindingFn=e.value},unbind:function(t){for(var e=s.length,i=0;i<e;i++)if(s[i][l].id===t[l].id){s.splice(i,1);break}delete t[l]}}},ITiI:function(t,e,i){var a=i("C7PF"),n=a.scaleAndAdd;e.forceLayout=function(t,e,i){for(var r=i.rect,o=r.width,s=r.height,l=[r.x+o/2,r.y+s/2],h=null==i.gravity?.1:i.gravity,u=0;u<t.length;u++){var c=t[u];c.p||(c.p=a.create(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),c.pp=a.clone(c.p),c.edges=null}var d=null==i.friction?.6:i.friction,f=d;return{warmUp:function(){f=.8*d},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(i){for(var r=[],o=t.length,s=0;s<e.length;s++){var u=e[s];if(!u.ignoreForceLayout){var c=u.n1,d=u.n2;a.sub(r,d.p,c.p);var p=a.len(r)-u.d,m=d.w/(c.w+d.w);isNaN(m)&&(m=0),a.normalize(r,r),!c.fixed&&n(c.p,c.p,r,m*p*f),!d.fixed&&n(d.p,d.p,r,-(1-m)*p*f)}}for(s=0;s<o;s++)(D=t[s]).fixed||(a.sub(r,l,D.p),n(D.p,D.p,r,h*f));for(s=0;s<o;s++){c=t[s];for(var v=s+1;v<o;v++){d=t[v],a.sub(r,d.p,c.p),0===(p=a.len(r))&&(a.set(r,Math.random()-.5,Math.random()-.5),p=1);var g=(c.rep+d.rep)/p/p;!c.fixed&&n(c.pp,c.pp,r,g),!d.fixed&&n(d.pp,d.pp,r,-g)}}var C=[];for(s=0;s<o;s++){var D;(D=t[s]).fixed||(a.sub(C,D.p,D.pp),n(D.p,D.p,C,f),a.copy(D.pp,D.p))}f*=.992,i&&i(t,e,f<.01)}}}},Ibhu:function(t,e,i){var a=i("D2L2"),n=i("TcQ7"),r=i("vFc/")(!1),o=i("ax3d")("IE_PROTO");t.exports=function(t,e){var i,s=n(t),l=0,h=[];for(i in s)i!=o&&a(s,i)&&h.push(i);for(;e.length>l;)a(s,i=e[l++])&&(~r(h,i)||h.push(i));return h}},Icdr:function(t,e,i){i("4Nz2").__DEV__;var a=i("hv2j"),n=i("/gxq"),r=i("DRaW"),o=i("YNzw"),s=i("HKuw"),l=i("qjvV"),h=i("Rtf0"),u=i("uJBW"),c=i("rctg"),d=i("em4M"),f=i("8V5i"),p=i("fYRm"),m=i("Y5nL"),v=i("EJsE"),g=i("Pgdp"),C=i("Ylhr"),D=i("0sHC"),y=i("vXqC"),x=i("QD+P").throttle,S=i("n5nI"),I=i("QDiV"),T=i("OkSz"),b=i("vub9"),w=i("/xsj"),M=i("4oYY");i("+Dgo");var E=i("0MNY"),A=n.assert,_=n.each,L=n.isFunction,F=n.isObject,O=m.parseClassType,P=1e3,N=1e3,R=3e3,B={PROCESSOR:{FILTER:P,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:N,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:R,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},k="__flagInMainProcess",V="__optionUpdated",H=/^[a-zA-Z0-9_]+$/;function G(t,e){return function(i,a,n){e||!this._disposed?(i=i&&i.toLowerCase(),l.prototype[t].call(this,i,a,n)):this.id}}function Y(){l.call(this)}function W(t,e,i){i=i||{},"string"==typeof e&&(e=ft[e]),this.id,this.group,this._dom=t;var r=this._zr=a.init(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=x(n.bind(r.flush,r),17),(e=n.clone(e))&&f(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new c;var o,h,d=this._api=(h=(o=this)._coordSysMgr,n.extend(new u(o),{getCoordinateSystems:n.bind(h.getCoordinateSystems,h),getComponentByElement:function(t){for(;t;){var e=t.__ecComponentInfo;if(null!=e)return o._model.getComponent(e.mainType,e.index);t=t.parent}}}));function p(t,e){return t.__prio-e.__prio}s(dt,p),s(ht,p),this._scheduler=new b(this,d,ht,dt),l.call(this,this._ecEventProcessor=new ot),this._messageCenter=new Y,this._initEvents(),this.resize=n.bind(this.resize,this),this._pendingActions=[],r.animation.on("frame",this._onframe,this),function(t,e){t.on("rendered",function(){e.trigger("rendered"),!t.animation.isFinished()||e[V]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")})}(r,this),n.setAsPrimitive(this)}Y.prototype.on=G("on",!0),Y.prototype.off=G("off",!0),Y.prototype.one=G("one",!0),n.mixin(Y,l);var X=W.prototype;function U(t,e,i){if(this._disposed)this.id;else{var a,n=this._model,r=this._coordSysMgr.getCoordinateSystems();e=y.parseFinder(n,e);for(var o=0;o<r.length;o++){var s=r[o];if(s[t]&&null!=(a=s[t](n,e,i)))return a}}}X._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[V]){var e=this[V].silent;this[k]=!0,K(this),z.update.call(this),this[k]=!1,this[V]=!1,J.call(this,e),Z.call(this,e)}else if(t.unfinished){var i=1,a=this._model,n=this._api;t.unfinished=!1;do{var r=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),j(this,a),t.performVisualTasks(a),it(this,this._model,n,"remain"),i-=+new Date-r}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},X.getDom=function(){return this._dom},X.getZr=function(){return this._zr},X.setOption=function(t,e,i){if(this._disposed)this.id;else{var a;if(F(e)&&(i=e.lazyUpdate,a=e.silent,e=e.notMerge),this[k]=!0,!this._model||e){var n=new d(this._api),r=this._theme,o=this._model=new h;o.scheduler=this._scheduler,o.init(null,null,r,n)}this._model.setOption(t,ut),i?(this[V]={silent:a},this[k]=!1):(K(this),z.update.call(this),this._zr.flush(),this[V]=!1,this[k]=!1,J.call(this,a),Z.call(this,a))}},X.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},X.getModel=function(){return this._model},X.getOption=function(){return this._model&&this._model.getOption()},X.getWidth=function(){return this._zr.getWidth()},X.getHeight=function(){return this._zr.getHeight()},X.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},X.getRenderedCanvas=function(t){if(o.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},X.getSvgDataUrl=function(){if(o.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return n.each(e,function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},X.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,i=this._model,a=[],n=this;_(e,function(t){i.eachComponent({mainType:t},function(t){var e=n._componentsMap[t.__viewId];e.group.ignore||(a.push(e),e.group.ignore=!0)})});var r="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return _(a,function(t){t.group.ignore=!1}),r}this.id},X.getConnectedDataURL=function(t){if(this._disposed)this.id;else if(o.canvasSupported){var e=this.group,i=Math.min,r=Math.max;if(vt[e]){var s=1/0,l=1/0,h=-1/0,u=-1/0,c=[],d=t&&t.pixelRatio||1;n.each(mt,function(a,o){if(a.group===e){var d=a.getRenderedCanvas(n.clone(t)),f=a.getDom().getBoundingClientRect();s=i(f.left,s),l=i(f.top,l),h=r(f.right,h),u=r(f.bottom,u),c.push({dom:d,left:f.left,top:f.top})}});var f=(h*=d)-(s*=d),p=(u*=d)-(l*=d),m=n.createCanvas();m.width=f,m.height=p;var v=a.init(m);return t.connectedBackgroundColor&&v.add(new D.Rect({shape:{x:0,y:0,width:f,height:p},style:{fill:t.connectedBackgroundColor}})),_(c,function(t){var e=new D.Image({style:{x:t.left*d-s,y:t.top*d-l,image:t.dom}});v.add(e)}),v.refreshImmediately(),m.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},X.convertToPixel=n.curry(U,"convertToPixel"),X.convertFromPixel=n.curry(U,"convertFromPixel"),X.containPixel=function(t,e){if(!this._disposed){var i,a=this._model;return t=y.parseFinder(a,t),n.each(t,function(t,a){a.indexOf("Models")>=0&&n.each(t,function(t){var n=t.coordinateSystem;if(n&&n.containPoint)i|=!!n.containPoint(e);else if("seriesModels"===a){var r=this._chartsMap[t.__viewId];r&&r.containPoint&&(i|=r.containPoint(e,t))}},this)},this),!!i}this.id},X.getVisual=function(t,e){var i=this._model,a=(t=y.parseFinder(i,t,{defaultMainType:"series"})).seriesModel.getData(),n=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?a.indexOfRawIndex(t.dataIndex):null;return null!=n?a.getItemVisual(n,e):a.getVisual(e)},X.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},X.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var z={prepareAndUpdate:function(t){K(this),z.update.call(this,t)},update:function(t){var e=this._model,i=this._api,a=this._zr,n=this._coordSysMgr,s=this._scheduler;if(e){s.restoreData(e,t),s.performSeriesTasks(e),n.create(e,i),s.performDataProcessorTasks(e,t),j(this,e),n.update(e,i),tt(e),s.performVisualTasks(e,t),et(this,e,i,t);var l=e.get("backgroundColor")||"transparent";if(o.canvasSupported)a.setBackgroundColor(l);else{var h=r.parse(l);l=r.stringify(h,"rgb"),0===h[3]&&(l="transparent")}at(e,i)}},updateTransform:function(t){var e=this._model,i=this,a=this._api;if(e){var r=[];e.eachComponent(function(n,o){var s=i.getViewOfComponentModel(o);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(o,e,a,t);l&&l.update&&r.push(s)}else r.push(s)});var o=n.createHashMap();e.eachSeries(function(n){var r=i._chartsMap[n.__viewId];if(r.updateTransform){var s=r.updateTransform(n,e,a,t);s&&s.update&&o.set(n.uid,1)}else o.set(n.uid,1)}),tt(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:o}),it(i,e,a,t,o),at(e,this._api)}},updateView:function(t){var e=this._model;e&&(C.markUpdateMethod(t,"updateView"),tt(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),et(this,this._model,this._api,t),at(e,this._api))},updateVisual:function(t){z.update.call(this,t)},updateLayout:function(t){z.update.call(this,t)}};function K(t){var e=t._model,i=t._scheduler;i.restorePipelines(e),i.prepareStageTasks(),Q(t,"component",e,i),Q(t,"chart",e,i),i.plan()}function $(t,e,i,a,r){var o=t._model;if(a){var s={};s[a+"Id"]=i[a+"Id"],s[a+"Index"]=i[a+"Index"],s[a+"Name"]=i[a+"Name"];var l={mainType:a,query:s};r&&(l.subType=r);var h=i.excludeSeriesId;null!=h&&(h=n.createHashMap(y.normalizeToArray(h))),o&&o.eachComponent(l,function(e){h&&null!=h.get(e.id)||u(t["series"===a?"_chartsMap":"_componentsMap"][e.__viewId])},t)}else _(t._componentsViews.concat(t._chartsViews),u);function u(a){a&&a.__alive&&a[e]&&a[e](a.__model,o,t._api,i)}}function j(t,e){var i=t._chartsMap,a=t._scheduler;e.eachSeries(function(t){a.updateStreamModes(t,i[t.__viewId])})}function q(t,e){var i=t.type,a=t.escapeConnect,r=st[i],o=r.actionInfo,s=(o.update||"update").split(":"),l=s.pop();s=null!=s[0]&&O(s[0]),this[k]=!0;var h=[t],u=!1;t.batch&&(u=!0,h=n.map(t.batch,function(e){return(e=n.defaults(n.extend({},e),t)).batch=null,e}));var c,d=[],f="highlight"===i||"downplay"===i;_(h,function(t){(c=(c=r.action(t,this._model,this._api))||n.extend({},t)).type=o.event||c.type,d.push(c),f?$(this,l,t,"series"):s&&$(this,l,t,s.main,s.sub)},this),"none"===l||f||s||(this[V]?(K(this),z.update.call(this,t),this[V]=!1):z[l].call(this,t)),c=u?{type:o.event||i,escapeConnect:a,batch:d}:d[0],this[k]=!1,!e&&this._messageCenter.trigger(c.type,c)}function J(t){for(var e=this._pendingActions;e.length;){var i=e.shift();q.call(this,i,t)}}function Z(t){!t&&this.trigger("updated")}function Q(t,e,i,a){for(var n="component"===e,r=n?t._componentsViews:t._chartsViews,o=n?t._componentsMap:t._chartsMap,s=t._zr,l=t._api,h=0;h<r.length;h++)r[h].__alive=!1;function u(t){var e="_ec_"+t.id+"_"+t.type,h=o[e];if(!h){var u=O(t.type);(h=new(n?g.getClass(u.main,u.sub):C.getClass(u.sub))).init(i,l),o[e]=h,r.push(h),s.add(h.group)}t.__viewId=h.__id=e,h.__alive=!0,h.__model=t,h.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!n&&a.prepareView(h,t,i,l)}n?i.eachComponent(function(t,e){"series"!==t&&u(e)}):i.eachSeries(u);for(h=0;h<r.length;){var c=r[h];c.__alive?h++:(!n&&c.renderTask.dispose(),s.remove(c.group),c.dispose(i,l),r.splice(h,1),delete o[c.__id],c.__id=c.group.__ecComponentInfo=null)}}function tt(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function et(t,e,i,a){!function(t,e,i,a,n){_(n||t._componentsViews,function(t){var n=t.__model;t.render(n,e,i,a),rt(n,t)})}(t,e,i,a),_(t._chartsViews,function(t){t.__alive=!1}),it(t,e,i,a),_(t._chartsViews,function(t){t.__alive||t.remove(e,i)})}function it(t,e,i,a,n){var r,s=t._scheduler;e.eachSeries(function(e){var i=t._chartsMap[e.__viewId];i.__alive=!0;var o=i.renderTask;s.updatePayload(o,a),n&&n.get(e.uid)&&o.dirty(),r|=o.perform(s.getPerformArgs(o)),i.group.silent=!!e.get("silent"),rt(e,i),function(t,e){var i=t.get("blendMode")||null;e.group.traverse(function(t){t.isGroup||t.style.blend!==i&&t.setStyle("blend",i),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",i)})})}(e,i)}),s.unfinished|=r,function(t,e){var i=0;t._zr.storage.traverse(function(t){i++}),i>e.get("hoverLayerThreshold")&&!o.node&&e.eachSeries(function(e){if(!e.preventUsingHoverLayer){var i=t._chartsMap[e.__viewId];i.__alive&&i.group.traverse(function(t){t.useHoverLayer=!0})}})}(t,e),I(t._zr.dom,e)}function at(t,e){_(ct,function(i){i(t,e)})}X.resize=function(t){if(this._disposed)this.id;else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var i=e.resetOption("media"),a=t&&t.silent;this[k]=!0,i&&K(this),z.update.call(this),this[k]=!1,J.call(this,a),Z.call(this,a)}}},X.showLoading=function(t,e){if(this._disposed)this.id;else if(F(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),pt[t]){var i=pt[t](this._api,e),a=this._zr;this._loadingFX=i,a.add(i)}},X.hideLoading=function(){this._disposed?this.id:(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},X.makeActionFromEvent=function(t){var e=n.extend({},t);return e.type=lt[t.type],e},X.dispatchAction=function(t,e){this._disposed?this.id:(F(e)||(e={silent:!!e}),st[t.type]&&this._model&&(this[k]?this._pendingActions.push(t):(q.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&o.browser.weChat&&this._throttledZrFlush(),J.call(this,e.silent),Z.call(this,e.silent))))},X.appendData=function(t){if(this._disposed)this.id;else{var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0}},X.on=G("on",!1),X.off=G("off",!1),X.one=G("one",!1);var nt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function rt(t,e){var i=t.get("z"),a=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=a&&(t.zlevel=a))})}function ot(){this.eventInfo}X._initEvents=function(){_(nt,function(t){var e=function(e){var i,a=this.getModel(),r=e.target;if("globalout"===t)i={};else if(r&&null!=r.dataIndex){var o=r.dataModel||a.getSeriesByIndex(r.seriesIndex);i=o&&o.getDataParams(r.dataIndex,r.dataType,r)||{}}else r&&r.eventData&&(i=n.extend({},r.eventData));if(i){var s=i.componentType,l=i.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",l=i.seriesIndex);var h=s&&null!=l&&a.getComponent(s,l),u=h&&this["series"===h.mainType?"_chartsMap":"_componentsMap"][h.__viewId];i.event=e,i.type=t,this._ecEventProcessor.eventInfo={targetEl:r,packedEvent:i,model:h,view:u},this.trigger(t,i)}};e.zrEventfulCallAtLast=!0,this._zr.on(t,e,this)},this),_(lt,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},X.isDisposed=function(){return this._disposed},X.clear=function(){this._disposed?this.id:this.setOption({series:[]},!0)},X.dispose=function(){if(this._disposed)this.id;else{this._disposed=!0,y.setAttribute(this.getDom(),Dt,"");var t=this._api,e=this._model;_(this._componentsViews,function(i){i.dispose(e,t)}),_(this._chartsViews,function(i){i.dispose(e,t)}),this._zr.dispose(),delete mt[this.id]}},n.mixin(W,l),ot.prototype={constructor:ot,normalizeQuery:function(t){var e={},i={},a={};if(n.isString(t)){var r=O(t);e.mainType=r.main||null,e.subType=r.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};n.each(t,function(t,n){for(var r=!1,l=0;l<o.length;l++){var h=o[l],u=n.lastIndexOf(h);if(u>0&&u===n.length-h.length){var c=n.slice(0,u);"data"!==c&&(e.mainType=c,e[h.toLowerCase()]=t,r=!0)}}s.hasOwnProperty(n)&&(i[n]=t,r=!0),r||(a[n]=t)})}return{cptQuery:e,dataQuery:i,otherQuery:a}},filter:function(t,e,i){var a=this.eventInfo;if(!a)return!0;var n=a.targetEl,r=a.packedEvent,o=a.model,s=a.view;if(!o||!s)return!0;var l=e.cptQuery,h=e.dataQuery;return u(l,o,"mainType")&&u(l,o,"subType")&&u(l,o,"index","componentIndex")&&u(l,o,"name")&&u(l,o,"id")&&u(h,r,"name")&&u(h,r,"dataIndex")&&u(h,r,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,n,r));function u(t,e,i,a){return null==t[i]||e[a||i]===t[i]}},afterTrigger:function(){this.eventInfo=null}};var st={},lt={},ht=[],ut=[],ct=[],dt=[],ft={},pt={},mt={},vt={},gt=new Date-0,Ct=new Date-0,Dt="_echarts_instance_";function yt(t){vt[t]=!1}var xt=yt;function St(t){return mt[y.getAttribute(t,Dt)]}function It(t,e){ft[t]=e}function Tt(t){ut.push(t)}function bt(t,e){Et(ht,t,e,P)}function wt(t,e,i){"function"==typeof e&&(i=e,e="");var a=F(t)?t.type:[t,t={event:e}][0];t.event=(t.event||a).toLowerCase(),e=t.event,A(H.test(a)&&H.test(e)),st[a]||(st[a]={action:i,actionInfo:t}),lt[e]=a}function Mt(t,e){Et(dt,t,e,R,"visual")}function Et(t,e,i,a,n){(L(e)||F(e))&&(i=e,e=a);var r=b.wrapStageHandler(i,n);return r.__prio=e,r.__raw=i,t.push(r),r}function At(t,e){pt[t]=e}Mt(2e3,S),Tt(f),bt(900,p),At("default",T),wt({type:"highlight",event:"highlight",update:"highlight"},n.noop),wt({type:"downplay",event:"downplay",update:"downplay"},n.noop),It("light",w),It("dark",M);e.version="4.5.0",e.dependencies={zrender:"4.1.2"},e.PRIORITY=B,e.init=function(t,e,i){var a=St(t);if(a)return a;var n=new W(t,e,i);return n.id="ec_"+gt++,mt[n.id]=n,y.setAttribute(t,Dt,n.id),function(t){var e="__connectUpdateStatus";function i(t,i){for(var a=0;a<t.length;a++)t[a][e]=i}_(lt,function(a,n){t._messageCenter.on(n,function(a){if(vt[t.group]&&0!==t[e]){if(a&&a.escapeConnect)return;var n=t.makeActionFromEvent(a),r=[];_(mt,function(e){e!==t&&e.group===t.group&&r.push(e)}),i(r,0),_(r,function(t){1!==t[e]&&t.dispatchAction(n)}),i(r,2)}})})}(n),n},e.connect=function(t){if(n.isArray(t)){var e=t;t=null,_(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+Ct++,_(e,function(e){e.group=t})}return vt[t]=!0,t},e.disConnect=yt,e.disconnect=xt,e.dispose=function(t){"string"==typeof t?t=mt[t]:t instanceof W||(t=St(t)),t instanceof W&&!t.isDisposed()&&t.dispose()},e.getInstanceByDom=St,e.getInstanceById=function(t){return mt[t]},e.registerTheme=It,e.registerPreprocessor=Tt,e.registerProcessor=bt,e.registerPostUpdate=function(t){ct.push(t)},e.registerAction=wt,e.registerCoordinateSystem=function(t,e){c.register(t,e)},e.getCoordinateSystemDimensions=function(t){var e=c.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},e.registerLayout=function(t,e){Et(dt,t,e,N,"layout")},e.registerVisual=Mt,e.registerLoading=At,e.extendComponentModel=function(t){return m.extend(t)},e.extendComponentView=function(t){return g.extend(t)},e.extendSeriesModel=function(t){return v.extend(t)},e.extendChartView=function(t){return C.extend(t)},e.setCanvasCreator=function(t){n.$override("createCanvas",t)},e.registerMap=function(t,e,i){E.registerMap(t,e,i)},e.getMap=function(t){var e=E.retrieveMap(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}},e.dataTool={};var _t=i("iNHu");!function(){for(var t in _t)_t.hasOwnProperty(t)&&(e[t]=_t[t])}()},IeRB:function(t,e,i){var a=i("Icdr");i("+K7g"),a.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},IkDM:function(t,e,i){var a=i("0sHC"),n=i("1Xuh"),r=i("/gxq"),o=i("gOx9").wrapTreePathInfo,s=5;function l(t){this.group=new a.Group,t.add(this.group)}function h(t,e,i,a,n,r){var o=[[n?t:t-s,e],[t+i,e],[t+i,e+a],[n?t:t-s,e+a]];return!r&&o.splice(2,0,[t+i+s,e+a/2]),!n&&o.push([t,e+a/2]),o}function u(t,e,i){t.eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&o(i,e)}}l.prototype={constructor:l,render:function(t,e,i,a){var r=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),r.get("show")&&i){var s=r.getModel("itemStyle"),l=s.getModel("textStyle"),h={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,h,l),this._renderContent(t,h,s,l,a),n.positionElement(o,h.pos,h.box)}},_prepare:function(t,e,i){for(var a=t;a;a=a.parentNode){var n=a.getModel().get("name"),r=i.getTextRect(n),o=Math.max(r.width+16,e.emptyItemWidth);e.totalWidth+=o+8,e.renderList.push({node:a,text:n,width:o})}},_renderContent:function(t,e,i,o,s){for(var l=0,c=e.emptyItemWidth,d=t.get("breadcrumb.height"),f=n.getAvailableSize(e.pos,e.box),p=e.totalWidth,m=e.renderList,v=m.length-1;v>=0;v--){var g=m[v],C=g.node,D=g.width,y=g.text;p>f.width&&(p-=D-c,D=c,y=null);var x=new a.Polygon({shape:{points:h(l,0,D,d,v===m.length-1,0===v)},style:r.defaults(i.getItemStyle(),{lineJoin:"bevel",text:y,textFill:o.getTextColor(),textFont:o.getFont()}),z:10,onclick:r.curry(s,C)});this.group.add(x),u(x,t,C),l+=D+8}},remove:function(){this.group.removeAll()}};var c=l;t.exports=c},JFJR:function(t,e,i){var a=i("/gxq"),n=i("2HcM");function r(t,e,i){n.call(this,t,e,i),this.type="value",this.angle=0,this.name="",this.model}a.inherits(r,n);var o=r;t.exports=o},JIsR:function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}},JMnz:function(t,e,i){var a=i("UAiw"),n=function(){this._track=[]};function r(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}n.prototype={constructor:n,recognize:function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,i){var n=t.touches;if(n){for(var r={points:[],touches:[],target:e,event:t},o=0,s=n.length;o<s;o++){var l=n[o],h=a.clientToLocal(i,l,{});r.points.push([h.zrX,h.zrY]),r.touches.push(l)}this._track.push(r)}},_recognize:function(t){for(var e in o)if(o.hasOwnProperty(e)){var i=o[e](this._track,t);if(i)return i}}};var o={pinch:function(t,e){var i=t.length;if(i){var a,n=(t[i-1]||{}).points,o=(t[i-2]||{}).points||n;if(o&&o.length>1&&n&&n.length>1){var s=r(n)/r(o);!isFinite(s)&&(s=1),e.pinchScale=s;var l=[((a=n)[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2];return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:t[0].target,event:e}}}}},s=n;t.exports=s},JMu0:function(t,e,i){var a=i("Icdr"),n=i("9Owa"),r=i("FIAY"),o=i("dCQY"),s=r.toolbox.restore;function l(t){this.model=t}l.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:s.title},l.prototype.onclick=function(t,e,i){n.clear(t),e.dispatchAction({type:"restore",from:this.uid})},o.register("restore",l),a.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var h=l;t.exports=h},JNWs:function(t,e,i){var a=i("/gZK"),n=i("EJsE"),r=(i("/gxq"),n.extend({type:"series.gauge",getInitialData:function(t,e){return a(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}));t.exports=r},"JP+z":function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return t.apply(e,i)}}},JRc4:function(t,e,i){var a=i("Icdr"),n=i("GQGX");i("od06"),i("iEm+"),i("ZuqD"),i("oYIf"),a.registerPreprocessor(n)},Jd65:function(t,e,i){var a=i("PiQa"),n=i("/gxq"),r=i("uA0k"),o=i("C7PF");function s(t,e,i){r.call(this,t,e,i),this._lastFrame=0,this._lastFramePercent=0}var l=s.prototype;l.createLine=function(t,e,i){return new a(t,e,i)},l.updateAnimationPoints=function(t,e){this._points=e;for(var i=[0],a=0,n=1;n<e.length;n++){var r=e[n-1],s=e[n];a+=o.dist(r,s),i.push(a)}if(0!==a){for(n=0;n<i.length;n++)i[n]/=a;this._offsets=i,this._length=a}},l.getLineLength=function(t){return this._length},l.updateSymbolPosition=function(t){var e=t.__t,i=this._points,a=this._offsets,n=i.length;if(a){var r=this._lastFrame;if(e<this._lastFramePercent){for(s=Math.min(r+1,n-1);s>=0&&!(a[s]<=e);s--);s=Math.min(s,n-2)}else{for(var s=r;s<n&&!(a[s]>e);s++);s=Math.min(s-1,n-2)}o.lerp(t.position,i[s],i[s+1],(e-a[s])/(a[s+1]-a[s]));var l=i[s+1][0]-i[s][0],h=i[s+1][1]-i[s][1];t.rotation=-Math.atan2(h,l)-Math.PI/2,this._lastFrame=s,this._lastFramePercent=e,t.ignore=!1}},n.inherits(s,r);var h=s;t.exports=h},JzYe:function(t,e,i){var a=i("WK/r"),n=i("3yJd"),r=i("1Xuh").getLayoutRect,o=i("/gxq").each;function s(t,e,i){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,e,i),this.model=t}s.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:s,_init:function(t,e,i){var r=this.dimension,o=new a(r,n.createScaleByModel(t),[0,0],t.get("type"),t.get("position")),s="category"===o.type;o.onBand=s&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},update:function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();o(e.mapDimension(this.dimension,!0),function(t){this._axis.scale.unionExtentFromData(e,t)},this),n.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(t,e){this._rect=r({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,i=e.isHorizontal(),a=i?[0,t.width]:[0,t.height],n=e.reverse?1:0;e.setExtent(a[n],a[1-n]),this._updateAxisTransform(e,i?t.x:t.y)},_updateAxisTransform:function(t,e){var i=t.getExtent(),a=i[0]+i[1],n=t.isHorizontal();t.toGlobalCoord=n?function(t){return t+e}:function(t){return a-t+e},t.toLocalCoord=n?function(t){return t-e}:function(t){return a-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:i.contain(i.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),i=this.getRect(),a=[],n="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),a[n]=e.toGlobalCoord(e.dataToCoord(+t)),a[1-n]=0===n?i.y+i.height/2:i.x+i.width/2,a}};var l=s;t.exports=l},K0T9:function(t,e){var i={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-i.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*i.bounceIn(2*t):.5*i.bounceOut(2*t-1)+.5}},a=i;t.exports=a},KAfT:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("s1Aj");a.registerAction("dataZoom",function(t,e){var i=r.createLinkedNodesFinder(n.bind(e.eachComponent,e,"dataZoom"),r.eachAxisDim,function(t,e){return t.get(e.axisIndex)}),a=[];e.eachComponent({mainType:"dataZoom",query:t},function(t,e){a.push.apply(a,i(t).nodes)}),n.each(a,function(e,i){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})},KCLY:function(t,e,i){"use strict";(function(e){var a=i("cGG2"),n=i("5VQ+"),r={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!a.isUndefined(t)&&a.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,l={adapter:(void 0!==e&&"[object process]"===Object.prototype.toString.call(e)?s=i("7GwW"):"undefined"!=typeof XMLHttpRequest&&(s=i("7GwW")),s),transformRequest:[function(t,e){return n(e,"Accept"),n(e,"Content-Type"),a.isFormData(t)||a.isArrayBuffer(t)||a.isBuffer(t)||a.isStream(t)||a.isFile(t)||a.isBlob(t)?t:a.isArrayBufferView(t)?t.buffer:a.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):a.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},a.forEach(["delete","get","head"],function(t){l.headers[t]={}}),a.forEach(["post","put","patch"],function(t){l.headers[t]=a.merge(r)}),t.exports=l}).call(e,i("W2nU"))},KGuM:function(t,e,i){var a=i("H4Od"),n=i("1Xuh").getLayoutRect,r=i("wUOi");t.exports=function(t,e){var i=[];return t.eachSeriesByType("graph",function(t){var o=t.get("coordinateSystem");if(!o||"view"===o){var s=t.getData(),l=s.mapArray(function(t){var e=s.getItemModel(t);return[+e.get("x"),+e.get("y")]}),h=[],u=[];r.fromPoints(l,h,u),u[0]-h[0]==0&&(u[0]+=1,h[0]-=1),u[1]-h[1]==0&&(u[1]+=1,h[1]-=1);var c=(u[0]-h[0])/(u[1]-h[1]),d=function(t,e,i){var a=t.getBoxLayoutParams();return a.aspect=i,n(a,{width:e.getWidth(),height:e.getHeight()})}(t,e,c);isNaN(c)&&(h=[d.x,d.y],u=[d.x+d.width,d.y+d.height]);var f=u[0]-h[0],p=u[1]-h[1],m=d.width,v=d.height,g=t.coordinateSystem=new a;g.zoomLimit=t.get("scaleLimit"),g.setBoundingRect(h[0],h[1],f,p),g.setViewRect(d.x,d.y,m,v),g.setCenter(t.get("center")),g.setZoom(t.get("zoom")),i.push(g)}}),i}},Kh4W:function(t,e,i){e.f=i("dSzd")},KjPy:function(t,e,i){var a=i("/gxq"),n=i("Y5nL");i("DHpS");var r=n.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&a.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var i=t.get("parallelIndex");return null!=i&&e.getComponent("parallel",i)===this},setAxisExpand:function(t){a.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])},this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],i=a.filter(this.dependentModels.parallelAxis,function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this);a.each(i,function(i){t.push("dim"+i.get("dim")),e.push(i.componentIndex)})}});t.exports=r},KsMi:function(t,e,i){var a=i("GxVO"),n=i("xr8J").subPixelOptimizeLine,r={},o=a.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i,a,o,s;this.subPixelOptimize?(n(r,e,this.style),i=r.x1,a=r.y1,o=r.x2,s=r.y2):(i=e.x1,a=e.y1,o=e.x2,s=e.y2);var l=e.percent;0!==l&&(t.moveTo(i,a),l<1&&(o=i*(1-l)+o*l,s=a*(1-l)+s*l),t.lineTo(o,s))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});t.exports=o},L42u:function(t,e,i){var a,n,r,o=i("+ZMJ"),s=i("knuC"),l=i("RPLV"),h=i("ON07"),u=i("7KvD"),c=u.process,d=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,v=0,g={},C=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},D=function(t){C.call(t.data)};d&&f||(d=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return g[++v]=function(){s("function"==typeof t?t:Function(t),e)},a(v),v},f=function(t){delete g[t]},"process"==i("R9M2")(c)?a=function(t){c.nextTick(o(C,t,1))}:m&&m.now?a=function(t){m.now(o(C,t,1))}:p?(r=(n=new p).port2,n.port1.onmessage=D,a=o(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(a=function(t){u.postMessage(t+"","*")},u.addEventListener("message",D,!1)):a="onreadystatechange"in h("script")?function(t){l.appendChild(h("script")).onreadystatechange=function(){l.removeChild(this),C.call(t)}}:function(t){setTimeout(o(C,t,1),0)}),t.exports={set:d,clear:f}},LBXi:function(t,e,i){var a=i("/gxq"),n=i("5Mek"),r=i("YpIy"),o=i("NKek").onIrrelevantElement,s=i("0sHC"),l=i("AlF5"),h=i("h0jU").getUID;function u(t){var e=t.getItemStyle(),i=t.get("areaColor");return null!=i&&(e.fill=i),e}function c(t,e){e.eachChild(function(e){a.each(e.__regions,function(i){e.trigger(t.isSelected(i.name)?"emphasis":"normal")})})}function d(t,e){var i=new s.Group;this.uid=h("ec_map_draw"),this._controller=new n(t.getZr()),this._controllerHost={target:e?i:null},this.group=i,this._updateGroup=e,this._mouseDownFlag,this._mapName,this._initialized,i.add(this._regionsGroup=new s.Group),i.add(this._backgroundGroup=new s.Group)}d.prototype={constructor:d,draw:function(t,e,i,n,r){var o="geo"===t.mainType,l=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(e){l||e.getHostGeoModel()!==t||(l=e.getData())});var h=t.coordinateSystem;this._updateBackground(h);var d=this._regionsGroup,f=this.group;h._roamTransformable.transform&&(f.transform=h._roamTransformable.transform.slice(),f.decomposeTransform());var p=h._rawTransformable.scale,m=h._rawTransformable.position;d.removeAll();var v=["itemStyle"],g=["emphasis","itemStyle"],C=["label"],D=["emphasis","label"],y=a.createHashMap();a.each(h.regions,function(e){var i=y.get(e.name)||y.set(e.name,new s.Group),n=new s.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});i.add(n);var r,h=(P=t.getRegionModel(e.name)||t).getModel(v),c=P.getModel(g),x=u(h),S=u(c),I=P.getModel(C),T=P.getModel(D);if(l){r=l.indexOfName(e.name);var b=l.getItemVisual(r,"color",!0);b&&(x.fill=b)}var w=function(t){return[t[0]*p[0]+m[0],t[1]*p[1]+m[1]]};a.each(e.geometries,function(t){if("polygon"===t.type){for(var e=[],i=0;i<t.exterior.length;++i)e.push(w(t.exterior[i]));n.shape.paths.push(new s.Polygon({segmentIgnoreThreshold:1,shape:{points:e}}));for(i=0;i<(t.interiors?t.interiors.length:0);++i){for(var a=t.interiors[i],r=(e=[],0);r<a.length;++r)e.push(w(a[r]));n.shape.paths.push(new s.Polygon({segmentIgnoreThreshold:1,shape:{points:e}}))}}}),n.setStyle(x),n.style.strokeNoScale=!0,n.culling=!0;var M=I.get("show"),E=T.get("show"),A=l&&isNaN(l.get(l.mapDimension("value"),r)),_=l&&l.getItemLayout(r);if(o||A&&(M||E)||_&&_.showLabel){var L,F=o?e.name:r;(!l||r>=0)&&(L=t);var O=new s.Text({position:w(e.center.slice()),scale:[1/f.scale[0],1/f.scale[1]],z2:10,silent:!0});s.setLabelStyle(O.style,O.hoverStyle={},I,T,{labelFetcher:L,labelDataIndex:F,defaultText:e.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),i.add(O)}if(l)l.setItemGraphicEl(r,i);else{var P=t.getRegionModel(e.name);n.eventData={componentType:"geo",componentIndex:t.componentIndex,geoIndex:t.componentIndex,name:e.name,region:P&&P.option||{}}}(i.__regions||(i.__regions=[])).push(e),i.highDownSilentOnTouch=!!t.get("selectedMode"),s.setHoverStyle(i,S),d.add(i)}),this._updateController(t,e,i),function(t,e,i,n,r){i.off("click"),i.off("mousedown"),e.get("selectedMode")&&(i.on("mousedown",function(){t._mouseDownFlag=!0}),i.on("click",function(o){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var s=o.target;!s.__regions;)s=s.parent;if(s){var l={type:("geo"===e.mainType?"geo":"map")+"ToggleSelect",batch:a.map(s.__regions,function(t){return{name:t.name,from:r.uid}})};l[e.mainType+"Id"]=e.id,n.dispatchAction(l),c(e,i)}}}))}(this,t,d,i,n),c(t,d)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&l.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(t){var e=t.map;this._mapName!==e&&a.each(l.makeGraphic(e,this.uid),function(t){this._backgroundGroup.add(t)},this),this._mapName=e},_updateController:function(t,e,i){var n=t.coordinateSystem,s=this._controller,l=this._controllerHost;l.zoomLimit=t.get("scaleLimit"),l.zoom=n.getZoom(),s.enable(t.get("roam")||!1);var h=t.mainType;function u(){var e={type:"geoRoam",componentType:h};return e[h+"Id"]=t.id,e}s.off("pan").on("pan",function(t){this._mouseDownFlag=!1,r.updateViewOnPan(l,t.dx,t.dy),i.dispatchAction(a.extend(u(),{dx:t.dx,dy:t.dy}))},this),s.off("zoom").on("zoom",function(t){if(this._mouseDownFlag=!1,r.updateViewOnZoom(l,t.scale,t.originX,t.originY),i.dispatchAction(a.extend(u(),{zoom:t.scale,originX:t.originX,originY:t.originY})),this._updateGroup){var e=this.group.scale;this._regionsGroup.traverse(function(t){"text"===t.type&&t.attr("scale",[1/e[0],1/e[1]])})}},this),s.setPointerChecker(function(e,a,r){return n.getViewRectAfterRoam().contain(a,r)&&!o(e,i,t)})}};var f=d;t.exports=f},LGKB:function(t,e,i){var a=i("EJsE"),n=i("+jMe"),r=i("HHfb").encodeHTML,o=a.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(t){var e={name:t.name,children:t.data},i=t.leaves||{},a={};a.leaves=i;var r=n.createTree(e,this,a),o=0;r.eachNode("preorder",function(t){t.depth>o&&(o=t.depth)});var s=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:o;return r.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=s}),r.data},getOrient:function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},formatTooltip:function(t){for(var e=this.getData().tree,i=e.root.children[0],a=e.getNodeByDataIndex(t),n=a.getValue(),o=a.name;a&&a!==i;)o=a.parentNode.name+"."+o,a=a.parentNode;return r(o+(isNaN(n)||null==n?"":" : "+n))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});t.exports=o},LICT:function(t,e,i){var a=i("AAi1");e.containStroke=function(t,e,i,n,r,o,s,l,h,u,c){if(0===h)return!1;var d=h;return!(c>e+d&&c>n+d&&c>o+d&&c>l+d||c<e-d&&c<n-d&&c<o-d&&c<l-d||u>t+d&&u>i+d&&u>r+d&&u>s+d||u<t-d&&u<i-d&&u<r-d&&u<s-d)&&a.cubicProjectPoint(t,e,i,n,r,o,s,l,u,c,null)<=d/2}},LIJb:function(t,e,i){var a=i("EqjI");t.exports=function(t,e){if(!a(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},LJck:function(t,e,i){var a=(0,i("0sHC").extendShape)({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var i=e.cx,a=e.cy,n=Math.max(e.r0||0,0),r=Math.max(e.r,0),o=.5*(r-n),s=n+o,l=e.startAngle,h=e.endAngle,u=e.clockwise,c=Math.cos(l),d=Math.sin(l),f=Math.cos(h),p=Math.sin(h);(u?h-l<2*Math.PI:l-h<2*Math.PI)&&(t.moveTo(c*n+i,d*n+a),t.arc(c*s+i,d*s+a,o,-Math.PI+l,l,!u)),t.arc(i,a,r,l,h,!u),t.moveTo(f*r+i,p*r+a),t.arc(f*s+i,p*s+a,o,h-2*Math.PI,h-Math.PI,!u),0!==n&&(t.arc(i,a,n,h,l,u),t.moveTo(c*n+i,p*n+a)),t.closePath()}});t.exports=a},LKZe:function(t,e,i){var a=i("NpIQ"),n=i("X8DO"),r=i("TcQ7"),o=i("MmMw"),s=i("D2L2"),l=i("SfB7"),h=Object.getOwnPropertyDescriptor;e.f=i("+E39")?h:function(t,e){if(t=r(t),e=o(e,!0),l)try{return h(t,e)}catch(t){}if(s(t,e))return n(!a.f.call(t,e),t[e])}},LRsb:function(t,e,i){var a=i("C7PF"),n=i("hD/x"),r=n.getSymbolSize,o=n.getNodeGlobalScale,s=Math.PI,l=[];var h={value:function(t,e,i,a,n,r,o,s){var l=0,h=a.getSum("value"),u=2*Math.PI/(h||s);i.eachNode(function(t){var e=t.getValue("value"),i=u*(h?e:1)/2;l+=i,t.setLayout([n*Math.cos(l)+r,n*Math.sin(l)+o]),l+=i})},symbolSize:function(t,e,i,a,n,h,u,c){var d=0;l.length=c;var f=o(t);i.eachNode(function(t){var e=r(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=f;var i=Math.asin(e/2/n);isNaN(i)&&(i=s/2),l[t.dataIndex]=i,d+=2*i});var p=(2*s-d)/c/2,m=0;i.eachNode(function(t){var e=p+l[t.dataIndex];m+=e,t.setLayout([n*Math.cos(m)+h,n*Math.sin(m)+u]),m+=e})}};e.circularLayout=function(t,e){var i=t.coordinateSystem;if(!i||"view"===i.type){var n=i.getBoundingRect(),r=t.getData(),o=r.graph,s=n.width/2+n.x,l=n.height/2+n.y,u=Math.min(n.width,n.height)/2,c=r.count();r.setLayout({cx:s,cy:l}),c&&(h[e](t,i,o,r,u,s,l,c),o.eachEdge(function(t){var e,i=t.getModel().get("lineStyle.curveness")||0,n=a.clone(t.node1.getLayout()),r=a.clone(t.node2.getLayout()),o=(n[0]+r[0])/2,h=(n[1]+r[1])/2;+i&&(e=[s*(i*=3)+o*(1-i),l*i+h*(1-i)]),t.setLayout([n,r,e])}))}}},LbEf:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("mLyJ");i("PBlc"),i("3n/B"),i("1bf2"),i("AKXb"),i("QbUQ"),a.registerLayout(n.curry(r,"bar")),a.extendComponentView({type:"polar"})},LgWN:function(t,e,i){var a=i("/gxq");function n(){var t=a.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}n.prototype={update:function(t,e,i,a,n,r){var o=this._getBrush(),s=this._getGradient(t,n,"inRange"),l=this._getGradient(t,n,"outOfRange"),h=this.pointSize+this.blurSize,u=this.canvas,c=u.getContext("2d"),d=t.length;u.width=e,u.height=i;for(var f=0;f<d;++f){var p=t[f],m=p[0],v=p[1],g=a(p[2]);c.globalAlpha=g,c.drawImage(o,m-h,v-h)}if(!u.width||!u.height)return u;for(var C=c.getImageData(0,0,u.width,u.height),D=C.data,y=0,x=D.length,S=this.minOpacity,I=this.maxOpacity-S;y<x;){g=D[y+3]/256;var T=4*Math.floor(255*g);if(g>0){var b=r(g)?s:l;g>0&&(g=g*I+S),D[y++]=b[T],D[y++]=b[T+1],D[y++]=b[T+2],D[y++]=b[T+3]*g*256}else y+=4}return c.putImageData(C,0,0),u},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=a.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var n=t.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t},_getGradient:function(t,e,i){for(var a=this._gradientPixels,n=a[i]||(a[i]=new Uint8ClampedArray(1024)),r=[0,0,0,0],o=0,s=0;s<256;s++)e[i](s/255,!0,r),n[o++]=r[0],n[o++]=r[1],n[o++]=r[2],n[o++]=r[3];return n}};var r=n;t.exports=r},LjPz:function(t,e,i){i("qSkD"),i("MRvz"),i("BqCv")},M4fF:function(t,e,i){(function(t,a){var n;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var r,o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",h="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",f=1,p=2,m=4,v=1,g=2,C=1,D=2,y=4,x=8,S=16,I=32,T=64,b=128,w=256,M=512,E=30,A="...",_=800,L=16,F=1,O=2,P=1/0,N=9007199254740991,R=1.7976931348623157e308,B=NaN,k=4294967295,V=k-1,H=k>>>1,G=[["ary",b],["bind",C],["bindKey",D],["curry",x],["curryRight",S],["flip",M],["partial",I],["partialRight",T],["rearg",w]],Y="[object Arguments]",W="[object Array]",X="[object AsyncFunction]",U="[object Boolean]",z="[object Date]",K="[object DOMException]",$="[object Error]",j="[object Function]",q="[object GeneratorFunction]",J="[object Map]",Z="[object Number]",Q="[object Null]",tt="[object Object]",et="[object Proxy]",it="[object RegExp]",at="[object Set]",nt="[object String]",rt="[object Symbol]",ot="[object Undefined]",st="[object WeakMap]",lt="[object WeakSet]",ht="[object ArrayBuffer]",ut="[object DataView]",ct="[object Float32Array]",dt="[object Float64Array]",ft="[object Int8Array]",pt="[object Int16Array]",mt="[object Int32Array]",vt="[object Uint8Array]",gt="[object Uint8ClampedArray]",Ct="[object Uint16Array]",Dt="[object Uint32Array]",yt=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,St=/(__e\(.*?\)|\b__t\)) \+\n'';/g,It=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,bt=RegExp(It.source),wt=RegExp(Tt.source),Mt=/<%-([\s\S]+?)%>/g,Et=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,_t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lt=/^\w*$/,Ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/[\\^$.*+?()[\]{}|]/g,Pt=RegExp(Ot.source),Nt=/^\s+/,Rt=/\s/,Bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kt=/\{\n\/\* \[wrapped with (.+)\] \*/,Vt=/,? & /,Ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gt=/[()=,{}\[\]\/\s]/,Yt=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xt=/\w*$/,Ut=/^[-+]0x[0-9a-f]+$/i,zt=/^0b[01]+$/i,Kt=/^\[object .+?Constructor\]$/,$t=/^0o[0-7]+$/i,jt=/^(?:0|[1-9]\d*)$/,qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jt=/($^)/,Zt=/['\n\r\u2028\u2029\\]/g,Qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ee="[\\ud800-\\udfff]",ie="["+te+"]",ae="["+Qt+"]",ne="\\d+",re="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",se="[^\\ud800-\\udfff"+te+ne+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",le="\\ud83c[\\udffb-\\udfff]",he="[^\\ud800-\\udfff]",ue="(?:\\ud83c[\\udde6-\\uddff]){2}",ce="[\\ud800-\\udbff][\\udc00-\\udfff]",de="[A-Z\\xc0-\\xd6\\xd8-\\xde]",fe="(?:"+oe+"|"+se+")",pe="(?:"+de+"|"+se+")",me="(?:"+ae+"|"+le+")"+"?",ve="[\\ufe0e\\ufe0f]?"+me+("(?:\\u200d(?:"+[he,ue,ce].join("|")+")[\\ufe0e\\ufe0f]?"+me+")*"),ge="(?:"+[re,ue,ce].join("|")+")"+ve,Ce="(?:"+[he+ae+"?",ae,ue,ce,ee].join("|")+")",De=RegExp("['’]","g"),ye=RegExp(ae,"g"),xe=RegExp(le+"(?="+le+")|"+Ce+ve,"g"),Se=RegExp([de+"?"+oe+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ie,de,"$"].join("|")+")",pe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ie,de+fe,"$"].join("|")+")",de+"?"+fe+"+(?:['’](?:d|ll|m|re|s|t|ve))?",de+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ne,ge].join("|"),"g"),Ie=RegExp("[\\u200d\\ud800-\\udfff"+Qt+"\\ufe0e\\ufe0f]"),Te=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,be=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],we=-1,Me={};Me[ct]=Me[dt]=Me[ft]=Me[pt]=Me[mt]=Me[vt]=Me[gt]=Me[Ct]=Me[Dt]=!0,Me[Y]=Me[W]=Me[ht]=Me[U]=Me[ut]=Me[z]=Me[$]=Me[j]=Me[J]=Me[Z]=Me[tt]=Me[it]=Me[at]=Me[nt]=Me[st]=!1;var Ee={};Ee[Y]=Ee[W]=Ee[ht]=Ee[ut]=Ee[U]=Ee[z]=Ee[ct]=Ee[dt]=Ee[ft]=Ee[pt]=Ee[mt]=Ee[J]=Ee[Z]=Ee[tt]=Ee[it]=Ee[at]=Ee[nt]=Ee[rt]=Ee[vt]=Ee[gt]=Ee[Ct]=Ee[Dt]=!0,Ee[$]=Ee[j]=Ee[st]=!1;var Ae={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_e=parseFloat,Le=parseInt,Fe="object"==typeof t&&t&&t.Object===Object&&t,Oe="object"==typeof self&&self&&self.Object===Object&&self,Pe=Fe||Oe||Function("return this")(),Ne="object"==typeof e&&e&&!e.nodeType&&e,Re=Ne&&"object"==typeof a&&a&&!a.nodeType&&a,Be=Re&&Re.exports===Ne,ke=Be&&Fe.process,Ve=function(){try{var t=Re&&Re.require&&Re.require("util").types;return t||ke&&ke.binding&&ke.binding("util")}catch(t){}}(),He=Ve&&Ve.isArrayBuffer,Ge=Ve&&Ve.isDate,Ye=Ve&&Ve.isMap,We=Ve&&Ve.isRegExp,Xe=Ve&&Ve.isSet,Ue=Ve&&Ve.isTypedArray;function ze(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function Ke(t,e,i,a){for(var n=-1,r=null==t?0:t.length;++n<r;){var o=t[n];e(a,o,i(o),t)}return a}function $e(t,e){for(var i=-1,a=null==t?0:t.length;++i<a&&!1!==e(t[i],i,t););return t}function je(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function qe(t,e){for(var i=-1,a=null==t?0:t.length;++i<a;)if(!e(t[i],i,t))return!1;return!0}function Je(t,e){for(var i=-1,a=null==t?0:t.length,n=0,r=[];++i<a;){var o=t[i];e(o,i,t)&&(r[n++]=o)}return r}function Ze(t,e){return!!(null==t?0:t.length)&&li(t,e,0)>-1}function Qe(t,e,i){for(var a=-1,n=null==t?0:t.length;++a<n;)if(i(e,t[a]))return!0;return!1}function ti(t,e){for(var i=-1,a=null==t?0:t.length,n=Array(a);++i<a;)n[i]=e(t[i],i,t);return n}function ei(t,e){for(var i=-1,a=e.length,n=t.length;++i<a;)t[n+i]=e[i];return t}function ii(t,e,i,a){var n=-1,r=null==t?0:t.length;for(a&&r&&(i=t[++n]);++n<r;)i=e(i,t[n],n,t);return i}function ai(t,e,i,a){var n=null==t?0:t.length;for(a&&n&&(i=t[--n]);n--;)i=e(i,t[n],n,t);return i}function ni(t,e){for(var i=-1,a=null==t?0:t.length;++i<a;)if(e(t[i],i,t))return!0;return!1}var ri=di("length");function oi(t,e,i){var a;return i(t,function(t,i,n){if(e(t,i,n))return a=i,!1}),a}function si(t,e,i,a){for(var n=t.length,r=i+(a?1:-1);a?r--:++r<n;)if(e(t[r],r,t))return r;return-1}function li(t,e,i){return e==e?function(t,e,i){var a=i-1,n=t.length;for(;++a<n;)if(t[a]===e)return a;return-1}(t,e,i):si(t,ui,i)}function hi(t,e,i,a){for(var n=i-1,r=t.length;++n<r;)if(a(t[n],e))return n;return-1}function ui(t){return t!=t}function ci(t,e){var i=null==t?0:t.length;return i?mi(t,e)/i:B}function di(t){return function(e){return null==e?r:e[t]}}function fi(t){return function(e){return null==t?r:t[e]}}function pi(t,e,i,a,n){return n(t,function(t,n,r){i=a?(a=!1,t):e(i,t,n,r)}),i}function mi(t,e){for(var i,a=-1,n=t.length;++a<n;){var o=e(t[a]);o!==r&&(i=i===r?o:i+o)}return i}function vi(t,e){for(var i=-1,a=Array(t);++i<t;)a[i]=e(i);return a}function gi(t){return t?t.slice(0,Pi(t)+1).replace(Nt,""):t}function Ci(t){return function(e){return t(e)}}function Di(t,e){return ti(e,function(e){return t[e]})}function yi(t,e){return t.has(e)}function xi(t,e){for(var i=-1,a=t.length;++i<a&&li(e,t[i],0)>-1;);return i}function Si(t,e){for(var i=t.length;i--&&li(e,t[i],0)>-1;);return i}var Ii=fi({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ti=fi({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function bi(t){return"\\"+Ae[t]}function wi(t){return Ie.test(t)}function Mi(t){var e=-1,i=Array(t.size);return t.forEach(function(t,a){i[++e]=[a,t]}),i}function Ei(t,e){return function(i){return t(e(i))}}function Ai(t,e){for(var i=-1,a=t.length,n=0,r=[];++i<a;){var o=t[i];o!==e&&o!==d||(t[i]=d,r[n++]=i)}return r}function _i(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}function Li(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=[t,t]}),i}function Fi(t){return wi(t)?function(t){var e=xe.lastIndex=0;for(;xe.test(t);)++e;return e}(t):ri(t)}function Oi(t){return wi(t)?function(t){return t.match(xe)||[]}(t):function(t){return t.split("")}(t)}function Pi(t){for(var e=t.length;e--&&Rt.test(t.charAt(e)););return e}var Ni=fi({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ri=function t(e){var i,a=(e=null==e?Pe:Ri.defaults(Pe.Object(),e,Ri.pick(Pe,be))).Array,n=e.Date,Rt=e.Error,Qt=e.Function,te=e.Math,ee=e.Object,ie=e.RegExp,ae=e.String,ne=e.TypeError,re=a.prototype,oe=Qt.prototype,se=ee.prototype,le=e["__core-js_shared__"],he=oe.toString,ue=se.hasOwnProperty,ce=0,de=(i=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",fe=se.toString,pe=he.call(ee),me=Pe._,ve=ie("^"+he.call(ue).replace(Ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ge=Be?e.Buffer:r,Ce=e.Symbol,xe=e.Uint8Array,Ie=ge?ge.allocUnsafe:r,Ae=Ei(ee.getPrototypeOf,ee),Fe=ee.create,Oe=se.propertyIsEnumerable,Ne=re.splice,Re=Ce?Ce.isConcatSpreadable:r,ke=Ce?Ce.iterator:r,Ve=Ce?Ce.toStringTag:r,ri=function(){try{var t=Hr(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),fi=e.clearTimeout!==Pe.clearTimeout&&e.clearTimeout,Bi=n&&n.now!==Pe.Date.now&&n.now,ki=e.setTimeout!==Pe.setTimeout&&e.setTimeout,Vi=te.ceil,Hi=te.floor,Gi=ee.getOwnPropertySymbols,Yi=ge?ge.isBuffer:r,Wi=e.isFinite,Xi=re.join,Ui=Ei(ee.keys,ee),zi=te.max,Ki=te.min,$i=n.now,ji=e.parseInt,qi=te.random,Ji=re.reverse,Zi=Hr(e,"DataView"),Qi=Hr(e,"Map"),ta=Hr(e,"Promise"),ea=Hr(e,"Set"),ia=Hr(e,"WeakMap"),aa=Hr(ee,"create"),na=ia&&new ia,ra={},oa=fo(Zi),sa=fo(Qi),la=fo(ta),ha=fo(ea),ua=fo(ia),ca=Ce?Ce.prototype:r,da=ca?ca.valueOf:r,fa=ca?ca.toString:r;function pa(t){if(_s(t)&&!Ds(t)&&!(t instanceof Ca)){if(t instanceof ga)return t;if(ue.call(t,"__wrapped__"))return po(t)}return new ga(t)}var ma=function(){function t(){}return function(e){if(!As(e))return{};if(Fe)return Fe(e);t.prototype=e;var i=new t;return t.prototype=r,i}}();function va(){}function ga(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Ca(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=k,this.__views__=[]}function Da(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function ya(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function xa(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function Sa(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new xa;++e<i;)this.add(t[e])}function Ia(t){var e=this.__data__=new ya(t);this.size=e.size}function Ta(t,e){var i=Ds(t),a=!i&&Cs(t),n=!i&&!a&&Is(t),r=!i&&!a&&!n&&ks(t),o=i||a||n||r,s=o?vi(t.length,ae):[],l=s.length;for(var h in t)!e&&!ue.call(t,h)||o&&("length"==h||n&&("offset"==h||"parent"==h)||r&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||Kr(h,l))||s.push(h);return s}function ba(t){var e=t.length;return e?t[In(0,e-1)]:r}function wa(t,e){return ho(nr(t),Na(e,0,t.length))}function Ma(t){return ho(nr(t))}function Ea(t,e,i){(i===r||ms(t[e],i))&&(i!==r||e in t)||Oa(t,e,i)}function Aa(t,e,i){var a=t[e];ue.call(t,e)&&ms(a,i)&&(i!==r||e in t)||Oa(t,e,i)}function _a(t,e){for(var i=t.length;i--;)if(ms(t[i][0],e))return i;return-1}function La(t,e,i,a){return Ha(t,function(t,n,r){e(a,t,i(t),r)}),a}function Fa(t,e){return t&&rr(e,ol(e),t)}function Oa(t,e,i){"__proto__"==e&&ri?ri(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Pa(t,e){for(var i=-1,n=e.length,o=a(n),s=null==t;++i<n;)o[i]=s?r:el(t,e[i]);return o}function Na(t,e,i){return t==t&&(i!==r&&(t=t<=i?t:i),e!==r&&(t=t>=e?t:e)),t}function Ra(t,e,i,a,n,o){var s,l=e&f,h=e&p,u=e&m;if(i&&(s=n?i(t,a,n,o):i(t)),s!==r)return s;if(!As(t))return t;var c=Ds(t);if(c){if(s=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&ue.call(t,"index")&&(i.index=t.index,i.input=t.input),i}(t),!l)return nr(t,s)}else{var d=Wr(t),v=d==j||d==q;if(Is(t))return Zn(t,l);if(d==tt||d==Y||v&&!n){if(s=h||v?{}:Ur(t),!l)return h?function(t,e){return rr(t,Yr(t),e)}(t,function(t,e){return t&&rr(e,sl(e),t)}(s,t)):function(t,e){return rr(t,Gr(t),e)}(t,Fa(s,t))}else{if(!Ee[d])return n?t:{};s=function(t,e,i){var a,n,r,o=t.constructor;switch(e){case ht:return Qn(t);case U:case z:return new o(+t);case ut:return function(t,e){var i=e?Qn(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case ct:case dt:case ft:case pt:case mt:case vt:case gt:case Ct:case Dt:return tr(t,i);case J:return new o;case Z:case nt:return new o(t);case it:return(r=new(n=t).constructor(n.source,Xt.exec(n))).lastIndex=n.lastIndex,r;case at:return new o;case rt:return a=t,da?ee(da.call(a)):{}}}(t,d,l)}}o||(o=new Ia);var g=o.get(t);if(g)return g;o.set(t,s),Ns(t)?t.forEach(function(a){s.add(Ra(a,e,i,a,t,o))}):Ls(t)&&t.forEach(function(a,n){s.set(n,Ra(a,e,i,n,t,o))});var C=c?r:(u?h?Or:Fr:h?sl:ol)(t);return $e(C||t,function(a,n){C&&(a=t[n=a]),Aa(s,n,Ra(a,e,i,n,t,o))}),s}function Ba(t,e,i){var a=i.length;if(null==t)return!a;for(t=ee(t);a--;){var n=i[a],o=e[n],s=t[n];if(s===r&&!(n in t)||!o(s))return!1}return!0}function ka(t,e,i){if("function"!=typeof t)throw new ne(l);return ro(function(){t.apply(r,i)},e)}function Va(t,e,i,a){var n=-1,r=Ze,s=!0,l=t.length,h=[],u=e.length;if(!l)return h;i&&(e=ti(e,Ci(i))),a?(r=Qe,s=!1):e.length>=o&&(r=yi,s=!1,e=new Sa(e));t:for(;++n<l;){var c=t[n],d=null==i?c:i(c);if(c=a||0!==c?c:0,s&&d==d){for(var f=u;f--;)if(e[f]===d)continue t;h.push(c)}else r(e,d,a)||h.push(c)}return h}pa.templateSettings={escape:Mt,evaluate:Et,interpolate:At,variable:"",imports:{_:pa}},pa.prototype=va.prototype,pa.prototype.constructor=pa,ga.prototype=ma(va.prototype),ga.prototype.constructor=ga,Ca.prototype=ma(va.prototype),Ca.prototype.constructor=Ca,Da.prototype.clear=function(){this.__data__=aa?aa(null):{},this.size=0},Da.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Da.prototype.get=function(t){var e=this.__data__;if(aa){var i=e[t];return i===u?r:i}return ue.call(e,t)?e[t]:r},Da.prototype.has=function(t){var e=this.__data__;return aa?e[t]!==r:ue.call(e,t)},Da.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=aa&&e===r?u:e,this},ya.prototype.clear=function(){this.__data__=[],this.size=0},ya.prototype.delete=function(t){var e=this.__data__,i=_a(e,t);return!(i<0||(i==e.length-1?e.pop():Ne.call(e,i,1),--this.size,0))},ya.prototype.get=function(t){var e=this.__data__,i=_a(e,t);return i<0?r:e[i][1]},ya.prototype.has=function(t){return _a(this.__data__,t)>-1},ya.prototype.set=function(t,e){var i=this.__data__,a=_a(i,t);return a<0?(++this.size,i.push([t,e])):i[a][1]=e,this},xa.prototype.clear=function(){this.size=0,this.__data__={hash:new Da,map:new(Qi||ya),string:new Da}},xa.prototype.delete=function(t){var e=kr(this,t).delete(t);return this.size-=e?1:0,e},xa.prototype.get=function(t){return kr(this,t).get(t)},xa.prototype.has=function(t){return kr(this,t).has(t)},xa.prototype.set=function(t,e){var i=kr(this,t),a=i.size;return i.set(t,e),this.size+=i.size==a?0:1,this},Sa.prototype.add=Sa.prototype.push=function(t){return this.__data__.set(t,u),this},Sa.prototype.has=function(t){return this.__data__.has(t)},Ia.prototype.clear=function(){this.__data__=new ya,this.size=0},Ia.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Ia.prototype.get=function(t){return this.__data__.get(t)},Ia.prototype.has=function(t){return this.__data__.has(t)},Ia.prototype.set=function(t,e){var i=this.__data__;if(i instanceof ya){var a=i.__data__;if(!Qi||a.length<o-1)return a.push([t,e]),this.size=++i.size,this;i=this.__data__=new xa(a)}return i.set(t,e),this.size=i.size,this};var Ha=lr($a),Ga=lr(ja,!0);function Ya(t,e){var i=!0;return Ha(t,function(t,a,n){return i=!!e(t,a,n)}),i}function Wa(t,e,i){for(var a=-1,n=t.length;++a<n;){var o=t[a],s=e(o);if(null!=s&&(l===r?s==s&&!Bs(s):i(s,l)))var l=s,h=o}return h}function Xa(t,e){var i=[];return Ha(t,function(t,a,n){e(t,a,n)&&i.push(t)}),i}function Ua(t,e,i,a,n){var r=-1,o=t.length;for(i||(i=zr),n||(n=[]);++r<o;){var s=t[r];e>0&&i(s)?e>1?Ua(s,e-1,i,a,n):ei(n,s):a||(n[n.length]=s)}return n}var za=hr(),Ka=hr(!0);function $a(t,e){return t&&za(t,e,ol)}function ja(t,e){return t&&Ka(t,e,ol)}function qa(t,e){return Je(e,function(e){return ws(t[e])})}function Ja(t,e){for(var i=0,a=(e=$n(e,t)).length;null!=t&&i<a;)t=t[co(e[i++])];return i&&i==a?t:r}function Za(t,e,i){var a=e(t);return Ds(t)?a:ei(a,i(t))}function Qa(t){return null==t?t===r?ot:Q:Ve&&Ve in ee(t)?function(t){var e=ue.call(t,Ve),i=t[Ve];try{t[Ve]=r;var a=!0}catch(t){}var n=fe.call(t);return a&&(e?t[Ve]=i:delete t[Ve]),n}(t):function(t){return fe.call(t)}(t)}function tn(t,e){return t>e}function en(t,e){return null!=t&&ue.call(t,e)}function an(t,e){return null!=t&&e in ee(t)}function nn(t,e,i){for(var n=i?Qe:Ze,o=t[0].length,s=t.length,l=s,h=a(s),u=1/0,c=[];l--;){var d=t[l];l&&e&&(d=ti(d,Ci(e))),u=Ki(d.length,u),h[l]=!i&&(e||o>=120&&d.length>=120)?new Sa(l&&d):r}d=t[0];var f=-1,p=h[0];t:for(;++f<o&&c.length<u;){var m=d[f],v=e?e(m):m;if(m=i||0!==m?m:0,!(p?yi(p,v):n(c,v,i))){for(l=s;--l;){var g=h[l];if(!(g?yi(g,v):n(t[l],v,i)))continue t}p&&p.push(v),c.push(m)}}return c}function rn(t,e,i){var a=null==(t=io(t,e=$n(e,t)))?t:t[co(bo(e))];return null==a?r:ze(a,t,i)}function on(t){return _s(t)&&Qa(t)==Y}function sn(t,e,i,a,n){return t===e||(null==t||null==e||!_s(t)&&!_s(e)?t!=t&&e!=e:function(t,e,i,a,n,o){var s=Ds(t),l=Ds(e),h=s?W:Wr(t),u=l?W:Wr(e),c=(h=h==Y?tt:h)==tt,d=(u=u==Y?tt:u)==tt,f=h==u;if(f&&Is(t)){if(!Is(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new Ia),s||ks(t)?_r(t,e,i,a,n,o):function(t,e,i,a,n,r,o){switch(i){case ut:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ht:return!(t.byteLength!=e.byteLength||!r(new xe(t),new xe(e)));case U:case z:case Z:return ms(+t,+e);case $:return t.name==e.name&&t.message==e.message;case it:case nt:return t==e+"";case J:var s=Mi;case at:var l=a&v;if(s||(s=_i),t.size!=e.size&&!l)return!1;var h=o.get(t);if(h)return h==e;a|=g,o.set(t,e);var u=_r(s(t),s(e),a,n,r,o);return o.delete(t),u;case rt:if(da)return da.call(t)==da.call(e)}return!1}(t,e,h,i,a,n,o);if(!(i&v)){var p=c&&ue.call(t,"__wrapped__"),m=d&&ue.call(e,"__wrapped__");if(p||m){var C=p?t.value():t,D=m?e.value():e;return o||(o=new Ia),n(C,D,i,a,o)}}return!!f&&(o||(o=new Ia),function(t,e,i,a,n,o){var s=i&v,l=Fr(t),h=l.length,u=Fr(e).length;if(h!=u&&!s)return!1;for(var c=h;c--;){var d=l[c];if(!(s?d in e:ue.call(e,d)))return!1}var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var m=!0;o.set(t,e),o.set(e,t);for(var g=s;++c<h;){d=l[c];var C=t[d],D=e[d];if(a)var y=s?a(D,C,d,e,t,o):a(C,D,d,t,e,o);if(!(y===r?C===D||n(C,D,i,a,o):y)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var x=t.constructor,S=e.constructor;x!=S&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof S&&S instanceof S)&&(m=!1)}return o.delete(t),o.delete(e),m}(t,e,i,a,n,o))}(t,e,i,a,sn,n))}function ln(t,e,i,a){var n=i.length,o=n,s=!a;if(null==t)return!o;for(t=ee(t);n--;){var l=i[n];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++n<o;){var h=(l=i[n])[0],u=t[h],c=l[1];if(s&&l[2]){if(u===r&&!(h in t))return!1}else{var d=new Ia;if(a)var f=a(u,c,h,t,e,d);if(!(f===r?sn(c,u,v|g,a,d):f))return!1}}return!0}function hn(t){return!(!As(t)||de&&de in t)&&(ws(t)?ve:Kt).test(fo(t))}function un(t){return"function"==typeof t?t:null==t?Fl:"object"==typeof t?Ds(t)?vn(t[0],t[1]):mn(t):Gl(t)}function cn(t){if(!Zr(t))return Ui(t);var e=[];for(var i in ee(t))ue.call(t,i)&&"constructor"!=i&&e.push(i);return e}function dn(t){if(!As(t))return function(t){var e=[];if(null!=t)for(var i in ee(t))e.push(i);return e}(t);var e=Zr(t),i=[];for(var a in t)("constructor"!=a||!e&&ue.call(t,a))&&i.push(a);return i}function fn(t,e){return t<e}function pn(t,e){var i=-1,n=xs(t)?a(t.length):[];return Ha(t,function(t,a,r){n[++i]=e(t,a,r)}),n}function mn(t){var e=Vr(t);return 1==e.length&&e[0][2]?to(e[0][0],e[0][1]):function(i){return i===t||ln(i,t,e)}}function vn(t,e){return jr(t)&&Qr(e)?to(co(t),e):function(i){var a=el(i,t);return a===r&&a===e?il(i,t):sn(e,a,v|g)}}function gn(t,e,i,a,n){t!==e&&za(e,function(o,s){if(n||(n=new Ia),As(o))!function(t,e,i,a,n,o,s){var l=ao(t,i),h=ao(e,i),u=s.get(h);if(u)Ea(t,i,u);else{var c=o?o(l,h,i+"",t,e,s):r,d=c===r;if(d){var f=Ds(h),p=!f&&Is(h),m=!f&&!p&&ks(h);c=h,f||p||m?Ds(l)?c=l:Ss(l)?c=nr(l):p?(d=!1,c=Zn(h,!0)):m?(d=!1,c=tr(h,!0)):c=[]:Os(h)||Cs(h)?(c=l,Cs(l)?c=zs(l):As(l)&&!ws(l)||(c=Ur(h))):d=!1}d&&(s.set(h,c),n(c,h,a,o,s),s.delete(h)),Ea(t,i,c)}}(t,e,s,i,gn,a,n);else{var l=a?a(ao(t,s),o,s+"",t,e,n):r;l===r&&(l=o),Ea(t,s,l)}},sl)}function Cn(t,e){var i=t.length;if(i)return Kr(e+=e<0?i:0,i)?t[e]:r}function Dn(t,e,i){var a=-1;return e=ti(e=e.length?ti(e,function(t){return Ds(t)?function(e){return Ja(e,1===t.length?t[0]:t)}:t}):[Fl],Ci(Br())),function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(pn(t,function(t,i,n){return{criteria:ti(e,function(e){return e(t)}),index:++a,value:t}}),function(t,e){return function(t,e,i){for(var a=-1,n=t.criteria,r=e.criteria,o=n.length,s=i.length;++a<o;){var l=er(n[a],r[a]);if(l){if(a>=s)return l;var h=i[a];return l*("desc"==h?-1:1)}}return t.index-e.index}(t,e,i)})}function yn(t,e,i){for(var a=-1,n=e.length,r={};++a<n;){var o=e[a],s=Ja(t,o);i(s,o)&&En(r,$n(o,t),s)}return r}function xn(t,e,i,a){var n=a?hi:li,r=-1,o=e.length,s=t;for(t===e&&(e=nr(e)),i&&(s=ti(t,Ci(i)));++r<o;)for(var l=0,h=e[r],u=i?i(h):h;(l=n(s,u,l,a))>-1;)s!==t&&Ne.call(s,l,1),Ne.call(t,l,1);return t}function Sn(t,e){for(var i=t?e.length:0,a=i-1;i--;){var n=e[i];if(i==a||n!==r){var r=n;Kr(n)?Ne.call(t,n,1):Hn(t,n)}}return t}function In(t,e){return t+Hi(qi()*(e-t+1))}function Tn(t,e){var i="";if(!t||e<1||e>N)return i;do{e%2&&(i+=t),(e=Hi(e/2))&&(t+=t)}while(e);return i}function bn(t,e){return oo(eo(t,e,Fl),t+"")}function wn(t){return ba(ml(t))}function Mn(t,e){var i=ml(t);return ho(i,Na(e,0,i.length))}function En(t,e,i,a){if(!As(t))return t;for(var n=-1,o=(e=$n(e,t)).length,s=o-1,l=t;null!=l&&++n<o;){var h=co(e[n]),u=i;if("__proto__"===h||"constructor"===h||"prototype"===h)return t;if(n!=s){var c=l[h];(u=a?a(c,h,l):r)===r&&(u=As(c)?c:Kr(e[n+1])?[]:{})}Aa(l,h,u),l=l[h]}return t}var An=na?function(t,e){return na.set(t,e),t}:Fl,_n=ri?function(t,e){return ri(t,"toString",{configurable:!0,enumerable:!1,value:Al(e),writable:!0})}:Fl;function Ln(t){return ho(ml(t))}function Fn(t,e,i){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(i=i>r?r:i)<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var o=a(r);++n<r;)o[n]=t[n+e];return o}function On(t,e){var i;return Ha(t,function(t,a,n){return!(i=e(t,a,n))}),!!i}function Pn(t,e,i){var a=0,n=null==t?a:t.length;if("number"==typeof e&&e==e&&n<=H){for(;a<n;){var r=a+n>>>1,o=t[r];null!==o&&!Bs(o)&&(i?o<=e:o<e)?a=r+1:n=r}return n}return Nn(t,e,Fl,i)}function Nn(t,e,i,a){var n=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(e=i(e))!=e,l=null===e,h=Bs(e),u=e===r;n<o;){var c=Hi((n+o)/2),d=i(t[c]),f=d!==r,p=null===d,m=d==d,v=Bs(d);if(s)var g=a||m;else g=u?m&&(a||f):l?m&&f&&(a||!p):h?m&&f&&!p&&(a||!v):!p&&!v&&(a?d<=e:d<e);g?n=c+1:o=c}return Ki(o,V)}function Rn(t,e){for(var i=-1,a=t.length,n=0,r=[];++i<a;){var o=t[i],s=e?e(o):o;if(!i||!ms(s,l)){var l=s;r[n++]=0===o?0:o}}return r}function Bn(t){return"number"==typeof t?t:Bs(t)?B:+t}function kn(t){if("string"==typeof t)return t;if(Ds(t))return ti(t,kn)+"";if(Bs(t))return fa?fa.call(t):"";var e=t+"";return"0"==e&&1/t==-P?"-0":e}function Vn(t,e,i){var a=-1,n=Ze,r=t.length,s=!0,l=[],h=l;if(i)s=!1,n=Qe;else if(r>=o){var u=e?null:Tr(t);if(u)return _i(u);s=!1,n=yi,h=new Sa}else h=e?[]:l;t:for(;++a<r;){var c=t[a],d=e?e(c):c;if(c=i||0!==c?c:0,s&&d==d){for(var f=h.length;f--;)if(h[f]===d)continue t;e&&h.push(d),l.push(c)}else n(h,d,i)||(h!==l&&h.push(d),l.push(c))}return l}function Hn(t,e){return null==(t=io(t,e=$n(e,t)))||delete t[co(bo(e))]}function Gn(t,e,i,a){return En(t,e,i(Ja(t,e)),a)}function Yn(t,e,i,a){for(var n=t.length,r=a?n:-1;(a?r--:++r<n)&&e(t[r],r,t););return i?Fn(t,a?0:r,a?r+1:n):Fn(t,a?r+1:0,a?n:r)}function Wn(t,e){var i=t;return i instanceof Ca&&(i=i.value()),ii(e,function(t,e){return e.func.apply(e.thisArg,ei([t],e.args))},i)}function Xn(t,e,i){var n=t.length;if(n<2)return n?Vn(t[0]):[];for(var r=-1,o=a(n);++r<n;)for(var s=t[r],l=-1;++l<n;)l!=r&&(o[r]=Va(o[r]||s,t[l],e,i));return Vn(Ua(o,1),e,i)}function Un(t,e,i){for(var a=-1,n=t.length,o=e.length,s={};++a<n;){var l=a<o?e[a]:r;i(s,t[a],l)}return s}function zn(t){return Ss(t)?t:[]}function Kn(t){return"function"==typeof t?t:Fl}function $n(t,e){return Ds(t)?t:jr(t,e)?[t]:uo(Ks(t))}var jn=bn;function qn(t,e,i){var a=t.length;return i=i===r?a:i,!e&&i>=a?t:Fn(t,e,i)}var Jn=fi||function(t){return Pe.clearTimeout(t)};function Zn(t,e){if(e)return t.slice();var i=t.length,a=Ie?Ie(i):new t.constructor(i);return t.copy(a),a}function Qn(t){var e=new t.constructor(t.byteLength);return new xe(e).set(new xe(t)),e}function tr(t,e){var i=e?Qn(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function er(t,e){if(t!==e){var i=t!==r,a=null===t,n=t==t,o=Bs(t),s=e!==r,l=null===e,h=e==e,u=Bs(e);if(!l&&!u&&!o&&t>e||o&&s&&h&&!l&&!u||a&&s&&h||!i&&h||!n)return 1;if(!a&&!o&&!u&&t<e||u&&i&&n&&!a&&!o||l&&i&&n||!s&&n||!h)return-1}return 0}function ir(t,e,i,n){for(var r=-1,o=t.length,s=i.length,l=-1,h=e.length,u=zi(o-s,0),c=a(h+u),d=!n;++l<h;)c[l]=e[l];for(;++r<s;)(d||r<o)&&(c[i[r]]=t[r]);for(;u--;)c[l++]=t[r++];return c}function ar(t,e,i,n){for(var r=-1,o=t.length,s=-1,l=i.length,h=-1,u=e.length,c=zi(o-l,0),d=a(c+u),f=!n;++r<c;)d[r]=t[r];for(var p=r;++h<u;)d[p+h]=e[h];for(;++s<l;)(f||r<o)&&(d[p+i[s]]=t[r++]);return d}function nr(t,e){var i=-1,n=t.length;for(e||(e=a(n));++i<n;)e[i]=t[i];return e}function rr(t,e,i,a){var n=!i;i||(i={});for(var o=-1,s=e.length;++o<s;){var l=e[o],h=a?a(i[l],t[l],l,i,t):r;h===r&&(h=t[l]),n?Oa(i,l,h):Aa(i,l,h)}return i}function or(t,e){return function(i,a){var n=Ds(i)?Ke:La,r=e?e():{};return n(i,t,Br(a,2),r)}}function sr(t){return bn(function(e,i){var a=-1,n=i.length,o=n>1?i[n-1]:r,s=n>2?i[2]:r;for(o=t.length>3&&"function"==typeof o?(n--,o):r,s&&$r(i[0],i[1],s)&&(o=n<3?r:o,n=1),e=ee(e);++a<n;){var l=i[a];l&&t(e,l,a,o)}return e})}function lr(t,e){return function(i,a){if(null==i)return i;if(!xs(i))return t(i,a);for(var n=i.length,r=e?n:-1,o=ee(i);(e?r--:++r<n)&&!1!==a(o[r],r,o););return i}}function hr(t){return function(e,i,a){for(var n=-1,r=ee(e),o=a(e),s=o.length;s--;){var l=o[t?s:++n];if(!1===i(r[l],l,r))break}return e}}function ur(t){return function(e){var i=wi(e=Ks(e))?Oi(e):r,a=i?i[0]:e.charAt(0),n=i?qn(i,1).join(""):e.slice(1);return a[t]()+n}}function cr(t){return function(e){return ii(wl(Cl(e).replace(De,"")),t,"")}}function dr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=ma(t.prototype),a=t.apply(i,e);return As(a)?a:i}}function fr(t){return function(e,i,a){var n=ee(e);if(!xs(e)){var o=Br(i,3);e=ol(e),i=function(t){return o(n[t],t,n)}}var s=t(e,i,a);return s>-1?n[o?e[s]:s]:r}}function pr(t){return Lr(function(e){var i=e.length,a=i,n=ga.prototype.thru;for(t&&e.reverse();a--;){var o=e[a];if("function"!=typeof o)throw new ne(l);if(n&&!s&&"wrapper"==Nr(o))var s=new ga([],!0)}for(a=s?a:i;++a<i;){var h=Nr(o=e[a]),u="wrapper"==h?Pr(o):r;s=u&&qr(u[0])&&u[1]==(b|x|I|w)&&!u[4].length&&1==u[9]?s[Nr(u[0])].apply(s,u[3]):1==o.length&&qr(o)?s[h]():s.thru(o)}return function(){var t=arguments,a=t[0];if(s&&1==t.length&&Ds(a))return s.plant(a).value();for(var n=0,r=i?e[n].apply(this,t):a;++n<i;)r=e[n].call(this,r);return r}})}function mr(t,e,i,n,o,s,l,h,u,c){var d=e&b,f=e&C,p=e&D,m=e&(x|S),v=e&M,g=p?r:dr(t);return function C(){for(var D=arguments.length,y=a(D),x=D;x--;)y[x]=arguments[x];if(m)var S=Rr(C),I=function(t,e){for(var i=t.length,a=0;i--;)t[i]===e&&++a;return a}(y,S);if(n&&(y=ir(y,n,o,m)),s&&(y=ar(y,s,l,m)),D-=I,m&&D<c){var T=Ai(y,S);return Sr(t,e,mr,C.placeholder,i,y,T,h,u,c-D)}var b=f?i:this,w=p?b[t]:t;return D=y.length,h?y=function(t,e){for(var i=t.length,a=Ki(e.length,i),n=nr(t);a--;){var o=e[a];t[a]=Kr(o,i)?n[o]:r}return t}(y,h):v&&D>1&&y.reverse(),d&&u<D&&(y.length=u),this&&this!==Pe&&this instanceof C&&(w=g||dr(w)),w.apply(b,y)}}function vr(t,e){return function(i,a){return function(t,e,i,a){return $a(t,function(t,n,r){e(a,i(t),n,r)}),a}(i,t,e(a),{})}}function gr(t,e){return function(i,a){var n;if(i===r&&a===r)return e;if(i!==r&&(n=i),a!==r){if(n===r)return a;"string"==typeof i||"string"==typeof a?(i=kn(i),a=kn(a)):(i=Bn(i),a=Bn(a)),n=t(i,a)}return n}}function Cr(t){return Lr(function(e){return e=ti(e,Ci(Br())),bn(function(i){var a=this;return t(e,function(t){return ze(t,a,i)})})})}function Dr(t,e){var i=(e=e===r?" ":kn(e)).length;if(i<2)return i?Tn(e,t):e;var a=Tn(e,Vi(t/Fi(e)));return wi(e)?qn(Oi(a),0,t).join(""):a.slice(0,t)}function yr(t){return function(e,i,n){return n&&"number"!=typeof n&&$r(e,i,n)&&(i=n=r),e=Ys(e),i===r?(i=e,e=0):i=Ys(i),function(t,e,i,n){for(var r=-1,o=zi(Vi((e-t)/(i||1)),0),s=a(o);o--;)s[n?o:++r]=t,t+=i;return s}(e,i,n=n===r?e<i?1:-1:Ys(n),t)}}function xr(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=Us(e),i=Us(i)),t(e,i)}}function Sr(t,e,i,a,n,o,s,l,h,u){var c=e&x;e|=c?I:T,(e&=~(c?T:I))&y||(e&=~(C|D));var d=[t,e,n,c?o:r,c?s:r,c?r:o,c?r:s,l,h,u],f=i.apply(r,d);return qr(t)&&no(f,d),f.placeholder=a,so(f,t,e)}function Ir(t){var e=te[t];return function(t,i){if(t=Us(t),(i=null==i?0:Ki(Ws(i),292))&&Wi(t)){var a=(Ks(t)+"e").split("e");return+((a=(Ks(e(a[0]+"e"+(+a[1]+i)))+"e").split("e"))[0]+"e"+(+a[1]-i))}return e(t)}}var Tr=ea&&1/_i(new ea([,-0]))[1]==P?function(t){return new ea(t)}:Bl;function br(t){return function(e){var i=Wr(e);return i==J?Mi(e):i==at?Li(e):function(t,e){return ti(e,function(e){return[e,t[e]]})}(e,t(e))}}function wr(t,e,i,n,o,s,h,u){var c=e&D;if(!c&&"function"!=typeof t)throw new ne(l);var f=n?n.length:0;if(f||(e&=~(I|T),n=o=r),h=h===r?h:zi(Ws(h),0),u=u===r?u:Ws(u),f-=o?o.length:0,e&T){var p=n,m=o;n=o=r}var v=c?r:Pr(t),g=[t,e,i,n,o,p,m,s,h,u];if(v&&function(t,e){var i=t[1],a=e[1],n=i|a,r=n<(C|D|b),o=a==b&&i==x||a==b&&i==w&&t[7].length<=e[8]||a==(b|w)&&e[7].length<=e[8]&&i==x;if(!r&&!o)return t;a&C&&(t[2]=e[2],n|=i&C?0:y);var s=e[3];if(s){var l=t[3];t[3]=l?ir(l,s,e[4]):s,t[4]=l?Ai(t[3],d):e[4]}(s=e[5])&&(l=t[5],t[5]=l?ar(l,s,e[6]):s,t[6]=l?Ai(t[5],d):e[6]),(s=e[7])&&(t[7]=s),a&b&&(t[8]=null==t[8]?e[8]:Ki(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=n}(g,v),t=g[0],e=g[1],i=g[2],n=g[3],o=g[4],!(u=g[9]=g[9]===r?c?0:t.length:zi(g[9]-f,0))&&e&(x|S)&&(e&=~(x|S)),e&&e!=C)M=e==x||e==S?function(t,e,i){var n=dr(t);return function o(){for(var s=arguments.length,l=a(s),h=s,u=Rr(o);h--;)l[h]=arguments[h];var c=s<3&&l[0]!==u&&l[s-1]!==u?[]:Ai(l,u);return(s-=c.length)<i?Sr(t,e,mr,o.placeholder,r,l,c,r,r,i-s):ze(this&&this!==Pe&&this instanceof o?n:t,this,l)}}(t,e,u):e!=I&&e!=(C|I)||o.length?mr.apply(r,g):function(t,e,i,n){var r=e&C,o=dr(t);return function e(){for(var s=-1,l=arguments.length,h=-1,u=n.length,c=a(u+l),d=this&&this!==Pe&&this instanceof e?o:t;++h<u;)c[h]=n[h];for(;l--;)c[h++]=arguments[++s];return ze(d,r?i:this,c)}}(t,e,i,n);else var M=function(t,e,i){var a=e&C,n=dr(t);return function e(){return(this&&this!==Pe&&this instanceof e?n:t).apply(a?i:this,arguments)}}(t,e,i);return so((v?An:no)(M,g),t,e)}function Mr(t,e,i,a){return t===r||ms(t,se[i])&&!ue.call(a,i)?e:t}function Er(t,e,i,a,n,o){return As(t)&&As(e)&&(o.set(e,t),gn(t,e,r,Er,o),o.delete(e)),t}function Ar(t){return Os(t)?r:t}function _r(t,e,i,a,n,o){var s=i&v,l=t.length,h=e.length;if(l!=h&&!(s&&h>l))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,p=i&g?new Sa:r;for(o.set(t,e),o.set(e,t);++d<l;){var m=t[d],C=e[d];if(a)var D=s?a(C,m,d,e,t,o):a(m,C,d,t,e,o);if(D!==r){if(D)continue;f=!1;break}if(p){if(!ni(e,function(t,e){if(!yi(p,e)&&(m===t||n(m,t,i,a,o)))return p.push(e)})){f=!1;break}}else if(m!==C&&!n(m,C,i,a,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Lr(t){return oo(eo(t,r,yo),t+"")}function Fr(t){return Za(t,ol,Gr)}function Or(t){return Za(t,sl,Yr)}var Pr=na?function(t){return na.get(t)}:Bl;function Nr(t){for(var e=t.name+"",i=ra[e],a=ue.call(ra,e)?i.length:0;a--;){var n=i[a],r=n.func;if(null==r||r==t)return n.name}return e}function Rr(t){return(ue.call(pa,"placeholder")?pa:t).placeholder}function Br(){var t=pa.iteratee||Ol;return t=t===Ol?un:t,arguments.length?t(arguments[0],arguments[1]):t}function kr(t,e){var i,a,n=t.__data__;return("string"==(a=typeof(i=e))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==i:null===i)?n["string"==typeof e?"string":"hash"]:n.map}function Vr(t){for(var e=ol(t),i=e.length;i--;){var a=e[i],n=t[a];e[i]=[a,n,Qr(n)]}return e}function Hr(t,e){var i=function(t,e){return null==t?r:t[e]}(t,e);return hn(i)?i:r}var Gr=Gi?function(t){return null==t?[]:(t=ee(t),Je(Gi(t),function(e){return Oe.call(t,e)}))}:Xl,Yr=Gi?function(t){for(var e=[];t;)ei(e,Gr(t)),t=Ae(t);return e}:Xl,Wr=Qa;function Xr(t,e,i){for(var a=-1,n=(e=$n(e,t)).length,r=!1;++a<n;){var o=co(e[a]);if(!(r=null!=t&&i(t,o)))break;t=t[o]}return r||++a!=n?r:!!(n=null==t?0:t.length)&&Es(n)&&Kr(o,n)&&(Ds(t)||Cs(t))}function Ur(t){return"function"!=typeof t.constructor||Zr(t)?{}:ma(Ae(t))}function zr(t){return Ds(t)||Cs(t)||!!(Re&&t&&t[Re])}function Kr(t,e){var i=typeof t;return!!(e=null==e?N:e)&&("number"==i||"symbol"!=i&&jt.test(t))&&t>-1&&t%1==0&&t<e}function $r(t,e,i){if(!As(i))return!1;var a=typeof e;return!!("number"==a?xs(i)&&Kr(e,i.length):"string"==a&&e in i)&&ms(i[e],t)}function jr(t,e){if(Ds(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!Bs(t))||Lt.test(t)||!_t.test(t)||null!=e&&t in ee(e)}function qr(t){var e=Nr(t),i=pa[e];if("function"!=typeof i||!(e in Ca.prototype))return!1;if(t===i)return!0;var a=Pr(i);return!!a&&t===a[0]}(Zi&&Wr(new Zi(new ArrayBuffer(1)))!=ut||Qi&&Wr(new Qi)!=J||ta&&"[object Promise]"!=Wr(ta.resolve())||ea&&Wr(new ea)!=at||ia&&Wr(new ia)!=st)&&(Wr=function(t){var e=Qa(t),i=e==tt?t.constructor:r,a=i?fo(i):"";if(a)switch(a){case oa:return ut;case sa:return J;case la:return"[object Promise]";case ha:return at;case ua:return st}return e});var Jr=le?ws:Ul;function Zr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function Qr(t){return t==t&&!As(t)}function to(t,e){return function(i){return null!=i&&i[t]===e&&(e!==r||t in ee(i))}}function eo(t,e,i){return e=zi(e===r?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=zi(n.length-e,0),s=a(o);++r<o;)s[r]=n[e+r];r=-1;for(var l=a(e+1);++r<e;)l[r]=n[r];return l[e]=i(s),ze(t,this,l)}}function io(t,e){return e.length<2?t:Ja(t,Fn(e,0,-1))}function ao(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var no=lo(An),ro=ki||function(t,e){return Pe.setTimeout(t,e)},oo=lo(_n);function so(t,e,i){var a=e+"";return oo(t,function(t,e){var i=e.length;if(!i)return t;var a=i-1;return e[a]=(i>1?"& ":"")+e[a],e=e.join(i>2?", ":" "),t.replace(Bt,"{\n/* [wrapped with "+e+"] */\n")}(a,function(t,e){return $e(G,function(i){var a="_."+i[0];e&i[1]&&!Ze(t,a)&&t.push(a)}),t.sort()}(function(t){var e=t.match(kt);return e?e[1].split(Vt):[]}(a),i)))}function lo(t){var e=0,i=0;return function(){var a=$i(),n=L-(a-i);if(i=a,n>0){if(++e>=_)return arguments[0]}else e=0;return t.apply(r,arguments)}}function ho(t,e){var i=-1,a=t.length,n=a-1;for(e=e===r?a:e;++i<e;){var o=In(i,n),s=t[o];t[o]=t[i],t[i]=s}return t.length=e,t}var uo=function(t){var e=hs(t,function(t){return i.size===c&&i.clear(),t}),i=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ft,function(t,i,a,n){e.push(a?n.replace(Yt,"$1"):i||t)}),e});function co(t){if("string"==typeof t||Bs(t))return t;var e=t+"";return"0"==e&&1/t==-P?"-0":e}function fo(t){if(null!=t){try{return he.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function po(t){if(t instanceof Ca)return t.clone();var e=new ga(t.__wrapped__,t.__chain__);return e.__actions__=nr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var mo=bn(function(t,e){return Ss(t)?Va(t,Ua(e,1,Ss,!0)):[]}),vo=bn(function(t,e){var i=bo(e);return Ss(i)&&(i=r),Ss(t)?Va(t,Ua(e,1,Ss,!0),Br(i,2)):[]}),go=bn(function(t,e){var i=bo(e);return Ss(i)&&(i=r),Ss(t)?Va(t,Ua(e,1,Ss,!0),r,i):[]});function Co(t,e,i){var a=null==t?0:t.length;if(!a)return-1;var n=null==i?0:Ws(i);return n<0&&(n=zi(a+n,0)),si(t,Br(e,3),n)}function Do(t,e,i){var a=null==t?0:t.length;if(!a)return-1;var n=a-1;return i!==r&&(n=Ws(i),n=i<0?zi(a+n,0):Ki(n,a-1)),si(t,Br(e,3),n,!0)}function yo(t){return null!=t&&t.length?Ua(t,1):[]}function xo(t){return t&&t.length?t[0]:r}var So=bn(function(t){var e=ti(t,zn);return e.length&&e[0]===t[0]?nn(e):[]}),Io=bn(function(t){var e=bo(t),i=ti(t,zn);return e===bo(i)?e=r:i.pop(),i.length&&i[0]===t[0]?nn(i,Br(e,2)):[]}),To=bn(function(t){var e=bo(t),i=ti(t,zn);return(e="function"==typeof e?e:r)&&i.pop(),i.length&&i[0]===t[0]?nn(i,r,e):[]});function bo(t){var e=null==t?0:t.length;return e?t[e-1]:r}var wo=bn(Mo);function Mo(t,e){return t&&t.length&&e&&e.length?xn(t,e):t}var Eo=Lr(function(t,e){var i=null==t?0:t.length,a=Pa(t,e);return Sn(t,ti(e,function(t){return Kr(t,i)?+t:t}).sort(er)),a});function Ao(t){return null==t?t:Ji.call(t)}var _o=bn(function(t){return Vn(Ua(t,1,Ss,!0))}),Lo=bn(function(t){var e=bo(t);return Ss(e)&&(e=r),Vn(Ua(t,1,Ss,!0),Br(e,2))}),Fo=bn(function(t){var e=bo(t);return e="function"==typeof e?e:r,Vn(Ua(t,1,Ss,!0),r,e)});function Oo(t){if(!t||!t.length)return[];var e=0;return t=Je(t,function(t){if(Ss(t))return e=zi(t.length,e),!0}),vi(e,function(e){return ti(t,di(e))})}function Po(t,e){if(!t||!t.length)return[];var i=Oo(t);return null==e?i:ti(i,function(t){return ze(e,r,t)})}var No=bn(function(t,e){return Ss(t)?Va(t,e):[]}),Ro=bn(function(t){return Xn(Je(t,Ss))}),Bo=bn(function(t){var e=bo(t);return Ss(e)&&(e=r),Xn(Je(t,Ss),Br(e,2))}),ko=bn(function(t){var e=bo(t);return e="function"==typeof e?e:r,Xn(Je(t,Ss),r,e)}),Vo=bn(Oo);var Ho=bn(function(t){var e=t.length,i=e>1?t[e-1]:r;return Po(t,i="function"==typeof i?(t.pop(),i):r)});function Go(t){var e=pa(t);return e.__chain__=!0,e}function Yo(t,e){return e(t)}var Wo=Lr(function(t){var e=t.length,i=e?t[0]:0,a=this.__wrapped__,n=function(e){return Pa(e,t)};return!(e>1||this.__actions__.length)&&a instanceof Ca&&Kr(i)?((a=a.slice(i,+i+(e?1:0))).__actions__.push({func:Yo,args:[n],thisArg:r}),new ga(a,this.__chain__).thru(function(t){return e&&!t.length&&t.push(r),t})):this.thru(n)});var Xo=or(function(t,e,i){ue.call(t,i)?++t[i]:Oa(t,i,1)});var Uo=fr(Co),zo=fr(Do);function Ko(t,e){return(Ds(t)?$e:Ha)(t,Br(e,3))}function $o(t,e){return(Ds(t)?je:Ga)(t,Br(e,3))}var jo=or(function(t,e,i){ue.call(t,i)?t[i].push(e):Oa(t,i,[e])});var qo=bn(function(t,e,i){var n=-1,r="function"==typeof e,o=xs(t)?a(t.length):[];return Ha(t,function(t){o[++n]=r?ze(e,t,i):rn(t,e,i)}),o}),Jo=or(function(t,e,i){Oa(t,i,e)});function Zo(t,e){return(Ds(t)?ti:pn)(t,Br(e,3))}var Qo=or(function(t,e,i){t[i?0:1].push(e)},function(){return[[],[]]});var ts=bn(function(t,e){if(null==t)return[];var i=e.length;return i>1&&$r(t,e[0],e[1])?e=[]:i>2&&$r(e[0],e[1],e[2])&&(e=[e[0]]),Dn(t,Ua(e,1),[])}),es=Bi||function(){return Pe.Date.now()};function is(t,e,i){return e=i?r:e,e=t&&null==e?t.length:e,wr(t,b,r,r,r,r,e)}function as(t,e){var i;if("function"!=typeof e)throw new ne(l);return t=Ws(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=r),i}}var ns=bn(function(t,e,i){var a=C;if(i.length){var n=Ai(i,Rr(ns));a|=I}return wr(t,a,e,i,n)}),rs=bn(function(t,e,i){var a=C|D;if(i.length){var n=Ai(i,Rr(rs));a|=I}return wr(e,a,t,i,n)});function os(t,e,i){var a,n,o,s,h,u,c=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new ne(l);function m(e){var i=a,o=n;return a=n=r,c=e,s=t.apply(o,i)}function v(t){var i=t-u;return u===r||i>=e||i<0||f&&t-c>=o}function g(){var t=es();if(v(t))return C(t);h=ro(g,function(t){var i=e-(t-u);return f?Ki(i,o-(t-c)):i}(t))}function C(t){return h=r,p&&a?m(t):(a=n=r,s)}function D(){var t=es(),i=v(t);if(a=arguments,n=this,u=t,i){if(h===r)return function(t){return c=t,h=ro(g,e),d?m(t):s}(u);if(f)return Jn(h),h=ro(g,e),m(u)}return h===r&&(h=ro(g,e)),s}return e=Us(e)||0,As(i)&&(d=!!i.leading,o=(f="maxWait"in i)?zi(Us(i.maxWait)||0,e):o,p="trailing"in i?!!i.trailing:p),D.cancel=function(){h!==r&&Jn(h),c=0,a=u=n=h=r},D.flush=function(){return h===r?s:C(es())},D}var ss=bn(function(t,e){return ka(t,1,e)}),ls=bn(function(t,e,i){return ka(t,Us(e)||0,i)});function hs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ne(l);var i=function(){var a=arguments,n=e?e.apply(this,a):a[0],r=i.cache;if(r.has(n))return r.get(n);var o=t.apply(this,a);return i.cache=r.set(n,o)||r,o};return i.cache=new(hs.Cache||xa),i}function us(t){if("function"!=typeof t)throw new ne(l);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}hs.Cache=xa;var cs=jn(function(t,e){var i=(e=1==e.length&&Ds(e[0])?ti(e[0],Ci(Br())):ti(Ua(e,1),Ci(Br()))).length;return bn(function(a){for(var n=-1,r=Ki(a.length,i);++n<r;)a[n]=e[n].call(this,a[n]);return ze(t,this,a)})}),ds=bn(function(t,e){var i=Ai(e,Rr(ds));return wr(t,I,r,e,i)}),fs=bn(function(t,e){var i=Ai(e,Rr(fs));return wr(t,T,r,e,i)}),ps=Lr(function(t,e){return wr(t,w,r,r,r,e)});function ms(t,e){return t===e||t!=t&&e!=e}var vs=xr(tn),gs=xr(function(t,e){return t>=e}),Cs=on(function(){return arguments}())?on:function(t){return _s(t)&&ue.call(t,"callee")&&!Oe.call(t,"callee")},Ds=a.isArray,ys=He?Ci(He):function(t){return _s(t)&&Qa(t)==ht};function xs(t){return null!=t&&Es(t.length)&&!ws(t)}function Ss(t){return _s(t)&&xs(t)}var Is=Yi||Ul,Ts=Ge?Ci(Ge):function(t){return _s(t)&&Qa(t)==z};function bs(t){if(!_s(t))return!1;var e=Qa(t);return e==$||e==K||"string"==typeof t.message&&"string"==typeof t.name&&!Os(t)}function ws(t){if(!As(t))return!1;var e=Qa(t);return e==j||e==q||e==X||e==et}function Ms(t){return"number"==typeof t&&t==Ws(t)}function Es(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=N}function As(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function _s(t){return null!=t&&"object"==typeof t}var Ls=Ye?Ci(Ye):function(t){return _s(t)&&Wr(t)==J};function Fs(t){return"number"==typeof t||_s(t)&&Qa(t)==Z}function Os(t){if(!_s(t)||Qa(t)!=tt)return!1;var e=Ae(t);if(null===e)return!0;var i=ue.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&he.call(i)==pe}var Ps=We?Ci(We):function(t){return _s(t)&&Qa(t)==it};var Ns=Xe?Ci(Xe):function(t){return _s(t)&&Wr(t)==at};function Rs(t){return"string"==typeof t||!Ds(t)&&_s(t)&&Qa(t)==nt}function Bs(t){return"symbol"==typeof t||_s(t)&&Qa(t)==rt}var ks=Ue?Ci(Ue):function(t){return _s(t)&&Es(t.length)&&!!Me[Qa(t)]};var Vs=xr(fn),Hs=xr(function(t,e){return t<=e});function Gs(t){if(!t)return[];if(xs(t))return Rs(t)?Oi(t):nr(t);if(ke&&t[ke])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[ke]());var e=Wr(t);return(e==J?Mi:e==at?_i:ml)(t)}function Ys(t){return t?(t=Us(t))===P||t===-P?(t<0?-1:1)*R:t==t?t:0:0===t?t:0}function Ws(t){var e=Ys(t),i=e%1;return e==e?i?e-i:e:0}function Xs(t){return t?Na(Ws(t),0,k):0}function Us(t){if("number"==typeof t)return t;if(Bs(t))return B;if(As(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=As(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=gi(t);var i=zt.test(t);return i||$t.test(t)?Le(t.slice(2),i?2:8):Ut.test(t)?B:+t}function zs(t){return rr(t,sl(t))}function Ks(t){return null==t?"":kn(t)}var $s=sr(function(t,e){if(Zr(e)||xs(e))rr(e,ol(e),t);else for(var i in e)ue.call(e,i)&&Aa(t,i,e[i])}),js=sr(function(t,e){rr(e,sl(e),t)}),qs=sr(function(t,e,i,a){rr(e,sl(e),t,a)}),Js=sr(function(t,e,i,a){rr(e,ol(e),t,a)}),Zs=Lr(Pa);var Qs=bn(function(t,e){t=ee(t);var i=-1,a=e.length,n=a>2?e[2]:r;for(n&&$r(e[0],e[1],n)&&(a=1);++i<a;)for(var o=e[i],s=sl(o),l=-1,h=s.length;++l<h;){var u=s[l],c=t[u];(c===r||ms(c,se[u])&&!ue.call(t,u))&&(t[u]=o[u])}return t}),tl=bn(function(t){return t.push(r,Er),ze(hl,r,t)});function el(t,e,i){var a=null==t?r:Ja(t,e);return a===r?i:a}function il(t,e){return null!=t&&Xr(t,e,an)}var al=vr(function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),t[e]=i},Al(Fl)),nl=vr(function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),ue.call(t,e)?t[e].push(i):t[e]=[i]},Br),rl=bn(rn);function ol(t){return xs(t)?Ta(t):cn(t)}function sl(t){return xs(t)?Ta(t,!0):dn(t)}var ll=sr(function(t,e,i){gn(t,e,i)}),hl=sr(function(t,e,i,a){gn(t,e,i,a)}),ul=Lr(function(t,e){var i={};if(null==t)return i;var a=!1;e=ti(e,function(e){return e=$n(e,t),a||(a=e.length>1),e}),rr(t,Or(t),i),a&&(i=Ra(i,f|p|m,Ar));for(var n=e.length;n--;)Hn(i,e[n]);return i});var cl=Lr(function(t,e){return null==t?{}:function(t,e){return yn(t,e,function(e,i){return il(t,i)})}(t,e)});function dl(t,e){if(null==t)return{};var i=ti(Or(t),function(t){return[t]});return e=Br(e),yn(t,i,function(t,i){return e(t,i[0])})}var fl=br(ol),pl=br(sl);function ml(t){return null==t?[]:Di(t,ol(t))}var vl=cr(function(t,e,i){return e=e.toLowerCase(),t+(i?gl(e):e)});function gl(t){return bl(Ks(t).toLowerCase())}function Cl(t){return(t=Ks(t))&&t.replace(qt,Ii).replace(ye,"")}var Dl=cr(function(t,e,i){return t+(i?"-":"")+e.toLowerCase()}),yl=cr(function(t,e,i){return t+(i?" ":"")+e.toLowerCase()}),xl=ur("toLowerCase");var Sl=cr(function(t,e,i){return t+(i?"_":"")+e.toLowerCase()});var Il=cr(function(t,e,i){return t+(i?" ":"")+bl(e)});var Tl=cr(function(t,e,i){return t+(i?" ":"")+e.toUpperCase()}),bl=ur("toUpperCase");function wl(t,e,i){return t=Ks(t),(e=i?r:e)===r?function(t){return Te.test(t)}(t)?function(t){return t.match(Se)||[]}(t):function(t){return t.match(Ht)||[]}(t):t.match(e)||[]}var Ml=bn(function(t,e){try{return ze(t,r,e)}catch(t){return bs(t)?t:new Rt(t)}}),El=Lr(function(t,e){return $e(e,function(e){e=co(e),Oa(t,e,ns(t[e],t))}),t});function Al(t){return function(){return t}}var _l=pr(),Ll=pr(!0);function Fl(t){return t}function Ol(t){return un("function"==typeof t?t:Ra(t,f))}var Pl=bn(function(t,e){return function(i){return rn(i,t,e)}}),Nl=bn(function(t,e){return function(i){return rn(t,i,e)}});function Rl(t,e,i){var a=ol(e),n=qa(e,a);null!=i||As(e)&&(n.length||!a.length)||(i=e,e=t,t=this,n=qa(e,ol(e)));var r=!(As(i)&&"chain"in i&&!i.chain),o=ws(t);return $e(n,function(i){var a=e[i];t[i]=a,o&&(t.prototype[i]=function(){var e=this.__chain__;if(r||e){var i=t(this.__wrapped__);return(i.__actions__=nr(this.__actions__)).push({func:a,args:arguments,thisArg:t}),i.__chain__=e,i}return a.apply(t,ei([this.value()],arguments))})}),t}function Bl(){}var kl=Cr(ti),Vl=Cr(qe),Hl=Cr(ni);function Gl(t){return jr(t)?di(co(t)):function(t){return function(e){return Ja(e,t)}}(t)}var Yl=yr(),Wl=yr(!0);function Xl(){return[]}function Ul(){return!1}var zl=gr(function(t,e){return t+e},0),Kl=Ir("ceil"),$l=gr(function(t,e){return t/e},1),jl=Ir("floor");var ql,Jl=gr(function(t,e){return t*e},1),Zl=Ir("round"),Ql=gr(function(t,e){return t-e},0);return pa.after=function(t,e){if("function"!=typeof e)throw new ne(l);return t=Ws(t),function(){if(--t<1)return e.apply(this,arguments)}},pa.ary=is,pa.assign=$s,pa.assignIn=js,pa.assignInWith=qs,pa.assignWith=Js,pa.at=Zs,pa.before=as,pa.bind=ns,pa.bindAll=El,pa.bindKey=rs,pa.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ds(t)?t:[t]},pa.chain=Go,pa.chunk=function(t,e,i){e=(i?$r(t,e,i):e===r)?1:zi(Ws(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var o=0,s=0,l=a(Vi(n/e));o<n;)l[s++]=Fn(t,o,o+=e);return l},pa.compact=function(t){for(var e=-1,i=null==t?0:t.length,a=0,n=[];++e<i;){var r=t[e];r&&(n[a++]=r)}return n},pa.concat=function(){var t=arguments.length;if(!t)return[];for(var e=a(t-1),i=arguments[0],n=t;n--;)e[n-1]=arguments[n];return ei(Ds(i)?nr(i):[i],Ua(e,1))},pa.cond=function(t){var e=null==t?0:t.length,i=Br();return t=e?ti(t,function(t){if("function"!=typeof t[1])throw new ne(l);return[i(t[0]),t[1]]}):[],bn(function(i){for(var a=-1;++a<e;){var n=t[a];if(ze(n[0],this,i))return ze(n[1],this,i)}})},pa.conforms=function(t){return function(t){var e=ol(t);return function(i){return Ba(i,t,e)}}(Ra(t,f))},pa.constant=Al,pa.countBy=Xo,pa.create=function(t,e){var i=ma(t);return null==e?i:Fa(i,e)},pa.curry=function t(e,i,a){var n=wr(e,x,r,r,r,r,r,i=a?r:i);return n.placeholder=t.placeholder,n},pa.curryRight=function t(e,i,a){var n=wr(e,S,r,r,r,r,r,i=a?r:i);return n.placeholder=t.placeholder,n},pa.debounce=os,pa.defaults=Qs,pa.defaultsDeep=tl,pa.defer=ss,pa.delay=ls,pa.difference=mo,pa.differenceBy=vo,pa.differenceWith=go,pa.drop=function(t,e,i){var a=null==t?0:t.length;return a?Fn(t,(e=i||e===r?1:Ws(e))<0?0:e,a):[]},pa.dropRight=function(t,e,i){var a=null==t?0:t.length;return a?Fn(t,0,(e=a-(e=i||e===r?1:Ws(e)))<0?0:e):[]},pa.dropRightWhile=function(t,e){return t&&t.length?Yn(t,Br(e,3),!0,!0):[]},pa.dropWhile=function(t,e){return t&&t.length?Yn(t,Br(e,3),!0):[]},pa.fill=function(t,e,i,a){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&$r(t,e,i)&&(i=0,a=n),function(t,e,i,a){var n=t.length;for((i=Ws(i))<0&&(i=-i>n?0:n+i),(a=a===r||a>n?n:Ws(a))<0&&(a+=n),a=i>a?0:Xs(a);i<a;)t[i++]=e;return t}(t,e,i,a)):[]},pa.filter=function(t,e){return(Ds(t)?Je:Xa)(t,Br(e,3))},pa.flatMap=function(t,e){return Ua(Zo(t,e),1)},pa.flatMapDeep=function(t,e){return Ua(Zo(t,e),P)},pa.flatMapDepth=function(t,e,i){return i=i===r?1:Ws(i),Ua(Zo(t,e),i)},pa.flatten=yo,pa.flattenDeep=function(t){return null!=t&&t.length?Ua(t,P):[]},pa.flattenDepth=function(t,e){return null!=t&&t.length?Ua(t,e=e===r?1:Ws(e)):[]},pa.flip=function(t){return wr(t,M)},pa.flow=_l,pa.flowRight=Ll,pa.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,a={};++e<i;){var n=t[e];a[n[0]]=n[1]}return a},pa.functions=function(t){return null==t?[]:qa(t,ol(t))},pa.functionsIn=function(t){return null==t?[]:qa(t,sl(t))},pa.groupBy=jo,pa.initial=function(t){return null!=t&&t.length?Fn(t,0,-1):[]},pa.intersection=So,pa.intersectionBy=Io,pa.intersectionWith=To,pa.invert=al,pa.invertBy=nl,pa.invokeMap=qo,pa.iteratee=Ol,pa.keyBy=Jo,pa.keys=ol,pa.keysIn=sl,pa.map=Zo,pa.mapKeys=function(t,e){var i={};return e=Br(e,3),$a(t,function(t,a,n){Oa(i,e(t,a,n),t)}),i},pa.mapValues=function(t,e){var i={};return e=Br(e,3),$a(t,function(t,a,n){Oa(i,a,e(t,a,n))}),i},pa.matches=function(t){return mn(Ra(t,f))},pa.matchesProperty=function(t,e){return vn(t,Ra(e,f))},pa.memoize=hs,pa.merge=ll,pa.mergeWith=hl,pa.method=Pl,pa.methodOf=Nl,pa.mixin=Rl,pa.negate=us,pa.nthArg=function(t){return t=Ws(t),bn(function(e){return Cn(e,t)})},pa.omit=ul,pa.omitBy=function(t,e){return dl(t,us(Br(e)))},pa.once=function(t){return as(2,t)},pa.orderBy=function(t,e,i,a){return null==t?[]:(Ds(e)||(e=null==e?[]:[e]),Ds(i=a?r:i)||(i=null==i?[]:[i]),Dn(t,e,i))},pa.over=kl,pa.overArgs=cs,pa.overEvery=Vl,pa.overSome=Hl,pa.partial=ds,pa.partialRight=fs,pa.partition=Qo,pa.pick=cl,pa.pickBy=dl,pa.property=Gl,pa.propertyOf=function(t){return function(e){return null==t?r:Ja(t,e)}},pa.pull=wo,pa.pullAll=Mo,pa.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?xn(t,e,Br(i,2)):t},pa.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?xn(t,e,r,i):t},pa.pullAt=Eo,pa.range=Yl,pa.rangeRight=Wl,pa.rearg=ps,pa.reject=function(t,e){return(Ds(t)?Je:Xa)(t,us(Br(e,3)))},pa.remove=function(t,e){var i=[];if(!t||!t.length)return i;var a=-1,n=[],r=t.length;for(e=Br(e,3);++a<r;){var o=t[a];e(o,a,t)&&(i.push(o),n.push(a))}return Sn(t,n),i},pa.rest=function(t,e){if("function"!=typeof t)throw new ne(l);return bn(t,e=e===r?e:Ws(e))},pa.reverse=Ao,pa.sampleSize=function(t,e,i){return e=(i?$r(t,e,i):e===r)?1:Ws(e),(Ds(t)?wa:Mn)(t,e)},pa.set=function(t,e,i){return null==t?t:En(t,e,i)},pa.setWith=function(t,e,i,a){return a="function"==typeof a?a:r,null==t?t:En(t,e,i,a)},pa.shuffle=function(t){return(Ds(t)?Ma:Ln)(t)},pa.slice=function(t,e,i){var a=null==t?0:t.length;return a?(i&&"number"!=typeof i&&$r(t,e,i)?(e=0,i=a):(e=null==e?0:Ws(e),i=i===r?a:Ws(i)),Fn(t,e,i)):[]},pa.sortBy=ts,pa.sortedUniq=function(t){return t&&t.length?Rn(t):[]},pa.sortedUniqBy=function(t,e){return t&&t.length?Rn(t,Br(e,2)):[]},pa.split=function(t,e,i){return i&&"number"!=typeof i&&$r(t,e,i)&&(e=i=r),(i=i===r?k:i>>>0)?(t=Ks(t))&&("string"==typeof e||null!=e&&!Ps(e))&&!(e=kn(e))&&wi(t)?qn(Oi(t),0,i):t.split(e,i):[]},pa.spread=function(t,e){if("function"!=typeof t)throw new ne(l);return e=null==e?0:zi(Ws(e),0),bn(function(i){var a=i[e],n=qn(i,0,e);return a&&ei(n,a),ze(t,this,n)})},pa.tail=function(t){var e=null==t?0:t.length;return e?Fn(t,1,e):[]},pa.take=function(t,e,i){return t&&t.length?Fn(t,0,(e=i||e===r?1:Ws(e))<0?0:e):[]},pa.takeRight=function(t,e,i){var a=null==t?0:t.length;return a?Fn(t,(e=a-(e=i||e===r?1:Ws(e)))<0?0:e,a):[]},pa.takeRightWhile=function(t,e){return t&&t.length?Yn(t,Br(e,3),!1,!0):[]},pa.takeWhile=function(t,e){return t&&t.length?Yn(t,Br(e,3)):[]},pa.tap=function(t,e){return e(t),t},pa.throttle=function(t,e,i){var a=!0,n=!0;if("function"!=typeof t)throw new ne(l);return As(i)&&(a="leading"in i?!!i.leading:a,n="trailing"in i?!!i.trailing:n),os(t,e,{leading:a,maxWait:e,trailing:n})},pa.thru=Yo,pa.toArray=Gs,pa.toPairs=fl,pa.toPairsIn=pl,pa.toPath=function(t){return Ds(t)?ti(t,co):Bs(t)?[t]:nr(uo(Ks(t)))},pa.toPlainObject=zs,pa.transform=function(t,e,i){var a=Ds(t),n=a||Is(t)||ks(t);if(e=Br(e,4),null==i){var r=t&&t.constructor;i=n?a?new r:[]:As(t)&&ws(r)?ma(Ae(t)):{}}return(n?$e:$a)(t,function(t,a,n){return e(i,t,a,n)}),i},pa.unary=function(t){return is(t,1)},pa.union=_o,pa.unionBy=Lo,pa.unionWith=Fo,pa.uniq=function(t){return t&&t.length?Vn(t):[]},pa.uniqBy=function(t,e){return t&&t.length?Vn(t,Br(e,2)):[]},pa.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?Vn(t,r,e):[]},pa.unset=function(t,e){return null==t||Hn(t,e)},pa.unzip=Oo,pa.unzipWith=Po,pa.update=function(t,e,i){return null==t?t:Gn(t,e,Kn(i))},pa.updateWith=function(t,e,i,a){return a="function"==typeof a?a:r,null==t?t:Gn(t,e,Kn(i),a)},pa.values=ml,pa.valuesIn=function(t){return null==t?[]:Di(t,sl(t))},pa.without=No,pa.words=wl,pa.wrap=function(t,e){return ds(Kn(e),t)},pa.xor=Ro,pa.xorBy=Bo,pa.xorWith=ko,pa.zip=Vo,pa.zipObject=function(t,e){return Un(t||[],e||[],Aa)},pa.zipObjectDeep=function(t,e){return Un(t||[],e||[],En)},pa.zipWith=Ho,pa.entries=fl,pa.entriesIn=pl,pa.extend=js,pa.extendWith=qs,Rl(pa,pa),pa.add=zl,pa.attempt=Ml,pa.camelCase=vl,pa.capitalize=gl,pa.ceil=Kl,pa.clamp=function(t,e,i){return i===r&&(i=e,e=r),i!==r&&(i=(i=Us(i))==i?i:0),e!==r&&(e=(e=Us(e))==e?e:0),Na(Us(t),e,i)},pa.clone=function(t){return Ra(t,m)},pa.cloneDeep=function(t){return Ra(t,f|m)},pa.cloneDeepWith=function(t,e){return Ra(t,f|m,e="function"==typeof e?e:r)},pa.cloneWith=function(t,e){return Ra(t,m,e="function"==typeof e?e:r)},pa.conformsTo=function(t,e){return null==e||Ba(t,e,ol(e))},pa.deburr=Cl,pa.defaultTo=function(t,e){return null==t||t!=t?e:t},pa.divide=$l,pa.endsWith=function(t,e,i){t=Ks(t),e=kn(e);var a=t.length,n=i=i===r?a:Na(Ws(i),0,a);return(i-=e.length)>=0&&t.slice(i,n)==e},pa.eq=ms,pa.escape=function(t){return(t=Ks(t))&&wt.test(t)?t.replace(Tt,Ti):t},pa.escapeRegExp=function(t){return(t=Ks(t))&&Pt.test(t)?t.replace(Ot,"\\$&"):t},pa.every=function(t,e,i){var a=Ds(t)?qe:Ya;return i&&$r(t,e,i)&&(e=r),a(t,Br(e,3))},pa.find=Uo,pa.findIndex=Co,pa.findKey=function(t,e){return oi(t,Br(e,3),$a)},pa.findLast=zo,pa.findLastIndex=Do,pa.findLastKey=function(t,e){return oi(t,Br(e,3),ja)},pa.floor=jl,pa.forEach=Ko,pa.forEachRight=$o,pa.forIn=function(t,e){return null==t?t:za(t,Br(e,3),sl)},pa.forInRight=function(t,e){return null==t?t:Ka(t,Br(e,3),sl)},pa.forOwn=function(t,e){return t&&$a(t,Br(e,3))},pa.forOwnRight=function(t,e){return t&&ja(t,Br(e,3))},pa.get=el,pa.gt=vs,pa.gte=gs,pa.has=function(t,e){return null!=t&&Xr(t,e,en)},pa.hasIn=il,pa.head=xo,pa.identity=Fl,pa.includes=function(t,e,i,a){t=xs(t)?t:ml(t),i=i&&!a?Ws(i):0;var n=t.length;return i<0&&(i=zi(n+i,0)),Rs(t)?i<=n&&t.indexOf(e,i)>-1:!!n&&li(t,e,i)>-1},pa.indexOf=function(t,e,i){var a=null==t?0:t.length;if(!a)return-1;var n=null==i?0:Ws(i);return n<0&&(n=zi(a+n,0)),li(t,e,n)},pa.inRange=function(t,e,i){return e=Ys(e),i===r?(i=e,e=0):i=Ys(i),function(t,e,i){return t>=Ki(e,i)&&t<zi(e,i)}(t=Us(t),e,i)},pa.invoke=rl,pa.isArguments=Cs,pa.isArray=Ds,pa.isArrayBuffer=ys,pa.isArrayLike=xs,pa.isArrayLikeObject=Ss,pa.isBoolean=function(t){return!0===t||!1===t||_s(t)&&Qa(t)==U},pa.isBuffer=Is,pa.isDate=Ts,pa.isElement=function(t){return _s(t)&&1===t.nodeType&&!Os(t)},pa.isEmpty=function(t){if(null==t)return!0;if(xs(t)&&(Ds(t)||"string"==typeof t||"function"==typeof t.splice||Is(t)||ks(t)||Cs(t)))return!t.length;var e=Wr(t);if(e==J||e==at)return!t.size;if(Zr(t))return!cn(t).length;for(var i in t)if(ue.call(t,i))return!1;return!0},pa.isEqual=function(t,e){return sn(t,e)},pa.isEqualWith=function(t,e,i){var a=(i="function"==typeof i?i:r)?i(t,e):r;return a===r?sn(t,e,r,i):!!a},pa.isError=bs,pa.isFinite=function(t){return"number"==typeof t&&Wi(t)},pa.isFunction=ws,pa.isInteger=Ms,pa.isLength=Es,pa.isMap=Ls,pa.isMatch=function(t,e){return t===e||ln(t,e,Vr(e))},pa.isMatchWith=function(t,e,i){return i="function"==typeof i?i:r,ln(t,e,Vr(e),i)},pa.isNaN=function(t){return Fs(t)&&t!=+t},pa.isNative=function(t){if(Jr(t))throw new Rt(s);return hn(t)},pa.isNil=function(t){return null==t},pa.isNull=function(t){return null===t},pa.isNumber=Fs,pa.isObject=As,pa.isObjectLike=_s,pa.isPlainObject=Os,pa.isRegExp=Ps,pa.isSafeInteger=function(t){return Ms(t)&&t>=-N&&t<=N},pa.isSet=Ns,pa.isString=Rs,pa.isSymbol=Bs,pa.isTypedArray=ks,pa.isUndefined=function(t){return t===r},pa.isWeakMap=function(t){return _s(t)&&Wr(t)==st},pa.isWeakSet=function(t){return _s(t)&&Qa(t)==lt},pa.join=function(t,e){return null==t?"":Xi.call(t,e)},pa.kebabCase=Dl,pa.last=bo,pa.lastIndexOf=function(t,e,i){var a=null==t?0:t.length;if(!a)return-1;var n=a;return i!==r&&(n=(n=Ws(i))<0?zi(a+n,0):Ki(n,a-1)),e==e?function(t,e,i){for(var a=i+1;a--;)if(t[a]===e)return a;return a}(t,e,n):si(t,ui,n,!0)},pa.lowerCase=yl,pa.lowerFirst=xl,pa.lt=Vs,pa.lte=Hs,pa.max=function(t){return t&&t.length?Wa(t,Fl,tn):r},pa.maxBy=function(t,e){return t&&t.length?Wa(t,Br(e,2),tn):r},pa.mean=function(t){return ci(t,Fl)},pa.meanBy=function(t,e){return ci(t,Br(e,2))},pa.min=function(t){return t&&t.length?Wa(t,Fl,fn):r},pa.minBy=function(t,e){return t&&t.length?Wa(t,Br(e,2),fn):r},pa.stubArray=Xl,pa.stubFalse=Ul,pa.stubObject=function(){return{}},pa.stubString=function(){return""},pa.stubTrue=function(){return!0},pa.multiply=Jl,pa.nth=function(t,e){return t&&t.length?Cn(t,Ws(e)):r},pa.noConflict=function(){return Pe._===this&&(Pe._=me),this},pa.noop=Bl,pa.now=es,pa.pad=function(t,e,i){t=Ks(t);var a=(e=Ws(e))?Fi(t):0;if(!e||a>=e)return t;var n=(e-a)/2;return Dr(Hi(n),i)+t+Dr(Vi(n),i)},pa.padEnd=function(t,e,i){t=Ks(t);var a=(e=Ws(e))?Fi(t):0;return e&&a<e?t+Dr(e-a,i):t},pa.padStart=function(t,e,i){t=Ks(t);var a=(e=Ws(e))?Fi(t):0;return e&&a<e?Dr(e-a,i)+t:t},pa.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),ji(Ks(t).replace(Nt,""),e||0)},pa.random=function(t,e,i){if(i&&"boolean"!=typeof i&&$r(t,e,i)&&(e=i=r),i===r&&("boolean"==typeof e?(i=e,e=r):"boolean"==typeof t&&(i=t,t=r)),t===r&&e===r?(t=0,e=1):(t=Ys(t),e===r?(e=t,t=0):e=Ys(e)),t>e){var a=t;t=e,e=a}if(i||t%1||e%1){var n=qi();return Ki(t+n*(e-t+_e("1e-"+((n+"").length-1))),e)}return In(t,e)},pa.reduce=function(t,e,i){var a=Ds(t)?ii:pi,n=arguments.length<3;return a(t,Br(e,4),i,n,Ha)},pa.reduceRight=function(t,e,i){var a=Ds(t)?ai:pi,n=arguments.length<3;return a(t,Br(e,4),i,n,Ga)},pa.repeat=function(t,e,i){return e=(i?$r(t,e,i):e===r)?1:Ws(e),Tn(Ks(t),e)},pa.replace=function(){var t=arguments,e=Ks(t[0]);return t.length<3?e:e.replace(t[1],t[2])},pa.result=function(t,e,i){var a=-1,n=(e=$n(e,t)).length;for(n||(n=1,t=r);++a<n;){var o=null==t?r:t[co(e[a])];o===r&&(a=n,o=i),t=ws(o)?o.call(t):o}return t},pa.round=Zl,pa.runInContext=t,pa.sample=function(t){return(Ds(t)?ba:wn)(t)},pa.size=function(t){if(null==t)return 0;if(xs(t))return Rs(t)?Fi(t):t.length;var e=Wr(t);return e==J||e==at?t.size:cn(t).length},pa.snakeCase=Sl,pa.some=function(t,e,i){var a=Ds(t)?ni:On;return i&&$r(t,e,i)&&(e=r),a(t,Br(e,3))},pa.sortedIndex=function(t,e){return Pn(t,e)},pa.sortedIndexBy=function(t,e,i){return Nn(t,e,Br(i,2))},pa.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var a=Pn(t,e);if(a<i&&ms(t[a],e))return a}return-1},pa.sortedLastIndex=function(t,e){return Pn(t,e,!0)},pa.sortedLastIndexBy=function(t,e,i){return Nn(t,e,Br(i,2),!0)},pa.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var i=Pn(t,e,!0)-1;if(ms(t[i],e))return i}return-1},pa.startCase=Il,pa.startsWith=function(t,e,i){return t=Ks(t),i=null==i?0:Na(Ws(i),0,t.length),e=kn(e),t.slice(i,i+e.length)==e},pa.subtract=Ql,pa.sum=function(t){return t&&t.length?mi(t,Fl):0},pa.sumBy=function(t,e){return t&&t.length?mi(t,Br(e,2)):0},pa.template=function(t,e,i){var a=pa.templateSettings;i&&$r(t,e,i)&&(e=r),t=Ks(t),e=qs({},e,a,Mr);var n,o,s=qs({},e.imports,a.imports,Mr),l=ol(s),u=Di(s,l),c=0,d=e.interpolate||Jt,f="__p += '",p=ie((e.escape||Jt).source+"|"+d.source+"|"+(d===At?Wt:Jt).source+"|"+(e.evaluate||Jt).source+"|$","g"),m="//# sourceURL="+(ue.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++we+"]")+"\n";t.replace(p,function(e,i,a,r,s,l){return a||(a=r),f+=t.slice(c,l).replace(Zt,bi),i&&(n=!0,f+="' +\n__e("+i+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),a&&(f+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),f+="';\n";var v=ue.call(e,"variable")&&e.variable;if(v){if(Gt.test(v))throw new Rt(h)}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(yt,""):f).replace(xt,"$1").replace(St,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(n?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Ml(function(){return Qt(l,m+"return "+f).apply(r,u)});if(g.source=f,bs(g))throw g;return g},pa.times=function(t,e){if((t=Ws(t))<1||t>N)return[];var i=k,a=Ki(t,k);e=Br(e),t-=k;for(var n=vi(a,e);++i<t;)e(i);return n},pa.toFinite=Ys,pa.toInteger=Ws,pa.toLength=Xs,pa.toLower=function(t){return Ks(t).toLowerCase()},pa.toNumber=Us,pa.toSafeInteger=function(t){return t?Na(Ws(t),-N,N):0===t?t:0},pa.toString=Ks,pa.toUpper=function(t){return Ks(t).toUpperCase()},pa.trim=function(t,e,i){if((t=Ks(t))&&(i||e===r))return gi(t);if(!t||!(e=kn(e)))return t;var a=Oi(t),n=Oi(e);return qn(a,xi(a,n),Si(a,n)+1).join("")},pa.trimEnd=function(t,e,i){if((t=Ks(t))&&(i||e===r))return t.slice(0,Pi(t)+1);if(!t||!(e=kn(e)))return t;var a=Oi(t);return qn(a,0,Si(a,Oi(e))+1).join("")},pa.trimStart=function(t,e,i){if((t=Ks(t))&&(i||e===r))return t.replace(Nt,"");if(!t||!(e=kn(e)))return t;var a=Oi(t);return qn(a,xi(a,Oi(e))).join("")},pa.truncate=function(t,e){var i=E,a=A;if(As(e)){var n="separator"in e?e.separator:n;i="length"in e?Ws(e.length):i,a="omission"in e?kn(e.omission):a}var o=(t=Ks(t)).length;if(wi(t)){var s=Oi(t);o=s.length}if(i>=o)return t;var l=i-Fi(a);if(l<1)return a;var h=s?qn(s,0,l).join(""):t.slice(0,l);if(n===r)return h+a;if(s&&(l+=h.length-l),Ps(n)){if(t.slice(l).search(n)){var u,c=h;for(n.global||(n=ie(n.source,Ks(Xt.exec(n))+"g")),n.lastIndex=0;u=n.exec(c);)var d=u.index;h=h.slice(0,d===r?l:d)}}else if(t.indexOf(kn(n),l)!=l){var f=h.lastIndexOf(n);f>-1&&(h=h.slice(0,f))}return h+a},pa.unescape=function(t){return(t=Ks(t))&&bt.test(t)?t.replace(It,Ni):t},pa.uniqueId=function(t){var e=++ce;return Ks(t)+e},pa.upperCase=Tl,pa.upperFirst=bl,pa.each=Ko,pa.eachRight=$o,pa.first=xo,Rl(pa,(ql={},$a(pa,function(t,e){ue.call(pa.prototype,e)||(ql[e]=t)}),ql),{chain:!1}),pa.VERSION="4.17.21",$e(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){pa[t].placeholder=pa}),$e(["drop","take"],function(t,e){Ca.prototype[t]=function(i){i=i===r?1:zi(Ws(i),0);var a=this.__filtered__&&!e?new Ca(this):this.clone();return a.__filtered__?a.__takeCount__=Ki(i,a.__takeCount__):a.__views__.push({size:Ki(i,k),type:t+(a.__dir__<0?"Right":"")}),a},Ca.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),$e(["filter","map","takeWhile"],function(t,e){var i=e+1,a=i==F||3==i;Ca.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Br(t,3),type:i}),e.__filtered__=e.__filtered__||a,e}}),$e(["head","last"],function(t,e){var i="take"+(e?"Right":"");Ca.prototype[t]=function(){return this[i](1).value()[0]}}),$e(["initial","tail"],function(t,e){var i="drop"+(e?"":"Right");Ca.prototype[t]=function(){return this.__filtered__?new Ca(this):this[i](1)}}),Ca.prototype.compact=function(){return this.filter(Fl)},Ca.prototype.find=function(t){return this.filter(t).head()},Ca.prototype.findLast=function(t){return this.reverse().find(t)},Ca.prototype.invokeMap=bn(function(t,e){return"function"==typeof t?new Ca(this):this.map(function(i){return rn(i,t,e)})}),Ca.prototype.reject=function(t){return this.filter(us(Br(t)))},Ca.prototype.slice=function(t,e){t=Ws(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Ca(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==r&&(i=(e=Ws(e))<0?i.dropRight(-e):i.take(e-t)),i)},Ca.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ca.prototype.toArray=function(){return this.take(k)},$a(Ca.prototype,function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),n=pa[a?"take"+("last"==e?"Right":""):e],o=a||/^find/.test(e);n&&(pa.prototype[e]=function(){var e=this.__wrapped__,s=a?[1]:arguments,l=e instanceof Ca,h=s[0],u=l||Ds(e),c=function(t){var e=n.apply(pa,ei([t],s));return a&&d?e[0]:e};u&&i&&"function"==typeof h&&1!=h.length&&(l=u=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,m=l&&!f;if(!o&&u){e=m?e:new Ca(this);var v=t.apply(e,s);return v.__actions__.push({func:Yo,args:[c],thisArg:r}),new ga(v,d)}return p&&m?t.apply(this,s):(v=this.thru(c),p?a?v.value()[0]:v.value():v)})}),$e(["pop","push","shift","sort","splice","unshift"],function(t){var e=re[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",a=/^(?:pop|shift)$/.test(t);pa.prototype[t]=function(){var t=arguments;if(a&&!this.__chain__){var n=this.value();return e.apply(Ds(n)?n:[],t)}return this[i](function(i){return e.apply(Ds(i)?i:[],t)})}}),$a(Ca.prototype,function(t,e){var i=pa[e];if(i){var a=i.name+"";ue.call(ra,a)||(ra[a]=[]),ra[a].push({name:e,func:i})}}),ra[mr(r,D).name]=[{name:"wrapper",func:r}],Ca.prototype.clone=function(){var t=new Ca(this.__wrapped__);return t.__actions__=nr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=nr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=nr(this.__views__),t},Ca.prototype.reverse=function(){if(this.__filtered__){var t=new Ca(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Ca.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=Ds(t),a=e<0,n=i?t.length:0,r=function(t,e,i){for(var a=-1,n=i.length;++a<n;){var r=i[a],o=r.size;switch(r.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=Ki(e,t+o);break;case"takeRight":t=zi(t,e-o)}}return{start:t,end:e}}(0,n,this.__views__),o=r.start,s=r.end,l=s-o,h=a?s:o-1,u=this.__iteratees__,c=u.length,d=0,f=Ki(l,this.__takeCount__);if(!i||!a&&n==l&&f==l)return Wn(t,this.__actions__);var p=[];t:for(;l--&&d<f;){for(var m=-1,v=t[h+=e];++m<c;){var g=u[m],C=g.iteratee,D=g.type,y=C(v);if(D==O)v=y;else if(!y){if(D==F)continue t;break t}}p[d++]=v}return p},pa.prototype.at=Wo,pa.prototype.chain=function(){return Go(this)},pa.prototype.commit=function(){return new ga(this.value(),this.__chain__)},pa.prototype.next=function(){this.__values__===r&&(this.__values__=Gs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},pa.prototype.plant=function(t){for(var e,i=this;i instanceof va;){var a=po(i);a.__index__=0,a.__values__=r,e?n.__wrapped__=a:e=a;var n=a;i=i.__wrapped__}return n.__wrapped__=t,e},pa.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Ca){var e=t;return this.__actions__.length&&(e=new Ca(this)),(e=e.reverse()).__actions__.push({func:Yo,args:[Ao],thisArg:r}),new ga(e,this.__chain__)}return this.thru(Ao)},pa.prototype.toJSON=pa.prototype.valueOf=pa.prototype.value=function(){return Wn(this.__wrapped__,this.__actions__)},pa.prototype.first=pa.prototype.head,ke&&(pa.prototype[ke]=function(){return this}),pa}();Pe._=Ri,(n=function(){return Ri}.call(e,i,e,a))===r||(a.exports=n)}).call(this)}).call(e,i("DuR2"),i("3IRH")(t))},M6a0:function(t,e){},M9eA:function(t,e,i){var a=i("HGSA"),n=i("DRaW"),r=i("/gxq"),o=r.isArray,s="itemStyle",l={seriesType:"treemap",reset:function(t,e,i,o){var l=t.getData().tree,u=l.root,d=t.getModel(s);u.isRemoved()||function t(e,i,o,l,u,d){var f=e.getModel();var p=e.getLayout();if(!p||p.invisible||!p.isInView)return;var m=e.getModel(s);var v=o[e.depth];var g=function(t,e,i,a){var n=r.extend({},e);return r.each(["color","colorAlpha","colorSaturation"],function(r){var o=t.get(r,!0);null==o&&i&&(o=i[r]),null==o&&(o=e[r]),null==o&&(o=a.get(r)),null!=o&&(n[r]=o)}),n}(m,i,v,l);var C=m.get("borderColor");var D=m.get("borderColorSaturation");var y;null!=D&&(y=h(g),C=function(t,e){return null!=e?n.modifyHSL(e,null,null,t):null}(D,y));e.setVisual("borderColor",C);var x=e.viewChildren;if(x&&x.length){var S=function(t,e,i,n,r,o){if(!o||!o.length)return;var s=c(e,"color")||null!=r.color&&"none"!==r.color&&(c(e,"colorAlpha")||c(e,"colorSaturation"));if(!s)return;var l=e.get("visualMin"),h=e.get("visualMax"),u=i.dataExtent.slice();null!=l&&l<u[0]&&(u[0]=l),null!=h&&h>u[1]&&(u[1]=h);var d=e.get("colorMappingBy"),f={type:s.name,dataExtent:u,visual:s.range};"color"!==f.type||"index"!==d&&"id"!==d?f.mappingMethod="linear":(f.mappingMethod="category",f.loop=!0);var p=new a(f);return p.__drColorMappingBy=d,p}(0,f,p,0,g,x);r.each(x,function(e,i){if(e.depth>=u.length||e===u[e.depth]){var a=function(t,e,i,a,n,o){var s=r.extend({},e);if(n){var l=n.type,h="color"===l&&n.__drColorMappingBy,u="index"===h?a:"id"===h?o.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));s[l]=n.mapValueToVisual(u)}return s}(f,g,e,i,S,d);t(e,a,o,l,u,d)}})}else y=h(g),e.setVisual("color",y)}(u,{},r.map(l.levelModels,function(t){return t?t.get(s):null}),d,t.getViewRoot().getAncestors(),t)}};function h(t){var e=u(t,"color");if(e){var i=u(t,"colorAlpha"),a=u(t,"colorSaturation");return a&&(e=n.modifyHSL(e,null,null,a)),i&&(e=n.modifyAlpha(e,i)),e}}function u(t,e){var i=t[e];if(null!=i&&"none"!==i)return i}function c(t,e){var i=t.get(e);return o(i)&&i.length?{name:e,range:i}:null}t.exports=l},MAom:function(t,e,i){var a=i("9qnA"),n=i("8b51"),r=i("/gxq"),o=i("+Y0c");function s(t){a.call(this,t)}s.prototype={constructor:s,type:"image",brush:function(t,e){var i=this.style,a=i.image;i.bind(t,this,e);var n=this._image=o.createOrUpdateImage(a,this._image,this,this.onload);if(n&&o.isImageReady(n)){var r=i.x||0,s=i.y||0,l=i.width,h=i.height,u=n.width/n.height;if(null==l&&null!=h?l=h*u:null==h&&null!=l?h=l/u:null==l&&null==h&&(l=n.width,h=n.height),this.setTransform(t),i.sWidth&&i.sHeight){var c=i.sx||0,d=i.sy||0;t.drawImage(n,c,d,i.sWidth,i.sHeight,r,s,l,h)}else if(i.sx&&i.sy){var f=l-(c=i.sx),p=h-(d=i.sy);t.drawImage(n,c,d,f,p,r,s,l,h)}else t.drawImage(n,r,s,l,h);null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new n(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},r.inherits(s,a);var l=s;t.exports=l},"MII+":function(t,e,i){"use strict";t.exports=function(t,e,i){if("function"==typeof Array.prototype.findIndex)return t.findIndex(e,i);if("function"!=typeof e)throw new TypeError("predicate must be a function");var a=Object(t),n=a.length;if(0===n)return-1;for(var r=0;r<n;r++)if(e.call(i,a[r],r,a))return r;return-1}},MJLE:function(t,e,i){var a,n;n=function(){function t(t){this.mode=i.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,a=this.data.length;e<a;e++){var n=[],r=this.data.charCodeAt(e);r>65536?(n[0]=240|(1835008&r)>>>18,n[1]=128|(258048&r)>>>12,n[2]=128|(4032&r)>>>6,n[3]=128|63&r):r>2048?(n[0]=224|(61440&r)>>>12,n[1]=128|(4032&r)>>>6,n[2]=128|63&r):r>128?(n[0]=192|(1984&r)>>>6,n[1]=128|63&r):n[0]=r,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}t.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,i=this.parsedData.length;e<i;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var i=new t(e);this.dataList.push(i),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,i){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[a][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,i),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)},setupPositionProbePattern:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var a=-1;a<=7;a++)e+a<=-1||this.moduleCount<=e+a||(this.modules[t+i][e+a]=0<=i&&i<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=a&&a<=4)},getBestMaskPattern:function(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var a=f.getLostPoint(this);(0==i||t>a)&&(t=a,e=i)}return e},createMovieClip:function(t,e,i){var a=t.createEmptyMovieClip(e,i);this.make();for(var n=0;n<this.modules.length;n++)for(var r=1*n,o=0;o<this.modules[n].length;o++){var s=1*o;this.modules[n][o]&&(a.beginFill(0,100),a.moveTo(s,r),a.lineTo(s+1,r),a.lineTo(s+1,r+1),a.lineTo(s,r+1),a.endFill())}return a},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=f.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var a=t[e],n=t[i];if(null==this.modules[a][n])for(var r=-2;r<=2;r++)for(var o=-2;o<=2;o++)this.modules[a+r][n+o]=-2==r||2==r||-2==o||2==o||0==r&&0==o}},setupTypeNumber:function(t){for(var e=f.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var a=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=a}for(i=0;i<18;i++){a=!t&&1==(e>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=a}},setupTypeInfo:function(t,e){for(var i=this.errorCorrectLevel<<3|e,a=f.getBCHTypeInfo(i),n=0;n<15;n++){var r=!t&&1==(a>>n&1);n<6?this.modules[n][8]=r:n<8?this.modules[n+1][8]=r:this.modules[this.moduleCount-15+n][8]=r}for(n=0;n<15;n++){r=!t&&1==(a>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=r:n<9?this.modules[8][15-n-1+1]=r:this.modules[8][15-n-1]=r}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var i=-1,a=this.moduleCount-1,n=7,r=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var s=0;s<2;s++)if(null==this.modules[a][o-s]){var l=!1;r<t.length&&(l=1==(t[r]>>>n&1)),f.getMask(e,a,o-s)&&(l=!l),this.modules[a][o-s]=l,-1==--n&&(r++,n=7)}if((a+=i)<0||this.moduleCount<=a){a-=i,i=-i;break}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,i,a){for(var n=g.getRSBlocks(t,i),r=new C,o=0;o<a.length;o++){var s=a[o];r.put(s.mode,4),r.put(s.getLength(),f.getLengthInBits(s.mode,t)),s.write(r)}var l=0;for(o=0;o<n.length;o++)l+=n[o].dataCount;if(r.getLengthInBits()>8*l)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*l+")");for(r.getLengthInBits()+4<=8*l&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*l||(r.put(e.PAD0,8),r.getLengthInBits()>=8*l));)r.put(e.PAD1,8);return e.createBytes(r,n)},e.createBytes=function(t,e){for(var i=0,a=0,n=0,r=new Array(e.length),o=new Array(e.length),s=0;s<e.length;s++){var l=e[s].dataCount,h=e[s].totalCount-l;a=Math.max(a,l),n=Math.max(n,h),r[s]=new Array(l);for(var u=0;u<r[s].length;u++)r[s][u]=255&t.buffer[u+i];i+=l;var c=f.getErrorCorrectPolynomial(h),d=new v(r[s],c.getLength()-1).mod(c);o[s]=new Array(c.getLength()-1);for(u=0;u<o[s].length;u++){var p=u+d.getLength()-o[s].length;o[s][u]=p>=0?d.get(p):0}}var m=0;for(u=0;u<e.length;u++)m+=e[u].totalCount;var g=new Array(m),C=0;for(u=0;u<a;u++)for(s=0;s<e.length;s++)u<r[s].length&&(g[C++]=r[s][u]);for(u=0;u<n;u++)for(s=0;s<e.length;s++)u<o[s].length&&(g[C++]=o[s][u]);return g};for(var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},r=0,o=1,s=2,l=3,h=4,u=5,c=6,d=7,f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;f.getBCHDigit(e)-f.getBCHDigit(f.G15)>=0;)e^=f.G15<<f.getBCHDigit(e)-f.getBCHDigit(f.G15);return(t<<10|e)^f.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;f.getBCHDigit(e)-f.getBCHDigit(f.G18)>=0;)e^=f.G18<<f.getBCHDigit(e)-f.getBCHDigit(f.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return f.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case r:return(e+i)%2==0;case o:return e%2==0;case s:return i%3==0;case l:return(e+i)%3==0;case h:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case u:return e*i%2+e*i%3==0;case c:return(e*i%2+e*i%3)%2==0;case d:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new v([1],0),i=0;i<t;i++)e=e.multiply(new v([1,p.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,a=0;a<e;a++)for(var n=0;n<e;n++){for(var r=0,o=t.isDark(a,n),s=-1;s<=1;s++)if(!(a+s<0||e<=a+s))for(var l=-1;l<=1;l++)n+l<0||e<=n+l||0==s&&0==l||o==t.isDark(a+s,n+l)&&r++;r>5&&(i+=3+r-5)}for(a=0;a<e-1;a++)for(n=0;n<e-1;n++){var h=0;t.isDark(a,n)&&h++,t.isDark(a+1,n)&&h++,t.isDark(a,n+1)&&h++,t.isDark(a+1,n+1)&&h++,0!=h&&4!=h||(i+=3)}for(a=0;a<e;a++)for(n=0;n<e-6;n++)t.isDark(a,n)&&!t.isDark(a,n+1)&&t.isDark(a,n+2)&&t.isDark(a,n+3)&&t.isDark(a,n+4)&&!t.isDark(a,n+5)&&t.isDark(a,n+6)&&(i+=40);for(n=0;n<e;n++)for(a=0;a<e-6;a++)t.isDark(a,n)&&!t.isDark(a+1,n)&&t.isDark(a+2,n)&&t.isDark(a+3,n)&&t.isDark(a+4,n)&&!t.isDark(a+5,n)&&t.isDark(a+6,n)&&(i+=40);var u=0;for(n=0;n<e;n++)for(a=0;a<e;a++)t.isDark(a,n)&&u++;return i+=10*(Math.abs(100*u/e/e-50)/5)}},p={glog:function(t){if(t<1)throw new Error("glog("+t+")");return p.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return p.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},m=0;m<8;m++)p.EXP_TABLE[m]=1<<m;for(m=8;m<256;m++)p.EXP_TABLE[m]=p.EXP_TABLE[m-4]^p.EXP_TABLE[m-5]^p.EXP_TABLE[m-6]^p.EXP_TABLE[m-8];for(m=0;m<255;m++)p.LOG_TABLE[p.EXP_TABLE[m]]=m;function v(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var a=0;a<t.length-i;a++)this.num[a]=t[a+i]}function g(t,e){this.totalCount=t,this.dataCount=e}function C(){this.buffer=[],this.length=0}v.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<t.getLength();a++)e[i+a]^=p.gexp(p.glog(this.get(i))+p.glog(t.get(a)));return new v(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=p.glog(this.get(0))-p.glog(t.get(0)),i=new Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(a=0;a<t.getLength();a++)i[a]^=p.gexp(p.glog(t.get(a))+e);return new v(i,0).mod(t)}},g.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],g.getRSBlocks=function(t,e){var i=g.getRsBlockTable(t,e);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var a=i.length/3,n=[],r=0;r<a;r++)for(var o=i[3*r+0],s=i[3*r+1],l=i[3*r+2],h=0;h<o;h++)n.push(new g(s,l));return n},g.getRsBlockTable=function(t,e){switch(e){case n.L:return g.RS_BLOCK_TABLE[4*(t-1)+0];case n.M:return g.RS_BLOCK_TABLE[4*(t-1)+1];case n.Q:return g.RS_BLOCK_TABLE[4*(t-1)+2];case n.H:return g.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},C.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var D=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function y(){var t=!1,e=navigator.userAgent;if(/android/i.test(e)){t=!0;var i=e.toString().match(/android ([0-9]\.[0-9])/i);i&&i[1]&&(t=parseFloat(i[1]))}return t}var x=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){var e=this._htOption,i=this._el,a=t.getModuleCount();Math.floor(e.width/a),Math.floor(e.height/a);function n(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg",t);for(var a in e)e.hasOwnProperty(a)&&i.setAttribute(a,e[a]);return i}this.clear();var r=n("svg",{viewBox:"0 0 "+String(a)+" "+String(a),width:"100%",height:"100%",fill:e.colorLight});r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.appendChild(r),r.appendChild(n("rect",{fill:e.colorLight,width:"100%",height:"100%"})),r.appendChild(n("rect",{fill:e.colorDark,width:"1",height:"1",id:"template"}));for(var o=0;o<a;o++)for(var s=0;s<a;s++)if(t.isDark(o,s)){var l=n("use",{x:String(s),y:String(o)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),r.appendChild(l)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),S="svg"===document.documentElement.tagName.toLowerCase()?x:"undefined"==typeof CanvasRenderingContext2D?function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,i=this._el,a=t.getModuleCount(),n=Math.floor(e.width/a),r=Math.floor(e.height/a),o=['<table style="border:0;border-collapse:collapse;">'],s=0;s<a;s++){o.push("<tr>");for(var l=0;l<a;l++)o.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+n+"px;height:"+r+"px;background-color:"+(t.isDark(s,l)?e.colorDark:e.colorLight)+';"></td>');o.push("</tr>")}o.push("</table>"),i.innerHTML=o.join("");var h=i.childNodes[0],u=(e.width-h.offsetWidth)/2,c=(e.height-h.offsetHeight)/2;u>0&&c>0&&(h.style.margin=c+"px "+u+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}():function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var e=1/window.devicePixelRatio,i=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,a,n,r,o,s,l,h,u){if("nodeName"in t&&/img/i.test(t.nodeName))for(var c=arguments.length-1;c>=1;c--)arguments[c]=arguments[c]*e;else void 0===h&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);i.apply(this,arguments)}}var a=function(t,e){this._bIsPainted=!1,this._android=y(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return a.prototype.draw=function(t){var e=this._elImage,i=this._oContext,a=this._htOption,n=t.getModuleCount(),r=a.width/n,o=a.height/n,s=Math.round(r),l=Math.round(o);e.style.display="none",this.clear();for(var h=0;h<n;h++)for(var u=0;u<n;u++){var c=t.isDark(h,u),d=u*r,f=h*o;i.strokeStyle=c?a.colorDark:a.colorLight,i.lineWidth=1,i.fillStyle=c?a.colorDark:a.colorLight,i.fillRect(d,f,r,o),i.strokeRect(Math.floor(d)+.5,Math.floor(f)+.5,s,l),i.strokeRect(Math.ceil(d)-.5,Math.ceil(f)-.5,s,l)}this._bIsPainted=!0},a.prototype.makeImage=function(){this._bIsPainted&&function(t,e){var i=this;if(i._fFail=e,i._fSuccess=t,null===i._bSupportDataURI){var a=document.createElement("img"),n=function(){i._bSupportDataURI=!1,i._fFail&&i._fFail.call(i)};return a.onabort=n,a.onerror=n,a.onload=function(){i._bSupportDataURI=!0,i._fSuccess&&i._fSuccess.call(i)},void(a.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===i._bSupportDataURI&&i._fSuccess?i._fSuccess.call(i):!1===i._bSupportDataURI&&i._fFail&&i._fFail.call(i)}.call(this,t)},a.prototype.isPainted=function(){return this._bIsPainted},a.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},a.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},a}();function I(t,e){for(var i=1,a=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}(t),r=0,o=D.length;r<=o;r++){var s=0;switch(e){case n.L:s=D[r][0];break;case n.M:s=D[r][1];break;case n.Q:s=D[r][2];break;case n.H:s=D[r][3]}if(a<=s)break;i++}if(i>D.length)throw new Error("Too long data");return i}return(a=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:n.H},"string"==typeof e&&(e={text:e}),e)for(var i in e)this._htOption[i]=e[i];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(S=x),this._android=y(),this._el=t,this._oQRCode=null,this._oDrawing=new S(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(t){this._oQRCode=new e(I(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},a.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},a.prototype.clear=function(){this._oDrawing.clear()},a.CorrectLevel=n,a},t.exports=n()},MOpb:function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=i("0sHC"),r=i("RjA7").getDefaultLabel,o=i("ao1T"),s=i("m/6y").getLayoutOnAxis,l=i("1Hui"),h=i("EJsE"),u=i("Pdtn"),c=i("Ylhr"),d=i("DDYI").createClipPath,f=i("n/n4"),p=i("OpfW"),m=i("8YpK"),v=i("ilox"),g=i("RAps"),C=n.CACHED_LABEL_STYLE_PROPERTIES,D=["itemStyle"],y=["emphasis","itemStyle"],x=["label"],S=["emphasis","label"],I="e\0\0",T={cartesian2d:f,geo:p,singleAxis:m,polar:v,calendar:g};function b(t,e,i,a,n){null==i[t]||n||(e[t]=i[t],i[t]=a[t])}function w(t,e,i,o){var l=t.get("renderItem"),h=t.coordinateSystem,u={};h&&(u=h.prepareCustoms?h.prepareCustoms():T[h.type](h));var c,d,f,p,m,v=a.defaults({getWidth:o.getWidth,getHeight:o.getHeight,getZr:o.getZr,getDevicePixelRatio:o.getDevicePixelRatio,value:function(t,i){return null==i&&(i=c),e.get(e.getDimension(t||0),i)},style:function(i,o){null==o&&(o=c),I(o);var s=d.getModel(D).getItemStyle();null!=m&&(s.fill=m);var l=e.getItemVisual(o,"opacity");null!=l&&(s.opacity=l);var h=i?L(i,f):f;return n.setTextStyle(s,h,null,{autoColor:m,isRectText:!0}),s.text=h.getShallow("show")?a.retrieve2(t.getFormattedLabel(o,"normal"),r(e,o)):null,i&&F(s,i),s},styleEmphasis:function(i,o){null==o&&(o=c),I(o);var s=d.getModel(y).getItemStyle(),l=i?L(i,p):p;return n.setTextStyle(s,l,null,{isRectText:!0},!0),s.text=l.getShallow("show")?a.retrieve3(t.getFormattedLabel(o,"emphasis"),t.getFormattedLabel(o,"normal"),r(e,o)):null,i&&F(s,i),s},visual:function(t,i){return null==i&&(i=c),e.getItemVisual(i,t)},barLayout:function(t){if(h.getBaseAxis){var e=h.getBaseAxis();return s(a.defaults({axis:e},t),o)}},currentSeriesIndices:function(){return i.getCurrentSeriesIndices()},font:function(t){return n.getFont(t,i)}},u.api||{}),g={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:u.coordSys,dataInsideLength:e.count(),encode:function(t){var e={};return a.each(t.dimensions,function(i,a){var n=t.getDimensionInfo(i);if(!n.isExtraCoord){var r=n.coordDim;(e[r]=e[r]||[])[n.coordDimIndex]=a}}),e}(t.getData())},C=!0;return function(t,i){return c=t,C=!0,l&&l(a.defaults({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:i?i.type:null},g),v)};function I(t){null==t&&(t=c),C&&(d=e.getItemModel(t),f=d.getModel(x),p=d.getModel(S),m=e.getItemVisual(t,"color"),C=!1)}}function M(t,e,i,a,n,r){return(t=E(t,e,i,a,n,r,!0))&&r.setItemGraphicEl(e,t),t}function E(t,e,i,r,o,s,h){var u,c=!i,d=(i=i||{}).type,f=i.shape,p=i.style;if(t&&(c||null!=d&&d!==t.__customGraphicType||"path"===d&&((u=f)&&(u.hasOwnProperty("pathData")||u.hasOwnProperty("d")))&&P(f)!==t.__customPathData||"image"===d&&N(p,"image")&&p.image!==t.__customImagePath||"text"===d&&N(f,"text")&&p.text!==t.__customText)&&(o.remove(t),t=null),!c){var m=!t;return!t&&(t=function(t){var e,i=t.type;if("path"===i){var a=t.shape,r=null!=a.width&&null!=a.height?{x:a.x||0,y:a.y||0,width:a.width,height:a.height}:null,o=P(a);(e=n.makePath(o,null,r,a.layout||"center")).__customPathData=o}else if("image"===i)(e=new n.Image({})).__customImagePath=t.style.image;else if("text"===i)(e=new n.Text({})).__customText=t.style.text;else if("group"===i)e=new n.Group;else{if("compoundPath"===i)throw new Error('"compoundPath" is not supported yet.');e=new(n.getShapeClass(i))}return e.__customGraphicType=i,e.name=t.name,e}(i)),function(t,e,i,r,o,s,l){var h={},u=i.style||{};if(i.shape&&(h.shape=a.clone(i.shape)),i.position&&(h.position=i.position.slice()),i.scale&&(h.scale=i.scale.slice()),i.origin&&(h.origin=i.origin.slice()),i.rotation&&(h.rotation=i.rotation),"image"===t.type&&i.style){var c=h.style={};a.each(["x","y","width","height"],function(e){b(e,c,u,t.style,s)})}"text"===t.type&&i.style&&(c=h.style={},a.each(["x","y"],function(e){b(e,c,u,t.style,s)}),!u.hasOwnProperty("textFill")&&u.fill&&(u.textFill=u.fill),!u.hasOwnProperty("textStroke")&&u.stroke&&(u.textStroke=u.stroke));if("group"!==t.type&&(t.useStyle(u),s)){t.style.opacity=0;var d=u.opacity;null==d&&(d=1),n.initProps(t,{style:{opacity:d}},r,e)}s?t.attr(h):n.updateProps(t,h,r,e),i.hasOwnProperty("z2")&&t.attr("z2",i.z2||0),i.hasOwnProperty("silent")&&t.attr("silent",i.silent),i.hasOwnProperty("invisible")&&t.attr("invisible",i.invisible),i.hasOwnProperty("ignore")&&t.attr("ignore",i.ignore),i.hasOwnProperty("info")&&t.attr("info",i.info);var f=i.styleEmphasis;n.setElementHoverStyle(t,f),l&&n.setAsHighDownDispatcher(t,!1!==f)}(t,e,i,r,0,m,h),"group"===d&&function(t,e,i,a,n){var r=i.children,o=r?r.length:0,s=i.$mergeChildren,h="byName"===s||i.diffChildrenByName,u=!1===s;if(!o&&!h&&!u)return;if(h)return c={oldChildren:t.children()||[],newChildren:r||[],dataIndex:e,animatableModel:a,group:t,data:n},void new l(c.oldChildren,c.newChildren,A,A,c).add(_).update(_).remove(O).execute();var c;u&&t.removeAll();for(var d=0;d<o;d++)r[d]&&E(t.childAt(d),e,r[d],a,t,n)}(t,e,i,r,s),o.add(t),t}}function A(t,e){var i=t&&t.name;return null!=i?i:I+e}function _(t,e){var i=this.context,a=null!=t?i.newChildren[t]:null;E(null!=e?i.oldChildren[e]:null,i.dataIndex,a,i.animatableModel,i.group,i.data)}function L(t,e){var i=new u({},e);return a.each(C,function(e,a){t.hasOwnProperty(e)&&(i.option[a]=t[e])}),i}function F(t,e){for(var i in e)!e.hasOwnProperty(i)&&C.hasOwnProperty(i)||(t[i]=e[i])}function O(t){var e=this.context,i=e.oldChildren[t];i&&e.group.remove(i)}function P(t){return t&&(t.pathData||t.d)}function N(t,e){return t&&t.hasOwnProperty(e)}h.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(t,e){return o(this.getSource(),this)},getDataParams:function(t,e,i){var a=h.prototype.getDataParams.apply(this,arguments);return i&&(a.info=i.info),a}}),c.extend({type:"custom",_data:null,render:function(t,e,i,a){var n=this._data,r=t.getData(),o=this.group,s=w(t,r,e,i);r.diff(n).add(function(e){M(null,e,s(e,a),t,o,r)}).update(function(e,i){M(n.getItemGraphicEl(i),e,s(e,a),t,o,r)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&o.remove(e)}).execute();var l=t.get("clip",!0)?d(t.coordinateSystem,!1,t):null;l?o.setClipPath(l):o.removeClipPath(),this._data=r},incrementalPrepareRender:function(t,e,i){this.group.removeAll(),this._data=null},incrementalRender:function(t,e,i,a,n){var r=e.getData(),o=w(e,r,i,a);function s(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)}for(var l=t.start;l<t.end;l++){M(null,l,o(l,n),e,this.group,r).traverse(s)}},dispose:a.noop,filterForExposedEvent:function(t,e,i,a){var n=e.element;if(null==n||i.name===n)return!0;for(;(i=i.parent)&&i!==this.group;)if(i.name===n)return!0;return!1}})},MRvz:function(t,e,i){var a=i("Icdr");a.registerAction({type:"axisAreaSelect",event:"axisAreaSelected"},function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),a.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t)})})},MU5D:function(t,e,i){var a=i("R9M2");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==a(t)?t.split(""):Object(t)}},MXTC:function(t,e,i){var a=i("GxVO"),n=i("C7PF"),r=i("dnLe"),o=n.min,s=n.max,l=n.scaleAndAdd,h=n.copy,u=[],c=[],d=[];function f(t){return isNaN(t[0])||isNaN(t[1])}function p(t,e,i,a,r,p,m,v,g,C,D){return"none"!==C&&C?function(t,e,i,a,n,r,o,s,l,u,p){for(var m=0,v=i,g=0;g<a;g++){var C=e[v];if(v>=n||v<0)break;if(f(C)){if(p){v+=r;continue}break}if(v===i)t[r>0?"moveTo":"lineTo"](C[0],C[1]);else if(l>0){var D=e[m],y="y"===u?1:0,x=(C[y]-D[y])*l;h(c,D),c[y]=D[y]+x,h(d,C),d[y]=C[y]-x,t.bezierCurveTo(c[0],c[1],d[0],d[1],C[0],C[1])}else t.lineTo(C[0],C[1]);m=v,v+=r}return g}.apply(this,arguments):function(t,e,i,a,r,p,m,v,g,C,D){for(var y=0,x=i,S=0;S<a;S++){var I=e[x];if(x>=r||x<0)break;if(f(I)){if(D){x+=p;continue}break}if(x===i)t[p>0?"moveTo":"lineTo"](I[0],I[1]),h(c,I);else if(g>0){var T=x+p,b=e[T];if(D)for(;b&&f(e[T]);)b=e[T+=p];var w=.5,M=e[y],b=e[T];if(!b||f(b))h(d,I);else{var E,A;if(f(b)&&!D&&(b=I),n.sub(u,b,M),"x"===C||"y"===C){var _="x"===C?0:1;E=Math.abs(I[_]-M[_]),A=Math.abs(I[_]-b[_])}else E=n.dist(I,M),A=n.dist(I,b);l(d,I,u,-g*(1-(w=A/(A+E))))}o(c,c,v),s(c,c,m),o(d,d,v),s(d,d,m),t.bezierCurveTo(c[0],c[1],d[0],d[1],I[0],I[1]),l(c,I,u,g*w)}else t.lineTo(I[0],I[1]);y=x,x+=p}return S}.apply(this,arguments)}function m(t,e){var i=[1/0,1/0],a=[-1/0,-1/0];if(e)for(var n=0;n<t.length;n++){var r=t[n];r[0]<i[0]&&(i[0]=r[0]),r[1]<i[1]&&(i[1]=r[1]),r[0]>a[0]&&(a[0]=r[0]),r[1]>a[1]&&(a[1]=r[1])}return{min:e?i:a,max:e?a:i}}var v=a.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:r(a.prototype.brush),buildPath:function(t,e){var i=e.points,a=0,n=i.length,r=m(i,e.smoothConstraint);if(e.connectNulls){for(;n>0&&f(i[n-1]);n--);for(;a<n&&f(i[a]);a++);}for(;a<n;)a+=p(t,i,a,n,n,1,r.min,r.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),g=a.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:r(a.prototype.brush),buildPath:function(t,e){var i=e.points,a=e.stackedOnPoints,n=0,r=i.length,o=e.smoothMonotone,s=m(i,e.smoothConstraint),l=m(a,e.smoothConstraint);if(e.connectNulls){for(;r>0&&f(i[r-1]);r--);for(;n<r&&f(i[n]);n++);}for(;n<r;){var h=p(t,i,n,r,r,1,s.min,s.max,e.smooth,o,e.connectNulls);p(t,a,n+h-1,h,r,-1,l.min,l.max,e.stackedOnSmooth,o,e.connectNulls),n+=h+1,t.closePath()}}});e.Polyline=v,e.Polygon=g},Mhyx:function(t,e,i){var a=i("/bQp"),n=i("dSzd")("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(a.Array===t||r[n]===t)}},Mlni:function(t,e,i){i("4Nz2").__DEV__;var a=i("Icdr"),n=i("/gxq"),r=i("YNzw"),o=i("vXqC"),s=i("HHfb"),l=i("bBvJ"),h=s.addCommas,u=s.encodeHTML;function c(t){o.defaultEmphasis(t,"label",["show"])}var d=a.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},isAnimationEnabled:function(){if(r.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e){this._mergeOption(t,e,!1,!1)},_mergeOption:function(t,e,i,a){var r=this.constructor,o=this.mainType+"Model";i||e.eachSeries(function(t){var i=t.get(this.mainType,!0),s=t[o];i&&i.data?(s?s._mergeOption(i,e,!0):(a&&c(i),n.each(i.data,function(t){t instanceof Array?(c(t[0]),c(t[1])):c(t)}),s=new r(i,this,e),n.extend(s,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),s.__hostSeries=t),t[o]=s):t[o]=null},this)},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),a=n.isArray(i)?n.map(i,h).join(", "):h(i),r=e.getName(t),o=u(this.name);return(null!=i||r)&&(o+="<br />"),r&&(o+=u(r),null!=i&&(o+=" : ")),null!=i&&(o+=u(a)),o},getData:function(){return this._data},setData:function(t){this._data=t}});n.mixin(d,l);var f=d;t.exports=f},MmMw:function(t,e,i){var a=i("EqjI");t.exports=function(t,e){if(!a(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!a(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!a(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!a(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},"Mn6+":function(t,e,i){var a=i("Icdr");i("ZtEr"),i("Fkmw"),a.registerPreprocessor(function(t){t.markArea=t.markArea||{}})},MsVc:function(t,e,i){var a=i("/gxq"),n=i("Ylhr"),r=i("0sHC"),o=i("GxVO"),s=["itemStyle"],l=["emphasis","itemStyle"],h=n.extend({type:"boxplot",render:function(t,e,i){var a=t.getData(),n=this.group,r=this._data;this._data||n.removeAll();var o="horizontal"===t.get("layout")?1:0;a.diff(r).add(function(t){if(a.hasValue(t)){var e=c(a.getItemLayout(t),a,t,o,!0);a.setItemGraphicEl(t,e),n.add(e)}}).update(function(t,e){var i=r.getItemGraphicEl(e);if(a.hasValue(t)){var s=a.getItemLayout(t);i?d(s,i,a,t):i=c(s,a,t,o),n.add(i),a.setItemGraphicEl(t,i)}else n.remove(i)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&n.remove(e)}).execute(),this._data=a},remove:function(t){var e=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(t){t&&e.remove(t)})},dispose:a.noop}),u=o.extend({type:"boxplotBoxPath",shape:{},buildPath:function(t,e){var i=e.points,a=0;for(t.moveTo(i[a][0],i[a][1]),a++;a<4;a++)t.lineTo(i[a][0],i[a][1]);for(t.closePath();a<i.length;a++)t.moveTo(i[a][0],i[a][1]),a++,t.lineTo(i[a][0],i[a][1])}});function c(t,e,i,n,r){var o=t.ends,s=new u({shape:{points:r?function(t,e,i){return a.map(t,function(t){return(t=t.slice())[e]=i.initBaseline,t})}(o,n,t):o}});return d(t,s,e,i,r),s}function d(t,e,i,a,n){var o=i.hostModel;(0,r[n?"initProps":"updateProps"])(e,{shape:{points:t.ends}},o,a);var h=i.getItemModel(a),u=h.getModel(s),c=i.getItemVisual(a,"color"),d=u.getItemStyle(["borderColor"]);d.stroke=c,d.strokeNoScale=!0,e.useStyle(d),e.z2=100;var f=h.getModel(l).getItemStyle();r.setHoverStyle(e,f)}var f=h;t.exports=f},Mxrs:function(t,e,i){var a=i("HGSA"),n=i("/gxq");t.exports=function(t,e){t.eachSeriesByType("sankey",function(t){var e=t.getGraph().nodes;if(e.length){var i=1/0,r=-1/0;n.each(e,function(t){var e=t.getLayout().value;e<i&&(i=e),e>r&&(r=e)}),n.each(e,function(e){var n=new a({type:"color",mappingMethod:"linear",dataExtent:[i,r],visual:t.get("color")}).mapValueToVisual(e.getLayout().value),o=e.getModel().get("itemStyle.color");null!=o?e.setVisual("color",o):e.setVisual("color",n)})}})}},MyoG:function(t,e,i){var a=i("vXqC"),n=a.makeInner,r=a.normalizeToArray,o=n();var s={clearColorPalette:function(){o(this).colorIdx=0,o(this).colorNameMap={}},getColorFromPalette:function(t,e,i){var a=o(e=e||this),n=a.colorIdx||0,s=a.colorNameMap=a.colorNameMap||{};if(s.hasOwnProperty(t))return s[t];var l=r(this.get("color",!0)),h=this.get("colorLayer",!0),u=null!=i&&h?function(t,e){for(var i=t.length,a=0;a<i;a++)if(t[a].length>e)return t[a];return t[i-1]}(h,i):l;if((u=u||l)&&u.length){var c=u[n];return t&&(s[t]=c),a.colorIdx=(n+1)%u.length,c}}};t.exports=s},N1UU:function(t,e,i){var a=i("Icdr"),n=i("/gxq");i("5vFd"),i("OQAC"),i("m5oG");var r=i("m/6y").layout,o=i("AjK0");i("UkNE"),a.registerLayout(n.curry(r,"pictorialBar")),a.registerVisual(o("pictorialBar","roundRect"))},N1qP:function(t,e,i){var a=i("QxFU"),n=1e-8;function r(t,e){return Math.abs(t-e)<n}e.contain=function(t,e,i){var n=0,o=t[0];if(!o)return!1;for(var s=1;s<t.length;s++){var l=t[s];n+=a(o[0],o[1],l[0],l[1],e,i),o=l}var h=t[0];return r(o[0],h[0])&&r(o[1],h[1])||(n+=a(o[0],o[1],h[0],h[1],e,i)),0!==n}},NAKW:function(t,e,i){var a=i("LRsb").circularLayout;t.exports=function(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&a(t,"symbolSize")})}},NC6I:function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__("nErl"),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(e){return new Md5(!0).update(e)[t]()}},createMethod=function(){var t=createOutputMethod("hex");NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Md5},t.update=function(e){return t.create().update(e)};for(var e=0;e<OUTPUT_TYPES.length;++e){var i=OUTPUT_TYPES[e];t[i]=createOutputMethod(i)}return t},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("md5").update(t,"utf8").digest("hex");if(null===t||void 0===t)throw ERROR;return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash("md5").update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod};function Md5(t){if(t)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(t){if(!this.finalized){var e,i=typeof t;if("string"!==i){if("object"!==i)throw ERROR;if(null===t)throw ERROR;if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw ERROR;e=!0}for(var a,n,r=0,o=t.length,s=this.blocks,l=this.buffer8;r<o;){if(this.hashed&&(this.hashed=!1,s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)if(ARRAY_BUFFER)for(n=this.start;r<o&&n<64;++r)l[n++]=t[r];else for(n=this.start;r<o&&n<64;++r)s[n>>2]|=t[r]<<SHIFT[3&n++];else if(ARRAY_BUFFER)for(n=this.start;r<o&&n<64;++r)(a=t.charCodeAt(r))<128?l[n++]=a:a<2048?(l[n++]=192|a>>6,l[n++]=128|63&a):a<55296||a>=57344?(l[n++]=224|a>>12,l[n++]=128|a>>6&63,l[n++]=128|63&a):(a=65536+((1023&a)<<10|1023&t.charCodeAt(++r)),l[n++]=240|a>>18,l[n++]=128|a>>12&63,l[n++]=128|a>>6&63,l[n++]=128|63&a);else for(n=this.start;r<o&&n<64;++r)(a=t.charCodeAt(r))<128?s[n>>2]|=a<<SHIFT[3&n++]:a<2048?(s[n>>2]|=(192|a>>6)<<SHIFT[3&n++],s[n>>2]|=(128|63&a)<<SHIFT[3&n++]):a<55296||a>=57344?(s[n>>2]|=(224|a>>12)<<SHIFT[3&n++],s[n>>2]|=(128|a>>6&63)<<SHIFT[3&n++],s[n>>2]|=(128|63&a)<<SHIFT[3&n++]):(a=65536+((1023&a)<<10|1023&t.charCodeAt(++r)),s[n>>2]|=(240|a>>18)<<SHIFT[3&n++],s[n>>2]|=(128|a>>12&63)<<SHIFT[3&n++],s[n>>2]|=(128|a>>6&63)<<SHIFT[3&n++],s[n>>2]|=(128|63&a)<<SHIFT[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>2]|=EXTRA[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var t,e,i,a,n,r,o=this.blocks;this.first?e=((e=((t=((t=o[0]-680876937)<<7|t>>>25)-271733879<<0)^(i=((i=(-271733879^(a=((a=(-1732584194^2004318071&t)+o[1]-117830708)<<12|a>>>20)+t<<0)&(-271733879^t))+o[2]-1126478375)<<17|i>>>15)+a<<0)&(a^t))+o[3]-1316259209)<<22|e>>>10)+i<<0:(t=this.h0,e=this.h1,i=this.h2,e=((e+=((t=((t+=((a=this.h3)^e&(i^a))+o[0]-680876936)<<7|t>>>25)+e<<0)^(i=((i+=(e^(a=((a+=(i^t&(e^i))+o[1]-389564586)<<12|a>>>20)+t<<0)&(t^e))+o[2]+606105819)<<17|i>>>15)+a<<0)&(a^t))+o[3]-1044525330)<<22|e>>>10)+i<<0),e=((e+=((t=((t+=(a^e&(i^a))+o[4]-176418897)<<7|t>>>25)+e<<0)^(i=((i+=(e^(a=((a+=(i^t&(e^i))+o[5]+1200080426)<<12|a>>>20)+t<<0)&(t^e))+o[6]-1473231341)<<17|i>>>15)+a<<0)&(a^t))+o[7]-45705983)<<22|e>>>10)+i<<0,e=((e+=((t=((t+=(a^e&(i^a))+o[8]+1770035416)<<7|t>>>25)+e<<0)^(i=((i+=(e^(a=((a+=(i^t&(e^i))+o[9]-1958414417)<<12|a>>>20)+t<<0)&(t^e))+o[10]-42063)<<17|i>>>15)+a<<0)&(a^t))+o[11]-1990404162)<<22|e>>>10)+i<<0,e=((e+=((t=((t+=(a^e&(i^a))+o[12]+1804603682)<<7|t>>>25)+e<<0)^(i=((i+=(e^(a=((a+=(i^t&(e^i))+o[13]-40341101)<<12|a>>>20)+t<<0)&(t^e))+o[14]-1502002290)<<17|i>>>15)+a<<0)&(a^t))+o[15]+1236535329)<<22|e>>>10)+i<<0,e=((e+=((a=((a+=(e^i&((t=((t+=(i^a&(e^i))+o[1]-165796510)<<5|t>>>27)+e<<0)^e))+o[6]-1069501632)<<9|a>>>23)+t<<0)^t&((i=((i+=(t^e&(a^t))+o[11]+643717713)<<14|i>>>18)+a<<0)^a))+o[0]-373897302)<<20|e>>>12)+i<<0,e=((e+=((a=((a+=(e^i&((t=((t+=(i^a&(e^i))+o[5]-701558691)<<5|t>>>27)+e<<0)^e))+o[10]+38016083)<<9|a>>>23)+t<<0)^t&((i=((i+=(t^e&(a^t))+o[15]-660478335)<<14|i>>>18)+a<<0)^a))+o[4]-405537848)<<20|e>>>12)+i<<0,e=((e+=((a=((a+=(e^i&((t=((t+=(i^a&(e^i))+o[9]+568446438)<<5|t>>>27)+e<<0)^e))+o[14]-1019803690)<<9|a>>>23)+t<<0)^t&((i=((i+=(t^e&(a^t))+o[3]-187363961)<<14|i>>>18)+a<<0)^a))+o[8]+1163531501)<<20|e>>>12)+i<<0,e=((e+=((a=((a+=(e^i&((t=((t+=(i^a&(e^i))+o[13]-1444681467)<<5|t>>>27)+e<<0)^e))+o[2]-51403784)<<9|a>>>23)+t<<0)^t&((i=((i+=(t^e&(a^t))+o[7]+1735328473)<<14|i>>>18)+a<<0)^a))+o[12]-1926607734)<<20|e>>>12)+i<<0,e=((e+=((r=(a=((a+=((n=e^i)^(t=((t+=(n^a)+o[5]-378558)<<4|t>>>28)+e<<0))+o[8]-2022574463)<<11|a>>>21)+t<<0)^t)^(i=((i+=(r^e)+o[11]+1839030562)<<16|i>>>16)+a<<0))+o[14]-35309556)<<23|e>>>9)+i<<0,e=((e+=((r=(a=((a+=((n=e^i)^(t=((t+=(n^a)+o[1]-1530992060)<<4|t>>>28)+e<<0))+o[4]+1272893353)<<11|a>>>21)+t<<0)^t)^(i=((i+=(r^e)+o[7]-155497632)<<16|i>>>16)+a<<0))+o[10]-1094730640)<<23|e>>>9)+i<<0,e=((e+=((r=(a=((a+=((n=e^i)^(t=((t+=(n^a)+o[13]+681279174)<<4|t>>>28)+e<<0))+o[0]-358537222)<<11|a>>>21)+t<<0)^t)^(i=((i+=(r^e)+o[3]-722521979)<<16|i>>>16)+a<<0))+o[6]+76029189)<<23|e>>>9)+i<<0,e=((e+=((r=(a=((a+=((n=e^i)^(t=((t+=(n^a)+o[9]-640364487)<<4|t>>>28)+e<<0))+o[12]-421815835)<<11|a>>>21)+t<<0)^t)^(i=((i+=(r^e)+o[15]+530742520)<<16|i>>>16)+a<<0))+o[2]-995338651)<<23|e>>>9)+i<<0,e=((e+=((a=((a+=(e^((t=((t+=(i^(e|~a))+o[0]-198630844)<<6|t>>>26)+e<<0)|~i))+o[7]+1126891415)<<10|a>>>22)+t<<0)^((i=((i+=(t^(a|~e))+o[14]-1416354905)<<15|i>>>17)+a<<0)|~t))+o[5]-57434055)<<21|e>>>11)+i<<0,e=((e+=((a=((a+=(e^((t=((t+=(i^(e|~a))+o[12]+1700485571)<<6|t>>>26)+e<<0)|~i))+o[3]-1894986606)<<10|a>>>22)+t<<0)^((i=((i+=(t^(a|~e))+o[10]-1051523)<<15|i>>>17)+a<<0)|~t))+o[1]-2054922799)<<21|e>>>11)+i<<0,e=((e+=((a=((a+=(e^((t=((t+=(i^(e|~a))+o[8]+1873313359)<<6|t>>>26)+e<<0)|~i))+o[15]-30611744)<<10|a>>>22)+t<<0)^((i=((i+=(t^(a|~e))+o[6]-1560198380)<<15|i>>>17)+a<<0)|~t))+o[13]+1309151649)<<21|e>>>11)+i<<0,e=((e+=((a=((a+=(e^((t=((t+=(i^(e|~a))+o[4]-145523070)<<6|t>>>26)+e<<0)|~i))+o[11]-1120210379)<<10|a>>>22)+t<<0)^((i=((i+=(t^(a|~e))+o[2]+718787259)<<15|i>>>17)+a<<0)|~t))+o[9]-343485551)<<21|e>>>11)+i<<0,this.first?(this.h0=t+1732584193<<0,this.h1=e-271733879<<0,this.h2=i-1732584194<<0,this.h3=a+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+i<<0,this.h3=this.h3+a<<0)},Md5.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,i=this.h2,a=this.h3;return HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,i=this.h2,a=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255,255&a,a>>8&255,a>>16&255,a>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var t,e,i,a="",n=this.array(),r=0;r<15;)t=n[r++],e=n[r++],i=n[r++],a+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|e>>>4)]+BASE64_ENCODE_CHAR[63&(e<<2|i>>>6)]+BASE64_ENCODE_CHAR[63&i];return t=n[r],a+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(exports,__webpack_require__("W2nU"),__webpack_require__("DuR2"))},NGRG:function(t,e,i){var a=i("/gxq"),n=a.each,r="\0__link_datas",o="\0__link_mainData";function s(t,e){if((n=this)[o]===n){var i=a.extend({},this[r]);i[this.dataType]=e,c(e,i,t)}else d(e,this.dataType,this[o],t);var n;return e}function l(t,e){return t.struct&&t.struct.update(this),e}function h(t,e){return n(e[r],function(i,a){i!==e&&d(i.cloneShallow(),a,e,t)}),e}function u(t){var e=this[o];return null==t||null==e?e:e[r][t]}function c(t,e,i){t[r]={},n(e,function(e,a){d(e,a,t,i)})}function d(t,e,i,a){i[r][e]=t,t[o]=i,t.dataType=e,a.struct&&(t[a.structAttr]=a.struct,a.struct[a.datasAttr[e]]=t),t.getLinkedData=u}var f=function(t){var e=t.mainData,i=t.datas;i||(i={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,c(e,i,t),n(i,function(i){n(e.TRANSFERABLE_METHODS,function(e){i.wrapMethod(e,a.curry(s,t))})}),e.wrapMethod("cloneShallow",a.curry(h,t)),n(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,a.curry(l,t))}),a.assert(i[e.dataType]===e)};t.exports=f},NKek:function(t,e){var i={axisPointer:1,tooltip:1,brush:1};e.onIrrelevantElement=function(t,e,a){var n=e.getComponentByElement(t.topTarget),r=n&&n.coordinateSystem;return n&&n!==a&&!i[n.mainType]&&r&&r.model!==a}},NMof:function(t,e,i){"use strict";var a,n;"function"==typeof Symbol&&Symbol.iterator;void 0===(n="function"==typeof(a=function(){var t=window,e={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function i(t,i,a){this._reference=t.jquery?t[0]:t,this.state={};var n=void 0===i||null===i,r=i&&"[object Object]"===Object.prototype.toString.call(i);return this._popper=n||r?this.parse(r?i:{}):i.jquery?i[0]:i,this._options=Object.assign({},e,a),this._options.modifiers=this._options.modifiers.map(function(t){if(-1===this._options.modifiersIgnored.indexOf(t))return"applyStyle"===t&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[t]||t}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),u(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function a(e){var i=e.style.display,a=e.style.visibility;e.style.display="block",e.style.visibility="hidden";e.offsetWidth;var n=t.getComputedStyle(e),r=parseFloat(n.marginTop)+parseFloat(n.marginBottom),o=parseFloat(n.marginLeft)+parseFloat(n.marginRight),s={width:e.offsetWidth+o,height:e.offsetHeight+r};return e.style.display=i,e.style.visibility=a,s}function n(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function r(t){var e=Object.assign({},t);return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function o(t,e){var i,a=0;for(i in t){if(t[i]===e)return a;a++}return null}function s(e,i){return t.getComputedStyle(e,null)[i]}function l(e){var i=e.offsetParent;return i!==t.document.body&&i?i:t.document.documentElement}function h(e){var i=e.parentNode;return i?i===t.document?t.document.body.scrollTop||t.document.body.scrollLeft?t.document.body:t.document.documentElement:-1!==["scroll","auto"].indexOf(s(i,"overflow"))||-1!==["scroll","auto"].indexOf(s(i,"overflow-x"))||-1!==["scroll","auto"].indexOf(s(i,"overflow-y"))?i:h(e.parentNode):e}function u(t,e){Object.keys(e).forEach(function(i){var a,n="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&(""!==(a=e[i])&&!isNaN(parseFloat(a))&&isFinite(a))&&(n="px"),t.style[i]=e[i]+n})}function c(t){var e={width:t.offsetWidth,height:t.offsetHeight,left:t.offsetLeft,top:t.offsetTop};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function d(t){var e=t.getBoundingClientRect(),i=-1!=navigator.userAgent.indexOf("MSIE")&&"HTML"===t.tagName?-t.scrollTop:e.top;return{left:e.left,top:i,right:e.right,bottom:e.bottom,width:e.right-e.left,height:e.bottom-i}}function f(e){for(var i=["","ms","webkit","moz","o"],a=0;a<i.length;a++){var n=i[a]?i[a]+e.charAt(0).toUpperCase()+e.slice(1):e;if(void 0!==t.document.body.style[n])return n}return null}return i.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[f("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},i.prototype.update=function(){var t={instance:this,styles:{}};t.placement=this._options.placement,t._originalPlacement=this._options.placement,t.offsets=this._getOffsets(this._popper,this._reference,t.placement),t.boundaries=this._getBoundaries(t,this._options.boundariesPadding,this._options.boundariesElement),t=this.runModifiers(t,this._options.modifiers),"function"==typeof this.state.updateCallback&&this.state.updateCallback(t)},i.prototype.onCreate=function(t){return t(this),this},i.prototype.onUpdate=function(t){return this.state.updateCallback=t,this},i.prototype.parse=function(e){var i={tagName:"div",classNames:["popper"],attributes:[],parent:t.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};e=Object.assign({},i,e);var a=t.document,n=a.createElement(e.tagName);if(s(n,e.classNames),l(n,e.attributes),"node"===e.contentType?n.appendChild(e.content.jquery?e.content[0]:e.content):"html"===e.contentType?n.innerHTML=e.content:n.textContent=e.content,e.arrowTagName){var r=a.createElement(e.arrowTagName);s(r,e.arrowClassNames),l(r,e.arrowAttributes),n.appendChild(r)}var o=e.parent.jquery?e.parent[0]:e.parent;if("string"==typeof o){if((o=a.querySelectorAll(e.parent)).length>1&&console.warn("WARNING: the given `parent` query("+e.parent+") matched more than one element, the first one will be used"),0===o.length)throw"ERROR: the given `parent` doesn't exists!";o=o[0]}return o.length>1&&o instanceof Element==!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),o=o[0]),o.appendChild(n),n;function s(t,e){e.forEach(function(e){t.classList.add(e)})}function l(t,e){e.forEach(function(e){t.setAttribute(e.split(":")[0],e.split(":")[1]||"")})}},i.prototype._getPosition=function(e,i){l(i);return this._options.forceAbsolute?"absolute":function e(i){if(i===t.document.body)return!1;if("fixed"===s(i,"position"))return!0;return i.parentNode?e(i.parentNode):i}(i)?"fixed":"absolute"},i.prototype._getOffsets=function(t,e,i){i=i.split("-")[0];var n={};n.position=this.state.position;var r="fixed"===n.position,o=function(t,e,i){var a=d(t),n=d(e);if(i){var r=h(e);n.top+=r.scrollTop,n.bottom+=r.scrollTop,n.left+=r.scrollLeft,n.right+=r.scrollLeft}return{top:a.top-n.top,left:a.left-n.left,bottom:a.top-n.top+a.height,right:a.left-n.left+a.width,width:a.width,height:a.height}}(e,l(t),r),s=a(t);return-1!==["right","left"].indexOf(i)?(n.top=o.top+o.height/2-s.height/2,n.left="left"===i?o.left-s.width:o.right):(n.left=o.left+o.width/2-s.width/2,n.top="top"===i?o.top-s.height:o.bottom),n.width=s.width,n.height=s.height,{popper:n,reference:o}},i.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),t.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var e=h(this._reference);e!==t.document.body&&e!==t.document.documentElement||(e=t),e.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=e}},i.prototype._removeEventListeners=function(){t.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},i.prototype._getBoundaries=function(e,i,a){var n,r,o={};if("window"===a){var s=t.document.body,u=t.document.documentElement;n=Math.max(s.scrollHeight,s.offsetHeight,u.clientHeight,u.scrollHeight,u.offsetHeight),o={top:0,right:Math.max(s.scrollWidth,s.offsetWidth,u.clientWidth,u.scrollWidth,u.offsetWidth),bottom:n,left:0}}else if("viewport"===a){var d=l(this._popper),f=h(this._popper),p=c(d),m="fixed"===e.offsets.popper.position?0:(r=f)==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):r.scrollTop,v="fixed"===e.offsets.popper.position?0:function(t){return t==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):t.scrollLeft}(f);o={top:0-(p.top-m),right:t.document.documentElement.clientWidth-(p.left-v),bottom:t.document.documentElement.clientHeight-(p.top-m),left:0-(p.left-v)}}else o=l(this._popper)===a?{top:0,left:0,right:a.clientWidth,bottom:a.clientHeight}:c(a);return o.left+=i,o.right-=i,o.top=o.top+i,o.bottom=o.bottom-i,o},i.prototype.runModifiers=function(t,e,i){var a=e.slice();return void 0!==i&&(a=this._options.modifiers.slice(0,o(this._options.modifiers,i))),a.forEach(function(e){var i;(i=e)&&"[object Function]"==={}.toString.call(i)&&(t=e.call(this,t))}.bind(this)),t},i.prototype.isModifierRequired=function(t,e){var i=o(this._options.modifiers,t);return!!this._options.modifiers.slice(0,i).filter(function(t){return t===e}).length},i.prototype.modifiers={},i.prototype.modifiers.applyStyle=function(t){var e,i={position:t.offsets.popper.position},a=Math.round(t.offsets.popper.left),n=Math.round(t.offsets.popper.top);return this._options.gpuAcceleration&&(e=f("transform"))?(i[e]="translate3d("+a+"px, "+n+"px, 0)",i.top=0,i.left=0):(i.left=a,i.top=n),Object.assign(i,t.styles),u(this._popper,i),this._popper.setAttribute("x-placement",t.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&t.offsets.arrow&&u(t.arrowElement,t.offsets.arrow),t},i.prototype.modifiers.shift=function(t){var e=t.placement,i=e.split("-")[0],a=e.split("-")[1];if(a){var n=t.offsets.reference,o=r(t.offsets.popper),s={y:{start:{top:n.top},end:{top:n.top+n.height-o.height}},x:{start:{left:n.left},end:{left:n.left+n.width-o.width}}},l=-1!==["bottom","top"].indexOf(i)?"x":"y";t.offsets.popper=Object.assign(o,s[l][a])}return t},i.prototype.modifiers.preventOverflow=function(t){var e=this._options.preventOverflowOrder,i=r(t.offsets.popper),a={left:function(){var e=i.left;return i.left<t.boundaries.left&&(e=Math.max(i.left,t.boundaries.left)),{left:e}},right:function(){var e=i.left;return i.right>t.boundaries.right&&(e=Math.min(i.left,t.boundaries.right-i.width)),{left:e}},top:function(){var e=i.top;return i.top<t.boundaries.top&&(e=Math.max(i.top,t.boundaries.top)),{top:e}},bottom:function(){var e=i.top;return i.bottom>t.boundaries.bottom&&(e=Math.min(i.top,t.boundaries.bottom-i.height)),{top:e}}};return e.forEach(function(e){t.offsets.popper=Object.assign(i,a[e]())}),t},i.prototype.modifiers.keepTogether=function(t){var e=r(t.offsets.popper),i=t.offsets.reference,a=Math.floor;return e.right<a(i.left)&&(t.offsets.popper.left=a(i.left)-e.width),e.left>a(i.right)&&(t.offsets.popper.left=a(i.right)),e.bottom<a(i.top)&&(t.offsets.popper.top=a(i.top)-e.height),e.top>a(i.bottom)&&(t.offsets.popper.top=a(i.bottom)),t},i.prototype.modifiers.flip=function(t){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),t;if(t.flipped&&t.placement===t._originalPlacement)return t;var e=t.placement.split("-")[0],i=n(e),a=t.placement.split("-")[1]||"",o=[];return(o="flip"===this._options.flipBehavior?[e,i]:this._options.flipBehavior).forEach(function(s,l){if(e===s&&o.length!==l+1){e=t.placement.split("-")[0],i=n(e);var h=r(t.offsets.popper),u=-1!==["right","bottom"].indexOf(e);(u&&Math.floor(t.offsets.reference[e])>Math.floor(h[i])||!u&&Math.floor(t.offsets.reference[e])<Math.floor(h[i]))&&(t.flipped=!0,t.placement=o[l+1],a&&(t.placement+="-"+a),t.offsets.popper=this._getOffsets(this._popper,this._reference,t.placement).popper,t=this.runModifiers(t,this._options.modifiers,this._flip))}}.bind(this)),t},i.prototype.modifiers.offset=function(t){var e=this._options.offset,i=t.offsets.popper;return-1!==t.placement.indexOf("left")?i.top-=e:-1!==t.placement.indexOf("right")?i.top+=e:-1!==t.placement.indexOf("top")?i.left-=e:-1!==t.placement.indexOf("bottom")&&(i.left+=e),t},i.prototype.modifiers.arrow=function(t){var e=this._options.arrowElement,i=this._options.arrowOffset;if("string"==typeof e&&(e=this._popper.querySelector(e)),!e)return t;if(!this._popper.contains(e))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),t;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),t;var n={},o=t.placement.split("-")[0],s=r(t.offsets.popper),l=t.offsets.reference,h=-1!==["left","right"].indexOf(o),u=h?"height":"width",c=h?"top":"left",d=h?"left":"top",f=h?"bottom":"right",p=a(e)[u];l[f]-p<s[c]&&(t.offsets.popper[c]-=s[c]-(l[f]-p)),l[c]+p>s[f]&&(t.offsets.popper[c]+=l[c]+p-s[f]);var m=l[c]+(i||l[u]/2-p/2)-s[c];return m=Math.max(Math.min(s[u]-p-8,m),8),n[c]=m,n[d]="",t.offsets.arrow=n,t.arrowElement=e,t},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),i=1;i<arguments.length;i++){var a=arguments[i];if(void 0!==a&&null!==a){a=Object(a);for(var n=Object.keys(a),r=0,o=n.length;r<o;r++){var s=n[r],l=Object.getOwnPropertyDescriptor(a,s);void 0!==l&&l.enumerable&&(e[s]=a[s])}}}return e}}),i})?a.call(e,i,e,t):a)||(t.exports=n)},NUWb:function(t,e,i){var a=i("/gxq"),n=i("HGSA"),r=a.each;function o(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}e.createVisualMappings=function(t,e,i){var o={};return r(e,function(e){var s,l=o[e]=((s=function(){}).prototype.__hidden=s.prototype,new s);r(t[e],function(t,r){if(n.isValidType(r)){var o={type:r,visual:t};i&&i(o,e),l[r]=new n(o),"opacity"===r&&((o=a.clone(o)).type="colorAlpha",l.__hidden.__alphaForOpacity=new n(o))}})}),o},e.replaceVisualOption=function(t,e,i){var n;a.each(i,function(t){e.hasOwnProperty(t)&&o(e[t])&&(n=!0)}),n&&a.each(i,function(i){e.hasOwnProperty(i)&&o(e[i])?t[i]=a.clone(e[i]):delete t[i]})},e.applyVisual=function(t,e,i,r,o,s){var l,h={};function u(t){return i.getItemVisual(l,t)}function c(t,e){i.setItemVisual(l,t,e)}function d(t,a){l=null==s?t:a;var n=i.getRawDataItem(l);if(!n||!1!==n.visualMap)for(var d=r.call(o,t),f=e[d],p=h[d],m=0,v=p.length;m<v;m++){var g=p[m];f[g]&&f[g].applyVisual(t,u,c)}}a.each(t,function(t){var i=n.prepareVisualTypes(e[t]);h[t]=i}),null==s?i.each(d):i.each([s],d)},e.incrementalApplyVisual=function(t,e,i,r){var o={};return a.each(t,function(t){var i=n.prepareVisualTypes(e[t]);o[t]=i}),{progress:function(t,a){function n(t){return a.getItemVisual(l,t)}function s(t,e){a.setItemVisual(l,t,e)}var l;for(null!=r&&(r=a.getDimension(r));null!=(l=t.next());){var h=a.getRawDataItem(l);if(!h||!1!==h.visualMap)for(var u=null!=r?a.get(r,l,!0):l,c=i(u),d=e[c],f=o[c],p=0,m=f.length;p<m;p++){var v=f[p];d[v]&&d[v].applyVisual(u,n,s)}}}}}},NV47:function(t,e,i){var a=i("jF+B"),n=a.alloc(512),r=a.alloc(256);!function(){for(var t=1,e=0;e<255;e++)n[e]=t,r[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)n[e]=n[e-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return r[t]},e.exp=function(t){return n[t]},e.mul=function(t,e){return 0===t||0===e?0:n[r[t]+r[e]]}},"NWt+":function(t,e,i){var a=i("+ZMJ"),n=i("msXi"),r=i("Mhyx"),o=i("77Pl"),s=i("QRG4"),l=i("3fs2"),h={},u={};(e=t.exports=function(t,e,i,c,d){var f,p,m,v,g=d?function(){return t}:l(t),C=a(i,c,e?2:1),D=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(r(g)){for(f=s(t.length);f>D;D++)if((v=e?C(o(p=t[D])[0],p[1]):C(t[D]))===h||v===u)return v}else for(m=g.call(t);!(p=m.next()).done;)if((v=n(m,C,p.value,e))===h||v===u)return v}).BREAK=h,e.RETURN=u},"NY/E":function(t,e){var i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",a="(?:(?![A-Z0-9 $%*+\\-./:]|"+(i=i.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";e.KANJI=new RegExp(i,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(a,"g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var n=new RegExp("^"+i+"$"),r=new RegExp("^[0-9]+$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return n.test(t)},e.testNumeric=function(t){return r.test(t)},e.testAlphanumeric=function(t){return o.test(t)}},NYxO:function(t,e,i){"use strict";(function(t){i.d(e,"b",function(){return D});var a=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function n(t,e){Object.keys(t).forEach(function(i){return e(t[i],i)})}function r(t){return null!==t&&"object"==typeof t}var o=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"==typeof i?i():i)||{}},s={namespaced:{configurable:!0}};s.namespaced.get=function(){return!!this._rawModule.namespaced},o.prototype.addChild=function(t,e){this._children[t]=e},o.prototype.removeChild=function(t){delete this._children[t]},o.prototype.getChild=function(t){return this._children[t]},o.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},o.prototype.forEachChild=function(t){n(this._children,t)},o.prototype.forEachGetter=function(t){this._rawModule.getters&&n(this._rawModule.getters,t)},o.prototype.forEachAction=function(t){this._rawModule.actions&&n(this._rawModule.actions,t)},o.prototype.forEachMutation=function(t){this._rawModule.mutations&&n(this._rawModule.mutations,t)},Object.defineProperties(o.prototype,s);var l=function(t){this.register([],t,!1)};l.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},l.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,i){return t+((e=e.getChild(i)).namespaced?i+"/":"")},"")},l.prototype.update=function(t){!function t(e,i,a){0;i.update(a);if(a.modules)for(var n in a.modules){if(!i.getChild(n))return void 0;t(e.concat(n),i.getChild(n),a.modules[n])}}([],this.root,t)},l.prototype.register=function(t,e,i){var a=this;void 0===i&&(i=!0);var r=new o(e,i);0===t.length?this.root=r:this.get(t.slice(0,-1)).addChild(t[t.length-1],r);e.modules&&n(e.modules,function(e,n){a.register(t.concat(n),e,i)})},l.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];e.getChild(i).runtime&&e.removeChild(i)};var h;var u=function(t){var e=this;void 0===t&&(t={}),!h&&"undefined"!=typeof window&&window.Vue&&C(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var n=t.strict;void 0===n&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new l(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new h,this._makeLocalGettersCache=Object.create(null);var r=this,o=this.dispatch,s=this.commit;this.dispatch=function(t,e){return o.call(r,t,e)},this.commit=function(t,e,i){return s.call(r,t,e,i)},this.strict=n;var u=this._modules.root.state;m(this,u,[],this._modules.root),p(this,u),i.forEach(function(t){return t(e)}),(void 0!==t.devtools?t.devtools:h.config.devtools)&&function(t){a&&(t._devtoolHook=a,a.emit("vuex:init",t),a.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){a.emit("vuex:mutation",t,e)}))}(this)},c={state:{configurable:!0}};function d(t,e){return e.indexOf(t)<0&&e.push(t),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function f(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;m(t,i,[],t._modules.root,!0),p(t,i,e)}function p(t,e,i){var a=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var r={};n(t._wrappedGetters,function(e,i){r[i]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,i,{get:function(){return t._vm[i]},enumerable:!0})});var o=h.config.silent;h.config.silent=!0,t._vm=new h({data:{$$state:e},computed:r}),h.config.silent=o,t.strict&&function(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}(t),a&&(i&&t._withCommit(function(){a._data.$$state=null}),h.nextTick(function(){return a.$destroy()}))}function m(t,e,i,a,n){var r=!i.length,o=t._modules.getNamespace(i);if(a.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=a),!r&&!n){var s=v(e,i.slice(0,-1)),l=i[i.length-1];t._withCommit(function(){h.set(s,l,a.state)})}var u=a.context=function(t,e,i){var a=""===e,n={dispatch:a?t.dispatch:function(i,a,n){var r=g(i,a,n),o=r.payload,s=r.options,l=r.type;return s&&s.root||(l=e+l),t.dispatch(l,o)},commit:a?t.commit:function(i,a,n){var r=g(i,a,n),o=r.payload,s=r.options,l=r.type;s&&s.root||(l=e+l),t.commit(l,o,s)}};return Object.defineProperties(n,{getters:{get:a?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var i={},a=e.length;Object.keys(t.getters).forEach(function(n){if(n.slice(0,a)===e){var r=n.slice(a);Object.defineProperty(i,r,{get:function(){return t.getters[n]},enumerable:!0})}}),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return v(t.state,i)}}}),n}(t,o,i);a.forEachMutation(function(e,i){!function(t,e,i,a){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){i.call(t,a.state,e)})}(t,o+i,e,u)}),a.forEachAction(function(e,i){var a=e.root?i:o+i,n=e.handler||e;!function(t,e,i,a){(t._actions[e]||(t._actions[e]=[])).push(function(e){var n,r=i.call(t,{dispatch:a.dispatch,commit:a.commit,getters:a.getters,state:a.state,rootGetters:t.getters,rootState:t.state},e);return(n=r)&&"function"==typeof n.then||(r=Promise.resolve(r)),t._devtoolHook?r.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):r})}(t,a,n,u)}),a.forEachGetter(function(e,i){!function(t,e,i,a){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return i(a.state,a.getters,t.state,t.getters)}}(t,o+i,e,u)}),a.forEachChild(function(a,r){m(t,e,i.concat(r),a,n)})}function v(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function g(t,e,i){return r(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}function C(t){h&&t===h||
/**
 * vuex v3.1.2
 * (c) 2019 Evan You
 * @license MIT
 */
function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:i});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[i].concat(t.init):i,e.call(this,t)}}function i(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(h=t)}c.state.get=function(){return this._vm._data.$$state},c.state.set=function(t){0},u.prototype.commit=function(t,e,i){var a=this,n=g(t,e,i),r=n.type,o=n.payload,s=(n.options,{type:r,payload:o}),l=this._mutations[r];l&&(this._withCommit(function(){l.forEach(function(t){t(o)})}),this._subscribers.forEach(function(t){return t(s,a.state)}))},u.prototype.dispatch=function(t,e){var i=this,a=g(t,e),n=a.type,r=a.payload,o={type:n,payload:r},s=this._actions[n];if(s){try{this._actionSubscribers.filter(function(t){return t.before}).forEach(function(t){return t.before(o,i.state)})}catch(t){0}return(s.length>1?Promise.all(s.map(function(t){return t(r)})):s[0](r)).then(function(t){try{i._actionSubscribers.filter(function(t){return t.after}).forEach(function(t){return t.after(o,i.state)})}catch(t){0}return t})}},u.prototype.subscribe=function(t){return d(t,this._subscribers)},u.prototype.subscribeAction=function(t){return d("function"==typeof t?{before:t}:t,this._actionSubscribers)},u.prototype.watch=function(t,e,i){var a=this;return this._watcherVM.$watch(function(){return t(a.state,a.getters)},e,i)},u.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},u.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),m(this,this.state,t,this._modules.get(t),i.preserveState),p(this,this.state)},u.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var i=v(e.state,t.slice(0,-1));h.delete(i,t[t.length-1])}),f(this)},u.prototype.hotUpdate=function(t){this._modules.update(t),f(this,!0)},u.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(u.prototype,c);var D=T(function(t,e){var i={};return I(e).forEach(function(e){var a=e.key,n=e.val;i[a]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var a=b(this.$store,"mapState",t);if(!a)return;e=a.context.state,i=a.context.getters}return"function"==typeof n?n.call(this,e,i):e[n]},i[a].vuex=!0}),i}),y=T(function(t,e){var i={};return I(e).forEach(function(e){var a=e.key,n=e.val;i[a]=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var a=this.$store.commit;if(t){var r=b(this.$store,"mapMutations",t);if(!r)return;a=r.context.commit}return"function"==typeof n?n.apply(this,[a].concat(e)):a.apply(this.$store,[n].concat(e))}}),i}),x=T(function(t,e){var i={};return I(e).forEach(function(e){var a=e.key,n=e.val;n=t+n,i[a]=function(){if(!t||b(this.$store,"mapGetters",t))return this.$store.getters[n]},i[a].vuex=!0}),i}),S=T(function(t,e){var i={};return I(e).forEach(function(e){var a=e.key,n=e.val;i[a]=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var a=this.$store.dispatch;if(t){var r=b(this.$store,"mapActions",t);if(!r)return;a=r.context.dispatch}return"function"==typeof n?n.apply(this,[a].concat(e)):a.apply(this.$store,[n].concat(e))}}),i});function I(t){return function(t){return Array.isArray(t)||r(t)}(t)?Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function T(t){return function(e,i){return"string"!=typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function b(t,e,i){return t._modulesNamespaceMap[i]}var w={Store:u,install:C,version:"3.1.2",mapState:D,mapMutations:y,mapGetters:x,mapActions:S,createNamespacedHelpers:function(t){return{mapState:D.bind(null,t),mapGetters:x.bind(null,t),mapMutations:y.bind(null,t),mapActions:S.bind(null,t)}}};e.a=w}).call(e,i("DuR2"))},NZsM:function(t,e,i){var a=i("3h1/"),n=i("0sHC"),r=["textStyle","color"],o={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(r):null)},getFont:function(){return n.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return a.getBoundingRect(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};t.exports=o},NjeB:function(t,e,i){var a=i("/gxq"),n=i("Y5nL"),r=i("eH0a"),o=i("2uoh"),s=n.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});a.merge(s.prototype,o);var l={splitNumber:5};function h(t,e){return e.type||(e.data?"category":"value")}r("angle",s,h,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),r("radius",s,h,l)},No7X:function(t,e,i){var a=i("2XvD"),n=i("b8C2");e.buildPath=function(t,e,i){var r=e.points,o=e.smooth;if(r&&r.length>=2){if(o&&"spline"!==o){var s=n(r,o,i,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var l=r.length,h=0;h<(i?l:l-1);h++){var u=s[2*h],c=s[2*h+1],d=r[(h+1)%l];t.bezierCurveTo(u[0],u[1],c[0],c[1],d[0],d[1])}}else{"spline"===o&&(r=a(r,i)),t.moveTo(r[0][0],r[0][1]),h=1;for(var f=r.length;h<f;h++)t.lineTo(r[h][0],r[h][1])}i&&t.closePath()}}},NpIQ:function(t,e){e.f={}.propertyIsEnumerable},O4g8:function(t,e){t.exports=!0},O523:function(t,e,i){var a=i("Icdr");i("gLqW"),i("ix3c"),i("+pdh");var n=i("M9eA"),r=i("fm2I");a.registerVisual(n),a.registerLayout(r)},OAzY:function(t,e,i){"use strict";e.__esModule=!0;var a,n=i("/5sW"),r=(a=n)&&a.__esModule?a:{default:a},o=i("2kvA");var s=!1,l=!1,h=void 0,u=function(){if(!r.default.prototype.$isServer){var t=d.modalDom;return t?s=!0:(s=!1,t=document.createElement("div"),d.modalDom=t,t.addEventListener("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),t.addEventListener("click",function(){d.doOnModalClick&&d.doOnModalClick()})),t}},c={},d={modalFade:!0,getInstance:function(t){return c[t]},register:function(t,e){t&&e&&(c[t]=e)},deregister:function(t){t&&(c[t]=null,delete c[t])},nextZIndex:function(){return d.zIndex++},modalStack:[],doOnModalClick:function(){var t=d.modalStack[d.modalStack.length-1];if(t){var e=d.getInstance(t.id);e&&e.closeOnClickModal&&e.close()}},openModal:function(t,e,i,a,n){if(!r.default.prototype.$isServer&&t&&void 0!==e){this.modalFade=n;for(var l=this.modalStack,h=0,c=l.length;h<c;h++){if(l[h].id===t)return}var d=u();if((0,o.addClass)(d,"v-modal"),this.modalFade&&!s&&(0,o.addClass)(d,"v-modal-enter"),a)a.trim().split(/\s+/).forEach(function(t){return(0,o.addClass)(d,t)});setTimeout(function(){(0,o.removeClass)(d,"v-modal-enter")},200),i&&i.parentNode&&11!==i.parentNode.nodeType?i.parentNode.appendChild(d):document.body.appendChild(d),e&&(d.style.zIndex=e),d.tabIndex=0,d.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:a})}},closeModal:function(t){var e=this.modalStack,i=u();if(e.length>0){var a=e[e.length-1];if(a.id===t){if(a.modalClass)a.modalClass.trim().split(/\s+/).forEach(function(t){return(0,o.removeClass)(i,t)});e.pop(),e.length>0&&(i.style.zIndex=e[e.length-1].zIndex)}else for(var n=e.length-1;n>=0;n--)if(e[n].id===t){e.splice(n,1);break}}0===e.length&&(this.modalFade&&(0,o.addClass)(i,"v-modal-leave"),setTimeout(function(){0===e.length&&(i.parentNode&&i.parentNode.removeChild(i),i.style.display="none",d.modalDom=void 0),(0,o.removeClass)(i,"v-modal-leave")},200))}};Object.defineProperty(d,"zIndex",{configurable:!0,get:function(){return l||(h=h||(r.default.prototype.$ELEMENT||{}).zIndex||2e3,l=!0),h},set:function(t){h=t}});r.default.prototype.$isServer||window.addEventListener("keydown",function(t){if(27===t.keyCode){var e=function(){if(!r.default.prototype.$isServer&&d.modalStack.length>0){var t=d.modalStack[d.modalStack.length-1];if(!t)return;return d.getInstance(t.id)}}();e&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}}),e.default=d},OCS9:function(t,e,i){var a=i("/gxq"),n=["rect","polygon","keep","clear"];t.exports=function(t,e){var i=t&&t.brush;if(a.isArray(i)||(i=i?[i]:[]),i.length){var r=[];a.each(i,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(r=r.concat(e))});var o=t&&t.toolbox;a.isArray(o)&&(o=o[0]),o||(o={feature:{}},t.toolbox=[o]);var s,l,h=o.feature||(o.feature={}),u=h.brush||(h.brush={}),c=u.type||(u.type=[]);c.push.apply(c,r),s=c,l={},a.each(s,function(t){l[t]=1}),s.length=0,a.each(l,function(t,e){s.push(e)}),e&&!c.length&&c.push.apply(c,n)}}},ON07:function(t,e,i){var a=i("EqjI"),n=i("7KvD").document,r=a(n)&&a(n.createElement);t.exports=function(t){return r?n.createElement(t):{}}},ON3O:function(t,e,i){var a=i("uY1a");t.exports=function(t,e,i){return void 0===i?a(t,e,!1):a(t,i,!1!==e)}},OQAC:function(t,e,i){var a=i("2m1D").extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,a.superApply(this,"getInitialData",arguments)}}),n=a;t.exports=n},OT4p:function(t,e,i){var a=i("/gxq"),n=i("g+yZ").devicePixelRatio,r=i("d8Tt"),o=i("dZ2L");function s(){return!1}function l(t,e,i){var n=a.createCanvas(),r=e.getWidth(),o=e.getHeight(),s=n.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=r+"px",s.height=o+"px",n.setAttribute("data-zr-dom-id",t)),n.width=r*i,n.height=o*i,n}var h=function(t,e,i){var r;i=i||n,"string"==typeof t?r=l(t,e,i):a.isObject(t)&&(t=(r=t).id),this.id=t,this.dom=r;var o=r.style;o&&(r.onselectstart=s,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o.padding=0,o.margin=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};h.prototype={constructor:h,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=l("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,a=this.dom,n=a.style,r=this.domBack;n&&(n.width=t+"px",n.height=e+"px"),a.width=t*i,a.height=e*i,r&&(r.width=t*i,r.height=e*i,1!==i&&this.ctxBack.scale(i,i))},clear:function(t,e){var i,a=this.dom,n=this.ctx,s=a.width,l=a.height,h=(e=e||this.clearColor,this.motionBlur&&!t),u=this.lastFrameAlpha,c=this.dpr;(h&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/c,l/c)),n.clearRect(0,0,s,l),e&&"transparent"!==e)&&(e.colorStops?(i=e.__canvasGradient||r.getGradient(n,e,{x:0,y:0,width:s,height:l}),e.__canvasGradient=i):e.image&&(i=o.prototype.getCanvasPattern.call(e,n)),n.save(),n.fillStyle=i||e,n.fillRect(0,0,s,l),n.restore());if(h){var d=this.domBack;n.save(),n.globalAlpha=u,n.drawImage(d,0,0,s,l),n.restore()}}};var u=h;t.exports=u},OYls:function(t,e,i){i("crlp")("asyncIterator")},OcRu:function(t,e,i){i("4Nz2").__DEV__;var a=i("Icdr"),n=i("0sHC"),r=i("LgWN"),o=i("/gxq");var s=a.extendChartView({type:"heatmap",render:function(t,e,i){var a;e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(i){i===t&&(a=e)})}),this.group.removeAll(),this._incrementalDisplayable=null;var n=t.coordinateSystem;"cartesian2d"===n.type||"calendar"===n.type?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):function(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}(n)&&this._renderOnGeo(n,t,a,i)},incrementalPrepareRender:function(t,e,i){this.group.removeAll()},incrementalRender:function(t,e,i,a){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,a,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,i,a,r){var s,l,h=t.coordinateSystem;if("cartesian2d"===h.type){var u=h.getAxis("x"),c=h.getAxis("y");s=u.getBandWidth(),l=c.getBandWidth()}for(var d=this.group,f=t.getData(),p=t.getModel("itemStyle").getItemStyle(["color"]),m=t.getModel("emphasis.itemStyle").getItemStyle(),v=t.getModel("label"),g=t.getModel("emphasis.label"),C=h.type,D="cartesian2d"===C?[f.mapDimension("x"),f.mapDimension("y"),f.mapDimension("value")]:[f.mapDimension("time"),f.mapDimension("value")],y=i;y<a;y++){var x;if("cartesian2d"===C){if(isNaN(f.get(D[2],y)))continue;var S=h.dataToPoint([f.get(D[0],y),f.get(D[1],y)]);x=new n.Rect({shape:{x:S[0]-s/2,y:S[1]-l/2,width:s,height:l},style:{fill:f.getItemVisual(y,"color"),opacity:f.getItemVisual(y,"opacity")}})}else{if(isNaN(f.get(D[1],y)))continue;x=new n.Rect({z2:1,shape:h.dataToRect([f.get(D[0],y)]).contentShape,style:{fill:f.getItemVisual(y,"color"),opacity:f.getItemVisual(y,"opacity")}})}var I=f.getItemModel(y);f.hasItemOption&&(p=I.getModel("itemStyle").getItemStyle(["color"]),m=I.getModel("emphasis.itemStyle").getItemStyle(),v=I.getModel("label"),g=I.getModel("emphasis.label"));var T=t.getRawValue(y),b="-";T&&null!=T[2]&&(b=T[2]),n.setLabelStyle(p,m,v,g,{labelFetcher:t,labelDataIndex:y,defaultText:b,isRectText:!0}),x.setStyle(p),n.setHoverStyle(x,f.hasItemOption?m:o.extend({},m)),x.incremental=r,r&&(x.useHoverLayer=!0),d.add(x),f.setItemGraphicEl(y,x)}},_renderOnGeo:function(t,e,i,a){var s=i.targetVisuals.inRange,l=i.targetVisuals.outOfRange,h=e.getData(),u=this._hmLayer||this._hmLayer||new r;u.blurSize=e.get("blurSize"),u.pointSize=e.get("pointSize"),u.minOpacity=e.get("minOpacity"),u.maxOpacity=e.get("maxOpacity");var c=t.getViewRect().clone(),d=t.getRoamTransform();c.applyTransform(d);var f=Math.max(c.x,0),p=Math.max(c.y,0),m=Math.min(c.width+c.x,a.getWidth()),v=Math.min(c.height+c.y,a.getHeight()),g=m-f,C=v-p,D=[h.mapDimension("lng"),h.mapDimension("lat"),h.mapDimension("value")],y=h.mapArray(D,function(e,i,a){var n=t.dataToPoint([e,i]);return n[0]-=f,n[1]-=p,n.push(a),n}),x=i.getExtent(),S="visualMap.continuous"===i.type?function(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]&&t<=e[1]}}(x,i.option.range):function(t,e,i){var a=t[1]-t[0],n=(e=o.map(e,function(e){return{interval:[(e.interval[0]-t[0])/a,(e.interval[1]-t[0])/a]}})).length,r=0;return function(t){for(var a=r;a<n;a++)if((o=e[a].interval)[0]<=t&&t<=o[1]){r=a;break}if(a===n)for(a=r-1;a>=0;a--){var o;if((o=e[a].interval)[0]<=t&&t<=o[1]){r=a;break}}return a>=0&&a<n&&i[a]}}(x,i.getPieceList(),i.option.selected);u.update(y,g,C,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:l.color.getColorMapper()},S);var I=new n.Image({style:{width:g,height:C,x:f,y:p,image:u.canvas},silent:!0});this.group.add(I)},dispose:function(){}});t.exports=s},Of86:function(t,e,i){var a=i("GxVO").extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});t.exports=a},OkSz:function(t,e,i){var a=i("/gxq"),n=i("0sHC"),r=Math.PI;t.exports=function(t,e){e=e||{},a.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var i=new n.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),o=new n.Arc({shape:{startAngle:-r/2,endAngle:-r/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),s=new n.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:3*r/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*r/2}).delay(300).start("circularInOut");var l=new n.Group;return l.add(o),l.add(s),l.add(i),l.resize=function(){var e=t.getWidth()/2,a=t.getHeight()/2;o.setShape({cx:e,cy:a});var n=o.shape.r;s.setShape({x:e-n,y:a-n,width:2*n,height:2*n}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},l.resize(),l}},OlnU:function(t,e,i){var a=i("/gxq"),n=i("wH4Y"),r=i("wWR3"),o=[20,140],s=n.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){s.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){s.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=o[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=o[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):a.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){n.prototype.completeVisualOption.apply(this,arguments),a.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=r.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var a=[],n=i.getData();n.each(this.getDataDimension(n),function(e,i){t[0]<=e&&e<=t[1]&&a.push(i)},this),e.push({seriesId:i.id,dataIndex:a})},this),e},getVisualMeta:function(t){var e=l(this,"outOfRange",this.getExtent()),i=l(this,"inRange",this.option.range.slice()),a=[];function n(e,i){a.push({value:e,color:t(e,i)})}for(var r=0,o=0,s=i.length,h=e.length;o<h&&(!i.length||e[o]<=i[0]);o++)e[o]<i[r]&&n(e[o],"outOfRange");for(var u=1;r<s;r++,u=0)u&&a.length&&n(i[r],"outOfRange"),n(i[r],"inRange");for(u=1;o<h;o++)(!i.length||i[i.length-1]<e[o])&&(u&&(a.length&&n(a[a.length-1].value,"outOfRange"),u=0),n(e[o],"outOfRange"));var c=a.length;return{stops:a,outerColors:[c?a[0].color:"transparent",c?a[c-1].color:"transparent"]}}});function l(t,e,i){if(i[0]===i[1])return i.slice();for(var a=(i[1]-i[0])/200,n=i[0],r=[],o=0;o<=200&&n<i[1];o++)r.push(n),n+=a;return r.push(i[1]),r}var h=s;t.exports=h},OpfW:function(t,e,i){var a=i("/gxq");function n(t,e){return e=e||[0,0],a.map([0,1],function(i){var a=e[i],n=t[i]/2,r=[],o=[];return r[i]=a-n,o[i]=a+n,r[1-i]=o[1-i]=e[1-i],Math.abs(this.dataToPoint(r)[i]-this.dataToPoint(o)[i])},this)}t.exports=function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:a.bind(n,t)}}}},Oq2I:function(t,e,i){var a=i("Icdr");i("AKXb"),i("7XrG"),i("XAC3"),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})},Osoq:function(t,e,i){i("Y5nL").registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})},Ou7x:function(t,e,i){var a=i("/gxq"),n=i("BNYN"),r=i("0sHC"),o=i("QCrJ"),s=i("UAiw"),l=i("QD+P"),h=(0,i("vXqC").makeInner)(),u=a.clone,c=a.bind;function d(){}function f(t,e,i,n){(function t(e,i){if(a.isObject(e)&&a.isObject(i)){var n=!0;return a.each(i,function(i,a){n=n&&t(e[a],i)}),!!n}return e===i})(h(i).lastProp,n)||(h(i).lastProp=n,e?r.updateProps(i,n,t):(i.stopAnimation(),i.attr(n)))}function p(t,e){t[e.get("label.show")?"show":"hide"]()}function m(t){return{position:t.position.slice(),rotation:t.rotation||0}}function v(t,e,i){var a=e.get("z"),n=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=a&&(t.z=a),null!=n&&(t.zlevel=n),t.silent=i)})}d.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,i,n){var o=e.get("value"),s=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==o||this._lastStatus!==s){this._lastValue=o,this._lastStatus=s;var l=this._group,h=this._handle;if(!s||"hide"===s)return l&&l.hide(),void(h&&h.hide());l&&l.show(),h&&h.show();var u={};this.makeElOption(u,o,t,e,i);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=c;var d=this._moveAnimation=this.determineAnimation(t,e);if(l){var p=a.curry(f,e,d);this.updatePointerEl(l,u,p,e),this.updateLabelEl(l,u,p,e)}else l=this._group=new r.Group,this.createPointerEl(l,u,t,e),this.createLabelEl(l,u,t,e),i.getZr().add(l);v(l,e,!0),this._renderHandle(o)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var i=e.get("animation"),a=t.axis,n="category"===a.type,r=e.get("snap");if(!r&&!n)return!1;if("auto"===i||null==i){var s=this.animationThreshold;if(n&&a.getBandWidth()>s)return!0;if(r){var l=o.getAxisInfo(t).seriesDataCount,h=a.getExtent();return Math.abs(h[0]-h[1])/l>s}return!1}return!0===i},makeElOption:function(t,e,i,a,n){},createPointerEl:function(t,e,i,a){var n=e.pointer;if(n){var o=h(t).pointerEl=new r[n.type](u(e.pointer));t.add(o)}},createLabelEl:function(t,e,i,a){if(e.label){var n=h(t).labelEl=new r.Rect(u(e.label));t.add(n),p(n,a)}},updatePointerEl:function(t,e,i){var a=h(t).pointerEl;a&&e.pointer&&(a.setStyle(e.pointer.style),i(a,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,i,a){var n=h(t).labelEl;n&&(n.setStyle(e.label.style),i(n,{shape:e.label.shape,position:e.label.position}),p(n,a))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,n=this._api.getZr(),o=this._handle,h=i.getModel("handle"),u=i.get("status");if(!h.get("show")||!u||"hide"===u)return o&&n.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=r.createIcon(h.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){s.stop(t.event)},onmousedown:c(this._onHandleDragMove,this,0,0),drift:c(this._onHandleDragMove,this),ondragend:c(this._onHandleDragEnd,this)}),n.add(o)),v(o,i,!1);o.setStyle(h.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=h.get("size");a.isArray(d)||(d=[d,d]),o.attr("scale",[d[0]/2,d[1]/2]),l.createOrUpdate(this,"_doDispatchAxisPointer",h.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){f(this._axisPointerModel,!e&&this._moveAnimation,this._handle,m(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var i=this._handle;if(i){this._dragging=!0;var a=this.updateHandleTransform(m(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=a,i.stopAnimation(),i.attr(m(a)),h(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,a=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),a&&e.remove(a),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}}},d.prototype.constructor=d,n.enableClassExtend(d);var g=d;t.exports=g},OvRC:function(t,e,i){t.exports={default:i("oM7Q"),__esModule:!0}},OvrE:function(t,e,i){var a=i("/gxq"),n=i("/gZK"),r=i("EJsE"),o=i("HHfb"),s=o.encodeHTML,l=o.addCommas,h=i("kQD9"),u=i("5KBG").retrieveRawAttr,c=i("AlF5"),d=r.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(t){for(var e=n(this,["value"]),i=e.mapDimension("value"),r=a.createHashMap(),o=[],s=[],l=0,h=e.count();l<h;l++){var d=e.getName(l);r.set(d,!0),o.push({name:d,value:e.get(i,l),selected:u(e,l,"selected")})}var f=c.load(this.getMapType(),this.option.nameMap);return a.each(f.regions,function(t){var e=t.name;r.get(e)||(o.push({name:e}),s.push(e))}),this.updateSelectedMap(o),e.appendValues([],s),e},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),i=l(this.getRawValue(t)),a=e.getName(t),n=this.seriesGroup,r=[],o=0;o<n.length;o++){var h=n[o].originalData.indexOfName(a),u=e.mapDimension("value");isNaN(n[o].originalData.get(u,h))||r.push(s(n[o].name))}return r.join(", ")+"<br />"+s(a+" : "+i)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),i=this.coordinateSystem,a=i.getRegion(e);return a&&i.dataToPoint(a.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});a.mixin(d,h);var f=d;t.exports=f},OxCu:function(t,e,i){var a=i("/gxq"),n=i("vXqC");t.exports=function(t,e){var i,r=[],o=t.seriesIndex;if(null==o||!(i=e.getSeriesByIndex(o)))return{point:[]};var s=i.getData(),l=n.queryDataIndex(s,t);if(null==l||l<0||a.isArray(l))return{point:[]};var h=s.getItemGraphicEl(l),u=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(l)||[];else if(u&&u.dataToPoint)r=u.dataToPoint(s.getValues(a.map(u.dimensions,function(t){return s.mapDimension(t)}),l,!0))||[];else if(h){var c=h.getBoundingRect().clone();c.applyTransform(h.transform),r=[c.x+c.width/2,c.y+c.height/2]}return{point:r,el:h}}},P0a5:function(t,e,i){i("4Nz2").__DEV__;var a=i("EJsE"),n=i("Rfu2"),r=i("/gxq"),o=r.concatArray,s=r.mergeAll,l=r.map,h=i("HHfb").encodeHTML,u=(i("rctg"),"undefined"==typeof Uint32Array?Array:Uint32Array),c="undefined"==typeof Float64Array?Array:Float64Array;function d(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=l(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),s([e,t[0],t[1]])}))}var f=a.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){t.data=t.data||[],d(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),f.superApply(this,"init",arguments)},mergeOption:function(t){if(t.data=t.data||[],d(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}f.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=o(this._flatCoords,e.flatCoords),this._flatCoordsOffset=o(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*t],a=this._flatCoordsOffset[2*t+1],n=0;n<a;n++)e[n]=e[n]||[],e[n][0]=this._flatCoords[i+2*n],e[n][1]=this._flatCoords[i+2*n+1];return a}var r=this._getCoordsFromItemModel(t);for(n=0;n<r.length;n++)e[n]=e[n]||[],e[n][0]=r[n][0],e[n][1]=r[n][1];return r.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var i=t.length,a=new u(i),n=new c(i),r=0,o=0,s=0,l=0;l<i;){s++;var h=t[l++];a[o++]=r+e,a[o++]=h;for(var d=0;d<h;d++){var f=t[l++],p=t[l++];n[r++]=f,n[r++]=p}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,o),flatCoords:n,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var i=new n(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],function(t,e,a,n){if(t instanceof Array)return NaN;i.hasItemOption=!0;var r=t.value;return null!=r?r instanceof Array?r[n]:r:void 0}),i},formatTooltip:function(t){var e=this.getData().getItemModel(t),i=e.get("name");if(i)return i;var a=e.get("fromName"),n=e.get("toName"),r=[];return null!=a&&r.push(a),null!=n&&r.push(n),h(r.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),p=f;t.exports=p},P7Q7:function(t,e,i){var a=i("ao1T"),n=i("EJsE").extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){return a(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});t.exports=n},P7ry:function(t,e,i){i("80cc"),i("dp0Z"),i("wLWv"),i("R0U9")},PBlc:function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=i("6axr"),r=i("wWR3").parsePercent,o=i("3yJd"),s=o.createScaleByModel,l=o.niceScaleExtent,h=i("rctg"),u=i("qVJQ").getStackedDimension;function c(t,e){var i=this,n=i.getAngleAxis(),r=i.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===i){var e=t.getData();a.each(e.mapDimension("radius",!0),function(t){r.scale.unionExtentFromData(e,u(e,t))}),a.each(e.mapDimension("angle",!0),function(t){n.scale.unionExtentFromData(e,u(e,t))})}}),l(n.scale,n.model),l(r.scale,r.model),"category"===n.type&&!n.onBand){var o=n.getExtent(),s=360/n.scale.count();n.inverse?o[1]+=s:o[1]-=s,n.setExtent(o[0],o[1])}}function d(t,e){if(t.type=e.get("type"),t.scale=s(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType){t.inverse^=e.get("clockwise");var i=e.get("startAngle");t.setExtent(i,i+(t.inverse?-360:360))}e.axis=t,t.model=e}i("ZRmN");var f={dimensions:n.prototype.dimensions,create:function(t,e){var i=[];return t.eachComponent("polar",function(t,o){var s=new n(o);s.update=c;var l=s.getRadiusAxis(),h=s.getAngleAxis(),u=t.findAxisModel("radiusAxis"),f=t.findAxisModel("angleAxis");d(l,u),d(h,f),function(t,e,i){var n=e.get("center"),o=i.getWidth(),s=i.getHeight();t.cx=r(n[0],o),t.cy=r(n[1],s);var l=t.getRadiusAxis(),h=Math.min(o,s)/2,u=e.get("radius");null==u?u=[0,"100%"]:a.isArray(u)||(u=[0,u]),u=[r(u[0],h),r(u[1],h)],l.inverse?l.setExtent(u[1],u[0]):l.setExtent(u[0],u[1])}(s,t,e),i.push(s),t.coordinateSystem=s,s.model=t}),t.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var i=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];e.coordinateSystem=i.coordinateSystem}}),i}};h.register("polar",f)},PD67:function(t,e,i){var a=i("GxVO"),n=i("Sm9T"),r=i("xr8J").subPixelOptimizeRect,o={},s=a.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i,a,s,l;this.subPixelOptimize?(r(o,e,this.style),i=o.x,a=o.y,s=o.width,l=o.height,o.r=e.r,e=o):(i=e.x,a=e.y,s=e.width,l=e.height),e.r?n.buildPath(t,e):t.rect(i,a,s,l),t.closePath()}});t.exports=s},PWa9:function(t,e){var i={average:function(t){for(var e=0,i=0,a=0;a<t.length;a++)isNaN(t[a])||(e+=t[a],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},a=function(t,e){return Math.round(t.length/2)};t.exports=function(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t,e,n){var r=t.getData(),o=t.get("sampling"),s=t.coordinateSystem;if("cartesian2d"===s.type&&o){var l,h=s.getBaseAxis(),u=s.getOtherAxis(h),c=h.getExtent(),d=c[1]-c[0],f=Math.round(r.count()/d);f>1&&("string"==typeof o?l=i[o]:"function"==typeof o&&(l=o),l&&t.setData(r.downSample(r.mapDimension(u.dim),1/f,l,a)))}}}}},PYc7:function(t,e,i){var a=i("Icdr"),n=i("ii60").updateCenterAndZoom;a.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var i=t.dataIndex,a=e.getData().tree.getNodeByDataIndex(i);a.isExpand=!a.isExpand})}),a.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var i=e.coordinateSystem,a=n(i,t);e.setCenter&&e.setCenter(a.center),e.setZoom&&e.setZoom(a.zoom)})})},PdL8:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("0sHC"),o=i("LBXi"),s="__seriesMapHighDown",l="__seriesMapCallKey",h=a.extendChartView({type:"map",render:function(t,e,i,a){if(!a||"mapToggleSelect"!==a.type||a.from!==this.uid){var n=this.group;if(n.removeAll(),!t.getHostGeoModel()){if(a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===t.id)(r=this._mapDraw)&&n.add(r.group);else if(t.needsDrawMap){var r=this._mapDraw||new o(i,!0);n.add(r.group),r.draw(t,e,i,this,a),this._mapDraw=r}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,i)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(t,e,i){var a=t.originalData,o=this.group;a.each(a.mapDimension("value"),function(e,i){if(!isNaN(e)){var h=a.getItemLayout(i);if(h&&h.point){var d=h.point,f=h.offset,p=new r.Circle({style:{fill:t.getData().getVisual("color")},shape:{cx:d[0]+9*f,cy:d[1],r:3},silent:!0,z2:8+(f?0:r.Z2_EMPHASIS_LIFT+1)});if(!f){var m=t.mainSeries.getData(),v=a.getName(i),g=m.indexOfName(v),C=a.getItemModel(i),D=C.getModel("label"),y=C.getModel("emphasis.label"),x=m.getItemGraphicEl(g),S=n.retrieve2(t.getFormattedLabel(g,"normal"),v),I=n.retrieve2(t.getFormattedLabel(g,"emphasis"),S),T=x[s],b=Math.random();if(!T){T=x[s]={};var w=n.curry(u,!0),M=n.curry(u,!1);x.on("mouseover",w).on("mouseout",M).on("emphasis",w).on("normal",M)}x[l]=b,n.extend(T,{recordVersion:b,circle:p,labelModel:D,hoverLabelModel:y,emphasisText:I,normalText:S}),c(T,!1)}o.add(p)}}})}});function u(t){var e=this[s];e&&e.recordVersion===this[l]&&c(e,t)}function c(t,e){var i=t.circle,a=t.labelModel,n=t.hoverLabelModel,o=t.emphasisText,s=t.normalText;e?(i.style.extendFrom(r.setTextStyle({},n,{text:n.get("show")?o:null},{isRectText:!0,useInsideStyle:!1},!0)),i.__mapOriginalZ2=i.z2,i.z2+=r.Z2_EMPHASIS_LIFT):(r.setTextStyle(i.style,a,{text:a.get("show")?s:null,textPosition:a.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),i.dirty(!1),null!=i.__mapOriginalZ2&&(i.z2=i.__mapOriginalZ2,i.__mapOriginalZ2=null))}t.exports=h},Pdtn:function(t,e,i){var a=i("/gxq"),n=i("YNzw"),r=i("vXqC").makeInner,o=i("BNYN"),s=o.enableClassExtend,l=o.enableClassCheck,h=i("BwZ6"),u=i("fgF4"),c=i("NZsM"),d=i("e95b"),f=a.mixin,p=r();function m(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}function v(t,e,i){for(var a=0;a<e.length&&(!e[a]||null!=(t=t&&"object"==typeof t?t[e[a]]:null));a++);return null==t&&i&&(t=i.get(e)),t}function g(t,e){var i=p(t).getParent;return i?i.call(t,e):t.parentModel}m.prototype={constructor:m,init:null,mergeOption:function(t){a.merge(this.option,t,!0)},get:function(t,e){return null==t?this.option:v(this.option,this.parsePath(t),!e&&g(this,t))},getShallow:function(t,e){var i=this.option,a=null==i?i:i[t],n=!e&&g(this,t);return null==a&&n&&(a=n.getShallow(t)),a},getModel:function(t,e){var i;return new m(null==t?this.option:v(this.option,t=this.parsePath(t)),e=e||(i=g(this,t))&&i.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(a.clone(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){p(this).getParent=t},isAnimationEnabled:function(){if(!n.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},s(m),l(m),f(m,h),f(m,u),f(m,c),f(m,d);var C=m;t.exports=C},Pgdp:function(t,e,i){var a=i("AlhT"),n=i("h0jU"),r=i("BNYN"),o=function(){this.group=new a,this.uid=n.getUID("viewComponent")},s=o.prototype={constructor:o,init:function(t,e){},render:function(t,e,i,a){},dispose:function(){},filterForExposedEvent:null};s.updateView=s.updateLayout=s.updateVisual=function(t,e,i,a){},r.enableClassExtend(o),r.enableClassManagement(o,{registerWhenExtend:!0});var l=o;t.exports=l},PiQa:function(t,e,i){var a=i("0sHC"),n=i("/gxq");function r(t,e,i){a.Group.call(this),this._createPolyline(t,e,i)}var o=r.prototype;o._createPolyline=function(t,e,i){var n=t.getItemLayout(e),r=new a.Polyline({shape:{points:n}});this.add(r),this._updateCommonStl(t,e,i)},o.updateData=function(t,e,i){var n=t.hostModel,r=this.childAt(0),o={shape:{points:t.getItemLayout(e)}};a.updateProps(r,o,n,e),this._updateCommonStl(t,e,i)},o._updateCommonStl=function(t,e,i){var r=this.childAt(0),o=t.getItemModel(e),s=t.getItemVisual(e,"color"),l=i&&i.lineStyle,h=i&&i.hoverLineStyle;i&&!t.hasItemOption||(l=o.getModel("lineStyle").getLineStyle(),h=o.getModel("emphasis.lineStyle").getLineStyle()),r.useStyle(n.defaults({strokeNoScale:!0,fill:"none",stroke:s},l)),r.hoverStyle=h,a.setHoverStyle(this)},o.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},n.inherits(r,a.Group);var s=r;t.exports=s},Pmfi:function(t,e,i){var a=i("VewU").createElement,n=i("/gxq"),r=i("GxVO"),o=i("MAom"),s=i("/86O"),l=i("4w1v"),h=l.path,u=l.image,c=l.text;function d(t,e,i,a,n){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof i?[i]:i,this._markLabel=a,this._domName=n||"_dom",this.nextId=0}d.prototype.createElement=a,d.prototype.getDefs=function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");return 0===i.length?t?((i=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var a=e.length-1;a>=0;--a)if(e[a]===t)return!0;return!1}),i):null:i[0]},d.prototype.update=function(t,e){if(t){var i=this.getDefs(!1);if(t[this._domName]&&i.contains(t[this._domName]))"function"==typeof e&&e(t);else{var a=this.add(t);a&&(t[this._domName]=a)}}},d.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},d.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},d.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return n.each(this._tagNames,function(i){var a=t.getElementsByTagName(i);e=e.concat([].slice.call(a))}),e},d.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;n.each(t,function(t){t[e._markLabel]="0"})},d.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},d.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this.getDoms(),i=this;n.each(e,function(e){"1"!==e[i._markLabel]&&t.removeChild(e)})}},d.prototype.getSvgProxy=function(t){return t instanceof r?h:t instanceof o?u:t instanceof s?c:h},d.prototype.getTextSvgElement=function(t){return t.__textSvgEl},d.prototype.getSvgElement=function(t){return t.__svgEl};var f=d;t.exports=f},"Po+l":function(t,e,i){var a=i("/gxq"),n=i("EJsE"),r=i("sK5G").seriesModelMixin,o=n.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});a.mixin(o,r,!0);var s=o;t.exports=s},Pobh:function(t,e,i){var a=i("RYbJ")([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),n={getBarItemStyle:function(t){var e=a(this,t);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(e.lineDash=i)}return e}};t.exports=n},Pwgp:function(t,e,i){var a=i("/gxq"),n=i("2HcM"),r=function(t,e,i,a){n.call(this,t,e,i),this.type=a||"value",this.model=null};r.prototype={constructor:r,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},a.inherits(r,n);var o=r;t.exports=o},PzxK:function(t,e,i){var a=i("D2L2"),n=i("sB3e"),r=i("ax3d")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),a(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},Q5xN:function(t,e,i){var a=i("VewU").createElement,n=i("/gxq"),r=i("eZxa"),o=i("GxVO"),s=i("MAom"),l=i("/86O"),h=i("0fQF"),u=i("hZf2"),c=i("TDz/"),d=i("SMB/"),f=i("4w1v"),p=f.path,m=f.image,v=f.text;function g(t){return parseInt(t,10)}function C(t,e){return e&&t&&e.parentNode!==t}function D(t,e,i){if(C(t,e)&&i){var a=i.nextSibling;a?t.insertBefore(e,a):t.appendChild(e)}}function y(t,e){if(C(t,e)){var i=t.firstChild;i?t.insertBefore(e,i):t.appendChild(e)}}function x(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function S(t){return t.__textSvgEl}function I(t){return t.__svgEl}var T=function(t,e,i,r){this.root=t,this.storage=e,this._opts=i=n.extend({},i||{});var o=a("svg");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new u(r,o),this.clipPathManager=new c(r,o),this.shadowManager=new d(r,o);var s=document.createElement("div");s.style.cssText="overflow:hidden;position:relative",this._svgRoot=o,this._viewport=s,t.appendChild(s),s.appendChild(o),this.resize(i.width,i.height),this._visibleList=[]};T.prototype={constructor:T,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,i,a=this._svgRoot,n=this._visibleList,r=t.length,u=[];for(e=0;e<r;e++){var c=t[e],d=(i=c)instanceof o?p:i instanceof s?m:i instanceof l?v:p,f=I(c)||S(c);c.invisible||(c.__dirty&&(d&&d.brush(c),this.clipPathManager.update(c),c.style&&(this.gradientManager.update(c.style.fill),this.gradientManager.update(c.style.stroke),this.shadowManager.update(f,c)),c.__dirty=!1),u.push(c))}var g,C=h(n,u);for(e=0;e<C.length;e++){if((w=C[e]).removed)for(var T=0;T<w.count;T++){f=I(c=n[w.indices[T]]);var b=S(c);x(a,f),x(a,b)}}for(e=0;e<C.length;e++){var w;if((w=C[e]).added)for(T=0;T<w.count;T++){f=I(c=u[w.indices[T]]),b=S(c);g?D(a,f,g):y(a,f),f?D(a,b,f):g?D(a,b,g):y(a,b),D(a,b,f),g=b||f||g,this.gradientManager.addWithoutUpdate(f||b,c),this.shadowManager.addWithoutUpdate(f||b,c),this.clipPathManager.markUsed(c)}else if(!w.removed)for(T=0;T<w.count;T++){g=S(c=u[w.indices[T]])||I(c)||g;f=I(c),b=S(c);this.gradientManager.markUsed(c),this.gradientManager.addWithoutUpdate(f||b,c),this.shadowManager.markUsed(c),this.shadowManager.addWithoutUpdate(f||b,c),this.clipPathManager.markUsed(c)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=u},_getDefs:function(t){var e,i=this._svgRoot;return 0===(e=this._svgRoot.getElementsByTagName("defs")).length?t?((e=i.insertBefore(a("defs"),i.firstChild)).contains||(e.contains=function(t){var i=e.children;if(!i)return!1;for(var a=i.length-1;a>=0;--a)if(i[a]===t)return!0;return!1}),e):null:e[0]},resize:function(t,e){var i=this._viewport;i.style.display="none";var a=this._opts;if(null!=t&&(a.width=t),null!=e&&(a.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var n=i.style;n.width=t+"px",n.height=e+"px";var r=this._svgRoot;r.setAttribute("width",t),r.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],a=["clientWidth","clientHeight"][t],n=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[a]||g(s[i])||g(o.style[i]))-(g(s[n])||0)-(g(s[r])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},n.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;T.prototype[t]=(e=t,function(){r('In SVG mode painter not support method "'+e+'"')})});var b=T;t.exports=b},QCrJ:function(t,e,i){var a=i("/gxq"),n=i("Pdtn"),r=a.each,o=a.curry;function s(t,e){return"all"===t||a.isArray(t)&&a.indexOf(t,e)>=0||t===e}function l(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[u(t)]}function h(t){return!!t.get("handle.show")}function u(t){return t.type+"||"+t.id}e.collect=function(t,e){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,i){var l=e.getComponent("tooltip"),c=e.getComponent("axisPointer"),d=c.get("link",!0)||[],f=[];r(i.getCoordinateSystems(),function(i){if(i.axisPointerEnabled){var p=u(i.model),m=t.coordSysAxesInfo[p]={};t.coordSysMap[p]=i;var v=i.model,g=v.getModel("tooltip",l);if(r(i.getAxes(),o(x,!1,null)),i.getTooltipAxes&&l&&g.get("show")){var C="axis"===g.get("trigger"),D="cross"===g.get("axisPointer.type"),y=i.getTooltipAxes(g.get("axisPointer.axis"));(C||D)&&r(y.baseAxes,o(x,!D||"cross",C)),D&&r(y.otherAxes,o(x,"cross",!1))}}function x(o,l,p){var v=p.model.getModel("axisPointer",c),C=v.get("show");if(C&&("auto"!==C||o||h(v))){null==l&&(l=v.get("triggerTooltip"));var D=(v=o?function(t,e,i,o,s,l){var h=e.getModel("axisPointer"),u={};r(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){u[t]=a.clone(h.get(t))}),u.snap="category"!==t.type&&!!l,"cross"===h.get("type")&&(u.type="line");var c=u.label||(u.label={});if(null==c.show&&(c.show=!1),"cross"===s){var d=h.get("label.show");if(c.show=null==d||d,!l){var f=u.lineStyle=h.get("crossStyle");f&&a.defaults(c,f.textStyle)}}return t.model.getModel("axisPointer",new n(u,i,o))}(p,g,c,e,o,l):v).get("snap"),y=u(p.model),x=l||D||"category"===p.type,S=t.axesInfo[y]={key:y,axis:p,coordSys:i,axisPointerModel:v,triggerTooltip:l,involveSeries:x,snap:D,useHandle:h(v),seriesModels:[]};m[y]=S,t.seriesInvolved|=x;var I=function(t,e){for(var i=e.model,a=e.dim,n=0;n<t.length;n++){var r=t[n]||{};if(s(r[a+"AxisId"],i.id)||s(r[a+"AxisIndex"],i.componentIndex)||s(r[a+"AxisName"],i.name))return n}}(d,p);if(null!=I){var T=f[I]||(f[I]={axesInfo:{}});T.axesInfo[y]=S,T.mapper=d[I].mapper,S.linkGroup=T}}}})}(i,t,e),i.seriesInvolved&&function(t,e){e.eachSeries(function(e){var i=e.coordinateSystem,a=e.get("tooltip.trigger",!0),n=e.get("tooltip.show",!0);i&&"none"!==a&&!1!==a&&"item"!==a&&!1!==n&&!1!==e.get("axisPointer.show",!0)&&r(t.coordSysAxesInfo[u(i.model)],function(t){var a=t.axis;i.getAxis(a.dim)===a&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})},this)}(i,t),i},e.fixValue=function(t){var e=l(t);if(e){var i=e.axisPointerModel,a=e.axis.scale,n=i.option,r=i.get("status"),o=i.get("value");null!=o&&(o=a.parse(o));var s=h(i);null==r&&(n.status=s?"show":"hide");var u=a.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==o||o>u[1])&&(o=u[1]),o<u[0]&&(o=u[0]),n.value=o,s&&(n.status=e.axis.scale.isBlank()?"hide":"show")}},e.getAxisInfo=l,e.getAxisPointerModel=function(t){var e=l(t);return e&&e.axisPointerModel},e.makeKey=u},"QD+P":function(t,e){var i="\0__throttleOriginMethod",a="\0__throttleRate",n="\0__throttleType";function r(t,e,i){var a,n,r,o,s,l=0,h=0,u=null;function c(){h=(new Date).getTime(),u=null,t.apply(r,o||[])}e=e||0;var d=function(){a=(new Date).getTime(),r=this,o=arguments;var t=s||e,d=s||i;s=null,n=a-(d?l:h)-t,clearTimeout(u),d?u=setTimeout(c,t):n>=0?c():u=setTimeout(c,-n),l=a};return d.clear=function(){u&&(clearTimeout(u),u=null)},d.debounceNextCall=function(t){s=t},d}e.throttle=r,e.createOrUpdate=function(t,e,o,s){var l=t[e];if(l){var h=l[i]||l,u=l[n];if(l[a]!==o||u!==s){if(null==o||!s)return t[e]=h;(l=t[e]=r(h,o,"debounce"===s))[i]=h,l[n]=s,l[a]=o}return l}},e.clear=function(t,e){var a=t[e];a&&a[i]&&(t[e]=a[i])}},QDiV:function(t,e,i){var a=i("/gxq"),n=i("FIAY"),r=i("5KBG").retrieveRawValue;t.exports=function(t,e){var i=e.getModel("aria");if(i.get("show"))if(i.get("description"))t.setAttribute("aria-label",i.get("description"));else{var o=0;e.eachSeries(function(t,e){++o},this);var s,l=i.get("data.maxCount")||10,h=i.get("series.maxCount")||10,u=Math.min(o,h);if(!(o<1)){var c=function(){var t=e.getModel("title").option;return t&&t.length&&(t=t[0]),t&&t.text}();s=c?f(p("general.withTitle"),{title:c}):p("general.withoutTitle");var d=[];s+=f(p(o>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:o}),e.eachSeries(function(t,e){if(e<u){var i,a=t.get("name"),s="series."+(o>1?"multiple":"single")+".";i=f(i=p(a?s+"withName":s+"withoutName"),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(C=t.subType,n.series.typeNames[C]||"自定义图")});var h=t.getData();window.data=h,h.count()>l?i+=f(p("data.partialData"),{displayCnt:l}):i+=p("data.allData");for(var c=[],m=0;m<h.count();m++)if(m<l){var v=h.getName(m),g=r(h,m);c.push(f(p(v?"data.withName":"data.withoutName"),{name:v,value:g}))}i+=c.join(p("data.separator.middle"))+p("data.separator.end"),d.push(i)}var C}),s+=d.join(p("series.multiple.separator.middle"))+p("series.multiple.separator.end"),t.setAttribute("aria-label",s)}}function f(t,e){if("string"!=typeof t)return t;var i=t;return a.each(e,function(t,e){i=i.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),i}function p(t){var e=i.get(t);if(null==e){for(var a=t.split("."),r=n.aria,o=0;o<a.length;++o)r=r[a[o]];return r}return e}}},QRG4:function(t,e,i){var a=i("UuGF"),n=Math.min;t.exports=function(t){return t>0?n(a(t),9007199254740991):0}},"QWe/":function(t,e,i){i("crlp")("observable")},QZ7o:function(t,e,i){var a=i("/gxq");t.exports=function(t){var e={};t.eachSeriesByType("map",function(i){var n=i.getMapType();if(!i.getHostGeoModel()&&!e[n]){var r={};a.each(i.seriesGroup,function(e){var i=e.coordinateSystem,a=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&a.each(a.mapDimension("value"),function(t,e){var n=a.getName(e),o=i.getRegion(n);if(o&&!isNaN(t)){var s=r[n]||0,l=i.dataToPoint(o.center);r[n]=s+1,a.setItemLayout(e,{point:l,offset:s})}})});var o=i.getData();o.each(function(t){var e=o.getName(t),i=o.getItemLayout(t)||{};i.showLabel=!r[e],o.setItemLayout(t,i)}),e[n]=!0}})}},QbUQ:function(t,e,i){var a=i("HHfb"),n=i("Ou7x"),r=i("0sHC"),o=i("zAPJ"),s=i("dOVI"),l=i("vjPX"),h=i("43ae"),u=n.extend({makeElOption:function(t,e,i,n,h){var u=i.axis;"angle"===u.dim&&(this.animationThreshold=Math.PI/18);var d,f=u.polar,p=f.getOtherAxis(u).getExtent();d=u["dataTo"+a.capitalFirst(u.dim)](e);var m=n.get("type");if(m&&"none"!==m){var v=o.buildElStyle(n),g=c[m](u,f,d,p,v);g.style=v,t.graphicKey=g.type,t.pointer=g}var C=function(t,e,i,a,n){var o=e.axis,h=o.dataToCoord(t),u=a.getAngleAxis().getExtent()[0];u=u/180*Math.PI;var c,d,f,p=a.getRadiusAxis().getExtent();if("radius"===o.dim){var m=s.create();s.rotate(m,m,u),s.translate(m,m,[a.cx,a.cy]),c=r.applyTransform([h,-n],m);var v=e.getModel("axisLabel").get("rotate")||0,g=l.innerTextLayout(u,v*Math.PI/180,-1);d=g.textAlign,f=g.textVerticalAlign}else{var C=p[1];c=a.coordToPoint([C+n,h]);var D=a.cx,y=a.cy;d=Math.abs(c[0]-D)/C<.3?"center":c[0]>D?"left":"right",f=Math.abs(c[1]-y)/C<.3?"middle":c[1]>y?"top":"bottom"}return{position:c,align:d,verticalAlign:f}}(e,i,0,f,n.get("label.margin"));o.buildLabelElOption(t,i,n,h,C)}});var c={line:function(t,e,i,a,n){return"angle"===t.dim?{type:"Line",shape:o.makeLineShape(e.coordToPoint([a[0],i]),e.coordToPoint([a[1],i]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:i}}},shadow:function(t,e,i,a,n){var r=Math.max(1,t.getBandWidth()),s=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:o.makeSectorShape(e.cx,e.cy,a[0],a[1],(-i-r/2)*s,(r/2-i)*s)}:{type:"Sector",shape:o.makeSectorShape(e.cx,e.cy,i-r/2,i+r/2,0,2*Math.PI)}}};h.registerAxisPointerClass("PolarAxisPointer",u);var d=u;t.exports=d},Qv0P:function(t,e,i){for(var a=i("/gxq"),n=i("B33o"),r=[126,25],o=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l][0]/=10.5,o[s][l][1]/=-14,o[s][l][0]+=r[0],o[s][l][1]+=r[1];t.exports=function(t,e){"china"===t&&e.push(new n("南海诸岛",a.map(o,function(t){return{type:"polygon",exterior:t}}),r))}},QxFU:function(t,e){t.exports=function(t,e,i,a,n,r){if(r>e&&r>a||r<e&&r<a)return 0;if(a===e)return 0;var o=a<e?1:-1,s=(r-e)/(a-e);1!==s&&0!==s||(o=a<e?.5:-.5);var l=s*(i-t)+t;return l===n?1/0:l>n?o:0}},R0U9:function(t,e,i){i("Icdr").registerAction("legendScroll","legendscroll",function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(i)})})},R4wc:function(t,e,i){var a=i("kM2E");a(a.S+a.F,"Object",{assign:i("To3L")})},R9M2:function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},RAps:function(t,e){t.exports=function(t){var e=t.getRect(),i=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(e,i){return t.dataToPoint(e,i)}}}}},RDoK:function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=116)}({0:function(t,e,i){"use strict";function a(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return a})},116:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-radio",class:[t.border&&t.radioSize?"el-radio--"+t.radioSize:"",{"is-disabled":t.isDisabled},{"is-focus":t.focus},{"is-bordered":t.border},{"is-checked":t.model===t.label}],attrs:{role:"radio","aria-checked":t.model===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.model=t.isDisabled?t.model:t.label}}},[i("span",{staticClass:"el-radio__input",class:{"is-disabled":t.isDisabled,"is-checked":t.model===t.label}},[i("span",{staticClass:"el-radio__inner"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.model,t.label)},on:{focus:function(e){t.focus=!0},blur:function(e){t.focus=!1},change:[function(e){t.model=t.label},t.handleChange]}})]),i("span",{staticClass:"el-radio__label",on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])};a._withStripped=!0;var n=i(4),r={name:"ElRadio",mixins:[i.n(n).a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){for(var t=this.$parent;t;){if("ElRadioGroup"===t.$options.componentName)return this._radioGroup=t,!0;t=t.$parent}return!1},model:{get:function(){return this.isGroup?this._radioGroup.value:this.value},set:function(t){this.isGroup?this.dispatch("ElRadioGroup","input",[t]):this.$emit("input",t),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._radioGroup.radioGroupSize||t},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick(function(){t.$emit("change",t.model),t.isGroup&&t.dispatch("ElRadioGroup","handleChange",t.model)})}}},o=i(0),s=Object(o.a)(r,a,[],!1,null,null,null);s.options.__file="packages/radio/src/radio.vue";var l=s.exports;l.install=function(t){t.component(l.name,l)};e.default=l},4:function(t,e){t.exports=i("fPll")}})},RKzr:function(t,e,i){var a=i("/gxq"),n=i("2HcM"),r=function(t,e,i,a,r){n.call(this,t,e,i),this.type=a||"value",this.position=r||"bottom"};r.prototype={constructor:r,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},a.inherits(r,n);var o=r;t.exports=o},RO0P:function(t,e,i){var a=i("uF9H"),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(t){this.mode=a.ALPHANUMERIC,this.data=t}r.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var i=45*n.indexOf(this.data[e]);i+=n.indexOf(this.data[e+1]),t.put(i,11)}this.data.length%2&&t.put(n.indexOf(this.data[e]),6)},t.exports=r},RPLV:function(t,e,i){var a=i("7KvD").document;t.exports=a&&a.documentElement},RTd5:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("FIAY"),o=i("dCQY"),s=r.toolbox.magicType;function l(t){this.model=t}l.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:n.clone(s.title),option:{},seriesIndex:{}};var h=l.prototype;h.getIcons=function(){var t=this.model,e=t.get("icon"),i={};return n.each(t.get("type"),function(t){e[t]&&(i[t]=e[t])}),i};var u={line:function(t,e,i,a){if("bar"===t)return n.merge({id:e,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},a.get("option.line")||{},!0)},bar:function(t,e,i,a){if("line"===t)return n.merge({id:e,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},a.get("option.bar")||{},!0)},stack:function(t,e,i,a){if("line"===t||"bar"===t)return n.merge({id:e,stack:"__ec_magicType_stack__"},a.get("option.stack")||{},!0)},tiled:function(t,e,i,a){if("line"===t||"bar"===t)return n.merge({id:e,stack:""},a.get("option.tiled")||{},!0)}},c=[["line","bar"],["stack","tiled"]];h.onclick=function(t,e,i){var a=this.model,r=a.get("seriesIndex."+i);if(u[i]){var o={series:[]};n.each(c,function(t){n.indexOf(t,i)>=0&&n.each(t,function(t){a.setIconStatus(t,"normal")})}),a.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},function(e){var r=e.subType,s=e.id,l=u[i](r,s,e,a);l&&(n.defaults(l,e.option),o.series.push(l));var h=e.coordinateSystem;if(h&&"cartesian2d"===h.type&&("line"===i||"bar"===i)){var c=h.getAxesByScale("ordinal")[0];if(c){var d=c.dim+"Axis",f=t.queryComponents({mainType:d,index:e.get(name+"Index"),id:e.get(name+"Id")})[0].componentIndex;o[d]=o[d]||[];for(var p=0;p<=f;p++)o[d][f]=o[d][f]||{};o[d][f].boundaryGap="bar"===i}}}),e.dispatchAction({type:"changeMagicType",currentType:i,newOption:o})}},a.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),o.register("magicType",l);var d=l;t.exports=d},"RY/4":function(t,e,i){var a=i("R9M2"),n=i("dSzd")("toStringTag"),r="Arguments"==a(function(){return arguments}());t.exports=function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?i:r?a(e):"Object"==(o=a(e))&&"function"==typeof e.callee?"Arguments":o}},RY9c:function(t,e,i){var a=i("jF+B");function n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=a.alloc(t*t),this.reservedBit=a.alloc(t*t)}n.prototype.set=function(t,e,i,a){var n=t*this.size+e;this.data[n]=i,a&&(this.reservedBit[n]=!0)},n.prototype.get=function(t,e){return this.data[t*this.size+e]},n.prototype.xor=function(t,e,i){this.data[t*this.size+e]^=i},n.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=n},RYbJ:function(t,e,i){var a=i("/gxq");t.exports=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,i,n){for(var r={},o=0;o<t.length;o++){var s=t[o][1];if(!(i&&a.indexOf(i,s)>=0||n&&a.indexOf(n,s)<0)){var l=e.getShallow(s);null!=l&&(r[t[o][0]]=l)}}return r}}},Rfu2:function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=i("Pdtn"),r=i("1Hui"),o=i("rrAD"),s=i("5KBG"),l=s.defaultDimValueGetters,h=s.DefaultDataProvider,u=i("mvCM").summarizeDimensions,c=a.isObject,d=-1,f="e\0\0",p={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},m="undefined"==typeof Uint32Array?Array:Uint32Array,v="undefined"==typeof Int32Array?Array:Int32Array,g="undefined"==typeof Uint16Array?Array:Uint16Array;function C(t){return t._rawCount>65535?m:g}var D=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],y=["_extent","_approximateExtent","_rawExtent"];function x(t,e){a.each(D.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods,a.each(y,function(i){t[i]=a.clone(e[i])}),t._calculationInfo=a.extend(e._calculationInfo)}var S=function(t,e){t=t||["x","y"];for(var i={},n=[],r={},o=0;o<t.length;o++){var s=t[o];a.isString(s)&&(s={name:s});var l=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=l,s.coordDimIndex=0),s.otherDims=s.otherDims||{},n.push(l),i[l]=s,s.index=o,s.createInvertedIndices&&(r[l]=[])}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=u(this),this._invertedIndicesMap=r,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},I=S.prototype;function T(t,e,i,a,n){var r=p[e.type],o=a-1,s=e.name,l=t[s][o];if(l&&l.length<i){for(var h=new r(Math.min(n-o*i,i)),u=0;u<l.length;u++)h[u]=l[u];t[s][o]=h}for(var c=a*i;c<n;c+=i)t[s].push(new r(Math.min(n-c,i)))}function b(t){var e=t._invertedIndicesMap;a.each(e,function(i,a){var n=t._dimensionInfos[a].ordinalMeta;if(n){i=e[a]=new v(n.categories.length);for(var r=0;r<i.length;r++)i[r]=d;for(r=0;r<t._count;r++)i[t.get(a,r)]=r}})}function w(t,e,i){var a;if(null!=e){var n=t._chunkSize,r=Math.floor(i/n),o=i%n,s=t.dimensions[e],l=t._storage[s][r];if(l){a=l[o];var h=t._dimensionInfos[s].ordinalMeta;h&&h.categories.length&&(a=h.categories[a])}}return a}function M(t){return t}function E(t){return t<this._count&&t>=0?this._indices[t]:-1}function A(t,e){var i=t._idList[e];return null==i&&(i=w(t,t._idDimIdx,e)),null==i&&(i=f+e),i}function _(t){return a.isArray(t)||(t=[t]),t}function L(t,e){var i=t.dimensions,n=new S(a.map(i,t.getDimensionInfo,t),t.hostModel);x(n,t);for(var r=n._storage={},o=t._storage,s=0;s<i.length;s++){var l=i[s];o[l]&&(a.indexOf(e,l)>=0?(r[l]=F(o[l]),n._rawExtent[l]=O(),n._extent[l]=null):r[l]=o[l])}return n}function F(t){for(var e,i,a=new Array(t.length),n=0;n<t.length;n++)a[n]=(e=t[n],i=void 0,(i=e.constructor)===Array?e.slice():new i(e));return a}function O(){return[1/0,-1/0]}I.type="list",I.hasItemOption=!0,I.getDimension=function(t){return"number"!=typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},I.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},I.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},I.mapDimension=function(t,e){var i=this._dimensionsSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var a=i.encode[t];return!0===e?(a||[]).slice():a&&a[e]},I.initData=function(t,e,i){(o.isInstance(t)||a.isArrayLike(t))&&(t=new h(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},i||(this.hasItemOption=!1),this.defaultDimValueGetter=l[this._rawData.getSource().sourceFormat],this._dimValueGetter=i=i||this.defaultDimValueGetter,this._dimValueGetterArrayRows=l.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},I.getProvider=function(){return this._rawData},I.appendData=function(t){var e=this._rawData,i=this.count();e.appendData(t);var a=e.count();e.persistent||(a+=i),this._initDataFromProvider(i,a)},I.appendValues=function(t,e){for(var i=this._chunkSize,a=this._storage,n=this.dimensions,r=n.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e?e.length:0),h=this._chunkCount,u=0;u<r;u++){o[g=n[u]]||(o[g]=O()),a[g]||(a[g]=[]),T(a,this._dimensionInfos[g],i,h,l),this._chunkCount=a[g].length}for(var c=new Array(r),d=s;d<l;d++){for(var f=d-s,p=Math.floor(d/i),m=d%i,v=0;v<r;v++){var g=n[v],C=this._dimValueGetterArrayRows(t[f]||c,g,f,v);a[g][p][m]=C;var D=o[g];C<D[0]&&(D[0]=C),C>D[1]&&(D[1]=C)}e&&(this._nameList[d]=e[f])}this._rawCount=this._count=l,this._extent={},b(this)},I._initDataFromProvider=function(t,e){if(!(t>=e)){for(var i,a=this._chunkSize,n=this._rawData,r=this._storage,o=this.dimensions,s=o.length,l=this._dimensionInfos,h=this._nameList,u=this._idList,c=this._rawExtent,d=this._nameRepeatCount={},f=this._chunkCount,p=0;p<s;p++){c[x=o[p]]||(c[x]=O());var m=l[x];0===m.otherDims.itemName&&(i=this._nameDimIdx=p),0===m.otherDims.itemId&&(this._idDimIdx=p),r[x]||(r[x]=[]),T(r,m,a,f,e),this._chunkCount=r[x].length}for(var v=new Array(s),g=t;g<e;g++){v=n.getItem(g,v);for(var C=Math.floor(g/a),D=g%a,y=0;y<s;y++){var x,S=r[x=o[y]][C],I=this._dimValueGetter(v,x,g,y);S[D]=I;var w=c[x];I<w[0]&&(w[0]=I),I>w[1]&&(w[1]=I)}if(!n.pure){var M=h[g];if(v&&null==M)if(null!=v.name)h[g]=M=v.name;else if(null!=i){var E=o[i],A=r[E][C];if(A){M=A[D];var _=l[E].ordinalMeta;_&&_.categories.length&&(M=_.categories[M])}}var L=null==v?null:v.id;null==L&&null!=M&&(d[M]=d[M]||0,L=M,d[M]>0&&(L+="__ec__"+d[M]),d[M]++),null!=L&&(u[g]=L)}}!n.persistent&&n.clean&&n.clean(),this._rawCount=this._count=e,this._extent={},b(this)}},I.count=function(){return this._count},I.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,i=this._count;if(e===Array){n=new e(i);for(var a=0;a<i;a++)n[a]=t[a]}else n=new e(t.buffer,0,i)}else{var n=new(e=C(this))(this.count());for(a=0;a<n.length;a++)n[a]=a}return n},I.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._storage;if(!i[t])return NaN;e=this.getRawIndex(e);var a=Math.floor(e/this._chunkSize),n=e%this._chunkSize;return i[t][a][n]},I.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var i=this._storage[t];if(!i)return NaN;var a=Math.floor(e/this._chunkSize),n=e%this._chunkSize;return i[a][n]},I._getFast=function(t,e){var i=Math.floor(e/this._chunkSize),a=e%this._chunkSize;return this._storage[t][i][a]},I.getValues=function(t,e){var i=[];a.isArray(t)||(e=t,t=this.dimensions);for(var n=0,r=t.length;n<r;n++)i.push(this.get(t[n],e));return i},I.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,i=0,a=e.length;i<a;i++)if(isNaN(this.get(e[i],t)))return!1;return!0},I.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],i=O();if(!e)return i;var a,n=this.count();if(!this._indices)return this._rawExtent[t].slice();if(a=this._extent[t])return a.slice();for(var r=(a=i)[0],o=a[1],s=0;s<n;s++){var l=this._getFast(t,this.getRawIndex(s));l<r&&(r=l),l>o&&(o=l)}return a=[r,o],this._extent[t]=a,a},I.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},I.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},I.getCalculationInfo=function(t){return this._calculationInfo[t]},I.setCalculationInfo=function(t,e){c(t)?a.extend(this._calculationInfo,t):this._calculationInfo[t]=e},I.getSum=function(t){var e=0;if(this._storage[t])for(var i=0,a=this.count();i<a;i++){var n=this.get(t,i);isNaN(n)||(e+=n)}return e},I.getMedian=function(t){var e=[];this.each(t,function(t,i){isNaN(t)||e.push(t)});var i=[].concat(e).sort(function(t,e){return t-e}),a=this.count();return 0===a?0:a%2==1?i[(a-1)/2]:(i[a/2]+i[a/2-1])/2},I.rawIndexOf=function(t,e){var i=(t&&this._invertedIndicesMap[t])[e];return null==i||isNaN(i)?d:i},I.indexOfName=function(t){for(var e=0,i=this.count();e<i;e++)if(this.getName(e)===t)return e;return-1},I.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;for(var a=0,n=this._count-1;a<=n;){var r=(a+n)/2|0;if(e[r]<t)a=r+1;else{if(!(e[r]>t))return r;n=r-1}}return-1},I.indicesOfNearest=function(t,e,i){var a=[];if(!this._storage[t])return a;null==i&&(i=1/0);for(var n=Number.MAX_VALUE,r=-1,o=0,s=this.count();o<s;o++){var l=e-this.get(t,o),h=Math.abs(l);l<=i&&h<=n&&((h<n||l>=0&&r<0)&&(n=h,r=l,a.length=0),a.push(o))}return a},I.getRawIndex=M,I.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],i=0;i<this.dimensions.length;i++){var a=this.dimensions[i];e.push(this.get(a,t))}return e},I.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||w(this,this._nameDimIdx,e)||""},I.getId=function(t){return A(this,this.getRawIndex(t))},I.each=function(t,e,i,n){"use strict";if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this;for(var r=(t=a.map(_(t),this.getDimension,this)).length,o=0;o<this.count();o++)switch(r){case 0:e.call(i,o);break;case 1:e.call(i,this.get(t[0],o),o);break;case 2:e.call(i,this.get(t[0],o),this.get(t[1],o),o);break;default:for(var s=0,l=[];s<r;s++)l[s]=this.get(t[s],o);l[s]=o,e.apply(i,l)}}},I.filterSelf=function(t,e,i,n){"use strict";if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this,t=a.map(_(t),this.getDimension,this);for(var r=this.count(),o=new(C(this))(r),s=[],l=t.length,h=0,u=t[0],c=0;c<r;c++){var d,f=this.getRawIndex(c);if(0===l)d=e.call(i,c);else if(1===l){var p=this._getFast(u,f);d=e.call(i,p,c)}else{for(var m=0;m<l;m++)s[m]=this._getFast(u,f);s[m]=c,d=e.apply(i,s)}d&&(o[h++]=f)}return h<r&&(this._indices=o),this._count=h,this._extent={},this.getRawIndex=this._indices?E:M,this}},I.selectRange=function(t){"use strict";if(this._count){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);var a=e.length;if(a){var n=this.count(),r=new(C(this))(n),o=0,s=e[0],l=t[s][0],h=t[s][1],u=!1;if(!this._indices){var c=0;if(1===a){for(var d=this._storage[e[0]],f=0;f<this._chunkCount;f++)for(var p=d[f],m=Math.min(this._count-f*this._chunkSize,this._chunkSize),v=0;v<m;v++){((S=p[v])>=l&&S<=h||isNaN(S))&&(r[o++]=c),c++}u=!0}else if(2===a){d=this._storage[s];var g=this._storage[e[1]],D=t[e[1]][0],y=t[e[1]][1];for(f=0;f<this._chunkCount;f++){p=d[f];var x=g[f];for(m=Math.min(this._count-f*this._chunkSize,this._chunkSize),v=0;v<m;v++){var S=p[v],I=x[v];(S>=l&&S<=h||isNaN(S))&&(I>=D&&I<=y||isNaN(I))&&(r[o++]=c),c++}}u=!0}}if(!u)if(1===a)for(v=0;v<n;v++){var T=this.getRawIndex(v);((S=this._getFast(s,T))>=l&&S<=h||isNaN(S))&&(r[o++]=T)}else for(v=0;v<n;v++){var b=!0;for(T=this.getRawIndex(v),f=0;f<a;f++){var w=e[f];((S=this._getFast(i,T))<t[w][0]||S>t[w][1])&&(b=!1)}b&&(r[o++]=this.getRawIndex(v))}return o<n&&(this._indices=r),this._count=o,this._extent={},this.getRawIndex=this._indices?E:M,this}}},I.mapArray=function(t,e,i,a){"use strict";"function"==typeof t&&(a=i,i=e,e=t,t=[]),i=i||a||this;var n=[];return this.each(t,function(){n.push(e&&e.apply(this,arguments))},i),n},I.map=function(t,e,i,n){"use strict";i=i||n||this;var r=L(this,t=a.map(_(t),this.getDimension,this));r._indices=this._indices,r.getRawIndex=r._indices?E:M;for(var o=r._storage,s=[],l=this._chunkSize,h=t.length,u=this.count(),c=[],d=r._rawExtent,f=0;f<u;f++){for(var p=0;p<h;p++)c[p]=this.get(t[p],f);c[h]=f;var m=e&&e.apply(i,c);if(null!=m){"object"!=typeof m&&(s[0]=m,m=s);for(var v=this.getRawIndex(f),g=Math.floor(v/l),C=v%l,D=0;D<m.length;D++){var y=t[D],x=m[D],S=d[y],I=o[y];I&&(I[g][C]=x),x<S[0]&&(S[0]=x),x>S[1]&&(S[1]=x)}}}return r},I.downSample=function(t,e,i,a){for(var n=L(this,[t]),r=n._storage,o=[],s=Math.floor(1/e),l=r[t],h=this.count(),u=this._chunkSize,c=n._rawExtent[t],d=new(C(this))(h),f=0,p=0;p<h;p+=s){s>h-p&&(s=h-p,o.length=s);for(var m=0;m<s;m++){var v=this.getRawIndex(p+m),g=Math.floor(v/u),D=v%u;o[m]=l[g][D]}var y=i(o),x=this.getRawIndex(Math.min(p+a(o,y)||0,h-1)),S=x%u;l[Math.floor(x/u)][S]=y,y<c[0]&&(c[0]=y),y>c[1]&&(c[1]=y),d[f++]=x}return n._count=f,n._indices=d,n.getRawIndex=E,n},I.getItemModel=function(t){var e=this.hostModel;return new n(this.getRawDataItem(t),e,e&&e.ecModel)},I.diff=function(t){var e=this;return new r(t?t.getIndices():[],this.getIndices(),function(e){return A(t,e)},function(t){return A(e,t)})},I.getVisual=function(t){var e=this._visual;return e&&e[t]},I.setVisual=function(t,e){if(c(t))for(var i in t)t.hasOwnProperty(i)&&this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},I.setLayout=function(t,e){if(c(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},I.getLayout=function(t){return this._layout[t]},I.getItemLayout=function(t){return this._itemLayouts[t]},I.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?a.extend(this._itemLayouts[t]||{},e):e},I.clearItemLayouts=function(){this._itemLayouts.length=0},I.getItemVisual=function(t,e,i){var a=this._itemVisuals[t],n=a&&a[e];return null!=n||i?n:this.getVisual(e)},I.setItemVisual=function(t,e,i){var a=this._itemVisuals[t]||{},n=this.hasItemVisual;if(this._itemVisuals[t]=a,c(e))for(var r in e)e.hasOwnProperty(r)&&(a[r]=e[r],n[r]=!0);else a[e]=i,n[e]=!0},I.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var P=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};I.setItemGraphicEl=function(t,e){var i=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(P,e)),this._graphicEls[t]=e},I.getItemGraphicEl=function(t){return this._graphicEls[t]},I.eachItemGraphicEl=function(t,e){a.each(this._graphicEls,function(i,a){i&&t&&t.call(e,i,a)})},I.cloneShallow=function(t){if(!t){var e=a.map(this.dimensions,this.getDimensionInfo,this);t=new S(e,this.hostModel)}if(t._storage=this._storage,x(t,this),this._indices){var i=this._indices.constructor;t._indices=new i(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?E:M,t},I.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(a.slice(arguments)))})},I.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],I.CHANGABLE_METHODS=["filterSelf","selectRange"];var N=S;t.exports=N},RiVu:function(t,e){var i=2311;t.exports=function(){return i++}},RjA7:function(t,e,i){var a=i("5KBG").retrieveRawValue;e.getDefaultLabel=function(t,e){var i=t.mapDimension("defaultedLabel",!0),n=i.length;if(1===n)return a(t,e,i[0]);if(n){for(var r=[],o=0;o<i.length;o++){var s=a(t,e,i[o]);r.push(s)}return r.join(" ")}}},Rrel:function(t,e,i){var a=i("TcQ7"),n=i("n0T6").f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==r.call(t)?function(t){try{return n(t)}catch(t){return o.slice()}}(t):n(a(t))}},Rtf0:function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=a.each,r=a.filter,o=a.map,s=a.isArray,l=a.indexOf,h=a.isObject,u=a.isString,c=a.createHashMap,d=a.assert,f=a.clone,p=a.merge,m=a.extend,v=a.mixin,g=i("vXqC"),C=i("Pdtn"),D=i("Y5nL"),y=i("u820"),x=i("MyoG"),S=i("kdOt").resetSourceDefaulter,I="\0_ec_inner",T=C.extend({init:function(t,e,i,a){i=i||{},this.option=null,this._theme=new C(i),this._optionManager=a},setOption:function(t,e){d(!(I in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,i=this._optionManager;if(!t||"recreate"===t){var a=i.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(a)):function(t){t=t,this.option={},this.option[I]=1,this._componentsMap=c({series:[]}),this._seriesIndices,this._seriesIndicesMap,e=t,i=this._theme.option,a=e.color&&!e.colorLayer,n(i,function(t,i){"colorLayer"===i&&a||D.hasClass(i)||("object"==typeof t?e[i]=e[i]?p(e[i],t,!1):f(t):null==e[i]&&(e[i]=t))}),p(t,y,!1),this.mergeOption(t);var e,i,a}.call(this,a),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var r=i.getTimelineOption(this);r&&(this.mergeOption(r),e=!0)}if(!t||"recreate"===t||"media"===t){var o=i.getMediaOption(this,this._api);o.length&&n(o,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){var e=this.option,i=this._componentsMap,a=[];S(this),n(t,function(t,i){null!=t&&(D.hasClass(i)?i&&a.push(i):e[i]=null==e[i]?f(t):p(e[i],t,!0))}),D.topologicalTravel(a,D.getAllClassMainTypes(),function(a,r){var o=g.normalizeToArray(t[a]),l=g.mappingToExists(i.get(a),o);g.makeIdAndName(l),n(l,function(t,e){var i=t.option;h(i)&&(t.keyInfo.mainType=a,t.keyInfo.subType=function(t,e,i){return e.type?e.type:i?i.subType:D.determineSubType(t,e)}(a,i,t.exist))});var u=function(t,e){s(e)||(e=e?[e]:[]);var i={};return n(e,function(e){i[e]=(t.get(e)||[]).slice()}),i}(i,r);e[a]=[],i.set(a,[]),n(l,function(t,n){var r=t.exist,o=t.option;if(d(h(o)||r,"Empty component definition"),o){var s=D.getClass(a,t.keyInfo.subType,!0);if(r&&r.constructor===s)r.name=t.keyInfo.name,r.mergeOption(o,this),r.optionUpdated(o,!1);else{var l=m({dependentModels:u,componentIndex:n},t.keyInfo);r=new s(o,this,this,l),m(r,l),r.init(o,this,this,l),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);i.get(a)[n]=r,e[a][n]=r.option},this),"series"===a&&b(this,i.get("series"))},this),this._seriesIndicesMap=c(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=f(this.option);return n(t,function(e,i){if(D.hasClass(i)){for(var a=(e=g.normalizeToArray(e)).length-1;a>=0;a--)g.isIdInner(e[a])&&e.splice(a,1);t[i]=e}}),delete t[I],t},getTheme:function(){return this._theme},getComponent:function(t,e){var i=this._componentsMap.get(t);if(i)return i[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i,a=t.index,n=t.id,h=t.name,u=this._componentsMap.get(e);if(!u||!u.length)return[];if(null!=a)s(a)||(a=[a]),i=r(o(a,function(t){return u[t]}),function(t){return!!t});else if(null!=n){var c=s(n);i=r(u,function(t){return c&&l(n,t.id)>=0||!c&&t.id===n})}else if(null!=h){var d=s(h);i=r(u,function(t){return d&&l(h,t.name)>=0||!d&&t.name===h})}else i=u.slice();return w(i,t)},findComponents:function(t){var e,i,a,n,o,s=t.query,l=t.mainType,h=(i=l+"Index",a=l+"Id",n=l+"Name",!(e=s)||null==e[i]&&null==e[a]&&null==e[n]?null:{mainType:l,index:e[i],id:e[a],name:e[n]}),u=h?this.queryComponents(h):this._componentsMap.get(l);return o=w(u,t),t.filter?r(o,t.filter):o},eachComponent:function(t,e,i){var a=this._componentsMap;if("function"==typeof t)i=e,e=t,a.each(function(t,a){n(t,function(t,n){e.call(i,a,t,n)})});else if(u(t))n(a.get(t),e,i);else if(h(t)){var r=this.findComponents(t);n(r,e,i)}},getSeriesByName:function(t){var e=this._componentsMap.get("series");return r(e,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){var e=this._componentsMap.get("series");return r(e,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){n(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(e,a,i)},this)},eachRawSeries:function(t,e){n(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,i){n(this._seriesIndices,function(a){var n=this._componentsMap.get("series")[a];n.subType===t&&e.call(i,n,a)},this)},eachRawSeriesByType:function(t,e,i){return n(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){b(this,r(this._componentsMap.get("series"),t,e))},restoreData:function(t){var e=this._componentsMap;b(this,e.get("series"));var i=[];e.each(function(t,e){i.push(e)}),D.topologicalTravel(i,D.getAllClassMainTypes(),function(i,a){n(e.get(i),function(e){("series"!==i||!function(t,e){if(e){var i=e.seiresIndex,a=e.seriesId,n=e.seriesName;return null!=i&&t.componentIndex!==i||null!=a&&t.id!==a||null!=n&&t.name!==n}}(e,t))&&e.restoreData()})})}});function b(t,e){t._seriesIndicesMap=c(t._seriesIndices=o(e,function(t){return t.componentIndex})||[])}function w(t,e){return e.hasOwnProperty("subType")?r(t,function(t){return t.subType===e.subType}):t}v(T,x);var M=T;t.exports=M},"S+iL":function(t,e,i){var a=i("Icdr");a.registerAction({type:"brush",event:"brush"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas)})}),a.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),a.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){})},S82l:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"SMB/":function(t,e,i){var a=i("Pmfi");function n(t,e){a.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function r(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}i("/gxq").inherits(n,a),n.prototype.addWithoutUpdate=function(t,e){if(e&&r(e.style)){var i;if(e._shadowDom)i=e._shadowDom,this.getDefs(!0).contains(e._shadowDom)||this.addDom(i);else i=this.add(e);this.markUsed(e);var a=i.getAttribute("id");t.style.filter="url(#"+a+")"}},n.prototype.add=function(t){var e=this.createElement("filter");return t._shadowDomId=t._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+t._shadowDomId),this.updateDom(t,e),this.addDom(e),e},n.prototype.update=function(t,e){if(r(e.style)){var i=this;a.prototype.update.call(this,e,function(){i.updateDom(e,e._shadowDom)})}else this.remove(t,e)},n.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(t),t.style.filter="")},n.prototype.updateDom=function(t,e){var i=e.getElementsByTagName("feDropShadow");i=0===i.length?this.createElement("feDropShadow"):i[0];var a,n,r,o,s=t.style,l=t.scale&&t.scale[0]||1,h=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)a=s.shadowOffsetX||0,n=s.shadowOffsetY||0,r=s.shadowBlur,o=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);a=s.textShadowOffsetX||0,n=s.textShadowOffsetY||0,r=s.textShadowBlur,o=s.textShadowColor}i.setAttribute("dx",a/l),i.setAttribute("dy",n/h),i.setAttribute("flood-color",o);var u=r/2/l+" "+r/2/h;i.setAttribute("stdDeviation",u),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(r/2*200)+"%"),e.setAttribute("height",Math.ceil(r/2*200)+"%"),e.appendChild(i),t._shadowDom=e},n.prototype.markUsed=function(t){t._shadowDom&&a.prototype.markUsed.call(this,t._shadowDom)};var o=n;t.exports=o},STLj:function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=53)}({0:function(t,e,i){"use strict";function a(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return a})},3:function(t,e){t.exports=i("ylDJ")},34:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[i("span",[t._v(t._s(t.currentLabel))])])],2)};a._withStripped=!0;var n=i(4),r=i.n(n),o=i(3),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l={mixins:[r.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var i=this.select,a=i.remote,n=i.valueKey;if(!this.created&&!a){if(n&&"object"===(void 0===t?"undefined":s(t))&&"object"===(void 0===e?"undefined":s(e))&&t[n]===e[n])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var i=this.select.valueKey;return Object(o.getValueByPath)(t,i)===Object(o.getValueByPath)(e,i)}return t===e},contains:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(this.isObject){var i=this.select.valueKey;return t&&t.some(function(t){return Object(o.getValueByPath)(t,i)===Object(o.getValueByPath)(e,i)})}return t&&t.indexOf(e)>-1},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(o.escapeRegexpString)(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select,e=t.selected,i=t.multiple?e:[e],a=this.select.cachedOptions.indexOf(this),n=i.indexOf(this);a>-1&&n<0&&this.select.cachedOptions.splice(a,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},h=i(0),u=Object(h.a)(l,a,[],!1,null,null,null);u.options.__file="packages/select/src/option.vue";e.a=u.exports},4:function(t,e){t.exports=i("fPll")},53:function(t,e,i){"use strict";i.r(e);var a=i(34);a.a.install=function(t){t.component(a.a.name,a.a)},e.default=a.a}})},SXzR:function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=74)}({0:function(t,e,i){"use strict";function a(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return a})},2:function(t,e){t.exports=i("2kvA")},3:function(t,e){t.exports=i("ylDJ")},5:function(t,e){t.exports=i("fKx3")},7:function(t,e){t.exports=i("/5sW")},74:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("transition",{attrs:{name:t.transition},on:{"after-enter":t.handleAfterEnter,"after-leave":t.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&t.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[t.popperClass,t.content&&"el-popover--plain"],style:{width:t.width+"px"},attrs:{role:"tooltip",id:t.tooltipId,"aria-hidden":t.disabled||!t.showPopper?"true":"false"}},[t.title?i("div",{staticClass:"el-popover__title",domProps:{textContent:t._s(t.title)}}):t._e(),t._t("default",[t._v(t._s(t.content))])],2)]),t._t("reference")],2)};a._withStripped=!0;var n=i(5),r=i.n(n),o=i(2),s=i(3),l={name:"ElPopover",mixins:[r.a],props:{trigger:{type:String,default:"click",validator:function(t){return["click","focus","hover","manual"].indexOf(t)>-1}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+Object(s.generateId)()}},watch:{showPopper:function(t){this.disabled||(t?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var t=this,e=this.referenceElm=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!e&&this.$slots.reference&&this.$slots.reference[0]&&(e=this.referenceElm=this.$slots.reference[0].elm),e&&(Object(o.addClass)(e,"el-popover__reference"),e.setAttribute("aria-describedby",this.tooltipId),e.setAttribute("tabindex",this.tabindex),i.setAttribute("tabindex",0),"click"!==this.trigger&&(Object(o.on)(e,"focusin",function(){t.handleFocus();var i=e.__vue__;i&&"function"==typeof i.focus&&i.focus()}),Object(o.on)(i,"focusin",this.handleFocus),Object(o.on)(e,"focusout",this.handleBlur),Object(o.on)(i,"focusout",this.handleBlur)),Object(o.on)(e,"keydown",this.handleKeydown),Object(o.on)(e,"click",this.handleClick)),"click"===this.trigger?(Object(o.on)(e,"click",this.doToggle),Object(o.on)(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(Object(o.on)(e,"mouseenter",this.handleMouseEnter),Object(o.on)(i,"mouseenter",this.handleMouseEnter),Object(o.on)(e,"mouseleave",this.handleMouseLeave),Object(o.on)(i,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex<0&&console.warn("[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key"),e.querySelector("input, textarea")?(Object(o.on)(e,"focusin",this.doShow),Object(o.on)(e,"focusout",this.doClose)):(Object(o.on)(e,"mousedown",this.doShow),Object(o.on)(e,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){Object(o.addClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){Object(o.removeClass)(this.referenceElm,"focusing")},handleBlur:function(){Object(o.removeClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var t=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout(function(){t.showPopper=!0},this.openDelay):this.showPopper=!0},handleKeydown:function(t){27===t.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var t=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout(function(){t.showPopper=!1},this.closeDelay):this.showPopper=!1},handleDocumentClick:function(t){var e=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!e&&this.$slots.reference&&this.$slots.reference[0]&&(e=this.referenceElm=this.$slots.reference[0].elm),this.$el&&e&&!this.$el.contains(t.target)&&!e.contains(t.target)&&i&&!i.contains(t.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var t=this.reference;Object(o.off)(t,"click",this.doToggle),Object(o.off)(t,"mouseup",this.doClose),Object(o.off)(t,"mousedown",this.doShow),Object(o.off)(t,"focusin",this.doShow),Object(o.off)(t,"focusout",this.doClose),Object(o.off)(t,"mousedown",this.doShow),Object(o.off)(t,"mouseup",this.doClose),Object(o.off)(t,"mouseleave",this.handleMouseLeave),Object(o.off)(t,"mouseenter",this.handleMouseEnter),Object(o.off)(document,"click",this.handleDocumentClick)}},h=i(0),u=Object(h.a)(l,a,[],!1,null,null,null);u.options.__file="packages/popover/src/main.vue";var c=u.exports,d=function(t,e,i){var a=e.expression?e.value:e.arg,n=i.context.$refs[a];n&&(Array.isArray(n)?n[0].$refs.reference=t:n.$refs.reference=t)},f={bind:function(t,e,i){d(t,e,i)},inserted:function(t,e,i){d(t,e,i)}},p=i(7);i.n(p).a.directive("popover",f),c.install=function(t){t.directive("popover",f),t.component(c.name,c)},c.directive=f;e.default=c}})},SZjP:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=a.extendComponentView({type:"marker",init:function(){this.markerGroupMap=n.createHashMap()},render:function(t,e,i){var a=this.markerGroupMap;a.each(function(t){t.__keep=!1});var n=this.type+"Model";e.eachSeries(function(t){var a=t[n];a&&this.renderSeries(t,a,e,i)},this),a.each(function(t){!t.__keep&&this.group.remove(t.group)},this)},renderSeries:function(){}});t.exports=r},Sd0T:function(t,e,i){var a=i("utyv"),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case a.L:return n[4*(t-1)+0];case a.M:return n[4*(t-1)+1];case a.Q:return n[4*(t-1)+2];case a.H:return n[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case a.L:return r[4*(t-1)+0];case a.M:return r[4*(t-1)+1];case a.Q:return r[4*(t-1)+2];case a.H:return r[4*(t-1)+3];default:return}}},SfB7:function(t,e,i){t.exports=!i("+E39")&&!i("S82l")(function(){return 7!=Object.defineProperty(i("ON07")("div"),"a",{get:function(){return 7}}).a})},SiPa:function(t,e,i){var a=i("/gxq"),n=i("3h1/"),r=i("vXqC").makeInner,o=i("3yJd"),s=o.makeLabelFormatter,l=o.getOptionCategoryInterval,h=o.shouldShowAllLabels,u=r();function c(t,e){var i,n=d(t,"labels"),r=l(e),o=f(n,r);return o||p(n,r,{labels:a.isFunction(r)?v(t,r):m(t,i="auto"===r?function(t){var e=u(t).autoInterval;return null!=e?e:u(t).autoInterval=t.calculateCategoryInterval()}(t):r),labelCategoryInterval:i})}function d(t,e){return u(t)[e]||(u(t)[e]=[])}function f(t,e){for(var i=0;i<t.length;i++)if(t[i].key===e)return t[i].value}function p(t,e,i){return t.push({key:e,value:i}),i}function m(t,e,i){var a=s(t),n=t.scale,r=n.getExtent(),o=t.getLabelModel(),l=[],u=Math.max((e||0)+1,1),c=r[0],d=n.count();0!==c&&u>1&&d/u>2&&(c=Math.round(Math.ceil(c/u)*u));var f=h(t),p=o.get("showMinLabel")||f,m=o.get("showMaxLabel")||f;p&&c!==r[0]&&g(r[0]);for(var v=c;v<=r[1];v+=u)g(v);function g(t){l.push(i?t:{formattedLabel:a(t),rawLabel:n.getLabel(t),tickValue:t})}return m&&v-u!==r[1]&&g(r[1]),l}function v(t,e,i){var n=t.scale,r=s(t),o=[];return a.each(n.getTicks(),function(t){var a=n.getLabel(t);e(t,a)&&o.push(i?t:{formattedLabel:r(t),rawLabel:a,tickValue:t})}),o}e.createAxisLabels=function(t){return"category"===t.type?function(t){var e=t.getLabelModel(),i=c(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(t):function(t){var e=t.scale.getTicks(),i=s(t);return{labels:a.map(e,function(e,a){return{formattedLabel:i(e,a),rawLabel:t.scale.getLabel(e),tickValue:e}})}}(t)},e.createAxisTicks=function(t,e){return"category"===t.type?function(t,e){var i,n,r=d(t,"ticks"),o=l(e),s=f(r,o);if(s)return s;if(e.get("show")&&!t.scale.isBlank()||(i=[]),a.isFunction(o))i=v(t,o,!0);else if("auto"===o){var h=c(t,t.getLabelModel());n=h.labelCategoryInterval,i=a.map(h.labels,function(t){return t.tickValue})}else i=m(t,n=o,!0);return p(r,o,{ticks:i,tickCategoryInterval:n})}(t,e):{ticks:t.scale.getTicks()}},e.calculateCategoryInterval=function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),i=s(t),a=(e.axisRotate-e.labelRotate)/180*Math.PI,r=t.scale,o=r.getExtent(),l=r.count();if(o[1]-o[0]<1)return 0;var h=1;l>40&&(h=Math.max(1,Math.floor(l/40)));for(var c=o[0],d=t.dataToCoord(c+1)-t.dataToCoord(c),f=Math.abs(d*Math.cos(a)),p=Math.abs(d*Math.sin(a)),m=0,v=0;c<=o[1];c+=h){var g,C,D=n.getBoundingRect(i(c),e.font,"center","top");g=1.3*D.width,C=1.3*D.height,m=Math.max(m,g,7),v=Math.max(v,C,7)}var y=m/f,x=v/p;isNaN(y)&&(y=1/0),isNaN(x)&&(x=1/0);var S=Math.max(0,Math.floor(Math.min(y,x))),I=u(t.model),T=t.getExtent(),b=I.lastAutoInterval,w=I.lastTickCount;return null!=b&&null!=w&&Math.abs(b-S)<=1&&Math.abs(w-l)<=1&&b>S&&I.axisExtend0===T[0]&&I.axisExtend1===T[1]?S=b:(I.lastTickCount=l,I.lastAutoInterval=S,I.axisExtend0=T[0],I.axisExtend1=T[1]),S}},SlE6:function(t,e,i){var a=i("tzpD"),n=a.prepareDataCoordInfo,r=a.getStackedOnPoint;t.exports=function(t,e,i,a,o,s,l,h){for(var u=function(t,e){var i=[];return e.diff(t).add(function(t){i.push({cmd:"+",idx:t})}).update(function(t,e){i.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){i.push({cmd:"-",idx:t})}).execute(),i}(t,e),c=[],d=[],f=[],p=[],m=[],v=[],g=[],C=n(o,e,l),D=n(s,t,h),y=0;y<u.length;y++){var x=u[y],S=!0;switch(x.cmd){case"=":var I=t.getItemLayout(x.idx),T=e.getItemLayout(x.idx1);(isNaN(I[0])||isNaN(I[1]))&&(I=T.slice()),c.push(I),d.push(T),f.push(i[x.idx]),p.push(a[x.idx1]),g.push(e.getRawIndex(x.idx1));break;case"+":var b=x.idx;c.push(o.dataToPoint([e.get(C.dataDimsForPoint[0],b),e.get(C.dataDimsForPoint[1],b)])),d.push(e.getItemLayout(b).slice()),f.push(r(C,o,e,b)),p.push(a[b]),g.push(e.getRawIndex(b));break;case"-":b=x.idx;var w=t.getRawIndex(b);w!==b?(c.push(t.getItemLayout(b)),d.push(s.dataToPoint([t.get(D.dataDimsForPoint[0],b),t.get(D.dataDimsForPoint[1],b)])),f.push(i[b]),p.push(r(D,s,t,b)),g.push(w)):S=!1}S&&(m.push(x),v.push(v.length))}v.sort(function(t,e){return g[t]-g[e]});var M=[],E=[],A=[],_=[],L=[];for(y=0;y<v.length;y++)b=v[y],M[y]=c[b],E[y]=d[b],A[y]=f[b],_[y]=p[b],L[y]=m[b];return{current:M,next:E,stackedOnCurrent:A,stackedOnNext:_,status:L}}},SldL:function(t,e){!function(e){"use strict";var i,a=Object.prototype,n=a.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag",h="object"==typeof t,u=e.regeneratorRuntime;if(u)h&&(t.exports=u);else{(u=e.regeneratorRuntime=h?t.exports:{}).wrap=y;var c="suspendedStart",d="suspendedYield",f="executing",p="completed",m={},v={};v[o]=function(){return this};var g=Object.getPrototypeOf,C=g&&g(g(L([])));C&&C!==a&&n.call(C,o)&&(v=C);var D=T.prototype=S.prototype=Object.create(v);I.prototype=D.constructor=T,T.constructor=I,T[l]=I.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===I||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,T):(t.__proto__=T,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(D),t},u.awrap=function(t){return{__await:t}},b(w.prototype),w.prototype[s]=function(){return this},u.AsyncIterator=w,u.async=function(t,e,i,a){var n=new w(y(t,e,i,a));return u.isGeneratorFunction(e)?n:n.next().then(function(t){return t.done?t.value:n.next()})},b(D),D[l]="Generator",D[o]=function(){return this},D.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var a=e.pop();if(a in t)return i.value=a,i.done=!1,i}return i.done=!0,i}},u.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=i)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(a,n){return s.type="throw",s.arg=t,e.next=a,n&&(e.method="next",e.arg=i),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(l&&h){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),A(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var n=a.arg;A(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:L(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=i),m}}}function y(t,e,i,a){var n=e&&e.prototype instanceof S?e:S,r=Object.create(n.prototype),o=new _(a||[]);return r._invoke=function(t,e,i){var a=c;return function(n,r){if(a===f)throw new Error("Generator is already running");if(a===p){if("throw"===n)throw r;return F()}for(i.method=n,i.arg=r;;){var o=i.delegate;if(o){var s=M(o,i);if(s){if(s===m)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===c)throw a=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=f;var l=x(t,e,i);if("normal"===l.type){if(a=i.done?p:d,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(a=p,i.method="throw",i.arg=l.arg)}}}(t,i,o),r}function x(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function S(){}function I(){}function T(){}function b(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function w(t){var e;this._invoke=function(i,a){function r(){return new Promise(function(e,r){!function e(i,a,r,o){var s=x(t[i],t,a);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):Promise.resolve(h).then(function(t){l.value=t,r(l)},o)}o(s.arg)}(i,a,e,r)})}return e=e?e.then(r,r):r()}}function M(t,e){var a=t.iterator[e.method];if(a===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=i,M(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=x(a,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=i),e.delegate=null,m):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=i,e.done=!0,e};return r.next=r}}return{next:F}}function F(){return{value:i,done:!0}}}(function(){return this}()||Function("return this")())},Sm9T:function(t,e){e.buildPath=function(t,e){var i,a,n,r,o,s=e.x,l=e.y,h=e.width,u=e.height,c=e.r;h<0&&(s+=h,h=-h),u<0&&(l+=u,u=-u),"number"==typeof c?i=a=n=r=c:c instanceof Array?1===c.length?i=a=n=r=c[0]:2===c.length?(i=n=c[0],a=r=c[1]):3===c.length?(i=c[0],a=r=c[1],n=c[2]):(i=c[0],a=c[1],n=c[2],r=c[3]):i=a=n=r=0,i+a>h&&(i*=h/(o=i+a),a*=h/o),n+r>h&&(n*=h/(o=n+r),r*=h/o),a+n>u&&(a*=u/(o=a+n),n*=u/o),i+r>u&&(i*=u/(o=i+r),r*=u/o),t.moveTo(s+i,l),t.lineTo(s+h-a,l),0!==a&&t.arc(s+h-a,l+a,a,-Math.PI/2,0),t.lineTo(s+h,l+u-n),0!==n&&t.arc(s+h-n,l+u-n,n,0,Math.PI/2),t.lineTo(s+r,l+u),0!==r&&t.arc(s+r,l+u-r,r,Math.PI/2,Math.PI),t.lineTo(s,l+i),0!==i&&t.arc(s+i,l+i,i,Math.PI,1.5*Math.PI)}},SvnF:function(t,e,i){"use strict";e.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){return function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return 1===i.length&&"object"===a(i[0])&&(i=i[0]),i&&i.hasOwnProperty||(i={}),t.replace(r,function(e,a,r,o){var s=void 0;return"{"===t[o-1]&&"}"===t[o+e.length]?r:null===(s=(0,n.hasOwn)(i,r)?i[r]:null)||void 0===s?"":s})}};var n=i("ylDJ"),r=/(%|)\{([0-9a-zA-Z_]+)\}/g},T6W2:function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),a=t.getGraph().data,n=i.mapArray(i.getName);a.filterSelf(function(t){var i=a.getItemModel(t).getShallow("category");if(null!=i){"number"==typeof i&&(i=n[i]);for(var r=0;r<e.length;r++)if(!e[r].isSelected(i))return!1}return!0})},this)}},TCXJ:function(t,e,i){var a=i("Icdr").extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});t.exports=a},"TDz/":function(t,e,i){var a=i("Pmfi"),n=i("/gxq"),r=i("dOVI");function o(t,e){a.call(this,t,e,"clipPath","__clippath_in_use__")}n.inherits(o,a),o.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var i=this.getTextSvgElement(t);i&&this.updateDom(i,t.__clipPaths,!0),this.markUsed(t)},o.prototype.updateDom=function(t,e,i){if(e&&e.length>0){var a,n,o=this.getDefs(!0),s=e[0],l=i?"_textDom":"_dom";s[l]?(n=s[l].getAttribute("id"),a=s[l],o.contains(a)||o.appendChild(a)):(n="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(a=this.createElement("clipPath")).setAttribute("id",n),o.appendChild(a),s[l]=a);var h=this.getSvgProxy(s);if(s.transform&&s.parent.invTransform&&!i){var u=Array.prototype.slice.call(s.transform);r.mul(s.transform,s.parent.invTransform,s.transform),h.brush(s),s.transform=u}else h.brush(s);var c=this.getSvgElement(s);a.innerHTML="",a.appendChild(c.cloneNode()),t.setAttribute("clip-path","url(#"+n+")"),e.length>1&&this.updateDom(a,e.slice(1),i)}else t&&t.setAttribute("clip-path","none")},o.prototype.markUsed=function(t){var e=this;t.__clipPaths&&n.each(t.__clipPaths,function(t){t._dom&&a.prototype.markUsed.call(e,t._dom),t._textDom&&a.prototype.markUsed.call(e,t._textDom)})};var s=o;t.exports=s},TIfe:function(t,e){function i(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function a(t,e){return{target:t,topTarget:e&&e.topTarget}}i.prototype={constructor:i,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(a(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,r=i-this._x,o=n-this._y;this._x=i,this._y=n,e.drift(r,o,t),this.dispatchToElement(a(e,t),"drag",t.event);var s=this.findHover(i,n,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.dispatchToElement(a(l,t),"dragleave",t.event),s&&s!==l&&this.dispatchToElement(a(s,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(a(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(a(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var n=i;t.exports=n},TNV1:function(t,e,i){"use strict";var a=i("cGG2");t.exports=function(t,e,i){return a.forEach(i,function(i){t=i(t,e)}),t}},TTCf:function(t,e,i){var a=i("Mlni").extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});t.exports=a},TXKS:function(t,e){function i(t){return t instanceof Array||(t=[t,t]),t}t.exports=function(t){t.eachSeriesByType("graph",function(t){var e=t.getGraph(),a=t.getEdgeData(),n=i(t.get("edgeSymbol")),r=i(t.get("edgeSymbolSize")),o="lineStyle.color".split("."),s="lineStyle.opacity".split(".");a.setVisual("fromSymbol",n&&n[0]),a.setVisual("toSymbol",n&&n[1]),a.setVisual("fromSymbolSize",r&&r[0]),a.setVisual("toSymbolSize",r&&r[1]),a.setVisual("color",t.get(o)),a.setVisual("opacity",t.get(s)),a.each(function(t){var n=a.getItemModel(t),r=e.getEdgeByIndex(t),l=i(n.getShallow("symbol",!0)),h=i(n.getShallow("symbolSize",!0)),u=n.get(o),c=n.get(s);switch(u){case"source":u=r.node1.getVisual("color");break;case"target":u=r.node2.getVisual("color")}l[0]&&r.setVisual("fromSymbol",l[0]),l[1]&&r.setVisual("toSymbol",l[1]),h[0]&&r.setVisual("fromSymbolSize",h[0]),h[1]&&r.setVisual("toSymbolSize",h[1]),r.setVisual("color",u),r.setVisual("opacity",c)})})}},TcQ7:function(t,e,i){var a=i("MU5D"),n=i("52gC");t.exports=function(t){return a(n(t))}},To3L:function(t,e,i){"use strict";var a=i("+E39"),n=i("lktj"),r=i("1kS7"),o=i("NpIQ"),s=i("sB3e"),l=i("MU5D"),h=Object.assign;t.exports=!h||i("S82l")(function(){var t={},e={},i=Symbol(),a="abcdefghijklmnopqrst";return t[i]=7,a.split("").forEach(function(t){e[t]=t}),7!=h({},t)[i]||Object.keys(h({},e)).join("")!=a})?function(t,e){for(var i=s(t),h=arguments.length,u=1,c=r.f,d=o.f;h>u;)for(var f,p=l(arguments[u++]),m=c?n(p).concat(c(p)):n(p),v=m.length,g=0;v>g;)f=m[g++],a&&!d.call(p,f)||(i[f]=p[f]);return i}:h},U5ju:function(t,e,i){i("M6a0"),i("zQR9"),i("+tPU"),i("CXw9"),i("EqBC"),i("jKW+"),t.exports=i("FeBl").Promise},UAiw:function(t,e,i){var a=i("qjvV");e.Dispatcher=a;var n=i("YNzw"),r=i("6NQ8").buildTransformer,o="undefined"!=typeof window&&!!window.addEventListener,s=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,l="___zrEVENTSAVED",h=[];function u(t,e,i,a){return i=i||{},a||!n.canvasSupported?c(t,e,i):n.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):c(t,e,i),i}function c(t,e,i){if(t.getBoundingClientRect&&n.domSupported){var a=e.clientX,o=e.clientY;if("CANVAS"===t.nodeName.toUpperCase()){var s=t.getBoundingClientRect();return i.zrX=a-s.left,void(i.zrY=o-s.top)}var u=t[l]||(t[l]={}),c=function(t,e){for(var i=e.transformer,a=e.srcCoords,n=!0,o=[],s=[],l=0;l<4;l++){var h=t[l].getBoundingClientRect(),u=2*l,c=h.left,d=h.top;o.push(c,d),n&=a&&c===a[u]&&d===a[u+1],s.push(t[l].offsetLeft,t[l].offsetTop)}return n?i:(e.srcCoords=o,e.transformer=r(o,s))}(function(t,e){var i=e.markers;if(i)return i;i=e.markers=[];for(var a=["left","right"],n=["top","bottom"],r=0;r<4;r++){var o=document.createElement("div"),s=o.style,l=r%2,h=(r>>1)%2;s.cssText=["position:absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","width:0","height:0",a[l]+":0",n[h]+":0",a[1-l]+":auto",n[1-h]+":auto",""].join("!important;"),t.appendChild(o),i.push(o)}return i}(t,u),u);if(c)return c(h,a,o),i.zrX=h[0],void(i.zrY=h[1])}i.zrX=i.zrY=0}var d=o?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};e.clientToLocal=u,e.normalizeEvent=function(t,e,i){if(null!=(e=e||window.event).zrX)return e;var a=e.type;if(a&&a.indexOf("touch")>=0){var n="touchend"!==a?e.targetTouches[0]:e.changedTouches[0];n&&u(t,n,e,i)}else u(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var r=e.button;return null==e.which&&void 0!==r&&s.test(e.type)&&(e.which=1&r?1:2&r?3:4&r?2:0),e},e.addEventListener=function(t,e,i){o?t.addEventListener(e,i):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i){o?t.removeEventListener(e,i):t.detachEvent("on"+e,i)},e.stop=d,e.isMiddleOrRightButtonOnMouseUpDown=function(t){return 2===t.which||3===t.which},e.notLeftMouse=function(t){return t.which>1}},UOrf:function(t,e,i){var a=i("1Xuh"),n=i("wWR3"),r=n.parsePercent,o=n.linearMap;t.exports=function(t,e,i){t.eachSeriesByType("funnel",function(t){var i=t.getData(),n=i.mapDimension("value"),s=t.get("sort"),l=function(t,e){return a.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),h=function(t,e){for(var i=t.mapDimension("value"),a=t.mapArray(i,function(t){return t}),n=[],r="ascending"===e,o=0,s=t.count();o<s;o++)n[o]=o;return"function"==typeof e?n.sort(e):"none"!==e&&n.sort(function(t,e){return r?a[t]-a[e]:a[e]-a[t]}),n}(i,s),u=[r(t.get("minSize"),l.width),r(t.get("maxSize"),l.width)],c=i.getDataExtent(n),d=t.get("min"),f=t.get("max");null==d&&(d=Math.min(c[0],0)),null==f&&(f=c[1]);var p=t.get("funnelAlign"),m=t.get("gap"),v=(l.height-m*(i.count()-1))/i.count(),g=l.y,C=function(t,e){var a,r=i.get(n,t)||0,s=o(r,[d,f],u,!0);switch(p){case"left":a=l.x;break;case"center":a=l.x+(l.width-s)/2;break;case"right":a=l.x+l.width-s}return[[a,e],[a+s,e]]};"ascending"===s&&(v=-v,m=-m,g+=l.height,h=h.reverse());for(var D=0;D<h.length;D++){var y=h[D],x=h[D+1],S=i.getItemModel(y).get("itemStyle.height");null==S?S=v:(S=r(S,l.height),"ascending"===s&&(S=-S));var I=C(y,g),T=C(x,g+S);g+=S+m,i.setItemLayout(y,{points:I.concat(T.slice().reverse())})}!function(t){t.each(function(e){var i,a,n,r,o=t.getItemModel(e),s=o.getModel("label").get("position"),l=o.getModel("labelLine"),h=t.getItemLayout(e),u=h.points,c="inner"===s||"inside"===s||"center"===s||"insideLeft"===s||"insideRight"===s;if(c)"insideLeft"===s?(a=(u[0][0]+u[3][0])/2+5,n=(u[0][1]+u[3][1])/2,i="left"):"insideRight"===s?(a=(u[1][0]+u[2][0])/2-5,n=(u[1][1]+u[2][1])/2,i="right"):(a=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,n=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,i="center"),r=[[a,n],[a,n]];else{var d,f,p,m=l.get("length");"left"===s?(d=(u[3][0]+u[0][0])/2,f=(u[3][1]+u[0][1])/2,a=(p=d-m)-5,i="right"):"right"===s?(d=(u[1][0]+u[2][0])/2,f=(u[1][1]+u[2][1])/2,a=(p=d+m)+5,i="left"):"rightTop"===s?(d=u[1][0],f=u[1][1],a=(p=d+m)+5,i="top"):"rightBottom"===s?(d=u[2][0],f=u[2][1],a=(p=d+m)+5,i="bottom"):"leftTop"===s?(d=u[0][0],f=u[1][1],a=(p=d-m)-5,i="right"):"leftBottom"===s?(d=u[3][0],f=u[2][1],a=(p=d-m)-5,i="right"):(d=(u[1][0]+u[2][0])/2,f=(u[1][1]+u[2][1])/2,a=(p=d+m)+5,i="left"),r=[[d,f],[p,f]],n=f}h.label={linePoints:r,x:a,y:n,verticalAlign:"middle",textAlign:i,inside:c}})}(i)})}},US3d:function(t,e,i){var a=i("0sHC"),n=i("thE4"),r=i("u+XU"),o=i("oBGI"),s=a.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var i=e.segs,a=e.curveness;if(e.polyline)for(var n=0;n<i.length;){var r=i[n++];if(r>0){t.moveTo(i[n++],i[n++]);for(var o=1;o<r;o++)t.lineTo(i[n++],i[n++])}}else for(n=0;n<i.length;){var s=i[n++],l=i[n++],h=i[n++],u=i[n++];if(t.moveTo(s,l),a>0){var c=(s+h)/2-(l-u)*a,d=(l+u)/2-(h-s)*a;t.quadraticCurveTo(c,d,h,u)}else t.lineTo(h,u)}},findDataIndex:function(t,e){var i=this.shape,a=i.segs,n=i.curveness;if(i.polyline)for(var s=0,l=0;l<a.length;){var h=a[l++];if(h>0)for(var u=a[l++],c=a[l++],d=1;d<h;d++){var f=a[l++],p=a[l++];if(r.containStroke(u,c,f,p))return s}s++}else for(s=0,l=0;l<a.length;){u=a[l++],c=a[l++],f=a[l++],p=a[l++];if(n>0){var m=(u+f)/2-(c-p)*n,v=(c+p)/2-(f-u)*n;if(o.containStroke(u,c,m,v,f,p))return s}else if(r.containStroke(u,c,f,p))return s;s++}return-1}});function l(){this.group=new a.Group}var h=l.prototype;h.isPersistent=function(){return!this._incremental},h.updateData=function(t){this.group.removeAll();var e=new s({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},h.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new n({silent:!0})),this.group.add(this._incremental)):this._incremental=null},h.incrementalUpdate=function(t,e){var i=new s;i.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(i,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor="default",i.__startIndex=t.start,this.group.add(i))},h.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},h._setCommon=function(t,e,i){var a=e.hostModel;t.setShape({polyline:a.get("polyline"),curveness:a.get("lineStyle.curveness")}),t.useStyle(a.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var n=e.getVisual("color");n&&t.setStyle("stroke",n),t.setStyle("fill"),i||(t.seriesIndex=a.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var i=t.findDataIndex(e.offsetX,e.offsetY);i>0&&(t.dataIndex=i+t.__startIndex)}))},h._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var u=l;t.exports=u},"UeW/":function(t,e,i){i("4Nz2").__DEV__;var a=i("Icdr"),n=i("/gxq"),r=i("vXqC"),o=i("0sHC"),s=i("1Xuh"),l=i("wWR3").parsePercent,h={path:null,compoundPath:null,group:o.Group,image:o.Image,text:o.Text};a.registerPreprocessor(function(t){var e=t.graphic;n.isArray(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])});var u=a.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,u.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(t,e){var i=this.option,a=(e?i:t).elements,o=i.elements=e?[]:i.elements,l=[];this._flatten(a,l);var h=r.mappingToExists(o,l);r.makeIdAndName(h);var u=this._elOptionsToUpdate=[];n.each(h,function(t,e){var i=t.option;i&&(u.push(i),function(t,e){var i=t.exist;if(e.id=t.keyInfo.id,!e.type&&i&&(e.type=i.type),null==e.parentId){var a=e.parentOption;a?e.parentId=a.id:i&&(e.parentId=i.parentId)}e.parentOption=null}(t,i),function(t,e,i){var a=n.extend({},i),r=t[e],o=i.$action||"merge";"merge"===o?r?(n.merge(r,a,!0),s.mergeLayoutParam(r,a,{ignoreSize:!0}),s.copyLayoutParams(i,r)):t[e]=a:"replace"===o?t[e]=a:"remove"===o&&r&&(t[e]=null)}(o,e,i),function(t,e){if(!t)return;t.hv=e.hv=[f(e,["left","right"]),f(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0))}(o[e],i))},this);for(var c=o.length-1;c>=0;c--)null==o[c]?o.splice(c,1):delete o[c].$action},_flatten:function(t,e,i){n.each(t,function(t){if(t){i&&(t.parentOption=i),e.push(t);var a=t.children;"group"===t.type&&a&&this._flatten(a,e,t),delete t.children}},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});function c(t,e,i,a){var n=i.type,r=new(h.hasOwnProperty(n)?h[n]:o.getShapeClass(n))(i);e.add(r),a.set(t,r),r.__ecGraphicId=t}function d(t,e){var i=t&&t.parent;i&&("group"===t.type&&t.traverse(function(t){d(t,e)}),e.removeKey(t.__ecGraphicId),i.remove(t))}function f(t,e){var i;return n.each(e,function(e){null!=t[e]&&"auto"!==t[e]&&(i=!0)}),i}a.extendComponentView({type:"graphic",init:function(t,e){this._elMap=n.createHashMap(),this._lastGraphicModel},render:function(t,e,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},_updateElements:function(t){var e=t.useElOptionsToUpdate();if(e){var i=this._elMap,a=this.group;n.each(e,function(e){var r=e.$action,o=e.id,l=i.get(o),h=e.parentId,u=null!=h?i.get(h):a,f=e.style;"text"===e.type&&f&&(e.hv&&e.hv[1]&&(f.textVerticalAlign=f.textBaseline=null),!f.hasOwnProperty("textFill")&&f.fill&&(f.textFill=f.fill),!f.hasOwnProperty("textStroke")&&f.stroke&&(f.textStroke=f.stroke));var p=function(t){return t=n.extend({},t),n.each(["id","parentId","$action","hv","bounding"].concat(s.LOCATION_PARAMS),function(e){delete t[e]}),t}(e);r&&"merge"!==r?"replace"===r?(d(l,i),c(o,u,p,i)):"remove"===r&&d(l,i):l?l.attr(p):c(o,u,p,i);var m=i.get(o);m&&(m.__ecGraphicWidthOption=e.width,m.__ecGraphicHeightOption=e.height,function(t,e,i){var a=t.eventData;t.silent||t.ignore||a||(a=t.eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name});a&&(a.info=t.info)}(m,t))})}},_relocate:function(t,e){for(var i=t.option.elements,a=this.group,n=this._elMap,r=e.getWidth(),o=e.getHeight(),h=0;h<i.length;h++){var u=i[h];if((d=n.get(u.id))&&d.isGroup){var c=(f=d.parent)===a;d.__ecGraphicWidth=l(d.__ecGraphicWidthOption,c?r:f.__ecGraphicWidth)||0,d.__ecGraphicHeight=l(d.__ecGraphicHeightOption,c?o:f.__ecGraphicHeight)||0}}for(h=i.length-1;h>=0;h--){var d;u=i[h];if(d=n.get(u.id)){var f,p=(f=d.parent)===a?{width:r,height:o}:{width:f.__ecGraphicWidth,height:f.__ecGraphicHeight};s.positionElement(d,u,p,null,{hv:u.hv,boundingMode:u.bounding})}}},_clear:function(){var t=this._elMap;t.each(function(e){d(e,t)}),this._elMap=n.createHashMap()},dispose:function(){this._clear()}})},UkNE:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("0sHC");i("5vFd"),i("zz1u"),a.extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new r.Rect({shape:t.coordinateSystem.getRect(),style:n.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),a.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})},UuGF:function(t,e){var i=Math.ceil,a=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?a:i)(t)}},UvrK:function(t,e,i){var a=i("kM2E");a(a.P+a.R,"Map",{toJSON:i("m9gC")("Map")})},V3tA:function(t,e,i){i("R4wc"),t.exports=i("FeBl").Object.assign},V4nf:function(t,e,i){var a=i("/gxq"),n=i("UAiw").Dispatcher,r=i("a1Sp"),o=i("CCtz"),s=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,n.call(this)};s.prototype={constructor:s,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=a.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,i=this._clips,a=i.length,n=[],r=[],o=0;o<a;o++){var s=i[o],l=s.step(t,e);l&&(n.push(l),r.push(s))}for(o=0;o<a;)i[o]._needsRemove?(i[o]=i[a-1],i.pop(),a--):o++;a=n.length;for(o=0;o<a;o++)r[o].fire(n[o]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,r(function e(){t._running&&(r(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var i=new o(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(i),i}},a.mixin(s,n);var l=s;t.exports=l},"VU/8":function(t,e){t.exports=function(t,e,i,a,n,r){var o,s=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(o=t,s=t.default);var h,u="function"==typeof s?s.options:s;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),i&&(u.functional=!0),n&&(u._scopeId=n),r?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=h):a&&(h=a),h){var c=u.functional,d=c?u.render:u.beforeCreate;c?(u._injectStyles=h,u.render=function(t,e){return h.call(e),d(t,e)}):u.beforeCreate=d?[].concat(d,h):[h]}return{esModule:o,exports:s,options:u}}},"Vb+l":function(t,e,i){var a=i("Icdr"),n=i("/gxq");i("/vN/"),i("1A4n");var r=i("XRkS"),o=i("ri8f"),s=i("9Z3y"),l=i("l4Op");r("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),a.registerVisual(o("pie")),a.registerLayout(n.curry(s,"pie")),a.registerProcessor(l("pie"))},VewU:function(t,e){var i="http://www.w3.org/2000/svg";e.createElement=function(t){return document.createElementNS(i,t)}},Vi3T:function(t,e,i){"use strict";e.__esModule=!0,e.default={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"}}}},VmZa:function(t,e,i){i("6MCj"),(0,i("hv2j").registerPainter)("vml",i("0jKn"))},W1rN:function(t,e,i){var a;a=function(){return function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),r=l(i(1)),o=l(i(3)),s=l(i(4));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,i){!function(t,i){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.resolveOptions(i),a.listenClick(t),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),n(e,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===a(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,s.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new r.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return u("action",t)}},{key:"defaultTarget",value:function(t){var e=u("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return u("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return e.forEach(function(t){i=i&&!!document.queryCommandSupported(t)}),i}}]),e}();function u(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}t.exports=h},function(t,e,i){"use strict";var a,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),o=(a=i(2))&&a.__esModule?a:{default:a},s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}return r(t,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,o.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":n(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var a=window.getSelection(),n=document.createRange();n.selectNodeContents(t),a.removeAllRanges(),a.addRange(n),e=a.toString()}return e}},function(t,e){function i(){}i.prototype={on:function(t,e,i){var a=this.e||(this.e={});return(a[t]||(a[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var a=this;function n(){a.off(t,n),e.apply(i,arguments)}return n._=e,this.on(t,n,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),a=0,n=i.length;a<n;a++)i[a].fn.apply(i[a].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),a=i[t],n=[];if(a&&e)for(var r=0,o=a.length;r<o;r++)a[r].fn!==e&&a[r].fn._!==e&&n.push(a[r]);return n.length?i[t]=n:delete i[t],this}},t.exports=i},function(t,e,i){var a=i(5),n=i(6);t.exports=function(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(i))throw new TypeError("Third argument must be a Function");if(a.node(t))return d=e,f=i,(c=t).addEventListener(d,f),{destroy:function(){c.removeEventListener(d,f)}};if(a.nodeList(t))return l=t,h=e,u=i,Array.prototype.forEach.call(l,function(t){t.addEventListener(h,u)}),{destroy:function(){Array.prototype.forEach.call(l,function(t){t.removeEventListener(h,u)})}};if(a.string(t))return r=t,o=e,s=i,n(document.body,r,o,s);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var r,o,s,l,h,u,c,d,f}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var i=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,i){var a=i(7);function n(t,e,i,n,r){var o=function(t,e,i,n){return function(i){i.delegateTarget=a(i.target,e),i.delegateTarget&&n.call(t,i)}}.apply(this,arguments);return t.addEventListener(i,o,r),{destroy:function(){t.removeEventListener(i,o,r)}}}t.exports=function(t,e,i,a,r){return"function"==typeof t.addEventListener?n.apply(null,arguments):"function"==typeof i?n.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return n(t,e,i,a,r)}))}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}}])},t.exports=a()},W2nU:function(t,e){var i,a,n=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{a="function"==typeof clearTimeout?clearTimeout:o}catch(t){a=o}}();var l,h=[],u=!1,c=-1;function d(){u&&l&&(u=!1,l.length?h=l.concat(h):c=-1,h.length&&f())}function f(){if(!u){var t=s(d);u=!0;for(var e=h.length;e;){for(l=h,h=[];++c<e;)l&&l[c].run();c=-1,e=h.length}l=null,u=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new p(t,e)),1!==h.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},WEzc:function(t,e,i){var a=i("jF+B"),n=i("oLzS"),r=i("utyv"),o=i("DEuz"),s=i("RY9c"),l=i("9jEu"),h=i("YamF"),u=i("ljsv"),c=i("Sd0T"),d=i("wBZN"),f=i("1Y2G"),p=i("xR/K"),m=i("uF9H"),v=i("nyx9"),g=i("Dsid");function C(t,e,i){var a,n,r=t.size,o=p.getEncodedBits(e,i);for(a=0;a<15;a++)n=1==(o>>a&1),a<6?t.set(a,8,n,!0):a<8?t.set(a+1,8,n,!0):t.set(r-15+a,8,n,!0),a<8?t.set(8,r-a-1,n,!0):a<9?t.set(8,15-a-1+1,n,!0):t.set(8,15-a-1,n,!0);t.set(r-8,8,1,!0)}function D(t,e,i){var r=new o;i.forEach(function(e){r.put(e.mode.bit,4),r.put(e.getLength(),m.getCharCountIndicator(e.mode,t)),e.write(r)});var s=8*(n.getSymbolTotalCodewords(t)-c.getTotalCodewordsCount(t,e));for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);for(var l=(s-r.getLengthInBits())/8,h=0;h<l;h++)r.put(h%2?17:236,8);return function(t,e,i){for(var r=n.getSymbolTotalCodewords(e),o=c.getTotalCodewordsCount(e,i),s=r-o,l=c.getBlocksCount(e,i),h=l-r%l,u=Math.floor(r/l),f=Math.floor(s/l),p=f+1,m=u-f,v=new d(m),g=0,C=new Array(l),D=new Array(l),y=0,x=a.from(t.buffer),S=0;S<l;S++){var I=S<h?f:p;C[S]=x.slice(g,g+I),D[S]=v.encode(C[S]),g+=I,y=Math.max(y,I)}var T,b,w=a.alloc(r),M=0;for(T=0;T<y;T++)for(b=0;b<l;b++)T<C[b].length&&(w[M++]=C[b][T]);for(T=0;T<m;T++)for(b=0;b<l;b++)w[M++]=D[b][T];return w}(r,t,e)}function y(t,e,i,a){var r;if(g(t))r=v.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var o=e;if(!o){var c=v.rawSplit(t);o=f.getBestVersionForData(c,i)}r=v.fromString(t,o||40)}var d=f.getBestVersionForData(r,i);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<d)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+d+".\n")}else e=d;var p=D(e,i,r),m=n.getSymbolSize(e),y=new s(m);return function(t,e){for(var i=t.size,a=h.getPositions(e),n=0;n<a.length;n++)for(var r=a[n][0],o=a[n][1],s=-1;s<=7;s++)if(!(r+s<=-1||i<=r+s))for(var l=-1;l<=7;l++)o+l<=-1||i<=o+l||(s>=0&&s<=6&&(0===l||6===l)||l>=0&&l<=6&&(0===s||6===s)||s>=2&&s<=4&&l>=2&&l<=4?t.set(r+s,o+l,!0,!0):t.set(r+s,o+l,!1,!0))}(y,e),function(t){for(var e=t.size,i=8;i<e-8;i++){var a=i%2==0;t.set(i,6,a,!0),t.set(6,i,a,!0)}}(y),function(t,e){for(var i=l.getPositions(e),a=0;a<i.length;a++)for(var n=i[a][0],r=i[a][1],o=-2;o<=2;o++)for(var s=-2;s<=2;s++)-2===o||2===o||-2===s||2===s||0===o&&0===s?t.set(n+o,r+s,!0,!0):t.set(n+o,r+s,!1,!0)}(y,e),C(y,i,0),e>=7&&function(t,e){for(var i,a,n,r=t.size,o=f.getEncodedBits(e),s=0;s<18;s++)i=Math.floor(s/3),a=s%3+r-8-3,n=1==(o>>s&1),t.set(i,a,n,!0),t.set(a,i,n,!0)}(y,e),function(t,e){for(var i=t.size,a=-1,n=i-1,r=7,o=0,s=i-1;s>0;s-=2)for(6===s&&s--;;){for(var l=0;l<2;l++)if(!t.isReserved(n,s-l)){var h=!1;o<e.length&&(h=1==(e[o]>>>r&1)),t.set(n,s-l,h),-1==--r&&(o++,r=7)}if((n+=a)<0||i<=n){n-=a,a=-a;break}}}(y,p),isNaN(a)&&(a=u.getBestMask(y,C.bind(null,y,i))),u.applyMask(a,y),C(y,i,a),{modules:y,version:e,errorCorrectionLevel:i,maskPattern:a,segments:r}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var i,a,o=r.M;return void 0!==e&&(o=r.from(e.errorCorrectionLevel,r.M),i=f.from(e.version),a=u.from(e.maskPattern),e.toSJISFunc&&n.setToSJISFunction(e.toSJISFunc)),y(t,i,o,a)}},"WK/r":function(t,e,i){var a=i("/gxq"),n=i("2HcM"),r=function(t,e,i,a,r){n.call(this,t,e,i),this.type=a||"value",this.position=r||"bottom",this.orient=null};r.prototype={constructor:r,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},a.inherits(r,n);var o=r;t.exports=o},WO3U:function(t,e,i){var a=i("ilLo").extend({type:"dataZoom.select"});t.exports=a},WbrJ:function(t,e,i){var a=i("/gxq"),n=i("ilLo"),r=i("og9+"),o=i("E7aA"),s=a.bind,l=n.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(t,e,i,n){l.superApply(this,"render",arguments),this._range=t.getPercentRange(),a.each(this.getTargetCoordInfo(),function(e,n){var r=a.map(e,function(t){return o.generateCoordId(t.model)});a.each(e,function(e){var l=e.model,u={};a.each(["pan","zoom","scrollMove"],function(t){u[t]=s(h[t],this,e,n)},this),o.register(i,{coordId:o.generateCoordId(l),allCoordIds:r,containsPoint:function(t,e,i){return l.coordinateSystem.containPoint([e,i])},dataZoomId:t.id,dataZoomModel:t,getRange:u})},this)},this)},dispose:function(){o.unregister(this.api,this.dataZoomModel.id),l.superApply(this,"dispose",arguments),this._range=null}}),h={zoom:function(t,e,i,a){var n=this._range,o=n.slice(),s=t.axisModels[0];if(s){var l=c[e](null,[a.originX,a.originY],s,i,t),h=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/a.scale,0);o[0]=(o[0]-h)*u+h,o[1]=(o[1]-h)*u+h;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return r(0,o,[0,100],0,d.minSpan,d.maxSpan),this._range=o,n[0]!==o[0]||n[1]!==o[1]?o:void 0}},pan:u(function(t,e,i,a,n,r){var o=c[a]([r.oldX,r.oldY],[r.newX,r.newY],e,n,i);return o.signal*(t[1]-t[0])*o.pixel/o.pixelLength}),scrollMove:u(function(t,e,i,a,n,r){return c[a]([0,0],[r.scrollDelta,r.scrollDelta],e,n,i).signal*(t[1]-t[0])*r.scrollDelta})};function u(t){return function(e,i,a,n){var o=this._range,s=o.slice(),l=e.axisModels[0];if(l){var h=t(s,l,e,i,a,n);return r(h,s,[0,100],"all"),this._range=s,o[0]!==s[0]||o[1]!==s[1]?s:void 0}}}var c={grid:function(t,e,i,a,n){var r=i.axis,o={},s=n.model.coordinateSystem.getRect();return t=t||[0,0],"x"===r.dim?(o.pixel=e[0]-t[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=r.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=r.inverse?-1:1),o},polar:function(t,e,i,a,n){var r=i.axis,o={},s=n.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),h=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===i.mainType?(o.pixel=e[0]-t[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=r.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=h[1]-h[0],o.pixelStart=h[0],o.signal=r.inverse?-1:1),o},singleAxis:function(t,e,i,a,n){var r=i.axis,o=n.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===r.orient?(s.pixel=e[0]-t[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=r.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=r.inverse?-1:1),s}},d=l;t.exports=d},WxG6:function(t,e){var i={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};t.exports=function(t,e){if("world"===t){var a=i[e.name];if(a){var n=e.center;n[0]=a[0],n[1]=a[1]}}}},X0RI:function(t,e,i){var a=i("jF+B"),n=i("NV47");e.mul=function(t,e){for(var i=a.alloc(t.length+e.length-1),r=0;r<t.length;r++)for(var o=0;o<e.length;o++)i[r+o]^=n.mul(t[r],e[o]);return i},e.mod=function(t,e){for(var i=a.from(t);i.length-e.length>=0;){for(var r=i[0],o=0;o<e.length;o++)i[o]^=n.mul(e[o],r);for(var s=0;s<i.length&&0===i[s];)s++;i=i.slice(s)}return i},e.generateECPolynomial=function(t){for(var i=a.from([1]),r=0;r<t;r++)i=e.mul(i,[1,n.exp(r)]);return i}},X8DO:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},XAC3:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("YNzw"),o=i("aYad"),s=i("oJvE"),l=i("HHfb"),h=i("wWR3"),u=i("0sHC"),c=i("OxCu"),d=i("1Xuh"),f=i("Pdtn"),p=i("DpwM"),m=i("3yJd"),v=i("zAPJ"),g=i("vXqC").getTooltipRenderMode,C=n.bind,D=n.each,y=h.parsePercent,x=new u.Rect({shape:{x:-1,y:-1,width:2,height:2}}),S=a.extendComponentView({type:"tooltip",init:function(t,e){if(!r.node){var i,a=t.getComponent("tooltip").get("renderMode");this._renderMode=g(a),"html"===this._renderMode?(i=new o(e.getDom(),e),this._newLine="<br/>"):(i=new s(e),this._newLine="\n"),this._tooltipContent=i}},render:function(t,e,i){if(!r.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var a=this._tooltipContent;a.update(),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get("triggerOn");p.register("itemTooltip",this._api,C(function(e,i,a){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(i,a):"leave"===e&&this._hide(a))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&a.manuallyShowTip(t,e,i,{x:a._lastX,y:a._lastY})})}},manuallyShowTip:function(t,e,i,a){if(a.from!==this.uid&&!r.node){var n=T(a,i);this._ticket="";var o=a.dataByCoordSys;if(a.tooltip&&null!=a.x&&null!=a.y){var s=x;s.position=[a.x,a.y],s.update(),s.tooltip=a.tooltip,this._tryShow({offsetX:a.x,offsetY:a.y,target:s},n)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,event:{},dataByCoordSys:a.dataByCoordSys,tooltipOption:a.tooltipOption},n);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,a))return;var l=c(a,e),h=l.point[0],u=l.point[1];null!=h&&null!=u&&this._tryShow({offsetX:h,offsetY:u,position:a.position,target:l.el,event:{}},n)}else null!=a.x&&null!=a.y&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target,event:{}},n))}},manuallyHideTip:function(t,e,i,a){var n=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,a.from!==this.uid&&this._hide(T(a,i))},_manuallyAxisShowTip:function(t,e,i,a){var n=a.seriesIndex,r=a.dataIndex,o=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=n&&null!=r&&null!=o){var s=e.getSeriesByIndex(n);if(s)if("axis"===(t=I([s.getData().getItemModel(r),s,(s.coordinateSystem||{}).model,t])).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:r,position:a.position}),!0}},_tryShow:function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var a=t.dataByCoordSys;a&&a.length?this._showAxisTooltip(a,t):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var i=t.get("showDelay");e=n.bind(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},_showAxisTooltip:function(t,e){var i=this._ecModel,a=this._tooltipModel,r=[e.offsetX,e.offsetY],o=[],s=[],h=I([e.tooltipOption,a]),u=this._renderMode,c=this._newLine,d={};D(t,function(t){D(t.dataByAxis,function(t){var e=i.getComponent(t.axisDim+"Axis",t.axisIndex),a=t.value,r=[];if(e&&null!=a){var h=v.getValueLabel(a,e.axis,i,t.seriesDataIndices,t.valueLabelOpt);n.each(t.seriesDataIndices,function(o){var l=i.getSeriesByIndex(o.seriesIndex),c=o.dataIndexInside,f=l&&l.getDataParams(c);if(f.axisDim=t.axisDim,f.axisIndex=t.axisIndex,f.axisType=t.axisType,f.axisId=t.axisId,f.axisValue=m.getAxisRawValue(e.axis,a),f.axisValueLabel=h,f){s.push(f);var p,v=l.formatTooltip(c,!0,null,u);if(n.isObject(v)){p=v.html;var g=v.markers;n.merge(d,g)}else p=v;r.push(p)}});var f=h;"html"!==u?o.push(r.join(c)):o.push((f?l.encodeHTML(f)+c:"")+r.join(c))}})},this),o.reverse(),o=o.join(this._newLine+this._newLine);var f=e.position;this._showOrMove(h,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(h,f,r[0],r[1],this._tooltipContent,s):this._showTooltipContent(h,o,s,Math.random(),r[0],r[1],f,void 0,d)})},_showSeriesItemTooltip:function(t,e,i){var a=this._ecModel,r=e.seriesIndex,o=a.getSeriesByIndex(r),s=e.dataModel||o,l=e.dataIndex,h=e.dataType,u=s.getData(),c=I([u.getItemModel(l),s,o&&(o.coordinateSystem||{}).model,this._tooltipModel]),d=c.get("trigger");if(null==d||"item"===d){var f,p,m=s.getDataParams(l,h),v=s.formatTooltip(l,!1,h,this._renderMode);n.isObject(v)?(f=v.html,p=v.markers):(f=v,p=null);var g="item_"+s.name+"_"+l;this._showOrMove(c,function(){this._showTooltipContent(c,f,m,g,t.offsetX,t.offsetY,t.position,t.target,p)}),i({type:"showTip",dataIndexInside:l,dataIndex:u.getRawIndex(l),seriesIndex:r,from:this.uid})}},_showComponentItemTooltip:function(t,e,i){var a=e.tooltip;if("string"==typeof a){a={content:a,formatter:a}}var n=new f(a,this._tooltipModel,this._ecModel),r=n.get("content"),o=Math.random();this._showOrMove(n,function(){this._showTooltipContent(n,r,n.get("formatterParams")||{},o,t.offsetX,t.offsetY,t.position,e)}),i({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,i,a,n,r,o,s,h){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent,c=t.get("formatter");o=o||t.get("position");var d=e;if(c&&"string"==typeof c)d=l.formatTpl(c,i,!0);else if("function"==typeof c){var f=C(function(e,a){e===this._ticket&&(u.setContent(a,h,t),this._updatePosition(t,o,n,r,u,i,s))},this);this._ticket=a,d=c(i,a,f)}u.setContent(d,h,t),u.show(t),this._updatePosition(t,o,n,r,u,i,s)}},_updatePosition:function(t,e,i,a,r,o,s){var l=this._api.getWidth(),h=this._api.getHeight();e=e||t.get("position");var u=r.getSize(),c=t.get("align"),f=t.get("verticalAlign"),p=s&&s.getBoundingRect().clone();if(s&&p.applyTransform(s.transform),"function"==typeof e&&(e=e([i,a],o,r.el,p,{viewSize:[l,h],contentSize:u.slice()})),n.isArray(e))i=y(e[0],l),a=y(e[1],h);else if(n.isObject(e)){e.width=u[0],e.height=u[1];var m=d.getLayoutRect(e,{width:l,height:h});i=m.x,a=m.y,c=null,f=null}else if("string"==typeof e&&s){var v=function(t,e,i){var a=i[0],n=i[1],r=0,o=0,s=e.width,l=e.height;switch(t){case"inside":r=e.x+s/2-a/2,o=e.y+l/2-n/2;break;case"top":r=e.x+s/2-a/2,o=e.y-n-5;break;case"bottom":r=e.x+s/2-a/2,o=e.y+l+5;break;case"left":r=e.x-a-5,o=e.y+l/2-n/2;break;case"right":r=e.x+s+5,o=e.y+l/2-n/2}return[r,o]}(e,p,u);i=v[0],a=v[1]}else{v=function(t,e,i,a,n,r,o){var s=i.getOuterSize(),l=s.width,h=s.height;null!=r&&(t+l+r>a?t-=l+r:t+=r);null!=o&&(e+h+o>n?e-=h+o:e+=o);return[t,e]}(i,a,r,l,h,c?null:20,f?null:20);i=v[0],a=v[1]}if(c&&(i-=b(c)?u[0]/2:"right"===c?u[0]:0),f&&(a-=b(f)?u[1]/2:"bottom"===f?u[1]:0),t.get("confine")){v=function(t,e,i,a,n){var r=i.getOuterSize(),o=r.width,s=r.height;return t=Math.min(t+o,a)-o,e=Math.min(e+s,n)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(i,a,r,l,h);i=v[0],a=v[1]}r.moveTo(i,a)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,i=!!e&&e.length===t.length;return i&&D(e,function(e,a){var n=e.dataByAxis||{},r=(t[a]||{}).dataByAxis||[];(i&=n.length===r.length)&&D(n,function(t,e){var a=r[e]||{},n=t.seriesDataIndices||[],o=a.seriesDataIndices||[];(i&=t.value===a.value&&t.axisType===a.axisType&&t.axisId===a.axisId&&n.length===o.length)&&D(n,function(t,e){var a=o[e];i&=t.seriesIndex===a.seriesIndex&&t.dataIndex===a.dataIndex})})}),this._lastDataByCoordSys=t,!!i},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){r.node||(this._tooltipContent.hide(),p.unregister("itemTooltip",e))}});function I(t){for(var e=t.pop();t.length;){var i=t.pop();i&&(f.isInstance(i)&&(i=i.get("tooltip",!0)),"string"==typeof i&&(i={formatter:i}),e=new f(i,e,e.ecModel))}return e}function T(t,e){return t.dispatchAction||n.bind(e.dispatchAction,e)}function b(t){return"center"===t||"middle"===t}t.exports=S},XCrL:function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=i("0sHC"),r=i("vXqC"),o=i("ZJ+T"),s=a.each,l=a.indexOf,h=a.curry,u=["dataToPoint","pointToData"],c=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function d(t,e,i){var a=this._targetInfoList=[],n={},r=m(e,t);s(v,function(t,e){(!i||!i.include||l(i.include,e)>=0)&&t(r,a,n)})}var f=d.prototype;function p(t){return t[0]>t[1]&&t.reverse(),t}function m(t,e){return r.parseFinder(t,e,{includeMainTypes:c})}f.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,i){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var a=D[t.brushType](0,i,e);t.__rangeOffset={offset:x[t.brushType](a.values,t.range,[1,1]),xyMinMax:a.xyMinMax}}})},f.matchOutputRanges=function(t,e,i){s(t,function(t){var n=this.findTargetInfo(t,e);n&&!0!==n&&a.each(n.coordSyses,function(a){var n=D[t.brushType](1,a,t.range);i(t,n.values,a,e)})},this)},f.setInputRanges=function(t,e){s(t,function(t){var i,a,n,r,o,s=this.findTargetInfo(t,e);if(t.range=t.range||[],s&&!0!==s){t.panelId=s.panelId;var l=D[t.brushType](0,s.coordSys,t.coordRange),h=t.__rangeOffset;t.range=h?x[t.brushType](l.values,h.offset,(i=l.xyMinMax,a=h.xyMinMax,n=I(i),r=I(a),o=[n[0]/r[0],n[1]/r[1]],isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o)):l.values}},this)},f.makePanelOpts=function(t,e){return a.map(this._targetInfoList,function(i){var a=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e&&e(i),clipPath:o.makeRectPanelClipPath(a),isTargetByCursor:o.makeRectIsTargetByCursor(a,t,i.coordSysModel),getLinearBrushOtherExtent:o.makeLinearBrushOtherExtent(a)}})},f.controlSeries=function(t,e,i){var a=this.findTargetInfo(t,i);return!0===a||a&&l(a.coordSyses,e.coordinateSystem)>=0},f.findTargetInfo=function(t,e){for(var i=this._targetInfoList,a=m(e,t),n=0;n<i.length;n++){var r=i[n],o=t.panelId;if(o){if(r.panelId===o)return r}else for(n=0;n<g.length;n++)if(g[n](a,r))return r}return!0};var v={grid:function(t,e){var i=t.xAxisModels,n=t.yAxisModels,r=t.gridModels,o=a.createHashMap(),h={},u={};(i||n||r)&&(s(i,function(t){var e=t.axis.grid.model;o.set(e.id,e),h[e.id]=!0}),s(n,function(t){var e=t.axis.grid.model;o.set(e.id,e),u[e.id]=!0}),s(r,function(t){o.set(t.id,t),h[t.id]=!0,u[t.id]=!0}),o.each(function(t){var a=t.coordinateSystem,r=[];s(a.getCartesians(),function(t,e){(l(i,t.getAxis("x").model)>=0||l(n,t.getAxis("y").model)>=0)&&r.push(t)}),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:r[0],coordSyses:r,getPanelRect:C.grid,xAxisDeclared:h[t.id],yAxisDeclared:u[t.id]})}))},geo:function(t,e){s(t.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:C.geo})})}},g=[function(t,e){var i=t.xAxisModel,a=t.yAxisModel,n=t.gridModel;return!n&&i&&(n=i.axis.grid.model),!n&&a&&(n=a.axis.grid.model),n&&n===e.gridModel},function(t,e){var i=t.geoModel;return i&&i===e.geoModel}],C={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(n.getTransform(t)),e}},D={lineX:h(y,0),lineY:h(y,1),rect:function(t,e,i){var a=e[u[t]]([i[0][0],i[1][0]]),n=e[u[t]]([i[0][1],i[1][1]]),r=[p([a[0],n[0]]),p([a[1],n[1]])];return{values:r,xyMinMax:r}},polygon:function(t,e,i){var n=[[1/0,-1/0],[1/0,-1/0]];return{values:a.map(i,function(i){var a=e[u[t]](i);return n[0][0]=Math.min(n[0][0],a[0]),n[1][0]=Math.min(n[1][0],a[1]),n[0][1]=Math.max(n[0][1],a[0]),n[1][1]=Math.max(n[1][1],a[1]),a}),xyMinMax:n}}};function y(t,e,i,n){var r=i.getAxis(["x","y"][t]),o=p(a.map([0,1],function(t){return e?r.coordToData(r.toLocalCoord(n[t])):r.toGlobalCoord(r.dataToCoord(n[t]))})),s=[];return s[t]=o,s[1-t]=[NaN,NaN],{values:o,xyMinMax:s}}var x={lineX:h(S,0),lineY:h(S,1),rect:function(t,e,i){return[[t[0][0]-i[0]*e[0][0],t[0][1]-i[0]*e[0][1]],[t[1][0]-i[1]*e[1][0],t[1][1]-i[1]*e[1][1]]]},polygon:function(t,e,i){return a.map(t,function(t,a){return[t[0]-i[0]*e[a][0],t[1]-i[1]*e[a][1]]})}};function S(t,e,i,a){return[e[0]-a[t]*i[0],e[1]-a[t]*i[1]]}function I(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var T=d;t.exports=T},XFat:function(t,e){e.eachAfter=function(t,e,i){for(var a,n=[t],r=[];a=n.pop();)if(r.push(a),a.isExpand){var o=a.children;if(o.length)for(var s=0;s<o.length;s++)n.push(o[s])}for(;a=r.pop();)e(a,i)},e.eachBefore=function(t,e){for(var i,a=[t];i=a.pop();)if(e(i),i.isExpand){var n=i.children;if(n.length)for(var r=n.length-1;r>=0;r--)a.push(n[r])}}},"XLO+":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=h(i("bOdI")),r=h(i("BO1k")),o=h(i("ifoU")),s=h(i("lHA8")),l=h(i("7t+N"));function h(t){return t&&t.__esModule?t:{default:t}}var u=new function(){this.Domain="https://opensource.zealink.com",this.CacheDomain="https://opensourcecache.zealink.com"};function c(){this.SuperIn,this.SuperOut,this.BigIn,this.BigOut,this.MidIn,this.MidOut,this.SmallIn,this.SmallOut,this.MainIn,this.MainOut,this.MainNetIn,this.MainNetInRatio,this.SetData=function(t){this.SuperIn=t.superin,this.SuperOut=t.superout,this.BigIn=t.bigin,this.BigOut=t.bigout,this.MidIn=t.midin,this.MidOut=t.midout,this.SmallIn=t.smallin,this.SmallOut=t.smallout,this.MainIn=t.mainin,this.MainOut=t.mainout,this.MainNetIn=t.mainnetin,this.MainNetInRatio=t.mainnetinratio}}function d(){this.DDX,this.DDY,this.DDZ,this.SetData=function(t){this.DDX=t.ddx,this.DDY=t.ddy,this.DDZ=t.ddz}}function f(t){var e=t.toUpperCase();if(e.indexOf(".SH")>0){if("0"==(e=e.replace(".SH","")).charAt(0)&&parseInt(e)<=3e3)return!0}else if(e.indexOf(".SZ")>0){if("3"==(e=e.replace(".SZ","")).charAt(0)&&"9"==e.charAt(1))return!0}else if(e.indexOf(".CI")>0)return!0;return!1}function p(t){this.Symbol=t,this.Name,this.Open,this.Price,this.High,this.Low,this.YClose,this.Vol,this.Amount,this.Date,this.Time,this.ExchangeRate,this.Amplitude,this.VolRatio,this.Increase,this.MaxPrice,this.MinPrice,this.RFPrice,this.IndexTop,this.Week,this.MinuteAmplitude={},this.RiseFallSpeed={},this.MAmount={},this.GetBaseData=function(t,e){switch(this.BaseDataTagID.add(t),e){case m.SYMBOL:return this.Symbol;case m.NAME:return this.Name;case m.OPEN:return this.Open;case m.PRICE:return this.Price;case m.YCLOSE:return this.YClose;case m.HIGH:return this.High;case m.LOW:return this.Low;case m.VOL:return this.Vol;case m.AMOUNT:return this.Amount;case m.DATE:return this.Date;case m.TIME:return this.Time;case m.INCREASE:return this.Increase;case m.EXCHANGE_RATE:return this.ExchangeRate;case m.AMPLITUDE:return this.Amplitude;case m.MAX_PRICE:return this.MaxPrice;case m.MIN_PRICE:return this.MinPrice;case m.RISE_FALL_PRICE:return this.RFPrice;case m.VOLRATIO:return this.VolRatio;case m.INDEXTOP:return this.IndexTop;case m.WEEK:return this.Week}},this.Heat,this.GetHeatData=function(t){return this.HeatTagID.add(t),this.Heat},this.Sort=new o.default,this.GetSortData=function(t,e,i){var a=e.toString()+"-"+i.toString();if(!this.Sort.has(a)){var n=new function(t,e,i){this.arySymbol=new Array,this.SortField=t,this.Order=e,this.TagID=new s.default([i])}(e,i,t);return this.Sort.set(a,n),n}return(n=this.Sort.get(a)).TagID.add(t),n},this.Buy5,this.GetBuy5=function(t){return this.BuySellTagID.add(t),this.Buy5},this.Sell5,this.GetSell5=function(t){return this.BuySellTagID.add(t),this.Sell5},this.Deal,this.GetDeal=function(t){return this.DealTagID.add(t),this.Deal},this.MarketValue,this.FlowMarketValue,this.Bookrate,this.Bookdiffer,this.PE,this.PE2,this.PE3,this.PB,this.GetDerivative=function(t,e){switch(this.DerivativeTagID.add(t),e){case m.MARKET_VALUE:return this.MarketValue;case m.FLOW_MARKET_VALUE:return this.FlowMarketValue;case m.BOOK_RATE:return this.Bookrate;case m.BOOK_DIFFER:return this.Bookdiffer;case m.PE:return this.PE;case m.PE2:return this.PE2;case m.PE3:return this.PE3;case m.PB:return this.PB}},this.Finance,this.GetFinance=function(t,e){if(!this.Finance)return this.FinanceTagID.add(t),null;switch(e){case m.ROE:return this.Finance.ROE;case m.FINANCE_DATE:return this.Finance.Date;case m.FINANCE_PERSEARNING:return this.Finance.PerSEarning;case m.FINANCE_PERNETASSET:return this.Finance.PerNetAsset;case m.FINANCE_NPROFIT:return this.Finance.NProfit;case m.FINANCE_NPROFITINCREASE:return this.Finance.NProfitIncrease;case m.FINANCE_NNETPROFIT:return this.Finance.NnetProfit;case m.FINANCE_NNPROFITINCREASE:return this.Finance.NnProfitIncrease;case m.FINANCE_NNPROFITSPEED:return this.Finance.NnProfitSpeed;case m.FINANCE_EPS:return this.Finance.EPS;case m.FINANCE_BENFORD:return this.Finance.Benford}},this.Capital,this.GetCapital=function(t,e){if(!this.Capital)return this.CapitalTagID.add(t),null;switch(e){case m.CAPITAL_TOTAL:return this.Capital.Total;case m.CAPITAL_A:return this.Capital.A;case m.CAPTIAL_ARATE:return this.Capital.ARate}},this.CapitalFlowDay,this.CapitalFlowDay3,this.CapitalFlowDay5,this.CapitalFlowDay10,this.GetCapitalFlowDay=function(t,e){var i=null;switch(e){case m.CAPITAL_FLOW_DAY:this.CapitalFlowDayID.add(t),this.CapitalFlowDay&&(i=this.CapitalFlowDay);break;case m.CAPITAL_FLOW_DAY3:this.CapitalFlowDay3ID.add(t),this.CapitalFlowDay3&&(i=this.CapitalFlowDay3);break;case m.CAPITAL_FLOW_DAY5:this.CapitalFlowDay5ID.add(t),this.CapitalFlowDay5&&(i=this.CapitalFlowDay5);break;case m.CAPITAL_FLOW_DAY10:this.CapitalFlowDay10ID.add(t),this.CapitalFlowDay10&&(i=this.CapitalFlowDay10)}return i},this.DDE,this.DDE3,this.DDE5,this.DDE10,this.GetDDE=function(t,e){var i=null;switch(e){case m.DDE:this.DDEID.add(t),this.DDE&&(i=this.DDE);break;case m.DDE3:this.DDE3ID.add(t),this.DDE3&&(i=this.DDE3);break;case m.DDE5:this.DDE5ID.add(t),this.DDE5&&(i=this.DDE5);break;case m.DDE10:this.DDE10ID.add(t),this.DDE10&&(i=this.DDE10)}return i},this.Event,this.GetEvent=function(t,e){return this.Event?this.Event:(this.EventTagID.add(t),null)},this.Company,this.GetCompany=function(t,e){if(!this.Company)return this.CompanyTagID.add(t),null;switch(e){case m.COMPANY_NAME:return this.Company.Name;case m.COMPANY_BUSINESS:return this.Company.Business;case m.COMPANY_VOL:return this.Company.Vol;case m.COMPANY_PRICE:return this.Company.Price;case m.COMPANY_RELEASEDATE:return this.Company.ReleaseDate;case m.COMPANY_COMPETENCE:return this.Company.Competence}},this.Plate,this.GetPlate=function(t,e){if(!this.Plate)return this.PlateTagID.add(t),null;switch(e){case m.PLATE_INDUSTRY:return this.Plate.Industry;case m.PLATE_CONCEPT:return this.Plate.Concept;case m.PLATE_REGION:return this.Plate.Region}},this.TagID=new s.default,this.BaseDataTagID=new s.default,this.HeatTagID=new s.default,this.BuySellTagID=new s.default,this.DealTagID=new s.default,this.DerivativeTagID=new s.default,this.FinanceTagID=new s.default,this.CapitalTagID=new s.default,this.CapitalFlowDayID=new s.default,this.CapitalFlowDay3ID=new s.default,this.CapitalFlowDay5ID=new s.default,this.CapitalFlowDay10ID=new s.default,this.DDEID=new s.default,this.DDE3ID=new s.default,this.DDE5ID=new s.default,this.DDE10ID=new s.default,this.EventTagID=new s.default,this.CompanyTagID=new s.default,this.PlateTagID=new s.default,this.AttachTagID=function(t){this.TagID.add(t)},this.ClearTagID=function(){this.TagID.clear(),this.BaseDataTagID.clear(),this.HeatTagID.clear(),this.BuySellTagID.clear(),this.DealTagID.clear(),this.DerivativeTagID.clear(),this.FinanceTagID.clear(),this.CapitalTagID.clear(),this.CapitalFlowDayID.clear(),this.CapitalFlowDay3ID.clear(),this.CapitalFlowDay5ID.clear(),this.CapitalFlowDay10ID.clear(),this.DDEID.clear(),this.DDE3ID.clear(),this.DDE5ID.clear(),this.DDE10ID.clear(),this.EventTagID.clear(),this.CompanyTagID.clear();var t=!0,e=!1,i=void 0;try{for(var a,n=(0,r.default)(this.Sort);!(t=(a=n.next()).done);t=!0){a.value[1].TagID.clear()}}catch(t){e=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw i}}},this.RemoveTagID=function(t){this.TagID.delete(t),this.BaseDataTagID.delete(t),this.HeatTagID.delete(t),this.BuySellTagID.delete(t),this.DealTagID.delete(t),this.DerivativeTagID.delete(t),this.FinanceTagID.delete(t),this.CapitalTagID.delete(t),this.CapitalFlowDayID.delete(t),this.CapitalFlowDay3ID.delete(t),this.CapitalFlowDay5ID.delete(t),this.CapitalFlowDay10ID.delete(t),this.DDEID.delete(t),this.DDE3ID.delete(t),this.DDE5ID.delete(t),this.DDE10ID.delete(t),this.EventTagID.delete(t),this.CompanyTagID.delete(t);var e=!0,i=!1,a=void 0;try{for(var n,o=(0,r.default)(this.Sort);!(e=(n=o.next()).done);e=!0){n.value[1].TagID.delete(t)}}catch(t){i=!0,a=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw a}}},this.SetBaseData=function(t){this.Name=t.name,this.YClose=t.yclose,this.Price=t.price,this.High=t.high,this.Low=t.low,this.Open=t.open,this.Vol=t.vol,this.Amount=t.amount,this.Date=t.date,this.Time=t.time,this.Increase=t.increase,isNaN(t.exchangerate)||(this.ExchangeRate=t.exchangerate),isNaN(t.amplitude)||(this.Amplitude=t.amplitude),isNaN(t.volratio)||(this.VolRatio=t.volratio),this.Name.indexOf("ST")>=0?(this.MaxPrice=1.05*this.Open,this.MinPrice=.95*this.Open):(this.MaxPrice=1.1*this.Open,this.MinPrice=.9*this.Open),this.Price&&this.YClose&&(this.RFPrice=this.Price-this.YClose),t.week&&(this.Week={},this.Week.Week1=t.week.week1,this.Week.Week4=t.week.week4,this.Week.Week13=t.week.week13,this.Week.Week26=t.week.week26,this.Week.Week52=t.week.week52)},this.SetDerivativeData=function(t){this.MarketValue=t.marketvalue,this.FlowMarketValue=t.flowmarketvalue,this.Bookrate=t.bookrate,this.Bookdiffer=t.bookdiffer,this.PE=t.pe,this.PE2=t.pe2,this.PE3=t.pe3,this.PB=t.pb},this.SetFinanceData=function(t){console.log(t),t.finance&&(this.Finance=new function(){this.ROE,this.Date,this.PerSEarning,this.EPS,this.PerNetAsset,this.NProfit,this.NProfitIncrease,this.NnetProfit,this.NnProfitIncrease,this.NnProfitSpeed,this.Benford,this.SetData=function(t){isNaN(t.roe)||(this.ROE=t.roe),isNaN(t.finance.date)||(this.Date=t.finance.date),isNaN(t.finance.persearning)||(this.PerSEarning=t.finance.persearning),isNaN(t.finance.eps)||(this.EPS=t.finance.eps),isNaN(t.finance.pernetasset)||(this.PerNetAsset=t.finance.pernetasset),isNaN(t.finance.nprofit)||(this.NProfit=t.finance.nprofit),isNaN(t.finance.nprofitincrease)||(this.NProfitIncrease=t.finance.nprofitincrease),isNaN(t.finance.nnetprofit)||(this.NnetProfit=t.finance.nnetprofit),isNaN(t.finance.nnprofitincrease)||(this.NnProfitIncrease=t.finance.nnprofitincrease),isNaN(t.finance.nnprofitspeed)||(this.NnProfitSpeed=t.finance.nnprofitspeed),isNaN(t.finance.benford)||(this.Benford=t.finance.benford)}},this.Finance.SetData(t))},this.SetCapitalData=function(t){t.capital&&(this.Capital=new function(){this.Date,this.A,this.Total,this.ARate,this.SetData=function(t){isNaN(t.capital.date)||(this.Date=t.capital.date),isNaN(t.capital.a)||(this.A=t.capital.a),isNaN(t.capital.total)||(this.Total=t.capital.total),isNaN(t.capital.arate)||(this.ARate=t.capital.arate)}},this.Capital.SetData(t))},this.SetIndexBaseData=function(t){this.SetBaseData(t);var e=new function(){this.Stop,this.Down,this.Up,this.Unchanged,this.UpStock={Symbol:null,Name:null},this.DownStock={Symbol:null,Name:null}};t.indextop&&(e.Up=t.indextop.up,e.Down=t.indextop.down,e.Unchanged=t.indextop.unchanged,e.Stop=t.indextop.stop,e.UpStock.Symbol=t.indextop.upstock.symbol,e.UpStock.Name=t.indextop.upstock.name,e.DownStock.Symbol=t.indextop.downstock.symbol,e.DownStock.Name=t.indextop.downstock.name),this.IndexTop=e},this.SetBuySellData=function(t){for(var e in this.SetBaseData(t),this.Buy5=new Array,this.Sell5=new Array,t.buy){var i=t.buy[e];this.Buy5.push({Price:i.price,Vol:i.vol})}for(var e in t.sell){i=t.sell[e];this.Sell5.push({Price:i.price,Vol:i.vol})}},this.SetDealData=function(t){for(var e in this.Price=t.price,this.High=t.high,this.Low=t.low,this.Vol=t.vol,this.Amount=t.amount,this.Date=t.date,this.Time=t.time,this.Increase=t.increase,this.Deal=new Array,t.deal){var i=t.deal[e];if(!isNaN(i.price)&&!isNaN(i.time)){var a="";0===i.bs?a="B":1===i.bs&&(a="S"),this.Deal.push({Price:i.price,Amount:i.amount,Vol:i.vol,Time:i.time,BS:a})}}},this.SetHeatData=function(t){var e=new function(){this.Good,this.GoodIncrease={Day1:null,Week1:null,Week4:null}};e.Good=t.quadrant.good,e.GoodIncrease.Day1=t.quadrant.gincrease.day1,e.GoodIncrease.Week1=t.quadrant.gincrease.week1,e.GoodIncrease.Week4=t.quadrant.gincrease.week4,this.Heat=e},this.SetCapitalFlowDayData=function(t,e){if(t)switch(e){case C.CAPITAL_FLOW_DAY_DATA:this.CapitalFlowDay=new function(){this.SuperIn,this.SuperOut,this.BigIn,this.BigOut,this.MidIn,this.MidOut,this.SmallIn,this.SmallOut,this.MainIn,this.MainOut,this.MainNetIn,this.SetData=function(t){this.SuperIn=t.superin,this.SuperOut=t.superout,this.BigIn=t.bigin,this.BigOut=t.bigout,this.MidIn=t.midin,this.MidOut=t.midout,this.SmallIn=t.smallin,this.SmallOut=t.smallout,this.MainIn=t.mainin,this.MainOut=t.mainout,this.MainNetIn=t.mainnetin}},this.CapitalFlowDay.SetData(t);break;case C.CAPITAL_FLOW_DAY3_DATA:this.CapitalFlowDay3=new c,this.CapitalFlowDay3.SetData(t);break;case C.CAPITAL_FLOW_DAY5_DATA:this.CapitalFlowDay5=new c,this.CapitalFlowDay5.SetData(t);break;case C.CAPITAL_FLOW_DAY10_DATA:this.CapitalFlowDay10=new c,this.CapitalFlowDay10.SetData(t)}},this.SetDDE=function(t,e){if(t){switch(e){case C.DDE_DAY_DATA:this.DDE=new d,this.DDE.SetData(t);break;case C.DDE_DAY3_DATA:this.DDE3=new d,this.DDE3.SetData(t);break;case C.DDE_DAY5_DATA:this.DDE5=new d,this.DDE5.SetData(t);break;case C.DDE_DAY10_DATA:this.DDE10=new d,this.DDE10.SetData(t)}return t}},this.SetEventData=function(t){t.events&&(this.Event=new function(){this.IsMargin=!1,this.IsHK=!1,this.IsSHHK=!1,this.IsSZHK=!1,this.STType=0,this.HK,this.SetData=function(t){t.events&&(isNaN(t.events.margin)||(this.IsMargin=1==t.events.margin),isNaN(t.events.hk)||(this.IsHK=1==t.events.hk),isNaN(t.events.shhk)||(this.IsSHHK=1==t.events.shhk),isNaN(t.events.szhk)||(this.IsSZHK=1==t.events.szhk),isNaN(t.events.st)||(this.STType=t.events.st),this.IsHK&&t.events.hksymbol&&t.events.hkname&&(this.HK={Symbol:t.events.hksymbol,Name:t.events.hkname}))}},this.Event.SetData(t))},this.SetCompanyData=function(t){t.company&&(this.Company=new function(){this.Name,this.Business,this.Vol,this.Price,this.ReleaseDate,this.Competence,this.SetData=function(t){t.company&&(this.Name=t.company.name,this.Business=t.company.business,this.Vol=t.company.vol,this.Price=t.company.price,this.ReleaseDate=t.company.releasedate,this.Competence=t.company.corecompetence)}},this.Company.SetData(t))},this.SetPlateData=function(t){(t.industry||t.region||t.concept)&&(this.Plate=new function(){this.Industry,this.Region,this.Concept,this.SetData=function(t){this.SetIndustryData(t),this.SetRegionData(t),this.SetConceptData(t)},this.SetIndustryData=function(t){if(t.industry)for(var e in this.Industry=[],t.industry){var i=t.industry[e];this.Industry.push({Name:i.name,Symbol:i.symbol})}},this.SetRegionData=function(t){if(t.region)for(var e in this.Region=[],t.region){var i=t.region[e];this.Region.push({Name:i.name,Symbol:i.symbol})}},this.SetConceptData=function(t){if(t.concept)for(var e in this.Concept=[],t.concept){var i=t.concept[e];this.Concept.push({Name:i.name,Symbol:i.symbol})}}},this.Plate.SetData(t))},this.SetData=function(t){t.name&&(this.Name=t.name),isNaN(t.yclose)||(this.YClose=t.yclose),isNaN(t.price)||(this.Price=t.price),isNaN(t.high)||(this.High=t.high),isNaN(t.low)||(this.Low=t.low),isNaN(t.vol)||(this.Vol=t.vol),isNaN(t.amount)||(this.Amount=t.amount),isNaN(t.date)||(this.Date=t.date),isNaN(t.time)||(this.Time=t.time),isNaN(t.increase)||(this.Increase=t.increase),isNaN(t.marketvalue)||(this.MarketValue=t.marketvalue),isNaN(t.flowmarketvalue)||(this.FlowMarketValue=t.flowmarketvalue),isNaN(t.bookrate)||(this.Bookrate=t.bookrate),isNaN(t.bookdiffer)||(this.Bookdiffer=t.bookdiffer),isNaN(t.pe)||(this.PE=t.pe),isNaN(t.pb)||(this.PB=t.pb),t.finance&&this.SetFinanceData(t),t.finance&&this.SetFinanceDetailData(t),t.capital&&this.SetCapitalData(t),t.mamplitude&&(isNaN(t.mamplitude[1])||(this.MinuteAmplitude.M1=t.mamplitude[1]),isNaN(t.mamplitude[3])||(this.MinuteAmplitude.M3=t.mamplitude[3]),isNaN(t.mamplitude[5])||(this.MinuteAmplitude.M5=t.mamplitude[5]),isNaN(t.mamplitude[10])||(this.MinuteAmplitude.M10=t.mamplitude[10]),isNaN(t.mamplitude[15])||(this.MinuteAmplitude.M15=t.mamplitude[15])),t.risefallspeed&&(isNaN(t.risefallspeed[1])||(this.RiseFallSpeed.M1=t.risefallspeed[1]),isNaN(t.risefallspeed[3])||(this.RiseFallSpeed.M3=t.risefallspeed[3]),isNaN(t.risefallspeed[5])||(this.RiseFallSpeed.M5=t.risefallspeed[5]),isNaN(t.risefallspeed[10])||(this.RiseFallSpeed.M10=t.risefallspeed[10]),isNaN(t.risefallspeed[15])||(this.RiseFallSpeed.M15=t.risefallspeed[15])),t.mamount&&(isNaN(t.mamount[1])||(this.MAmount.M1=t.mamount[1]),isNaN(t.mamount[3])||(this.MAmount.M5=t.mamount[3]),isNaN(t.mamount[5])||(this.MAmount.M5=t.mamount[5]),isNaN(t.mamount[10])||(this.MAmount.M10=t.mamount[10]),isNaN(t.mamount[15])||(this.MAmount.M15=t.mamount[15]))}}var m={SYMBOL:0,NAME:1,OPEN:2,PRICE:3,HIGH:4,LOW:5,YCLOSE:6,VOL:7,AMOUNT:8,DATE:9,TIME:10,INCREASE:11,BUY5:12,SELL5:13,DEAL:14,AMPLITUDE:15,MARKET_VALUE:16,FLOW_MARKET_VALUE:17,BOOK_RATE:18,BOOK_DIFFER:19,PE:20,PB:21,EXCHANGE_RATE:23,ROE:24,FINANCE_DATE:25,FINANCE_PERSEARNING:26,FINANCE_PERNETASSET:27,FINANCE_NPROFIT:28,FINANCE_NPROFITINCREASE:29,FINANCE_NNETPROFIT:30,FINANCE_NNPROFITINCREASE:31,FINANCE_NNPROFITSPEED:32,FINANCE_EPS:33,MAX_PRICE:34,MIN_PRICE:35,RISE_FALL_PRICE:36,FINANCE_BENFORD:37,RISEFALLSPEED_1:38,RISEFALLSPEED_3:39,RISEFALLSPEED_5:40,RISEFALLSPEED_10:41,RISEFALLSPEED_15:42,MINUTE_AMPLITUDE_1:43,MINUTE_AMPLITUDE_3:44,MINUTE_AMPLITUDE_5:45,MINUTE_AMPLITUDE_10:46,MINUTE_AMPLITUDE_15:47,MINUTE_AMOUNT_1:48,MINUTE_AMOUNT_3:49,MINUTE_AMOUNT_5:50,MINUTE_AMOUNT_10:51,MINUTE_AMOUNT_15:52,COMPANY_NAME:53,PLATE_INDUSTRY:54,PLATE_CONCEPT:55,PLATE_REGION:56,COMPANY_BUSINESS:57,COMPANY_VOL:58,COMPANY_PRICE:59,COMPANY_RELEASEDATE:60,COMPANY_COMPETENCE:61,CAPITAL_FLOW_DAY:67,CAPITAL_FLOW_DAY3:68,CAPITAL_FLOW_DAY5:69,CAPITAL_FLOW_DAY10:70,DDE:71,DDE3:72,DDE5:73,DDE10:74,EVENTS:75,CAPITAL_A:76,CAPITAL_TOTAL:77,CAPTIAL_ARATE:78,VOLRATIO:79,PE2:80,PE3:81,INDEXTOP:100,WEEK:101,HEAT:102},v={m_mapFiled:new o.default([[m.NAME,"name"],[m.SYMBOL,"symbol"],[m.PRICE,"price"],[m.INCREASE,"increase"],[m.PE,"pe"],[m.FINANCE_BENFORD,"finance.benford"],[m.YCLOSE,"yclose"],[m.RISEFALLSPEED_1,"risefallspeed.1"],[m.RISEFALLSPEED_3,"risefallspeed.3"],[m.RISEFALLSPEED_5,"risefallspeed.5"],[m.RISEFALLSPEED_10,"risefallspeed.10"],[m.RISEFALLSPEED_15,"risefallspeed.15"],[m.MINUTE_AMPLITUDE_1,"mamplitude.1"],[m.MINUTE_AMPLITUDE_3,"mamplitude.3"],[m.MINUTE_AMPLITUDE_5,"mamplitude.5"],[m.MINUTE_AMPLITUDE_10,"mamplitude.10"],[m.MINUTE_AMPLITUDE_15,"mamplitude.15"],[m.MINUTE_AMOUNT_1,"mamount.1"],[m.MINUTE_AMOUNT_3,"mamount.3"],[m.MINUTE_AMOUNT_5,"mamount.5"],[m.MINUTE_AMOUNT_10,"mamount.10"],[m.MINUTE_AMOUNT_15,"mamount.15"]]),GetFieldName:function(t){return this.m_mapFiled.has(t)?this.m_mapFiled.get(t):null}};function g(t,e){this.JSStock=t,this.TagID=e,this.Get=function(e,i){var a=t.Get(e,this.TagID);if(!a)return null;switch(i){case m.SYMBOL:case m.NAME:case m.OPEN:case m.PRICE:case m.YCLOSE:case m.HIGH:case m.LOW:case m.VOL:case m.AMOUNT:case m.DATE:case m.TIME:case m.INCREASE:case m.EXCHANGE_RATE:case m.AMPLITUDE:case m.MAX_PRICE:case m.MIN_PRICE:case m.RISE_FALL_PRICE:case m.INDEXTOP:case m.WEEK:case m.VOLRATIO:return a.GetBaseData(this.TagID,i);case m.HEAT:return a.GetHeatData(this.TagID);case m.BUY5:return a.GetBuy5(this.TagID);case m.SELL5:return a.GetSell5(this.TagID);case m.DEAL:return a.GetDeal(this.TagID);case m.MARKET_VALUE:case m.FLOW_MARKET_VALUE:case m.BOOK_RATE:case m.BOOK_DIFFER:case m.PE:case m.PE2:case m.PE3:case m.PB:return a.GetDerivative(this.TagID,i);case m.ROE:case m.FINANCE_DATE:case m.FINANCE_PERSEARNING:case m.FINANCE_PERNETASSET:case m.FINANCE_NPROFIT:case m.FINANCE_NPROFITINCREASE:case m.FINANCE_NNETPROFIT:case m.FINANCE_NNPROFITINCREASE:case m.FINANCE_NNPROFITSPEED:case m.FINANCE_EPS:case m.FINANCE_BENFORD:return a.GetFinance(this.TagID,i);case m.PLATE_INDUSTRY:case m.PLATE_CONCEPT:case m.PLATE_REGION:return a.GetPlate(this.TagID,i);case m.CAPITAL_FLOW_DAY:case m.CAPITAL_FLOW_DAY3:case m.CAPITAL_FLOW_DAY5:case m.CAPITAL_FLOW_DAY10:return a.GetCapitalFlowDay(this.TagID,i);case m.DDE:case m.DDE3:case m.DDE5:case m.DDE10:return a.GetDDE(this.TagID,i);case m.EVENTS:return a.GetEvent(this.TagID,i);case m.COMPANY_NAME:case m.COMPANY_BUSINESS:case m.COMPANY_VOL:case m.COMPANY_PRICE:case m.COMPANY_RELEASEDATE:case m.COMPANY_COMPETENCE:return a.GetCompany(this.TagID,i);case m.CAPITAL_A:case m.CAPTIAL_ARATE:case m.CAPITAL_TOTAL:return a.GetCapital(this.TagID,i);default:return null}},this.GetSort=function(e,i,a){var n=t.Get(e,this.TagID);return null==n?n:n.GetSortData(this.TagID,i,a)},this.EndRead=function(t){1==t&&this.JSStock.ReqeustData()},this.SetQueryField=function(t,e){for(var i in e)this.Get(t,e[i])}}D.Init=function(){return new D},D.SetDomain=function(t,e){t&&(u.Domain=t),e&&(u.CacheDomain=e)},D.GetSearchStock=function(t){return new function(t){this.SearchStockApiUrl=u.Domain+"/API/StockSpell",this.UpdateUICallback=t,this.PageSize=50,this.Count,this.EndOffset,this.Data=new Array,this.SearchString="",this.SearchType=0,this.Search=function(t,e){if(this.SearchString==t&&this.SearchType==e)"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this);else{this.SearchString=t,this.SearchType=e,this.Count=0,this.EndOffset=0,this.Data=[];var i=this.PageSize-1;this.ReqeustSearchStock(this.SearchString,this.SearchType,this.EndOffset,i)}},this.IsEndPage=function(){return this.Count<=0||this.EndOffset>this.Count-1},this.NextPage=function(){if(!(this.EndOffset+1>this.Count)){var t=this.EndOffset+this.PageSize;this.ReqeustSearchStock(this.SearchString,this.SearchType,this.EndOffset,t)}},this.ReqeustSearchStock=function(t,e,i,a){var n=this;l.default.ajax({url:this.SearchStockApiUrl,data:{input:t,start:i,end:a,type:e},type:"post",dataType:"json",async:!0,success:function(t){n.RecvSearchStockData(t,C.SEARCH_STOCK_DATA)},error:function(t){n.RecvError(t,C.SEARCH_STOCK_DATA)}})},this.RecvSearchStockData=function(t){for(var e in t.stock){var i=t.stock[e];this.Data.push({Name:i.name,Symbol:i.symbol,Type:i.type})}0==t.count?(this.Count=0,this.EndOffset=0):(0==this.Count&&(this.Count=t.count),this.EndOffset=t.end,this.Count>0&&this.EndOffset>this.Count&&(this.EndOffset=this.Count-1)),"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this)},this.RecvError=function(t,e){console.log("[SearchStock::RecvError] datatype="+e.toString()),console.log(t),"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this,"error")}}(t)},D.GetShortTerm=function(t){return new function(t){this.newMethod=y,this.newMethod(),delete this.newMethod,this.Symbol=t,this.ApiUrl=u.Domain+"/API/StockShortTerm",this.Count=20,this.RequestData=function(){var t=this,e={count:this.Count};this.Symbol&&(e.symbol=this.Symbol),l.default.ajax({url:this.ApiUrl,data:e,type:"post",dataType:"json",async:!0,success:function(e){t.RecvData(e,C.SHORT_TERM_DATA)},fail:function(e){t.RecvError(e,C.SHORT_TERM_DATA)}})},this.RecvData=function(t,e){for(var i in this.Data=[],t.shortterm){var a=t.shortterm[i];this.Data.push({Date:a.date,Name:a.name,Symbol:a.symbol,Time:a.time,Content:a.content,TypeInfo:a.typeinfo,Type:a.type})}this.UpdateUICallback&&this.UpdateUICallback(this),this.AutoUpate()},this.RecvError=function(t,e){}}(t)},D.GetDealDay=function(t){return new function(t){this.newMethod=y,this.newMethod(),delete this.newMethod,this.Symbol=t,this.Date,this.RequestData=function(){this.Data=null,this.Error=null;var t=this,e=u.CacheDomain+"/cache/dealday/day/"+this.Date+"/"+this.Symbol+".json";console.log("[DealDay::RequestData] cache url ",e),l.default.ajax({url:e,type:"get",dataType:"json",async:!0,success:function(e){t.RecvData(e,C.DEAL_DAY_DATA)},error:function(e){t.RecvError(e,C.DEAL_DAY_DATA)}})},this.RecvData=function(t,e){if(t.day&&t.deal){var i=t.deal.amount,a=t.deal.price,n=t.deal.time,s=t.deal.vol,l=t.deal.flag;if(l&&s&&n&&a&&i){for(var h={Date:t.date,Open:t.day.open,Close:t.day.price,YClose:t.day.yclose,Symbol:t.symbol,Name:t.name,Deal:[],PriceList:[]},u=new o.default,c=0,d=Math.min(n.length,s.length,l.length,a.length,i.length),f=0;f<d;++f){var p,m={Time:n[f],Vol:s[f],Flag:"",Price:a[f],Amount:i[f]};0===l[f]?m.Flag="B":1===l[f]&&(m.Flag="S"),m.Time>15e4&&(m.Time=15e4),h.Deal.push(m),u.has(m.Price)?(p=u.get(m.Price)).Vol+=m.Vol:(p={Vol:m.Vol,Price:m.Price,BuyVol:0,SellVol:0,NoneVol:0},u.set(m.Price,p)),0===l[f]?p.BuyVol+=m.Vol:1===l[f]?p.SellVol+=m.Vol:p.NoneVol+=m.Vol,c+=m.Vol}var v=!0,g=!1,C=void 0;try{for(var D,y=(0,r.default)(u);!(v=(D=y.next()).done);v=!0){var x=D.value,S=x[1];c>0&&(S.Proportion=S.Vol/c),h.PriceList.push(S)}}catch(t){g=!0,C=t}finally{try{!v&&y.return&&y.return()}finally{if(g)throw C}}h.PriceList.sort(function(t,e){return e.Price-t.Price}),this.Data=h,this.InvokeUpdateUICallback()}else this.InvokeUpdateUICallback()}else this.InvokeUpdateUICallback()},this.RecvError=function(t,e){console.log("[DealDay::RecvError] status="+t.status+" statusText="+t.statusText+" responseText="+t.responseText),this.Error={Status:t.status,Message:t.responseText},this.InvokeUpdateUICallback()}}(t)},D.GetBlockMember=function(t){return new function(t){this.newMethod=y,this.newMethod(),delete this.newMethod,this.ApiUrl=u.Domain+"/API/StockBlockMember",this.PageSize=10,this.Start=0,this.OrderField,this.Order,this.Symbol=t,this.OrderNull=0,this.Field=new Array,this.Data=new Array,this.PageInfo,this.SetField=function(t){for(var e in this.Field=new Array,t){var i=t[e],a=v.GetFieldName(i);null!=a&&this.Field.push(a)}return this.Field.length>0},this.SetOrder=function(t,e){this.Order=null,this.OrderField=null;var i=v.GetFieldName(t);return null!=i&&(this.OrderField=i,this.Order=e,!0)},this.RequestData=function(){this.Data=[];var t=this;l.default.ajax({url:this.ApiUrl,data:{symbol:this.Symbol,field:this.Field,order:this.Order,orderfield:this.OrderField,start:this.Start,end:this.Start+this.PageSize,ordernull:this.OrderNull},type:"post",dataType:"json",success:function(e){t.RecvData(e,C.BLOCK_MEMBER_DATA)},error:function(e){t.RecvError(e,C.BLOCK_MEMBER_DATA)}})},this.RecvData=function(t,e){for(var i in t.stock){var a=t.stock[i];if(null!=a.symbol){var n=new p(a.symbol);n.SetData(a),this.Data.push(n)}}this.PageInfo={Count:t.count,Start:t.start,End:t.end},"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this),this.AutoUpate()},this.RecvError=function(t,e){}}(t)},D.GetBlockTop=function(){return new function(){this.newMethod=y,this.newMethod(),delete this.newMethod,this.BlockType=1,this.Count=20,this.OrderField="increase",this.Order=-1,this.Field=["symbol","price","name","vol","increase","indextop","risefall"],this.ApiUrl=u.Domain+"/API/StockBlockTop",this.SetField=function(t){},this.ReqeustData=function(){var t=this;l.default.ajax({url:this.ApiUrl,data:{blocktype:this.BlockType,start:0,end:this.Count,field:this.Field,orderfield:this.OrderField,order:this.Order},type:"post",dataType:"json",async:!0,success:function(e){t.RecvData(e,C.BLOCK_TOP_DATA)},fail:function(e){t.RecvError(e,C.BLOCK_TOP_DATA)}})},this.RecvData=function(t,e){var i=t;for(var a in this.Data=[],this.resCount=i.count,i.stock){var n=i.stock[a];if(null!=n.indextop)var r={Down:n.indextop.down,Stop:n.indextop.stop,Up:n.indextop.up,Unchanged:n.indextop.unchanged,DownStock:{Name:n.indextop.downstock.name,Symbol:n.indextop.downstock.symbol},UpStock:{Name:n.indextop.upstock.name,Symbol:n.indextop.upstock.symbol}};this.Data.push({Name:n.name,Symbol:n.symbol,Increase:n.increase,Risefall:n.risefall,IndexTop:r})}this.UpdateUICallback&&this.UpdateUICallback(this),this.AutoUpate()},this.RecvError=function(t,e){}}},D.GetMinuteImage=function(t){return new function(t){this.newMethod=y,this.newMethod(),delete this.newMethod,this.ApiUrl=u.Domain+"/API/StockMinuteImage",this.Symbol=[t],this.Data=[],this.RequestData=function(){this.Data=[];var t=this;l.default.ajax({url:this.ApiUrl,data:{symbol:this.Symbol},type:"post",dataType:"json",success:function(e){t.RecvData(e,C.IMAGE_MINUTE_DATA)},error:function(e){t.RecvError(e,C.IMAGE_MINUTE_DATA)}})},this.RecvData=function(t,e){for(var i in t.symbol){var a={Symbol:t.symbol[i],Image:t.imagerelative[i]};this.Data.push(a)}"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this)},this.RecvError=function(t,e){}}(t)},D.GetHistoryDayData=function(t){return new function(t){this.newMethod=y,this.newMethod(),delete this.newMethod,this.Symbol=t,this.RequestData=function(){this.Data=null,this.Error=null;var t=this,e=u.CacheDomain+"/cache/historyday/all/"+this.Symbol+".json";console.log("[HistoryDayData::RequestData] cache url ",e),l.default.ajax({url:e,type:"get",dataType:"json",async:!0,success:function(e){t.RecvData(e,C.HISTORY_DAY_DATA)},error:function(e){t.RecvError(e,C.HISTORY_DAY_DATA)}})},this.RecvData=function(t,e){if(t.symbol&&t.name){var i=t.amount,a=t.close,n=t.date,r=t.high,o=t.low,s=t.open,l=t.vol,h=t.yclose;if(i&&a&&n&&r&&o&&s&&l&&h){for(var u={UpdateDate:t.update,Symbol:t.symbol,Name:t.name,KLine:[]},c=0;c<n.length;++c){var d={Date:n[c],YClose:h[c],Open:s[c],High:r[c],Low:o[c],Close:a[c],Vol:l[c],Amount:i[c]};u.KLine.push(d)}this.Data=u,this.InvokeUpdateUICallback()}else this.InvokeUpdateUICallback()}else this.InvokeUpdateUICallback()},this.RecvError=function(t,e){console.log("[HistoryDayData::RecvError] status="+t.status+" statusText="+t.statusText+" responseText="+t.responseText),this.Error={Status:t.status,Message:t.responseText},this.InvokeUpdateUICallback()},this.GetWeekData=function(){if(!this.Data||!this.Data.KLine)return[];var t=this.GetDayPeriodData(1);return t},this.GetMonthData=function(){if(!this.Data||!this.Data.KLine)return[];var t=this.GetDayPeriodData(2);return t},this.GetDayPeriodData=function(t){var e=new Array,i=0,a=null;for(var n in this.Data.KLine){var r=!1,o=this.Data.KLine[n];switch(t){case 1:var s=this.GetFirday(o.Date);s!=i&&(r=!0,i=s);break;case 2:parseInt(o.Date/100)!=parseInt(i/100)&&(r=!0,i=o.Date);break;case 3:parseInt(o.Date/1e4)!=parseInt(i/1e4)&&(r=!0,i=o.Date)}if(r){if((a={}).Date=o.Date,e.push(a),null==o.Open||null==o.Close)continue;a.Open=o.Open,a.High=o.High,a.Low=o.Low,a.YClose=o.YClose,a.Close=o.Close,a.Vol=o.Vol,a.Amount=o.Amount}else{if(null==a)continue;if(null==o.Open||null==o.Close)continue;null==a.Open||null==a.Close?(a.Open=o.Open,a.High=o.High,a.Low=o.Low,a.YClose=o.YClose,a.Close=o.Close,a.Vol=o.Vol,a.Amount=o.Amount):(a.High<o.High&&(a.High=o.High),a.Low>o.Low&&(a.Low=o.Low),a.Close=o.Close,a.Vol+=o.Vol,a.Amount+=o.Amount,a.Date=o.Date)}}return e},this.GetFirday=function(t){var e=new Date(parseInt(t/1e4),t/100%100-1,t%100),i=e.getDay();if(5==i)return t;var a=e.getTime();if(i<5){var n=864e5*(5-i);a+=n}else{var n=864e5*(i-5);a-=n}e.setTime(a);var r=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();e.getDay();return r}}(t)},D.GetDealPriceListData=function(t){return new function(t){this.newMethod=y,this.newMethod(),delete this.newMethod,this.Symbol=t,this.ApiUrl=u.Domain+"/API/StockPriceList",this.RequestData=function(){if(this.Symbol){var t=this,e={};Array.isArray(this.Symbol)?e.Symbol=this.Symbol:e.Symbol=[this.Symbol],l.default.ajax({url:this.ApiUrl,data:e,type:"post",dataType:"json",async:!0,success:function(e){t.RecvData(e,C.DEAL_PRICE_LIST_DATA)},fail:function(e){t.RecvError(e,C.DEAL_PRICE_LIST_DATA)}})}},this.RecvData=function(t,e){if(this.Data=null,!(t.statistics.length<=0)){this.Data={Day:{},PriceList:[]};var i=t.data[0];this.Data.Day={Date:i.date,YClose:i.yclose,Price:i.price,Vol:i.vol,Time:i.time},this.Data.Stock={Symbol:i.symbol,Name:i.name};var a=t.statistics[0];for(var n in a.list){var r=a.list[n],o={Price:r[0],Vol:r[1],BuyVol:r[2],SellVol:r[3],NoneVol:r[4]};i.vol>0&&(o.Proportion=o.Vol/i.vol),this.Data.PriceList.push(o)}this.UpdateUICallback&&this.UpdateUICallback(this),this.AutoUpate()}},this.RecvError=function(t,e){}}(t)},D.GetLatestDetailData=function(t){return new function(t){this.newMethod=y,this.newMethod(),delete this.newMethod,this.IsAutoUpdate=!1,this.Symbol=t,this.PageSize=20,this.Request=function(t,e){this.Error=null;var i=this,a=t*e,n=a+e,r=u.Domain+"/API/StockDetail";console.log("[LatestDetailData::RequestData] url="+r+", start="+a+" , end="+n),l.default.ajax({url:r,data:{symbol:this.Symbol,start:a,end:n},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,C.LATEST_DETAIL_DATA)},error:function(t){i.RecvError(t,C.LATEST_DETAIL_DATA)}})},this.RequestData=function(){this.Data={Deal:[],Count:0,Reqeust:{PageIndex:0},Response:{}},this.Request(0,this.PageSize)},this.RequestPage=function(t){this.Data||(this.Data={Deal:[],Count:0}),this.Data.Reqeust={PageIndex:t},this.Data.Response={};for(var e=t*this.PageSize,i=e+this.PageSize,a=!0,n=e;n<i;++n)if(!this.Data.Deal[n]){a=!1;break}a?(this.Data.Response={Start:e,End:i},this.InvokeUpdateUICallback()):this.Request(t,this.PageSize)},this.RecvData=function(t,e){if(this.Data.Count=t.count,t.detail){this.Data.Day={YClose:t.yclose,Open:t.open,Close:t.price,Date:t.date},this.Data.Stock={Symbol:t.symbol,Name:t.name};for(var i=t.start,a=0,n=i;a<t.detail.length;++a,++n){var r=t.detail[a],o={Time:r[0],Price:r[1],Vol:r[2],Amount:r[3],Flag:""};0===r[4]?o.Flag="B":1===r[4]&&(o.Flag="S"),this.Data.Deal[n]=o}this.Data.Response={Start:t.start,End:t.end},this.InvokeUpdateUICallback()}else this.InvokeUpdateUICallback()},this.RecvError=function(t,e){console.log("[LatestDetailData::RecvError] status="+t.status+" statusText="+t.statusText+" responseText="+t.responseText),this.Error={Status:t.status,Message:t.responseText},this.InvokeUpdateUICallback()}}(t)},D.GetAnalylisPlate=function(){return new function(){this.newMethod=y,this.newMethod(),delete this.newMethod,this.ApiUrl=u.Domain+"/api/StockListAnalyze",this.PolicyGuid,this.Plate="",this.SymbolList=[],this.RequestData=function(){var t=this;l.default.ajax({url:t.ApiUrl,data:{PolicyGuid:t.PolicyGuid,Plate:t.Plate,Symbol:t.SymbolList},type:"post",dataType:"json",async:!0,success:function(e){t.RecvData(e)},error:function(e){t.RecvError(e)}})},this.RecvData=function(t){this.Data={};var e=t;if(0!=e.count){if(e.concept){var i=[];for(var a in e.concept.data){var n=e.concept.data[a],r={};r.Name=n[0],r.Symbol=n[1],r.Ratio=n[2],r.Count=n[3],r.Increase=n[4],r.Price=n[5],r.Week1=n[6],r.Week4=n[7],i.push(r)}this.Data.Concept=i}e.distributed&&(this.Data.Distributed=e.distributed),e.industry&&(this.Data.Industry=e.industry),e.quadrant&&(this.Data.Quadrant=e.quadrant),e.region&&(this.Data.Region=e.region),this.UpdateUICallback&&this.UpdateUICallback(this)}},this.RecvError=function(t){console.log(t)}}},D.GetStockHistory=function(){return new function(){this.Symbol,this.Callback,this.Order=-1,this.SortField,this.Field,this.Plate,this.Data=new o.default,this.ApiUrl=u.Domain+"/API/StockHistoryDay",this.PageSize=20,this.PageIndex=1,this.Count,this.currentData=null,this.RequsetData=function(t,e){var i=this,a="string"==typeof i.Symbol?[this.Symbol]:this.Symbol,n=a?a.length:0;this.Plate?this.currentData={plate:this.Plate,symbol:a,start:0,end:this.PageSize,field:this.Field,orderfield:this.SortField,order:this.Order,condition:t.GetQuery(),condition2:e?e.GetQuery():[]}:this.currentData={symbol:a,start:0,end:n,field:this.Field,orderfield:this.SortField,order:this.Order,condition:t.GetQuery(),condition2:e?e.GetQuery():[]},l.default.ajax({url:this.ApiUrl,data:i.currentData,method:"POST",dataType:"json",success:function(e){i.Count=e.data.count,i.RecvData(e,t)},fail:function(e){i.RecvError(e,t)}})},this.GetNextPage=function(){var t=this;this.PageSize*this.PageIndex<this.Count?(this.currentData.start=this.PageSize*this.PageIndex,this.PageIndex++,this.currentData.end=this.PageSize*this.PageIndex,l.default.ajax({url:this.ApiUrl,data:t.currentData,method:"POST",dataType:"json",success:function(e){t.RecvData(e)},fail:function(e){t.RecvError(e)}})):alert("数据已全部加载")},this.RecvData=function(t,e){var i=t.data;for(var a in i.stock){var n=i.stock[a],r=n.symbol,s={};this.Data.has(r)?s=this.Data.get(r):(s={Symbol:n.symbol,Name:n.name,Data:new o.default},this.Data.set(r,s)),this.SetStockData(n,s)}this.Callback&&this.Callback(this,e)},this.SetStockData=function(t,e){for(var i in t.stockday){var a=t.stockday[i],n=a.date,r=new o.default;this.SetFinanceData(a,r),this.SetBlocktradingData(a,r),this.SetChangesData(a,r),this.SetLiftingData(a,r),this.SetPforecastData(a,r),this.SetShortIndicatorsData(a,r),e.Data.set(n,r)}return e},this.SetFinanceData=function(t,e){var i,a;(i=t.finance1)&&(isNaN(i.nprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NPROFITINCREASE,i.nprofitincrease),isNaN(i.nnprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NNPROFITINCREASE,i.nnprofitincrease),isNaN(i.nnprofitspeed)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NNPROFITSPEED,i.nnprofitspeed),isNaN(i.benford)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_BENFORD,i.benford)),(a=t.announcement1)&&(isNaN(a.year)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_YEAR,a.year),isNaN(a.quarter)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_QUARTER,a.quarter)),(i=t.finance2)&&(isNaN(i.nprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NPROFITINCREASE,i.nprofitincrease),isNaN(i.nnprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NNPROFITINCREASE,i.nnprofitincrease),isNaN(i.nnprofitspeed)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NNPROFITSPEED,i.nnprofitspeed),isNaN(i.benford)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_BENFORD,i.benford)),(a=t.announcement2)&&(isNaN(a.year)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_YEAR,a.year),isNaN(a.quarter)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_QUARTER,a.quarter)),(i=t.finance3)&&(isNaN(i.nprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NPROFITINCREASE,i.nprofitincrease),isNaN(i.nnprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NNPROFITINCREASE,i.nnprofitincrease),isNaN(i.nnprofitspeed)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NNPROFITSPEED,i.nnprofitspeed),isNaN(i.benford)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_BENFORD,i.benford)),(a=t.announcement3)&&(isNaN(a.year)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_YEAR,a.year),isNaN(a.quarter)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_QUARTER,a.quarter)),(i=t.finance4)&&(isNaN(i.nprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NPROFITINCREASE,i.nprofitincrease),isNaN(i.nnprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NNPROFITINCREASE,i.nnprofitincrease),isNaN(i.nnprofitspeed)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NNPROFITSPEED,i.nnprofitspeed),isNaN(i.benford)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_BENFORD,i.benford)),(a=t.announcement4)&&(isNaN(a.year)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_YEAR,a.year),isNaN(a.quarter)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_QUARTER,a.quarter))},this.SetBlocktradingData=function(t,e){var i=t.blocktrading;i&&e.set(STOCK_HISTORY_FIELD_NAME.BLOCK_TRADING,{Premium:i.premium,Price:i.price,Vol:i.vol,Amount:i.amount})},this.SetChangesData=function(t,e){var i=t.changes;i&&e.set(STOCK_HISTORY_FIELD_NAME.HOLDERS_CHANGES,{List:i.list})},this.SetLiftingData=function(t,e){var i=t.lifting;i&&e.set(STOCK_HISTORY_FIELD_NAME.LIFTING,{Lifting:i})},this.SetPforecastData=function(t,e){var i=t.pforecast;i&&e.set(STOCK_HISTORY_FIELD_NAME.PFORECAST,{Lowprofit:i[0].lowprofit,Highprofit:i[0].highprofit,Lowchange:i[0].lowchange,Highchange:i[0].highchange,Reportdate:i[0].reportdate})},this.SetShortIndicatorsData=function(t,e){var i=t.policy;if(i){var a=["三只乌鸦","乌云盖顶","黄昏之星","巨量阴线","头肩顶","射击之星","倾盆大雨","断头铡刀","淡友反攻","空方炮","连续1周空头排列"],n=0,r=[],o=0,s="";i.forEach(function(t){a.some(function(e){return e===t.name})&&(n++,r.push(t.time))}),n?(o=Math.max.apply(r,r),s=i.find(function(t){return t.time===o}).name):s="",console.log(s,n,"latestName-targetedCount"),e.set(STOCK_HISTORY_FIELD_NAME.SHORTIND_ICATORS,{latestIndicatorName:s,indicatorCount:n})}},this.RecvError=function(t,e){},this.CreateCondition=function(t){return new QueryCondition(t)}}};var C={BASE_DATA:1,INDEX_BASE_DATA:2,HEAT_DATA:3,SORT_DATA:4,BUY_SELL_DATA:5,DEAL_DATA:6,DERIVATIVE_DATA:7,FINANCE_DATA:8,SEARCH_STOCK_DATA:9,SELF_STOCK_DATA:10,LOGON_DATA:11,BLOCK_MEMBER_DATA:13,SHORT_TERM_DATA:14,COMPANY_DATA:15,PLATE_DATA:16,CAPITAL_DATA:17,CAPITAL_FLOW_DAY_DATA:23,CAPITAL_FLOW_DAY3_DATA:24,CAPITAL_FLOW_DAY5_DATA:25,CAPITAL_FLOW_DAY10_DATA:26,DDE_DAY_DATA:27,DDE_DAY3_DATA:28,DDE_DAY5_DATA:29,DDE_DAY10_DATA:30,DEAL_DAY_DATA:105,EVENT_DATA:106,IMAGE_MINUTE_DATA:107,HISTORY_DAY_DATA:108,DEAL_PRICE_LIST_DATA:109,LATEST_DETAIL_DATA:110};function D(){this.MapStock=new o.default,this.MapTagCallback=new o.default,this.RequestVersion=new Array([100,100,100]),this.RealtimeApiUrl=u.Domain+"/API/Stock",this.PlateQuadrantApiUrl=u.Domain+"/API/StockPlateQuadrant",this.IsAutoUpdate=!0,this.AutoUpateTimeout=15e3,this.Timeout,this.NetworkFilter,this.GetStockRead=function(t,e){var i=!0,a=!1,n=void 0;try{for(var o,s=(0,r.default)(this.MapStock);!(i=(o=s.next()).done);i=!0){o.value[1].RemoveTagID(t)}}catch(t){a=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(a)throw n}}return this.MapTagCallback.set(t,e),new g(this,t)},this.Unsubscribe=function(t){var e=!0,i=!1,a=void 0;try{for(var n,o=(0,r.default)(this.MapStock);!(e=(n=o.next()).done);e=!0){n.value[1].RemoveTagID(t)}}catch(t){i=!0,a=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw a}}},this.UnsubscribeStock=function(t,e){var i=!0,a=!1,n=void 0;try{for(var o,s=(0,r.default)(this.MapStock);!(i=(o=s.next()).done);i=!0){var l=o.value;if(l[0]===t){e?l[1].RemoveTagID(e):l[1].ClearTagID(),console.log("[JSStock::UnsubscribeStock] symbol="+t+", tagID="+e);break}}}catch(t){a=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(a)throw n}}},this.Get=function(t,e){this.MapStock.has(t)||this.MapStock.set(t,new p(t));var i=this.MapStock.get(t);return e&&i.AttachTagID(e),i},this.RequestData=function(){this.ClearTimer();var t=new Array,e=new Array,i=new Array,a=new Array,n=new Array,o=new Array,s=new Array,l=[],h=[],u=[],c=[],d=[],p=[],m=[],v=[],g=new Array,C=new Array,D=new Array,y=new Array,x=!0,S=!1,I=void 0;try{for(var T,b=(0,r.default)(this.MapStock);!(x=(T=b.next()).done);x=!0){var w=T.value,M=w[1],E=w[0];M.BaseDataTagID.size>0&&(f(E)?e.push(E):t.push(E)),M.BuySellTagID.size>0&&a.push(E),M.CapitalFlowDayID.size>0&&l.push(E),M.CapitalFlowDay3ID.size>0&&h.push(E),M.CapitalFlowDay5ID.size>0&&u.push(E),M.CapitalFlowDay10ID.size>0&&c.push(E),M.DDEID.size>0&&d.push(E),M.DDE3ID.size>0&&p.push(E),M.DDE5ID.size>0&&m.push(E),M.DDE10ID.size>0&&v.push(E),M.HeatTagID.size>0&&i.push(E),M.DealTagID.size>0&&n.push(E),M.DerivativeTagID.size>0&&o.push(E),M.FinanceTagID.size>0&&s.push(E),M.CapitalTagID.size>0&&y.push(E),null==M.Event&&M.EventTagID.size>0&&g.push(E),null==M.Company&&M.CompanyTagID.size>0&&C.push(E),null==w[1].Plate&&w[1].PlateTagID.size>0&&D.push(w[0])}}catch(t){S=!0,I=t}finally{try{!x&&b.return&&b.return()}finally{if(S)throw I}}a.length>0&&this.RequestBuySellData(a),t.length>0&&this.RequestBaseData(t),e.length>0&&this.RequestIndexBaseData(e),i.length>0&&this.RequestIndexHeatData(i),n.length>0&&this.RequestDealData(n),o.length>0&&this.RequestDerivativeData(o),s.length>0&&this.RequestFinanceData(s),y.length>0&&this.RequestCapitalData(y),l.length>0&&this.RequestSubDocumentData(l,"flowday"),h.length>0&&this.RequestSubDocumentData(h,"flowday3"),u.length>0&&this.RequestSubDocumentData(u,"flowday5"),c.length>0&&this.RequestSubDocumentData(c,"flowday10"),d.length>0&&this.RequestSubDocumentData(d,"dde"),p.length>0&&this.RequestSubDocumentData(p,"dde3"),m.length>0&&this.RequestSubDocumentData(m,"dde5"),v.length>0&&this.RequestSubDocumentData(v,"dde10"),g.length>0&&this.RequestEventData(g),C.length>0&&this.RequestCompanyData(C),D.length>0&&this.RequestPlateData(D),this.ReqeustAllSortData()},this.ReqeustData=this.RequestData,this.RequestBaseData=function(t){var e=this,i=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","week","increase","exchangerate","amplitude","volratio"];if(this.NetworkFilter){var a={Name:"JSStock::RequestBaseData",Explain:"股票基础数据",ID:C.BASE_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,C.BASE_DATA)}),1==a.PreventDefault)return}l.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,C.BASE_DATA)},error:function(t){e.RecvError(t,C.BASE_DATA)}})},this.RequestDerivativeData=function(t){var e=this,i=["name","symbol","marketvalue","flowmarketvalue","pe","pe2","pe3","pb","bookrate","bookdiffer"];if(this.NetworkFilter){var a={Name:"JSStock::RequestDerivativeData",Explain:"实时衍生数据",ID:C.DERIVATIVE_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,C.DERIVATIVE_DATA)}),1==a.PreventDefault)return}l.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,C.DERIVATIVE_DATA)},error:function(t){e.RecvError(t,C.DERIVATIVE_DATA)}})},this.RequestFinanceData=function(t){var e=this,i=["name","symbol","roe","finance"];if(this.NetworkFilter){var a={Name:"JSStock::RequestFinanceData",Explain:"财务数据",ID:C.FINANCE_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,C.FINANCE_DATA)}),1==a.PreventDefault)return}l.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,C.FINANCE_DATA)},error:function(t){e.RecvError(t,C.FINANCE_DATA)}})},this.RequestCapitalData=function(t){var e=this,i=["name","symbol","capital"];if(this.NetworkFilter){var a={Name:"JSStock::RequestCapitalData",Explain:"股本数据",ID:C.CAPITAL_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,C.CAPITAL_DATA)}),1==a.PreventDefault)return}l.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,C.CAPITAL_DATA)},error:function(t){e.RecvError(t,C.CAPITAL_DATA)}})},this.RequestBuySellData=function(t){var e=this,i=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","week","increase","buy","sell","exchangerate","amplitude"];if(this.NetworkFilter){var a={Name:"JSStock::RequestBuySellData",Explain:"买卖盘数据",ID:C.BUY_SELL_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,C.BUY_SELL_DATA)}),1==a.PreventDefault)return}l.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,C.BUY_SELL_DATA)},error:function(t){e.RecvError(t,C.BUY_SELL_DATA)}})},this.RequestDealData=function(t){var e=this,i=["name","symbol","price","high","low","vol","amount","date","time","increase","deal"];if(this.NetworkFilter){var a={Name:"JSStock::RequestDealData",Explain:"分笔数据",ID:C.DEAL_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,C.DEAL_DATA)}),1==a.PreventDefault)return}l.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,C.DEAL_DATA)},error:function(t){e.RecvError(t,C.DEAL_DATA)}})},this.RequestIndexBaseData=function(t){var e=this,i=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","week","indextop","increase"];if(this.NetworkFilter){var a={Name:"JSStock::RequestIndexBaseData",Explain:"指数基础数据(包含上涨下跌家数)",ID:C.INDEX_BASE_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,C.INDEX_BASE_DATA)}),1==a.PreventDefault)return}l.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){console.log(t),e.RecvData(t,C.INDEX_BASE_DATA)},error:function(t){e.RecvError(t,C.INDEX_BASE_DATA)}})},this.RequestIndexHeatData=function(t){var e=this;l.default.ajax({url:this.PlateQuadrantApiUrl,data:{plate:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,C.HEAT_DATA)},error:function(t){e.RecvError(t,C.HEAT_DATA)}})},this.ReqeustAllSortData=function(){var t=new Array,e=!0,i=!1,a=void 0;try{for(var n,o=(0,r.default)(this.MapStock);!(e=(n=o.next()).done);e=!0){var s=n.value;if(f(s[0])&&!(null==s[1].Sort||s[1].Sort.size<=0)){var l=!0,h=!1,u=void 0;try{for(var c,d=(0,r.default)(s[1].Sort);!(l=(c=d.next()).done);l=!0){var p=(g=c.value)[1],m={Plate:s[0],SortField:p.SortField,Order:p.Order,TagID:p.TagID};t.push(m)}}catch(t){h=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw u}}}}}catch(t){i=!0,a=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw a}}for(var v in t){var g=t[v];this.ReqeustSortData(g)}},this.ReqeustSortData=function(t){var e=this,i=t,a="";switch(i.SortField){case m.INCREASE:a="increase";break;case m.PRICE:a="price";break;default:return}var n=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","week","increase","exchangerate"];if(this.NetworkFilter){var r={Name:"JSStock::ReqeustSortData",Explain:"板块排序数据",ID:C.SORT_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:n,plate:[t.Plate],orderfield:a,order:t.Order,ordernull:1,filterstop:1},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(t){e.RecvData(t,C.SORT_DATA,i)}),1==r.PreventDefault)return}l.default.ajax({url:this.RealtimeApiUrl,data:{field:n,plate:[t.Plate],orderfield:a,order:t.Order,ordernull:1,filterstop:1},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,C.SORT_DATA,i)},error:function(t){e.RecvError(t,C.SORT_DATA,i)}})},this.RequestSubDocumentData=function(t,e){var i=this,a=new o.default([["flowday",{Field:"flowday",RecvID:C.CAPITAL_FLOW_DAY_DATA}],["flowday3",{Field:"flowday3",RecvID:C.CAPITAL_FLOW_DAY3_DATA}],["flowday5",{Field:"flowday5",RecvID:C.CAPITAL_FLOW_DAY5_DATA}],["flowday10",{Field:"flowday10",RecvID:C.CAPITAL_FLOW_DAY10_DATA}],["dde",{Field:"dde",RecvID:C.DDE_DAY_DATA}],["dde3",{Field:"dde3",RecvID:C.DDE_DAY3_DATA}],["dde5",{Field:"dde5",RecvID:C.DDE_DAY5_DATA}],["dde10",{Field:"dde10",RecvID:C.DDE_DAY10_DATA}]]);if(a.has(e)){var n=a.get(e);if(this.NetworkFilter){var r={Name:"JSStock::RequestSubDocumentData",Explain:"子文档数据",ID:n.RecvID,Request:{Url:i.RealtimeApiUrl,Data:{field:["symbol",n.Field],symbol:t,start:0,end:50},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(t){i.RecvData(t,n.RecvID)}),1==r.PreventDefault)return}l.default.ajax({url:this.RealtimeApiUrl,data:{field:["symbol",n.Field],symbol:t,start:0,end:50},type:"post",dataType:"json",success:function(t){i.RecvData(t,n.RecvID)},error:function(t){i.RecvError(t,n.RecvID)}})}},this.RequestEventData=function(t){var e=this;l.default.ajax({url:this.RealtimeApiUrl,data:{field:["symbol","events.margin","events.shhk","events.hk","events.st","events.hksymbol","events.hkname","events.szhk"],symbol:t,start:0,end:50},type:"POST",dataType:"json",success:function(t){e.RecvData(t,C.EVENT_DATA)},error:function(t){e.RecvError(t,C.EVENT_DATA)}})},this.RequestCompanyData=function(t){var e=this;l.default.ajax({url:this.RealtimeApiUrl,data:{field:["name","symbol","company"],symbol:t,start:0,end:50},type:"POST",dataType:"json",success:function(t){e.RecvData(t,C.COMPANY_DATA)},error:function(t){e.RecvError(t,C.COMPANY_DATA)}})},this.RequestPlateData=function(t){var e=this;l.default.ajax({url:this.RealtimeApiUrl,data:{field:["name","symbol","industry","region","concept"],symbol:t,start:0,end:50},type:"POST",dataType:"json",success:function(t){e.RecvData(t,C.PLATE_DATA)},error:function(t){e.RecvError(t,C.PLATE_DATA)}})},this.RecvError=function(t,e,i){console.log("RecvError: datatype="+e.toString()),console.log(t);var a=this;this.Timeout&&clearTimeout(this.Timeout),this.Timeout=setTimeout(function(){a.ReqeustData()},2*this.AutoUpateTimeout)},this.RecvData=function(t,e,i){var a;switch(e){case C.BASE_DATA:case C.INDEX_BASE_DATA:a=this.RecvBaseData(t,e);break;case C.HEAT_DATA:a=this.RecvHeatData(t,e);break;case C.SORT_DATA:a=this.RecvSortData(t,e,i);break;case C.BUY_SELL_DATA:a=this.RecvBuySellData(t,e);break;case C.DEAL_DATA:a=this.RecvDealData(t,e);break;case C.DERIVATIVE_DATA:a=this.RecvDerivativeData(t,e);break;case C.FINANCE_DATA:a=this.RecvFinanceData(t,e);break;case C.CAPITAL_DATA:a=this.RecvCapitalData(t,e);break;case C.CAPITAL_FLOW_DAY_DATA:case C.CAPITAL_FLOW_DAY3_DATA:case C.CAPITAL_FLOW_DAY5_DATA:case C.CAPITAL_FLOW_DAY10_DATA:case C.DDE_DAY_DATA:case C.DDE_DAY3_DATA:case C.DDE_DAY5_DATA:case C.DDE_DAY10_DATA:a=this.RecvSubDocumentData(t,e);break;case C.EVENT_DATA:a=this.RecvEventData(t,e);break;case C.COMPANY_DATA:a=this.RecvCompanyData(t,e);break;case C.PLATE_DATA:a=this.RecvPlateData(t,e)}var n=!0,o=!1,s=void 0;try{for(var l,h=(0,r.default)(a);!(n=(l=h.next()).done);n=!0){var u=l.value;this.MapTagCallback.has(u[0])&&this.MapTagCallback.get(u[0])(u[0],u[1],e,this)}}catch(t){o=!0,s=t}finally{try{!n&&h.return&&h.return()}finally{if(o)throw s}}this.AutoUpdate()},this.ClearTimer=function(){this.Timeout&&(clearTimeout(this.Timeout),this.Timeout=null)},this.AutoUpdate=function(){if(this.ClearTimer(),this.IsAutoUpdate){var t=this,e=!1,i=!0,a=!1,n=void 0;try{for(var o,s=(0,r.default)(this.MapStock);!(i=(o=s.next()).done);i=!0){var l=o.value,h=x.GetMarketStatus(l[0]);if(2==h)return void(this.Timeout=setTimeout(function(){t.ReqeustData()},this.AutoUpateTimeout));1==h&&(e=!0)}}catch(t){a=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(a)throw n}}e&&(this.Timeout=setTimeout(function(){t.AutoUpdate()},this.AutoUpateTimeout))}},this.RecvBaseData=function(t,e){var i=new o.default;for(var a in t.stock){var n=t.stock[a],s=this.MapStock.get(n.symbol);if(s){switch(e){case C.BASE_DATA:s.SetBaseData(n);break;case C.INDEX_BASE_DATA:s.SetIndexBaseData(n);break;default:continue}if(s.TagID.size>0){var l=!0,h=!1,u=void 0;try{for(var c,d=(0,r.default)(s.TagID);!(l=(c=d.next()).done);l=!0){var f=c.value;i.has(f)?i.get(f).push(s.Symbol):i.set(f,new Array(s.Symbol))}}catch(t){h=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw u}}}}}return i},this.RecvBuySellData=function(t,e){var i=new o.default;for(var a in t.stock){var n=t.stock[a],s=this.MapStock.get(n.symbol);if(s){if(s.SetBuySellData(n),s.TagID.size>0){var l=!0,h=!1,u=void 0;try{for(var c,d=(0,r.default)(s.TagID);!(l=(c=d.next()).done);l=!0){var f=c.value;i.has(f)?i.get(f).push(s.Symbol):i.set(f,new Array(s.Symbol))}}catch(t){h=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw u}}}if(s.BuySellTagID.size>0){var p=!0,m=!1,v=void 0;try{for(var g,C=(0,r.default)(s.BuySellTagID);!(p=(g=C.next()).done);p=!0){f=g.value;i.has(f)?i.get(f).push(s.Symbol):i.set(f,new Array(s.Symbol))}}catch(t){m=!0,v=t}finally{try{!p&&C.return&&C.return()}finally{if(m)throw v}}}}}return i},this.RecvDerivativeData=function(t,e){var i=new o.default;for(var a in t.stock){var n=t.stock[a],s=this.MapStock.get(n.symbol);if(s&&(s.SetDerivativeData(n),s.DerivativeTagID.size>0)){var l=!0,h=!1,u=void 0;try{for(var c,d=(0,r.default)(s.DerivativeTagID);!(l=(c=d.next()).done);l=!0){var f=c.value;i.has(f)?i.get(f).push(s.Symbol):i.set(f,new Array(s.Symbol))}}catch(t){h=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw u}}}}return i},this.RecvFinanceData=function(t,e){var i=new o.default;for(var a in t.stock){var n=t.stock[a],s=this.MapStock.get(n.symbol);if(s&&(s.SetFinanceData(n),s.FinanceTagID.size>0)){var l=!0,h=!1,u=void 0;try{for(var c,d=(0,r.default)(s.FinanceTagID);!(l=(c=d.next()).done);l=!0){var f=c.value;i.has(f)?i.get(f).push(s.Symbol):i.set(f,new Array(s.Symbol))}}catch(t){h=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw u}}}}return i},this.RecvCapitalData=function(t,e){var i=new o.default;for(var a in t.stock){var n=t.stock[a],s=this.MapStock.get(n.symbol);if(s&&(s.SetCapitalData(n),s.CapitalTagID.size>0)){var l=!0,h=!1,u=void 0;try{for(var c,d=(0,r.default)(s.CapitalTagID);!(l=(c=d.next()).done);l=!0){var f=c.value;i.has(f)?i.get(f).push(s.Symbol):i.set(f,new Array(s.Symbol))}}catch(t){h=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw u}}}}return i},this.RecvDealData=function(t,e){var i=new o.default;for(var a in t.stock){var n=t.stock[a],s=this.MapStock.get(n.symbol);if(s&&(s.SetDealData(n),s.DealTagID.size>0)){var l=!0,h=!1,u=void 0;try{for(var c,d=(0,r.default)(s.DealTagID);!(l=(c=d.next()).done);l=!0){var f=c.value;i.has(f)?i.get(f).push(s.Symbol):i.set(f,new Array(s.Symbol))}}catch(t){h=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw u}}}}return i},this.RecvHeatData=function(t,e){var i=new o.default;for(var a in t.data){var n=t.data[a],s=this.MapStock.get(n.symbol);if(s&&(s.SetHeatData(n),s.HeatTagID.size>0)){var l=!0,h=!1,u=void 0;try{for(var c,d=(0,r.default)(s.HeatTagID);!(l=(c=d.next()).done);l=!0){var f=c.value;i.has(f)?i.get(f).push(s.Symbol):i.set(f,new Array(s.Symbol))}}catch(t){h=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw u}}}}return i},this.RecvSortData=function(t,e,i){var a=new o.default,n=new Array,s=this.MapStock.get(i.Plate);for(var l in t.stock){var h,u=t.stock[l];if(n.push(u.symbol),this.MapStock.has(u.symbol))(h=this.MapStock.get(u.symbol)).SetBaseData(u);else(h=new p(u.symbol)).SetBaseData(u),this.MapStock.set(u.symbol,h)}var c=i.SortField.toString()+"-"+i.Order.toString();if(!s.Sort.has(c))return a;s.Sort.get(c).arySymbol=n;var d=!0,f=!1,m=void 0;try{for(var v,g=(0,r.default)(i.TagID);!(d=(v=g.next()).done);d=!0){u=v.value;a.set(u,new Array([s.Symbol]))}}catch(t){f=!0,m=t}finally{try{!d&&g.return&&g.return()}finally{if(f)throw m}}return a},this.RecvSubDocumentData=function(t,e){var i=new o.default;for(var a in t.stock){var n=t.stock[a],s=this.MapStock.get(n.symbol);if(s){var l=null;switch(e){case C.CAPITAL_FLOW_DAY_DATA:s.SetCapitalFlowDayData(n.flowday,e),l=s.CapitalFlowDayID;break;case C.CAPITAL_FLOW_DAY3_DATA:s.SetCapitalFlowDayData(n.flowday3,e),l=s.CapitalFlowDay3ID;break;case C.CAPITAL_FLOW_DAY5_DATA:s.SetCapitalFlowDayData(n.flowday5,e),l=s.CapitalFlowDay5ID;break;case C.CAPITAL_FLOW_DAY10_DATA:s.SetCapitalFlowDayData(n.flowday10,e),l=s.CapitalFlowDay10ID;break;case C.DDE_DAY_DATA:s.SetDDE(n.dde,e),l=s.DDEID;break;case C.DDE_DAY3_DATA:s.SetDDE(n.dde3,e),l=s.DDE3ID;break;case C.DDE_DAY5_DATA:s.SetDDE(n.dde5,e),l=s.DDE5ID;break;case C.DDE_DAY10_DATA:s.SetDDE(n.dde10,e),l=s.DDE10ID}if(l&&l.size>0){var h=!0,u=!1,c=void 0;try{for(var d,f=(0,r.default)(l);!(h=(d=f.next()).done);h=!0){var p=d.value;i.has(p)?i.get(p).push(s.Symbol):i.set(p,new Array(s.Symbol))}}catch(t){u=!0,c=t}finally{try{!h&&f.return&&f.return()}finally{if(u)throw c}}}}}return i},this.RecvEventData=function(t,e){var i=new o.default;for(var a in t.stock){var n=t.stock[a],s=this.MapStock.get(n.symbol);if(s&&(s.SetEventData(n),s.EventTagID.size>0)){var l=!0,h=!1,u=void 0;try{for(var c,d=(0,r.default)(s.EventTagID);!(l=(c=d.next()).done);l=!0){var f=c.value;i.has(f)?i.get(f).push(s.Symbol):i.set(f,new Array(s.Symbol))}}catch(t){h=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw u}}}}return i},this.RecvCompanyData=function(t,e){var i=new o.default;for(var a in t.stock){var n=t.stock[a],s=this.MapStock.get(n.symbol);if(s&&(s.SetCompanyData(n),s.CompanyTagID.size>0)){var l=!0,h=!1,u=void 0;try{for(var c,d=(0,r.default)(s.CompanyTagID);!(l=(c=d.next()).done);l=!0){var f=c.value;i.has(f)?i.get(f).push(s.Symbol):i.set(f,new Array(s.Symbol))}}catch(t){h=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw u}}}}return i},this.RecvPlateData=function(t,e){var i=new o.default;for(var a in t.stock){var n=t.stock[a],s=this.MapStock.get(n.symbol);if(s&&(s.SetPlateData(n),s.PlateTagID.size>0)){var l=!0,h=!1,u=void 0;try{for(var c,d=(0,r.default)(s.PlateTagID);!(l=(c=d.next()).done);l=!0){var f=c.value;i.has(f)?i.get(f).push(s.Symbol):i.set(f,new Array(s.Symbol))}}catch(t){h=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw u}}}}return i}}function y(){this.IsAutoUpdate=!0,this.AutoUpateTimeout=5e3,this.Timeout,this.ApiUrl,this.Data,this.Error,this.UpdateUICallback,this.RequestData=function(){},this.Stop=function(){this.IsAutoUpdate=!1,this.Timeout&&clearTimeout(this.Timeout)},this.AutoUpate=function(){if(this.Timeout&&clearTimeout(this.Timeout),this.IsAutoUpdate&&(this.Timeout&&clearTimeout(this.Timeout),this.IsAutoUpdate)){var t=this;if(this.Symbol){var e=x.GetMarketStatus(this.Symbol);2==e?this.Timeout=setTimeout(function(){t.RequestData()},this.AutoUpateTimeout):1==e&&(this.Timeout=setTimeout(function(){t.AutoUpdate()},this.AutoUpateTimeout))}else{t=this;var i=new Date,a=100*i.getHours()+i.getMinutes();i.getDay()>0&&i.getDay()<6&&a>=930&&a<1530&&(this.Timeout=setTimeout(function(){t.RequestData()},this.AutoUpateTimeout))}}},this.InvokeUpdateUICallback=function(){this.UpdateUICallback&&this.UpdateUICallback(this)}}var x={SH:".SH",SZ:".SZ",HK:".HK",SHFE:".SHF",CFFEX:".CFE",DCE:".DCE",CZCE:".CZC",USA:".USA",IsUSA:function(t){return!!t&&t.indexOf(this.USA)>0},IsSH:function(t){var e=t.length-this.SH.length;return t.indexOf(this.SH)==e},IsSZ:function(t){var e=t.length-this.SZ.length;return t.indexOf(this.SZ)==e},IsHK:function(t){var e=t.length-this.HK.length;return t.indexOf(this.HK)==e},IsSHFE:function(t){return t.indexOf(this.SHFE)>0},IsCFFEX:function(t){return t.indexOf(this.CFFEX)>0},IsDCE:function(t){return t.indexOf(this.DCE)>0},IsCZCE:function(t){return t.indexOf(this.CZCE)>0},IsChinaFutures:function(t){return this.IsCFFEX(t)||this.IsCZCE(t)||this.IsDCE(t)||this.IsSHFE(t)},IsSHSZ:function(t){return this.IsSZ(t)||this.IsSH(t)},IsSHSZFund:function(t){if(!t)return!1;if(this.IsSH(t)){if("5"==t.charAt(0)&&"1"==t.charAt(1))return!0}else if(this.IsSZ(t)&&"1"==t.charAt(0)&&("5"==t.charAt(1)||"6"==t.charAt(1)||"7"==t.charAt(1)||"8"==t.charAt(1)))return!0;return!1},IsSHSZIndex:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){var i=e.replace(".SH","");if("0"==e.charAt(0)&&parseInt(i)<=3e3)return!0}else if(this.IsSZ(e)){if("3"==e.charAt(0)&&"9"==e.charAt(1))return!0}else if(e.indexOf(".CI")>0)return!0;return!1},IsSHSZStockA:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){e.replace(".SH","");if("6"==e.charAt(0))return!0}else if(this.IsSZ(e)&&"0"==e.charAt(0)){if("0"==e.charAt(1)&&"2"==e.charAt(1))return!0;if("7"!=e.charAt(1)&&"8"!=e.charAt(1))return!0}return!1},IsSHStockSTAR:function(t){if(!t)return!1;var e=t.toUpperCase();return!!this.IsSH(e)&&("6"==e.charAt(0)&&"8"==e.charAt(1)&&"8"==e.charAt(2))},GetMarketStatus:function(t){if(!t)return 0;var e=t.toUpperCase();if(this.IsUSA(e)){var i=GetLocalTime(-4);return n=i.getDay(),r=100*i.getHours()+i.getMinutes(),6==n||0==n?0:r>1730?3:r<930?1:2}var a=new Date,n=a.getDay(),r=100*a.getHours()+a.getMinutes();return 6==n||0==n?0:r>1540?3:r<925?1:2}};e.default=(a={JSStockInit:D.Init,STOCK_FIELD_NAME:m,JSStock:D,StockRead:g},(0,n.default)(a,"STOCK_FIELD_NAME",m),(0,n.default)(a,"RECV_DATA_TYPE",C),a)},XLwt:function(t,e,i){var a=i("Icdr");!function(){for(var t in a){if(null==a||!a.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=a[t]}}();var n=i("iNHu");!function(){for(var t in n){if(null==n||!n.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=n[t]}}(),i("+Dgo"),i("4UDB"),i("GbHy"),i("Vb+l"),i("u9yV"),i("rjsW"),i("nUSl"),i("8UWf"),i("O523"),i("1FNb"),i("87tG"),i("5/bM"),i("qbKW"),i("cWq4"),i("AjST"),i("9cSo"),i("k9Bd"),i("zjhG"),i("o0k+"),i("N1UU"),i("7bL3"),i("A6Kt"),i("MOpb"),i("ILx8"),i("LbEf"),i("80zD"),i("4V7L"),i("FlXs"),i("/99E"),i("UeW/"),i("YsUA"),i("Oq2I"),i("AKXb"),i("swsf"),i("miEh"),i("JRc4"),i("2tOJ"),i("p1Ck"),i("Mn6+"),i("P7ry"),i("80cc"),i("wQkr"),i("v/z1"),i("XuY+"),i("tQk0"),i("4SW2"),i("0O1a"),i("VmZa"),i("jLnL")},XRkS:function(t,e,i){var a=i("Icdr"),n=i("/gxq");t.exports=function(t,e){n.each(e,function(e){e.update="updateView",a.registerAction(e,function(i,a){var n={};return a.eachComponent({mainType:"series",subType:t,query:i},function(t){t[e.method]&&t[e.method](i.name,i.dataIndex);var a=t.getData();a.each(function(e){var i=a.getName(e);n[i]=t.isSelected(i)||!1})}),{name:i.name,selected:n,seriesId:i.seriesId}})})}},Xc4G:function(t,e,i){var a=i("lktj"),n=i("1kS7"),r=i("NpIQ");t.exports=function(t){var e=a(t),i=n.f;if(i)for(var o,s=i(t),l=r.f,h=0;s.length>h;)l.call(t,o=s[h++])&&e.push(o);return e}},XgCd:function(t,e,i){"use strict";var a=String.prototype.replace,n=/%20/g,r=i("p8xL"),o={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=r.assign({default:o.RFC3986,formatters:{RFC1738:function(t){return a.call(t,n,"+")},RFC3986:function(t){return String(t)}}},o)},XhgW:function(t,e,i){var a=i("3h1/"),n=Math.PI/180;function r(t,e,i,a,n,r,o){function s(e,i,a,n){for(var r=e;r<i;r++)if(t[r].y+=a,r>e&&r+1<i&&t[r+1].y>t[r].y+t[r].height)return void l(r,a/2);l(i-1,a/2)}function l(e,i){for(var a=e;a>=0&&(t[a].y-=i,!(a>0&&t[a].y>t[a-1].y+t[a-1].height));a--);}function h(t,e,i,a,n,r){for(var o=e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++){var h=Math.abs(t[s].y-a),u=t[s].len,c=t[s].len2,d=h<n+u?Math.sqrt((n+u+c)*(n+u+c)-h*h):Math.abs(t[s].x-i);e&&d>=o&&(d=o-10),!e&&d<=o&&(d=o+10),t[s].x=i+d*r,o=d}}t.sort(function(t,e){return t.y-e.y});for(var u,c=0,d=t.length,f=[],p=[],m=0;m<d;m++)(u=t[m].y-c)<0&&s(m,d,-u),c=t[m].y+t[m].height;o-c<0&&l(d-1,c-o);for(m=0;m<d;m++)t[m].y>=i?p.push(t[m]):f.push(t[m]);h(f,!1,e,i,a,n),h(p,!0,e,i,a,n)}function o(t){return"center"===t.position}t.exports=function(t,e,i,s,l){var h,u,c=t.getData(),d=[],f=!1,p=(t.get("minShowLabelAngle")||0)*n;c.each(function(i){var n=c.getItemLayout(i),r=c.getItemModel(i),o=r.getModel("label"),s=o.get("position")||r.get("emphasis.label.position"),l=r.getModel("labelLine"),m=l.get("length"),v=l.get("length2");if(!(n.angle<p)){var g,C,D,y,x=(n.startAngle+n.endAngle)/2,S=Math.cos(x),I=Math.sin(x);h=n.cx,u=n.cy;var T="inside"===s||"inner"===s;if("center"===s)g=n.cx,C=n.cy,y="center";else{var b=(T?(n.r+n.r0)/2*S:n.r*S)+h,w=(T?(n.r+n.r0)/2*I:n.r*I)+u;if(g=b+3*S,C=w+3*I,!T){var M=b+S*(m+e-n.r),E=w+I*(m+e-n.r),A=M+(S<0?-1:1)*v;g=A+(S<0?-5:5),C=E,D=[[b,w],[M,E],[A,E]]}y=T?"center":S>0?"left":"right"}var _,L=o.getFont(),F=o.get("rotate");_="number"==typeof F?F*(Math.PI/180):F?S<0?-x+Math.PI:-x:0;var O=t.getFormattedLabel(i,"normal")||c.getName(i),P=a.getBoundingRect(O,L,y,"top");f=!!_,n.label={x:g,y:C,position:s,height:P.height,len:m,len2:v,linePoints:D,textAlign:y,verticalAlign:"middle",rotation:_,inside:T},T||d.push(n.label)}}),!f&&t.get("avoidLabelOverlap")&&function(t,e,i,a,n,s){for(var l=[],h=[],u=0;u<t.length;u++)o(t[u])||(t[u].x<e?l.push(t[u]):h.push(t[u]));for(r(h,e,i,a,1,0,s),r(l,e,i,a,-1,0,s),u=0;u<t.length;u++)if(!o(t[u])){var c=t[u].linePoints;if(c){var d=c[1][0]-c[2][0];t[u].x<e?c[2][0]=t[u].x+3:c[2][0]=t[u].x-3,c[1][1]=c[2][1]=t[u].y,c[1][0]=c[2][0]+d}}}(d,h,u,e,0,s)}},XiVP:function(t,e,i){var a=i("/gxq"),n=i("zO13"),r=i("0sHC"),o=i("kK7q").createSymbol,s=i("1Xuh"),l=i("E8YU"),h=n.extend({type:"visualMap.piecewise",doRender:function(){var t=this.group;t.removeAll();var e=this.visualMapModel,i=e.get("textGap"),n=e.textStyleModel,o=n.getFont(),l=n.getTextColor(),h=this._getItemAlign(),u=e.itemSize,c=this._getViewData(),d=c.endsText,f=a.retrieve(e.get("showLabel",!0),!d);d&&this._renderEndsText(t,d[0],u,f,h),a.each(c.viewPieceList,function(n){var s=n.piece,c=new r.Group;c.onclick=a.bind(this._onItemClick,this,s),this._enableHoverLink(c,n.indexInModelPieceList);var d=e.getRepresentValue(s);if(this._createItemSymbol(c,d,[0,0,u[0],u[1]]),f){var p=this.visualMapModel.getValueState(d);c.add(new r.Text({style:{x:"right"===h?-i:u[0]+i,y:u[1]/2,text:s.text,textVerticalAlign:"middle",textAlign:h,textFont:o,textFill:l,opacity:"outOfRange"===p?.5:1}}))}t.add(c)},this),d&&this._renderEndsText(t,d[1],u,f,h),s.box(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(t,e){function i(t){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:t,batch:l.makeHighDownBatch(i.findTargetDataIndices(e),i)})}t.on("mouseover",a.bind(i,this,"highlight")).on("mouseout",a.bind(i,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return l.getItemAlign(t,this.api,t.itemSize);var i=e.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(t,e,i,a,n){if(e){var o=new r.Group,s=this.visualMapModel.textStyleModel;o.add(new r.Text({style:{x:a?"right"===n?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:a?n:"center",text:e,textFont:s.getFont(),textFill:s.getTextColor()}})),t.add(o)}},_getViewData:function(){var t=this.visualMapModel,e=a.map(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),i=t.get("text"),n=t.get("orient"),r=t.get("inverse");return("horizontal"===n?r:!r)?e.reverse():i&&(i=i.slice().reverse()),{viewPieceList:e,endsText:i}},_createItemSymbol:function(t,e,i){t.add(o(this.getControllerVisual(e,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,i=e.option,n=a.clone(i.selected),r=e.getSelectedMapKey(t);"single"===i.selectedMode?(n[r]=!0,a.each(n,function(t,e){n[e]=e===r})):n[r]=!n[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}});t.exports=h},Xjd4:function(t,e,i){i("9Bbf")("Map")},XmWM:function(t,e,i){"use strict";var a=i("cGG2"),n=i("DQCr"),r=i("fuGk"),o=i("xLtR"),s=i("DUeU");function l(t){this.defaults=t,this.interceptors={request:new r,response:new r}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var e=[o,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)i=i.then(e.shift(),e.shift());return i},l.prototype.getUri=function(t){return t=s(this.defaults,t),n(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},a.forEach(["delete","get","head","options"],function(t){l.prototype[t]=function(e,i){return this.request(a.merge(i||{},{method:t,url:e}))}}),a.forEach(["post","put","patch"],function(t){l.prototype[t]=function(e,i,n){return this.request(a.merge(n||{},{method:t,url:e,data:i}))}}),t.exports=l},"XuY+":function(t,e,i){i("cuL/"),i("sJ4e"),i("ilLo"),i("envY"),i("5Hn/"),i("b/SY"),i("KAfT")},Xxa5:function(t,e,i){t.exports=i("jyFz")},Y3kp:function(t,e,i){var a=i("Icdr"),n=i("dZZy"),r=i("GnMB"),o=i("dOVI"),s=i("1Nix"),l=a.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new n(r)},render:function(t,e,i){var a=t.getData(),n=this._symbolDraw;n.updateData(a),this.group.add(n.group)},updateTransform:function(t,e,i){var a=t.getData();this.group.dirty();var n=s().reset(t);n.progress&&n.progress({start:0,end:a.count()},a),this._symbolDraw.updateLayout(a)},_updateGroupTransform:function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=o.clone(e.getRoamTransform()),this.group.decomposeTransform())},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}});t.exports=l},Y5mS:function(t,e,i){"use strict";var a,n=i("lFkc");n.canUseDOM&&(a=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */,t.exports=function(t,e){if(!n.canUseDOM||e&&!("addEventListener"in document))return!1;var i="on"+t,r=i in document;if(!r){var o=document.createElement("div");o.setAttribute(i,"return;"),r="function"==typeof o[i]}return!r&&a&&"wheel"===t&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}},Y5nL:function(t,e,i){var a=i("/gxq"),n=i("Pdtn"),r=i("h0jU"),o=i("BNYN"),s=o.enableClassManagement,l=o.parseClassType,h=i("vXqC").makeInner,u=i("1Xuh"),c=i("wEU0"),d=h(),f=n.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,i,a){n.call(this,t,e,i,a),this.uid=r.getUID("ec_cpt_model")},init:function(t,e,i,a){this.mergeDefaultAndTheme(t,i)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?u.getLayoutParams(t):{},r=e.getTheme();a.merge(t,r.get(this.mainType)),a.merge(t,this.getDefaultOption()),i&&u.mergeLayoutParam(t,n,i)},mergeOption:function(t,e){a.merge(this.option,t,!0);var i=this.layoutMode;i&&u.mergeLayoutParam(this.option,t,i)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=d(this);if(!t.defaultOption){for(var e=[],i=this.constructor;i;){var n=i.prototype.defaultOption;n&&e.push(n),i=i.superClass}for(var r={},o=e.length-1;o>=0;o--)r=a.merge(r,e[o],!0);t.defaultOption=r}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});s(f,{registerWhenExtend:!0}),r.enableSubTypeDefaulter(f),r.enableTopologicalTravel(f,function(t){var e=[];a.each(f.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=a.map(e,function(t){return l(t).main}),"dataset"!==t&&a.indexOf(e,"dataset")<=0&&e.unshift("dataset");return e}),a.mixin(f,c);var p=f;t.exports=p},YAhB:function(t,e,i){"use strict";var a=i("++K3"),n=i("Y5mS"),r=10,o=40,s=800;function l(t){var e=0,i=0,a=0,n=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),a=e*r,n=i*r,"deltaY"in t&&(n=t.deltaY),"deltaX"in t&&(a=t.deltaX),(a||n)&&t.deltaMode&&(1==t.deltaMode?(a*=o,n*=o):(a*=s,n*=s)),a&&!e&&(e=a<1?-1:1),n&&!i&&(i=n<1?-1:1),{spinX:e,spinY:i,pixelX:a,pixelY:n}}l.getEventType=function(){return a.firefox()?"DOMMouseScroll":n("wheel")?"wheel":"mousewheel"},t.exports=l},YNzw:function(t,e){var i="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},i=t.match(/Firefox\/([\d.]+)/),a=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),n=t.match(/Edge\/([\d.]+)/),r=/micromessenger/i.test(t);i&&(e.firefox=!0,e.version=i[1]);a&&(e.ie=!0,e.version=a[1]);n&&(e.edge=!0,e.version=n[1]);r&&(e.weChat=!0);return{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&e.version>=11),domSupported:"undefined"!=typeof document}}(navigator.userAgent);t.exports=i},YamF:function(t,e,i){var a=i("oLzS").getSymbolSize;e.getPositions=function(t){var e=a(t);return[[0,0],[e-7,0],[0,e-7]]}},YbE0:function(t,e,i){var a=i("/gxq"),n=i("wWR3").parsePercent,r=a.each;t.exports=function(t){var e=function(t){var e=[],i=[];return t.eachSeriesByType("boxplot",function(t){var n=t.getBaseAxis(),r=a.indexOf(i,n);r<0&&(r=i.length,i[r]=n,e[r]={axis:n,seriesModels:[]}),e[r].seriesModels.push(t)}),e}(t);r(e,function(t){var e=t.seriesModels;e.length&&(function(t){var e,i,o=t.axis,s=t.seriesModels,l=s.length,h=t.boxWidthList=[],u=t.boxOffsetList=[],c=[];if("category"===o.type)i=o.getBandWidth();else{var d=0;r(s,function(t){d=Math.max(d,t.getData().count())}),e=o.getExtent(),Math.abs(e[1]-e[0])}r(s,function(t){var e=t.get("boxWidth");a.isArray(e)||(e=[e,e]),c.push([n(e[0],i)||0,n(e[1],i)||0])});var f=.8*i-2,p=f/l*.3,m=(f-p*(l-1))/l,v=m/2-f/2;r(s,function(t,e){u.push(v),v+=p+m,h.push(Math.min(Math.max(m,c[e][0]),c[e][1]))})}(t),r(e,function(e,i){!function(t,e,i){var a=t.coordinateSystem,n=t.getData(),r=i/2,o="horizontal"===t.get("layout")?0:1,s=1-o,l=["x","y"],h=n.mapDimension(l[o]),u=n.mapDimension(l[s],!0);if(!(null==h||u.length<5))for(var c=0;c<n.count();c++){var d=n.get(h,c),f=D(d,u[2],c),p=D(d,u[0],c),m=D(d,u[1],c),v=D(d,u[3],c),g=D(d,u[4],c),C=[];y(C,m,0),y(C,v,1),C.push(p,m,g,v),x(C,p),x(C,g),x(C,f),n.setItemLayout(c,{initBaseline:f[s],ends:C})}function D(t,i,r){var l,h=n.get(i,r),u=[];return u[o]=t,u[s]=h,isNaN(t)||isNaN(h)?l=[NaN,NaN]:(l=a.dataToPoint(u))[o]+=e,l}function y(t,e,i){var a=e.slice(),n=e.slice();a[o]+=r,n[o]-=r,i?t.push(a,n):t.push(n,a)}function x(t,e){var i=e.slice(),a=e.slice();i[o]-=r,a[o]+=r,t.push(i,a)}}(e,t.boxOffsetList[i],t.boxWidthList[i])}))})}},Ylhr:function(t,e,i){var a=i("/gxq").each,n=i("AlhT"),r=i("h0jU"),o=i("BNYN"),s=i("vXqC"),l=i("0sHC"),h=i("gV7x").createTask,u=i("CqCN"),c=s.makeInner(),d=u();function f(){this.group=new n,this.uid=r.getUID("viewChart"),this.renderTask=h({plan:g,reset:C}),this.renderTask.context={view:this}}f.prototype={type:"chart",init:function(t,e){},render:function(t,e,i,a){},highlight:function(t,e,i,a){v(t.getData(),a,"emphasis")},downplay:function(t,e,i,a){v(t.getData(),a,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var p=f.prototype;function m(t,e,i){if(t&&(t.trigger(e,i),t.isGroup&&!l.isHighDownDispatcher(t)))for(var a=0,n=t.childCount();a<n;a++)m(t.childAt(a),e,i)}function v(t,e,i){var n=s.queryDataIndex(t,e),r=e&&null!=e.highlightKey?l.getHighlightDigit(e.highlightKey):null;null!=n?a(s.normalizeToArray(n),function(e){m(t.getItemGraphicEl(e),i,r)}):t.eachItemGraphicEl(function(t){m(t,i,r)})}function g(t){return d(t.model)}function C(t){var e=t.model,i=t.ecModel,a=t.api,n=t.payload,r=e.pipelineContext.progressiveRender,o=t.view,s=n&&c(n).updateMethod,l=r?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==l&&o[l](e,i,a,n),D[l]}p.updateView=p.updateLayout=p.updateVisual=function(t,e,i,a){this.render(t,e,i,a)},o.enableClassExtend(f,["dispose"]),o.enableClassManagement(f,{registerWhenExtend:!0}),f.markUpdateMethod=function(t,e){c(t).updateMethod=e};var D={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},y=f;t.exports=y},Yobk:function(t,e,i){var a=i("77Pl"),n=i("qio6"),r=i("xnc9"),o=i("ax3d")("IE_PROTO"),s=function(){},l=function(){var t,e=i("ON07")("iframe"),a=r.length;for(e.style.display="none",i("RPLV").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;a--;)delete l.prototype[r[a]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=a(t),i=new s,s.prototype=null,i[o]=t):i=l(),void 0===e?i:n(i,e)}},YpIy:function(t,e){e.updateViewOnPan=function(t,e,i){var a=t.target,n=a.position;n[0]+=e,n[1]+=i,a.dirty()},e.updateViewOnZoom=function(t,e,i,a){var n=t.target,r=t.zoomLimit,o=n.position,s=n.scale,l=t.zoom=t.zoom||1;if(l*=e,r){var h=r.min||0,u=r.max||1/0;l=Math.max(Math.min(u,l),h)}var c=l/t.zoom;t.zoom=l,o[0]-=(i-o[0])*(c-1),o[1]-=(a-o[1])*(c-1),s[0]*=c,s[1]*=c,n.dirty()}},YqdL:function(t,e,i){var a=i("/gxq"),n=i("2HcM");function r(t,e){n.call(this,"radius",t,e),this.type="category"}r.prototype={constructor:r,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:n.prototype.dataToCoord,radiusToData:n.prototype.coordToData},a.inherits(r,n);var o=r;t.exports=o},YsUA:function(t,e,i){i("auIi"),i("+PQg"),i("AbHi"),i("RTd5"),i("u9lB"),i("DknX"),i("JMu0")},Z2m1:function(t,e,i){var a=i("/gxq");t.exports=function(t){var e=[];a.each(t.series,function(t){t&&"map"===t.type&&(e.push(t),t.map=t.map||t.mapType,a.defaults(t,t.mapLocation))})}},"ZJ+T":function(t,e,i){var a=i("8b51"),n=i("NKek").onIrrelevantElement,r=i("0sHC");function o(t){return a.create(t)}e.makeRectPanelClipPath=function(t){return t=o(t),function(e,i){return r.clipPointsByRect(e,t)}},e.makeLinearBrushOtherExtent=function(t,e){return t=o(t),function(i){var a=null!=e?e:i,n=a?t.width:t.height,r=a?t.x:t.y;return[r,r+(n||0)]}},e.makeRectIsTargetByCursor=function(t,e,i){return t=o(t),function(a,r,o){return t.contain(r[0],r[1])&&!n(a,e,i)}}},ZRmN:function(t,e,i){var a=i("Icdr");i("NjeB");var n=a.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});t.exports=n},Zcwg:function(t,e,i){"use strict";e.__esModule=!0;var a=i("2kvA");var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.beforeEnter=function(t){(0,a.addClass)(t,"collapse-transition"),t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height="0",t.style.paddingTop=0,t.style.paddingBottom=0},t.prototype.enter=function(t){t.dataset.oldOverflow=t.style.overflow,0!==t.scrollHeight?(t.style.height=t.scrollHeight+"px",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom):(t.style.height="",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom),t.style.overflow="hidden"},t.prototype.afterEnter=function(t){(0,a.removeClass)(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow},t.prototype.beforeLeave=function(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"},t.prototype.leave=function(t){0!==t.scrollHeight&&((0,a.addClass)(t,"collapse-transition"),t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0)},t.prototype.afterLeave=function(t){(0,a.removeClass)(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},t}();e.default={name:"ElCollapseTransition",functional:!0,render:function(t,e){var i=e.children;return t("transition",{on:new n},i)}}},ZtEr:function(t,e,i){var a=i("Mlni").extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});t.exports=a},ZuqD:function(t,e,i){var a=i("/gxq"),n=i("F8oC"),r=i("bBvJ"),o=n.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});a.mixin(o,r);var s=o;t.exports=s},Zzip:function(t,e,i){t.exports={default:i("/n6Q"),__esModule:!0}},a1DW:function(t,e,i){var a=i("/gxq"),n=i("EJsE"),r=i("sK5G").seriesModelMixin,o=n.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(t,e,i){var a=e.getItemLayout(t);return a&&i.rect(a.brushRect)}});a.mixin(o,r,!0);var s=o;t.exports=s},a1Sp:function(t,e){var i="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=i},aMwW:function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=131)}({131:function(t,e,i){"use strict";i.r(e);var a=i(5),n=i.n(a),r=i(17),o=i.n(r),s=i(2),l=i(3),h=i(7),u=i.n(h),c={name:"ElTooltip",mixins:[n.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(l.generateId)(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var t=this;this.$isServer||(this.popperVM=new u.a({data:{node:""},render:function(t){return this.node}}).$mount(),this.debounceClose=o()(200,function(){return t.handleClosePopper()}))},render:function(t){var e=this;this.popperVM&&(this.popperVM.node=t("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[t("div",{on:{mouseleave:function(){e.setExpectedState(!1),e.debounceClose()},mouseenter:function(){e.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var i=this.getFirstElement();if(!i)return null;var a=i.data=i.data||{};return a.staticClass=this.addTooltipClass(a.staticClass),i},mounted:function(){var t=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(s.on)(this.referenceElm,"mouseenter",this.show),Object(s.on)(this.referenceElm,"mouseleave",this.hide),Object(s.on)(this.referenceElm,"focus",function(){if(t.$slots.default&&t.$slots.default.length){var e=t.$slots.default[0].componentInstance;e&&e.focus?e.focus():t.handleFocus()}else t.handleFocus()}),Object(s.on)(this.referenceElm,"blur",this.handleBlur),Object(s.on)(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick(function(){t.value&&t.updatePopper()})},watch:{focusing:function(t){t?Object(s.addClass)(this.referenceElm,"focusing"):Object(s.removeClass)(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(t){return t?"el-tooltip "+t.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var t=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.showPopper=!0},this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout(function(){t.showPopper=!1},this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(t){!1===t&&clearTimeout(this.timeoutPending),this.expectedState=t},getFirstElement:function(){var t=this.$slots.default;if(!Array.isArray(t))return null;for(var e=null,i=0;i<t.length;i++)t[i]&&t[i].tag&&(e=t[i]);return e}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var t=this.referenceElm;1===t.nodeType&&(Object(s.off)(t,"mouseenter",this.show),Object(s.off)(t,"mouseleave",this.hide),Object(s.off)(t,"focus",this.handleFocus),Object(s.off)(t,"blur",this.handleBlur),Object(s.off)(t,"click",this.removeFocusing))},install:function(t){t.component(c.name,c)}};e.default=c},17:function(t,e){t.exports=i("ON3O")},2:function(t,e){t.exports=i("2kvA")},3:function(t,e){t.exports=i("ylDJ")},5:function(t,e){t.exports=i("fKx3")},7:function(t,e){t.exports=i("/5sW")}})},aW5l:function(t,e,i){"use strict";e.__esModule=!0;i("ylDJ");e.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},aYad:function(t,e,i){var a=i("/gxq"),n=i("DRaW"),r=i("UAiw"),o=i("YNzw"),s=i("HHfb"),l=a.each,h=s.toCamelCase,u=["","-webkit-","-moz-","-o-"];function c(t){var e,i,r=[],c=t.get("transitionDuration"),d=t.get("backgroundColor"),f=t.getModel("textStyle"),p=t.get("padding");return c&&r.push((i="left "+(e=c)+"s cubic-bezier(0.23, 1, 0.32, 1),top "+e+"s cubic-bezier(0.23, 1, 0.32, 1)",a.map(u,function(t){return t+"transition:"+i}).join(";"))),d&&(o.canvasSupported?r.push("background-Color:"+d):(r.push("background-Color:#"+n.toHex(d)),r.push("filter:alpha(opacity=70)"))),l(["width","color","radius"],function(e){var i="border-"+e,a=h(i),n=t.get(a);null!=n&&r.push(i+":"+n+("color"===e?"":"px"))}),r.push(function(t){var e=[],i=t.get("fontSize"),a=t.getTextColor();return a&&e.push("color:"+a),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px"),l(["decoration","align"],function(i){var a=t.get(i);a&&e.push("text-"+i+":"+a)}),e.join(";")}(f)),null!=p&&r.push("padding:"+s.normalizeCssArray(p).join("px ")+"px"),r.join(";")+";"}function d(t,e){if(o.wxa)return null;var i=document.createElement("div"),a=this._zr=e.getZr();this.el=i,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var n=this;i.onmouseenter=function(){n._enterable&&(clearTimeout(n._hideTimeout),n._show=!0),n._inContent=!0},i.onmousemove=function(e){if(e=e||window.event,!n._enterable){var i=a.handler;r.normalizeEvent(t,e,!0),i.dispatch("mousemove",e)}},i.onmouseleave=function(){n._enterable&&n._show&&n.hideLater(n._hideDelay),n._inContent=!1}}d.prototype={constructor:d,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==e.position&&(i.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+c(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var i,a=this._zr;a&&a.painter&&(i=a.painter.getViewportRootOffset())&&(t+=i.offsetLeft,e+=i.offsetTop);var n=this.el.style;n.left=t+"px",n.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(a.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(this.el);i&&(t+=parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),e+=parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:t,height:e}}};var f=d;t.exports=f},akwy:function(t,e){t.exports=function(t){var e={};t.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),a=t.getData(),n={};i.each(function(a){var r=i.getName(a);n["ec-"+r]=a;var o=i.getItemModel(a),s=o.get("itemStyle.color")||t.getColorFromPalette(r,e);i.setItemVisual(a,"color",s);for(var l=["opacity","symbol","symbolSize","symbolKeepAspect"],h=0;h<l.length;h++){var u=o.getShallow(l[h],!0);null!=u&&i.setItemVisual(a,l[h],u)}}),i.count()&&a.each(function(t){var e=a.getItemModel(t).getShallow("category");if(null!=e){"string"==typeof e&&(e=n["ec-"+e]);for(var r=["color","opacity","symbol","symbolSize","symbolKeepAspect"],o=0;o<r.length;o++)null==a.getItemVisual(t,r[o],!0)&&a.setItemVisual(t,r[o],i.getItemVisual(e,r[o]))}})})}},ao1T:function(t,e,i){var a=i("/gxq"),n=i("Rfu2"),r=i("hcq/"),o=i("+2Ke").SOURCE_FORMAT_ORIGINAL,s=i("mvCM").getDimensionTypeByAxis,l=i("vXqC").getDataItemValue,h=i("rctg"),u=i("zZZ/").getCoordSysDefineBySeries,c=i("rrAD"),d=i("qVJQ").enableDataStack;var f=function(t,e,i){i=i||{},c.isInstance(t)||(t=c.seriesDataToSource(t));var f,p=e.get("coordinateSystem"),m=h.get(p),v=u(e);v&&(f=a.map(v.coordSysDims,function(t){var e={name:t},i=v.axisMap.get(t);if(i){var a=i.get("type");e.type=s(a)}return e})),f||(f=m&&(m.getDimensionsInfo?m.getDimensionsInfo():m.dimensions.slice())||["x","y"]);var g,C,D=r(t,{coordDimensions:f,generateCoord:i.generateCoord});v&&a.each(D,function(t,e){var i=t.coordDim,a=v.categoryAxisMap.get(i);a&&(null==g&&(g=e),t.ordinalMeta=a.getOrdinalMeta()),null!=t.otherDims.itemName&&(C=!0)}),C||null==g||(D[g].otherDims.itemName=0);var y=d(e,D),x=new n(D,e);x.setCalculationInfo(y);var S=null!=g&&function(t){if(t.sourceFormat===o){var e=function(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=e&&!a.isArray(l(e))}}(t)?function(t,e,i,a){return a===g?i:this.defaultDimValueGetter(t,e,i,a)}:null;return x.hasItemOption=!1,x.initData(t,null,S),x};t.exports=f},auIi:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("dCQY"),o=a.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){o.superApply(this,"optionUpdated",arguments),n.each(this.option.feature,function(t,e){var i=r.get(e);i&&n.merge(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}}),s=o;t.exports=s},avYi:function(t,e,i){var a=i("RiVu"),n=i("qjvV"),r=i("/ZBO"),o=i("42YS"),s=i("/gxq"),l=function(t){r.call(this,t),n.call(this,t),o.call(this,t),this.id=t.id||a()};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(l,o),s.mixin(l,r),s.mixin(l,n);var h=l;t.exports=h},ax3d:function(t,e,i){var a=i("e8AB")("keys"),n=i("3Eo+");t.exports=function(t){return a[t]||(a[t]=n(t))}},"b/SY":function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=n.createHashMap,o=n.each;a.registerProcessor({getTargetSeries:function(t){var e=r();return t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,i,a){var n=a.getAxisProxy(t.name,i);o(n.getTargetSeriesModels(),function(t){e.set(t.uid,t)})})}),e},modifyOutputEnd:!0,overallReset:function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,i,a){a.getAxisProxy(t.name,i).reset(a,e)}),t.eachTargetAxis(function(t,i,a){a.getAxisProxy(t.name,i).filterData(a,e)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),a=e.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})})}})},"b2+w":function(t,e,i){"use strict";var a={single_source_shortest_paths:function(t,e,i){var n={},r={};r[e]=0;var o,s,l,h,u,c,d,f=a.PriorityQueue.make();for(f.push(e,0);!f.empty();)for(l in s=(o=f.pop()).value,h=o.cost,u=t[s]||{})u.hasOwnProperty(l)&&(c=h+u[l],d=r[l],(void 0===r[l]||d>c)&&(r[l]=c,f.push(l,c),n[l]=s));if(void 0!==i&&void 0===r[i]){var p=["Could not find a path from ",e," to ",i,"."].join("");throw new Error(p)}return n},extract_shortest_path_from_predecessor_list:function(t,e){for(var i=[],a=e;a;)i.push(a),t[a],a=t[a];return i.reverse(),i},find_path:function(t,e,i){var n=a.single_source_shortest_paths(t,e,i);return a.extract_shortest_path_from_predecessor_list(n,i)},PriorityQueue:{make:function(t){var e,i=a.PriorityQueue,n={};for(e in t=t||{},i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n.queue=[],n.sorter=t.sorter||i.default_sorter,n},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var i={value:t,cost:e};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=a},b8C2:function(t,e,i){var a=i("C7PF"),n=a.min,r=a.max,o=a.scale,s=a.distance,l=a.add,h=a.clone,u=a.sub;t.exports=function(t,e,i,a){var c,d,f,p,m=[],v=[],g=[],C=[];if(a){f=[1/0,1/0],p=[-1/0,-1/0];for(var D=0,y=t.length;D<y;D++)n(f,f,t[D]),r(p,p,t[D]);n(f,f,a[0]),r(p,p,a[1])}for(D=0,y=t.length;D<y;D++){var x=t[D];if(i)c=t[D?D-1:y-1],d=t[(D+1)%y];else{if(0===D||D===y-1){m.push(h(t[D]));continue}c=t[D-1],d=t[D+1]}u(v,d,c),o(v,v,e);var S=s(x,c),I=s(x,d),T=S+I;0!==T&&(S/=T,I/=T),o(g,v,-S),o(C,v,I);var b=l([],x,g),w=l([],x,C);a&&(r(b,b,f),n(b,b,p),r(w,w,f),n(w,w,p)),m.push(b),m.push(w)}return i&&m.push(m.shift()),m}},bBvJ:function(t,e,i){var a=i("5KBG").retrieveRawValue,n=i("HHfb"),r=n.getTooltipMarker,o=n.formatTpl,s=i("vXqC").getTooltipRenderMode,l=/\{@(.+?)\}/g,h={getDataParams:function(t,e){var i=this.getData(e),a=this.getRawValue(t,e),n=i.getRawIndex(t),o=i.getName(t),l=i.getRawDataItem(t),h=i.getItemVisual(t,"color"),u=i.getItemVisual(t,"borderColor"),c=this.ecModel.getComponent("tooltip"),d=c&&c.get("renderMode"),f=s(d),p=this.mainType,m="series"===p,v=i.userOutput;return{componentType:p,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:m?this.subType:null,seriesIndex:this.seriesIndex,seriesId:m?this.id:null,seriesName:m?this.name:null,name:o,dataIndex:n,data:l,dataType:e,value:a,color:h,borderColor:u,dimensionNames:v?v.dimensionNames:null,encode:v?v.encode:null,marker:r({color:h,renderMode:f}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,i,n,r){e=e||"normal";var s=this.getData(i),h=s.getItemModel(t),u=this.getDataParams(t,i);null!=n&&u.value instanceof Array&&(u.value=u.value[n]);var c=h.get("normal"===e?[r||"label","formatter"]:[e,r||"label","formatter"]);return"function"==typeof c?(u.status=e,u.dimensionIndex=n,c(u)):"string"==typeof c?o(c,u).replace(l,function(e,i){var n=i.length;return"["===i.charAt(0)&&"]"===i.charAt(n-1)&&(i=+i.slice(1,n-1)),a(s,t,i)}):void 0},getRawValue:function(t,e){return a(this.getData(e),t)},formatTooltip:function(){}};t.exports=h},bOdI:function(t,e,i){"use strict";e.__esModule=!0;var a,n=i("C4MV"),r=(a=n)&&a.__esModule?a:{default:a};e.default=function(t,e,i){return e in t?(0,r.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},bRrM:function(t,e,i){"use strict";var a=i("7KvD"),n=i("FeBl"),r=i("evD5"),o=i("+E39"),s=i("dSzd")("species");t.exports=function(t){var e="function"==typeof n[t]?n[t]:a[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},bqnK:function(t,e,i){i("HpRW")("Map")},bzOU:function(t,e,i){var a=i("/gxq"),n=i("C7PF"),r=i("kK7q"),o=i("sOJ4"),s=i("0sHC"),l=i("wWR3").round,h=["fromSymbol","toSymbol"];function u(t){return"_"+t+"Type"}function c(t,e,i){var n=e.getItemVisual(i,"color"),o=e.getItemVisual(i,t),s=e.getItemVisual(i,t+"Size");if(o&&"none"!==o){a.isArray(s)||(s=[s,s]);var l=r.createSymbol(o,-s[0]/2,-s[1]/2,s[0],s[1],n);return l.name=t,l}}function d(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var i=e[2];i?(t.cpx1=i[0],t.cpy1=i[1]):(t.cpx1=NaN,t.cpy1=NaN)}function f(t,e,i){s.Group.call(this),this._createLine(t,e,i)}var p=f.prototype;p.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),i=this.childOfName("label");if(t||e||!i.ignore){for(var a=1,r=this.parent;r;)r.scale&&(a/=r.scale[0]),r=r.parent;var o=this.childOfName("line");if(this.__dirty||o.__dirty){var s=o.shape.percent,l=o.pointAt(0),h=o.pointAt(s),u=n.sub([],h,l);if(n.normalize(u,u),t){t.attr("position",l);var c=o.tangentAt(0);t.attr("rotation",Math.PI/2-Math.atan2(c[1],c[0])),t.attr("scale",[a*s,a*s])}if(e&&(e.attr("position",h),c=o.tangentAt(1),e.attr("rotation",-Math.PI/2-Math.atan2(c[1],c[0])),e.attr("scale",[a*s,a*s])),!i.ignore){var d,f,p;i.attr("position",h);var m=5*a;if("end"===i.__position)d=[u[0]*m+h[0],u[1]*m+h[1]],f=u[0]>.8?"left":u[0]<-.8?"right":"center",p=u[1]>.8?"top":u[1]<-.8?"bottom":"middle";else if("middle"===i.__position){var v=s/2,g=[(c=o.tangentAt(v))[1],-c[0]],C=o.pointAt(v);g[1]>0&&(g[0]=-g[0],g[1]=-g[1]),d=[C[0]+g[0]*m,C[1]+g[1]*m],f="center",p="bottom";var D=-Math.atan2(c[1],c[0]);h[0]<l[0]&&(D=Math.PI+D),i.attr("rotation",D)}else d=[-u[0]*m+l[0],-u[1]*m+l[1]],f=u[0]>.8?"right":u[0]<-.8?"left":"center",p=u[1]>.8?"bottom":u[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||p,textAlign:i.__textAlign||f},position:d,scale:[a,a]})}}}},p._createLine=function(t,e,i){var n=t.hostModel,r=function(t){var e=new o({name:"line",subPixelOptimize:!0});return d(e.shape,t),e}(t.getItemLayout(e));r.shape.percent=0,s.initProps(r,{shape:{percent:1}},n,e),this.add(r);var l=new s.Text({name:"label",lineLabelOriginalOpacity:1});this.add(l),a.each(h,function(i){var a=c(i,t,e);this.add(a),this[u(i)]=t.getItemVisual(e,i)},this),this._updateCommonStl(t,e,i)},p.updateData=function(t,e,i){var n=t.hostModel,r=this.childOfName("line"),o=t.getItemLayout(e),l={shape:{}};d(l.shape,o),s.updateProps(r,l,n,e),a.each(h,function(i){var a=t.getItemVisual(e,i),n=u(i);if(this[n]!==a){this.remove(this.childOfName(i));var r=c(i,t,e);this.add(r)}this[n]=a},this),this._updateCommonStl(t,e,i)},p._updateCommonStl=function(t,e,i){var n=t.hostModel,r=this.childOfName("line"),o=i&&i.lineStyle,u=i&&i.hoverLineStyle,c=i&&i.labelModel,d=i&&i.hoverLabelModel;if(!i||t.hasItemOption){var f=t.getItemModel(e);o=f.getModel("lineStyle").getLineStyle(),u=f.getModel("emphasis.lineStyle").getLineStyle(),c=f.getModel("label"),d=f.getModel("emphasis.label")}var p=t.getItemVisual(e,"color"),m=a.retrieve3(t.getItemVisual(e,"opacity"),o.opacity,1);r.useStyle(a.defaults({strokeNoScale:!0,fill:"none",stroke:p,opacity:m},o)),r.hoverStyle=u,a.each(h,function(t){var e=this.childOfName(t);e&&(e.setColor(p),e.setStyle({opacity:m}))},this);var v,g,C=c.getShallow("show"),D=d.getShallow("show"),y=this.childOfName("label");if((C||D)&&(v=p||"#000",null==(g=n.getFormattedLabel(e,"normal",t.dataType)))){var x=n.getRawValue(e);g=null==x?t.getName(e):isFinite(x)?l(x):x}var S=C?g:null,I=D?a.retrieve2(n.getFormattedLabel(e,"emphasis",t.dataType),g):null,T=y.style;null==S&&null==I||(s.setTextStyle(y.style,c,{text:S},{autoColor:v}),y.__textAlign=T.textAlign,y.__verticalAlign=T.textVerticalAlign,y.__position=c.get("position")||"middle"),y.hoverStyle=null!=I?{text:I,textFill:d.getTextColor(!0),fontStyle:d.getShallow("fontStyle"),fontWeight:d.getShallow("fontWeight"),fontSize:d.getShallow("fontSize"),fontFamily:d.getShallow("fontFamily")}:{text:null},y.ignore=!C&&!D,s.setHoverStyle(this)},p.highlight=function(){this.trigger("emphasis")},p.downplay=function(){this.trigger("normal")},p.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},p.setLinePoints=function(t){var e=this.childOfName("line");d(e.shape,t),e.dirty()},a.inherits(f,s.Group);var m=f;t.exports=m},"c/Tr":function(t,e,i){t.exports={default:i("5zde"),__esModule:!0}},cGG2:function(t,e,i){"use strict";var a=i("JP+z"),n=i("1Yoh"),r=Object.prototype.toString;function o(t){return"[object Array]"===r.call(t)}function s(t){return null!==t&&"object"==typeof t}function l(t){return"[object Function]"===r.call(t)}function h(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),o(t))for(var i=0,a=t.length;i<a;i++)e.call(null,t[i],i,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:n,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:l,isStream:function(t){return s(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:h,merge:function t(){var e={};function i(i,a){"object"==typeof e[a]&&"object"==typeof i?e[a]=t(e[a],i):e[a]=i}for(var a=0,n=arguments.length;a<n;a++)h(arguments[a],i);return e},deepMerge:function t(){var e={};function i(i,a){"object"==typeof e[a]&&"object"==typeof i?e[a]=t(e[a],i):e[a]="object"==typeof i?t({},i):i}for(var a=0,n=arguments.length;a<n;a++)h(arguments[a],i);return e},extend:function(t,e,i){return h(e,function(e,n){t[n]=i&&"function"==typeof e?a(e,i):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},cI6i:function(t,e,i){var a,n=i("YNzw"),r="urn:schemas-microsoft-com:vml",o="undefined"==typeof window?null:window,s=!1,l=o&&o.document;if(l&&!n.canvasSupported)try{!l.namespaces.zrvml&&l.namespaces.add("zrvml",r),a=function(t){return l.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){a=function(t){return l.createElement("<"+t+' xmlns="'+r+'" class="zrvml">')}}e.doc=l,e.createNode=function(t){return a(t)},e.initVML=function(){if(!s&&l){s=!0;var t=l.styleSheets;t.length<31?l.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}},cJP9:function(t,e){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},cN90:function(t,e,i){var a=i("EJsE"),n=i("ao1T"),r=i("rctg"),o=a.extend({type:"series.heatmap",getInitialData:function(t,e){return n(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var t=r.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});t.exports=o},"cO/Q":function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=i("dZZy"),r=i("1bHA"),o=i("SlE6"),s=i("0sHC"),l=i("vXqC"),h=i("MXTC"),u=h.Polyline,c=h.Polygon,d=i("Ylhr"),f=i("tzpD"),p=f.prepareDataCoordInfo,m=f.getStackedOnPoint,v=i("DDYI"),g=v.createGridClipPath,C=v.createPolarClipPath;function D(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var a=t[i],n=e[i];if(a[0]!==n[0]||a[1]!==n[1])return}return!0}}function y(t){return"number"==typeof t?t:t?.5:0}function x(t,e,i){for(var a=e.getBaseAxis(),n="x"===a.dim||"radius"===a.dim?0:1,r=[],o=0;o<t.length-1;o++){var s=t[o+1],l=t[o];r.push(l);var h=[];switch(i){case"end":h[n]=s[n],h[1-n]=l[1-n],r.push(h);break;case"middle":var u=(l[n]+s[n])/2,c=[];h[n]=c[n]=u,h[1-n]=l[1-n],c[1-n]=s[1-n],r.push(h),r.push(c);break;default:h[n]=l[n],h[1-n]=s[1-n],r.push(h)}}return t[o]&&r.push(t[o]),r}function S(t,e,i){var n=t.get("showAllSymbol"),o="auto"===n;if(!n||o){var s=i.getAxesByScale("ordinal")[0];if(s&&(!o||!function(t,e){var i=t.getExtent(),a=Math.abs(i[1]-i[0])/t.scale.count();isNaN(a)&&(a=0);for(var n=e.count(),o=Math.max(1,Math.round(n/5)),s=0;s<n;s+=o)if(1.5*r.getSymbolSize(e,s)[t.isHorizontal()?1:0]>a)return!1;return!0}(s,e))){var l=e.mapDimension(s.dim),h={};return a.each(s.getViewLabels(),function(t){h[t.tickValue]=1}),function(t){return!h.hasOwnProperty(e.get(l,t))}}}}function I(t,e,i){if("cartesian2d"===t.type){var a=t.getBaseAxis().isHorizontal(),n=g(t,e,i);if(!i.get("clip",!0)){var r=n.shape,o=Math.max(r.width,r.height);a?(r.y-=o,r.height+=2*o):(r.x-=o,r.width+=2*o)}return n}return C(t,e,i)}var T=d.extend({type:"line",init:function(){var t=new s.Group,e=new n;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var n=t.coordinateSystem,r=this.group,o=t.getData(),l=t.getModel("lineStyle"),h=t.getModel("areaStyle"),u=o.mapArray(o.getItemLayout),c="polar"===n.type,d=this._coordSys,f=this._symbolDraw,v=this._polyline,g=this._polygon,C=this._lineGroup,T=t.get("animation"),b=!h.isEmpty(),w=h.get("origin"),M=function(t,e,i){if(!i.valueDim)return[];for(var a=[],n=0,r=e.count();n<r;n++)a.push(m(i,t,e,n));return a}(n,o,p(n,o,w)),E=t.get("showSymbol"),A=E&&!c&&S(t,o,n),_=this._data;_&&_.eachItemGraphicEl(function(t,e){t.__temp&&(r.remove(t),_.setItemGraphicEl(e,null))}),E||f.remove(),r.add(C);var L,F=!c&&t.get("step");n&&n.getArea&&(null!=(L=n.getArea()).width?(L.x-=.1,L.y-=.1,L.width+=.2,L.height+=.2):L.r0&&(L.r0-=.5,L.r1+=.5)),v&&d.type===n.type&&F===this._step?(b&&!g?g=this._newPolygon(u,M,n,T):g&&!b&&(C.remove(g),g=this._polygon=null),C.setClipPath(I(n,!1,t)),E&&f.updateData(o,{isIgnore:A,clipShape:L}),o.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),D(this._stackedOnPoints,M)&&D(this._points,u)||(T?this._updateAnimation(o,M,n,i,F,w):(F&&(u=x(u,n,F),M=x(M,n,F)),v.setShape({points:u}),g&&g.setShape({points:u,stackedOnPoints:M})))):(E&&f.updateData(o,{isIgnore:A,clipShape:L}),F&&(u=x(u,n,F),M=x(M,n,F)),v=this._newPolyline(u,n,T),b&&(g=this._newPolygon(u,M,n,T)),C.setClipPath(I(n,!0,t)));var O=function(t,e){var i=t.getVisual("visualMeta");if(i&&i.length&&t.count()&&"cartesian2d"===e.type){for(var n,r,o=i.length-1;o>=0;o--){var l=i[o].dimension,h=t.dimensions[l],u=t.getDimensionInfo(h);if("x"===(n=u&&u.coordDim)||"y"===n){r=i[o];break}}if(r){var c=e.getAxis(n),d=a.map(r.stops,function(t){return{coord:c.toGlobalCoord(c.dataToCoord(t.value)),color:t.color}}),f=d.length,p=r.outerColors.slice();f&&d[0].coord>d[f-1].coord&&(d.reverse(),p.reverse());var m=d[0].coord-10,v=d[f-1].coord+10,g=v-m;if(g<.001)return"transparent";a.each(d,function(t){t.offset=(t.coord-m)/g}),d.push({offset:f?d[f-1].offset:.5,color:p[1]||"transparent"}),d.unshift({offset:f?d[0].offset:.5,color:p[0]||"transparent"});var C=new s.LinearGradient(0,0,0,0,d,!0);return C[n]=m,C[n+"2"]=v,C}}}(o,n)||o.getVisual("color");v.useStyle(a.defaults(l.getLineStyle(),{fill:"none",stroke:O,lineJoin:"bevel"}));var P=t.get("smooth");if(P=y(t.get("smooth")),v.setShape({smooth:P,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),g){var N=o.getCalculationInfo("stackedOnSeries"),R=0;g.useStyle(a.defaults(h.getAreaStyle(),{fill:O,opacity:.7,lineJoin:"bevel"})),N&&(R=y(N.get("smooth"))),g.setShape({smooth:P,stackedOnSmooth:R,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=o,this._coordSys=n,this._stackedOnPoints=M,this._points=u,this._step=F,this._valueOrigin=w},dispose:function(){},highlight:function(t,e,i,a){var n=t.getData(),o=l.queryDataIndex(n,a);if(!(o instanceof Array)&&null!=o&&o>=0){var s=n.getItemGraphicEl(o);if(!s){var h=n.getItemLayout(o);if(!h)return;(s=new r(n,o)).position=h,s.setZ(t.get("zlevel"),t.get("z")),s.ignore=isNaN(h[0])||isNaN(h[1]),s.__temp=!0,n.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else d.prototype.highlight.call(this,t,e,i,a)},downplay:function(t,e,i,a){var n=t.getData(),r=l.queryDataIndex(n,a);if(null!=r&&r>=0){var o=n.getItemGraphicEl(r);o&&(o.__temp?(n.setItemGraphicEl(r,null),this.group.remove(o)):o.downplay())}else d.prototype.downplay.call(this,t,e,i,a)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new u({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new c({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_updateAnimation:function(t,e,i,a,n,r){var l=this._polyline,h=this._polygon,u=t.hostModel,c=o(this._data,t,this._stackedOnPoints,e,this._coordSys,i,this._valueOrigin,r),d=c.current,f=c.stackedOnCurrent,p=c.next,m=c.stackedOnNext;n&&(d=x(c.current,i,n),f=x(c.stackedOnCurrent,i,n),p=x(c.next,i,n),m=x(c.stackedOnNext,i,n)),l.shape.__points=c.current,l.shape.points=d,s.updateProps(l,{shape:{points:p}},u),h&&(h.setShape({points:d,stackedOnPoints:f}),s.updateProps(h,{shape:{points:p,stackedOnPoints:m}},u));for(var v=[],g=c.status,C=0;C<g.length;C++){if("="===g[C].cmd){var D=t.getItemGraphicEl(g[C].idx1);D&&v.push({el:D,ptIdx:C})}}l.animators&&l.animators.length&&l.animators[0].during(function(){for(var t=0;t<v.length;t++){v[t].el.attr("position",l.shape.__points[v[t].ptIdx])}})},remove:function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(t,a){t.__temp&&(e.remove(t),i.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});t.exports=T},cU6c:function(t,e){var i={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};t.exports=function(t,e){if("china"===t){var a=i[e.name];if(a){var n=e.center;n[0]+=a[0]/10.5,n[1]+=-a[1]/14}}}},cWq4:function(t,e,i){var a=i("Icdr");i("+u5N"),i("Cuh7"),i("IeRB");var n=i("wTOJ"),r=i("Mxrs");a.registerLayout(n),a.registerVisual(r)},cWxy:function(t,e,i){"use strict";var a=i("dVOP");function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var i=this;t(function(t){i.reason||(i.reason=new a(t),e(i.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t;return{token:new n(function(e){t=e}),cancel:t}},t.exports=n},crlp:function(t,e,i){var a=i("7KvD"),n=i("FeBl"),r=i("O4g8"),o=i("Kh4W"),s=i("evD5").f;t.exports=function(t){var e=n.Symbol||(n.Symbol=r?{}:a.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},ct4P:function(t,e,i){var a=i("/gxq");function n(t){return this._axes[t]}var r=function(t){this._axes={},this._dimList=[],this.name=t||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return a.map(this._dimList,n,this)},getAxesByScale:function(t){return t=t.toLowerCase(),a.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var i=this._dimList,a=t instanceof Array?[]:{},n=0;n<i.length;n++){var r=i[n],o=this._axes[r];a[r]=o[e](t[r])}return a}};var o=r;t.exports=o},"cuL/":function(t,e,i){i("Y5nL").registerSubTypeDefaulter("dataZoom",function(){return"slider"})},d1IL:function(t,e,i){var a=i("/gxq"),n=i("Rfu2"),r=i("1uRk"),o=i("NGRG"),s=i("hcq/"),l=i("rctg"),h=i("ao1T");t.exports=function(t,e,i,u,c){for(var d=new r(u),f=0;f<t.length;f++)d.addNode(a.retrieve(t[f].id,t[f].name,f),f);var p=[],m=[],v=0;for(f=0;f<e.length;f++){var g=e[f],C=g.source,D=g.target;d.addEdge(C,D,v)&&(m.push(g),p.push(a.retrieve(g.id,C+" > "+D)),v++)}var y,x=i.get("coordinateSystem");if("cartesian2d"===x||"polar"===x)y=h(t,i);else{var S=l.get(x),I=S&&"view"!==S.type&&S.dimensions||[];a.indexOf(I,"value")<0&&I.concat(["value"]);var T=s(t,{coordDimensions:I});(y=new n(T,i)).initData(t)}var b=new n(["value"],i);return b.initData(m,p),c&&c(y,b),o({mainData:y,struct:d,structAttr:"graph",datas:{node:y,edge:b},datasAttr:{node:"data",edge:"edgeData"}}),d.update(),d}},d8Tt:function(t,e,i){var a=i("9b8q"),n=i("28kU").ContextCachedBy,r=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],o=function(t){this.extendFrom(t,!1)};function s(t,e,i){var a=null==e.x?0:e.x,n=null==e.x2?1:e.x2,r=null==e.y?0:e.y,o=null==e.y2?0:e.y2;return e.global||(a=a*i.width+i.x,n=n*i.width+i.x,r=r*i.height+i.y,o=o*i.height+i.y),a=isNaN(a)?0:a,n=isNaN(n)?1:n,r=isNaN(r)?0:r,o=isNaN(o)?0:o,t.createLinearGradient(a,r,n,o)}function l(t,e,i){var a=i.width,n=i.height,r=Math.min(a,n),o=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(o=o*a+i.x,s=s*n+i.y,l*=r),t.createRadialGradient(o,s,0,o,s,l)}for(var h=o.prototype={constructor:o,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){var o=i&&i.style,s=!o||t.__attrCachedBy!==n.STYLE_BIND;t.__attrCachedBy=n.STYLE_BIND;for(var l=0;l<r.length;l++){var h=r[l],u=h[0];(s||this[u]!==o[u])&&(t[u]=a(t,u,this[u]||h[1]))}if((s||this.fill!==o.fill)&&(t.fillStyle=this.fill),(s||this.stroke!==o.stroke)&&(t.strokeStyle=this.stroke),(s||this.opacity!==o.opacity)&&(t.globalAlpha=null==this.opacity?1:this.opacity),(s||this.blend!==o.blend)&&(t.globalCompositeOperation=this.blend||"source-over"),this.hasStroke()){var c=this.lineWidth;t.lineWidth=c/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!0!==e&&(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){for(var a=("radial"===e.type?l:s)(t,e,i),n=e.colorStops,r=0;r<n.length;r++)a.addColorStop(n[r].offset,n[r].color);return a}},u=0;u<r.length;u++){var c=r[u];c[0]in h||(h[c[0]]=c[1])}o.getGradient=h.getGradient;var d=o;t.exports=d},dCQY:function(t,e){var i={};e.register=function(t,e){i[t]=e},e.get=function(t){return i[t]}},dDRy:function(t,e,i){var a=i("/gxq"),n=i("wWR3"),r=i("HHfb"),o=i("wW3A"),s=i("tBuv"),l=s.prototype,h=Math.ceil,u=Math.floor,c=s.extend({type:"time",getLabel:function(t){var e=this._stepLvl,i=new Date(t);return r.formatTime(e[0],i,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;t.fixMin||(e[0]=n.round(u(e[0]/a)*a)),t.fixMax||(e[1]=n.round(h(e[1]/a)*a))},niceTicks:function(t,e,i){t=t||10;var a=this._extent,r=a[1]-a[0],s=r/t;null!=e&&s<e&&(s=e),null!=i&&s>i&&(s=i);var l=d.length,c=function(t,e,i,a){for(;i<a;){var n=i+a>>>1;t[n][1]<e?i=n+1:a=n}return i}(d,s,0,l),f=d[Math.min(c,l-1)],p=f[1];if("year"===f[0]){var m=r/p;p*=n.nice(m/t,!0)}var v=this.getSetting("useUTC")?0:60*new Date(+a[0]||+a[1]).getTimezoneOffset()*1e3,g=[Math.round(h((a[0]-v)/p)*p+v),Math.round(u((a[1]-v)/p)*p+v)];o.fixExtent(g,a),this._stepLvl=f,this._interval=p,this._niceExtent=g},parse:function(t){return+n.parseDate(t)}});a.each(["contain","normalize"],function(t){c.prototype[t]=function(e){return l[t].call(this,this.parse(e))}});var d=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",6048e6],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];c.create=function(t){return new c({useUTC:t.ecModel.get("useUTC")})};var f=c;t.exports=f},dE09:function(t,e,i){var a=i("GxVO"),n=i("moDv"),r=i("C1+n"),o=Math.sqrt,s=Math.sin,l=Math.cos,h=Math.PI,u=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},c=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(u(t)*u(e))},d=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(c(t,e))};function f(t,e,i,a,n,r,u,f,p,m,v){var g=p*(h/180),C=l(g)*(t-i)/2+s(g)*(e-a)/2,D=-1*s(g)*(t-i)/2+l(g)*(e-a)/2,y=C*C/(u*u)+D*D/(f*f);y>1&&(u*=o(y),f*=o(y));var x=(n===r?-1:1)*o((u*u*(f*f)-u*u*(D*D)-f*f*(C*C))/(u*u*(D*D)+f*f*(C*C)))||0,S=x*u*D/f,I=x*-f*C/u,T=(t+i)/2+l(g)*S-s(g)*I,b=(e+a)/2+s(g)*S+l(g)*I,w=d([1,0],[(C-S)/u,(D-I)/f]),M=[(C-S)/u,(D-I)/f],E=[(-1*C-S)/u,(-1*D-I)/f],A=d(M,E);c(M,E)<=-1&&(A=h),c(M,E)>=1&&(A=0),0===r&&A>0&&(A-=2*h),1===r&&A<0&&(A+=2*h),v.addData(m,T,b,u,f,w,A,g,r)}var p=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,m=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function v(t,e){var i=function(t){if(!t)return new n;for(var e,i=0,a=0,r=i,o=a,s=new n,l=n.CMD,h=t.match(p),u=0;u<h.length;u++){for(var c,d=h[u],v=d.charAt(0),g=d.match(m)||[],C=g.length,D=0;D<C;D++)g[D]=parseFloat(g[D]);for(var y=0;y<C;){var x,S,I,T,b,w,M,E=i,A=a;switch(v){case"l":i+=g[y++],a+=g[y++],c=l.L,s.addData(c,i,a);break;case"L":i=g[y++],a=g[y++],c=l.L,s.addData(c,i,a);break;case"m":i+=g[y++],a+=g[y++],c=l.M,s.addData(c,i,a),r=i,o=a,v="l";break;case"M":i=g[y++],a=g[y++],c=l.M,s.addData(c,i,a),r=i,o=a,v="L";break;case"h":i+=g[y++],c=l.L,s.addData(c,i,a);break;case"H":i=g[y++],c=l.L,s.addData(c,i,a);break;case"v":a+=g[y++],c=l.L,s.addData(c,i,a);break;case"V":a=g[y++],c=l.L,s.addData(c,i,a);break;case"C":c=l.C,s.addData(c,g[y++],g[y++],g[y++],g[y++],g[y++],g[y++]),i=g[y-2],a=g[y-1];break;case"c":c=l.C,s.addData(c,g[y++]+i,g[y++]+a,g[y++]+i,g[y++]+a,g[y++]+i,g[y++]+a),i+=g[y-2],a+=g[y-1];break;case"S":x=i,S=a;var _=s.len(),L=s.data;e===l.C&&(x+=i-L[_-4],S+=a-L[_-3]),c=l.C,E=g[y++],A=g[y++],i=g[y++],a=g[y++],s.addData(c,x,S,E,A,i,a);break;case"s":x=i,S=a,_=s.len(),L=s.data,e===l.C&&(x+=i-L[_-4],S+=a-L[_-3]),c=l.C,E=i+g[y++],A=a+g[y++],i+=g[y++],a+=g[y++],s.addData(c,x,S,E,A,i,a);break;case"Q":E=g[y++],A=g[y++],i=g[y++],a=g[y++],c=l.Q,s.addData(c,E,A,i,a);break;case"q":E=g[y++]+i,A=g[y++]+a,i+=g[y++],a+=g[y++],c=l.Q,s.addData(c,E,A,i,a);break;case"T":x=i,S=a,_=s.len(),L=s.data,e===l.Q&&(x+=i-L[_-4],S+=a-L[_-3]),i=g[y++],a=g[y++],c=l.Q,s.addData(c,x,S,i,a);break;case"t":x=i,S=a,_=s.len(),L=s.data,e===l.Q&&(x+=i-L[_-4],S+=a-L[_-3]),i+=g[y++],a+=g[y++],c=l.Q,s.addData(c,x,S,i,a);break;case"A":I=g[y++],T=g[y++],b=g[y++],w=g[y++],M=g[y++],f(E=i,A=a,i=g[y++],a=g[y++],w,M,I,T,b,c=l.A,s);break;case"a":I=g[y++],T=g[y++],b=g[y++],w=g[y++],M=g[y++],f(E=i,A=a,i+=g[y++],a+=g[y++],w,M,I,T,b,c=l.A,s)}}"z"!==v&&"Z"!==v||(c=l.Z,s.addData(c),i=r,a=o),e=c}return s.toStatic(),s}(t);return(e=e||{}).buildPath=function(t){if(t.setData){t.setData(i.data),(e=t.getContext())&&t.rebuildPath(e)}else{var e=t;i.rebuildPath(e)}},e.applyTransform=function(t){r(i,t),this.dirty(!0)},e}e.createFromString=function(t,e){return new a(v(t,e))},e.extendFromString=function(t,e){return a.extend(v(t,e))},e.mergePath=function(t,e){for(var i=[],n=t.length,r=0;r<n;r++){var o=t[r];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),i.push(o.path)}var s=new a(e);return s.createPathProxy(),s.buildPath=function(t){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e)},s}},dIwP:function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},dNDb:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},dOVI:function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array;function a(){var t=new i(6);return n(t),t}function n(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}e.create=a,e.identity=n,e.copy=r,e.mul=function(t,e,i){var a=e[0]*i[0]+e[2]*i[1],n=e[1]*i[0]+e[3]*i[1],r=e[0]*i[2]+e[2]*i[3],o=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t[4]=s,t[5]=l,t},e.translate=function(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t},e.rotate=function(t,e,i){var a=e[0],n=e[2],r=e[4],o=e[1],s=e[3],l=e[5],h=Math.sin(i),u=Math.cos(i);return t[0]=a*u+o*h,t[1]=-a*h+o*u,t[2]=n*u+s*h,t[3]=-n*h+u*s,t[4]=u*r+h*l,t[5]=u*l-h*r,t},e.scale=function(t,e,i){var a=i[0],n=i[1];return t[0]=e[0]*a,t[1]=e[1]*n,t[2]=e[2]*a,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*n,t},e.invert=function(t,e){var i=e[0],a=e[2],n=e[4],r=e[1],o=e[3],s=e[5],l=i*o-r*a;return l?(l=1/l,t[0]=o*l,t[1]=-r*l,t[2]=-a*l,t[3]=i*l,t[4]=(a*s-o*n)*l,t[5]=(r*n-i*s)*l,t):null},e.clone=function(t){var e=a();return r(e,t),e}},dSzd:function(t,e,i){var a=i("e8AB")("wks"),n=i("3Eo+"),r=i("7KvD").Symbol,o="function"==typeof r;(t.exports=function(t){return a[t]||(a[t]=o&&r[t]||(o?r:n)("Symbol."+t))}).store=a},dVOP:function(t,e,i){"use strict";function a(t){this.message=t}a.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},a.prototype.__CANCEL__=!0,t.exports=a},dY0y:function(t,e,i){var a=i("dSzd")("iterator"),n=!1;try{var r=[7][a]();r.return=function(){n=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var i=!1;try{var r=[7],o=r[a]();o.next=function(){return{done:i=!0}},r[a]=function(){return o},t(r)}catch(t){}return i}},dZ2L:function(t,e){var i=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};i.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var a=i;t.exports=a},dZZy:function(t,e,i){var a=i("0sHC"),n=i("1bHA"),r=i("/gxq").isObject;function o(t){this.group=new a.Group,this._symbolCtor=t||n}var s=o.prototype;function l(t,e,i,a){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(a.isIgnore&&a.isIgnore(i))&&!(a.clipShape&&!a.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(i,"symbol")}function h(t){return null==t||r(t)||(t={isIgnore:t}),t||{}}function u(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}s.updateData=function(t,e){e=h(e);var i=this.group,n=t.hostModel,r=this._data,o=this._symbolCtor,s=u(t);r||i.removeAll(),t.diff(r).add(function(a){var n=t.getItemLayout(a);if(l(t,n,a,e)){var r=new o(t,a,s);r.attr("position",n),t.setItemGraphicEl(a,r),i.add(r)}}).update(function(h,u){var c=r.getItemGraphicEl(u),d=t.getItemLayout(h);l(t,d,h,e)?(c?(c.updateData(t,h,s),a.updateProps(c,{position:d},n)):(c=new o(t,h)).attr("position",d),i.add(c),t.setItemGraphicEl(h,c)):i.remove(c)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut(function(){i.remove(e)})}).execute(),this._data=t},s.isPersistent=function(){return!0},s.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,i){var a=t.getItemLayout(i);e.attr("position",a)})},s.incrementalPrepareUpdate=function(t){this._seriesScope=u(t),this._data=null,this.group.removeAll()},s.incrementalUpdate=function(t,e,i){function a(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}i=h(i);for(var n=t.start;n<t.end;n++){var r=e.getItemLayout(n);if(l(e,r,n,i)){var o=new this._symbolCtor(e,n,this._seriesScope);o.traverse(a),o.attr("position",r),this.group.add(o),e.setItemGraphicEl(n,o)}}},s.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()};var c=o;t.exports=c},dnLe:function(t,e,i){var a=i("YNzw"),n=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];t.exports=function(t){return a.browser.ie&&a.browser.version>=11?function(){var e,i=this.__clipPaths,a=this.style;if(i)for(var r=0;r<i.length;r++){var o=i[r],s=o&&o.shape,l=o&&o.type;if(s&&("sector"===l&&s.startAngle===s.endAngle||"rect"===l&&(!s.width||!s.height))){for(var h=0;h<n.length;h++)n[h][2]=a[n[h][0]],a[n[h][0]]=n[h][1];e=!0;break}}if(t.apply(this,arguments),e)for(h=0;h<n.length;h++)a[n[h][0]]=n[h][2]}:t}},dp0Z:function(t,e,i){var a=i("6JAQ"),n=i("1Xuh"),r=n.mergeLayoutParam,o=n.getLayoutParams,s=a.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,i,a){var n=o(t);s.superCall(this,"init",t,e,i,a),l(this,t,n)},mergeOption:function(t,e){s.superCall(this,"mergeOption",t,e),l(this,this.option,t)}});function l(t,e,i){var a=[1,1];a[t.getOrient().index]=0,r(e,i,{type:"box",ignoreSize:a})}var h=s;t.exports=h},"dtW/":function(t,e,i){var a=i("/gxq"),n=i("vXqC").makeInner,r=i("QCrJ"),o=i("OxCu"),s=a.each,l=a.curry,h=n();function u(t,e,i,n,r){var o=t.axis;if(!o.scale.isBlank()&&o.containData(e))if(t.involveSeries){var l=function(t,e){var i=e.axis,a=i.dim,n=t,r=[],o=Number.MAX_VALUE,l=-1;return s(e.seriesModels,function(e,h){var u,c,d=e.getData().mapDimension(a,!0);if(e.getAxisTooltipData){var f=e.getAxisTooltipData(d,t,i);c=f.dataIndices,u=f.nestestValue}else{if(!(c=e.getData().indicesOfNearest(d[0],t,"category"===i.type?.5:null)).length)return;u=e.getData().get(d[0],c[0])}if(null!=u&&isFinite(u)){var p=t-u,m=Math.abs(p);m<=o&&((m<o||p>=0&&l<0)&&(o=m,l=p,n=u,r.length=0),s(c,function(t){r.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:r,snapToValue:n}}(e,t),h=l.payloadBatch,u=l.snapToValue;h[0]&&null==r.seriesIndex&&a.extend(r,h[0]),!n&&t.snap&&o.containData(u)&&null!=u&&(e=u),i.showPointer(t,e,h,r),i.showTooltip(t,l,u)}else i.showPointer(t,e)}function c(t,e,i,a){t[e.key]={value:i,payloadBatch:a}}function d(t,e,i,a){var n=i.payloadBatch,o=e.axis,s=o.model,l=e.axisPointerModel;if(e.triggerTooltip&&n.length){var h=e.coordSys.model,u=r.makeKey(h),c=t.map[u];c||(c=t.map[u]={coordSysId:h.id,coordSysIndex:h.componentIndex,coordSysType:h.type,coordSysMainType:h.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:o.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:a,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:n.slice()})}}function f(t){var e=t.axis.model,i={},a=i.axisDim=t.axis.dim;return i.axisIndex=i[a+"AxisIndex"]=e.componentIndex,i.axisName=i[a+"AxisName"]=e.name,i.axisId=i[a+"AxisId"]=e.id,i}function p(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}t.exports=function(t,e,i){var n=t.currTrigger,r=[t.x,t.y],m=t,v=t.dispatchAction||a.bind(i.dispatchAction,i),g=e.getComponent("axisPointer").coordSysAxesInfo;if(g){p(r)&&(r=o({seriesIndex:m.seriesIndex,dataIndex:m.dataIndex},e).point);var C=p(r),D=m.axesInfo,y=g.axesInfo,x="leave"===n||p(r),S={},I={},T={list:[],map:{}},b={showPointer:l(c,I),showTooltip:l(d,T)};s(g.coordSysMap,function(t,e){var i=C||t.containPoint(r);s(g.coordSysAxesInfo[e],function(t,e){var a=t.axis,n=function(t,e){for(var i=0;i<(t||[]).length;i++){var a=t[i];if(e.axis.dim===a.axisDim&&e.axis.model.componentIndex===a.axisIndex)return a}}(D,t);if(!x&&i&&(!D||n)){var o=n&&n.value;null!=o||C||(o=a.pointToData(r)),null!=o&&u(t,o,b,!1,S)}})});var w={};return s(y,function(t,e){var i=t.linkGroup;i&&!I[e]&&s(i.axesInfo,function(e,a){var n=I[a];if(e!==t&&n){var r=n.value;i.mapper&&(r=t.axis.scale.parse(i.mapper(r,f(e),f(t)))),w[t.key]=r}})}),s(w,function(t,e){u(y[e],t,b,!0,S)}),function(t,e,i){var a=i.axesInfo=[];s(e,function(e,i){var n=e.axisPointerModel.option,r=t[i];r?(!e.useHandle&&(n.status="show"),n.value=r.value,n.seriesDataIndices=(r.payloadBatch||[]).slice()):!e.useHandle&&(n.status="hide"),"show"===n.status&&a.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:n.value})})}(I,y,S),function(t,e,i,a){if(!p(e)&&t.list.length){var n=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:n.dataIndexInside,dataIndex:n.dataIndex,seriesIndex:n.seriesIndex,dataByCoordSys:t.list})}else a({type:"hideTip"})}(T,r,t,v),function(t,e,i){var n=i.getZr(),r=h(n).axisPointerLastHighlights||{},o=h(n).axisPointerLastHighlights={};s(t,function(t,e){var i=t.axisPointerModel.option;"show"===i.status&&s(i.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;o[e]=t})});var l=[],u=[];a.each(r,function(t,e){!o[e]&&u.push(t)}),a.each(o,function(t,e){!r[e]&&l.push(t)}),u.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:u}),l.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:l})}(y,0,i),S}}},dzlV:function(t,e,i){var a=i("0sHC"),n=i("RjA7").getDefaultLabel;function r(t,e){"outside"===t.textPosition&&(t.textPosition=e)}e.setLabel=function(t,e,i,o,s,l,h){var u=i.getModel("label"),c=i.getModel("emphasis.label");a.setLabelStyle(t,e,u,c,{labelFetcher:s,labelDataIndex:l,defaultText:n(s.getData(),l),isRectText:!0,autoColor:o}),r(t),r(e)}},"e+YR":function(t,e,i){var a=i("/gxq");e.createWrap=function(){var t,e=[],i={};return{add:function(t,n,r,o,s){return a.isString(o)&&(s=o,o=0),!i[t.id]&&(i[t.id]=1,e.push({el:t,target:n,time:r,delay:o,easing:s}),!0)},done:function(e){return t=e,this},start:function(){for(var a=e.length,n=0,r=e.length;n<r;n++){var o=e[n];o.el.animateTo(o.target,o.time,o.delay,o.easing,s)}return this;function s(){--a||(e.length=0,i={},t&&t())}}}}},e0Bm:function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=61)}([function(t,e,i){"use strict";function a(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return a})},,,function(t,e){t.exports=i("ylDJ")},function(t,e){t.exports=i("fPll")},function(t,e){t.exports=i("fKx3")},function(t,e){t.exports=i("y+7x")},,,,function(t,e){t.exports=i("HJMx")},,function(t,e){t.exports=i("ISYW")},,function(t,e){t.exports=i("fEB+")},,function(t,e){t.exports=i("02w1")},function(t,e){t.exports=i("ON3O")},,function(t,e){t.exports=i("urW8")},,function(t,e){t.exports=i("E/in")},function(t,e){t.exports=i("1oZe")},,,,,,,,,function(t,e){t.exports=i("zTCi")},,,function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[i("span",[t._v(t._s(t.currentLabel))])])],2)};a._withStripped=!0;var n=i(4),r=i.n(n),o=i(3),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l={mixins:[r.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var i=this.select,a=i.remote,n=i.valueKey;if(!this.created&&!a){if(n&&"object"===(void 0===t?"undefined":s(t))&&"object"===(void 0===e?"undefined":s(e))&&t[n]===e[n])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var i=this.select.valueKey;return Object(o.getValueByPath)(t,i)===Object(o.getValueByPath)(e,i)}return t===e},contains:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(this.isObject){var i=this.select.valueKey;return t&&t.some(function(t){return Object(o.getValueByPath)(t,i)===Object(o.getValueByPath)(e,i)})}return t&&t.indexOf(e)>-1},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(o.escapeRegexpString)(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select,e=t.selected,i=t.multiple?e:[e],a=this.select.cachedOptions.indexOf(this),n=i.indexOf(this);a>-1&&n<0&&this.select.cachedOptions.splice(a,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},h=i(0),u=Object(h.a)(l,a,[],!1,null,null,null);u.options.__file="packages/select/src/option.vue";e.a=u.exports},,,,function(t,e){t.exports=i("orbS")},,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[t.selectSize?"el-select--"+t.selectSize:""],on:{click:function(e){return e.stopPropagation(),t.toggleMenu(e)}}},[t.multiple?i("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":t.inputWidth-32+"px",width:"100%"}},[t.collapseTags&&t.selected.length?i("span",[i("el-tag",{attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(e){t.deleteTag(e,t.selected[0])}}},[i("span",{staticClass:"el-select__tags-text"},[t._v(t._s(t.selected[0].currentLabel))])]),t.selected.length>1?i("el-tag",{attrs:{closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""}},[i("span",{staticClass:"el-select__tags-text"},[t._v("+ "+t._s(t.selected.length-1))])]):t._e()],1):t._e(),t.collapseTags?t._e():i("transition-group",{on:{"after-leave":t.resetInputHeight}},t._l(t.selected,function(e){return i("el-tag",{key:t.getValueKey(e),attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:e.hitState,type:"info","disable-transitions":""},on:{close:function(i){t.deleteTag(i,e)}}},[i("span",{staticClass:"el-select__tags-text"},[t._v(t._s(e.currentLabel))])])}),1),t.filterable?i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[t.selectSize?"is-"+t.selectSize:""],style:{"flex-grow":"1",width:t.inputLength/(t.inputWidth-32)+"%","max-width":t.inputWidth-42+"px"},attrs:{type:"text",disabled:t.selectDisabled,autocomplete:t.autoComplete||t.autocomplete},domProps:{value:t.query},on:{focus:t.handleFocus,blur:function(e){t.softFocus=!1},keyup:t.managePlaceholder,keydown:[t.resetInputState,function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?t.deletePrevTag(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:[function(e){e.target.composing||(t.query=e.target.value)},t.debouncedQueryChange]}}):t._e()],1):t._e(),i("el-input",{ref:"reference",class:{"is-focus":t.visible},attrs:{type:"text",placeholder:t.currentPlaceholder,name:t.name,id:t.id,autocomplete:t.autoComplete||t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,tabindex:t.multiple&&t.filterable?"-1":null},on:{focus:t.handleFocus,blur:t.handleBlur},nativeOn:{keyup:function(e){return t.debouncedOnInputChange(e)},keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],paste:function(e){return t.debouncedOnInputChange(e)},mouseenter:function(e){t.inputHovering=!0},mouseleave:function(e){t.inputHovering=!1}},model:{value:t.selectedLabel,callback:function(e){t.selectedLabel=e},expression:"selectedLabel"}},[t.$slots.prefix?i("template",{slot:"prefix"},[t._t("prefix")],2):t._e(),i("template",{slot:"suffix"},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+t.iconClass]}),t.showClose?i("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:t.handleClearClick}}):t._e()])],2),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":t.handleMenuEnter,"after-leave":t.doDestroy}},[i("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:t.visible&&!1!==t.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":t.popperAppendToBody}},[i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.options.length>0&&!t.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!t.allowCreate&&t.query&&0===t.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[t.showNewOption?i("el-option",{attrs:{value:t.query,created:""}}):t._e(),t._t("default")],2),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&0===t.options.length)?[t.$slots.empty?t._t("empty"):i("p",{staticClass:"el-select-dropdown__empty"},[t._v("\n          "+t._s(t.emptyText)+"\n        ")])]:t._e()],2)],1)],1)};a._withStripped=!0;var n=i(4),r=i.n(n),o=i(22),s=i.n(o),l=i(6),h=i.n(l),u=i(10),c=i.n(u),d=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":this.$parent.multiple},this.popperClass],style:{minWidth:this.minWidth}},[this._t("default")],2)};d._withStripped=!0;var f=i(5),p={name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[i.n(f).a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var t=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",function(){t.$parent.visible&&t.updatePopper()}),this.$on("destroyPopper",this.destroyPopper)}},m=i(0),v=Object(m.a)(p,d,[],!1,null,null,null);v.options.__file="packages/select/src/select-dropdown.vue";var g=v.exports,C=i(34),D=i(38),y=i.n(D),x=i(14),S=i.n(x),I=i(17),T=i.n(I),b=i(12),w=i.n(b),M=i(16),E=i(19),A=i(31),_=i.n(A),L=i(3),F=i(21),O={mixins:[r.a,h.a,s()("reference"),{data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter(function(t){return t.visible}).every(function(t){return t.disabled})}},watch:{hoverIndex:function(t){var e=this;"number"==typeof t&&t>-1&&(this.hoverOption=this.options[t]||{}),this.options.forEach(function(t){t.hover=e.hoverOption===t})}},methods:{navigateOptions:function(t){var e=this;if(this.visible){if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===t?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===t&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1));var i=this.options[this.hoverIndex];!0!==i.disabled&&!0!==i.groupDisabled&&i.visible||this.navigateOptions(t),this.$nextTick(function(){return e.scrollToOption(e.hoverOption)})}}else this.visible=!0}}}],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(L.isIE)()&&!Object(L.isEdge)()&&!this.visible},showClose:function(){var t=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value;return this.clearable&&!this.selectDisabled&&this.inputHovering&&t},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var t=this,e=this.options.filter(function(t){return!t.created}).some(function(e){return e.currentLabel===t.query});return this.filterable&&this.allowCreate&&""!==this.query&&!e},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"}},components:{ElInput:c.a,ElSelectMenu:g,ElOption:C.a,ElTag:y.a,ElScrollbar:S.a},directives:{Clickoutside:w.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,default:function(){return Object(E.t)("el.select.placeholder")}},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var t=this;this.$nextTick(function(){t.resetInputHeight()})},placeholder:function(t){this.cachedPlaceHolder=this.currentPlaceholder=t},value:function(t,e){this.multiple&&(this.resetInputHeight(),t&&t.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(L.valueEquals)(t,e)||this.dispatch("ElFormItem","el.form.change",t)},visible:function(t){var e=this;t?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick(function(){e.$refs.input&&""===e.$refs.input.value&&0===e.selected.length&&(e.currentPlaceholder=e.cachedPlaceHolder)}),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",t)},options:function(){var t=this;if(!this.$isServer){this.$nextTick(function(){t.broadcast("ElSelectDropdown","updatePopper")}),this.multiple&&this.resetInputHeight();var e=this.$el.querySelectorAll("input");-1===[].indexOf.call(e,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleComposition:function(t){var e=this,i=t.target.value;if("compositionend"===t.type)this.isOnComposition=!1,this.$nextTick(function(t){return e.handleQueryChange(i)});else{var a=i[i.length-1]||"";this.isOnComposition=!Object(F.isKorean)(a)}},handleQueryChange:function(t){var e=this;this.previousQuery===t||this.isOnComposition||(null!==this.previousQuery||"function"!=typeof this.filterMethod&&"function"!=typeof this.remoteMethod?(this.previousQuery=t,this.$nextTick(function(){e.visible&&e.broadcast("ElSelectDropdown","updatePopper")}),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick(function(){var t=15*e.$refs.input.value.length+20;e.inputLength=e.collapseTags?Math.min(50,t):t,e.managePlaceholder(),e.resetInputHeight()}),this.remote&&"function"==typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(t)):"function"==typeof this.filterMethod?(this.filterMethod(t),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",t),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=t)},scrollToOption:function(t){var e=Array.isArray(t)&&t[0]?t[0].$el:t.$el;if(this.$refs.popper&&e){var i=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");_()(i,e)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var t=this;this.$nextTick(function(){return t.scrollToOption(t.selected)})},emitChange:function(t){Object(L.valueEquals)(this.value,t)||this.$emit("change",t)},getOption:function(t){for(var e=void 0,i="[object object]"===Object.prototype.toString.call(t).toLowerCase(),a="[object null]"===Object.prototype.toString.call(t).toLowerCase(),n="[object undefined]"===Object.prototype.toString.call(t).toLowerCase(),r=this.cachedOptions.length-1;r>=0;r--){var o=this.cachedOptions[r];if(i?Object(L.getValueByPath)(o.value,this.valueKey)===Object(L.getValueByPath)(t,this.valueKey):o.value===t){e=o;break}}if(e)return e;var s={value:t,currentLabel:i||a||n?"":t};return this.multiple&&(s.hitState=!1),s},setSelected:function(){var t=this;if(!this.multiple){var e=this.getOption(this.value);return e.created?(this.createdLabel=e.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=e.currentLabel,this.selected=e,void(this.filterable&&(this.query=this.selectedLabel))}var i=[];Array.isArray(this.value)&&this.value.forEach(function(e){i.push(t.getOption(e))}),this.selected=i,this.$nextTick(function(){t.resetInputHeight()})},handleFocus:function(t){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.visible=!0,this.filterable&&(this.menuVisibleOnFocus=!0)),this.$emit("focus",t))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(t){var e=this;setTimeout(function(){e.isSilentBlur?e.isSilentBlur=!1:e.$emit("blur",t)},50),this.softFocus=!1},handleClearClick:function(t){this.deleteSelected(t)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(t){if(Array.isArray(this.selected)){var e=this.selected[this.selected.length-1];if(e)return!0===t||!1===t?(e.hitState=t,t):(e.hitState=!e.hitState,e.hitState)}},deletePrevTag:function(t){if(t.target.value.length<=0&&!this.toggleLastOptionHitState()){var e=this.value.slice();e.pop(),this.$emit("input",e),this.emitChange(e)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(t){8!==t.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var t=this;this.collapseTags&&!this.filterable||this.$nextTick(function(){if(t.$refs.reference){var e=t.$refs.reference.$el.childNodes,i=[].filter.call(e,function(t){return"INPUT"===t.tagName})[0],a=t.$refs.tags,n=t.initialInputHeight||40;i.style.height=0===t.selected.length?n+"px":Math.max(a?a.clientHeight+(a.clientHeight>n?6:0):0,n)+"px",t.visible&&!1!==t.emptyText&&t.broadcast("ElSelectDropdown","updatePopper")}})},resetHoverIndex:function(){var t=this;setTimeout(function(){t.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(function(e){return t.options.indexOf(e)})):t.hoverIndex=-1:t.hoverIndex=t.options.indexOf(t.selected)},300)},handleOptionSelect:function(t,e){var i=this;if(this.multiple){var a=(this.value||[]).slice(),n=this.getValueIndex(a,t.value);n>-1?a.splice(n,1):(this.multipleLimit<=0||a.length<this.multipleLimit)&&a.push(t.value),this.$emit("input",a),this.emitChange(a),t.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",t.value),this.emitChange(t.value),this.visible=!1;this.isSilentBlur=e,this.setSoftFocus(),this.visible||this.$nextTick(function(){i.scrollToOption(t)})},setSoftFocus:function(){this.softFocus=!0;var t=this.$refs.input||this.$refs.reference;t&&t.focus()},getValueIndex:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if("[object object]"===Object.prototype.toString.call(e).toLowerCase()){var i=this.valueKey,a=-1;return t.some(function(t,n){return Object(L.getValueByPath)(t,i)===Object(L.getValueByPath)(e,i)&&(a=n,!0)}),a}return t.indexOf(e)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(t){t.stopPropagation();var e=this.multiple?[]:"";this.$emit("input",e),this.emitChange(e),this.visible=!1,this.$emit("clear")},deleteTag:function(t,e){var i=this.selected.indexOf(e);if(i>-1&&!this.selectDisabled){var a=this.value.slice();a.splice(i,1),this.$emit("input",a),this.emitChange(a),this.$emit("remove-tag",e.value)}t.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(t){t>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(t,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){this.hoverIndex=-1;for(var t=!1,e=this.options.length-1;e>=0;e--)if(this.options[e].created){t=!0,this.hoverIndex=e;break}if(!t)for(var i=0;i!==this.options.length;++i){var a=this.options[i];if(this.query){if(!a.disabled&&!a.groupDisabled&&a.visible){this.hoverIndex=i;break}}else if(a.itemSelected){this.hoverIndex=i;break}}},getValueKey:function(t){return"[object object]"!==Object.prototype.toString.call(t.value).toLowerCase()?t.value:Object(L.getValueByPath)(t.value,this.valueKey)}},created:function(){var t=this;this.cachedPlaceHolder=this.currentPlaceholder=this.placeholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=T()(this.debounce,function(){t.onInputChange()}),this.debouncedQueryChange=T()(this.debounce,function(e){t.handleQueryChange(e.target.value)}),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var t=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(M.addResizeListener)(this.$el,this.handleResize);var e=this.$refs.reference;if(e&&e.$el){var i=e.$el.querySelector("input");this.initialInputHeight=i.getBoundingClientRect().height||{medium:36,small:32,mini:28}[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick(function(){e&&e.$el&&(t.inputWidth=e.$el.getBoundingClientRect().width)}),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(M.removeResizeListener)(this.$el,this.handleResize)}},P=Object(m.a)(O,a,[],!1,null,null,null);P.options.__file="packages/select/src/select.vue";var N=P.exports;N.install=function(t){t.component(N.name,N)};e.default=N}])},e6n0:function(t,e,i){var a=i("evD5").f,n=i("D2L2"),r=i("dSzd")("toStringTag");t.exports=function(t,e,i){t&&!n(t=i?t:t.prototype,r)&&a(t,r,{configurable:!0,value:e})}},"e8/X":function(t,e,i){var a=i("UAiw"),n=a.addEventListener,r=a.removeEventListener,o=a.normalizeEvent,s=i("/gxq"),l=i("qjvV"),h=i("YNzw"),u=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],c=["touchstart","touchend","touchmove"],d={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},f=s.map(u,function(t){var e=t.replace("mouse","pointer");return d[e]?e:t});function p(t){return"mousewheel"===t&&h.browser.firefox?"DOMMouseScroll":t}function m(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}var v={mousemove:function(t){t=o(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=o(this.dom,t)).toElement||t.relatedTarget;if(e!==this.dom)for(;e&&9!==e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=o(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,this.handler.processGesture(t,"start"),v.mousemove.call(this,t),v.mousedown.call(this,t),m(this)},touchmove:function(t){(t=o(this.dom,t)).zrByTouch=!0,this.handler.processGesture(t,"change"),v.mousemove.call(this,t),m(this)},touchend:function(t){(t=o(this.dom,t)).zrByTouch=!0,this.handler.processGesture(t,"end"),v.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&v.click.call(this,t),m(this)},pointerdown:function(t){v.mousedown.call(this,t)},pointermove:function(t){g(t)||v.mousemove.call(this,t)},pointerup:function(t){v.mouseup.call(this,t)},pointerout:function(t){g(t)||v.mouseout.call(this,t)}};function g(t){var e=t.pointerType;return"pen"===e||"touch"===e}function C(t){var e;function i(e,i){s.each(e,function(e){n(t,p(e),i._handlers[e])},i)}l.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._handlers={},e=this,s.each(c,function(t){e._handlers[t]=s.bind(v[t],e)}),s.each(f,function(t){e._handlers[t]=s.bind(v[t],e)}),s.each(u,function(t){e._handlers[t]=function(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}(v[t],e)}),h.pointerEventsSupported?i(f,this):(h.touchEventsSupported&&i(c,this),i(u,this))}s.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){v[t]=function(e){e=o(this.dom,e),this.trigger(t,e)}});var D=C.prototype;D.dispose=function(){for(var t=u.concat(c),e=0;e<t.length;e++){var i=t[e];r(this.dom,p(i),this._handlers[i])}},D.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},s.mixin(C,l);var y=C;t.exports=y},e8AB:function(t,e,i){var a=i("FeBl"),n=i("7KvD"),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:a.version,mode:i("O4g8")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},e95b:function(t,e,i){var a=i("RYbJ")([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),n={getItemStyle:function(t,e){var i=a(this,t,e),n=this.getBorderLineDash();return n&&(i.lineDash=n),i},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}};t.exports=n},eH0a:function(t,e,i){var a=i("/gxq"),n=i("s/lY"),r=i("Y5nL"),o=i("1Xuh"),s=o.getLayoutParams,l=o.mergeLayoutParam,h=i("iGPw"),u=["value","category","time","log"];t.exports=function(t,e,i,o){a.each(u,function(r){e.extend({type:t+"Axis."+r,mergeDefaultAndTheme:function(e,n){var o=this.layoutMode,h=o?s(e):{},u=n.getTheme();a.merge(e,u.get(r+"Axis")),a.merge(e,this.getDefaultOption()),e.type=i(t,e),o&&l(e,h,o)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=h.createByAxisModel(this))},getCategories:function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:a.mergeAll([{},n[r+"Axis"],o],!0)})}),r.registerSubTypeDefaulter(t+"Axis",a.curry(i,t))}},eHPu:function(t,e,i){i("4Nz2").__DEV__;var a=i("Icdr"),n=i("/gxq"),r=i("0sHC"),o=i("dzlV").setLabel,s=i("Pdtn"),l=i("Pobh"),h=i("GxVO"),u=i("QD+P").throttle,c=i("DDYI").createClipPath,d=i("LJck"),f=["itemStyle","barBorderWidth"],p=[0,0];n.extend(s.prototype,l);var m=a.extendChartView({type:"bar",render:function(t,e,i){this._updateDrawMode(t);var a=t.get("coordinateSystem");return"cartesian2d"!==a&&"polar"!==a||(this._isLargeDraw?this._renderLarge(t,e,i):this._renderNormal(t,e,i)),this.group},incrementalPrepareRender:function(t,e,i){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,i,a){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t,e,i){var a,n=this.group,o=t.getData(),s=this._data,l=t.coordinateSystem,h=l.getBaseAxis();"cartesian2d"===l.type?a=h.isHorizontal():"polar"===l.type&&(a="angle"===h.dim);var u=t.isAnimationEnabled()?t:null,c=t.get("clip",!0),d=function(t,e){var i=t.getArea&&t.getArea();if("cartesian2d"===t.type){var a=t.getBaseAxis();if("category"!==a.type||!a.onBand){var n=e.getLayout("bandWidth");a.isHorizontal()?(i.x-=n,i.width+=2*n):(i.y-=n,i.height+=2*n)}}return i}(l,o);n.removeClipPath();var f=t.get("roundCap",!0);o.diff(s).add(function(e){if(o.hasValue(e)){var i=o.getItemModel(e),r=S[l.type](o,e,i);if(c)if(C[l.type](d,r))return void n.remove(s);var s=D[l.type](e,r,a,u,!1,f);o.setItemGraphicEl(e,s),n.add(s),I(s,o,e,i,r,t,a,"polar"===l.type)}}).update(function(e,i){var h=s.getItemGraphicEl(i);if(o.hasValue(e)){var p=o.getItemModel(e),m=S[l.type](o,e,p);if(c)if(C[l.type](d,m))return void n.remove(h);h?r.updateProps(h,{shape:m},u,e):h=D[l.type](e,m,a,u,!0,f),o.setItemGraphicEl(e,h),n.add(h),I(h,o,e,p,m,t,a,"polar"===l.type)}else n.remove(h)}).remove(function(t){var e=s.getItemGraphicEl(t);"cartesian2d"===l.type?e&&y(t,u,e):e&&x(t,u,e)}).execute(),this._data=o},_renderLarge:function(t,e,i){this._clear(),b(t,this.group);var a=t.get("clip",!0)?c(t.coordinateSystem,!1,t):null;a?this.group.setClipPath(a):this.group.removeClipPath()},_incrementalRenderLarge:function(t,e){b(e,this.group,!0)},dispose:n.noop,remove:function(t){this._clear(t)},_clear:function(t){var e=this.group,i=this._data;t&&t.get("animation")&&i&&!this._isLargeDraw?i.eachItemGraphicEl(function(e){"sector"===e.type?x(e.dataIndex,t,e):y(e.dataIndex,t,e)}):e.removeAll(),this._data=null}}),v=Math.max,g=Math.min,C={cartesian2d:function(t,e){var i=e.width<0?-1:1,a=e.height<0?-1:1;i<0&&(e.x+=e.width,e.width=-e.width),a<0&&(e.y+=e.height,e.height=-e.height);var n=v(e.x,t.x),r=g(e.x+e.width,t.x+t.width),o=v(e.y,t.y),s=g(e.y+e.height,t.y+t.height);e.x=n,e.y=o,e.width=r-n,e.height=s-o;var l=e.width<0||e.height<0;return i<0&&(e.x+=e.width,e.width=-e.width),a<0&&(e.y+=e.height,e.height=-e.height),l},polar:function(t){return!1}},D={cartesian2d:function(t,e,i,a,o){var s=new r.Rect({shape:n.extend({},e)});if(a){var l=s.shape,h=i?"height":"width",u={};l[h]=0,u[h]=e[h],r[o?"updateProps":"initProps"](s,{shape:u},a,t)}return s},polar:function(t,e,i,a,o,s){var l=e.startAngle<e.endAngle,h=new(!i&&s?d:r.Sector)({shape:n.defaults({clockwise:l},e)});if(a){var u=h.shape,c=i?"r":"endAngle",f={};u[c]=i?0:e.startAngle,f[c]=e[c],r[o?"updateProps":"initProps"](h,{shape:f},a,t)}return h}};function y(t,e,i){i.style.text=null,r.updateProps(i,{shape:{width:0}},e,t,function(){i.parent&&i.parent.remove(i)})}function x(t,e,i){i.style.text=null,r.updateProps(i,{shape:{r:i.shape.r0}},e,t,function(){i.parent&&i.parent.remove(i)})}var S={cartesian2d:function(t,e,i){var a=t.getItemLayout(e),n=function(t,e){var i=t.get(f)||0;return Math.min(i,Math.abs(e.width),Math.abs(e.height))}(i,a),r=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+r*n/2,y:a.y+o*n/2,width:a.width-r*n,height:a.height-o*n}},polar:function(t,e,i){var a=t.getItemLayout(e);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle}}};function I(t,e,i,a,s,l,h,u){var c=e.getItemVisual(i,"color"),d=e.getItemVisual(i,"opacity"),f=a.getModel("itemStyle"),p=a.getModel("emphasis.itemStyle").getBarItemStyle();u||t.setShape("r",f.get("barBorderRadius")||0),t.useStyle(n.defaults({fill:c,opacity:d},f.getBarItemStyle()));var m=a.getShallow("cursor");m&&t.attr("cursor",m);var v=h?s.height>0?"bottom":"top":s.width>0?"left":"right";u||o(t.style,p,a,c,l,i,v),r.setHoverStyle(t,p)}var T=h.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var i=e.points,a=this.__startPoint,n=this.__baseDimIdx,r=0;r<i.length;r+=2)a[n]=i[r+n],t.moveTo(a[0],a[1]),t.lineTo(i[r],i[r+1])}});function b(t,e,i){var a=t.getData(),n=[],r=a.getLayout("valueAxisHorizontal")?1:0;n[1-r]=a.getLayout("valueAxisStart");var o=new T({shape:{points:a.getLayout("largePoints")},incremental:!!i,__startPoint:n,__baseDimIdx:r,__largeDataIndices:a.getLayout("largeDataIndices"),__barWidth:a.getLayout("barWidth")});e.add(o),function(t,e,i){var a=i.getVisual("borderColor")||i.getVisual("color"),n=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);t.useStyle(n),t.style.fill=null,t.style.stroke=a,t.style.lineWidth=i.getLayout("barWidth")}(o,t,a),o.seriesIndex=t.seriesIndex,t.get("silent")||(o.on("mousedown",w),o.on("mousemove",w))}var w=u(function(t){var e=function(t,e,i){var a=t.__baseDimIdx,n=1-a,r=t.shape.points,o=t.__largeDataIndices,s=Math.abs(t.__barWidth/2),l=t.__startPoint[n];p[0]=e,p[1]=i;for(var h=p[a],u=p[1-a],c=h-s,d=h+s,f=0,m=r.length/2;f<m;f++){var v=2*f,g=r[v+a],C=r[v+n];if(g>=c&&g<=d&&(l<=C?u>=l&&u<=C:u>=C&&u<=l))return o[f]}return-1}(this,t.offsetX,t.offsetY);this.dataIndex=e>=0?e:null},30,!1);t.exports=m},eNfa:function(t,e,i){"use strict";var a;!function(n){var r={},o=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,s="[^\\s]+",l=/\[([^]*?)\]/gm,h=function(){};function u(t,e){for(var i=[],a=0,n=t.length;a<n;a++)i.push(t[a].substr(0,e));return i}function c(t){return function(e,i,a){var n=a[t].indexOf(i.charAt(0).toUpperCase()+i.substr(1).toLowerCase());~n&&(e.month=n)}}function d(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],m=u(p,3),v=u(f,3);r.i18n={dayNamesShort:v,dayNames:f,monthNamesShort:m,monthNames:p,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10)*t%10]}};var g={D:function(t){return t.getDay()},DD:function(t){return d(t.getDay())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDate()},dd:function(t){return d(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return d(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return d(String(t.getFullYear()),4).substr(2)},yyyy:function(t){return d(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return d(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return d(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return d(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return d(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return d(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return d(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+d(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},C={d:["\\d\\d?",function(t,e){t.day=e}],Do:["\\d\\d?"+s,function(t,e){t.day=parseInt(e,10)}],M:["\\d\\d?",function(t,e){t.month=e-1}],yy:["\\d\\d?",function(t,e){var i=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(e>68?i-1:i)+e}],h:["\\d\\d?",function(t,e){t.hour=e}],m:["\\d\\d?",function(t,e){t.minute=e}],s:["\\d\\d?",function(t,e){t.second=e}],yyyy:["\\d{4}",function(t,e){t.year=e}],S:["\\d",function(t,e){t.millisecond=100*e}],SS:["\\d{2}",function(t,e){t.millisecond=10*e}],SSS:["\\d{3}",function(t,e){t.millisecond=e}],D:["\\d\\d?",h],ddd:[s,h],MMM:[s,c("monthNamesShort")],MMMM:[s,c("monthNames")],a:[s,function(t,e,i){var a=e.toLowerCase();a===i.amPm[0]?t.isPm=!1:a===i.amPm[1]&&(t.isPm=!0)}],ZZ:["[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z",function(t,e){var i,a=(e+"").match(/([+-]|\d\d)/gi);a&&(i=60*a[1]+parseInt(a[2],10),t.timezoneOffset="+"===a[0]?i:-i)}]};C.dd=C.d,C.dddd=C.ddd,C.DD=C.D,C.mm=C.m,C.hh=C.H=C.HH=C.h,C.MM=C.M,C.ss=C.s,C.A=C.a,r.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},r.format=function(t,e,i){var a=i||r.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");var n=[];return(e=(e=(e=r.masks[e]||e||r.masks.default).replace(l,function(t,e){return n.push(e),"@@@"})).replace(o,function(e){return e in g?g[e](t,a):e.slice(1,e.length-1)})).replace(/@@@/g,function(){return n.shift()})},r.parse=function(t,e,i){var a=i||r.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=r.masks[e]||e,t.length>1e3)return null;var n={},s=[],h=[];e=e.replace(l,function(t,e){return h.push(e),"@@@"});var u,c=(u=e,u.replace(/[|\\{()[^$+*?.-]/g,"\\$&")).replace(o,function(t){if(C[t]){var e=C[t];return s.push(e[1]),"("+e[0]+")"}return t});c=c.replace(/@@@/g,function(){return h.shift()});var d=t.match(new RegExp(c,"i"));if(!d)return null;for(var f=1;f<d.length;f++)s[f-1](n,d[f],a);var p,m=new Date;return!0===n.isPm&&null!=n.hour&&12!=+n.hour?n.hour=+n.hour+12:!1===n.isPm&&12==+n.hour&&(n.hour=0),null!=n.timezoneOffset?(n.minute=+(n.minute||0)-+n.timezoneOffset,p=new Date(Date.UTC(n.year||m.getFullYear(),n.month||0,n.day||1,n.hour||0,n.minute||0,n.second||0,n.millisecond||0))):p=new Date(n.year||m.getFullYear(),n.month||0,n.day||1,n.hour||0,n.minute||0,n.second||0,n.millisecond||0),p},void 0!==t&&t.exports?t.exports=r:void 0===(a=function(){return r}.call(e,i,e,t))||(t.exports=a)}()},eQYg:function(t,e,i){var a=i("Icdr"),n=i("/gZK"),r=i("vXqC").defaultEmphasis,o=a.extendSeriesModel({type:"series.funnel",init:function(t){o.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(t)},getInitialData:function(t,e){return n(this,["value"])},_defaultLabelLine:function(t){r(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},getDataParams:function(t){var e=this.getData(),i=o.superCall(this,"getDataParams",t),a=e.mapDimension("value"),n=e.getSum(a);return i.percent=n?+(e.get(a,t)/n*100).toFixed(2):0,i.$vars.push("percent"),i},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),s=o;t.exports=s},eZxa:function(t,e,i){var a=function(){};1===i("g+yZ").debugMode&&(a=console.error);var n=a;t.exports=n},eaw8:function(t,e,i){var a=i("kM2E");a(a.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},ecfp:function(t,e,i){var a=i("/gxq"),n=i("Y5nL"),r=i("eH0a"),o=i("2uoh"),s=n.extend({type:"cartesian2dAxis",axis:null,init:function(){s.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){s.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){s.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function l(t,e){return e.type||(e.data?"category":"value")}a.merge(s.prototype,o);var h={offset:0};r("x",s,l,h),r("y",s,l,h);var u=s;t.exports=u},em4M:function(t,e,i){var a=i("/gxq"),n=i("vXqC"),r=i("Y5nL"),o=a.each,s=a.clone,l=a.map,h=a.merge,u=/^(min|max)?(.+)$/;function c(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function d(t,e,i){var n={width:e,height:i,aspectratio:e/i},r=!0;return a.each(t,function(t,e){var i=e.match(u);if(i&&i[1]&&i[2]){var a=i[1],o=i[2].toLowerCase();(function(t,e,i){return"min"===i?t>=e:"max"===i?t<=e:t===e})(n[o],t,a)||(r=!1)}}),r}c.prototype={constructor:c,setOption:function(t,e){t&&a.each(n.normalizeToArray(t.series),function(t){t&&t.data&&a.isTypedArray(t.data)&&a.setAsPrimitive(t.data)}),t=s(t);var i,u,c=this._optionBackup,d=function(t,e,i){var n,r,s=[],l=[],h=t.timeline;t.baseOption&&(r=t.baseOption);(h||t.options)&&(r=r||{},s=(t.options||[]).slice());if(t.media){r=r||{};var u=t.media;o(u,function(t){t&&t.option&&(t.query?l.push(t):n||(n=t))})}r||(r=t);r.timeline||(r.timeline=h);return o([r].concat(s).concat(a.map(l,function(t){return t.option})),function(t){o(e,function(e){e(t,i)})}),{baseOption:r,timelineOptions:s,mediaDefault:n,mediaList:l}}.call(this,t,e,!c);this._newBaseOption=d.baseOption,c?(i=c.baseOption,u=d.baseOption,o(u=u||{},function(t,e){if(null!=t){var a=i[e];if(r.hasClass(e)){t=n.normalizeToArray(t),a=n.normalizeToArray(a);var o=n.mappingToExists(a,t);i[e]=l(o,function(t){return t.option&&t.exist?h(t.exist,t.option,!0):t.exist||t.option})}else i[e]=h(a,t,!0)}}),d.timelineOptions.length&&(c.timelineOptions=d.timelineOptions),d.mediaList.length&&(c.mediaList=d.mediaList),d.mediaDefault&&(c.mediaDefault=d.mediaDefault)):this._optionBackup=d},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=l(e.timelineOptions,s),this._mediaList=l(e.mediaList,s),this._mediaDefault=s(e.mediaDefault),this._currentMediaIndices=[],s(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;if(i.length){var a=t.getComponent("timeline");a&&(e=s(i[a.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e,i,a=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,o=this._mediaDefault,h=[],u=[];if(!r.length&&!o)return u;for(var c=0,f=r.length;c<f;c++)d(r[c].query,a,n)&&h.push(c);return!h.length&&o&&(h=[-1]),h.length&&(e=h,i=this._currentMediaIndices,e.join(",")!==i.join(","))&&(u=l(h,function(t){return s(-1===t?o.option:r[t].option)})),this._currentMediaIndices=h,u}};var f=c;t.exports=f},envY:function(t,e,i){var a=i("sJ4e").extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});t.exports=a},evD5:function(t,e,i){var a=i("77Pl"),n=i("SfB7"),r=i("MmMw"),o=Object.defineProperty;e.f=i("+E39")?Object.defineProperty:function(t,e,i){if(a(t),e=r(e,!0),a(i),n)try{return o(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},exGp:function(t,e,i){"use strict";e.__esModule=!0;var a,n=i("//Fk"),r=(a=n)&&a.__esModule?a:{default:a};e.default=function(t){return function(){var e=t.apply(this,arguments);return new r.default(function(t,i){return function a(n,o){try{var s=e[n](o),l=s.value}catch(t){return void i(t)}if(!s.done)return r.default.resolve(l).then(function(t){a("next",t)},function(t){a("throw",t)});t(l)}("next")})}}},fAbo:function(t,e,i){var a=["itemStyle","borderColor"],n=["itemStyle","borderColor0"],r=["itemStyle","color"],o=["itemStyle","color0"],s={seriesType:"candlestick",plan:i("CqCN")(),performRawSeries:!0,reset:function(t,e){var i=t.getData(),s=t.pipelineContext.large;if(i.setVisual({legendSymbol:"roundRect",colorP:l(1,t),colorN:l(-1,t),borderColorP:h(1,t),borderColorN:h(-1,t)}),!e.isSeriesFiltered(t))return!s&&{progress:function(t,e){var i;for(;null!=(i=t.next());){var a=e.getItemModel(i),n=e.getItemLayout(i).sign;e.setItemVisual(i,{color:l(n,a),borderColor:h(n,a)})}}};function l(t,e){return e.get(t>0?r:o)}function h(t,e){return e.get(t>0?a:n)}}};t.exports=s},fBQ2:function(t,e,i){"use strict";var a=i("evD5"),n=i("X8DO");t.exports=function(t,e,i){e in t?a.f(t,e,n(0,i)):t[e]=i}},"fEB+":function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=127)}({127:function(t,e,i){"use strict";i.r(e);var a=i(16),n=i(39),r=i.n(n),o=i(3),s=i(2),l={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};var h={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return l[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(t){var e=this.size,i=this.move,a=this.bar;return t("div",{class:["el-scrollbar__bar","is-"+a.key],on:{mousedown:this.clickTrackHandler}},[t("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:function(t){var e=t.move,i=t.size,a=t.bar,n={},r="translate"+a.axis+"("+e+"%)";return n[a.size]=i,n.transform=r,n.msTransform=r,n.webkitTransform=r,n}({size:e,move:i,bar:a})})])},methods:{clickThumbHandler:function(t){t.ctrlKey||2===t.button||(this.startDrag(t),this[this.bar.axis]=t.currentTarget[this.bar.offset]-(t[this.bar.client]-t.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(t){var e=100*(Math.abs(t.target.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-this.$refs.thumb[this.bar.offset]/2)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=e*this.wrap[this.bar.scrollSize]/100},startDrag:function(t){t.stopImmediatePropagation(),this.cursorDown=!0,Object(s.on)(document,"mousemove",this.mouseMoveDocumentHandler),Object(s.on)(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(t){if(!1!==this.cursorDown){var e=this[this.bar.axis];if(e){var i=100*(-1*(this.$el.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-(this.$refs.thumb[this.bar.offset]-e))/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=i*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(t){this.cursorDown=!1,this[this.bar.axis]=0,Object(s.off)(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(s.off)(document,"mouseup",this.mouseUpDocumentHandler)}},u={name:"ElScrollbar",components:{Bar:h},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(t){var e=r()(),i=this.wrapStyle;if(e){var a="-"+e+"px",n="margin-bottom: "+a+"; margin-right: "+a+";";Array.isArray(this.wrapStyle)?(i=Object(o.toObject)(this.wrapStyle)).marginRight=i.marginBottom=a:"string"==typeof this.wrapStyle?i+=n:i=n}var s=t(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),l=t("div",{ref:"wrap",style:i,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",e?"":"el-scrollbar__wrap--hidden-default"]},[[s]]);return t("div",{class:"el-scrollbar"},this.native?[t("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:i},[[s]])]:[l,t(h,{attrs:{move:this.moveX,size:this.sizeWidth}}),t(h,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})])},methods:{handleScroll:function(){var t=this.wrap;this.moveY=100*t.scrollTop/t.clientHeight,this.moveX=100*t.scrollLeft/t.clientWidth},update:function(){var t,e,i=this.wrap;i&&(t=100*i.clientHeight/i.scrollHeight,e=100*i.clientWidth/i.scrollWidth,this.sizeHeight=t<100?t+"%":"",this.sizeWidth=e<100?e+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(a.addResizeListener)(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(a.removeResizeListener)(this.$refs.resize,this.update)},install:function(t){t.component(u.name,u)}};e.default=u},16:function(t,e){t.exports=i("02w1")},2:function(t,e){t.exports=i("2kvA")},3:function(t,e){t.exports=i("ylDJ")},39:function(t,e){t.exports=i("6Twh")}})},fJUb:function(t,e,i){var a=i("77Pl"),n=i("EqjI"),r=i("qARP");t.exports=function(t,e){if(a(t),n(e)&&e.constructor===t)return e;var i=r.f(t);return(0,i.resolve)(e),i.promise}},fKx3:function(t,e,i){"use strict";e.__esModule=!0;var a,n=i("/5sW"),r=(a=n)&&a.__esModule?a:{default:a},o=i("7J9s");var s=r.default.prototype.$isServer?function(){}:i("NMof"),l=function(t){return t.stopPropagation()};e.default={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(t){this.showPopper=t,this.$emit("input",t)}},showPopper:function(t){this.disabled||(t?this.updatePopper():this.destroyPopper(),this.$emit("input",t))}},methods:{createPopper:function(){var t=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var e=this.popperOptions,i=this.popperElm=this.popperElm||this.popper||this.$refs.popper,a=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!a&&this.$slots.reference&&this.$slots.reference[0]&&(a=this.referenceElm=this.$slots.reference[0].elm),i&&a&&(this.visibleArrow&&this.appendArrow(i),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),e.placement=this.currentPlacement,e.offset=this.offset,e.arrowOffset=this.arrowOffset,this.popperJS=new s(a,i,e),this.popperJS.onCreate(function(e){t.$emit("created",t),t.resetTransformOrigin(),t.$nextTick(t.updatePopper)}),"function"==typeof e.onUpdate&&this.popperJS.onUpdate(e.onUpdate),this.popperJS._popper.style.zIndex=o.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",l))}},updatePopper:function(){var t=this.popperJS;t?(t.update(),t._popper&&(t._popper.style.zIndex=o.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(t){!this.popperJS||this.showPopper&&!t||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var t=this.popperJS._popper.getAttribute("x-placement").split("-")[0],e={top:"bottom",bottom:"top",left:"right",right:"left"}[t];this.popperJS._popper.style.transformOrigin="string"==typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(t)>-1?"center "+e:e+" center"}},appendArrow:function(t){var e=void 0;if(!this.appended){for(var i in this.appended=!0,t.attributes)if(/^_v-/.test(t.attributes[i].name)){e=t.attributes[i].name;break}var a=document.createElement("div");e&&a.setAttribute(e,""),a.setAttribute("x-arrow",""),a.className="popper__arrow",t.appendChild(a)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",l),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},fPll:function(t,e,i){"use strict";e.__esModule=!0,e.default={methods:{dispatch:function(t,e,i){for(var a=this.$parent||this.$root,n=a.$options.componentName;a&&(!n||n!==t);)(a=a.$parent)&&(n=a.$options.componentName);a&&a.$emit.apply(a,[e].concat(i))},broadcast:function(t,e,i){(function t(e,i,a){this.$children.forEach(function(n){n.$options.componentName===e?n.$emit.apply(n,[i].concat(a)):t.apply(n,[e,i].concat([a]))})}).call(this,t,e,i)}}}},fUqW:function(t,e,i){"use strict";e.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isVNode=function(t){return null!==t&&"object"===(void 0===t?"undefined":a(t))&&(0,n.hasOwn)(t,"componentOptions")};var n=i("ylDJ")},fWfb:function(t,e,i){"use strict";var a=i("7KvD"),n=i("D2L2"),r=i("+E39"),o=i("kM2E"),s=i("880/"),l=i("06OY").KEY,h=i("S82l"),u=i("e8AB"),c=i("e6n0"),d=i("3Eo+"),f=i("dSzd"),p=i("Kh4W"),m=i("crlp"),v=i("Xc4G"),g=i("7UMu"),C=i("77Pl"),D=i("EqjI"),y=i("sB3e"),x=i("TcQ7"),S=i("MmMw"),I=i("X8DO"),T=i("Yobk"),b=i("Rrel"),w=i("LKZe"),M=i("1kS7"),E=i("evD5"),A=i("lktj"),_=w.f,L=E.f,F=b.f,O=a.Symbol,P=a.JSON,N=P&&P.stringify,R=f("_hidden"),B=f("toPrimitive"),k={}.propertyIsEnumerable,V=u("symbol-registry"),H=u("symbols"),G=u("op-symbols"),Y=Object.prototype,W="function"==typeof O&&!!M.f,X=a.QObject,U=!X||!X.prototype||!X.prototype.findChild,z=r&&h(function(){return 7!=T(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,i){var a=_(Y,e);a&&delete Y[e],L(t,e,i),a&&t!==Y&&L(Y,e,a)}:L,K=function(t){var e=H[t]=T(O.prototype);return e._k=t,e},$=W&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},j=function(t,e,i){return t===Y&&j(G,e,i),C(t),e=S(e,!0),C(i),n(H,e)?(i.enumerable?(n(t,R)&&t[R][e]&&(t[R][e]=!1),i=T(i,{enumerable:I(0,!1)})):(n(t,R)||L(t,R,I(1,{})),t[R][e]=!0),z(t,e,i)):L(t,e,i)},q=function(t,e){C(t);for(var i,a=v(e=x(e)),n=0,r=a.length;r>n;)j(t,i=a[n++],e[i]);return t},J=function(t){var e=k.call(this,t=S(t,!0));return!(this===Y&&n(H,t)&&!n(G,t))&&(!(e||!n(this,t)||!n(H,t)||n(this,R)&&this[R][t])||e)},Z=function(t,e){if(t=x(t),e=S(e,!0),t!==Y||!n(H,e)||n(G,e)){var i=_(t,e);return!i||!n(H,e)||n(t,R)&&t[R][e]||(i.enumerable=!0),i}},Q=function(t){for(var e,i=F(x(t)),a=[],r=0;i.length>r;)n(H,e=i[r++])||e==R||e==l||a.push(e);return a},tt=function(t){for(var e,i=t===Y,a=F(i?G:x(t)),r=[],o=0;a.length>o;)!n(H,e=a[o++])||i&&!n(Y,e)||r.push(H[e]);return r};W||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(i){this===Y&&e.call(G,i),n(this,R)&&n(this[R],t)&&(this[R][t]=!1),z(this,t,I(1,i))};return r&&U&&z(Y,t,{configurable:!0,set:e}),K(t)}).prototype,"toString",function(){return this._k}),w.f=Z,E.f=j,i("n0T6").f=b.f=Q,i("NpIQ").f=J,M.f=tt,r&&!i("O4g8")&&s(Y,"propertyIsEnumerable",J,!0),p.f=function(t){return K(f(t))}),o(o.G+o.W+o.F*!W,{Symbol:O});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;et.length>it;)f(et[it++]);for(var at=A(f.store),nt=0;at.length>nt;)m(at[nt++]);o(o.S+o.F*!W,"Symbol",{for:function(t){return n(V,t+="")?V[t]:V[t]=O(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var e in V)if(V[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),o(o.S+o.F*!W,"Object",{create:function(t,e){return void 0===e?T(t):q(T(t),e)},defineProperty:j,defineProperties:q,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:tt});var rt=h(function(){M.f(1)});o(o.S+o.F*rt,"Object",{getOwnPropertySymbols:function(t){return M.f(y(t))}}),P&&o(o.S+o.F*(!W||h(function(){var t=O();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,i,a=[t],n=1;arguments.length>n;)a.push(arguments[n++]);if(i=e=a[1],(D(e)||void 0!==t)&&!$(t))return g(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!$(e))return e}),a[1]=e,N.apply(P,a)}}),O.prototype[B]||i("hJx8")(O.prototype,B,O.prototype.valueOf),c(O,"Symbol"),c(Math,"Math",!0),c(a.JSON,"JSON",!0)},fYRm:function(t,e,i){var a=i("/gxq"),n=a.createHashMap,r=a.each;function o(t){r(t,function(e,i){var a=[],n=[NaN,NaN],r=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,l=o.map(r,function(r,l,h){var u,c,d=o.get(e.stackedDimension,h);if(isNaN(d))return n;s?c=o.getRawIndex(h):u=o.get(e.stackedByDimension,h);for(var f=NaN,p=i-1;p>=0;p--){var m=t[p];if(s||(c=m.data.rawIndexOf(m.stackedByDimension,u)),c>=0){var v=m.data.getByRawIndex(m.stackResultDimension,c);if(d>=0&&v>0||d<=0&&v<0){d+=v,f=v;break}}}return a[0]=d,a[1]=f,a});o.hostModel.setData(l),e.data=l})}t.exports=function(t){var e=n();t.eachSeries(function(t){var i=t.get("stack");if(i){var a=e.get(i)||e.set(i,[]),n=t.getData(),r={stackResultDimension:n.getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:t};if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;a.length&&n.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(r)}}),e.each(o)}},fZjL:function(t,e,i){t.exports={default:i("jFbC"),__esModule:!0}},fgF4:function(t,e,i){var a=i("RYbJ")([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),n={getAreaStyle:function(t,e){return a(this,t,e)}};t.exports=n},fkB2:function(t,e,i){var a=i("UuGF"),n=Math.max,r=Math.min;t.exports=function(t,e){return(t=a(t))<0?n(t+e,0):r(t,e)}},fm2I:function(t,e,i){var a=i("/gxq"),n=i("8b51"),r=i("wWR3"),o=r.parsePercent,s=r.MAX_SAFE_INTEGER,l=i("1Xuh"),h=i("gOx9"),u=Math.max,c=Math.min,d=a.retrieve,f=a.each,p=["itemStyle","borderWidth"],m=["itemStyle","gapWidth"],v=["upperLabel","show"],g=["upperLabel","height"],C={seriesType:"treemap",reset:function(t,e,i,r){var v=i.getWidth(),g=i.getHeight(),C=t.option,S=l.getLayoutRect(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),I=C.size||[],T=o(d(S.width,I[0]),v),b=o(d(S.height,I[1]),g),w=r&&r.type,M=h.retrieveTargetInfo(r,["treemapZoomToNode","treemapRootToNode"],t),E="treemapRender"===w||"treemapMove"===w?r.rootRect:null,A=t.getViewRoot(),_=h.getPathToRoot(A);if("treemapMove"!==w){var L="treemapZoomToNode"===w?function(t,e,i,a,n){var r,o=(e||{}).node,l=[a,n];if(!o||o===i)return l;var h=a*n,u=h*t.option.zoomToNodeRatio;for(;r=o.parentNode;){for(var c=0,d=r.children,f=0,m=d.length;f<m;f++)c+=d[f].getValue();var v=o.getValue();if(0===v)return l;u*=c/v;var g=r.getModel(),C=g.get(p),D=Math.max(C,x(g));(u+=4*C*C+(3*C+D)*Math.pow(u,.5))>s&&(u=s),o=r}u<h&&(u=h);var y=Math.pow(u/h,.5);return[a*y,n*y]}(t,M,A,T,b):E?[E.width,E.height]:[T,b],F=C.sort;F&&"asc"!==F&&"desc"!==F&&(F="desc");var O={squareRatio:C.squareRatio,sort:F,leafDepth:C.leafDepth};A.hostTree.clearLayouts();var P={x:0,y:0,width:L[0],height:L[1],area:L[0]*L[1]};A.setLayout(P),function t(e,i,n,r){var o;var s;if(e.isRemoved())return;var l=e.getLayout();o=l.width;s=l.height;var h=e.getModel();var d=h.get(p);var v=h.get(m)/2;var g=x(h);var C=Math.max(d,g);var S=d-v;var I=C-v;var h=e.getModel();e.setLayout({borderWidth:d,upperHeight:C,upperLabelHeight:g},!0);o=u(o-2*S,0);s=u(s-S-I,0);var T=o*s;var b=function(t,e,i,n,r,o){var s=t.children||[],l=n.sort;"asc"!==l&&"desc"!==l&&(l=null);var h=null!=n.leafDepth&&n.leafDepth<=o;if(r&&!h)return t.viewChildren=[];!function(t,e){e&&t.sort(function(t,i){var a="asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===a?"asc"===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:a})}(s=a.filter(s,function(t){return!t.isRemoved()}),l);var u=function(t,e,i){for(var a=0,n=0,r=e.length;n<r;n++)a+=e[n].getValue();var o=t.get("visualDimension");if(e&&e.length)if("value"===o&&i)s=[e[e.length-1].getValue(),e[0].getValue()],"asc"===i&&s.reverse();else{var s=[1/0,-1/0];f(e,function(t){var e=t.getValue(o);e<s[0]&&(s[0]=e),e>s[1]&&(s[1]=e)})}else s=[NaN,NaN];return{sum:a,dataExtent:s}}(e,s,l);if(0===u.sum)return t.viewChildren=[];if(u.sum=function(t,e,i,a,n){if(!a)return i;for(var r=t.get("visibleMin"),o=n.length,s=o,l=o-1;l>=0;l--){var h=n["asc"===a?o-l-1:l].getValue();h/i*e<r&&(s=l,i-=h)}return"asc"===a?n.splice(0,o-s):n.splice(s,o-s),i}(e,i,u.sum,l,s),0===u.sum)return t.viewChildren=[];for(var c=0,d=s.length;c<d;c++){var p=s[c].getValue()/u.sum*i;s[c].setLayout({area:p})}h&&(s.length&&t.setLayout({isLeafRoot:!0},!0),s.length=0);return t.viewChildren=s,t.setLayout({dataExtent:u.dataExtent},!0),s}(e,h,T,i,n,r);if(!b.length)return;var w={x:S,y:I,width:o,height:s};var M=c(o,s);var E=1/0;var A=[];A.area=0;for(var _=0,L=b.length;_<L;){var F=b[_];A.push(F),A.area+=F.getLayout().area;var O=D(A,M,i.squareRatio);O<=E?(_++,E=O):(A.area-=A.pop().getLayout().area,y(A,M,w,v,!1),M=c(w.width,w.height),A.length=A.area=0,E=1/0)}A.length&&y(A,M,w,v,!0);if(!n){var P=h.get("childrenVisibleMin");null!=P&&T<P&&(n=!0)}for(var _=0,L=b.length;_<L;_++)t(b[_],i,n,r+1)}(A,O,!1,0);P=A.getLayout();f(_,function(t,e){var i=(_[e+1]||A).getValue();t.setLayout(a.extend({dataExtent:[i,i],borderWidth:0,upperHeight:0},P))})}var N=t.getData().tree.root;N.setLayout(function(t,e,i){if(e)return{x:e.x,y:e.y};var a={x:0,y:0};if(!i)return a;var n=i.node,r=n.getLayout();if(!r)return a;var o=[r.width/2,r.height/2],s=n;for(;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:t.width/2-o[0],y:t.height/2-o[1]}}(S,E,M),!0),t.setLayoutInfo(S),function t(e,i,a,r,o){var s=e.getLayout();var l=a[o];var h=l&&l===e;if(l&&!h||o===a.length&&e!==r)return;e.setLayout({isInView:!0,invisible:!h&&!i.intersect(s),isAboveViewRoot:h},!0);var u=new n(i.x-s.x,i.y-s.y,i.width,i.height);f(e.viewChildren||[],function(e){t(e,u,a,r,o+1)})}(N,new n(-S.x,-S.y,v,g),_,A,0)}};function D(t,e,i){for(var a,n=0,r=1/0,o=0,s=t.length;o<s;o++)(a=t[o].getLayout().area)&&(a<r&&(r=a),a>n&&(n=a));var l=t.area*t.area,h=e*e*i;return l?u(h*n/l,l/(h*r)):1/0}function y(t,e,i,a,n){var r=e===i.width?0:1,o=1-r,s=["x","y"],l=["width","height"],h=i[s[r]],d=e?t.area/e:0;(n||d>i[l[o]])&&(d=i[l[o]]);for(var f=0,p=t.length;f<p;f++){var m=t[f],v={},g=d?m.getLayout().area/d:0,C=v[l[o]]=u(d-2*a,0),D=i[s[r]]+i[l[r]]-h,y=f===p-1||D<g?D:g,x=v[l[r]]=u(y-2*a,0);v[s[o]]=i[s[o]]+c(a,C/2),v[s[r]]=h+c(a,x/2),h+=y,m.setLayout(v,!0)}i[s[o]]+=d,i[l[o]]-=d}function x(t){return t.get(v)?t.get(g):0}t.exports=C},fuGk:function(t,e,i){"use strict";var a=i("cGG2");function n(){this.handlers=[]}n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){a.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=n},fxRn:function(t,e,i){i("+tPU"),i("zQR9"),t.exports=i("g8Ux")},"fzS+":function(t,e,i){var a=i("/gxq");e.layout=function(t,e){e=e||{};var i=t.coordinateSystem,n=t.axis,r={},o=n.position,s=n.orient,l=i.getRect(),h=[l.x,l.x+l.width,l.y,l.y+l.height],u={horizontal:{top:h[2],bottom:h[3]},vertical:{left:h[0],right:h[1]}};r.position=["vertical"===s?u.vertical[o]:h[0],"horizontal"===s?u.horizontal[o]:h[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[s],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],t.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),a.retrieve(e.labelInside,t.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);var c=e.rotate;return null==c&&(c=t.get("axisLabel.rotate")),r.labelRotation="top"===o?-c:c,r.z2=1,r}},"g+yZ":function(t,e){var i=1;"undefined"!=typeof window&&(i=Math.max(window.devicePixelRatio||1,1));var a=i;e.debugMode=0,e.devicePixelRatio=a},"g8A/":function(t,e,i){var a=i("/gxq");t.exports=function(t){t&&a.isArray(t.series)&&a.each(t.series,function(t){a.isObject(t)&&"k"===t.type&&(t.type="candlestick")})}},g8Ux:function(t,e,i){var a=i("77Pl"),n=i("3fs2");t.exports=i("FeBl").getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}},gLqW:function(t,e,i){var a=i("/gxq"),n=i("EJsE"),r=i("+jMe"),o=i("Pdtn"),s=i("HHfb"),l=s.encodeHTML,h=s.addCommas,u=i("gOx9").wrapTreePathInfo,c=n.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var i={name:t.name,children:t.data};!function t(e){var i=0;a.each(e.children,function(e){t(e);var n=e.value;a.isArray(n)&&(n=n[0]),i+=n});var n=e.value;a.isArray(n)&&(n=n[0]);(null==n||isNaN(n))&&(n=i);n<0&&(n=0);a.isArray(e.value)?e.value[0]=n:e.value=n}(i);var n=t.levels||[];n=t.levels=function(t,e){var i,n=e.get("color");if(!n)return;if(t=t||[],a.each(t,function(t){var e=new o(t),a=e.get("color");(e.get("itemStyle.color")||a&&"none"!==a)&&(i=!0)}),!i){var r=t[0]||(t[0]={});r.color=n.slice()}return t}(n,e);var s={};return s.levels=n,r.createTree(i,this,s).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=a.isArray(i)?h(i[0]):h(i),r=e.getName(t);return l(r+": "+n)},getDataParams:function(t){var e=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=u(i,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},a.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=a.createHashMap(),this._idIndexMapCount=0);var i=e.get(t);return null==i&&e.set(t,i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});t.exports=c},gOx9:function(t,e,i){var a=i("/gxq");function n(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}e.retrieveTargetInfo=function(t,e,i){if(t&&a.indexOf(e,t.type)>=0){var n=i.getData().tree.root,r=t.targetNode;if("string"==typeof r&&(r=n.getNodeById(r)),r&&n.contains(r))return{node:r};var o=t.targetNodeId;if(null!=o&&(r=n.getNodeById(o)))return{node:r}}},e.getPathToRoot=n,e.aboveViewRoot=function(t,e){var i=n(t);return a.indexOf(i,e)>=0},e.wrapTreePathInfo=function(t,e){for(var i=[];t;){var a=t.dataIndex;i.push({name:t.name,dataIndex:a,value:e.getRawValue(a)}),t=t.parentNode}return i.reverse(),i}},gV7x:function(t,e,i){var a=i("/gxq"),n=(a.assert,a.isArray);i("4Nz2").__DEV__;function r(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}var o=r.prototype;o.perform=function(t){var e,i=this._upstream,a=t&&t.skip;if(this._dirty&&i){var r=this.context;r.data=r.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!a&&(e=this._plan(this.context));var o,s=d(this._modBy),h=this._modDataCount||0,u=d(t&&t.modBy),c=t&&t.modDataCount||0;function d(t){return!(t>=1)&&(t=1),t}s===u&&h===c||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,o=function(t,e){var i,a;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((i=t._reset(t.context))&&i.progress&&(a=i.forceFirstProgress,i=i.progress),n(i)&&!i.length&&(i=null));t._progress=i,t._modBy=t._modDataCount=null;var r=t._downstream;return r&&r.dirty(),a}(this,a)),this._modBy=u,this._modDataCount=c;var f=t&&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,m=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!a&&(o||p<m)){var v=this._progress;if(n(v))for(var g=0;g<v.length;g++)l(this,v[g],p,m,u,c);else l(this,v,p,m,u,c)}this._dueIndex=m;var C=null!=this._settedOutputEnd?this._settedOutputEnd:m;this._outputDueEnd=C}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var s=function(){var t,e,i,a,n,r={reset:function(l,h,u,c){e=l,t=h,i=u,a=c,n=Math.ceil(a/i),r.next=i>1&&a>0?s:o}};return r;function o(){return e<t?e++:null}function s(){var r=e%n*i+Math.ceil(e/n),o=e>=t?null:r<a?r:e;return e++,o}}();function l(t,e,i,a,n,r){s.reset(i,a,n,r),t._callingProgress=e,t._callingProgress({start:i,end:a,count:a-i,next:s.next},t.context)}o.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},o.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},o.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},o.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},o.getUpstream=function(){return this._upstream},o.getDownstream=function(){return this._downstream},o.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e.createTask=function(t){return new r(t)}},gZam:function(t,e,i){var a=i("/gxq"),n=i("Gw4f"),r=i("UAiw"),o=i("zO13"),s=i("0sHC"),l=i("wWR3"),h=i("og9+"),u=i("E8YU"),c=i("vXqC"),d=l.linearMap,f=a.each,p=Math.min,m=Math.max,v=12,g=6,C=o.extend({type:"visualMap.continuous",init:function(){C.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,i,a){a&&"selectDataRange"===a.type&&a.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var i=t.get("text");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,i){if(e){var a=e[1-i];a=null!=a?a+"":"";var n=this.visualMapModel,r=n.get("textGap"),o=n.itemSize,l=this._shapes.barGroup,h=this._applyTransform([o[0]/2,0===i?-r:o[1]+r],l),u=this._applyTransform(0===i?"bottom":"top",l),c=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new s.Text({style:{x:h[0],y:h[1],textVerticalAlign:"horizontal"===c?"middle":u,textAlign:"horizontal"===c?u:"center",text:a,textFont:d.getFont(),textFill:d.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,i=this._shapes,n=e.itemSize,r=this._orient,o=this._useHandle,s=u.getItemAlign(e,this.api,n),l=i.barGroup=this._createBarGroup(s);l.add(i.outOfRange=D()),l.add(i.inRange=D(null,o?x(this._orient):null,a.bind(this._dragHandle,this,"all",!1),a.bind(this._dragHandle,this,"all",!0)));var h=e.textStyleModel.getTextRect("国"),c=m(h.width,h.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(l,0,n,c,r,s),this._createHandle(l,1,n,c,r,s)),this._createIndicator(l,n,c,r),t.add(l)},_createHandle:function(t,e,i,n,o){var l=a.bind(this._dragHandle,this,e,!1),h=a.bind(this._dragHandle,this,e,!0),u=D(function(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}(e,n),x(this._orient),l,h);u.position[0]=i[0],t.add(u);var c=this.visualMapModel.textStyleModel,d=new s.Text({draggable:!0,drift:l,onmousemove:function(t){r.stop(t.event)},ondragend:h,style:{x:0,y:0,text:"",textFont:c.getFont(),textFill:c.getTextColor()}});this.group.add(d);var f=["horizontal"===o?n/2:1.5*n,"horizontal"===o?0===e?-1.5*n:1.5*n:0===e?-n/2:n/2],p=this._shapes;p.handleThumbs[e]=u,p.handleLabelPoints[e]=f,p.handleLabels[e]=d},_createIndicator:function(t,e,i,a){var n=D([[0,0]],"move");n.position[0]=e[0],n.attr({invisible:!0,silent:!0}),t.add(n);var r=this.visualMapModel.textStyleModel,o=new s.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:r.getFont(),textFill:r.getTextColor()}});this.group.add(o);var l=["horizontal"===a?i/2:g+3,0],h=this._shapes;h.indicator=n,h.indicatorLabel=o,h.indicatorLabelPoint=l},_dragHandle:function(t,e,i,a){if(this._useHandle){if(this._dragging=!e,!e){var n=this._applyTransform([i,a],this._shapes.barGroup,!0);this._updateInterval(t,n[1]),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():y(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[d(e[0],i,a,!0),d(e[1],i,a,!0)]},_updateInterval:function(t,e){e=e||0;var i=this.visualMapModel,a=this._handleEnds,n=[0,i.itemSize[1]];h(e,a,n,t,0);var r=i.getExtent();this._dataInterval=[d(a[0],n,r,!0),d(a[1],n,r,!0)]},_updateView:function(t){var e=this.visualMapModel,i=e.getExtent(),a=this._shapes,n=[0,e.itemSize[1]],r=t?n:this._handleEnds,o=this._createBarVisual(this._dataInterval,i,r,"inRange"),s=this._createBarVisual(i,i,n,"outOfRange");a.inRange.setStyle({fill:o.barColor,opacity:o.opacity}).setShape("points",o.barPoints),a.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(r,o)},_createBarVisual:function(t,e,i,a){var r={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,r),s=[this.getControllerVisual(t[0],"symbolSize",r),this.getControllerVisual(t[1],"symbolSize",r)],l=this._createBarPoints(i,s);return{barColor:new n(0,0,0,1,o),barPoints:l,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(t,e){var i=[],a=(t[1]-t[0])/100;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var n=1;n<100;n++){var r=t[0]+a*n;if(r>t[1])break;i.push({color:this.getControllerVisual(r,"color",e),offset:n/100})}return i.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),i},_createBarPoints:function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,i=this.visualMapModel.get("inverse");return new s.Group("horizontal"!==e||i?"horizontal"===e&&i?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||i?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,n=i.handleThumbs,r=i.handleLabels;f([0,1],function(o){var l=n[o];l.setStyle("fill",e.handlesColor[o]),l.position[1]=t[o];var h=s.applyTransform(i.handleLabelPoints[o],s.getTransform(l,this.group));r[o].setStyle({x:h[0],y:h[1],text:a.formatValueText(this._dataInterval[o]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===o?"bottom":"top":"left",i.barGroup)})},this)}},_showIndicator:function(t,e,i,a){var n=this.visualMapModel,r=n.getExtent(),o=n.itemSize,l=[0,o[1]],h=d(t,r,l,!0),u=this._shapes,c=u.indicator;if(c){c.position[1]=h,c.attr("invisible",!1),c.setShape("points",function(t,e,i,a){return t?[[0,-p(e,m(i,0))],[g,0],[0,p(e,m(a-i,0))]]:[[0,0],[5,-5],[5,5]]}(!!i,a,h,o[1]));var f=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0});c.setStyle("fill",f);var v=s.applyTransform(u.indicatorLabelPoint,s.getTransform(c,this.group)),C=u.indicatorLabel;C.attr("invisible",!1);var D=this._applyTransform("left",u.barGroup),y=this._orient;C.setStyle({text:(i||"")+n.formatValueText(e),textVerticalAlign:"horizontal"===y?D:"middle",textAlign:"horizontal"===y?"center":D,x:v[0],y:v[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,a=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);a[1]=p(m(0,a[1]),i[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var n=[0,a[1]],r=i.getExtent();t=p(m(n[0],t),n[1]);var o=function(t,e,i){var a=v/2,n=t.get("hoverLinkDataSize");n&&(a=d(n,e,i,!0)/2);return a}(i,r,n),s=[t-o,t+o],l=d(t,n,r,!0),h=[d(s[0],n,r,!0),d(s[1],n,r,!0)];s[0]<n[0]&&(h[0]=-1/0),s[1]>n[1]&&(h[1]=1/0),e&&(h[0]===-1/0?this._showIndicator(l,h[1],"< ",o):h[1]===1/0?this._showIndicator(l,h[0],"> ",o):this._showIndicator(l,l,"≈ ",o));var f=this._hoverLinkDataIndices,g=[];(e||y(i))&&(g=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var C=c.compressBatches(f,g);this._dispatchHighDown("downplay",u.makeHighDownBatch(C[0],i)),this._dispatchHighDown("highlight",u.makeHighDownBatch(C[1],i))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,i=this.visualMapModel;if(e&&null!=e.dataIndex){var a=this.ecModel.getSeriesByIndex(e.seriesIndex);if(i.isTargetSeries(a)){var n=a.getData(e.dataType),r=n.get(i.getDataDimension(n),e.dataIndex,!0);isNaN(r)||this._showIndicator(r,r)}}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",u.makeHighDownBatch(t,this.visualMapModel)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,i,n){var r=s.getTransform(e,n?null:this.group);return s[a.isArray(t)?"applyTransform":"transformDirection"](t,r,i)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function D(t,e,i,a){return new s.Polygon({shape:{points:t},draggable:!!i,cursor:e,drift:i,onmousemove:function(t){r.stop(t.event)},ondragend:a})}function y(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function x(t){return"vertical"===t?"ns-resize":"ew-resize"}var S=C;t.exports=S},ghha:function(t,e,i){var a=i("JzYe");i("rctg").register("single",{create:function(t,e){var i=[];return t.eachComponent("singleAxis",function(n,r){var o=new a(n,t,e);o.name="single_"+r,o.resize(n,e),n.coordinateSystem=o,i.push(o)}),t.eachSeries(function(e){if("singleAxis"===e.get("coordinateSystem")){var i=t.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];e.coordinateSystem=i&&i.coordinateSystem}}),i},dimensions:a.prototype.dimensions})},guZJ:function(t,e,i){var a=i("Icdr"),n=i("0sHC"),r=i("/gxq"),o=i("kK7q");var s=a.extendChartView({type:"radar",render:function(t,e,i){var a=t.coordinateSystem,s=this.group,l=t.getData(),h=this._data;function u(t,e){var i=t.getItemVisual(e,"symbol")||"circle",a=t.getItemVisual(e,"color");if("none"!==i){var n=function(t){return r.isArray(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),s=o.createSymbol(i,-1,-1,2,2,a);return s.attr({style:{strokeNoScale:!0},z2:100,scale:[n[0]/2,n[1]/2]}),s}}function c(e,i,a,r,o,s){a.removeAll();for(var l=0;l<i.length-1;l++){var h=u(r,o);h&&(h.__dimIdx=l,e[l]?(h.attr("position",e[l]),n[s?"initProps":"updateProps"](h,{position:i[l]},t,o)):h.attr("position",i[l]),a.add(h))}}function d(t){return r.map(t,function(t){return[a.cx,a.cy]})}l.diff(h).add(function(e){var i=l.getItemLayout(e);if(i){var a=new n.Polygon,r=new n.Polyline,o={shape:{points:i}};a.shape.points=d(i),r.shape.points=d(i),n.initProps(a,o,t,e),n.initProps(r,o,t,e);var s=new n.Group,h=new n.Group;s.add(r),s.add(a),s.add(h),c(r.shape.points,i,h,l,e,!0),l.setItemGraphicEl(e,s)}}).update(function(e,i){var a=h.getItemGraphicEl(i),r=a.childAt(0),o=a.childAt(1),s=a.childAt(2),u={shape:{points:l.getItemLayout(e)}};u.shape.points&&(c(r.shape.points,u.shape.points,s,l,e,!1),n.updateProps(r,u,t),n.updateProps(o,u,t),l.setItemGraphicEl(e,a))}).remove(function(t){s.remove(h.getItemGraphicEl(t))}).execute(),l.eachItemGraphicEl(function(t,e){var i=l.getItemModel(e),a=t.childAt(0),o=t.childAt(1),h=t.childAt(2),u=l.getItemVisual(e,"color");s.add(t),a.useStyle(r.defaults(i.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u})),a.hoverStyle=i.getModel("emphasis.lineStyle").getLineStyle();var c=i.getModel("areaStyle"),d=i.getModel("emphasis.areaStyle"),f=c.isEmpty()&&c.parentModel.isEmpty(),p=d.isEmpty()&&d.parentModel.isEmpty();p=p&&f,o.ignore=f,o.useStyle(r.defaults(c.getAreaStyle(),{fill:u,opacity:.7})),o.hoverStyle=d.getAreaStyle();var m=i.getModel("itemStyle").getItemStyle(["color"]),v=i.getModel("emphasis.itemStyle").getItemStyle(),g=i.getModel("label"),C=i.getModel("emphasis.label");h.eachChild(function(t){t.setStyle(m),t.hoverStyle=r.clone(v);var i=l.get(l.dimensions[t.__dimIdx],e);(null==i||isNaN(i))&&(i=""),n.setLabelStyle(t.style,t.hoverStyle,g,C,{labelFetcher:l.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:i,autoColor:u,isRectText:!0})}),t.highDownOnUpdate=function(t,e){o.attr("ignore","emphasis"===e?p:f)},n.setHoverStyle(t)}),this._data=l},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});t.exports=s},h0jU:function(t,e,i){var a=i("/gxq"),n=i("BNYN").parseClassType,r=0;e.getUID=function(t){return[t||"",r++,Math.random().toFixed(5)].join("_")},e.enableSubTypeDefaulter=function(t){var e={};return t.registerSubTypeDefaulter=function(t,i){t=n(t),e[t.main]=i},t.determineSubType=function(i,a){var r=a.type;if(!r){var o=n(i).main;t.hasSubTypes(i)&&e[o]&&(r=e[o](a))}return r},t},e.enableTopologicalTravel=function(t,e){function i(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,n,r,o){if(t.length){var s=function(t){var n={},r=[];return a.each(t,function(o){var s=i(n,o),l=function(t,e){var i=[];return a.each(t,function(t){a.indexOf(e,t)>=0&&i.push(t)}),i}(s.originalDeps=e(o),t);s.entryCount=l.length,0===s.entryCount&&r.push(o),a.each(l,function(t){a.indexOf(s.predecessor,t)<0&&s.predecessor.push(t);var e=i(n,t);a.indexOf(e.successor,t)<0&&e.successor.push(o)})}),{graph:n,noEntryList:r}}(n),l=s.graph,h=s.noEntryList,u={};for(a.each(t,function(t){u[t]=!0});h.length;){var c=h.pop(),d=l[c],f=!!u[c];f&&(r.call(o,c,d.originalDeps.slice()),delete u[c]),a.each(d.successor,f?m:p)}a.each(u,function(){throw new Error("Circle dependency may exists")})}function p(t){l[t].entryCount--,0===l[t].entryCount&&h.push(t)}function m(t){u[t]=!0,p(t)}}}},h4VJ:function(t,e,i){var a=i("0sHC"),n=i("/gxq"),r=i("Ylhr");function o(t,e){a.Group.call(this);var i=new a.Polygon,n=new a.Polyline,r=new a.Text;this.add(i),this.add(n),this.add(r),this.highDownOnUpdate=function(t,e){"emphasis"===e?(n.ignore=n.hoverIgnore,r.ignore=r.hoverIgnore):(n.ignore=n.normalIgnore,r.ignore=r.normalIgnore)},this.updateData(t,e,!0)}var s=o.prototype,l=["itemStyle","opacity"];s.updateData=function(t,e,i){var r=this.childAt(0),o=t.hostModel,s=t.getItemModel(e),h=t.getItemLayout(e),u=t.getItemModel(e).get(l);u=null==u?1:u,r.useStyle({}),i?(r.setShape({points:h.points}),r.setStyle({opacity:0}),a.initProps(r,{style:{opacity:u}},o,e)):a.updateProps(r,{style:{opacity:u},shape:{points:h.points}},o,e);var c=s.getModel("itemStyle"),d=t.getItemVisual(e,"color");r.setStyle(n.defaults({lineJoin:"round",fill:d},c.getItemStyle(["opacity"]))),r.hoverStyle=c.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),a.setHoverStyle(this)},s._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),r=t.hostModel,o=t.getItemModel(e),s=t.getItemLayout(e).label,l=t.getItemVisual(e,"color");a.updateProps(i,{shape:{points:s.linePoints||s.linePoints}},r,e),a.updateProps(n,{style:{x:s.x,y:s.y}},r,e),n.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var h=o.getModel("label"),u=o.getModel("emphasis.label"),c=o.getModel("labelLine"),d=o.getModel("emphasis.labelLine");l=t.getItemVisual(e,"color");a.setLabelStyle(n.style,n.hoverStyle={},h,u,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign}),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!u.get("show"),i.ignore=i.normalIgnore=!c.get("show"),i.hoverIgnore=!d.get("show"),i.setStyle({stroke:l}),i.setStyle(c.getModel("lineStyle").getLineStyle()),i.hoverStyle=d.getModel("lineStyle").getLineStyle()},n.inherits(o,a.Group);var h=r.extend({type:"funnel",render:function(t,e,i){var a=t.getData(),n=this._data,r=this.group;a.diff(n).add(function(t){var e=new o(a,t);a.setItemGraphicEl(t,e),r.add(e)}).update(function(t,e){var i=n.getItemGraphicEl(e);i.updateData(a,t),r.add(i),a.setItemGraphicEl(t,i)}).remove(function(t){var e=n.getItemGraphicEl(t);r.remove(e)}).execute(),this._data=a},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});t.exports=h},h65t:function(t,e,i){var a=i("UuGF"),n=i("52gC");t.exports=function(t){return function(e,i){var r,o,s=String(n(e)),l=a(i),h=s.length;return l<0||l>=h?t?"":void 0:(r=s.charCodeAt(l))<55296||r>56319||l+1===h||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):r:t?s.slice(l,l+2):o-56320+(r-55296<<10)+65536}}},h6Uy:function(t,e,i){var a=i("/gxq").createHashMap;t.exports=function(t){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),i=t.getRawData(),n=t.get("color"),r=a();e.each(function(t){r.set(e.getRawIndex(t),t)}),i.each(function(a){var o=i.getName(a),s=n[(t.nameMap.get(o)-1)%n.length];i.setItemVisual(a,"color",s);var l=r.get(a);null!=l&&e.setItemVisual(l,"color",s)})})}},"hD/x":function(t,e){e.getNodeGlobalScale=function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var i=t.option.nodeScaleRatio,a=e.scale,n=a&&a[0]||1;return((e.getZoom()-1)*i+1)/n},e.getSymbolSize=function(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}},hG1p:function(t,e,i){var a=i("GxVO").extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var i=Math.cos,a=Math.sin,n=e.r,r=e.width,o=e.angle,s=e.x-i(o)*r*(r>=n/3?1:2),l=e.y-a(o)*r*(r>=n/3?1:2);o=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+i(o)*r,e.y+a(o)*r),t.lineTo(e.x+i(e.angle)*n,e.y+a(e.angle)*n),t.lineTo(e.x-i(o)*r,e.y-a(o)*r),t.lineTo(s,l)}});t.exports=a},hJx8:function(t,e,i){var a=i("evD5"),n=i("X8DO");t.exports=i("+E39")?function(t,e,i){return a.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},hZf2:function(t,e,i){var a=i("Pmfi"),n=i("/gxq"),r=i("eZxa"),o=i("DRaW");function s(t,e){a.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}n.inherits(s,a),s.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var i=this;n.each(["fill","stroke"],function(a){if(e.style[a]&&("linear"===e.style[a].type||"radial"===e.style[a].type)){var n,r=e.style[a],o=i.getDefs(!0);r._dom?(n=r._dom,o.contains(r._dom)||i.addDom(n)):n=i.add(r),i.markUsed(e);var s=n.getAttribute("id");t.setAttribute(a,"url(#"+s+")")}})}},s.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return r("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},s.prototype.update=function(t){var e=this;a.prototype.update.call(this,t,function(){var i=t.type,a=t._dom.tagName;"linear"===i&&"linearGradient"===a||"radial"===i&&"radialGradient"===a?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},s.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void r("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var i=t.colorStops,a=0,n=i.length;a<n;++a){var s=this.createElement("stop");s.setAttribute("offset",100*i[a].offset+"%");var l=i[a].color;if(l.indexOf(!1)){var h=o.parse(l)[3],u=o.toHex(l);s.setAttribute("stop-color","#"+u),s.setAttribute("stop-opacity",h)}else s.setAttribute("stop-color",i[a].color);e.appendChild(s)}t._dom=e},s.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&a.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&a.prototype.markUsed.call(this,e._dom)}};var l=s;t.exports=l},"hcq/":function(t,e,i){var a=i("/n1K");t.exports=function(t,e){return a((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}},hdbT:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("oDOe"),o=a.extendComponentView({type:"brush",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new r(e.getZr())).on("brush",n.bind(this._onBrush,this)).mount()},render:function(t){return this.model=t,s.apply(this,arguments)},updateTransform:s,updateView:s,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var i=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:n.clone(t),$from:i}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:n.clone(t),$from:i})}});function s(t,e,i,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}t.exports=o},hv2j:function(t,e,i){var a=i("RiVu"),n=i("YNzw"),r=i("/gxq"),o=i("lj6Z"),s=i("9N6q"),l=i("I0Vc"),h=i("V4nf"),u=i("e8/X"),c=!n.canvasSupported,d={canvas:l},f={};var p=function(t,e,i){i=i||{},this.dom=e,this.id=t;var a=this,l=new s,f=i.renderer;if(c){if(!d.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");f="vml"}else f&&d[f]||(f="canvas");var p=new d[f](e,l,i,t);this.storage=l,this.painter=p;var m=n.node||n.worker?null:new u(p.getViewportRoot());this.handler=new o(l,p,m,p.root),this.animation=new h({stage:{update:r.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var v=l.delFromStorage,g=l.addToStorage;l.delFromStorage=function(t){v.call(l,t),t&&t.removeSelfFromZr(a)},l.addToStorage=function(t){g.call(l,t),t.addSelfToZr(a)}};p.prototype={constructor:p,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var i=this.painter.addHover(t,e);return this.refreshHover(),i}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,i){this.handler.on(t,e,i)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete f[t]}},e.version="4.1.2",e.init=function(t,e){var i=new p(a(),t,e);return f[i.id]=i,i},e.dispose=function(t){if(t)t.dispose();else{for(var e in f)f.hasOwnProperty(e)&&f[e].dispose();f={}}return this},e.getInstance=function(t){return f[t]},e.registerPainter=function(t,e){d[t]=e}},hyEB:function(t,e,i){"use strict";e.__esModule=!0;var a=a||{};a.Utils=a.Utils||{},a.Utils.focusFirstDescendant=function(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];if(a.Utils.attemptFocus(i)||a.Utils.focusFirstDescendant(i))return!0}return!1},a.Utils.focusLastDescendant=function(t){for(var e=t.childNodes.length-1;e>=0;e--){var i=t.childNodes[e];if(a.Utils.attemptFocus(i)||a.Utils.focusLastDescendant(i))return!0}return!1},a.Utils.attemptFocus=function(t){if(!a.Utils.isFocusable(t))return!1;a.Utils.IgnoreUtilFocusChanges=!0;try{t.focus()}catch(t){}return a.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===t},a.Utils.isFocusable=function(t){if(t.tabIndex>0||0===t.tabIndex&&null!==t.getAttribute("tabIndex"))return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&"ignore"!==t.rel;case"INPUT":return"hidden"!==t.type&&"file"!==t.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},a.Utils.triggerEvent=function(t,e){var i=void 0;i=/^mouse|click/.test(e)?"MouseEvents":/^key/.test(e)?"KeyboardEvent":"HTMLEvents";for(var a=document.createEvent(i),n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return a.initEvent.apply(a,[e].concat(r)),t.dispatchEvent?t.dispatchEvent(a):t.fireEvent("on"+e,a),t},a.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27},e.default=a.Utils},i3rX:function(t,e,i){"use strict";var a=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){var i;return e&&!0===e.clone&&a(t)?s((i=t,Array.isArray(i)?[]:{}),t,e):t}function o(t,e,i){var n=t.slice();return e.forEach(function(e,o){void 0===n[o]?n[o]=r(e,i):a(e)?n[o]=s(t[o],e,i):-1===t.indexOf(e)&&n.push(r(e,i))}),n}function s(t,e,i){var n=Array.isArray(e);return n===Array.isArray(t)?n?((i||{arrayMerge:o}).arrayMerge||o)(t,e,i):function(t,e,i){var n={};return a(t)&&Object.keys(t).forEach(function(e){n[e]=r(t[e],i)}),Object.keys(e).forEach(function(o){a(e[o])&&t[o]?n[o]=s(t[o],e[o],i):n[o]=r(e[o],i)}),n}(t,e,i):r(e,i)}s.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,i){return s(t,i,e)})};var l=s;t.exports=l},i6Ks:function(t,e,i){var a=i("/gxq"),n=i("vXqC");t.exports=function(t){!function(t){if(!t.parallel){var e=!1;a.each(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}}(t),function(t){var e=n.normalizeToArray(t.parallelAxis);a.each(e,function(e){if(a.isObject(e)){var i=e.parallelIndex||0,r=n.normalizeToArray(t.parallel)[i];r&&r.parallelAxisDefault&&a.merge(e,r.parallelAxisDefault,!1)}})}(t)}},iDGQ:function(t,e,i){var a=i("XFat"),n=a.eachAfter,r=a.eachBefore,o=i("ERCD"),s=o.init,l=o.firstWalk,h=o.secondWalk,u=o.separation,c=o.radialCoordinate,d=o.getViewRect;t.exports=function(t,e){t.eachSeriesByType("tree",function(t){!function(t,e){var i=d(t,e);t.layoutInfo=i;var a=t.get("layout"),o=0,f=0,p=null;"radial"===a?(o=2*Math.PI,f=Math.min(i.height,i.width)/2,p=u(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(o=i.width,f=i.height,p=u());var m=t.getData().tree.root,v=m.children[0];if(v){s(m),n(v,l,p),m.hierNode.modifier=-v.hierNode.prelim,r(v,h);var g=v,C=v,D=v;r(v,function(t){var e=t.getLayout().x;e<g.getLayout().x&&(g=t),e>C.getLayout().x&&(C=t),t.depth>D.depth&&(D=t)});var y=g===C?1:p(g,C)/2,x=y-g.getLayout().x,S=0,I=0,T=0,b=0;if("radial"===a)S=o/(C.getLayout().x+y+x),I=f/(D.depth-1||1),r(v,function(t){T=(t.getLayout().x+x)*S,b=(t.depth-1)*I;var e=c(T,b);t.setLayout({x:e.x,y:e.y,rawX:T,rawY:b},!0)});else{var w=t.getOrient();"RL"===w||"LR"===w?(I=f/(C.getLayout().x+y+x),S=o/(D.depth-1||1),r(v,function(t){b=(t.getLayout().x+x)*I,T="LR"===w?(t.depth-1)*S:o-(t.depth-1)*S,t.setLayout({x:T,y:b},!0)})):"TB"!==w&&"BT"!==w||(S=o/(C.getLayout().x+y+x),I=f/(D.depth-1||1),r(v,function(t){T=(t.getLayout().x+x)*S,b="TB"===w?(t.depth-1)*I:f-(t.depth-1)*I,t.setLayout({x:T,y:b},!0)}))}}}(t,e)})}},"iEm+":function(t,e,i){var a=i("Icdr"),n=i("/gxq");a.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var i=e.getComponent("timeline");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),e.resetOption("timeline"),n.defaults({currentIndex:i.option.currentIndex},t)}),a.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var i=e.getComponent("timeline");i&&null!=t.playState&&i.setPlayState(t.playState)})},iGPw:function(t,e,i){var a=i("/gxq"),n=a.createHashMap,r=a.isObject,o=a.map;function s(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}s.createByAxisModel=function(t){var e=t.option,i=e.data,a=i&&o(i,u);return new s({categories:a,needCollect:!a,deduplication:!1!==e.dedplication})};var l=s.prototype;function h(t){return t._map||(t._map=n(t.categories))}function u(t){return r(t)&&null!=t.value?t.value:t+""}l.getOrdinal=function(t){return h(this).get(t)},l.parseAndCollect=function(t){var e,i=this._needCollect;if("string"!=typeof t&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var a=h(this);return null==(e=a.get(t))&&(i?(e=this.categories.length,this.categories[e]=t,a.set(t,e)):e=NaN),e};var c=s;t.exports=c},iNHu:function(t,e,i){var a=i("hv2j");e.zrender=a;var n=i("dOVI");e.matrix=n;var r=i("C7PF");e.vector=r;var o=i("/gxq"),s=i("DRaW");e.color=s;var l=i("0sHC"),h=i("wWR3");e.number=h;var u=i("HHfb");e.format=u;var c=i("QD+P");c.throttle;e.throttle=c.throttle;var d=i("5QRV");e.helper=d;var f=i("Axyt");e.parseGeoJSON=f;var p=i("Rfu2");e.List=p;var m=i("Pdtn");e.Model=m;var v=i("2HcM");e.Axis=v;var g=i("YNzw");e.env=g;var C=f,D={};o.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){D[t]=o[t]});var y={};o.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(t){y[t]=l[t]}),e.parseGeoJson=C,e.util=D,e.graphic=y},iUbK:function(t,e,i){var a=i("7KvD").navigator;t.exports=a&&a.userAgent||""},iZVd:function(t,e,i){var a=i("Icdr"),n=i("ii60").updateCenterAndZoom;i("+K7g");a.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var i=e.coordinateSystem,a=n(i,t);e.setCenter&&e.setCenter(a.center),e.setZoom&&e.setZoom(a.zoom)})})},ibnl:function(t,e,i){var a;"undefined"!=typeof self&&self,a=function(){return function(t){function e(a){if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=1)}([function(t,e,i){"use strict";var a=i(7),n=(i.n(a),i(8));i.n(n),e.a={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(2),n=i.n(a),r=i(5),o=i(10),s=i.n(o),l=i(11),h=i.n(l),u=void 0,c={install:function(t,e){var i=t.extend(r.a);e=e||{};u||(u=new i({el:document.createElement("div")}),document.body.appendChild(u.$el));var a=void 0,o=void 0;t.prototype.$preview={self:null,on:function(t,e){a=t,o=e}},t.mixin({data:function(){return{galleryElements:null,galleryPicLoading:!1}},methods:{$previewRefresh:function(){var t=this;setTimeout(function(){t.galleryElements=document.querySelectorAll("img[preview]");for(var e=0,i=t.galleryElements.length;e<i;e++)t.galleryElements[e].setAttribute("data-pswp-uid",e+1),t.galleryElements[e].onclick=t.onThumbnailsClick},200)},onThumbnailsClick:function(t){if(this.galleryPicLoading)return!1;this.galleryPicLoading=!0,(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1;for(var e,i=t.target||t.srcElement,a=i.getAttribute("preview"),n=a?document.querySelectorAll('img[preview="'+a+'"]'):document.querySelectorAll("img[preview]"),r=0;r<n.length;r++)if(n[r]===i){e=r;break}return e>=0&&(this.openPhotoSwipe(e,n),this.$emit("preview-open",t,i.src)),!1},openPhotoSwipe:function(i,r,l,c){var d=this;return function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function a(n,r){try{var o=e[n](r),s=o.value}catch(t){return void i(t)}if(!o.done)return Promise.resolve(s).then(function(t){a("next",t)},function(t){a("throw",t)});t(s)}("next")})}}(n.a.mark(function f(){var p,m,v,g,C,D,y,x,S;return n.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return p=document.querySelectorAll(".pswp")[0],n.next=3,d.parseThumbnailElements(r);case 3:if(g=n.sent,v={getThumbBoundsFn:function(t){var e=g[t].el,i=window.pageYOffset||document.documentElement.scrollTop,a=e.getBoundingClientRect();return{x:a.left,y:a.top+i,w:a.width}},addCaptionHTMLFn:function(t,e,i){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerText="",!1)},showHideOpacity:!0,history:!1,shareEl:!1,maxSpreadZoom:3,getDoubleTapZoom:function(t,e){return t?1.5:e.initialZoomLevel<.7?1:1.5}},!c){n.next=20;break}if(!v.galleryPIDs){n.next=17;break}C=0;case 8:if(!(C<g.length)){n.next=15;break}if(g[C].pid!=i){n.next=12;break}return v.index=C,n.abrupt("break",15);case 12:C++,n.next=8;break;case 15:n.next=18;break;case 17:v.index=parseInt(i,10)-1;case 18:n.next=21;break;case 20:v.index=parseInt(i,10);case 21:if(!isNaN(v.index)){n.next=23;break}return n.abrupt("return");case 23:v=d.extend(v,e),l&&(v.showAnimationDuration=0),m=new s.a(p,h.a,g,v),t.prototype.$preview.self=m,y=!1,x=!0,m.listen("beforeResize",function(){var t=window.devicePixelRatio?window.devicePixelRatio:1;t=Math.min(t,2.5),(D=m.viewportSize.x*t)>=1200||!m.likelyTouchDevice&&D>800||screen.width>1200?y||(y=!0,S=!0):y&&(y=!1,S=!0),S&&!x&&m.invalidateCurrItems(),x&&(x=!1),S=!1}),m.listen("gettingData",function(t,e){e.el.getAttribute("large")?(e.src=e.o.src,e.w=e.o.w,e.h=e.o.h):(e.src=e.m.src,e.w=e.m.w,e.h=e.m.h)}),m.listen("imageLoadComplete",function(t,e){d.galleryPicLoading=!1}),m.listen(a,o),m.init(),u.$el.classList=u.$el.classList+" pswp--zoom-allowed";case 34:case"end":return n.stop()}},f,d)}))()},parseThumbnailElements:function(t){return new Promise(function(e){var i,a,n=[];a={};for(var r=0;r<t.length;r++)if(1===(i=t[r]).nodeType){if(void 0===i.naturalWidth){(r=new Image).src=i.src;var o=r.width,s=r.height}else o=i.naturalWidth,s=i.naturalHeight;!function(r){var h=new Image;h.src=i.getAttribute("large")?i.getAttribute("large"):i.getAttribute("src"),h.text=i.getAttribute("preview-text"),h.author=i.getAttribute("data-author"),h.onload=function(){a={title:h.text,el:t[r],src:h.src,w:o,h:s,author:h.author,o:{src:h.src,w:this.width,h:this.height},m:{src:h.src,w:this.width,h:this.height}},n[r]=a,++l==t.length&&e(n)}}(r);var l=0}})},extend:function(t,e){for(var i in e)t[i]=e[i];return t},initPreview:function(t){this.galleryElements=document.querySelectorAll(t);for(var e=0,i=this.galleryElements.length;e<i;e++)this.galleryElements[e].setAttribute("data-pswp-uid",e+1),this.galleryElements[e].onclick=this.onThumbnailsClick}},mounted:function(){this.initPreview("img[preview]")}})}};e.default=c,"undefined"==typeof window||window.vuePhotoPreview||(window.vuePhotoPreview=c)},function(t,e,i){t.exports=i(3)},function(t,e,i){var a=function(){return this}()||Function("return this")(),n=a.regeneratorRuntime&&Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime")>=0,r=n&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,t.exports=i(4),n)a.regeneratorRuntime=r;else try{delete a.regeneratorRuntime}catch(t){a.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function i(t,e,i,a){var r=e&&e.prototype instanceof n?e:n,o=Object.create(r.prototype),s=new f(a||[]);return o._invoke=h(t,i,s),o}function a(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function n(){}function r(){}function o(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function e(i,n,r,o){var s=a(t[i],t,n);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&C.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):Promise.resolve(h).then(function(t){l.value=t,r(l)},o)}o(s.arg)}var i;this._invoke=function(t,a){function n(){return new Promise(function(i,n){e(t,a,i,n)})}return i=i?i.then(n,n):n()}}function h(t,e,i){var n=b;return function(r,o){if(n===M)throw new Error("Generator is already running");if(n===E){if("throw"===r)throw o;return m()}for(i.method=r,i.arg=o;;){var s=i.delegate;if(s){var l=u(s,i);if(l){if(l===A)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===b)throw n=E,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=M;var h=a(t,e,i);if("normal"===h.type){if(n=i.done?E:w,h.arg===A)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(n=E,i.method="throw",i.arg=h.arg)}}}function u(t,e){var i=t.iterator[e.method];if(i===v){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=v,u(t,e),"throw"===e.method))return A;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var n=a(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,A;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,A):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,A)}function c(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function d(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function f(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(c,this),this.reset(!0)}function p(t){if(t){var e=t[y];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(C.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=v,e.done=!0,e};return a.next=a}}return{next:m}}function m(){return{value:v,done:!0}}var v,g=Object.prototype,C=g.hasOwnProperty,D="function"==typeof Symbol?Symbol:{},y=D.iterator||"@@iterator",x=D.asyncIterator||"@@asyncIterator",S=D.toStringTag||"@@toStringTag",I="object"==typeof t,T=e.regeneratorRuntime;if(T)I&&(t.exports=T);else{(T=e.regeneratorRuntime=I?t.exports:{}).wrap=i;var b="suspendedStart",w="suspendedYield",M="executing",E="completed",A={},_={};_[y]=function(){return this};var L=Object.getPrototypeOf,F=L&&L(L(p([])));F&&F!==g&&C.call(F,y)&&(_=F);var O=o.prototype=n.prototype=Object.create(_);r.prototype=O.constructor=o,o.constructor=r,o[S]=r.displayName="GeneratorFunction",T.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===r||"GeneratorFunction"===(e.displayName||e.name))},T.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,o):(t.__proto__=o,S in t||(t[S]="GeneratorFunction")),t.prototype=Object.create(O),t},T.awrap=function(t){return{__await:t}},s(l.prototype),l.prototype[x]=function(){return this},T.AsyncIterator=l,T.async=function(t,e,a,n){var r=new l(i(t,e,a,n));return T.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},s(O),O[S]="Generator",O[y]=function(){return this},O.toString=function(){return"[object Generator]"},T.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var a=e.pop();if(a in t)return i.value=a,i.done=!1,i}return i.done=!0,i}},T.values=p,f.prototype={constructor:f,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(d),!t)for(var e in this)"t"===e.charAt(0)&&C.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,a){return r.type="throw",r.arg=t,i.next=e,a&&(i.method="next",i.arg=v),!!a}if(this.done)throw t;for(var i=this,a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a],r=n.completion;if("root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev){var o=C.call(n,"catchLoc"),s=C.call(n,"finallyLoc");if(o&&s){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(o){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&C.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var r=n?n.completion:{};return r.type=t,r.arg=e,n?(this.method="next",this.next=n.finallyLoc,A):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),A},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),d(i),A}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var n=a.arg;d(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:p(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=v),A}}}}(function(){return this}()||Function("return this")())},function(t,e,i){"use strict";var a=i(0),n=i(9),r=i(6)(a.a,n.a,!1,null,null,null);e.a=r.exports},function(t,e){t.exports=function(t,e,i,a,n,r){var o,s=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(o=t,s=t.default);var h,u="function"==typeof s?s.options:s;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),i&&(u.functional=!0),n&&(u._scopeId=n),r?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=h):a&&(h=a),h){var c=u.functional,d=c?u.render:u.beforeCreate;c?(u._injectStyles=h,u.render=function(t,e){return h.call(e),d(t,e)}):u.beforeCreate=d?[].concat(d,h):[h]}return{esModule:o,exports:s,options:u}}},function(t,e){},function(t,e){},function(t,e,i){"use strict";var a={render:function(){var t=this;t.$createElement;return t._self._c,t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pswp",attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"}},[i("div",{staticClass:"pswp__bg"}),t._v(" "),i("div",{staticClass:"pswp__scroll-wrap"},[i("div",{staticClass:"pswp__container"},[i("div",{staticClass:"pswp__item"}),t._v(" "),i("div",{staticClass:"pswp__item"}),t._v(" "),i("div",{staticClass:"pswp__item"})]),t._v(" "),i("div",{staticClass:"pswp__ui pswp__ui--hidden"},[i("div",{staticClass:"pswp__top-bar"},[i("div",{staticClass:"pswp__counter"}),t._v(" "),i("button",{staticClass:"pswp__button pswp__button--close",attrs:{title:"Close (Esc)"}}),t._v(" "),i("button",{staticClass:"pswp__button pswp__button--share",attrs:{title:"Share"}}),t._v(" "),i("button",{staticClass:"pswp__button pswp__button--fs",attrs:{title:"Toggle fullscreen"}}),t._v(" "),i("button",{staticClass:"pswp__button pswp__button--zoom",attrs:{title:"Zoom in/out"}}),t._v(" "),i("div",{staticClass:"pswp__preloader"},[i("div",{staticClass:"pswp__preloader__icn"},[i("div",{staticClass:"pswp__preloader__cut"},[i("div",{staticClass:"pswp__preloader__donut"})])])])]),t._v(" "),i("div",{staticClass:"pswp__share-modal pswp__share-modal--hidden pswp__single-tap"},[i("div",{staticClass:"pswp__share-tooltip"})]),t._v(" "),i("button",{staticClass:"pswp__button pswp__button--arrow--left",attrs:{title:"Previous (arrow left)"}}),t._v(" "),i("button",{staticClass:"pswp__button pswp__button--arrow--right",attrs:{title:"Next (arrow right)"}}),t._v(" "),i("div",{staticClass:"pswp__caption"},[i("div",{staticClass:"pswp__caption__center"})])])])])}]};e.a=a},function(t,e,i){var a,n;
/*! PhotoSwipe - v4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */a=function(){"use strict";return function(t,e,i,a){var n={features:null,bind:function(t,e,i,a){var n=(a?"remove":"add")+"EventListener";e=e.split(" ");for(var r=0;r<e.length;r++)e[r]&&t[n](e[r],i,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){var i=document.createElement(e||"div");return t&&(i.className=t),i},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,i){n.bind(t,e,i,!0)},removeClass:function(t,e){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){n.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},getChildByClass:function(t,e){for(var i=t.firstChild;i;){if(n.hasClass(i,e))return i;i=i.nextSibling}},arraySearch:function(t,e,i){for(var a=t.length;a--;)if(t[a][i]===e)return a;return-1},extend:function(t,e,i){for(var a in e)if(e.hasOwnProperty(a)){if(i&&t.hasOwnProperty(a))continue;t[a]=e[a]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(n.features)return n.features;var t=n.createEl(),e=t.style,i="",a={};if(a.oldIE=document.all&&!document.addEventListener,a.touch="ontouchstart"in window,window.requestAnimationFrame&&(a.raf=window.requestAnimationFrame,a.caf=window.cancelAnimationFrame),a.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!a.pointerEvent){var r=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var o=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);o&&o.length>0&&(o=parseInt(o[1],10))>=1&&o<8&&(a.isOldIOSPhone=!0)}var s=r.match(/Android\s([0-9\.]*)/),l=s?s[1]:0;(l=parseFloat(l))>=1&&(l<4.4&&(a.isOldAndroid=!0),a.androidVersion=l),a.isMobileOpera=/opera mini|opera mobi/i.test(r)}for(var h,u,c=["transform","perspective","animationName"],d=["","webkit","Moz","ms","O"],f=0;f<4;f++){i=d[f];for(var p=0;p<3;p++)h=c[p],u=i+(i?h.charAt(0).toUpperCase()+h.slice(1):h),!a[h]&&u in e&&(a[h]=u);i&&!a.raf&&(i=i.toLowerCase(),a.raf=window[i+"RequestAnimationFrame"],a.raf&&(a.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]))}if(!a.raf){var m=0;a.raf=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-m)),a=window.setTimeout(function(){t(e+i)},i);return m=e+i,a},a.caf=function(t){clearTimeout(t)}}return a.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,n.features=a,a}};n.detectFeatures(),n.features.oldIE&&(n.bind=function(t,e,i,a){e=e.split(" ");for(var n,r=(a?"detach":"attach")+"Event",o=function(){i.handleEvent.call(i)},s=0;s<e.length;s++)if(n=e[s])if("object"==typeof i&&i.handleEvent){if(a){if(!i["oldIE"+n])return!1}else i["oldIE"+n]=o;t[r]("on"+n,i["oldIE"+n])}else t[r]("on"+n,i)});var r=this,o={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return"A"===t.tagName},getDoubleTapZoom:function(t,e){return t?1:e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};n.extend(o,a);var s,l,h,u,c,d,f,p,m,v,g,C,D,y,x,S,I,T,b,w,M,E,A,_,L,F,O,P,N,R,B,k,V,H,G,Y,W,X,U,z,K,$,j,q,J,Z,Q,tt,et,it,at,nt,rt,ot,st,lt,ht={x:0,y:0},ut={x:0,y:0},ct={x:0,y:0},dt={},ft=0,pt={},mt={x:0,y:0},vt=0,gt=!0,Ct=[],Dt={},yt=!1,xt=function(t,e){n.extend(r,e.publicMethods),Ct.push(t)},St=function(t){var e=Ge();return t>e-1?t-e:t<0?e+t:t},It={},Tt=function(t,e){return It[t]||(It[t]=[]),It[t].push(e)},bt=function(t){var e=It[t];if(e){var i=Array.prototype.slice.call(arguments);i.shift();for(var a=0;a<e.length;a++)e[a].apply(r,i)}},wt=function(){return(new Date).getTime()},Mt=function(t){ot=t,r.bg.style.opacity=t*o.bgOpacity},Et=function(t,e,i,a,n){(!yt||n&&n!==r.currItem)&&(a/=n?n.fitRatio:r.currItem.fitRatio),t[E]=C+e+"px, "+i+"px"+D+" scale("+a+")"},At=function(t){et&&(t&&(v>r.currItem.fitRatio?yt||(qe(r.currItem,!1,!0),yt=!0):yt&&(qe(r.currItem),yt=!1)),Et(et,ct.x,ct.y,v))},_t=function(t){t.container&&Et(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},Lt=function(t,e){e[E]=C+t+"px, 0px"+D},Ft=function(t,e){if(!o.loop&&e){var i=u+(mt.x*ft-t)/mt.x,a=Math.round(t-ue.x);(i<0&&a>0||i>=Ge()-1&&a<0)&&(t=ue.x+a*o.mainScrollEndFriction)}ue.x=t,Lt(t,c)},Ot=function(t,e){var i=ce[t]-pt[t];return ut[t]+ht[t]+i-i*(e/g)},Pt=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},Nt=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},Rt=null,Bt=function(){Rt&&(n.unbind(document,"mousemove",Bt),n.addClass(t,"pswp--has_mouse"),o.mouseUsed=!0,bt("mouseUsed")),Rt=setTimeout(function(){Rt=null},100)},kt=function(t,e){var i=ze(r.currItem,dt,t);return e&&(tt=i),i},Vt=function(t){return t||(t=r.currItem),t.initialZoomLevel},Ht=function(t){return t||(t=r.currItem),t.w>0?o.maxSpreadZoom:1},Gt=function(t,e,i,a){return a===r.currItem.initialZoomLevel?(i[t]=r.currItem.initialPosition[t],!0):(i[t]=Ot(t,a),i[t]>e.min[t]?(i[t]=e.min[t],!0):i[t]<e.max[t]&&(i[t]=e.max[t],!0))},Yt=function(t){var e="";o.escKey&&27===t.keyCode?e="close":o.arrowKeys&&(37===t.keyCode?e="prev":39===t.keyCode&&(e="next")),e&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,r[e]()))},Wt=function(t){t&&($||K||it||W)&&(t.preventDefault(),t.stopPropagation())},Xt=function(){r.setScrollOffset(0,n.getScrollY())},Ut={},zt=0,Kt=function(t){Ut[t]&&(Ut[t].raf&&F(Ut[t].raf),zt--,delete Ut[t])},$t=function(t){Ut[t]&&Kt(t),Ut[t]||(zt++,Ut[t]={})},jt=function(){for(var t in Ut)Ut.hasOwnProperty(t)&&Kt(t)},qt=function(t,e,i,a,n,r,o){var s,l=wt();$t(t);var h=function(){if(Ut[t]){if((s=wt()-l)>=a)return Kt(t),r(i),void(o&&o());r((i-e)*n(s/a)+e),Ut[t].raf=L(h)}};h()},Jt={shout:bt,listen:Tt,viewportSize:dt,options:o,isMainScrollAnimating:function(){return it},getZoomLevel:function(){return v},getCurrentIndex:function(){return u},isDragging:function(){return U},isZooming:function(){return Z},setScrollOffset:function(t,e){pt.x=t,R=pt.y=e,bt("updateScrollOffset",pt)},applyZoomPan:function(t,e,i,a){ct.x=e,ct.y=i,v=t,At(a)},init:function(){if(!s&&!l){var i;r.framework=n,r.template=t,r.bg=n.getChildByClass(t,"pswp__bg"),O=t.className,s=!0,B=n.detectFeatures(),L=B.raf,F=B.caf,E=B.transform,N=B.oldIE,r.scrollWrap=n.getChildByClass(t,"pswp__scroll-wrap"),r.container=n.getChildByClass(r.scrollWrap,"pswp__container"),c=r.container.style,r.itemHolders=S=[{el:r.container.children[0],wrap:0,index:-1},{el:r.container.children[1],wrap:0,index:-1},{el:r.container.children[2],wrap:0,index:-1}],S[0].el.style.display=S[2].el.style.display="none",function(){if(E){var e=B.perspective&&!_;return C="translate"+(e?"3d(":"("),void(D=B.perspective?", 0px)":")")}E="left",n.addClass(t,"pswp--ie"),Lt=function(t,e){e.left=t+"px"},_t=function(t){var e=t.fitRatio>1?1:t.fitRatio,i=t.container.style,a=e*t.w,n=e*t.h;i.width=a+"px",i.height=n+"px",i.left=t.initialPosition.x+"px",i.top=t.initialPosition.y+"px"},At=function(){if(et){var t=et,e=r.currItem,i=e.fitRatio>1?1:e.fitRatio,a=i*e.w,n=i*e.h;t.width=a+"px",t.height=n+"px",t.left=ct.x+"px",t.top=ct.y+"px"}}}(),m={resize:r.updateSize,orientationchange:function(){clearTimeout(k),k=setTimeout(function(){dt.x!==r.scrollWrap.clientWidth&&r.updateSize()},500)},scroll:Xt,keydown:Yt,click:Wt};var a=B.isOldIOSPhone||B.isOldAndroid||B.isMobileOpera;for(B.animationName&&B.transform&&!a||(o.showAnimationDuration=o.hideAnimationDuration=0),i=0;i<Ct.length;i++)r["init"+Ct[i]]();e&&(r.ui=new e(r,n)).init(),bt("firstUpdate"),u=u||o.index||0,(isNaN(u)||u<0||u>=Ge())&&(u=0),r.currItem=He(u),(B.isOldIOSPhone||B.isOldAndroid)&&(gt=!1),t.setAttribute("aria-hidden","false"),o.modal&&(gt?t.style.position="fixed":(t.style.position="absolute",t.style.top=n.getScrollY()+"px")),void 0===R&&(bt("initialLayout"),R=P=n.getScrollY());var h="pswp--open ";for(o.mainClass&&(h+=o.mainClass+" "),o.showHideOpacity&&(h+="pswp--animate_opacity "),h+=_?"pswp--touch":"pswp--notouch",h+=B.animationName?" pswp--css_animation":"",h+=B.svg?" pswp--svg":"",n.addClass(t,h),r.updateSize(),d=-1,vt=null,i=0;i<3;i++)Lt((i+d)*mt.x,S[i].el.style);N||n.bind(r.scrollWrap,p,r),Tt("initialZoomInEnd",function(){r.setContent(S[0],u-1),r.setContent(S[2],u+1),S[0].el.style.display=S[2].el.style.display="block",o.focus&&t.focus(),n.bind(document,"keydown",r),B.transform&&n.bind(r.scrollWrap,"click",r),o.mouseUsed||n.bind(document,"mousemove",Bt),n.bind(window,"resize scroll orientationchange",r),bt("bindEvents")}),r.setContent(S[1],u),r.updateCurrItem(),bt("afterInit"),gt||(y=setInterval(function(){zt||U||Z||v!==r.currItem.initialZoomLevel||r.updateSize()},1e3)),n.addClass(t,"pswp--visible")}},close:function(){s&&(s=!1,l=!0,bt("close"),n.unbind(window,"resize scroll orientationchange",r),n.unbind(window,"scroll",m.scroll),n.unbind(document,"keydown",r),n.unbind(document,"mousemove",Bt),B.transform&&n.unbind(r.scrollWrap,"click",r),U&&n.unbind(window,f,r),clearTimeout(k),bt("unbindEvents"),Ye(r.currItem,null,!0,r.destroy))},destroy:function(){bt("destroy"),Re&&clearTimeout(Re),t.setAttribute("aria-hidden","true"),t.className=O,y&&clearInterval(y),n.unbind(r.scrollWrap,p,r),n.unbind(window,"scroll",r),pe(),jt(),It=null},panTo:function(t,e,i){i||(t>tt.min.x?t=tt.min.x:t<tt.max.x&&(t=tt.max.x),e>tt.min.y?e=tt.min.y:e<tt.max.y&&(e=tt.max.y)),ct.x=t,ct.y=e,At()},handleEvent:function(t){t=t||window.event,m[t.type]&&m[t.type](t)},goTo:function(t){var e=(t=St(t))-u;vt=e,u=t,r.currItem=He(u),ft-=e,Ft(mt.x*ft),jt(),it=!1,r.updateCurrItem()},next:function(){r.goTo(u+1)},prev:function(){r.goTo(u-1)},updateCurrZoomItem:function(t){if(t&&bt("beforeChange",0),S[1].el.children.length){var e=S[1].el.children[0];et=n.hasClass(e,"pswp__zoom-wrap")?e.style:null}else et=null;tt=r.currItem.bounds,g=v=r.currItem.initialZoomLevel,ct.x=tt.center.x,ct.y=tt.center.y,t&&bt("afterChange")},invalidateCurrItems:function(){x=!0;for(var t=0;t<3;t++)S[t].item&&(S[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==vt){var e,i=Math.abs(vt);if(!(t&&i<2)){r.currItem=He(u),yt=!1,bt("beforeChange",vt),i>=3&&(d+=vt+(vt>0?-3:3),i=3);for(var a=0;a<i;a++)vt>0?(e=S.shift(),S[2]=e,Lt((++d+2)*mt.x,e.el.style),r.setContent(e,u-i+a+1+1)):(e=S.pop(),S.unshift(e),Lt(--d*mt.x,e.el.style),r.setContent(e,u+i-a-1-1));if(et&&1===Math.abs(vt)){var n=He(I);n.initialZoomLevel!==v&&(ze(n,dt),qe(n),_t(n))}vt=0,r.updateCurrZoomItem(),I=u,bt("afterChange")}}},updateSize:function(e){if(!gt&&o.modal){var i=n.getScrollY();if(R!==i&&(t.style.top=i+"px",R=i),!e&&Dt.x===window.innerWidth&&Dt.y===window.innerHeight)return;Dt.x=window.innerWidth,Dt.y=window.innerHeight,t.style.height=Dt.y+"px"}if(dt.x=r.scrollWrap.clientWidth,dt.y=r.scrollWrap.clientHeight,Xt(),mt.x=dt.x+Math.round(dt.x*o.spacing),mt.y=dt.y,Ft(mt.x*ft),bt("beforeResize"),void 0!==d){for(var a,s,l,h=0;h<3;h++)a=S[h],Lt((h+d)*mt.x,a.el.style),l=u+h-1,o.loop&&Ge()>2&&(l=St(l)),(s=He(l))&&(x||s.needsUpdate||!s.bounds)?(r.cleanSlide(s),r.setContent(a,l),1===h&&(r.currItem=s,r.updateCurrZoomItem(!0)),s.needsUpdate=!1):-1===a.index&&l>=0&&r.setContent(a,l),s&&s.container&&(ze(s,dt),qe(s),_t(s));x=!1}g=v=r.currItem.initialZoomLevel,(tt=r.currItem.bounds)&&(ct.x=tt.center.x,ct.y=tt.center.y,At(!0)),bt("resize")},zoomTo:function(t,e,i,a,r){e&&(g=v,ce.x=Math.abs(e.x)-ct.x,ce.y=Math.abs(e.y)-ct.y,Pt(ut,ct));var o=kt(t,!1),s={};Gt("x",o,s,t),Gt("y",o,s,t);var l=v,h={x:ct.x,y:ct.y};Nt(s);var u=function(e){1===e?(v=t,ct.x=s.x,ct.y=s.y):(v=(t-l)*e+l,ct.x=(s.x-h.x)*e+h.x,ct.y=(s.y-h.y)*e+h.y),r&&r(e),At(1===e)};i?qt("customZoomTo",0,1,i,a||n.easing.sine.inOut,u):u(1)}},Zt={},Qt={},te={},ee={},ie={},ae=[],ne={},re=[],oe={},se=0,le={x:0,y:0},he=0,ue={x:0,y:0},ce={x:0,y:0},de={x:0,y:0},fe=function(t,e){return oe.x=Math.abs(t.x-e.x),oe.y=Math.abs(t.y-e.y),Math.sqrt(oe.x*oe.x+oe.y*oe.y)},pe=function(){j&&(F(j),j=null)},me=function(){U&&(j=L(me),Ae())},ve=function(t,e){return!(!t||t===document)&&!(t.getAttribute("class")&&t.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(e(t)?t:ve(t.parentNode,e))},ge={},Ce=function(t,e){return ge.prevent=!ve(t.target,o.isClickableElement),bt("preventDragEvent",t,e,ge),ge.prevent},De=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},ye=function(t,e,i){i.x=.5*(t.x+e.x),i.y=.5*(t.y+e.y)},xe=function(){var t=ct.y-r.currItem.initialPosition.y;return 1-Math.abs(t/(dt.y/2))},Se={},Ie={},Te=[],be=function(t){for(;Te.length>0;)Te.pop();return A?(lt=0,ae.forEach(function(t){0===lt?Te[0]=t:1===lt&&(Te[1]=t),lt++})):t.type.indexOf("touch")>-1?t.touches&&t.touches.length>0&&(Te[0]=De(t.touches[0],Se),t.touches.length>1&&(Te[1]=De(t.touches[1],Ie))):(Se.x=t.pageX,Se.y=t.pageY,Se.id="",Te[0]=Se),Te},we=function(t,e){var i,a,n,s,l=ct[t]+e[t],h=e[t]>0,u=ue.x+e.x,c=ue.x-ne.x;if(i=l>tt.min[t]||l<tt.max[t]?o.panEndFriction:1,l=ct[t]+e[t]*i,(o.allowPanToNext||v===r.currItem.initialZoomLevel)&&(et?"h"!==at||"x"!==t||K||(h?(l>tt.min[t]&&(i=o.panEndFriction,tt.min[t],a=tt.min[t]-ut[t]),(a<=0||c<0)&&Ge()>1?(s=u,c<0&&u>ne.x&&(s=ne.x)):tt.min.x!==tt.max.x&&(n=l)):(l<tt.max[t]&&(i=o.panEndFriction,tt.max[t],a=ut[t]-tt.max[t]),(a<=0||c>0)&&Ge()>1?(s=u,c>0&&u<ne.x&&(s=ne.x)):tt.min.x!==tt.max.x&&(n=l))):s=u,"x"===t))return void 0!==s&&(Ft(s,!0),q=s!==ne.x),tt.min.x!==tt.max.x&&(void 0!==n?ct.x=n:q||(ct.x+=e.x*i)),void 0!==s;it||q||v>r.currItem.fitRatio&&(ct[t]+=e[t]*i)},Me=function(t){if(!("mousedown"===t.type&&t.button>0)){if(Ve)return void t.preventDefault();if(!X||"mousedown"!==t.type){if(Ce(t,!0)&&t.preventDefault(),bt("pointerDown"),A){var e=n.arraySearch(ae,t.pointerId,"id");e<0&&(e=ae.length),ae[e]={x:t.pageX,y:t.pageY,id:t.pointerId}}var i=be(t),a=i.length;J=null,jt(),U&&1!==a||(U=nt=!0,n.bind(window,f,r),Y=st=rt=W=q=$=z=K=!1,at=null,bt("firstTouchStart",i),Pt(ut,ct),ht.x=ht.y=0,Pt(ee,i[0]),Pt(ie,ee),ne.x=mt.x*ft,re=[{x:ee.x,y:ee.y}],H=V=wt(),kt(v,!0),pe(),me()),!Z&&a>1&&!it&&!q&&(g=v,K=!1,Z=z=!0,ht.y=ht.x=0,Pt(ut,ct),Pt(Zt,i[0]),Pt(Qt,i[1]),ye(Zt,Qt,de),ce.x=Math.abs(de.x)-ct.x,ce.y=Math.abs(de.y)-ct.y,Q=fe(Zt,Qt))}}},Ee=function(t){if(t.preventDefault(),A){var e=n.arraySearch(ae,t.pointerId,"id");if(e>-1){var i=ae[e];i.x=t.pageX,i.y=t.pageY}}if(U){var a=be(t);if(at||$||Z)J=a;else if(ue.x!==mt.x*ft)at="h";else{var r=Math.abs(a[0].x-ee.x)-Math.abs(a[0].y-ee.y);Math.abs(r)>=10&&(at=r>0?"h":"v",J=a)}}},Ae=function(){if(J){var t=J.length;if(0!==t)if(Pt(Zt,J[0]),te.x=Zt.x-ee.x,te.y=Zt.y-ee.y,Z&&t>1){if(ee.x=Zt.x,ee.y=Zt.y,!te.x&&!te.y&&function(t,e){return t.x===e.x&&t.y===e.y}(J[1],Qt))return;Pt(Qt,J[1]),K||(K=!0,bt("zoomGestureStarted"));var e=fe(Zt,Qt),i=Pe(e);i>r.currItem.initialZoomLevel+r.currItem.initialZoomLevel/15&&(st=!0);var a=1,n=Vt(),s=Ht();if(i<n)if(o.pinchToClose&&!st&&g<=r.currItem.initialZoomLevel){var l=n-i,h=1-l/(n/1.2);Mt(h),bt("onPinchClose",h),rt=!0}else(a=(n-i)/n)>1&&(a=1),i=n-a*(n/3);else i>s&&((a=(i-s)/(6*n))>1&&(a=1),i=s+a*n);a<0&&(a=0),ye(Zt,Qt,le),ht.x+=le.x-de.x,ht.y+=le.y-de.y,Pt(de,le),ct.x=Ot("x",i),ct.y=Ot("y",i),Y=i>v,v=i,At()}else{if(!at)return;if(nt&&(nt=!1,Math.abs(te.x)>=10&&(te.x-=J[0].x-ie.x),Math.abs(te.y)>=10&&(te.y-=J[0].y-ie.y)),ee.x=Zt.x,ee.y=Zt.y,0===te.x&&0===te.y)return;if("v"===at&&o.closeOnVerticalDrag&&"fit"===o.scaleMode&&v===r.currItem.initialZoomLevel){ht.y+=te.y,ct.y+=te.y;var u=xe();return W=!0,bt("onVerticalDrag",u),Mt(u),void At()}(function(t,e,i){if(t-H>50){var a=re.length>2?re.shift():{};a.x=e,a.y=i,re.push(a),H=t}})(wt(),Zt.x,Zt.y),$=!0,tt=r.currItem.bounds;var c=we("x",te);c||(we("y",te),Nt(ct),At())}}},_e=function(t){if(B.isOldAndroid){if(X&&"mouseup"===t.type)return;t.type.indexOf("touch")>-1&&(clearTimeout(X),X=setTimeout(function(){X=0},600))}var e;if(bt("pointerUp"),Ce(t,!1)&&t.preventDefault(),A){var i=n.arraySearch(ae,t.pointerId,"id");i>-1&&(e=ae.splice(i,1)[0],navigator.msPointerEnabled?(e.type={4:"mouse",2:"touch",3:"pen"}[t.pointerType],e.type||(e.type=t.pointerType||"mouse")):e.type=t.pointerType||"mouse")}var a,s=be(t),l=s.length;if("mouseup"===t.type&&(l=0),2===l)return J=null,!0;1===l&&Pt(ie,s[0]),0!==l||at||it||(e||("mouseup"===t.type?e={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(e={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),bt("touchRelease",t,e));var h=-1;if(0===l&&(U=!1,n.unbind(window,f,r),pe(),Z?h=0:-1!==he&&(h=wt()-he)),he=1===l?wt():-1,a=-1!==h&&h<150?"zoom":"swipe",Z&&l<2&&(Z=!1,1===l&&(a="zoomPointerUp"),bt("zoomGestureEnded")),J=null,$||K||it||W)if(jt(),G||(G=Le()),G.calculateSwipeSpeed("x"),W){var u=xe();if(u<o.verticalDragRange)r.close();else{var c=ct.y,d=ot;qt("verticalDrag",0,1,300,n.easing.cubic.out,function(t){ct.y=(r.currItem.initialPosition.y-c)*t+c,Mt((1-d)*t+d),At()}),bt("onVerticalDrag",1)}}else{if((q||it)&&0===l){var p=Oe(a,G);if(p)return;a="zoomPointerUp"}if(!it)return"swipe"!==a?void Ne():void(!q&&v>r.currItem.fitRatio&&Fe(G))}},Le=function(){var t,e,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(a){re.length>1?(t=wt()-H+50,e=re[re.length-2][a]):(t=wt()-V,e=ie[a]),i.lastFlickOffset[a]=ee[a]-e,i.lastFlickDist[a]=Math.abs(i.lastFlickOffset[a]),i.lastFlickDist[a]>20?i.lastFlickSpeed[a]=i.lastFlickOffset[a]/t:i.lastFlickSpeed[a]=0,Math.abs(i.lastFlickSpeed[a])<.1&&(i.lastFlickSpeed[a]=0),i.slowDownRatio[a]=.95,i.slowDownRatioReverse[a]=1-i.slowDownRatio[a],i.speedDecelerationRatio[a]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(ct[t]>tt.min[t]?i.backAnimDestination[t]=tt.min[t]:ct[t]<tt.max[t]&&(i.backAnimDestination[t]=tt.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,qt("bounceZoomPan"+t,ct[t],i.backAnimDestination[t],e||300,n.easing.sine.out,function(e){ct[t]=e,At()}))))},calculateAnimOffset:function(t){i.backAnimStarted[t]||(i.speedDecelerationRatio[t]=i.speedDecelerationRatio[t]*(i.slowDownRatio[t]+i.slowDownRatioReverse[t]-i.slowDownRatioReverse[t]*i.timeDiff/10),i.speedDecelerationRatioAbs[t]=Math.abs(i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]),i.distanceOffset[t]=i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]*i.timeDiff,ct[t]+=i.distanceOffset[t])},panAnimLoop:function(){if(Ut.zoomPan&&(Ut.zoomPan.raf=L(i.panAnimLoop),i.now=wt(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),At(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05))return ct.x=Math.round(ct.x),ct.y=Math.round(ct.y),At(),void Kt("zoomPan")}};return i},Fe=function(t){if(t.calculateSwipeSpeed("y"),tt=r.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05)return t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0;$t("zoomPan"),t.lastNow=wt(),t.panAnimLoop()},Oe=function(t,e){var i,a,s;if(it||(se=u),"swipe"===t){var l=ee.x-ie.x,h=e.lastFlickDist.x<10;l>30&&(h||e.lastFlickOffset.x>20)?a=-1:l<-30&&(h||e.lastFlickOffset.x<-20)&&(a=1)}a&&((u+=a)<0?(u=o.loop?Ge()-1:0,s=!0):u>=Ge()&&(u=o.loop?0:Ge()-1,s=!0),s&&!o.loop||(vt+=a,ft-=a,i=!0));var c,d=mt.x*ft,f=Math.abs(d-ue.x);return i||d>ue.x==e.lastFlickSpeed.x>0?(c=Math.abs(e.lastFlickSpeed.x)>0?f/Math.abs(e.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,se===u&&(i=!1),it=!0,bt("mainScrollAnimStart"),qt("mainScroll",ue.x,d,c,n.easing.cubic.out,Ft,function(){jt(),it=!1,se=-1,(i||se!==u)&&r.updateCurrItem(),bt("mainScrollAnimComplete")}),i&&r.updateCurrItem(!0),i},Pe=function(t){return 1/Q*t*g},Ne=function(){var t=v,e=Vt(),i=Ht();v<e?t=e:v>i&&(t=i);var a,o=ot;return rt&&!Y&&!st&&v<e?(r.close(),!0):(rt&&(a=function(t){Mt((1-o)*t+o)}),r.zoomTo(t,0,200,n.easing.cubic.out,a),!0)};xt("Gestures",{publicMethods:{initGestures:function(){var t=function(t,e,i,a,n){T=t+e,b=t+i,w=t+a,M=n?t+n:""};(A=B.pointerEvent)&&B.touch&&(B.touch=!1),A?navigator.msPointerEnabled?t("MSPointer","Down","Move","Up","Cancel"):t("pointer","down","move","up","cancel"):B.touch?(t("touch","start","move","end","cancel"),_=!0):t("mouse","down","move","up"),f=b+" "+w+" "+M,p=T,A&&!_&&(_=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),r.likelyTouchDevice=_,m[T]=Me,m[b]=Ee,m[w]=_e,M&&(m[M]=m[w]),B.touch&&(p+=" mousedown",f+=" mousemove mouseup",m.mousedown=m[T],m.mousemove=m[b],m.mouseup=m[w]),_||(o.allowPanToNext=!1)}}});var Re,Be,ke,Ve,He,Ge,Ye=function(e,i,a,s){var l;Re&&clearTimeout(Re),Ve=!0,ke=!0,e.initialLayout?(l=e.initialLayout,e.initialLayout=null):l=o.getThumbBoundsFn&&o.getThumbBoundsFn(u);var c=a?o.hideAnimationDuration:o.showAnimationDuration,d=function(){Kt("initialZoom"),a?(r.template.removeAttribute("style"),r.bg.removeAttribute("style")):(Mt(1),i&&(i.style.display="block"),n.addClass(t,"pswp--animated-in"),bt("initialZoom"+(a?"OutEnd":"InEnd"))),s&&s(),Ve=!1};if(!c||!l||void 0===l.x)return bt("initialZoom"+(a?"Out":"In")),v=e.initialZoomLevel,Pt(ct,e.initialPosition),At(),t.style.opacity=a?0:1,Mt(1),void(c?setTimeout(function(){d()},c):d());!function(){var i=h,s=!r.currItem.src||r.currItem.loadError||o.showHideOpacity;e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),a||(v=l.w/e.w,ct.x=l.x,ct.y=l.y-P,r[s?"template":"bg"].style.opacity=.001,At()),$t("initialZoom"),a&&!i&&n.removeClass(t,"pswp--animated-in"),s&&(a?n[(i?"remove":"add")+"Class"](t,"pswp--animate_opacity"):setTimeout(function(){n.addClass(t,"pswp--animate_opacity")},30)),Re=setTimeout(function(){if(bt("initialZoom"+(a?"Out":"In")),a){var r=l.w/e.w,o={x:ct.x,y:ct.y},h=v,u=ot,f=function(e){1===e?(v=r,ct.x=l.x,ct.y=l.y-R):(v=(r-h)*e+h,ct.x=(l.x-o.x)*e+o.x,ct.y=(l.y-R-o.y)*e+o.y),At(),s?t.style.opacity=1-e:Mt(u-e*u)};i?qt("initialZoom",0,1,c,n.easing.cubic.out,f,d):(f(1),Re=setTimeout(d,c+20))}else v=e.initialZoomLevel,Pt(ct,e.initialPosition),At(),Mt(1),s?t.style.opacity=1:Mt(1),Re=setTimeout(d,c+20)},a?25:90)}()},We={},Xe=[],Ue={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Be.length}},ze=function(t,e,i){if(t.src&&!t.loadError){var a=!i;if(a&&(t.vGap||(t.vGap={top:0,bottom:0}),bt("parseVerticalMargin",t)),We.x=e.x,We.y=e.y-t.vGap.top-t.vGap.bottom,a){var n=We.x/t.w,r=We.y/t.h;t.fitRatio=n<r?n:r;var s=o.scaleMode;"orig"===s?i=1:"fit"===s&&(i=t.fitRatio),i>1&&(i=1),t.initialZoomLevel=i,t.bounds||(t.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!i)return;return function(t,e,i){var a=t.bounds;a.center.x=Math.round((We.x-e)/2),a.center.y=Math.round((We.y-i)/2)+t.vGap.top,a.max.x=e>We.x?Math.round(We.x-e):a.center.x,a.max.y=i>We.y?Math.round(We.y-i)+t.vGap.top:a.center.y,a.min.x=e>We.x?0:a.center.x,a.min.y=i>We.y?t.vGap.top:a.center.y}(t,t.w*i,t.h*i),a&&i===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds}return t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},t.initialPosition=t.bounds.center,t.bounds},Ke=function(t,e,i,a,n,o){e.loadError||a&&(e.imageAppended=!0,qe(e,a,e===r.currItem&&yt),i.appendChild(a),o&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)},500))},$e=function(t){t.loading=!0,t.loaded=!1;var e=t.img=n.createEl("pswp__img","img"),i=function(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,e.onload=e.onerror=null,e=null};return e.onload=i,e.onerror=function(){t.loadError=!0,i()},e.src=t.src,e},je=function(t,e){if(t.src&&t.loadError&&t.container)return e&&(t.container.innerHTML=""),t.container.innerHTML=o.errorMsg.replace("%url%",t.src),!0},qe=function(t,e,i){if(t.src){e||(e=t.container.lastChild);var a=i?t.w:Math.round(t.w*t.fitRatio),n=i?t.h:Math.round(t.h*t.fitRatio);t.placeholder&&!t.loaded&&(t.placeholder.style.width=a+"px",t.placeholder.style.height=n+"px"),e.style.width=a+"px",e.style.height=n+"px"}},Je=function(){if(Xe.length){for(var t,e=0;e<Xe.length;e++)(t=Xe[e]).holder.index===t.index&&Ke(t.index,t.item,t.baseDiv,t.img,0,t.clearPlaceholder);Xe=[]}};xt("Controller",{publicMethods:{lazyLoadItem:function(t){t=St(t);var e=He(t);e&&(!e.loaded&&!e.loading||x)&&(bt("gettingData",t,e),e.src&&$e(e))},initController:function(){n.extend(o,Ue,!0),r.items=Be=i,He=r.getItemAt,Ge=o.getNumItemsFn,o.loop,Ge()<3&&(o.loop=!1),Tt("beforeChange",function(t){var e,i=o.preload,a=null===t||t>=0,n=Math.min(i[0],Ge()),s=Math.min(i[1],Ge());for(e=1;e<=(a?s:n);e++)r.lazyLoadItem(u+e);for(e=1;e<=(a?n:s);e++)r.lazyLoadItem(u-e)}),Tt("initialLayout",function(){r.currItem.initialLayout=o.getThumbBoundsFn&&o.getThumbBoundsFn(u)}),Tt("mainScrollAnimComplete",Je),Tt("initialZoomInEnd",Je),Tt("destroy",function(){for(var t,e=0;e<Be.length;e++)(t=Be[e]).container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);Xe=null})},getItemAt:function(t){return t>=0&&void 0!==Be[t]&&Be[t]},allowProgressiveImg:function(){return o.forceProgressiveLoading||!_||o.mouseUsed||screen.width>1200},setContent:function(t,e){o.loop&&(e=St(e));var i=r.getItemAt(t.index);i&&(i.container=null);var a,l=r.getItemAt(e);if(l){bt("gettingData",e,l),t.index=e,t.item=l;var h=l.container=n.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?h.appendChild(l.html):h.innerHTML=l.html),je(l),ze(l,dt),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&((a=n.createEl("pswp__img","img")).style.opacity=1,a.src=l.src,qe(l,a),Ke(0,l,h,a));else{if(l.loadComplete=function(i){if(s){if(t&&t.index===e){if(je(i,!0))return i.loadComplete=i.img=null,ze(i,dt),_t(i),void(t.index===u&&r.updateCurrZoomItem());i.imageAppended?!Ve&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):B.transform&&(it||Ve)?Xe.push({item:i,baseDiv:h,img:i.img,index:e,holder:t,clearPlaceholder:!0}):Ke(0,i,h,i.img,0,!0)}i.loadComplete=null,i.img=null,bt("imageLoadComplete",e,i)}},n.features.transform){var c="pswp__img pswp__img--placeholder";c+=l.msrc?"":" pswp__img--placeholder--blank";var d=n.createEl(c,l.msrc?"img":"");l.msrc&&(d.src=l.msrc),qe(l,d),h.appendChild(d),l.placeholder=d}l.loading||$e(l),r.allowProgressiveImg()&&(!ke&&B.transform?Xe.push({item:l,baseDiv:h,img:l.img,index:e,holder:t}):Ke(0,l,h,l.img,0,!0))}ke||e!==u?_t(l):(et=h.style,Ye(l,a||l.img)),t.el.innerHTML="",t.el.appendChild(h)}else t.el.innerHTML=""},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});var Ze,Qe,ti={},ei=function(t,e,i){var a=document.createEvent("CustomEvent"),n={origEvent:t,target:t.target,releasePoint:e,pointerType:i||"touch"};a.initCustomEvent("pswpTap",!0,!0,n),t.target.dispatchEvent(a)};xt("Tap",{publicMethods:{initTap:function(){Tt("firstTouchStart",r.onTapStart),Tt("touchRelease",r.onTapRelease),Tt("destroy",function(){ti={},Ze=null})},onTapStart:function(t){t.length>1&&(clearTimeout(Ze),Ze=null)},onTapRelease:function(t,e){if(e&&!$&&!z&&!zt){var i=e;if(Ze&&(clearTimeout(Ze),Ze=null,function(t,e){return Math.abs(t.x-e.x)<25&&Math.abs(t.y-e.y)<25}(i,ti)))return void bt("doubleTap",i);if("mouse"===e.type)return void ei(t,e,"mouse");if("BUTTON"===t.target.tagName.toUpperCase()||n.hasClass(t.target,"pswp__single-tap"))return void ei(t,e);Pt(ti,i),Ze=setTimeout(function(){ei(t,e),Ze=null},300)}}}}),xt("DesktopZoom",{publicMethods:{initDesktopZoom:function(){N||(_?Tt("mouseUsed",function(){r.setupDesktopZoom()}):r.setupDesktopZoom(!0))},setupDesktopZoom:function(e){Qe={};var i="wheel mousewheel DOMMouseScroll";Tt("bindEvents",function(){n.bind(t,i,r.handleMouseWheel)}),Tt("unbindEvents",function(){Qe&&n.unbind(t,i,r.handleMouseWheel)}),r.mouseZoomedIn=!1;var a,o=function(){r.mouseZoomedIn&&(n.removeClass(t,"pswp--zoomed-in"),r.mouseZoomedIn=!1),v<1?n.addClass(t,"pswp--zoom-allowed"):n.removeClass(t,"pswp--zoom-allowed"),s()},s=function(){a&&(n.removeClass(t,"pswp--dragging"),a=!1)};Tt("resize",o),Tt("afterChange",o),Tt("pointerDown",function(){r.mouseZoomedIn&&(a=!0,n.addClass(t,"pswp--dragging"))}),Tt("pointerUp",s),e||o()},handleMouseWheel:function(t){if(v<=r.currItem.fitRatio)return o.modal&&(!o.closeOnScroll||zt||U?t.preventDefault():E&&Math.abs(t.deltaY)>2&&(h=!0,r.close())),!0;if(t.stopPropagation(),Qe.x=0,"deltaX"in t)1===t.deltaMode?(Qe.x=18*t.deltaX,Qe.y=18*t.deltaY):(Qe.x=t.deltaX,Qe.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(Qe.x=-.16*t.wheelDeltaX),t.wheelDeltaY?Qe.y=-.16*t.wheelDeltaY:Qe.y=-.16*t.wheelDelta;else{if(!("detail"in t))return;Qe.y=t.detail}kt(v,!0);var e=ct.x-Qe.x,i=ct.y-Qe.y;(o.modal||e<=tt.min.x&&e>=tt.max.x&&i<=tt.min.y&&i>=tt.max.y)&&t.preventDefault(),r.panTo(e,i)},toggleDesktopZoom:function(e){e=e||{x:dt.x/2+pt.x,y:dt.y/2+pt.y};var i=o.getDoubleTapZoom(!0,r.currItem),a=v===i;r.mouseZoomedIn=!a,r.zoomTo(a?r.currItem.initialZoomLevel:i,e,333),n[(a?"remove":"add")+"Class"](t,"pswp--zoomed-in")}}});var ii,ai,ni,ri,oi,si,li,hi,ui,ci,di,fi,pi={history:!0,galleryUID:1},mi=function(){return di.hash.substring(1)},vi=function(){ii&&clearTimeout(ii),ni&&clearTimeout(ni)},gi=function(){var t=mi(),e={};if(t.length<5)return e;var i,a=t.split("&");for(i=0;i<a.length;i++)if(a[i]){var n=a[i].split("=");n.length<2||(e[n[0]]=n[1])}if(o.galleryPIDs){var r=e.pid;for(e.pid=0,i=0;i<Be.length;i++)if(Be[i].pid===r){e.pid=i;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},Ci=function(){if(ni&&clearTimeout(ni),zt||U)ni=setTimeout(Ci,500);else{ri?clearTimeout(ai):ri=!0;var t=u+1,e=He(u);e.hasOwnProperty("pid")&&(t=e.pid);var i=li+"&gid="+o.galleryUID+"&pid="+t;hi||-1===di.hash.indexOf(i)&&(ci=!0);var a=di.href.split("#")[0]+"#"+i;fi?"#"+i!==window.location.hash&&history[hi?"replaceState":"pushState"]("",document.title,a):hi?di.replace(a):di.hash=i,hi=!0,ai=setTimeout(function(){ri=!1},60)}};xt("History",{publicMethods:{initHistory:function(){if(n.extend(o,pi,!0),o.history){di=window.location,ci=!1,ui=!1,hi=!1,li=mi(),fi="pushState"in history,li.indexOf("gid=")>-1&&(li=(li=li.split("&gid=")[0]).split("?gid=")[0]),Tt("afterChange",r.updateURL),Tt("unbindEvents",function(){n.unbind(window,"hashchange",r.onHashChange)});var t=function(){si=!0,ui||(ci?history.back():li?di.hash=li:fi?history.pushState("",document.title,di.pathname+di.search):di.hash=""),vi()};Tt("unbindEvents",function(){h&&t()}),Tt("destroy",function(){si||t()}),Tt("firstUpdate",function(){u=gi().pid});var e=li.indexOf("pid=");e>-1&&"&"===(li=li.substring(0,e)).slice(-1)&&(li=li.slice(0,-1)),setTimeout(function(){s&&n.bind(window,"hashchange",r.onHashChange)},40)}},onHashChange:function(){if(mi()===li)return ui=!0,void r.close();ri||(oi=!0,r.goTo(gi().pid),oi=!1)},updateURL:function(){vi(),oi||(hi?ii=setTimeout(Ci,800):Ci())}}}),n.extend(r,Jt)}},void 0!==(n="function"==typeof a?a.call(e,i,e,t):a)&&(t.exports=n)},function(t,e,i){var a,n;
/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */a=function(){"use strict";return function(t,e){var i,a,n,r,o,s,l,h,u,c,d,f,p,m,v,g,C,D,y=this,x=!1,S=!0,I=!0,T={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return t.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return t.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},b=function(t){if(g)return!0;t=t||window.event,v.timeToIdle&&v.mouseUsed&&!u&&N();for(var i,a,n=t.target||t.srcElement,r=n.getAttribute("class")||"",o=0;o<V.length;o++)(i=V[o]).onTap&&r.indexOf("pswp__"+i.name)>-1&&(i.onTap(),a=!0);if(a){t.stopPropagation&&t.stopPropagation(),g=!0;var s=e.features.isOldAndroid?600:30;setTimeout(function(){g=!1},s)}},w=function(){return!t.likelyTouchDevice||v.mouseUsed||screen.width>v.fitControlsWidth},M=function(t,i,a){e[(a?"add":"remove")+"Class"](t,"pswp__"+i)},E=function(){var t=1===v.getNumItemsFn();t!==m&&(M(a,"ui--one-slide",t),m=t)},A=function(){M(l,"share-modal--hidden",I)},_=function(){return(I=!I)?(e.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){I&&A()},300)):(A(),setTimeout(function(){I||e.addClass(l,"pswp__share-modal--fade-in")},30)),I||F(),!1},L=function(e){var i=(e=e||window.event).target||e.srcElement;return t.shout("shareLinkClick",e,i),!(!i.href||!i.hasAttribute("download")&&(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),I||_(),1))},F=function(){for(var t,e,i,a,n,r="",o=0;o<v.shareButtons.length;o++)t=v.shareButtons[o],i=v.getImageURLForShare(t),a=v.getPageURLForShare(t),n=v.getTextForShare(t),e=t.url.replace("{{url}}",encodeURIComponent(a)).replace("{{image_url}}",encodeURIComponent(i)).replace("{{raw_image_url}}",i).replace("{{text}}",encodeURIComponent(n)),r+='<a href="'+e+'" target="_blank" class="pswp__share--'+t.id+'"'+(t.download?"download":"")+">"+t.label+"</a>",v.parseShareButtonOut&&(r=v.parseShareButtonOut(t,r));l.children[0].innerHTML=r,l.children[0].onclick=L},O=function(t){for(var i=0;i<v.closeElClasses.length;i++)if(e.hasClass(t,"pswp__"+v.closeElClasses[i]))return!0},P=0,N=function(){clearTimeout(D),P=0,u&&y.setIdle(!1)},R=function(t){var e=(t=t||window.event).relatedTarget||t.toElement;e&&"HTML"!==e.nodeName||(clearTimeout(D),D=setTimeout(function(){y.setIdle(!0)},v.timeToIdleOutside))},B=function(t){f!==t&&(M(d,"preloader--active",!t),f=t)},k=function(t){var i=t.vGap;if(w()){var o=v.barsSize;if(v.captionEl&&"auto"===o.bottom)if(r||((r=e.createEl("pswp__caption pswp__caption--fake")).appendChild(e.createEl("pswp__caption__center")),a.insertBefore(r,n),e.addClass(a,"pswp__ui--fit")),v.addCaptionHTMLFn(t,r,!0)){var s=r.clientHeight;i.bottom=parseInt(s,10)||44}else i.bottom=o.top;else i.bottom="auto"===o.bottom?0:o.bottom;i.top=o.top}else i.top=i.bottom=0},V=[{name:"caption",option:"captionEl",onInit:function(t){n=t}},{name:"share-modal",option:"shareEl",onInit:function(t){l=t},onTap:function(){_()}},{name:"button--share",option:"shareEl",onInit:function(t){s=t},onTap:function(){_()}},{name:"button--zoom",option:"zoomEl",onTap:t.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(t){o=t}},{name:"button--close",option:"closeEl",onTap:t.close},{name:"button--arrow--left",option:"arrowEl",onTap:t.prev},{name:"button--arrow--right",option:"arrowEl",onTap:t.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){i.isFullscreen()?i.exit():i.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(t){d=t}}];y.init=function(){e.extend(t.options,T,!0),v=t.options,a=e.getChildByClass(t.scrollWrap,"pswp__ui"),c=t.listen,function(){var t;c("onVerticalDrag",function(t){S&&t<.95?y.hideControls():!S&&t>=.95&&y.showControls()}),c("onPinchClose",function(e){S&&e<.9?(y.hideControls(),t=!0):t&&!S&&e>.9&&y.showControls()}),c("zoomGestureEnded",function(){(t=!1)&&!S&&y.showControls()})}(),c("beforeChange",y.update),c("doubleTap",function(e){var i=t.currItem.initialZoomLevel;t.getZoomLevel()!==i?t.zoomTo(i,e,333):t.zoomTo(v.getDoubleTapZoom(!1,t.currItem),e,333)}),c("preventDragEvent",function(t,e,i){var a=t.target||t.srcElement;a&&a.getAttribute("class")&&t.type.indexOf("mouse")>-1&&(a.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(a.tagName))&&(i.prevent=!1)}),c("bindEvents",function(){e.bind(a,"pswpTap click",b),e.bind(t.scrollWrap,"pswpTap",y.onGlobalTap),t.likelyTouchDevice||e.bind(t.scrollWrap,"mouseover",y.onMouseOver)}),c("unbindEvents",function(){I||_(),C&&clearInterval(C),e.unbind(document,"mouseout",R),e.unbind(document,"mousemove",N),e.unbind(a,"pswpTap click",b),e.unbind(t.scrollWrap,"pswpTap",y.onGlobalTap),e.unbind(t.scrollWrap,"mouseover",y.onMouseOver),i&&(e.unbind(document,i.eventK,y.updateFullscreen),i.isFullscreen()&&(v.hideAnimationDuration=0,i.exit()),i=null)}),c("destroy",function(){v.captionEl&&(r&&a.removeChild(r),e.removeClass(n,"pswp__caption--empty")),l&&(l.children[0].onclick=null),e.removeClass(a,"pswp__ui--over-close"),e.addClass(a,"pswp__ui--hidden"),y.setIdle(!1)}),v.showAnimationDuration||e.removeClass(a,"pswp__ui--hidden"),c("initialZoomIn",function(){v.showAnimationDuration&&e.removeClass(a,"pswp__ui--hidden")}),c("initialZoomOut",function(){e.addClass(a,"pswp__ui--hidden")}),c("parseVerticalMargin",k),function(){var t,i,n,r=function(a){if(a)for(var r=a.length,o=0;o<r;o++){t=a[o],i=t.className;for(var s=0;s<V.length;s++)n=V[s],i.indexOf("pswp__"+n.name)>-1&&(v[n.option]?(e.removeClass(t,"pswp__element--disabled"),n.onInit&&n.onInit(t)):e.addClass(t,"pswp__element--disabled"))}};r(a.children);var o=e.getChildByClass(a,"pswp__top-bar");o&&r(o.children)}(),v.shareEl&&s&&l&&(I=!0),E(),v.timeToIdle&&c("mouseUsed",function(){e.bind(document,"mousemove",N),e.bind(document,"mouseout",R),C=setInterval(function(){2==++P&&y.setIdle(!0)},v.timeToIdle/2)}),v.fullscreenEl&&!e.features.isOldAndroid&&(i||(i=y.getFullscreenAPI()),i?(e.bind(document,i.eventK,y.updateFullscreen),y.updateFullscreen(),e.addClass(t.template,"pswp--supports-fs")):e.removeClass(t.template,"pswp--supports-fs")),v.preloaderEl&&(B(!0),c("beforeChange",function(){clearTimeout(p),p=setTimeout(function(){t.currItem&&t.currItem.loading?(!t.allowProgressiveImg()||t.currItem.img&&!t.currItem.img.naturalWidth)&&B(!1):B(!0)},v.loadingIndicatorDelay)}),c("imageLoadComplete",function(e,i){t.currItem===i&&B(!0)}))},y.setIdle=function(t){u=t,M(a,"ui--idle",t)},y.update=function(){S&&t.currItem?(y.updateIndexIndicator(),v.captionEl&&(v.addCaptionHTMLFn(t.currItem,n),M(n,"caption--empty",!t.currItem.title)),x=!0):x=!1,I||_(),E()},y.updateFullscreen=function(a){a&&setTimeout(function(){t.setScrollOffset(0,e.getScrollY())},50),e[(i.isFullscreen()?"add":"remove")+"Class"](t.template,"pswp--fs")},y.updateIndexIndicator=function(){v.counterEl&&(o.innerHTML=t.getCurrentIndex()+1+v.indexIndicatorSep+v.getNumItemsFn())},y.onGlobalTap=function(i){var a=(i=i||window.event).target||i.srcElement;if(!g)if(i.detail&&"mouse"===i.detail.pointerType){if(O(a))return void t.close();e.hasClass(a,"pswp__img")&&(1===t.getZoomLevel()&&t.getZoomLevel()<=t.currItem.fitRatio?v.clickToCloseNonZoomable&&t.close():t.toggleDesktopZoom(i.detail.releasePoint))}else if(v.tapToToggleControls&&(S?y.hideControls():y.showControls()),v.tapToClose&&(e.hasClass(a,"pswp__img")||O(a)))return void t.close()},y.onMouseOver=function(t){var e=(t=t||window.event).target||t.srcElement;M(a,"ui--over-close",O(e))},y.hideControls=function(){e.addClass(a,"pswp__ui--hidden"),S=!1},y.showControls=function(){S=!0,x||y.update(),e.removeClass(a,"pswp__ui--hidden")},y.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},y.getFullscreenAPI=function(){var e,i=document.documentElement,a="fullscreenchange";return i.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:a}:i.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+a}:i.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+a}:i.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){if(h=v.closeOnScroll,v.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return t.template[this.enterK]();t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return v.closeOnScroll=h,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}},void 0!==(n="function"==typeof a?a.call(e,i,e,t):a)&&(t.exports=n)}])},t.exports=a()},icur:function(t,e,i){i("4Nz2").__DEV__;var a=i("Icdr"),n=i("/gxq"),r=i("NUWb"),o=i("Pdtn"),s=["#ddd"];function l(t,e){return n.merge({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new o(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var h=a.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var i=this.option;!e&&r.replaceVisualOption(i,t,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:s},a.hasOwnProperty("liftZ")||(a.liftZ=5)},setAreas:function(t){t&&(this.areas=n.map(t,function(t){return l(this.option,t)},this))},setBrushOption:function(t){this.brushOption=l(this.option,t),this.brushType=this.brushOption.brushType}});t.exports=h},ifoU:function(t,e,i){t.exports={default:i("3C/1"),__esModule:!0}},iggS:function(t,e,i){i("eaw8"),t.exports=i("FeBl").Math.log10},ii60:function(t,e){e.updateCenterAndZoom=function(t,e,i){var a=t.getZoom(),n=t.getCenter(),r=e.zoom,o=t.dataToPoint(n);null!=e.dx&&null!=e.dy&&(o[0]-=e.dx,o[1]-=e.dy,n=t.pointToData(o),t.setCenter(n));if(null!=r){if(i){var s=i.min||0,l=i.max||1/0;r=Math.max(Math.min(a*r,l),s)/a}t.scale[0]*=r,t.scale[1]*=r;var h=t.position,u=(e.originX-h[0])*(r-1),c=(e.originY-h[1])*(r-1);h[0]-=u,h[1]-=c,t.updateTransform(),n=t.pointToData(o),t.setCenter(n),t.setZoom(r*a)}return{center:t.getCenter(),zoom:t.getZoom()}}},ilLo:function(t,e,i){var a=i("Pgdp").extend({type:"dataZoom",render:function(t,e,i,a){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetCoordInfo:function(){var t=this.dataZoomModel,e=this.ecModel,i={};return t.eachTargetAxis(function(t,a){var n=e.getComponent(t.axis,a);if(n){var r=n.getCoordSysModel();r&&function(t,e,i,a){for(var n,r=0;r<i.length;r++)if(i[r].model===t){n=i[r];break}n||i.push(n={model:t,axisModels:[],coordIndex:a});n.axisModels.push(e)}(r,n,i[r.mainType]||(i[r.mainType]=[]),r.componentIndex)}},this),i}});t.exports=a},ilox:function(t,e,i){var a=i("/gxq");function n(t,e){return a.map(["Radius","Angle"],function(i,a){var n=this["get"+i+"Axis"](),r=e[a],o=t[a]/2,s="dataTo"+i,l="category"===n.type?n.getBandWidth():Math.abs(n[s](r-o)-n[s](r+o));return"Angle"===i&&(l=l*Math.PI/180),l},this)}t.exports=function(t){var e=t.getRadiusAxis(),i=t.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:a.bind(function(a){var n=e.dataToRadius(a[0]),r=i.dataToAngle(a[1]),o=t.coordToPoint([n,r]);return o.push(n,r*Math.PI/180),o}),size:a.bind(n,t)}}}},ioQ5:function(t,e,i){i("HpRW")("Set")},ix3c:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("0sHC"),o=i("1Hui"),s=i("gOx9"),l=i("IkDM"),h=i("5Mek"),u=i("8b51"),c=i("dOVI"),d=i("e+YR"),f=i("RYbJ"),p=n.bind,m=r.Group,v=r.Rect,g=n.each,C=["label"],D=["emphasis","label"],y=["upperLabel"],x=["emphasis","upperLabel"],S=10,I=1,T=2,b=f([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),w=function(t){var e=b(t);return e.stroke=e.fill=e.lineWidth=null,e},M=a.extendChartView({type:"treemap",init:function(t,e){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(t,e,i,a){var r=e.findComponents({mainType:"series",subType:"treemap",query:a});if(!(n.indexOf(r,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var o=s.retrieveTargetInfo(a,["treemapZoomToNode","treemapRootToNode"],t),l=a&&a.type,h=t.layoutInfo,u=!this._oldTree,c=this._storage,d="treemapRootToNode"===l&&o&&c?{rootNodeGroup:c.nodeGroup[o.node.getRawIndex()],direction:a.direction}:null,f=this._giveContainerGroup(h),p=this._doRender(f,t,d);u||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?p.renderFinally():this._doAnimation(f,p,t,d),this._resetController(i),this._renderBreadcrumb(t,i,o)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new m,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,i){var a=e.getData().tree,r=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},h=this._storage,u=[],c=n.curry(E,e,l,h,i,s,u);!function t(e,i,a,r,s){r?(i=e,g(e,function(t,e){!t.isRemoved()&&h(e,e)})):new o(i,e,l,l).add(h).update(h).remove(n.curry(h,null)).execute();function l(t){return t.getId()}function h(n,o){var l=null!=n?e[n]:null,h=null!=o?i[o]:null,u=c(l,h,a,s);u&&t(l&&l.viewChildren||[],h&&h.viewChildren||[],u,r,s+1)}}(a.root?[a.root]:[],r&&r.root?[r.root]:[],t,a===r||!r,0);var d=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&g(t,function(t,i){var a=e[i];g(t,function(t){t&&(a.push(t),t.__tmWillDelete=1)})}),e}(h);return this._oldTree=a,this._storage=l,{lastsForAnimation:s,willDeleteEls:d,renderFinally:function(){g(d,function(t){g(t,function(t){t.parent&&t.parent.remove(t)})}),g(u,function(t){t.invisible=!0,t.dirty()})}}},_doAnimation:function(t,e,i,a){if(i.get("animation")){var r=i.get("animationDurationUpdate"),o=i.get("animationEasing"),s=d.createWrap();g(e.willDeleteEls,function(t,e){g(t,function(t,i){if(!t.invisible){var n,l=t.parent;if(a&&"drillDown"===a.direction)n=l===a.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var h=0,u=0;l.__tmWillDelete||(h=l.__tmNodeWidth/2,u=l.__tmNodeHeight/2),n="nodeGroup"===e?{position:[h,u],style:{opacity:0}}:{shape:{x:h,y:u,width:0,height:0},style:{opacity:0}}}n&&s.add(t,n,r,o)}})}),g(this._storage,function(t,i){g(t,function(t,a){var l=e.lastsForAnimation[i][a],h={};l&&("nodeGroup"===i?l.old&&(h.position=t.position.slice(),t.attr("position",l.old)):(l.old&&(h.shape=n.extend({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle("opacity",0),h.style={opacity:1}):1!==t.style.opacity&&(h.style={opacity:1})),s.add(t,h,r,o))})},this),this._state="animating",s.done(p(function(){this._state="ready",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||((e=this._controller=new h(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",p(this._onPan,this)),e.on("zoom",p(this._onZoom,this)));var i=new u(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,a){return i.contain(e,a)})},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)},_onPan:function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var i=e.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},_onZoom:function(t){var e=t.originX,i=t.originY;if("animating"!==this._state){var a=this.seriesModel.getData().tree.root;if(!a)return;var n=a.getLayout();if(!n)return;var r=new u(n.x,n.y,n.width,n.height),o=this.seriesModel.layoutInfo;e-=o.x,i-=o.y;var s=c.create();c.translate(s,s,[-e,-i]),c.scale(s,s,[t.scale,t.scale]),c.translate(s,s,[e,i]),r.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x,y:r.y,width:r.width,height:r.height}})}},_initEvents:function(t){t.on("click",function(t){if("ready"===this._state){var e=this.seriesModel.get("nodeClick",!0);if(e){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var a=i.node;if(a.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===e)this._zoomToNode(i);else if("link"===e){var n=a.hostTree.data.getItemModel(a.dataIndex),r=n.get("link",!0),o=n.get("target",!0)||"blank";r&&window.open(r,o)}}}}},this)},_renderBreadcrumb:function(t,e,i){i||(i=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(i={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new l(this.group))).render(t,e,i.node,p(function(e){"animating"!==this._state&&(s.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(a){var n=this._storage.background[a.getRawIndex()];if(n){var r=n.transformCoordToLocal(t,e),o=n.shape;if(!(o.x<=r[0]&&r[0]<=o.x+o.width&&o.y<=r[1]&&r[1]<=o.y+o.height))return!1;i={node:a,offsetX:r[0],offsetY:r[1]}}},this),i}});function E(t,e,i,a,o,s,l,h,u,c){if(l){var d=l.getLayout();if(d&&d.isInView){var f=d.width,p=d.height,g=d.borderWidth,M=d.invisible,E=l.getRawIndex(),A=h&&h.getRawIndex(),_=l.viewChildren,L=d.upperHeight,F=_&&_.length,O=l.getModel("itemStyle"),P=l.getModel("emphasis.itemStyle"),N=H("nodeGroup",m);if(N){if(u.add(N),N.attr("position",[d.x||0,d.y||0]),N.__tmNodeWidth=f,N.__tmNodeHeight=p,d.isAboveViewRoot)return N;var R=H("background",v,c,I);if(R&&function(e,i,a){i.dataIndex=l.dataIndex,i.seriesIndex=t.seriesIndex,i.setShape({x:0,y:0,width:f,height:p});var n=l.getVisual("borderColor",!0),o=P.get("borderColor");k(i,function(){var t=w(O);t.fill=n;var e=b(P);if(e.fill=o,a){var s=f-2*g;V(t,e,n,s,L,{x:g,y:0,width:s,height:L})}else t.text=e.text=null;i.setStyle(t),r.setHoverStyle(i,e)}),e.add(i)}(N,R,F&&d.upperHeight),!F){var B=H("content",v,c,T);B&&function(e,i){i.dataIndex=l.dataIndex,i.seriesIndex=t.seriesIndex;var a=Math.max(f-2*g,0),n=Math.max(p-2*g,0);i.culling=!0,i.setShape({x:g,y:g,width:a,height:n});var o=l.getVisual("color",!0);k(i,function(){var t=w(O);t.fill=o;var e=b(P);V(t,e,o,a,n),i.setStyle(t),r.setHoverStyle(i,e)}),e.add(i)}(N,B)}return N}}}function k(t,e){M?!t.invisible&&s.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function V(e,i,a,o,s,h){var u=l.getModel(),c=n.retrieve(t.getFormattedLabel(l.dataIndex,"normal",null,null,h?"upperLabel":"label"),u.get("name"));if(!h&&d.isLeafRoot){var f=t.get("drillDownIcon",!0);c=f?f+" "+c:c}var p=u.getModel(h?y:C),m=u.getModel(h?x:D),v=p.getShallow("show");r.setLabelStyle(e,i,p,m,{defaultText:v?c:null,autoColor:a,isRectText:!0}),h&&(e.textRect=n.clone(h)),e.truncate=v&&p.get("ellipsis")?{outerWidth:o,outerHeight:s,minChar:2}:null}function H(t,r,s,h){var u=null!=A&&i[t][A],c=o[t];return u?(i[t][A]=null,function(t,e,i){(t[E]={}).old="nodeGroup"===i?e.position.slice():n.extend({},e.shape)}(c,u,t)):M||((u=new r({z:function(t,e){var i=t*S+e;return(i-1)/i}(s,h)})).__tmDepth=s,u.__tmStorageName=t,function(t,e,i){var n=t[E]={},r=l.parentNode;if(r&&(!a||"drillDown"===a.direction)){var s=0,h=0,u=o.background[r.getRawIndex()];!a&&u&&u.old&&(s=u.old.width,h=u.old.height),n.old="nodeGroup"===i?[0,h]:{x:s,y:h,width:0,height:0}}n.fadein="nodeGroup"!==i}(c,0,t)),e[t][E]=u}}t.exports=M},j9JH:function(t,e,i){t.exports={default:i("iggS"),__esModule:!0}},jDhh:function(t,e,i){var a=i("AlhT"),n=i("MAom"),r=i("/86O"),o=i("Of86"),s=i("PD67"),l=i("udrn"),h=i("KsMi"),u=i("GxVO"),c=i("+UTs"),d=i("BeCT"),f=i("Gw4f"),p=i("d8Tt"),m=i("dOVI"),v=i("dE09").createFromString,g=i("/gxq"),C=g.isString,D=g.extend,y=g.defaults,x=g.trim,S=g.each,I=/[\s,]+/;function T(t){C(t)&&(t=(new DOMParser).parseFromString(t,"text/xml"));for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function b(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}b.prototype.parse=function(t,e){e=e||{};var i=T(t);if(!i)throw new Error("Illegal svg");var n=new a;this._root=n;var r=i.getAttribute("viewBox")||"",o=parseFloat(i.getAttribute("width")||e.width),l=parseFloat(i.getAttribute("height")||e.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),L(i,n,null,!0);for(var h,u,c=i.firstChild;c;)this._parseNode(c,n),c=c.nextSibling;if(r){var d=x(r).split(I);d.length>=4&&(h={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(h&&null!=o&&null!=l&&(u=R(h,o,l),!e.ignoreViewBox)){var f=n;(n=new a).add(f),f.scale=u.scale.slice(),f.position=u.position.slice()}return e.ignoreRootClip||null==o||null==l||n.setClipPath(new s({shape:{x:0,y:0,width:o,height:l}})),{root:n,width:o,height:l,viewBoxRect:h,viewBoxTransform:u}},b.prototype._parseNode=function(t,e){var i,a,n=t.nodeName.toLowerCase();if("defs"===n?this._isDefine=!0:"text"===n&&(this._isText=!0),this._isDefine){if(a=M[n]){var r=a.call(this,t),o=t.getAttribute("id");o&&(this._defs[o]=r)}}else(a=w[n])&&(i=a.call(this,t,e),e.add(i));for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,i),3===s.nodeType&&this._isText&&this._parseText(s,i),s=s.nextSibling;"defs"===n?this._isDefine=!1:"text"===n&&(this._isText=!1)},b.prototype._parseText=function(t,e){if(1===t.nodeType){var i=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0;this._textX+=parseFloat(i),this._textY+=parseFloat(a)}var n=new r({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});E(e,n),L(t,n,this._defs);var o=n.style.fontSize;o&&o<9&&(n.style.fontSize=9,n.scale=n.scale||[1,1],n.scale[0]*=o/9,n.scale[1]*=o/9);var s=n.getBoundingRect();return this._textX+=s.width,e.add(n),n};var w={g:function(t,e){var i=new a;return E(e,i),L(t,i,this._defs),i},rect:function(t,e){var i=new s;return E(e,i),L(t,i,this._defs),i.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),i},circle:function(t,e){var i=new o;return E(e,i),L(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),i},line:function(t,e){var i=new h;return E(e,i),L(t,i,this._defs),i.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),i},ellipse:function(t,e){var i=new l;return E(e,i),L(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),i},polygon:function(t,e){var i=t.getAttribute("points");i&&(i=A(i));var a=new c({shape:{points:i||[]}});return E(e,a),L(t,a,this._defs),a},polyline:function(t,e){var i=new u;E(e,i),L(t,i,this._defs);var a=t.getAttribute("points");return a&&(a=A(a)),new d({shape:{points:a||[]}})},image:function(t,e){var i=new n;return E(e,i),L(t,i,this._defs),i.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),i},text:function(t,e){var i=t.getAttribute("x")||0,n=t.getAttribute("y")||0,r=t.getAttribute("dx")||0,o=t.getAttribute("dy")||0;this._textX=parseFloat(i)+parseFloat(r),this._textY=parseFloat(n)+parseFloat(o);var s=new a;return E(e,s),L(t,s,this._defs),s},tspan:function(t,e){var i=t.getAttribute("x"),n=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=n&&(this._textY=parseFloat(n));var r=t.getAttribute("dx")||0,o=t.getAttribute("dy")||0,s=new a;return E(e,s),L(t,s,this._defs),this._textX+=r,this._textY+=o,s},path:function(t,e){var i=t.getAttribute("d")||"",a=v(i);return E(e,a),L(t,a,this._defs),a}},M={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),i=parseInt(t.getAttribute("y1")||0,10),a=parseInt(t.getAttribute("x2")||10,10),n=parseInt(t.getAttribute("y2")||0,10),r=new f(e,i,a,n);return function(t,e){var i=t.firstChild;for(;i;){if(1===i.nodeType){var a=i.getAttribute("offset");a=a.indexOf("%")>0?parseInt(a,10)/100:a?parseFloat(a):0;var n=i.getAttribute("stop-color")||"#000000";e.addColorStop(a,n)}i=i.nextSibling}}(t,r),r},radialgradient:function(t){}};function E(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),y(e.__inheritedStyle,t.__inheritedStyle))}function A(t){for(var e=x(t).split(I),i=[],a=0;a<e.length;a+=2){var n=parseFloat(e[a]),r=parseFloat(e[a+1]);i.push([n,r])}return i}var _={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function L(t,e,i,a){var n=e.__inheritedStyle||{},r="text"===e.type;if(1===t.nodeType&&(function(t,e){var i=t.getAttribute("transform");if(i){var a=null,n=[];(i=i.replace(/,/g," ")).replace(P,function(t,e,i){n.push(e,i)});for(var r=n.length-1;r>0;r-=2){var o=n[r],s=n[r-1];switch(a=a||m.create(),s){case"translate":o=x(o).split(I),m.translate(a,a,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=x(o).split(I),m.scale(a,a,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=x(o).split(I),m.rotate(a,a,parseFloat(o[0]));break;case"skew":o=x(o).split(I),console.warn("Skew transform is not supported yet");break;case"matrix":var o=x(o).split(I);a[0]=parseFloat(o[0]),a[1]=parseFloat(o[1]),a[2]=parseFloat(o[2]),a[3]=parseFloat(o[3]),a[4]=parseFloat(o[4]),a[5]=parseFloat(o[5])}}e.setLocalTransform(a)}}(t,e),D(n,function(t){var e=t.getAttribute("style"),i={};if(!e)return i;var a,n={};N.lastIndex=0;for(;null!=(a=N.exec(e));)n[a[1]]=a[2];for(var r in _)_.hasOwnProperty(r)&&null!=n[r]&&(i[_[r]]=n[r]);return i}(t)),!a))for(var o in _)if(_.hasOwnProperty(o)){var s=t.getAttribute(o);null!=s&&(n[_[o]]=s)}var l=r?"textFill":"fill",h=r?"textStroke":"stroke";e.style=e.style||new p;var u=e.style;null!=n.fill&&u.set(l,O(n.fill,i)),null!=n.stroke&&u.set(h,O(n.stroke,i)),S(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){var e="lineWidth"===t&&r?"textStrokeWidth":t;null!=n[t]&&u.set(e,parseFloat(n[t]))}),n.textBaseline&&"auto"!==n.textBaseline||(n.textBaseline="alphabetic"),"alphabetic"===n.textBaseline&&(n.textBaseline="bottom"),"start"===n.textAlign&&(n.textAlign="left"),"end"===n.textAlign&&(n.textAlign="right"),S(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=n[t]&&u.set(t,n[t])}),n.lineDash&&(e.style.lineDash=x(n.lineDash).split(I)),u[h]&&"none"!==u[h]&&(e[h]=!0),e.__inheritedStyle=n}var F=/url\(\s*#(.*?)\)/;function O(t,e){var i=e&&t&&t.match(F);return i?e[x(i[1])]:t}var P=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;var N=/([^\s:;]+)\s*:\s*([^:;]+)/g;function R(t,e,i){var a=e/t.width,n=i/t.height,r=Math.min(a,n);return{scale:[r,r],position:[-(t.x+t.width/2)*r+e/2,-(t.y+t.height/2)*r+i/2]}}e.parseXML=T,e.makeViewBoxTransform=R,e.parseSVG=function(t,e){return(new b).parse(t,e)}},"jF+B":function(t,e,i){"use strict";var a=i("Dsid");r.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}();var n=r.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function r(t,e,i){return r.TYPED_ARRAY_SUPPORT||this instanceof r?"number"==typeof t?l(this,t):function(t,e,i,a){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer)return function(t,e,i,a){if(i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(a||0))throw new RangeError("'length' is out of bounds");var n;n=void 0===i&&void 0===a?new Uint8Array(e):void 0===a?new Uint8Array(e,i):new Uint8Array(e,i,a);r.TYPED_ARRAY_SUPPORT?n.__proto__=r.prototype:n=h(t,n);return n}(t,e,i,a);if("string"==typeof e)return function(t,e){var i=0|c(e),a=s(t,i),n=a.write(e);n!==i&&(a=a.slice(0,n));return a}(t,e);return function(t,e){if(r.isBuffer(e)){var i=0|o(e.length),a=s(t,i);return 0===a.length?a:(e.copy(a,0,0,i),a)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):h(t,e);if("Buffer"===e.type&&Array.isArray(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}(this,t,e,i):new r(t,e,i)}function o(t){if(t>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|t}function s(t,e){var i;return r.TYPED_ARRAY_SUPPORT?(i=new Uint8Array(e)).__proto__=r.prototype:(null===(i=t)&&(i=new r(e)),i.length=e),i}function l(t,e){var i=s(t,e<0?0:0|o(e));if(!r.TYPED_ARRAY_SUPPORT)for(var a=0;a<e;++a)i[a]=0;return i}function h(t,e){for(var i=e.length<0?0:0|o(e.length),a=s(t,i),n=0;n<i;n+=1)a[n]=255&e[n];return a}function u(t,e){var i;e=e||1/0;for(var a=t.length,n=null,r=[],o=0;o<a;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(o+1===a){(e-=3)>-1&&r.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&r.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(e-=3)>-1&&r.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;r.push(i)}else if(i<2048){if((e-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function c(t){return r.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:u(t).length)}r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),r.prototype.write=function(t,e,i){void 0===e?(i=this.length,e=0):void 0===i&&"string"==typeof e?(i=this.length,e=0):isFinite(e)&&(e|=0,isFinite(i)?i|=0:i=void 0);var a=this.length-e;if((void 0===i||i>a)&&(i=a),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(t,e,i,a){return function(t,e,i,a){for(var n=0;n<a&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}(u(e,t.length-i),t,i,a)}(this,t,e,i)},r.prototype.slice=function(t,e){var i,a=this.length;if(t=~~t,e=void 0===e?a:~~e,t<0?(t+=a)<0&&(t=0):t>a&&(t=a),e<0?(e+=a)<0&&(e=0):e>a&&(e=a),e<t&&(e=t),r.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=r.prototype;else{var n=e-t;i=new r(n,void 0);for(var o=0;o<n;++o)i[o]=this[o+t]}return i},r.prototype.copy=function(t,e,i,a){if(i||(i=0),a||0===a||(a=this.length),e>=t.length&&(e=t.length),e||(e=0),a>0&&a<i&&(a=i),a===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-e<a-i&&(a=t.length-e+i);var n,o=a-i;if(this===t&&i<e&&e<a)for(n=o-1;n>=0;--n)t[n+e]=this[n+i];else if(o<1e3||!r.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)t[n+e]=this[n+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},r.prototype.fill=function(t,e,i){if("string"==typeof t){if("string"==typeof e?(e=0,i=this.length):"string"==typeof i&&(i=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var n;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(n=e;n<i;++n)this[n]=t;else{var o=r.isBuffer(t)?t:new r(t),s=o.length;for(n=0;n<i-e;++n)this[n+e]=o[n%s]}return this},r.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s(null,0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=l(null,e),o=0;for(i=0;i<t.length;++i){var h=t[i];if(!r.isBuffer(h))throw new TypeError('"list" argument must be an Array of Buffers');h.copy(n,o),o+=h.length}return n},r.byteLength=c,r.prototype._isBuffer=!0,r.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.exports.alloc=function(t){var e=new r(t);return e.fill(0),e},t.exports.from=function(t){return new r(t)}},jFbC:function(t,e,i){i("Cdx3"),t.exports=i("FeBl").Object.keys},jHiU:function(t,e,i){var a=i("/gxq"),n=i("wRzc"),r=function(t,e,i,a,r){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type="radial",this.global=r||!1,n.call(this,a)};r.prototype={constructor:r},a.inherits(r,n);var o=r;t.exports=o},jJrn:function(t,e,i){var a=i("/gxq"),n=i("JFJR"),r=i("tBuv"),o=i("wWR3"),s=i("3yJd"),l=s.getScaleExtent,h=s.niceScaleExtent,u=i("rctg"),c=i("xCbH");function d(t,e,i){this._model=t,this.dimensions=[],this._indicatorAxes=a.map(t.getIndicatorModels(),function(t,e){var i="indicator_"+e,a=new n(i,"log"===t.get("axisType")?new c:new r);return a.name=t.get("name"),a.model=t,t.axis=a,this.dimensions.push(i),a},this),this.resize(t,i),this.cx,this.cy,this.r,this.r0,this.startAngle}d.prototype.getIndicatorAxes=function(){return this._indicatorAxes},d.prototype.dataToPoint=function(t,e){var i=this._indicatorAxes[e];return this.coordToPoint(i.dataToCoord(t),e)},d.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},d.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,a=Math.sqrt(e*e+i*i);e/=a,i/=a;for(var n,r=Math.atan2(-i,e),o=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var h=this._indicatorAxes[l],u=Math.abs(r-h.angle);u<o&&(n=h,s=l,o=u)}return[s,+(n&&n.coordToData(a))]},d.prototype.resize=function(t,e){var i=t.get("center"),n=e.getWidth(),r=e.getHeight(),s=Math.min(n,r)/2;this.cx=o.parsePercent(i[0],n),this.cy=o.parsePercent(i[1],r),this.startAngle=t.get("startAngle")*Math.PI/180;var l=t.get("radius");"string"!=typeof l&&"number"!=typeof l||(l=[0,l]),this.r0=o.parsePercent(l[0],s),this.r=o.parsePercent(l[1],s),a.each(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i},this)},d.prototype.update=function(t,e){var i=this._indicatorAxes,n=this._model;a.each(i,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e,r){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===n){var o=e.getData();a.each(i,function(t){t.scale.unionExtentFromData(o,o.mapDimension(t.dim))})}},this);var r=n.get("splitNumber");function s(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),i=t/e;return 2===i?i=5:i*=2,i*e}a.each(i,function(t,e){var i=l(t.scale,t.model);h(t.scale,t.model);var a=t.model,n=t.scale,u=a.getMin(),c=a.getMax(),d=n.getInterval();if(null!=u&&null!=c)n.setExtent(+u,+c),n.setInterval((c-u)/r);else if(null!=u){var f;do{f=u+d*r,n.setExtent(+u,f),n.setInterval(d),d=s(d)}while(f<i[1]&&isFinite(f)&&isFinite(i[1]))}else if(null!=c){var p;do{p=c-d*r,n.setExtent(p,+c),n.setInterval(d),d=s(d)}while(p>i[0]&&isFinite(p)&&isFinite(i[0]))}else{n.getTicks().length-1>r&&(d=s(d));var m=Math.round((i[0]+i[1])/2/d)*d,v=Math.round(r/2);n.setExtent(o.round(m-v*d),o.round(m+(r-v)*d)),n.setInterval(d)}})},d.dimensions=[],d.create=function(t,e){var i=[];return t.eachComponent("radar",function(a){var n=new d(a,t,e);i.push(n),a.coordinateSystem=n}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])}),i},u.register("radar",d);var f=d;t.exports=f},"jKW+":function(t,e,i){"use strict";var a=i("kM2E"),n=i("qARP"),r=i("dNDb");a(a.S,"Promise",{try:function(t){var e=n.f(this),i=r(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},jLnL:function(t,e,i){i("4w1v"),(0,i("hv2j").registerPainter)("svg",i("Q5xN"))},jMTz:function(t,e,i){i("4Nz2").__DEV__;var a=i("ao1T"),n=i("EJsE").extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return a(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});t.exports=n},jmaC:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t){for(var e=1,i=arguments.length;e<i;e++){var a=arguments[e]||{};for(var n in a)if(a.hasOwnProperty(n)){var r=a[n];void 0!==r&&(t[n]=r)}}return t}},jpt2:function(t,e,i){var a=i("LBXi"),n=i("Icdr").extendComponentView({type:"geo",init:function(t,e){var i=new a(e,!0);this._mapDraw=i,this.group.add(i.group)},render:function(t,e,i,a){if(!a||"geoToggleSelect"!==a.type||a.from!==this.uid){var n=this._mapDraw;t.get("show")?n.draw(t,e,i,this,a):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});t.exports=n},jwfv:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Dd8w"),n=i.n(a),r=i("pFYg"),o=i.n(r),s=/%[sdj%]/g,l=function(){};function h(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var a=1,n=e[0],r=e.length;if("function"==typeof n)return n.apply(null,e.slice(1));if("string"==typeof n){for(var o=String(n).replace(s,function(t){if("%%"===t)return"%";if(a>=r)return t;switch(t){case"%s":return String(e[a++]);case"%d":return Number(e[a++]);case"%j":try{return JSON.stringify(e[a++])}catch(t){return"[Circular]"}break;default:return t}}),l=e[a];a<r;l=e[++a])o+=" "+l;return o}return n}function u(t,e){return void 0===t||null===t||(!("array"!==e||!Array.isArray(t)||t.length)||!(!function(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"pattern"===t}(e)||"string"!=typeof t||t))}function c(t,e,i){var a=0,n=t.length;!function r(o){if(o&&o.length)i(o);else{var s=a;a+=1,s<n?e(t[s],r):i([])}}([])}function d(t,e,i,a){if(e.first)return c(function(t){var e=[];return Object.keys(t).forEach(function(i){e.push.apply(e,t[i])}),e}(t),i,a);var n=e.firstFields||[];!0===n&&(n=Object.keys(t));var r=Object.keys(t),o=r.length,s=0,l=[],h=function(t){l.push.apply(l,t),++s===o&&a(l)};r.forEach(function(e){var a=t[e];-1!==n.indexOf(e)?c(a,i,h):function(t,e,i){var a=[],n=0,r=t.length;function o(t){a.push.apply(a,t),++n===r&&i(a)}t.forEach(function(t){e(t,o)})}(a,i,h)})}function f(t){return function(e){return e&&e.message?(e.field=e.field||t.fullField,e):{message:e,field:e.field||t.fullField}}}function p(t,e){if(e)for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];"object"===(void 0===a?"undefined":o()(a))&&"object"===o()(t[i])?t[i]=n()({},t[i],a):t[i]=a}return t}var m=function(t,e,i,a,n,r){!t.required||i.hasOwnProperty(t.field)&&!u(e,r||t.type)||a.push(h(n.messages.required,t.fullField))};var v=function(t,e,i,a,n){(/^\s+$/.test(e)||""===e)&&a.push(h(n.messages.whitespace,t.fullField))},g={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},C={integer:function(t){return C.number(t)&&parseInt(t,10)===t},float:function(t){return C.number(t)&&!C.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(t){return!1}},date:function(t){return"function"==typeof t.getTime&&"function"==typeof t.getMonth&&"function"==typeof t.getYear},number:function(t){return!isNaN(t)&&"number"==typeof t},object:function(t){return"object"===(void 0===t?"undefined":o()(t))&&!C.array(t)},method:function(t){return"function"==typeof t},email:function(t){return"string"==typeof t&&!!t.match(g.email)&&t.length<255},url:function(t){return"string"==typeof t&&!!t.match(g.url)},hex:function(t){return"string"==typeof t&&!!t.match(g.hex)}};var D="enum";var y={required:m,whitespace:v,type:function(t,e,i,a,n){if(t.required&&void 0===e)m(t,e,i,a,n);else{var r=t.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(r)>-1?C[r](e)||a.push(h(n.messages.types[r],t.fullField,t.type)):r&&(void 0===e?"undefined":o()(e))!==t.type&&a.push(h(n.messages.types[r],t.fullField,t.type))}},range:function(t,e,i,a,n){var r="number"==typeof t.len,o="number"==typeof t.min,s="number"==typeof t.max,l=e,u=null,c="number"==typeof e,d="string"==typeof e,f=Array.isArray(e);if(c?u="number":d?u="string":f&&(u="array"),!u)return!1;f&&(l=e.length),d&&(l=e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),r?l!==t.len&&a.push(h(n.messages[u].len,t.fullField,t.len)):o&&!s&&l<t.min?a.push(h(n.messages[u].min,t.fullField,t.min)):s&&!o&&l>t.max?a.push(h(n.messages[u].max,t.fullField,t.max)):o&&s&&(l<t.min||l>t.max)&&a.push(h(n.messages[u].range,t.fullField,t.min,t.max))},enum:function(t,e,i,a,n){t[D]=Array.isArray(t[D])?t[D]:[],-1===t[D].indexOf(e)&&a.push(h(n.messages[D],t.fullField,t[D].join(", ")))},pattern:function(t,e,i,a,n){t.pattern&&(t.pattern instanceof RegExp?(t.pattern.lastIndex=0,t.pattern.test(e)||a.push(h(n.messages.pattern.mismatch,t.fullField,e,t.pattern))):"string"==typeof t.pattern&&(new RegExp(t.pattern).test(e)||a.push(h(n.messages.pattern.mismatch,t.fullField,e,t.pattern))))}};var x="enum";var S=function(t,e,i,a,n){var r=t.type,o=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(u(e,r)&&!t.required)return i();y.required(t,e,a,o,n,r),u(e,r)||y.type(t,e,a,o,n)}i(o)},I={string:function(t,e,i,a,n){var r=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(u(e,"string")&&!t.required)return i();y.required(t,e,a,r,n,"string"),u(e,"string")||(y.type(t,e,a,r,n),y.range(t,e,a,r,n),y.pattern(t,e,a,r,n),!0===t.whitespace&&y.whitespace(t,e,a,r,n))}i(r)},method:function(t,e,i,a,n){var r=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();y.required(t,e,a,r,n),void 0!==e&&y.type(t,e,a,r,n)}i(r)},number:function(t,e,i,a,n){var r=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();y.required(t,e,a,r,n),void 0!==e&&(y.type(t,e,a,r,n),y.range(t,e,a,r,n))}i(r)},boolean:function(t,e,i,a,n){var r=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();y.required(t,e,a,r,n),void 0!==e&&y.type(t,e,a,r,n)}i(r)},regexp:function(t,e,i,a,n){var r=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();y.required(t,e,a,r,n),u(e)||y.type(t,e,a,r,n)}i(r)},integer:function(t,e,i,a,n){var r=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();y.required(t,e,a,r,n),void 0!==e&&(y.type(t,e,a,r,n),y.range(t,e,a,r,n))}i(r)},float:function(t,e,i,a,n){var r=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();y.required(t,e,a,r,n),void 0!==e&&(y.type(t,e,a,r,n),y.range(t,e,a,r,n))}i(r)},array:function(t,e,i,a,n){var r=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(u(e,"array")&&!t.required)return i();y.required(t,e,a,r,n,"array"),u(e,"array")||(y.type(t,e,a,r,n),y.range(t,e,a,r,n))}i(r)},object:function(t,e,i,a,n){var r=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();y.required(t,e,a,r,n),void 0!==e&&y.type(t,e,a,r,n)}i(r)},enum:function(t,e,i,a,n){var r=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();y.required(t,e,a,r,n),e&&y[x](t,e,a,r,n)}i(r)},pattern:function(t,e,i,a,n){var r=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(u(e,"string")&&!t.required)return i();y.required(t,e,a,r,n),u(e,"string")||y.pattern(t,e,a,r,n)}i(r)},date:function(t,e,i,a,n){var r=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();if(y.required(t,e,a,r,n),!u(e)){var o=void 0;o="number"==typeof e?new Date(e):e,y.type(t,o,a,r,n),o&&y.range(t,o.getTime(),a,r,n)}}i(r)},url:S,hex:S,email:S,required:function(t,e,i,a,n){var r=[],s=Array.isArray(e)?"array":void 0===e?"undefined":o()(e);y.required(t,e,a,r,n,s),i(r)}};function T(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var b=T();function w(t){this.rules=null,this._messages=b,this.define(t)}w.prototype={messages:function(t){return t&&(this._messages=p(T(),t)),this._messages},define:function(t){if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===t?"undefined":o()(t))||Array.isArray(t))throw new Error("Rules must be an object");this.rules={};var e=void 0,i=void 0;for(e in t)t.hasOwnProperty(e)&&(i=t[e],this.rules[e]=Array.isArray(i)?i:[i])},validate:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2],r=t,s=i,u=a;if("function"==typeof s&&(u=s,s={}),this.rules&&0!==Object.keys(this.rules).length){if(s.messages){var c=this.messages();c===b&&(c=T()),p(c,s.messages),s.messages=c}else s.messages=this.messages();var m=void 0,v=void 0,g={};(s.keys||Object.keys(this.rules)).forEach(function(i){m=e.rules[i],v=r[i],m.forEach(function(a){var o=a;"function"==typeof o.transform&&(r===t&&(r=n()({},r)),v=r[i]=o.transform(v)),(o="function"==typeof o?{validator:o}:n()({},o)).validator=e.getValidationMethod(o),o.field=i,o.fullField=o.fullField||i,o.type=e.getType(o),o.validator&&(g[i]=g[i]||[],g[i].push({rule:o,value:v,source:r,field:i}))})});var C={};d(g,s,function(t,e){var i=t.rule,a=!("object"!==i.type&&"array"!==i.type||"object"!==o()(i.fields)&&"object"!==o()(i.defaultField));function r(t,e){return n()({},e,{fullField:i.fullField+"."+t})}function u(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Array.isArray(o)||(o=[o]),o.length&&l("async-validator:",o),o.length&&i.message&&(o=[].concat(i.message)),o=o.map(f(i)),s.first&&o.length)return C[i.field]=1,e(o);if(a){if(i.required&&!t.value)return o=i.message?[].concat(i.message).map(f(i)):s.error?[s.error(i,h(s.messages.required,i.field))]:[],e(o);var u={};if(i.defaultField)for(var c in t.value)t.value.hasOwnProperty(c)&&(u[c]=i.defaultField);for(var d in u=n()({},u,t.rule.fields))if(u.hasOwnProperty(d)){var p=Array.isArray(u[d])?u[d]:[u[d]];u[d]=p.map(r.bind(null,d))}var m=new w(u);m.messages(s.messages),t.rule.options&&(t.rule.options.messages=s.messages,t.rule.options.error=s.error),m.validate(t.value,t.rule.options||s,function(t){e(t&&t.length?o.concat(t):t)})}else e(o)}a=a&&(i.required||!i.required&&t.value),i.field=t.field;var c=i.validator(i,t.value,u,t.source,s);c&&c.then&&c.then(function(){return u()},function(t){return u(t)})},function(t){!function(t){var e,i=void 0,a=void 0,n=[],r={};for(i=0;i<t.length;i++)e=t[i],Array.isArray(e)?n=n.concat.apply(n,e):n.push(e);if(n.length)for(i=0;i<n.length;i++)r[a=n[i].field]=r[a]||[],r[a].push(n[i]);else n=null,r=null;u(n,r)}(t)})}else u&&u()},getType:function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!=typeof t.validator&&t.type&&!I.hasOwnProperty(t.type))throw new Error(h("Unknown rule type %s",t.type));return t.type||"string"},getValidationMethod:function(t){if("function"==typeof t.validator)return t.validator;var e=Object.keys(t),i=e.indexOf("message");return-1!==i&&e.splice(i,1),1===e.length&&"required"===e[0]?I.required:I[this.getType(t)]||!1}},w.register=function(t,e){if("function"!=typeof e)throw new Error("Cannot register a validator by type, validator is not a function");I[t]=e},w.messages=b;e.default=w},jyFz:function(t,e,i){var a=function(){return this}()||Function("return this")(),n=a.regeneratorRuntime&&Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime")>=0,r=n&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,t.exports=i("SldL"),n)a.regeneratorRuntime=r;else try{delete a.regeneratorRuntime}catch(t){a.regeneratorRuntime=void 0}},k7nC:function(t,e){var i=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];t.exports=function(t,e){"china"===t&&"台湾"===e.name&&e.geometries.push({type:"polygon",exterior:i[0]})}},k9Bd:function(t,e,i){var a=i("Icdr");i("P7Q7"),i("Y3kp");var n=i("AjK0"),r=i("1Nix");a.registerVisual(n("effectScatter","circle")),a.registerLayout(r("effectScatter"))},kK7q:function(t,e,i){var a=i("/gxq"),n=i("0sHC"),r=i("8b51"),o=i("3h1/").calculateTextPosition,s=n.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,a=e.cy,n=e.width/2,r=e.height/2;t.moveTo(i,a-r),t.lineTo(i+n,a+r),t.lineTo(i-n,a+r),t.closePath()}}),l=n.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,a=e.cy,n=e.width/2,r=e.height/2;t.moveTo(i,a-r),t.lineTo(i+n,a),t.lineTo(i,a+r),t.lineTo(i-n,a),t.closePath()}}),h=n.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,a=e.y,n=e.width/5*3,r=Math.max(n,e.height),o=n/2,s=o*o/(r-o),l=a-r+o+s,h=Math.asin(s/o),u=Math.cos(h)*o,c=Math.sin(h),d=Math.cos(h),f=.6*o,p=.7*o;t.moveTo(i-u,l+s),t.arc(i,l,o,Math.PI-h,2*Math.PI+h),t.bezierCurveTo(i+u-c*f,l+s+d*f,i,a-p,i,a),t.bezierCurveTo(i,a-p,i-u+c*f,l+s+d*f,i-u,l+s),t.closePath()}}),u=n.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,a=e.width,n=e.x,r=e.y,o=a/3*2;t.moveTo(n,r),t.lineTo(n+o,r+i),t.lineTo(n,r+i/4*3),t.lineTo(n-o,r+i),t.lineTo(n,r),t.closePath()}}),c={line:n.Line,rect:n.Rect,roundRect:n.Rect,square:n.Rect,circle:n.Circle,diamond:l,pin:h,arrow:u,triangle:s},d={line:function(t,e,i,a,n){n.x1=t,n.y1=e+a/2,n.x2=t+i,n.y2=e+a/2},rect:function(t,e,i,a,n){n.x=t,n.y=e,n.width=i,n.height=a},roundRect:function(t,e,i,a,n){n.x=t,n.y=e,n.width=i,n.height=a,n.r=Math.min(i,a)/4},square:function(t,e,i,a,n){var r=Math.min(i,a);n.x=t,n.y=e,n.width=r,n.height=r},circle:function(t,e,i,a,n){n.cx=t+i/2,n.cy=e+a/2,n.r=Math.min(i,a)/2},diamond:function(t,e,i,a,n){n.cx=t+i/2,n.cy=e+a/2,n.width=i,n.height=a},pin:function(t,e,i,a,n){n.x=t+i/2,n.y=e+a/2,n.width=i,n.height=a},arrow:function(t,e,i,a,n){n.x=t+i/2,n.y=e+a/2,n.width=i,n.height=a},triangle:function(t,e,i,a,n){n.cx=t+i/2,n.cy=e+a/2,n.width=i,n.height=a}},f={};a.each(c,function(t,e){f[e]=new t});var p=n.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,i){var a=o(t,e,i),n=this.shape;return n&&"pin"===n.symbolType&&"inside"===e.textPosition&&(a.y=i.y+.4*i.height),a},buildPath:function(t,e,i){var a=e.symbolType;if("none"!==a){var n=f[a];n||(n=f[a="rect"]),d[a](e.x,e.y,e.width,e.height,n.shape),n.buildPath(t,n.shape,i)}}});function m(t,e){if("image"!==this.type){var i=this.style,a=this.shape;a&&"line"===a.symbolType?i.stroke=t:this.__isEmptyBrush?(i.stroke=t,i.fill=e||"#fff"):(i.fill&&(i.fill=t),i.stroke&&(i.stroke=t)),this.dirty(!1)}}e.createSymbol=function(t,e,i,a,o,s,l){var h,u=0===t.indexOf("empty");return u&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(h=0===t.indexOf("image://")?n.makeImage(t.slice(8),new r(e,i,a,o),l?"center":"cover"):0===t.indexOf("path://")?n.makePath(t.slice(7),{},new r(e,i,a,o),l?"center":"cover"):new p({shape:{symbolType:t,x:e,y:i,width:a,height:o}})).__isEmptyBrush=u,h.setColor=m,h.setColor(s),h}},kM2E:function(t,e,i){var a=i("7KvD"),n=i("FeBl"),r=i("+ZMJ"),o=i("hJx8"),s=i("D2L2"),l=function(t,e,i){var h,u,c,d=t&l.F,f=t&l.G,p=t&l.S,m=t&l.P,v=t&l.B,g=t&l.W,C=f?n:n[e]||(n[e]={}),D=C.prototype,y=f?a:p?a[e]:(a[e]||{}).prototype;for(h in f&&(i=e),i)(u=!d&&y&&void 0!==y[h])&&s(C,h)||(c=u?y[h]:i[h],C[h]=f&&"function"!=typeof y[h]?i[h]:v&&u?r(c,a):g&&y[h]==c?function(t){var e=function(e,i,a){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,a)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):m&&"function"==typeof c?r(Function.call,c):c,m&&((C.virtual||(C.virtual={}))[h]=c,t&l.R&&D&&!D[h]&&o(D,h,c)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},kNJA:function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=59)}({0:function(t,e,i){"use strict";function a(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return a})},14:function(t,e){t.exports=i("fEB+")},18:function(t,e){t.exports=i("EKTV")},21:function(t,e){t.exports=i("E/in")},26:function(t,e){t.exports=i("nvbp")},3:function(t,e){t.exports=i("ylDJ")},31:function(t,e){t.exports=i("zTCi")},32:function(t,e){t.exports=i("hyEB")},51:function(t,e){t.exports=i("RDoK")},59:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["el-cascader-panel",this.border&&"is-bordered"],on:{keydown:this.handleKeyDown}},this._l(this.menus,function(t,i){return e("cascader-menu",{key:i,ref:"menu",refInFor:!0,attrs:{index:i,nodes:t}})}),1)};a._withStripped=!0;var n=i(26),r=i.n(n),o=i(14),s=i.n(o),l=i(18),h=i.n(l),u=i(51),c=i.n(u),d=i(3),f=function(t){return t.stopPropagation()},p={inject:["panel"],components:{ElCheckbox:h.a,ElRadio:c.a},props:{node:{required:!0},nodeId:String},computed:{config:function(){return this.panel.config},isLeaf:function(){return this.node.isLeaf},isDisabled:function(){return this.node.isDisabled},checkedValue:function(){return this.panel.checkedValue},isChecked:function(){return this.node.isSameNode(this.checkedValue)},inActivePath:function(){return this.isInPath(this.panel.activePath)},inCheckedPath:function(){var t=this;return!!this.config.checkStrictly&&this.panel.checkedNodePaths.some(function(e){return t.isInPath(e)})},value:function(){return this.node.getValueByOption()}},methods:{handleExpand:function(){var t=this,e=this.panel,i=this.node,a=this.isDisabled,n=this.config,r=n.multiple;!n.checkStrictly&&a||i.loading||(n.lazy&&!i.loaded?e.lazyLoad(i,function(){var e=t.isLeaf;if(e||t.handleExpand(),r){var a=!!e&&i.checked;t.handleMultiCheckChange(a)}}):e.handleExpand(i))},handleCheckChange:function(){var t=this.panel,e=this.value,i=this.node;t.handleCheckChange(e),t.handleExpand(i)},handleMultiCheckChange:function(t){this.node.doCheck(t),this.panel.calculateMultiCheckedValue()},isInPath:function(t){var e=this.node;return(t[e.level-1]||{}).uid===e.uid},renderPrefix:function(t){var e=this.isLeaf,i=this.isChecked,a=this.config,n=a.checkStrictly;return a.multiple?this.renderCheckbox(t):n?this.renderRadio(t):e&&i?this.renderCheckIcon(t):null},renderPostfix:function(t){var e=this.node,i=this.isLeaf;return e.loading?this.renderLoadingIcon(t):i?null:this.renderExpandIcon(t)},renderCheckbox:function(t){var e=this.node,i=this.config,a=this.isDisabled,n={on:{change:this.handleMultiCheckChange},nativeOn:{}};return i.checkStrictly&&(n.nativeOn.click=f),t("el-checkbox",r()([{attrs:{value:e.checked,indeterminate:e.indeterminate,disabled:a}},n]))},renderRadio:function(t){var e=this.checkedValue,i=this.value,a=this.isDisabled;return Object(d.isEqual)(i,e)&&(i=e),t("el-radio",{attrs:{value:e,label:i,disabled:a},on:{change:this.handleCheckChange},nativeOn:{click:f}},[t("span")])},renderCheckIcon:function(t){return t("i",{class:"el-icon-check el-cascader-node__prefix"})},renderLoadingIcon:function(t){return t("i",{class:"el-icon-loading el-cascader-node__postfix"})},renderExpandIcon:function(t){return t("i",{class:"el-icon-arrow-right el-cascader-node__postfix"})},renderContent:function(t){var e=this.panel,i=this.node,a=e.renderLabelFn;return t("span",{class:"el-cascader-node__label"},[(a?a({node:i,data:i.data}):null)||i.label])}},render:function(t){var e=this,i=this.inActivePath,a=this.inCheckedPath,n=this.isChecked,o=this.isLeaf,s=this.isDisabled,l=this.config,h=this.nodeId,u=l.expandTrigger,c=l.checkStrictly,d=l.multiple,f=!c&&s,p={on:{}};return"click"===u?p.on.click=this.handleExpand:(p.on.mouseenter=function(t){e.handleExpand(),e.$emit("expand",t)},p.on.focus=function(t){e.handleExpand(),e.$emit("expand",t)}),!o||s||c||d||(p.on.click=this.handleCheckChange),t("li",r()([{attrs:{role:"menuitem",id:h,"aria-expanded":i,tabindex:f?null:-1},class:{"el-cascader-node":!0,"is-selectable":c,"in-active-path":i,"in-checked-path":a,"is-active":n,"is-disabled":f}},p]),[this.renderPrefix(t),this.renderContent(t),this.renderPostfix(t)])}},m=i(0),v=Object(m.a)(p,void 0,void 0,!1,null,null,null);v.options.__file="packages/cascader-panel/src/cascader-node.vue";var g=v.exports,C=i(6),D={name:"ElCascaderMenu",mixins:[i.n(C).a],inject:["panel"],components:{ElScrollbar:s.a,CascaderNode:g},props:{nodes:{type:Array,required:!0},index:Number},data:function(){return{activeNode:null,hoverTimer:null,id:Object(d.generateId)()}},computed:{isEmpty:function(){return!this.nodes.length},menuId:function(){return"cascader-menu-"+this.id+"-"+this.index}},methods:{handleExpand:function(t){this.activeNode=t.target},handleMouseMove:function(t){var e=this.activeNode,i=this.hoverTimer,a=this.$refs.hoverZone;if(e&&a)if(e.contains(t.target)){clearTimeout(i);var n=this.$el.getBoundingClientRect().left,r=t.clientX-n,o=this.$el,s=o.offsetWidth,l=o.offsetHeight,h=e.offsetTop,u=h+e.offsetHeight;a.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'+r+" "+h+" L"+s+" 0 V"+h+' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M'+r+" "+u+" L"+s+" "+l+" V"+u+' Z" />\n        '}else i||(this.hoverTimer=setTimeout(this.clearHoverZone,this.panel.config.hoverThreshold))},clearHoverZone:function(){var t=this.$refs.hoverZone;t&&(t.innerHTML="")},renderEmptyText:function(t){return t("div",{class:"el-cascader-menu__empty-text"},[this.t("el.cascader.noData")])},renderNodeList:function(t){var e=this.menuId,i=this.panel.isHoverMenu,a={on:{}};i&&(a.on.expand=this.handleExpand);var n=this.nodes.map(function(i,n){var o=i.hasChildren;return t("cascader-node",r()([{key:i.uid,attrs:{node:i,"node-id":e+"-"+n,"aria-haspopup":o,"aria-owns":o?e:null}},a]))});return[].concat(n,[i?t("svg",{ref:"hoverZone",class:"el-cascader-menu__hover-zone"}):null])}},render:function(t){var e=this.isEmpty,i=this.menuId,a={nativeOn:{}};return this.panel.isHoverMenu&&(a.nativeOn.mousemove=this.handleMouseMove),t("el-scrollbar",r()([{attrs:{tag:"ul",role:"menu",id:i,"wrap-class":"el-cascader-menu__wrap","view-class":{"el-cascader-menu__list":!0,"is-empty":e}},class:"el-cascader-menu"},a]),[e?this.renderEmptyText(t):this.renderNodeList(t)])}},y=Object(m.a)(D,void 0,void 0,!1,null,null,null);y.options.__file="packages/cascader-panel/src/cascader-menu.vue";var x=y.exports,S=i(21),I=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();var T=0,b=function(){function t(e,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.config=i,this.parent=a||null,this.level=this.parent?this.parent.level+1:1,this.uid=T++,this.initState(),this.initChildren()}return t.prototype.initState=function(){var t=this.config,e=t.value,i=t.label;this.value=this.data[e],this.label=this.data[i],this.pathNodes=this.calculatePathNodes(),this.path=this.pathNodes.map(function(t){return t.value}),this.pathLabels=this.pathNodes.map(function(t){return t.label}),this.loading=!1,this.loaded=!1},t.prototype.initChildren=function(){var e=this,i=this.config,a=i.children,n=this.data[a];this.hasChildren=Array.isArray(n),this.children=(n||[]).map(function(a){return new t(a,i,e)})},t.prototype.calculatePathNodes=function(){for(var t=[this],e=this.parent;e;)t.unshift(e),e=e.parent;return t},t.prototype.getPath=function(){return this.path},t.prototype.getValue=function(){return this.value},t.prototype.getValueByOption=function(){return this.config.emitPath?this.getPath():this.getValue()},t.prototype.getText=function(t,e){return t?this.pathLabels.join(e):this.label},t.prototype.isSameNode=function(t){var e=this.getValueByOption();return this.config.multiple&&Array.isArray(t)?t.some(function(t){return Object(d.isEqual)(t,e)}):Object(d.isEqual)(t,e)},t.prototype.broadcast=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];var n="onParent"+Object(d.capitalize)(t);this.children.forEach(function(e){e&&(e.broadcast.apply(e,[t].concat(i)),e[n]&&e[n].apply(e,i))})},t.prototype.emit=function(t){var e=this.parent,i="onChild"+Object(d.capitalize)(t);if(e){for(var a=arguments.length,n=Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];e[i]&&e[i].apply(e,n),e.emit.apply(e,[t].concat(n))}},t.prototype.onParentCheck=function(t){this.isDisabled||this.setCheckState(t)},t.prototype.onChildCheck=function(){var t=this.children.filter(function(t){return!t.isDisabled}),e=!!t.length&&t.every(function(t){return t.checked});this.setCheckState(e)},t.prototype.setCheckState=function(t){var e=this.children.length,i=this.children.reduce(function(t,e){return t+(e.checked?1:e.indeterminate?.5:0)},0);this.checked=t,this.indeterminate=i!==e&&i>0},t.prototype.syncCheckState=function(t){var e=this.getValueByOption(),i=this.isSameNode(t,e);this.doCheck(i)},t.prototype.doCheck=function(t){this.checked!==t&&(this.config.checkStrictly?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check")))},I(t,[{key:"isDisabled",get:function(){var t=this.data,e=this.parent,i=this.config,a=i.disabled,n=i.checkStrictly;return t[a]||!n&&e&&e.isDisabled}},{key:"isLeaf",get:function(){var t=this.data,e=this.loaded,i=this.hasChildren,a=this.children,n=this.config,r=n.lazy,o=n.leaf;if(r){var s=Object(S.isDef)(t[o])?t[o]:!!e&&!a.length;return this.hasChildren=!s,s}return!i}}]),t}();var w=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=i,this.initNodes(e)}return t.prototype.initNodes=function(t){var e=this;t=Object(d.coerceTruthyValueToArray)(t),this.nodes=t.map(function(t){return new b(t,e.config)}),this.flattedNodes=this.getFlattedNodes(!1,!1),this.leafNodes=this.getFlattedNodes(!0,!1)},t.prototype.appendNode=function(t,e){var i=new b(t,this.config,e);(e?e.children:this.nodes).push(i)},t.prototype.appendNodes=function(t,e){var i=this;(t=Object(d.coerceTruthyValueToArray)(t)).forEach(function(t){return i.appendNode(t,e)})},t.prototype.getNodes=function(){return this.nodes},t.prototype.getFlattedNodes=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t?this.leafNodes:this.flattedNodes;return e?i:function t(e,i){return e.reduce(function(e,a){return a.isLeaf?e.push(a):(!i&&e.push(a),e=e.concat(t(a.children,i))),e},[])}(this.nodes,t)},t.prototype.getNodeByValue=function(t){if(t){var e=this.getFlattedNodes(!1,!this.config.lazy).filter(function(e){return Object(d.valueEquals)(e.path,t)||e.value===t});return e&&e.length?e[0]:null}return null},t}(),M=i(9),E=i.n(M),A=i(32),_=i.n(A),L=i(31),F=i.n(L),O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},P=_.a.keys,N={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:d.noop,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},R=function(t){return!t.getAttribute("aria-owns")},B=function(t,e){var i=t.parentNode;if(i){var a=i.querySelectorAll('.el-cascader-node[tabindex="-1"]');return a[Array.prototype.indexOf.call(a,t)+e]||null}return null},k=function(t,e){if(t){var i=t.id.split("-");return Number(i[i.length-2])}},V=function(t){t&&(t.focus(),!R(t)&&t.click())},H={name:"ElCascaderPanel",components:{CascaderMenu:x},props:{value:{},options:Array,props:Object,border:{type:Boolean,default:!0},renderLabel:Function},provide:function(){return{panel:this}},data:function(){return{checkedValue:null,checkedNodePaths:[],store:[],menus:[],activePath:[],loadCount:0}},computed:{config:function(){return E()(O({},N),this.props||{})},multiple:function(){return this.config.multiple},checkStrictly:function(){return this.config.checkStrictly},leafOnly:function(){return!this.checkStrictly},isHoverMenu:function(){return"hover"===this.config.expandTrigger},renderLabelFn:function(){return this.renderLabel||this.$scopedSlots.default}},watch:{options:{handler:function(){this.initStore()},immediate:!0,deep:!0},value:function(){this.syncCheckedValue(),this.checkStrictly&&this.calculateCheckedNodePaths()},checkedValue:function(t){Object(d.isEqual)(t,this.value)||(this.checkStrictly&&this.calculateCheckedNodePaths(),this.$emit("input",t),this.$emit("change",t))}},mounted:function(){Object(d.isEmpty)(this.value)||this.syncCheckedValue()},methods:{initStore:function(){var t=this.config,e=this.options;t.lazy&&Object(d.isEmpty)(e)?this.lazyLoad():(this.store=new w(e,t),this.menus=[this.store.getNodes()],this.syncMenuState())},syncCheckedValue:function(){var t=this.value,e=this.checkedValue;Object(d.isEqual)(t,e)||(this.checkedValue=t,this.syncMenuState())},syncMenuState:function(){var t=this.multiple,e=this.checkStrictly;this.syncActivePath(),t&&this.syncMultiCheckState(),e&&this.calculateCheckedNodePaths(),this.$nextTick(this.scrollIntoView)},syncMultiCheckState:function(){var t=this;this.getFlattedNodes(this.leafOnly).forEach(function(e){e.syncCheckState(t.checkedValue)})},syncActivePath:function(){var t=this,e=this.store,i=this.multiple,a=this.activePath,n=this.checkedValue;if(Object(d.isEmpty)(a))if(Object(d.isEmpty)(n))this.activePath=[],this.menus=[e.getNodes()];else{var r=i?n[0]:n,o=((this.getNodeByValue(r)||{}).pathNodes||[]).slice(0,-1);this.expandNodes(o)}else{var s=a.map(function(e){return t.getNodeByValue(e.getValue())});this.expandNodes(s)}},expandNodes:function(t){var e=this;t.forEach(function(t){return e.handleExpand(t,!0)})},calculateCheckedNodePaths:function(){var t=this,e=this.checkedValue,i=this.multiple?Object(d.coerceTruthyValueToArray)(e):[e];this.checkedNodePaths=i.map(function(e){var i=t.getNodeByValue(e);return i?i.pathNodes:[]})},handleKeyDown:function(t){var e=t.target;switch(t.keyCode){case P.up:var i=B(e,-1);V(i);break;case P.down:var a=B(e,1);V(a);break;case P.left:var n=this.$refs.menu[k(e)-1];if(n){var r=n.$el.querySelector('.el-cascader-node[aria-expanded="true"]');V(r)}break;case P.right:var o=this.$refs.menu[k(e)+1];if(o){var s=o.$el.querySelector('.el-cascader-node[tabindex="-1"]');V(s)}break;case P.enter:!function(t){if(t){var e=t.querySelector("input");e?e.click():R(t)&&t.click()}}(e);break;case P.esc:case P.tab:this.$emit("close");break;default:return}},handleExpand:function(t,e){var i=this.activePath,a=t.level,n=i.slice(0,a-1),r=this.menus.slice(0,a);if(t.isLeaf||(n.push(t),r.push(t.children)),this.activePath=n,this.menus=r,!e){var o=n.map(function(t){return t.getValue()}),s=i.map(function(t){return t.getValue()});Object(d.valueEquals)(o,s)||(this.$emit("active-item-change",o),this.$emit("expand-change",o))}},handleCheckChange:function(t){this.checkedValue=t},lazyLoad:function(t,e){var i=this,a=this.config;t||(t=t||{root:!0,level:0},this.store=new w([],a),this.menus=[this.store.getNodes()]),t.loading=!0;a.lazyLoad(t,function(a){var n=t.root?null:t;if(a&&a.length&&i.store.appendNodes(a,n),t.loading=!1,t.loaded=!0,Array.isArray(i.checkedValue)){var r=i.checkedValue[i.loadCount++],o=i.config.value,s=i.config.leaf;if(Array.isArray(a)&&a.filter(function(t){return t[o]===r}).length>0){var l=i.store.getNodeByValue(r);l.data[s]||i.lazyLoad(l,function(){i.handleExpand(l)}),i.loadCount===i.checkedValue.length&&i.$parent.computePresentText()}}e&&e(a)})},calculateMultiCheckedValue:function(){this.checkedValue=this.getCheckedNodes(this.leafOnly).map(function(t){return t.getValueByOption()})},scrollIntoView:function(){this.$isServer||(this.$refs.menu||[]).forEach(function(t){var e=t.$el;if(e){var i=e.querySelector(".el-scrollbar__wrap"),a=e.querySelector(".el-cascader-node.is-active")||e.querySelector(".el-cascader-node.in-active-path");F()(i,a)}})},getNodeByValue:function(t){return this.store.getNodeByValue(t)},getFlattedNodes:function(t){var e=!this.config.lazy;return this.store.getFlattedNodes(t,e)},getCheckedNodes:function(t){var e=this.checkedValue;return this.multiple?this.getFlattedNodes(t).filter(function(t){return t.checked}):Object(d.isEmpty)(e)?[]:[this.getNodeByValue(e)]},clearCheckedNodes:function(){var t=this.config,e=this.leafOnly,i=t.multiple,a=t.emitPath;i?(this.getCheckedNodes(e).filter(function(t){return!t.isDisabled}).forEach(function(t){return t.doCheck(!1)}),this.calculateMultiCheckedValue()):this.checkedValue=a?[]:null}}},G=Object(m.a)(H,a,[],!1,null,null,null);G.options.__file="packages/cascader-panel/src/cascader-panel.vue";var Y=G.exports;Y.install=function(t){t.component(Y.name,Y)};e.default=Y},6:function(t,e){t.exports=i("y+7x")},9:function(t,e){t.exports=i("jmaC")}})},kQD9:function(t,e,i){var a=i("/gxq"),n={updateSelectedMap:function(t){this._targetList=a.isArray(t)?t.slice():[],this._selectTargetMap=a.reduce(t||[],function(t,e){return t.set(e.name,e),t},a.createHashMap())},select:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),i&&(i.selected=!0)},unSelect:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);i&&(i.selected=!1)},toggleSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=i)return this[i.selected?"unSelect":"select"](t,e),i.selected},isSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return i&&i.selected}};t.exports=n},kdOt:function(t,e,i){i("4Nz2").__DEV__;var a=i("vXqC"),n=a.makeInner,r=a.getDataItemValue,o=i("zZZ/").getCoordSysDefineBySeries,s=i("/gxq"),l=s.createHashMap,h=s.each,u=s.map,c=s.isArray,d=s.isString,f=s.isObject,p=s.isTypedArray,m=s.isArrayLike,v=s.extend,g=(s.assert,i("rrAD")),C=i("+2Ke"),D=C.SOURCE_FORMAT_ORIGINAL,y=C.SOURCE_FORMAT_ARRAY_ROWS,x=C.SOURCE_FORMAT_OBJECT_ROWS,S=C.SOURCE_FORMAT_KEYED_COLUMNS,I=C.SOURCE_FORMAT_UNKNOWN,T=C.SOURCE_FORMAT_TYPED_ARRAY,b=C.SERIES_LAYOUT_BY_ROW,w=n();function M(t){if(t){var e=l();return u(t,function(t,i){if(null==(t=v({},f(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var a=e.get(t.name);return a?t.name+="-"+a.count++:e.set(t.name,{count:1}),t})}}function E(t,e,i,a){if(null==a&&(a=1/0),e===b)for(var n=0;n<i.length&&n<a;n++)t(i[n]?i[n][0]:null,n);else{var r=i[0]||[];for(n=0;n<r.length&&n<a;n++)t(r[n],n)}}function A(t,e,i,a,n,o){var s,l;if(p(t))return!1;if(a&&(l=a[o],l=f(l)?l.name:l),e===y)if(i===b){for(var h=t[o],u=0;u<(h||[]).length&&u<5;u++)if(null!=(s=C(h[n+u])))return s}else for(u=0;u<t.length&&u<5;u++){var m=t[n+u];if(m&&null!=(s=C(m[o])))return s}else if(e===x){if(!l)return;for(u=0;u<t.length&&u<5;u++){if((v=t[u])&&null!=(s=C(v[l])))return s}}else if(e===S){if(!l)return;if(!(h=t[l])||p(h))return!1;for(u=0;u<h.length&&u<5;u++)if(null!=(s=C(h[u])))return s}else if(e===D)for(u=0;u<t.length&&u<5;u++){var v=t[u],g=r(v);if(!c(g))return!1;if(null!=(s=C(g[o])))return s}function C(t){return(null==t||!isFinite(t)||""===t)&&(!(!d(t)||"-"===t)||void 0)}return!1}e.detectSourceFormat=function(t){var e=t.option.source,i=I;if(p(e))i=T;else if(c(e)){0===e.length&&(i=y);for(var a=0,n=e.length;a<n;a++){var r=e[a];if(null!=r){if(c(r)){i=y;break}if(f(r)){i=x;break}}}}else if(f(e)){for(var o in e)if(e.hasOwnProperty(o)&&m(e[o])){i=S;break}}else if(null!=e)throw new Error("Invalid data");w(t).sourceFormat=i},e.getSource=function(t){return w(t).source},e.resetSourceDefaulter=function(t){w(t).datasetMap=l()},e.prepareSource=function(t){var e=t.option,i=e.data,a=p(i)?T:D,n=!1,s=e.seriesLayoutBy,u=e.sourceHeader,m=e.dimensions,v=function(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}(t);if(v){var C=v.option;i=C.source,a=w(v).sourceFormat,n=!0,s=s||C.seriesLayoutBy,null==u&&(u=C.sourceHeader),m=m||C.dimensions}var I=function(t,e,i,a,n){if(!t)return{dimensionsDefine:M(n)};var o,s,l,u;if(e===y)"auto"===a||null==a?E(function(t){null!=t&&"-"!==t&&(d(t)?null==s&&(s=1):s=0)},i,t,10):s=a?1:0,n||1!==s||(n=[],E(function(t,e){n[e]=null!=t?t:""},i,t)),o=n?n.length:i===b?t.length:t[0]?t[0].length:null;else if(e===x)n||(n=function(t){for(var e,i=0;i<t.length&&!(e=t[i++]););if(e){var a=[];return h(e,function(t,e){a.push(e)}),a}}(t),l=!0);else if(e===S)n||(n=[],l=!0,h(t,function(t,e){n.push(e)}));else if(e===D){var p=r(t[0]);o=c(p)&&p.length||1}return l&&h(n,function(t,e){"name"===(f(t)?t.name:t)&&(u=e)}),{startIndex:s,dimensionsDefine:M(n),dimensionsDetectCount:o,potentialNameDimIndex:u}}(i,a,s,u,m),_=e.encode;!_&&v&&(_=function(t,e,i,a,n,r){var s=o(t),u={},c=[],d=[],f=t.subType,p=l(["pie","map","funnel"]),m=l(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(s&&null!=m.get(f)){var v=t.ecModel,g=w(v).datasetMap,C=e.uid+"_"+n,D=g.get(C)||g.set(C,{categoryWayDim:1,valueWayDim:0});h(s.coordSysDims,function(t){if(null==s.firstCategoryDimIndex){var e=D.valueWayDim++;u[t]=e,d.push(e)}else if(s.categoryAxisMap.get(t))u[t]=0,c.push(0);else{var e=D.categoryWayDim++;u[t]=e,d.push(e)}})}else if(null!=p.get(f)){for(var y,x=0;x<5&&null==y;x++)A(i,a,n,r.dimensionsDefine,r.startIndex,x)||(y=x);if(null!=y){u.value=y;var S=r.potentialNameDimIndex||Math.max(y-1,0);d.push(S),c.push(S)}}return c.length&&(u.itemName=c),d.length&&(u.seriesName=d),u}(t,v,i,a,s,I)),w(t).source=new g({data:i,fromDataset:n,seriesLayoutBy:s,sourceFormat:a,dimensionsDefine:I.dimensionsDefine,startIndex:I.startIndex,dimensionsDetectCount:I.dimensionsDetectCount,encodeDefine:_})},e.guessOrdinal=function(t,e){return A(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}},knuC:function(t,e){t.exports=function(t,e,i){var a=void 0===i;switch(e.length){case 0:return a?t():t.call(i);case 1:return a?t(e[0]):t.call(i,e[0]);case 2:return a?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return a?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return a?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},l2wH:function(t,e,i){i("cuL/"),i("sJ4e"),i("ilLo"),i("r9WW"),i("WO3U"),i("b/SY"),i("KAfT")},l4Op:function(t,e){t.exports=function(t){return{seriesType:t,reset:function(t,e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){var a=t.getData();a.filterSelf(function(t){for(var e=a.getName(t),n=0;n<i.length;n++)if(!i[n].isSelected(e))return!1;return!0})}}}}},lFkc:function(t,e,i){"use strict";var a=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:a,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:a&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:a&&!!window.screen,isInWorker:!a};t.exports=n},lHA8:function(t,e,i){t.exports={default:i("pPW7"),__esModule:!0}},lOnJ:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},lVde:function(t,e,i){i("4Nz2").__DEV__;var a=i("Icdr"),n=i("/gxq"),r=i("vjPX"),o=i("0sHC"),s=["axisLine","axisTickLabel","axisName"],l=a.extendComponentView({type:"radar",render:function(t,e,i){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,i=e.getIndicatorAxes(),a=n.map(i,function(t){return new r(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});n.each(a,function(t){n.each(s,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){var e=t.coordinateSystem,i=e.getIndicatorAxes();if(i.length){var a=t.get("shape"),r=t.getModel("splitLine"),s=t.getModel("splitArea"),l=r.getModel("lineStyle"),h=s.getModel("areaStyle"),u=r.get("show"),c=s.get("show"),d=l.get("color"),f=h.get("color");d=n.isArray(d)?d:[d],f=n.isArray(f)?f:[f];var p=[],m=[];if("circle"===a)for(var v=i[0].getTicksCoords(),g=e.cx,C=e.cy,D=0;D<v.length;D++){if(u)p[M(p,d,D)].push(new o.Circle({shape:{cx:g,cy:C,r:v[D].coord}}));if(c&&D<v.length-1)m[M(m,f,D)].push(new o.Ring({shape:{cx:g,cy:C,r0:v[D].coord,r:v[D+1].coord}}))}else{var y,x=n.map(i,function(t,i){var a=t.getTicksCoords();return y=null==y?a.length-1:Math.min(a.length-1,y),n.map(a,function(t){return e.coordToPoint(t.coord,i)})}),S=[];for(D=0;D<=y;D++){for(var I=[],T=0;T<i.length;T++)I.push(x[T][D]);if(I[0]&&I.push(I[0].slice()),u)p[M(p,d,D)].push(new o.Polyline({shape:{points:I}}));if(c&&S)m[M(m,f,D-1)].push(new o.Polygon({shape:{points:I.concat(S)}}));S=I.slice().reverse()}}var b=l.getLineStyle(),w=h.getAreaStyle();n.each(m,function(t,e){this.group.add(o.mergePath(t,{style:n.defaults({stroke:"none",fill:f[e%f.length]},w),silent:!0}))},this),n.each(p,function(t,e){this.group.add(o.mergePath(t,{style:n.defaults({fill:"none",stroke:d[e%d.length]},b),silent:!0}))},this)}function M(t,e,i){var a=i%e.length;return t[a]=t[a]||[],a}}});t.exports=l},lj6Z:function(t,e,i){var a=i("/gxq"),n=i("C7PF"),r=i("TIfe"),o=i("qjvV"),s=i("UAiw"),l=i("JMnz"),h="silent";function u(t){s.stop(this.event)}function c(){}c.prototype.dispose=function(){};var d=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],f=function(t,e,i,a){o.call(this),this.storage=t,this.painter=e,this.painterRoot=a,i=i||new c,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,r.call(this),this.setHandlerProxy(i)};function p(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var a,n=t;n;){if(n.clipPath&&!n.clipPath.contain(e,i))return!1;n.silent&&(a=!0),n=n.parent}return!a||h}return!1}f.prototype={constructor:f,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(a.each(d,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,i=t.zrY,a=this._hovered,n=a.target;n&&!n.__zr&&(n=(a=this.findHover(a.x,a.y)).target);var r=this._hovered=this.findHover(e,i),o=r.target,s=this.proxy;s.setCursor&&s.setCursor(o?o.cursor:"default"),n&&o!==n&&this.dispatchToElement(a,"mouseout",t),this.dispatchToElement(r,"mousemove",t),o&&o!==n&&this.dispatchToElement(r,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,i=t.toElement||t.relatedTarget;do{i=i&&i.parentNode}while(i&&9!==i.nodeType&&!(e=i===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var i=this[t];i&&i.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,i){var a=(t=t||{}).target;if(!a||!a.silent){for(var n="on"+e,r=function(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:u}}(e,t,i);a&&(a[n]&&(r.cancelBubble=a[n].call(a,r)),a.trigger(e,r),a=a.parent,!r.cancelBubble););r.cancelBubble||(this.trigger(e,r),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[n]&&t[n].call(t,r),t.trigger&&t.trigger(e,r)}))}},findHover:function(t,e,i){for(var a=this.storage.getDisplayList(),n={x:t,y:e},r=a.length-1;r>=0;r--){var o;if(a[r]!==i&&!a[r].ignore&&(o=p(a[r],t,e))&&(!n.topTarget&&(n.topTarget=a[r]),o!==h)){n.target=a[r];break}}return n},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new l);var i=this._gestureMgr;"start"===e&&i.clear();var a=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&i.clear(),a){var n=a.type;t.gestureEvent=n,this.dispatchToElement({target:a.target},n,a.event)}}},a.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){f.prototype[t]=function(e){var i=this.findHover(e.zrX,e.zrY),a=i.target;if("mousedown"===t)this._downEl=a,this._downPoint=[e.zrX,e.zrY],this._upEl=a;else if("mouseup"===t)this._upEl=a;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||n.dist(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}}),a.mixin(f,o),a.mixin(f,r);var m=f;t.exports=m},ljsv:function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var i=3,a=3,n=40,r=10;function o(t,i,a){switch(t){case e.Patterns.PATTERN000:return(i+a)%2==0;case e.Patterns.PATTERN001:return i%2==0;case e.Patterns.PATTERN010:return a%3==0;case e.Patterns.PATTERN011:return(i+a)%3==0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2==0;case e.Patterns.PATTERN101:return i*a%2+i*a%3==0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2==0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){for(var e=t.size,a=0,n=0,r=0,o=null,s=null,l=0;l<e;l++){n=r=0,o=s=null;for(var h=0;h<e;h++){var u=t.get(l,h);u===o?n++:(n>=5&&(a+=i+(n-5)),o=u,n=1),(u=t.get(h,l))===s?r++:(r>=5&&(a+=i+(r-5)),s=u,r=1)}n>=5&&(a+=i+(n-5)),r>=5&&(a+=i+(r-5))}return a},e.getPenaltyN2=function(t){for(var e=t.size,i=0,n=0;n<e-1;n++)for(var r=0;r<e-1;r++){var o=t.get(n,r)+t.get(n,r+1)+t.get(n+1,r)+t.get(n+1,r+1);4!==o&&0!==o||i++}return i*a},e.getPenaltyN3=function(t){for(var e=t.size,i=0,a=0,r=0,o=0;o<e;o++){a=r=0;for(var s=0;s<e;s++)a=a<<1&2047|t.get(o,s),s>=10&&(1488===a||93===a)&&i++,r=r<<1&2047|t.get(s,o),s>=10&&(1488===r||93===r)&&i++}return i*n},e.getPenaltyN4=function(t){for(var e=0,i=t.data.length,a=0;a<i;a++)e+=t.data[a];return Math.abs(Math.ceil(100*e/i/5)-10)*r},e.applyMask=function(t,e){for(var i=e.size,a=0;a<i;a++)for(var n=0;n<i;n++)e.isReserved(n,a)||e.xor(n,a,o(t,n,a))},e.getBestMask=function(t,i){for(var a=Object.keys(e.Patterns).length,n=0,r=1/0,o=0;o<a;o++){i(o),e.applyMask(o,t);var s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(o,t),s<r&&(r=s,n=o)}return n}},lktj:function(t,e,i){var a=i("Ibhu"),n=i("xnc9");t.exports=Object.keys||function(t){return a(t,n)}},lwXq:function(t,e,i){var a=i("/gxq");function n(t){return!isNaN(t[0])&&!isNaN(t[1])}function r(t){return[t.cx,t.cy]}t.exports=function(t){t.eachSeriesByType("radar",function(t){var e=t.getData(),i=[],o=t.coordinateSystem;if(o){var s=o.getIndicatorAxes();a.each(s,function(t,a){e.each(e.mapDimension(s[a].dim),function(t,e){i[e]=i[e]||[];var s=o.dataToPoint(t,a);i[e][a]=n(s)?s:r(o)})}),e.each(function(t){var s=a.find(i[t],function(t){return n(t)})||r(o);i[t].push(s.slice()),e.setItemLayout(t,i[t])})}})}},"m/6y":function(t,e,i){var a=i("/gxq"),n=i("wWR3").parsePercent,r=i("qVJQ").isDimensionStacked,o=i("CqCN"),s="__ec_stack_",l="undefined"!=typeof Float32Array?Float32Array:Array;function h(t){return t.get("stack")||s+t.seriesIndex}function u(t){return t.dim+t.index}function c(t,e){var i=[];return e.eachSeriesByType(t,function(t){v(t)&&!g(t)&&i.push(t)}),i}function d(t){var e=function(t){var e={};a.each(t,function(t){var i=t.coordinateSystem.getBaseAxis();if("time"===i.type||"value"===i.type)for(var a=t.getData(),n=i.dim+"_"+i.index,r=a.mapDimension(i.dim),o=0,s=a.count();o<s;++o){var l=a.get(r,o);e[n]?e[n].push(l):e[n]=[l]}});var i=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(r){r.sort(function(t,e){return t-e});for(var o=null,s=1;s<r.length;++s){var l=r[s]-r[s-1];l>0&&(o=null===o?l:Math.min(o,l))}i[n]=o}}return i}(t),i=[];return a.each(t,function(t){var a,r=t.coordinateSystem.getBaseAxis(),o=r.getExtent();if("category"===r.type)a=r.getBandWidth();else if("value"===r.type||"time"===r.type){var s=r.dim+"_"+r.index,l=e[s],c=Math.abs(o[1]-o[0]),d=r.scale.getExtent(),f=Math.abs(d[1]-d[0]);a=l?c/f*l:c}else{var p=t.getData();a=Math.abs(o[1]-o[0])/p.count()}var m=n(t.get("barWidth"),a),v=n(t.get("barMaxWidth"),a),g=n(t.get("barMinWidth")||1,a),C=t.get("barGap"),D=t.get("barCategoryGap");i.push({bandWidth:a,barWidth:m,barMaxWidth:v,barMinWidth:g,barGap:C,barCategoryGap:D,axisKey:u(r),stackId:h(t)})}),f(i)}function f(t){var e={};a.each(t,function(t,i){var a=t.axisKey,n=t.bandWidth,r=e[a]||{bandWidth:n,remainedWidth:n,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},o=r.stacks;e[a]=r;var s=t.stackId;o[s]||r.autoWidthCount++,o[s]=o[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!o[s].width&&(o[s].width=l,l=Math.min(r.remainedWidth,l),r.remainedWidth-=l);var h=t.barMaxWidth;h&&(o[s].maxWidth=h);var u=t.barMinWidth;u&&(o[s].minWidth=u);var c=t.barGap;null!=c&&(r.gap=c);var d=t.barCategoryGap;null!=d&&(r.categoryGap=d)});var i={};return a.each(e,function(t,e){i[e]={};var r=t.stacks,o=t.bandWidth,s=n(t.categoryGap,o),l=n(t.gap,1),h=t.remainedWidth,u=t.autoWidthCount,c=(h-s)/(u+(u-1)*l);c=Math.max(c,0),a.each(r,function(t){var e=t.maxWidth,i=t.minWidth;if(t.width){a=t.width;e&&(a=Math.min(a,e)),i&&(a=Math.max(a,i)),t.width=a,h-=a,u--}else{var a=c;e&&e<a&&(a=Math.min(e,h)),i&&i>a&&(a=i),a!==c&&(t.width=a,h-=a,u--)}}),c=(h-s)/(u+(u-1)*l),c=Math.max(c,0);var d,f=0;a.each(r,function(t,e){t.width||(t.width=c),d=t,f+=t.width*(1+l)}),d&&(f-=d.width*l);var p=-f/2;a.each(r,function(t,a){i[e][a]=i[e][a]||{bandWidth:o,offset:p,width:t.width},p+=t.width*(1+l)})}),i}function p(t,e,i){if(t&&e){var a=t[u(e)];return null!=a&&null!=i&&(a=a[h(i)]),a}}var m={seriesType:"bar",plan:o(),reset:function(t){if(v(t)&&g(t)){var e=t.getData(),i=t.coordinateSystem,a=i.getBaseAxis(),n=i.getOtherAxis(a),r=e.mapDimension(n.dim),o=e.mapDimension(a.dim),s=n.isHorizontal(),h=s?0:1,u=p(d([t]),a,t).width;return u>.5||(u=.5),{progress:function(t,e){var c,d=t.count,f=new l(2*d),p=new l(d),m=[],v=[],g=0,D=0;for(;null!=(c=t.next());)v[h]=e.get(r,c),v[1-h]=e.get(o,c),m=i.dataToPoint(v,null,m),f[g++]=m[0],f[g++]=m[1],p[D++]=c;e.setLayout({largePoints:f,largeDataIndices:p,barWidth:u,valueAxisStart:C(a,n,!1),valueAxisHorizontal:s})}}}}};function v(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function g(t){return t.pipelineContext&&t.pipelineContext.large}function C(t,e,i){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}e.getLayoutOnAxis=function(t){var e=[],i=t.axis;if("category"===i.type){for(var n=i.getBandWidth(),r=0;r<t.count;r++)e.push(a.defaults({bandWidth:n,axisKey:"axis0",stackId:s+r},t));var o=f(e),l=[];for(r=0;r<t.count;r++){var h=o.axis0[s+r];h.offsetCenter=h.offset+h.width/2,l.push(h)}return l}},e.prepareLayoutBarSeries=c,e.makeColumnLayout=d,e.retrieveColumnLayout=p,e.layout=function(t,e){var i=c(t,e),n=d(i),o={},s={};a.each(i,function(t){var e=t.getData(),i=t.coordinateSystem,a=i.getBaseAxis(),l=h(t),c=n[u(a)][l],d=c.offset,f=c.width,p=i.getOtherAxis(a),m=t.get("barMinHeight")||0;o[l]=o[l]||[],s[l]=s[l]||[],e.setLayout({bandWidth:c.bandWidth,offset:d,size:f});for(var v=e.mapDimension(p.dim),g=e.mapDimension(a.dim),D=r(e,v),y=p.isHorizontal(),x=C(0,p),S=0,I=e.count();S<I;S++){var T=e.get(v,S),b=e.get(g,S);if(!isNaN(T)&&!isNaN(b)){var w,M,E,A,_,L=T>=0?"p":"n",F=x;D&&(o[l][b]||(o[l][b]={p:x,n:x}),F=o[l][b][L]),y?(w=F,M=(_=i.dataToPoint([T,b]))[1]+d,E=_[0]-x,A=f,Math.abs(E)<m&&(E=(E<0?-1:1)*m),D&&(o[l][b][L]+=E)):(w=(_=i.dataToPoint([b,T]))[0]+d,M=F,E=f,A=_[1]-x,Math.abs(A)<m&&(A=(A<=0?-1:1)*m),D&&(o[l][b][L]+=A)),e.setItemLayout(S,{x:w,y:M,width:E,height:A})}}},this)},e.largeLayout=m},m5oG:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("0sHC"),o=i("kK7q").createSymbol,s=i("wWR3"),l=s.parsePercent,h=s.isNumeric,u=i("dzlV").setLabel,c=["itemStyle","borderWidth"],d=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],f=new r.Circle;function p(t,e,i,a){var r=t.getItemLayout(e),o=i.get("symbolRepeat"),s=i.get("symbolClip"),u=i.get("symbolPosition")||"start",d=(i.get("symbolRotate")||0)*Math.PI/180||0,p=i.get("symbolPatternSize")||2,v=i.isAnimationEnabled(),g={dataIndex:e,layout:r,itemModel:i,symbolType:t.getItemVisual(e,"symbol")||"circle",color:t.getItemVisual(e,"color"),symbolClip:s,symbolRepeat:o,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:p,rotation:d,animationModel:v?i:null,hoverAnimation:v&&i.get("hoverAnimation"),z2:i.getShallow("z",!0)||0};!function(t,e,i,a,r){var o,s=a.valueDim,l=t.get("symbolBoundingData"),h=a.coordSys.getOtherAxis(a.coordSys.getBaseAxis()),u=h.toGlobalCoord(h.dataToCoord(0)),c=1-+(i[s.wh]<=0);if(n.isArray(l)){var d=[m(h,l[0])-u,m(h,l[1])-u];d[1]<d[0]&&d.reverse(),o=d[c]}else o=null!=l?m(h,l)-u:e?a.coordSysExtent[s.index][c]-u:i[s.wh];r.boundingLength=o,e&&(r.repeatCutLength=i[s.wh]);r.pxSign=o>0?1:o<0?-1:0}(i,o,r,a,g),function(t,e,i,a,r,o,s,h,u,c){var d=u.valueDim,f=u.categoryDim,p=Math.abs(i[f.wh]),m=t.getItemVisual(e,"symbolSize");n.isArray(m)?m=m.slice():(null==m&&(m="100%"),m=[m,m]);m[f.index]=l(m[f.index],p),m[d.index]=l(m[d.index],a?p:Math.abs(o)),c.symbolSize=m,(c.symbolScale=[m[0]/h,m[1]/h])[d.index]*=(u.isHorizontal?-1:1)*s}(t,e,r,o,0,g.boundingLength,g.pxSign,p,a,g),function(t,e,i,a,n){var r=t.get(c)||0;r&&(f.attr({scale:e.slice(),rotation:i}),f.updateTransform(),r/=f.getLineScale(),r*=e[a.valueDim.index]);n.valueLineWidth=r}(i,g.symbolScale,d,a,g);var C=g.symbolSize,D=i.get("symbolOffset");return n.isArray(D)&&(D=[l(D[0],C[0]),l(D[1],C[1])]),function(t,e,i,a,r,o,s,u,c,d,f,p){var m=f.categoryDim,v=f.valueDim,g=p.pxSign,C=Math.max(e[v.index]+u,0),D=C;if(a){var y=Math.abs(c),x=n.retrieve(t.get("symbolMargin"),"15%")+"",S=!1;x.lastIndexOf("!")===x.length-1&&(S=!0,x=x.slice(0,x.length-1)),x=l(x,e[v.index]);var I=Math.max(C+2*x,0),T=S?0:2*x,b=h(a),w=b?a:L((y+T)/I),M=y-w*C;I=C+2*(x=M/2/(S?w:w-1)),T=S?0:2*x,b||"fixed"===a||(w=d?L((Math.abs(d)+T)/I):0),D=w*I-T,p.repeatTimes=w,p.symbolMargin=x}var E=g*(D/2),A=p.pathPosition=[];A[m.index]=i[m.wh]/2,A[v.index]="start"===s?E:"end"===s?c-E:c/2,o&&(A[0]+=o[0],A[1]+=o[1]);var _=p.bundlePosition=[];_[m.index]=i[m.xy],_[v.index]=i[v.xy];var F=p.barRectShape=n.extend({},i);F[v.wh]=g*Math.max(Math.abs(i[v.wh]),Math.abs(A[v.index]+E)),F[m.wh]=i[m.wh];var O=p.clipShape={};O[m.xy]=-i[m.xy],O[m.wh]=f.ecSize[m.wh],O[v.xy]=0,O[v.wh]=i[v.wh]}(i,C,r,o,0,D,u,g.valueLineWidth,g.boundingLength,g.repeatCutLength,a,g),g}function m(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function v(t){var e=t.symbolPatternSize,i=o(t.symbolType,-e/2,-e/2,e,e,t.color);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function g(t,e,i,a){var n=t.__pictorialBundle,r=i.symbolSize,o=i.valueLineWidth,s=i.pathPosition,l=e.valueDim,h=i.repeatTimes||0,u=0,c=r[e.valueDim.index]+o+2*i.symbolMargin;for(E(t,function(t){t.__pictorialAnimationIndex=u,t.__pictorialRepeatTimes=h,u<h?A(t,null,p(u),i,a):A(t,null,{scale:[0,0]},i,a,function(){n.remove(t)}),T(t,i),u++});u<h;u++){var d=v(i);d.__pictorialAnimationIndex=u,d.__pictorialRepeatTimes=h,n.add(d);var f=p(u);A(d,{position:f.position,scale:[0,0]},{scale:f.scale,rotation:f.rotation},i,a),d.on("mouseover",m).on("mouseout",g),T(d,i)}function p(t){var e=s.slice(),a=i.pxSign,n=t;return("start"===i.symbolRepeatDirection?a>0:a<0)&&(n=h-1-t),e[l.index]=c*(n-h/2+.5)+s[l.index],{position:e,scale:i.symbolScale.slice(),rotation:i.rotation}}function m(){E(t,function(t){t.trigger("emphasis")})}function g(){E(t,function(t){t.trigger("normal")})}}function C(t,e,i,a){var n=t.__pictorialBundle,r=t.__pictorialMainPath;r?A(r,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,a):(r=t.__pictorialMainPath=v(i),n.add(r),A(r,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,a),r.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),T(r,i)}function D(t,e,i){var a=n.extend({},e.barRectShape),o=t.__pictorialBarRect;o?A(o,null,{shape:a},e,i):(o=t.__pictorialBarRect=new r.Rect({z2:2,shape:a,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(o))}function y(t,e,i,a){if(i.symbolClip){var o=t.__pictorialClipPath,s=n.extend({},i.clipShape),l=e.valueDim,h=i.animationModel,u=i.dataIndex;if(o)r.updateProps(o,{shape:s},h,u);else{s[l.wh]=0,o=new r.Rect({shape:s}),t.__pictorialBundle.setClipPath(o),t.__pictorialClipPath=o;var c={};c[l.wh]=i.clipShape[l.wh],r[a?"updateProps":"initProps"](o,{shape:c},h,u)}}}function x(t,e){var i=t.getItemModel(e);return i.getAnimationDelayParams=S,i.isAnimationEnabled=I,i}function S(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function I(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function T(t,e){t.off("emphasis").off("normal");var i=e.symbolScale.slice();e.hoverAnimation&&t.on("emphasis",function(){this.animateTo({scale:[1.1*i[0],1.1*i[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:i.slice()},400,"elasticOut")})}function b(t,e,i,a){var n=new r.Group,o=new r.Group;return n.add(o),n.__pictorialBundle=o,o.attr("position",i.bundlePosition.slice()),i.symbolRepeat?g(n,e,i):C(n,0,i),D(n,i,a),y(n,e,i,a),n.__pictorialShapeStr=M(t,i),n.__pictorialSymbolMeta=i,n}function w(t,e,i,a){var o=a.__pictorialBarRect;o&&(o.style.text=null);var s=[];E(a,function(t){s.push(t)}),a.__pictorialMainPath&&s.push(a.__pictorialMainPath),a.__pictorialClipPath&&(i=null),n.each(s,function(t){r.updateProps(t,{scale:[0,0]},i,e,function(){a.parent&&a.parent.remove(a)})}),t.setItemGraphicEl(e,null)}function M(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function E(t,e,i){n.each(t.__pictorialBundle.children(),function(a){a!==t.__pictorialBarRect&&e.call(i,a)})}function A(t,e,i,a,n,o){e&&t.attr(e),a.symbolClip&&!n?i&&t.attr(i):i&&r[n?"updateProps":"initProps"](t,i,a.animationModel,a.dataIndex,o)}function _(t,e,i){var a=i.color,o=i.dataIndex,s=i.itemModel,l=s.getModel("itemStyle").getItemStyle(["color"]),h=s.getModel("emphasis.itemStyle").getItemStyle(),c=s.getShallow("cursor");E(t,function(t){t.setColor(a),t.setStyle(n.defaults({fill:a,opacity:i.opacity},l)),r.setHoverStyle(t,h),c&&(t.cursor=c),t.z2=i.z2});var d={},f=e.valueDim.posDesc[+(i.boundingLength>0)],p=t.__pictorialBarRect;u(p.style,d,s,a,e.seriesModel,o,f),r.setHoverStyle(p,d)}function L(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var F=a.extendChartView({type:"pictorialBar",render:function(t,e,i){var a=this.group,n=t.getData(),o=this._data,s=t.coordinateSystem,l=!!s.getBaseAxis().isHorizontal(),h=s.grid.getRect(),u={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:s,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:l,valueDim:d[+l],categoryDim:d[1-l]};return n.diff(o).add(function(t){if(n.hasValue(t)){var e=x(n,t),i=p(n,t,e,u),r=b(n,u,i);n.setItemGraphicEl(t,r),a.add(r),_(r,u,i)}}).update(function(t,e){var i=o.getItemGraphicEl(e);if(n.hasValue(t)){var s=x(n,t),l=p(n,t,s,u),h=M(n,l);i&&h!==i.__pictorialShapeStr&&(a.remove(i),n.setItemGraphicEl(t,null),i=null),i?function(t,e,i){var a=i.animationModel,n=i.dataIndex,o=t.__pictorialBundle;r.updateProps(o,{position:i.bundlePosition.slice()},a,n),i.symbolRepeat?g(t,e,i,!0):C(t,e,i,!0);D(t,i,!0),y(t,e,i,!0)}(i,u,l):i=b(n,u,l,!0),n.setItemGraphicEl(t,i),i.__pictorialSymbolMeta=l,a.add(i),_(i,u,l)}else a.remove(i)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&w(o,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=n,this.group},dispose:n.noop,remove:function(t,e){var i=this.group,a=this._data;t.get("animation")?a&&a.eachItemGraphicEl(function(e){w(a,e.dataIndex,t,e)}):i.removeAll()}});t.exports=F},m9gC:function(t,e,i){var a=i("RY/4"),n=i("4WTo");t.exports=function(t){return function(){if(a(this)!=t)throw TypeError(t+"#toJSON isn't generic");return n(this)}}},mClu:function(t,e,i){var a=i("kM2E");a(a.S+a.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})},mLyJ:function(t,e,i){var a=i("/gxq"),n=i("wWR3").parsePercent,r=i("qVJQ").isDimensionStacked;function o(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function s(t,e){return e.dim+t.model.componentIndex}var l=function(t,e,i){var l={},h=function(t,e){var i={};a.each(t,function(t,e){var a=t.getData(),r=t.coordinateSystem,l=r.getBaseAxis(),h=s(r,l),u=l.getExtent(),c="category"===l.type?l.getBandWidth():Math.abs(u[1]-u[0])/a.count(),d=i[h]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=d.stacks;i[h]=d;var p=o(t);f[p]||d.autoWidthCount++,f[p]=f[p]||{width:0,maxWidth:0};var m=n(t.get("barWidth"),c),v=n(t.get("barMaxWidth"),c),g=t.get("barGap"),C=t.get("barCategoryGap");m&&!f[p].width&&(m=Math.min(d.remainedWidth,m),f[p].width=m,d.remainedWidth-=m),v&&(f[p].maxWidth=v),null!=g&&(d.gap=g),null!=C&&(d.categoryGap=C)});var r={};return a.each(i,function(t,e){r[e]={};var i=t.stacks,o=t.bandWidth,s=n(t.categoryGap,o),l=n(t.gap,1),h=t.remainedWidth,u=t.autoWidthCount,c=(h-s)/(u+(u-1)*l);c=Math.max(c,0),a.each(i,function(t,e){var i=t.maxWidth;i&&i<c&&(i=Math.min(i,h),t.width&&(i=Math.min(i,t.width)),h-=i,t.width=i,u--)}),c=(h-s)/(u+(u-1)*l),c=Math.max(c,0);var d,f=0;a.each(i,function(t,e){t.width||(t.width=c),d=t,f+=t.width*(1+l)}),d&&(f-=d.width*l);var p=-f/2;a.each(i,function(t,i){r[e][i]=r[e][i]||{offset:p,width:t.width},p+=t.width*(1+l)})}),r}(a.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),i=t.coordinateSystem,a=i.getBaseAxis(),n=s(i,a),u=o(t),c=h[n][u],d=c.offset,f=c.width,p=i.getOtherAxis(a),m=t.coordinateSystem.cx,v=t.coordinateSystem.cy,g=t.get("barMinHeight")||0,C=t.get("barMinAngle")||0;l[u]=l[u]||[];for(var D=e.mapDimension(p.dim),y=e.mapDimension(a.dim),x=r(e,D),S="radius"!==a.dim||!t.get("roundCap",!0),I=p.getExtent()[0],T=0,b=e.count();T<b;T++){var w=e.get(D,T),M=e.get(y,T);if(!isNaN(w)){var E,A,_,L,F=w>=0?"p":"n",O=I;if(x&&(l[u][M]||(l[u][M]={p:I,n:I}),O=l[u][M][F]),"radius"===p.dim){var P=p.dataToRadius(w)-I,N=a.dataToAngle(M);Math.abs(P)<g&&(P=(P<0?-1:1)*g),E=O,A=O+P,L=(_=N-d)-f,x&&(l[u][M][F]=A)}else{var R=p.dataToAngle(w,S)-I,B=a.dataToRadius(M);Math.abs(R)<C&&(R=(R<0?-1:1)*C),A=(E=B+d)+f,_=O,L=O+R,x&&(l[u][M][F]=L)}e.setItemLayout(T,{cx:m,cy:v,r0:E,r:A,startAngle:-_*Math.PI/180,endAngle:-L*Math.PI/180})}}}},this)};t.exports=l},mcsk:function(t,e,i){var a="\0_ec_interaction_mutex";function n(t){return t[a]||(t[a]={})}i("Icdr").registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),e.take=function(t,e,i){n(t)[e]=i},e.release=function(t,e,i){var a=n(t);a[e]===i&&(a[e]=null)},e.isTaken=function(t,e){return!!n(t)[e]}},me52:function(t,e,i){var a=i("GxVO"),n=a.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1],t[i].segmentIgnoreThreshold)},buildPath:function(t,e){for(var i=e.paths||[],a=0;a<i.length;a++)i[a].buildPath(t,i[a].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),a.prototype.getBoundingRect.call(this)}});t.exports=n},miEh:function(t,e,i){var a=i("/gxq"),n=i("Icdr"),r=i("0sHC"),o=i("1Xuh").getLayoutRect;n.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),n.extendComponentView({type:"title",render:function(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,s=t.getModel("textStyle"),l=t.getModel("subtextStyle"),h=t.get("textAlign"),u=a.retrieve2(t.get("textBaseline"),t.get("textVerticalAlign")),c=new r.Text({style:r.setTextStyle({},s,{text:t.get("text"),textFill:s.getTextColor()},{disableBox:!0}),z2:10}),d=c.getBoundingRect(),f=t.get("subtext"),p=new r.Text({style:r.setTextStyle({},l,{text:f,textFill:l.getTextColor(),y:d.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),m=t.get("link"),v=t.get("sublink"),g=t.get("triggerEvent",!0);c.silent=!m&&!g,p.silent=!v&&!g,m&&c.on("click",function(){window.open(m,"_"+t.get("target"))}),v&&p.on("click",function(){window.open(v,"_"+t.get("subtarget"))}),c.eventData=p.eventData=g?{componentType:"title",componentIndex:t.componentIndex}:null,n.add(c),f&&n.add(p);var C=n.getBoundingRect(),D=t.getBoxLayoutParams();D.width=C.width,D.height=C.height;var y=o(D,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));h||("middle"===(h=t.get("left")||t.get("right"))&&(h="center"),"right"===h?y.x+=y.width:"center"===h&&(y.x+=y.width/2)),u||("center"===(u=t.get("top")||t.get("bottom"))&&(u="middle"),"bottom"===u?y.y+=y.height:"middle"===u&&(y.y+=y.height/2),u=u||"top"),n.attr("position",[y.x,y.y]);var x={textAlign:h,textVerticalAlign:u};c.setStyle(x),p.setStyle(x),C=n.getBoundingRect();var S=y.margin,I=t.getItemStyle(["color","opacity"]);I.fill=t.get("backgroundColor");var T=new r.Rect({shape:{x:C.x-S[3],y:C.y-S[0],width:C.width+S[1]+S[3],height:C.height+S[0]+S[2],r:t.get("borderRadius")},style:I,subPixelOptimize:!0,silent:!0});n.add(T)}}})},migS:function(t,e){!function(t){for(var e=0,i=["webkit","moz"],a=t.requestAnimationFrame,n=t.cancelAnimationFrame,r=i.length;--r>=0&&!a;)a=t[i[r]+"RequestAnimationFrame"],n=t[i[r]+"CancelAnimationFrame"];a&&n||(a=function(t){var i=+new Date,a=Math.max(e+16,i);return setTimeout(function(){t(e=a)},a-i)},n=clearTimeout),t.requestAnimationFrame=a,t.cancelAnimationFrame=n}(window)},mlpt:function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=i("wH4Y"),r=i("HGSA"),o=i("B123"),s=i("wWR3").reformIntervals,l=n.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){l.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var i=this._mode=this._determineMode();h[this._mode].call(this),this._resetSelected(t,e);var n=this.option.categories;this.resetVisual(function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=a.clone(n)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=a.map(this._pieceList,function(t){t=a.clone(t);return"inRange"!==e&&(t.visual=null),t}))})},completeVisualOption:function(){var t=this.option,e={},i=r.listVisualTypes(),s=this.isCategory();function l(t,e,i){return t&&t[e]&&(a.isObject(t[e])?t[e].hasOwnProperty(i):t[e]===i)}a.each(t.pieces,function(t){a.each(i,function(i){t.hasOwnProperty(i)&&(e[i]=1)})}),a.each(e,function(e,i){var n=0;a.each(this.stateList,function(e){n|=l(t,e,i)||l(t.target,e,i)},this),!n&&a.each(this.stateList,function(e){(t[e]||(t[e]={}))[i]=o.get(i,"inRange"===e?"active":"inactive",s)})},this),n.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var i=this.option,n=this._pieceList,r=(e?i:t).selected||{};if(i.selected=r,a.each(n,function(t,e){var i=this.getSelectedMapKey(t);r.hasOwnProperty(i)||(r[i]=!0)},this),"single"===i.selectedMode){var o=!1;a.each(n,function(t,e){var i=this.getSelectedMapKey(t);r[i]&&(o?r[i]=!1:o=!0)},this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=a.clone(t)},getValueState:function(t){var e=r.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var a=[],n=i.getData();n.each(this.getDataDimension(n),function(e,i){r.findPieceIndex(e,this._pieceList)===t&&a.push(i)},this),e.push({seriesId:i.id,dataIndex:a})},this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var i=t.interval||[];e=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return e},getVisualMeta:function(t){if(!this.isCategory()){var e=[],i=[],n=this,r=this._pieceList.slice();if(r.length){var o=r[0].interval[0];o!==-1/0&&r.unshift({interval:[-1/0,o]}),(o=r[r.length-1].interval[1])!==1/0&&r.push({interval:[o,1/0]})}else r.push({interval:[-1/0,1/0]});var s=-1/0;return a.each(r,function(t){var e=t.interval;e&&(e[0]>s&&l([s,e[0]],"outOfRange"),l(e.slice()),s=e[1])},this),{stops:e,outerColors:i}}function l(a,r){var o=n.getRepresentValue({interval:a});r||(r=n.getValueState(o));var s=t(o,r);a[0]===-1/0?i[0]=s:a[1]===1/0?i[1]=s:e.push({value:a[0],color:s},{value:a[1],color:s})}}}),h={splitNumber:function(){var t=this.option,e=this._pieceList,i=Math.min(t.precision,20),n=this.getExtent(),r=t.splitNumber;r=Math.max(parseInt(r,10),1),t.splitNumber=r;for(var o=(n[1]-n[0])/r;+o.toFixed(i)!==o&&i<5;)i++;t.precision=i,o=+o.toFixed(i);var l=0;t.minOpen&&e.push({index:l++,interval:[-1/0,n[0]],close:[0,0]});for(var h=n[0],u=l+r;l<u;h+=o){var c=l===r-1?n[1]:h+o;e.push({index:l++,interval:[h,c],close:[1,1]})}t.maxOpen&&e.push({index:l++,interval:[n[1],1/0],close:[0,0]}),s(e),a.each(e,function(t){t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;a.each(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),u(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;a.each(t.pieces,function(t,i){a.isObject(t)||(t={value:t});var n={text:"",index:i};if(null!=t.label&&(n.text=t.label),t.hasOwnProperty("value")){var o=n.value=t.value;n.interval=[o,o],n.close=[1,1]}else{for(var s=n.interval=[],l=n.close=[0,0],h=[1,0,1],u=[-1/0,1/0],c=[],d=0;d<2;d++){for(var f=[["gte","gt","min"],["lte","lt","max"]][d],p=0;p<3&&null==s[d];p++)s[d]=t[f[p]],l[d]=h[p],c[d]=2===p;null==s[d]&&(s[d]=u[d])}c[0]&&s[1]===1/0&&(l[0]=0),c[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(n.value=s[0])}n.visual=r.retrieveVisuals(t),e.push(n)},this),u(t,e),s(e),a.each(e,function(t){var e=t.close,i=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,i)},this)}};function u(t,e){var i=t.inverse;("vertical"===t.orient?!i:i)&&e.reverse()}var c=l;t.exports=c},moDv:function(t,e,i){var a=i("AAi1"),n=i("C7PF"),r=i("wUOi"),o=i("8b51"),s=i("g+yZ").devicePixelRatio,l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},h=[],u=[],c=[],d=[],f=Math.min,p=Math.max,m=Math.cos,v=Math.sin,g=Math.sqrt,C=Math.abs,D="undefined"!=typeof Float32Array,y=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};y.prototype={constructor:y,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,i){i=i||0,this._ux=C(i/s/t)||0,this._uy=C(i/s/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(l.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=C(t-this._xi)>this._ux||C(e-this._yi)>this._uy||this._len<5;return this.addData(l.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,a,n,r){return this.addData(l.C,t,e,i,a,n,r),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,a,n,r):this._ctx.bezierCurveTo(t,e,i,a,n,r)),this._xi=n,this._yi=r,this},quadraticCurveTo:function(t,e,i,a){return this.addData(l.Q,t,e,i,a),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,a):this._ctx.quadraticCurveTo(t,e,i,a)),this._xi=i,this._yi=a,this},arc:function(t,e,i,a,n,r){return this.addData(l.A,t,e,i,i,a,n-a,0,r?0:1),this._ctx&&this._ctx.arc(t,e,i,a,n,r),this._xi=m(n)*i+t,this._yi=v(n)*i+e,this},arcTo:function(t,e,i,a,n){return this._ctx&&this._ctx.arcTo(t,e,i,a,n),this},rect:function(t,e,i,a){return this._ctx&&this._ctx.rect(t,e,i,a),this.addData(l.R,t,e,i,a),this},closePath:function(){this.addData(l.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!D||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,a=this._len,n=0;n<e;n++)i+=t[n].len();D&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+i));for(n=0;n<e;n++)for(var r=t[n].data,o=0;o<r.length;o++)this.data[a++]=r[o];this._len=a},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,a,n=this._dashSum,r=this._dashOffset,o=this._lineDash,s=this._ctx,l=this._xi,h=this._yi,u=t-l,c=e-h,d=g(u*u+c*c),m=l,v=h,C=o.length;for(u/=d,c/=d,r<0&&(r=n+r),m-=(r%=n)*u,v-=r*c;u>0&&m<=t||u<0&&m>=t||0===u&&(c>0&&v<=e||c<0&&v>=e);)m+=u*(i=o[a=this._dashIdx]),v+=c*i,this._dashIdx=(a+1)%C,u>0&&m<l||u<0&&m>l||c>0&&v<h||c<0&&v>h||s[a%2?"moveTo":"lineTo"](u>=0?f(m,t):p(m,t),c>=0?f(v,e):p(v,e));u=m-t,c=v-e,this._dashOffset=-g(u*u+c*c)},_dashedBezierTo:function(t,e,i,n,r,o){var s,l,h,u,c,d=this._dashSum,f=this._dashOffset,p=this._lineDash,m=this._ctx,v=this._xi,C=this._yi,D=a.cubicAt,y=0,x=this._dashIdx,S=p.length,I=0;for(f<0&&(f=d+f),f%=d,s=0;s<1;s+=.1)l=D(v,t,i,r,s+.1)-D(v,t,i,r,s),h=D(C,e,n,o,s+.1)-D(C,e,n,o,s),y+=g(l*l+h*h);for(;x<S&&!((I+=p[x])>f);x++);for(s=(I-f)/y;s<=1;)u=D(v,t,i,r,s),c=D(C,e,n,o,s),x%2?m.moveTo(u,c):m.lineTo(u,c),s+=p[x]/y,x=(x+1)%S;x%2!=0&&m.lineTo(r,o),l=r-u,h=o-c,this._dashOffset=-g(l*l+h*h)},_dashedQuadraticTo:function(t,e,i,a){var n=i,r=a;i=(i+2*t)/3,a=(a+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,a,n,r)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,D&&(this.data=new Float32Array(t)))},getBoundingRect:function(){h[0]=h[1]=c[0]=c[1]=Number.MAX_VALUE,u[0]=u[1]=d[0]=d[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,a=0,s=0,f=0;f<t.length;){var p=t[f++];switch(1===f&&(a=e=t[f],s=i=t[f+1]),p){case l.M:e=a=t[f++],i=s=t[f++],c[0]=a,c[1]=s,d[0]=a,d[1]=s;break;case l.L:r.fromLine(e,i,t[f],t[f+1],c,d),e=t[f++],i=t[f++];break;case l.C:r.fromCubic(e,i,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],c,d),e=t[f++],i=t[f++];break;case l.Q:r.fromQuadratic(e,i,t[f++],t[f++],t[f],t[f+1],c,d),e=t[f++],i=t[f++];break;case l.A:var g=t[f++],C=t[f++],D=t[f++],y=t[f++],x=t[f++],S=t[f++]+x;f+=1;var I=1-t[f++];1===f&&(a=m(x)*D+g,s=v(x)*y+C),r.fromArc(g,C,D,y,x,S,I,c,d),e=m(S)*D+g,i=v(S)*y+C;break;case l.R:a=e=t[f++],s=i=t[f++];var T=t[f++],b=t[f++];r.fromLine(a,s,a+T,s+b,c,d);break;case l.Z:e=a,i=s}n.min(h,h,c),n.max(u,u,d)}return 0===f&&(h[0]=h[1]=u[0]=u[1]=0),new o(h[0],h[1],u[0]-h[0],u[1]-h[1])},rebuildPath:function(t){for(var e,i,a,n,r,o,s=this.data,h=this._ux,u=this._uy,c=this._len,d=0;d<c;){var f=s[d++];switch(1===d&&(e=a=s[d],i=n=s[d+1]),f){case l.M:e=a=s[d++],i=n=s[d++],t.moveTo(a,n);break;case l.L:r=s[d++],o=s[d++],(C(r-a)>h||C(o-n)>u||d===c-1)&&(t.lineTo(r,o),a=r,n=o);break;case l.C:t.bezierCurveTo(s[d++],s[d++],s[d++],s[d++],s[d++],s[d++]),a=s[d-2],n=s[d-1];break;case l.Q:t.quadraticCurveTo(s[d++],s[d++],s[d++],s[d++]),a=s[d-2],n=s[d-1];break;case l.A:var p=s[d++],g=s[d++],D=s[d++],y=s[d++],x=s[d++],S=s[d++],I=s[d++],T=s[d++],b=D>y?D:y,w=D>y?1:D/y,M=D>y?y/D:1,E=x+S;Math.abs(D-y)>.001?(t.translate(p,g),t.rotate(I),t.scale(w,M),t.arc(0,0,b,x,E,1-T),t.scale(1/w,1/M),t.rotate(-I),t.translate(-p,-g)):t.arc(p,g,b,x,E,1-T),1===d&&(e=m(x)*D+p,i=v(x)*y+g),a=m(E)*D+p,n=v(E)*y+g;break;case l.R:e=a=s[d],i=n=s[d+1],t.rect(s[d++],s[d++],s[d++],s[d++]);break;case l.Z:t.closePath(),a=e,n=i}}}},y.CMD=l;var x=y;t.exports=x},msXi:function(t,e,i){var a=i("77Pl");t.exports=function(t,e,i,n){try{return n?e(a(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&a(r.call(t)),e}}},mtWM:function(t,e,i){t.exports=i("tIFN")},mtrD:function(t,e){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=97)}({0:function(t,e,i){"use strict";function a(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return a})},97:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?i("i",{staticClass:"el-icon-loading"}):t._e(),t.icon&&!t.loading?i("i",{class:t.icon}):t._e(),t.$slots.default?i("span",[t._t("default")],2):t._e()])};a._withStripped=!0;var n={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}},r=i(0),o=Object(r.a)(n,a,[],!1,null,null,null);o.options.__file="packages/button/src/button.vue";var s=o.exports;s.install=function(t){t.component(s.name,s)};e.default=s}})},mvCM:function(t,e,i){var a=i("/gxq"),n=a.each,r=a.createHashMap,o=(a.assert,i("4Nz2").__DEV__,r(["tooltip","label","itemName","itemId","seriesName"]));function s(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}e.OTHER_DIMENSIONS=o,e.summarizeDimensions=function(t){var e={},i=e.encode={},a=r(),l=[],h=[],u=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};n(t.dimensions,function(e){var n,r=t.getDimensionInfo(e),c=r.coordDim;if(c){var d=r.coordDimIndex;s(i,c)[d]=e,r.isExtraCoord||(a.set(c,1),"ordinal"!==(n=r.type)&&"time"!==n&&(l[0]=e),s(u.encode,c)[d]=r.index),r.defaultTooltip&&h.push(e)}o.each(function(t,e){var a=s(i,e),n=r.otherDims[e];null!=n&&!1!==n&&(a[n]=r.name)})});var c=[],d={};a.each(function(t,e){var a=i[e];d[e]=a[0],c=c.concat(a)}),e.dataDimsOnCoord=c,e.encodeFirstDimNotExtra=d;var f=i.label;f&&f.length&&(l=f.slice());var p=i.tooltip;return p&&p.length?h=p.slice():h.length||(h=l.slice()),i.defaultedLabel=l,i.defaultedTooltip=h,e},e.getDimensionTypeByAxis=function(t){return"category"===t?"ordinal":"time"===t?"time":"float"}},mvHQ:function(t,e,i){t.exports={default:i("qkKv"),__esModule:!0}},mvkK:function(t,e,i){var a=i("jDhh"),n=a.parseSVG,r=a.makeViewBoxTransform,o=i("AlhT"),s=i("PD67"),l=i("/gxq"),h=l.assert,u=l.createHashMap,c=i("8b51"),d=(0,i("vXqC").makeInner)(),f={load:function(t,e){var i=d(e).originRoot;if(i)return{root:i,boundingRect:d(e).boundingRect};var a=p(e);return d(e).originRoot=a.root,d(e).boundingRect=a.boundingRect,a},makeGraphic:function(t,e,i){var a=d(e),n=a.rootMap||(a.rootMap=u()),r=n.get(i);if(r)return r;var o=a.originRoot,s=a.boundingRect;return a.originRootHostKey?r=p(e,s).root:(a.originRootHostKey=i,r=o),n.set(i,r)},removeGraphic:function(t,e,i){var a=d(e),n=a.rootMap;n&&n.removeKey(i),i===a.originRootHostKey&&(a.originRootHostKey=null)}};function p(t,e){var i,a,l=t.svgXML;try{a=(i=l&&n(l,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root,h(null!=a)}catch(t){throw new Error("Invalid svg format\n"+t.message)}var u=i.width,d=i.height,f=i.viewBoxRect;if(e||(e=null==u||null==d?a.getBoundingRect():new c(0,0,0,0),null!=u&&(e.width=u),null!=d&&(e.height=d)),f){var p=r(f,e.width,e.height),m=a;(a=new o).add(m),m.scale=p.scale,m.position=p.position}return a.setClipPath(new s({shape:e.plain()})),{root:a,boundingRect:e}}t.exports=f},mw3O:function(t,e,i){"use strict";var a=i("CwSZ"),n=i("DDCP"),r=i("XgCd");t.exports={formats:r,parse:n,stringify:a}},mypn:function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var a,n,r,o,s,l=1,h={},u=!1,c=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?a=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){p(t.data)},a=function(t){r.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(n=c.documentElement,a=function(t){var e=c.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):a=function(t){setTimeout(p,0,t)}:(o="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&p(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),a=function(e){t.postMessage(o+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return h[l]=n,a(l),l++},d.clearImmediate=f}function f(t){delete h[t]}function p(t){if(u)setTimeout(p,0,t);else{var e=h[t];if(e){u=!0;try{!function(t){var e=t.callback,a=t.args;switch(a.length){case 0:e();break;case 1:e(a[0]);break;case 2:e(a[0],a[1]);break;case 3:e(a[0],a[1],a[2]);break;default:e.apply(i,a)}}(e)}finally{f(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,i("DuR2"),i("W2nU"))},"n/n4":function(t,e,i){var a=i("/gxq");function n(t,e){return e=e||[0,0],a.map(["x","y"],function(i,a){var n=this.getAxis(i),r=e[a],o=t[a]/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-o)-n.dataToCoord(r+o))},this)}t.exports=function(t){var e=t.grid.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:a.bind(n,t)}}}},n0T6:function(t,e,i){var a=i("Ibhu"),n=i("xnc9").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,n)}},n3NR:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("8b51"),o=i("NUWb"),s=i("zlsk"),l=i("QD+P"),h=i("XCrL"),u=["inBrush","outOfBrush"],c="__ecBrushSelect",d="__ecInBrushSelectEvent",f=a.PRIORITY.VISUAL.BRUSH;function p(t,e){if(!t.isDisposed()){var i=t.getZr();i[d]=!0,t.dispatchAction({type:"brushSelect",batch:e}),i[d]=!1}}function m(t,e,i,a){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t[o.brushType](a,i,o.selectors,o))return!0}}function v(t){var e=t.brushSelector;if(n.isString(e)){var i=[];return n.each(s,function(t,a){i[a]=function(i,a,n,r){var o=a.getItemLayout(i);return t[e](o,n,r)}}),i}if(n.isFunction(e)){var a={};return n.each(s,function(t,i){a[i]=e}),a}return e}a.registerLayout(f,function(t,e,i){t.eachComponent({mainType:"brush"},function(e){i&&"takeGlobalCursor"===i.type&&e.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1}),(e.brushTargetManager=new h(e.option,t)).setInputRanges(e.areas,t)})}),a.registerVisual(f,function(t,e,i){var a,r,h=[];t.eachComponent({mainType:"brush"},function(e,i){var l={brushId:e.id,brushIndex:i,brushName:e.name,areas:n.clone(e.areas),selected:[]};h.push(l);var c=e.option,d=c.brushLink,f=[],p=[],C=[],D=0;i||(a=c.throttleType,r=c.throttleDelay);var y=n.map(e.areas,function(t){return function(t){var e=t.selectors={};return n.each(s[t.brushType],function(i,a){e[a]=function(a){return i(a,e,t)}}),t}(n.defaults({boundingRect:g[t.brushType](t)},t))}),x=o.createVisualMappings(e.option,u,function(t){t.mappingMethod="fixed"});function S(t){return"all"===d||f[t]}function I(t){return!!t.length}n.isArray(d)&&n.each(d,function(t){f[t]=1}),t.eachSeries(function(i,a){var r=C[a]=[];"parallel"===i.subType?function(t,e){var i=t.coordinateSystem;D|=i.hasAxisBrushed(),S(e)&&i.eachActiveState(t.getData(),function(t,e){"active"===t&&(p[e]=1)})}(i,a):function(i,a,r){var o=v(i);if(!o||function(t,e){var i=t.option.seriesIndex;return null!=i&&"all"!==i&&(n.isArray(i)?n.indexOf(i,e)<0:e!==i)}(e,a))return;if(n.each(y,function(a){o[a.brushType]&&e.brushTargetManager.controlSeries(a,i,t)&&r.push(a),D|=I(r)}),S(a)&&I(r)){var s=i.getData();s.each(function(t){m(o,r,s,t)&&(p[t]=1)})}}(i,a,r)}),t.eachSeries(function(t,e){var i={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};l.selected.push(i);var a=v(t),n=C[e],r=t.getData(),s=S(e)?function(t){return p[t]?(i.dataIndex.push(r.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return m(a,n,r,t)?(i.dataIndex.push(r.getRawIndex(t)),"inBrush"):"outOfBrush"};(S(e)?D:I(n))&&o.applyVisual(u,x,r,s)})}),function(t,e,i,a,n){if(!n)return;var r=t.getZr();if(r[d])return;r[c]||(r[c]=p);l.createOrUpdate(r,c,i,e)(t,a)}(e,a,r,h,i)});var g={lineX:n.noop,lineY:n.noop,rect:function(t){return C(t.range)},polygon:function(t){for(var e,i=t.range,a=0,n=i.length;a<n;a++){e=e||[[1/0,-1/0],[1/0,-1/0]];var r=i[a];r[0]<e[0][0]&&(e[0][0]=r[0]),r[0]>e[0][1]&&(e[0][1]=r[0]),r[1]<e[1][0]&&(e[1][0]=r[1]),r[1]>e[1][1]&&(e[1][1]=r[1])}return e&&C(e)}};function C(t){return new r(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}},n5nI:function(t,e,i){var a=i("wRzc"),n={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var i=t.getData(),n=(t.visualColorAccessPath||"itemStyle.color").split("."),r=t.get(n)||t.getColorFromPalette(t.name,null,e.getSeriesCount());i.setVisual("color",r);var o=(t.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),s=t.get(o);if(i.setVisual("borderColor",s),!e.isSeriesFiltered(t)){"function"!=typeof r||r instanceof a||i.each(function(e){i.setItemVisual(e,"color",r(t.getDataParams(e)))});return{dataEach:i.hasItemOption?function(t,e){var i=t.getItemModel(e),a=i.get(n,!0),r=i.get(o,!0);null!=a&&t.setItemVisual(e,"color",a),null!=r&&t.setItemVisual(e,"borderColor",r)}:null}}}};t.exports=n},nErl:function(t,e){(function(e){t.exports=e}).call(e,{})},nQkE:function(t,e,i){var a=i("/gxq"),n=i("wWR3");function r(t,e,i){if(t.count())for(var n,r=e.coordinateSystem,o=e.getLayerSeries(),s=t.mapDimension("single"),l=t.mapDimension("value"),h=a.map(o,function(e){return a.map(e.indices,function(e){var i=r.dataToPoint(t.get(s,e));return i[1]=t.get(l,e),i})}),u=function(t){for(var e=t.length,i=t[0].length,a=[],n=[],r=0,o={},s=0;s<i;++s){for(var l=0,h=0;l<e;++l)h+=t[l][s][1];h>r&&(r=h),a.push(h)}for(var u=0;u<i;++u)n[u]=(r-a[u])/2;r=0;for(var c=0;c<i;++c){var d=a[c]+n[c];d>r&&(r=d)}return o.y0=n,o.max=r,o}(h),c=u.y0,d=i/u.max,f=o.length,p=o[0].indices.length,m=0;m<p;++m){n=c[m]*d,t.setItemLayout(o[0].indices[m],{layerIndex:0,x:h[0][m][0],y0:n,y:h[0][m][1]*d});for(var v=1;v<f;++v)n+=h[v-1][m][1]*d,t.setItemLayout(o[v].indices[m],{layerIndex:v,x:h[v][m][0],y0:n,y:h[v][m][1]*d})}}t.exports=function(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),i=t.coordinateSystem,a={},o=i.getRect();a.rect=o;var s=t.get("boundaryGap"),l=i.getAxis();a.boundaryGap=s,"horizontal"===l.orient?(s[0]=n.parsePercent(s[0],o.height),s[1]=n.parsePercent(s[1],o.height),r(e,t,o.height-s[0]-s[1])):(s[0]=n.parsePercent(s[0],o.width),s[1]=n.parsePercent(s[1],o.width),r(e,t,o.width-s[0]-s[1])),e.setLayout("layoutInfo",a)})}},nUSl:function(t,e,i){var a=i("Icdr");i("OvrE"),i("PdL8"),i("FvdC"),i("srbS");var n=i("QZ7o"),r=i("2W4A"),o=i("vIe4"),s=i("Z2m1"),l=i("XRkS");a.registerLayout(n),a.registerVisual(r),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,o),a.registerPreprocessor(s),l("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},"nV/6":function(t,e){function i(t){return t instanceof Array||(t=[t,t]),t}var a="lineStyle.opacity".split("."),n={seriesType:"lines",reset:function(t,e,n){var r=i(t.get("symbol")),o=i(t.get("symbolSize")),s=t.getData();return s.setVisual("fromSymbol",r&&r[0]),s.setVisual("toSymbol",r&&r[1]),s.setVisual("fromSymbolSize",o&&o[0]),s.setVisual("toSymbolSize",o&&o[1]),s.setVisual("opacity",t.get(a)),{dataEach:s.hasItemOption?function(t,e){var n=t.getItemModel(e),r=i(n.getShallow("symbol",!0)),o=i(n.getShallow("symbolSize",!0)),s=n.get(a);r[0]&&t.setItemVisual(e,"fromSymbol",r[0]),r[1]&&t.setItemVisual(e,"toSymbol",r[1]),o[0]&&t.setItemVisual(e,"fromSymbolSize",o[0]),o[1]&&t.setItemVisual(e,"toSymbolSize",o[1]),t.setItemVisual(e,"opacity",s)}:null}}};t.exports=n},nvbp:function(t,e){var i=/^(attrs|props|on|nativeOn|class|style|hook)$/;function a(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce(function(t,e){var n,r,o,s,l;for(o in e)if(n=t[o],r=e[o],n&&i.test(o))if("class"===o&&("string"==typeof n&&(l=n,t[o]=n={},n[l]=!0),"string"==typeof r&&(l=r,e[o]=r={},r[l]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(s in r)n[s]=a(n[s],r[s]);else if(Array.isArray(n))t[o]=n.concat(r);else if(Array.isArray(r))t[o]=[n].concat(r);else for(s in r)n[s]=r[s];else t[o]=e[o];return t},{})}},nwDn:function(t,e){function i(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");var i=parseInt(e.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:255&i,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});var e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,a=t.width&&t.width>=21?t.width:void 0,n=t.scale||4;return{width:a,scale:a?4:n,margin:e,color:{dark:i(t.color.dark||"#000000ff"),light:i(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,i){var a=e.getScale(t,i);return Math.floor((t+2*i.margin)*a)},e.qrToImageData=function(t,i,a){for(var n=i.modules.size,r=i.modules.data,o=e.getScale(n,a),s=Math.floor((n+2*a.margin)*o),l=a.margin*o,h=[a.color.light,a.color.dark],u=0;u<s;u++)for(var c=0;c<s;c++){var d=4*(u*s+c),f=a.color.light;if(u>=l&&c>=l&&u<s-l&&c<s-l)f=h[r[Math.floor((u-l)/o)*n+Math.floor((c-l)/o)]?1:0];t[d++]=f.r,t[d++]=f.g,t[d++]=f.b,t[d]=f.a}}},nyx9:function(t,e,i){var a=i("uF9H"),n=i("sYKs"),r=i("RO0P"),o=i("vPzN"),s=i("zYqW"),l=i("NY/E"),h=i("oLzS"),u=i("b2+w");function c(t){return unescape(encodeURIComponent(t)).length}function d(t,e,i){for(var a,n=[];null!==(a=t.exec(i));)n.push({data:a[0],index:a.index,mode:e,length:a[0].length});return n}function f(t){var e,i,n=d(l.NUMERIC,a.NUMERIC,t),r=d(l.ALPHANUMERIC,a.ALPHANUMERIC,t);return h.isKanjiModeEnabled()?(e=d(l.BYTE,a.BYTE,t),i=d(l.KANJI,a.KANJI,t)):(e=d(l.BYTE_KANJI,a.BYTE,t),i=[]),n.concat(r,e,i).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function p(t,e){switch(e){case a.NUMERIC:return n.getBitsLength(t);case a.ALPHANUMERIC:return r.getBitsLength(t);case a.KANJI:return s.getBitsLength(t);case a.BYTE:return o.getBitsLength(t)}}function m(t,e){var i,l=a.getBestModeForData(t);if((i=a.from(e,l))!==a.BYTE&&i.bit<l.bit)throw new Error('"'+t+'" cannot be encoded with mode '+a.toString(i)+".\n Suggested mode is: "+a.toString(l));switch(i!==a.KANJI||h.isKanjiModeEnabled()||(i=a.BYTE),i){case a.NUMERIC:return new n(t);case a.ALPHANUMERIC:return new r(t);case a.KANJI:return new s(t);case a.BYTE:return new o(t)}}e.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(m(e,null)):e.data&&t.push(m(e.data,e.mode)),t},[])},e.fromString=function(t,i){for(var n=function(t,e){for(var i={},n={start:{}},r=["start"],o=0;o<t.length;o++){for(var s=t[o],l=[],h=0;h<s.length;h++){var u=s[h],c=""+o+h;l.push(c),i[c]={node:u,lastCount:0},n[c]={};for(var d=0;d<r.length;d++){var f=r[d];i[f]&&i[f].node.mode===u.mode?(n[f][c]=p(i[f].lastCount+u.length,u.mode)-p(i[f].lastCount,u.mode),i[f].lastCount+=u.length):(i[f]&&(i[f].lastCount=u.length),n[f][c]=p(u.length,u.mode)+4+a.getCharCountIndicator(u.mode,e))}}r=l}for(d=0;d<r.length;d++)n[r[d]].end=0;return{map:n,table:i}}(function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];switch(n.mode){case a.NUMERIC:e.push([n,{data:n.data,mode:a.ALPHANUMERIC,length:n.length},{data:n.data,mode:a.BYTE,length:n.length}]);break;case a.ALPHANUMERIC:e.push([n,{data:n.data,mode:a.BYTE,length:n.length}]);break;case a.KANJI:e.push([n,{data:n.data,mode:a.BYTE,length:c(n.data)}]);break;case a.BYTE:e.push([{data:n.data,mode:a.BYTE,length:c(n.data)}])}}return e}(f(t,h.isKanjiModeEnabled())),i),r=u.find_path(n.map,"start","end"),o=[],s=1;s<r.length-1;s++)o.push(n.table[r[s]].node);return e.fromArray(function(t){return t.reduce(function(t,e){var i=t.length-1>=0?t[t.length-1]:null;return i&&i.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[])}(o))},e.rawSplit=function(t){return e.fromArray(f(t,h.isKanjiModeEnabled()))}},"o0k+":function(t,e,i){i("cN90"),i("OcRu")},oBGI:function(t,e,i){var a=i("AAi1").quadraticProjectPoint;e.containStroke=function(t,e,i,n,r,o,s,l,h){if(0===s)return!1;var u=s;return!(h>e+u&&h>n+u&&h>o+u||h<e-u&&h<n-u&&h<o-u||l>t+u&&l>i+u&&l>r+u||l<t-u&&l<i-u&&l<r-u)&&a(t,e,i,n,r,o,l,h,null)<=u/2}},oDOe:function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=i("qjvV"),r=i("0sHC"),o=i("mcsk"),s=i("1Hui"),l=a.curry,h=a.each,u=a.map,c=Math.min,d=Math.max,f=Math.pow,p=1e4,m=6,v=6,g="globalPan",C={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},D={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},y={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},x=0;function S(t){n.call(this),this._zr=t,this.group=new r.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._lastMouseMovePoint={},this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+x++,this._handlers={},h($,function(t,e){this._handlers[e]=a.bind(t,this)},this)}function I(t,e){var i=q[e.brushType].createCover(t,e);return i.__brushOption=e,w(i,e),t.group.add(i),i}function T(t,e){var i=E(e);return i.endCreating&&(i.endCreating(t,e),w(e,e.__brushOption)),e}function b(t,e){var i=e.__brushOption;E(e).updateCoverShape(t,e,i.range,i)}function w(t,e){var i=e.z;null==i&&(i=p),t.traverse(function(t){t.z=i,t.z2=i})}function M(t,e){E(e).updateCommon(t,e),b(t,e)}function E(t){return q[t.__brushOption.brushType]}function A(t,e,i){var a,n=t._panels;if(!n)return!0;var r=t._transform;return h(n,function(t){t.isTargetByCursor(e,i,r)&&(a=t)}),a}function _(t,e){var i=t._panels;if(!i)return!0;var a=e.__brushOption.panelId;return null==a||i[a]}function L(t){var e=t._covers,i=e.length;return h(e,function(e){t.group.remove(e)},t),e.length=0,!!i}function F(t,e){var i=u(t._covers,function(t){var e=t.__brushOption,i=a.clone(e.range);return{brushType:e.brushType,panelId:e.panelId,range:i}});t.trigger("brush",i,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function O(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function P(t,e,i,a){var n=new r.Group;return n.add(new r.Rect({name:"main",style:k(i),silent:!0,draggable:!0,cursor:"move",drift:l(t,e,n,"nswe"),ondragend:l(F,e,{isEnd:!0})})),h(a,function(i){n.add(new r.Rect({name:i,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:l(t,e,n,i),ondragend:l(F,e,{isEnd:!0})}))}),n}function N(t,e,i,a){var n=a.brushStyle.lineWidth||0,r=d(n,v),o=i[0][0],s=i[1][0],l=o-n/2,h=s-n/2,u=i[0][1],c=i[1][1],f=u-r+n/2,p=c-r+n/2,m=u-o,g=c-s,C=m+n,D=g+n;B(t,e,"main",o,s,m,g),a.transformable&&(B(t,e,"w",l,h,r,D),B(t,e,"e",f,h,r,D),B(t,e,"n",l,h,C,r),B(t,e,"s",l,p,C,r),B(t,e,"nw",l,h,r,r),B(t,e,"ne",f,h,r,r),B(t,e,"sw",l,p,r,r),B(t,e,"se",f,p,r,r))}function R(t,e){var i=e.__brushOption,a=i.transformable,n=e.childAt(0);n.useStyle(k(i)),n.attr({silent:!a,cursor:a?"move":"default"}),h(["w","e","n","s","se","sw","ne","nw"],function(i){var n=e.childOfName(i),o=function t(e,i){if(i.length>1){i=i.split("");var a=[t(e,i[0]),t(e,i[1])];return("e"===a[0]||"w"===a[0])&&a.reverse(),a.join("")}var a=r.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[i],function(t){return r.getTransform(t.group)}(e));return{left:"w",right:"e",top:"n",bottom:"s"}[a]}(t,i);n&&n.attr({silent:!a,invisible:!a,cursor:a?D[o]+"-resize":null})})}function B(t,e,i,a,n,r,o){var s,l,h,u,f,p=e.childOfName(i);p&&p.setShape((s=W(t,e,[[a,n],[a+r,n+o]]),l=c(s[0][0],s[1][0]),h=c(s[0][1],s[1][1]),u=d(s[0][0],s[1][0]),f=d(s[0][1],s[1][1]),{x:l,y:h,width:u-l,height:f-h}))}function k(t){return a.defaults({strokeNoScale:!0},t.brushStyle)}function V(t,e,i,a){var n=[c(t,i),c(e,a)],r=[d(t,i),d(e,a)];return[[n[0],r[0]],[n[1],r[1]]]}function H(t,e,i,a,n,r,o,s){var l=a.__brushOption,u=t(l.range),c=Y(i,r,o);h(n.split(""),function(t){var e=C[t];u[e[0]][e[1]]+=c[e[0]]}),l.range=e(V(u[0][0],u[1][0],u[0][1],u[1][1])),M(i,a),F(i,{isEnd:!1})}function G(t,e,i,a,n){var r=e.__brushOption.range,o=Y(t,i,a);h(r,function(t){t[0]+=o[0],t[1]+=o[1]}),M(t,e),F(t,{isEnd:!1})}function Y(t,e,i){var a=t.group,n=a.transformCoordToLocal(e,i),r=a.transformCoordToLocal(0,0);return[n[0]-r[0],n[1]-r[1]]}function W(t,e,i){var n=_(t,e);return n&&!0!==n?n.clipPath(i,t._transform):a.clone(i)}function X(t){var e=t.event;e.preventDefault&&e.preventDefault()}function U(t,e,i){return t.childOfName("main").contain(e,i)}function z(t,e,i,n){var r,o=t._creatingCover,s=t._creatingPanel,l=t._brushOption;if(t._track.push(i.slice()),function(t){var e=t._track;if(!e.length)return!1;var i=e[e.length-1],a=e[0],n=i[0]-a[0],r=i[1]-a[1];return f(n*n+r*r,.5)>m}(t)||o){if(s&&!o){"single"===l.brushMode&&L(t);var h=a.clone(l);h.brushType=K(h.brushType,s),h.panelId=!0===s?null:s.panelId,o=t._creatingCover=I(t,h),t._covers.push(o)}if(o){var u=q[K(t._brushType,s)];o.__brushOption.range=u.getCreatingRange(W(t,o,t._track)),n&&(T(t,o),u.updateCommon(t,o)),b(t,o),r={isEnd:n}}}else n&&"single"===l.brushMode&&l.removeOnClick&&A(t,e,i)&&L(t)&&(r={isEnd:n,removeOnClick:!0});return r}function K(t,e){return"auto"===t?e.defaultBrushType:t}S.prototype={constructor:S,enableBrush:function(t){var e,i;return this._brushType&&(i=(e=this)._zr,o.release(i,g,e._uid),h(e._handlers,function(t,e){i.off(e,t)}),e._brushType=e._brushOption=null),t.brushType&&function(t,e){var i=t._zr;t._enableGlobalPan||o.take(i,g,t._uid);h(t._handlers,function(t,e){i.on(e,t)}),t._brushType=e.brushType,t._brushOption=a.merge(a.clone(y),e,!0)}(this,t),this},setPanels:function(t){if(t&&t.length){var e=this._panels={};a.each(t,function(t){e[t.panelId]=a.clone(t)})}else this._panels=null;return this},mount:function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){h(this._covers,t,e)},updateCovers:function(t){t=a.map(t,function(t){return a.merge(a.clone(y),t,!0)});var e="\0-brush-index-",i=this._covers,n=this._covers=[],r=this,o=this._creatingCover;return new s(i,t,function(t,e){return l(t.__brushOption,e)},l).add(h).update(h).remove(function(t){i[t]!==o&&r.group.remove(i[t])}).execute(),this;function l(t,i){return(null!=t.id?t.id:e+i)+"-"+t.brushType}function h(e,a){var s=t[e];if(null!=a&&i[a]===o)n[e]=i[a];else{var l=n[e]=null!=a?(i[a].__brushOption=s,i[a]):T(r,I(r,s));M(r,l)}}},unmount:function(){return this.enableBrush(!1),L(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},a.mixin(S,n);var $={mousedown:function(t){if(this._dragging)j(this,t);else if(!t.target||!t.target.draggable){X(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=A(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=this._lastMouseMovePoint;e.x=t.offsetX,e.y=t.offsetY;var i=this.group.transformCoordToLocal(e.x,e.y);if(function(t,e,i){if(t._brushType){var a=t._zr,n=t._covers,r=A(t,e,i);if(!t._dragging)for(var o=0;o<n.length;o++){var s=n[o].__brushOption;if(r&&(!0===r||s.panelId===r.panelId)&&q[s.brushType].contain(n[o],i[0],i[1]))return}r&&a.setCursorStyle("crosshair")}}(this,t,i),this._dragging){X(t);var a=z(this,t,i,!1);a&&F(this,a)}},mouseup:function(t){j(this,t)},globalout:function(t){j(this,t,!0)}};function j(t,e,i){if(t._dragging){!i&&X(e);var a=e.offsetX,n=e.offsetY,r=t._lastMouseMovePoint;i&&(a=r.x,n=r.y);var o=z(t,e,t.group.transformCoordToLocal(a,n),!0);t._dragging=!1,t._track=[],t._creatingCover=null,o&&F(t,o)}}var q={lineX:J(0),lineY:J(1),rect:{createCover:function(t,e){return P(l(H,function(t){return t},function(t){return t}),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){var e=O(t);return V(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,i,a){N(t,e,i,a)},updateCommon:R,contain:U},polygon:{createCover:function(t,e){var i=new r.Group;return i.add(new r.Polyline({name:"main",style:k(e),silent:!0})),i},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new r.Polygon({name:"main",draggable:!0,drift:l(G,t,e),ondragend:l(F,t,{isEnd:!0})}))},updateCoverShape:function(t,e,i,a){e.childAt(0).setShape({points:W(t,e,i)})},updateCommon:R,contain:U}};function J(t){return{createCover:function(e,i){return P(l(H,function(e){var i=[e,[0,100]];return t&&i.reverse(),i},function(e){return e[t]}),e,i,[["w","e"],["n","s"]][t])},getCreatingRange:function(e){var i=O(e);return[c(i[0][t],i[1][t]),d(i[0][t],i[1][t])]},updateCoverShape:function(e,i,a,n){var r,o=_(e,i);if(!0!==o&&o.getLinearBrushOtherExtent)r=o.getLinearBrushOtherExtent(t,e._transform);else{var s=e._zr;r=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[a,r];t&&l.reverse(),N(e,i,l,n)},updateCommon:R,contain:U}}var Z=S;t.exports=Z},oJlt:function(t,e,i){"use strict";var a=i("cGG2"),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,r,o={};return t?(a.forEach(t.split("\n"),function(t){if(r=t.indexOf(":"),e=a.trim(t.substr(0,r)).toLowerCase(),i=a.trim(t.substr(r+1)),e){if(o[e]&&n.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([i]):o[e]?o[e]+", "+i:i}}),o):o}},oJvE:function(t,e,i){var a=i("/gxq"),n=i("/86O");function r(t){this._zr=t.getZr(),this._show=!1,this._hideTimeout}r.prototype={constructor:r,_enterable:!0,update:function(){},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,i){this.el&&this._zr.remove(this.el);for(var a={},r=t,o=r.indexOf("{marker");o>=0;){var s=r.indexOf("|}"),l=r.substr(o+"{marker".length,s-o-"{marker".length);l.indexOf("sub")>-1?a["marker"+l]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[l],textOffset:[3,0]}:a["marker"+l]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[l]},o=(r=r.substr(s+1)).indexOf("{marker")}this.el=new n({style:{rich:a,text:t,textLineHeight:20,textBackgroundColor:i.get("backgroundColor"),textBorderRadius:i.get("borderRadius"),textFill:i.get("textStyle.color"),textPadding:i.get("padding")},z:i.get("z")}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){this.el&&this.el.attr("position",[t,e])},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(a.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}};var o=r;t.exports=o},oLzS:function(t,e){var i,a=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return a[t]},e.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');i=t},e.isKanjiModeEnabled=function(){return void 0!==i},e.toSJIS=function(t){return i(t)}},oM7Q:function(t,e,i){i("sF+V");var a=i("FeBl").Object;t.exports=function(t,e){return a.create(t,e)}},oNmr:function(t,e,i){i("9Bbf")("Set")},oYIf:function(t,e,i){var a=i("/gxq"),n=i("8b51"),r=i("dOVI"),o=i("0sHC"),s=i("1Xuh"),l=i("Gp87"),h=i("Pwgp"),u=i("kK7q").createSymbol,c=i("3yJd"),d=i("wWR3"),f=i("HHfb").encodeHTML,p=a.bind,m=a.each,v=Math.PI,g=l.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,i,a){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var n=this._layout(t,i),r=this._createGroup("mainGroup"),o=this._createGroup("labelGroup"),s=this._axis=this._createAxis(n,t);t.formatTooltip=function(t){return f(s.scale.getLabel(t))},m(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](n,r,s,t)},this),this._renderAxisLabel(n,o,s,t),this._position(n,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var i=t.get("label.position"),a=t.get("orient"),n=function(t,e){return s.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e);null==i||"auto"===i?i="horizontal"===a?n.y+n.height/2<e.getHeight()/2?"-":"+":n.x+n.width/2<e.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]);var r,o,l,h,u={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},c={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},d={horizontal:0,vertical:v/2},f="vertical"===a?n.height:n.width,p=t.getModel("controlStyle"),m=p.get("show",!0),g=m?p.get("itemSize"):0,C=m?p.get("itemGap"):0,D=g+C,y=t.get("label.rotate")||0;y=y*v/180;var x=p.get("position",!0),S=m&&p.get("showPlayBtn",!0),I=m&&p.get("showPrevBtn",!0),T=m&&p.get("showNextBtn",!0),b=0,w=f;return"left"===x||"bottom"===x?(S&&(r=[0,0],b+=D),I&&(o=[b,0],b+=D),T&&(l=[w-g,0],w-=D)):(S&&(r=[w-g,0],w-=D),I&&(o=[0,0],b+=D),T&&(l=[w-g,0],w-=D)),h=[b,w],t.get("inverse")&&h.reverse(),{viewRect:n,mainLength:f,orient:a,rotation:d[a],labelRotation:y,labelPosOpt:i,labelAlign:t.get("label.align")||u[a],labelBaseline:t.get("label.verticalAlign")||t.get("label.baseline")||c[a],playPosition:r,prevBtnPosition:o,nextBtnPosition:l,axisExtent:h,controlSize:g,controlGap:C}},_position:function(t,e){var i=this._mainGroup,a=this._labelGroup,n=t.viewRect;if("vertical"===t.orient){var o=r.create(),s=n.x,l=n.y+n.height;r.translate(o,o,[-s,-l]),r.rotate(o,o,-v/2),r.translate(o,o,[s,l]),(n=n.clone()).applyTransform(o)}var h=C(n),u=C(i.getBoundingRect()),c=C(a.getBoundingRect()),d=i.position,f=a.position;f[0]=d[0]=h[0][0];var p,m=t.labelPosOpt;isNaN(m)?(D(d,u,h,1,p="+"===m?0:1),D(f,c,h,1,1-p)):(D(d,u,h,1,p=m>=0?0:1),f[1]=d[1]+m);function g(t){var e=t.position;t.origin=[h[0][0]-e[0],h[1][0]-e[1]]}function C(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function D(t,e,i,a,n){t[a]+=i[a][n]-e[a][n]}i.attr("position",d),a.attr("position",f),i.rotation=a.rotation=t.rotation,g(i),g(a)},_createAxis:function(t,e){var i=e.getData(),a=e.get("axisType"),n=c.createScaleByModel(e,a);n.getTicks=function(){return i.mapArray(["value"],function(t){return t})};var r=i.getDataExtent("value");n.setExtent(r[0],r[1]),n.niceTicks();var o=new h("value",n,t.axisExtent,a);return o.model=e,o},_createGroup:function(t){var e=this["_"+t]=new o.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,i,n){var r=i.getExtent();n.get("lineStyle.show")&&e.add(new o.Line({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:a.extend({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,i,a){var n=a.getData(),r=i.scale.getTicks();m(r,function(t){var r=i.dataToCoord(t),s=n.getItemModel(t),l=s.getModel("itemStyle"),h=s.getModel("emphasis.itemStyle"),u={position:[r,0],onclick:p(this._changeTimeline,this,t)},c=C(s,l,e,u);o.setHoverStyle(c,h.getItemStyle()),s.get("tooltip")?(c.dataIndex=t,c.dataModel=a):c.dataIndex=c.dataModel=null},this)},_renderAxisLabel:function(t,e,i,a){if(i.getLabelModel().get("show")){var n=a.getData(),r=i.getViewLabels();m(r,function(a){var r=a.tickValue,s=n.getItemModel(r),l=s.getModel("label"),h=s.getModel("emphasis.label"),u=i.dataToCoord(a.tickValue),c=new o.Text({position:[u,0],rotation:t.labelRotation-t.rotation,onclick:p(this._changeTimeline,this,r),silent:!1});o.setTextStyle(c.style,l,{text:a.formattedLabel,textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline}),e.add(c),o.setHoverStyle(c,o.setTextStyle({},h))},this)}},_renderControl:function(t,e,i,r){var s=t.controlSize,l=t.rotation,h=r.getModel("controlStyle").getItemStyle(),u=r.getModel("emphasis.controlStyle").getItemStyle(),c=[0,-s/2,s,s],d=r.getPlayState(),f=r.get("inverse",!0);function m(t,i,d,f){if(t){var p=function(t,e,i,r){return o.makePath(t.get(e).replace(/^path:\/\//,""),a.clone(r||{}),new n(i[0],i[1],i[2],i[3]),"center")}(r,i,c,{position:t,origin:[s/2,0],rotation:f?-l:0,rectHover:!0,style:h,onclick:d});e.add(p),o.setHoverStyle(p,u)}}m(t.nextBtnPosition,"controlStyle.nextIcon",p(this._changeTimeline,this,f?"-":"+")),m(t.prevBtnPosition,"controlStyle.prevIcon",p(this._changeTimeline,this,f?"+":"-")),m(t.playPosition,"controlStyle."+(d?"stopIcon":"playIcon"),p(this._handlePlayClick,this,!d),!0)},_renderCurrentPointer:function(t,e,i,a){var n=a.getData(),r=a.getCurrentIndex(),o=n.getItemModel(r).getModel("checkpointStyle"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=p(s._handlePointerDrag,s),t.ondragend=p(s._handlePointerDragend,s),D(t,r,i,a,!0)},onUpdate:function(t){D(t,r,i,a)}};this._currentPointer=C(o,o,this._mainGroup,{},this._currentPointer,l)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var i=this._toAxisCoord(t)[0],a=this._axis,n=d.asc(a.getExtent().slice());i>n[1]&&(i=n[1]),i<n[0]&&(i=n[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var r=this._findNearestTick(i),o=this.model;(e||r!==o.getCurrentIndex()&&o.get("realtime"))&&this._changeTimeline(r)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(p(function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return o.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,i=this.model.getData(),a=1/0,n=this._axis;return i.each(["value"],function(i,r){var o=n.dataToCoord(i),s=Math.abs(o-t);s<a&&(a=s,e=r)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}});function C(t,e,i,n,r,o){var s=e.get("color");if(r)r.setColor(s),i.add(r),o&&o.onUpdate(r);else{var l=t.get("symbol");(r=u(l,-1,-1,2,2,s)).setStyle("strokeNoScale",!0),i.add(r),o&&o.onCreate(r)}var h=e.getItemStyle(["color","symbol","symbolSize"]);r.setStyle(h),n=a.merge({rectHover:!0,z2:100},n,!0);var c=t.get("symbolSize");(c=c instanceof Array?c.slice():[+c,+c])[0]/=2,c[1]/=2,n.scale=c;var f=t.get("symbolOffset");if(f){var p=n.position=n.position||[0,0];p[0]+=d.parsePercent(f[0],c[0]),p[1]+=d.parsePercent(f[1],c[1])}var m=t.get("symbolRotate");return n.rotation=(m||0)*Math.PI/180||0,r.attr(n),r.updateTransform(),r}function D(t,e,i,a,n){if(!t.dragging){var r=a.getModel("checkpointStyle"),o=i.dataToCoord(a.getData().get(["value"],e));n||!r.get("animation",!0)?t.attr({position:[o,0]}):(t.stopAnimation(!0),t.animateTo({position:[o,0]},r.get("animationDuration",!0),r.get("animationEasing",!0)))}}t.exports=g},od06:function(t,e,i){i("Y5nL").registerSubTypeDefaulter("timeline",function(){return"slider"})},oeOm:function(t,e,i){var a=i("7Doy");t.exports=function(t,e){return new(a(t))(e)}},"og9+":function(t,e){function i(t,e){var i=t[e]-t[1-e];return{span:Math.abs(i),sign:i>0?-1:i<0?1:e?-1:1}}function a(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}t.exports=function(t,e,n,r,o,s){t=t||0;var l=n[1]-n[0];if(null!=o&&(o=a(o,[0,l])),null!=s&&(s=Math.max(s,null!=o?o:0)),"all"===r){var h=Math.abs(e[1]-e[0]);o=s=a(h=a(h,[0,l]),[o,s]),r=0}e[0]=a(e[0],n),e[1]=a(e[1],n);var u=i(e,r);e[r]+=t;var c=o||0,d=n.slice();u.sign<0?d[0]+=c:d[1]-=c,e[r]=a(e[r],d);var f=i(e,r);return null!=o&&(f.sign!==u.sign||f.span<o)&&(e[1-r]=e[r]+u.sign*o),f=i(e,r),null!=s&&f.span>s&&(e[1-r]=e[r]+f.sign*s),e}},oqQY:function(t,e,i){var a;a=function(){"use strict";var t="millisecond",e="second",i="minute",a="hour",n="day",r="week",o="month",s="quarter",l="year",h="date",u="Invalid Date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],i=t%100;return"["+t+(e[(i-20)%10]||e[i]||e[0])+"]"}},p=function(t,e,i){var a=String(t);return!a||a.length>=e?t:""+Array(e+1-a.length).join(i)+t},m={s:p,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),a=Math.floor(i/60),n=i%60;return(e<=0?"+":"-")+p(a,2,"0")+":"+p(n,2,"0")},m:function t(e,i){if(e.date()<i.date())return-t(i,e);var a=12*(i.year()-e.year())+(i.month()-e.month()),n=e.clone().add(a,o),r=i-n<0,s=e.clone().add(a+(r?-1:1),o);return+(-(a+(i-n)/(r?n-s:s-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(u){return{M:o,y:l,w:r,d:n,D:h,h:a,m:i,s:e,ms:t,Q:s}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",g={};g[v]=f;var C=function(t){return t instanceof S},D=function t(e,i,a){var n;if(!e)return v;if("string"==typeof e){var r=e.toLowerCase();g[r]&&(n=r),i&&(g[r]=i,n=r);var o=e.split("-");if(!n&&o.length>1)return t(o[0])}else{var s=e.name;g[s]=e,n=s}return!a&&n&&(v=n),n||!a&&v},y=function(t,e){if(C(t))return t.clone();var i="object"==typeof e?e:{};return i.date=t,i.args=arguments,new S(i)},x=m;x.l=D,x.i=C,x.w=function(t,e){return y(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function f(t){this.$L=D(t.locale,null,!0),this.parse(t)}var p=f.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(x.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var a=e.match(c);if(a){var n=a[2]-1||0,r=(a[7]||"0").substring(0,3);return i?new Date(Date.UTC(a[1],n,a[3]||1,a[4]||0,a[5]||0,a[6]||0,r)):new Date(a[1],n,a[3]||1,a[4]||0,a[5]||0,a[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return x},p.isValid=function(){return!(this.$d.toString()===u)},p.isSame=function(t,e){var i=y(t);return this.startOf(e)<=i&&i<=this.endOf(e)},p.isAfter=function(t,e){return y(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<y(t)},p.$g=function(t,e,i){return x.u(t)?this[e]:this.set(i,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,s){var u=this,c=!!x.u(s)||s,d=x.p(t),f=function(t,e){var i=x.w(u.$u?Date.UTC(u.$y,e,t):new Date(u.$y,e,t),u);return c?i:i.endOf(n)},p=function(t,e){return x.w(u.toDate()[t].apply(u.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),u)},m=this.$W,v=this.$M,g=this.$D,C="set"+(this.$u?"UTC":"");switch(d){case l:return c?f(1,0):f(31,11);case o:return c?f(1,v):f(0,v+1);case r:var D=this.$locale().weekStart||0,y=(m<D?m+7:m)-D;return f(c?g-y:g+(6-y),v);case n:case h:return p(C+"Hours",0);case a:return p(C+"Minutes",1);case i:return p(C+"Seconds",2);case e:return p(C+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(r,s){var u,c=x.p(r),d="set"+(this.$u?"UTC":""),f=(u={},u[n]=d+"Date",u[h]=d+"Date",u[o]=d+"Month",u[l]=d+"FullYear",u[a]=d+"Hours",u[i]=d+"Minutes",u[e]=d+"Seconds",u[t]=d+"Milliseconds",u)[c],p=c===n?this.$D+(s-this.$W):s;if(c===o||c===l){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[x.p(t)]()},p.add=function(t,s){var h,u=this;t=Number(t);var c=x.p(s),d=function(e){var i=y(u);return x.w(i.date(i.date()+Math.round(e*t)),u)};if(c===o)return this.set(o,this.$M+t);if(c===l)return this.set(l,this.$y+t);if(c===n)return d(1);if(c===r)return d(7);var f=(h={},h[i]=6e4,h[a]=36e5,h[e]=1e3,h)[c]||1,p=this.$d.getTime()+t*f;return x.w(p,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e=this,i=this.$locale();if(!this.isValid())return i.invalidDate||u;var a=t||"YYYY-MM-DDTHH:mm:ssZ",n=x.z(this),r=this.$H,o=this.$m,s=this.$M,l=i.weekdays,h=i.months,c=function(t,i,n,r){return t&&(t[i]||t(e,a))||n[i].slice(0,r)},f=function(t){return x.s(r%12||12,t,"0")},p=i.meridiem||function(t,e,i){var a=t<12?"AM":"PM";return i?a.toLowerCase():a},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:x.s(s+1,2,"0"),MMM:c(i.monthsShort,s,h,3),MMMM:c(h,s),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,l,2),ddd:c(i.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(r),HH:x.s(r,2,"0"),h:f(1),hh:f(2),a:p(r,o,!0),A:p(r,o,!1),m:String(o),mm:x.s(o,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:n};return a.replace(d,function(t,e){return e||m[t]||n.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(t,h,u){var c,d=x.p(h),f=y(t),p=6e4*(f.utcOffset()-this.utcOffset()),m=this-f,v=x.m(this,f);return v=(c={},c[l]=v/12,c[o]=v,c[s]=v/3,c[r]=(m-p)/6048e5,c[n]=(m-p)/864e5,c[a]=m/36e5,c[i]=m/6e4,c[e]=m/1e3,c)[d]||m,u?v:x.a(v)},p.daysInMonth=function(){return this.endOf(o).$D},p.$locale=function(){return g[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),a=D(t,e,!0);return a&&(i.$L=a),i},p.clone=function(){return x.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},f}(),I=S.prototype;return y.prototype=I,[["$ms",t],["$s",e],["$m",i],["$H",a],["$W",n],["$M",o],["$y",l],["$D",h]].forEach(function(t){I[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),y.extend=function(t,e){return t.$i||(t(e,S,y),t.$i=!0),y},y.locale=D,y.isDayjs=C,y.unix=function(t){return y(1e3*t)},y.en=g[v],y.Ls=g,y.p={},y},t.exports=a()},oqQy:function(t,e,i){var a=i("/gxq"),n=i("vjPX"),r=i("0sHC"),o=i("fzS+"),s=["axisLine","axisTickLabel","axisName"],l=i("43ae").extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(t,e,i,r){var h=this.group;h.removeAll();var u=o.layout(t),c=new n(t,u);a.each(s,c.add,c),h.add(c.getGroup()),t.get("splitLine.show")&&this._splitLine(t),l.superCall(this,"render",t,e,i,r)},_splitLine:function(t){var e=t.axis;if(!e.scale.isBlank()){var i=t.getModel("splitLine"),a=i.getModel("lineStyle"),n=a.get("width"),o=a.get("color");o=o instanceof Array?o:[o];for(var s=t.coordinateSystem.getRect(),l=e.isHorizontal(),h=[],u=0,c=e.getTicksCoords({tickModel:i}),d=[],f=[],p=0;p<c.length;++p){var m=e.toGlobalCoord(c[p].coord);l?(d[0]=m,d[1]=s.y,f[0]=m,f[1]=s.y+s.height):(d[0]=s.x,d[1]=m,f[0]=s.x+s.width,f[1]=m);var v=u++%o.length;h[v]=h[v]||[],h[v].push(new r.Line({subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:{lineWidth:n},silent:!0}))}for(p=0;p<h.length;++p)this.group.add(r.mergePath(h[p],{style:{stroke:o[p%o.length],lineDash:a.getLineDash(n),lineWidth:n},silent:!0}))}}}),h=l;t.exports=h},orbS:function(t,e){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=124)}({0:function(t,e,i){"use strict";function a(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return a})},124:function(t,e,i){"use strict";i.r(e);var a={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(t){return-1!==["dark","light","plain"].indexOf(t)}}},methods:{handleClose:function(t){t.stopPropagation(),this.$emit("close",t)},handleClick:function(t){this.$emit("click",t)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(t){var e=this.type,i=this.tagSize,a=this.hit,n=this.effect,r=t("span",{class:["el-tag",e?"el-tag--"+e:"",i?"el-tag--"+i:"",n?"el-tag--"+n:"",a&&"is-hit"],style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&t("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?r:t("transition",{attrs:{name:"el-zoom-in-center"}},[r])}},n=i(0),r=Object(n.a)(a,void 0,void 0,!1,null,null,null);r.options.__file="packages/tag/src/tag.vue";var o=r.exports;o.install=function(t){t.component(o.name,o)};e.default=o}})},orv6:function(t,e,i){var a=i("Mlni").extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});t.exports=a},p1Ck:function(t,e,i){var a=i("Icdr");i("TTCf"),i("ARaV"),a.registerPreprocessor(function(t){t.markLine=t.markLine||{}})},p1b6:function(t,e,i){"use strict";var a=i("cGG2");t.exports=a.isStandardBrowserEnv()?{write:function(t,e,i,n,r,o){var s=[];s.push(t+"="+encodeURIComponent(e)),a.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),a.isString(n)&&s.push("path="+n),a.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},p8xL:function(t,e,i){"use strict";var a=Object.prototype.hasOwnProperty,n=Array.isArray,r=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),o=function(t,e){for(var i=e&&e.plainObjects?Object.create(null):{},a=0;a<t.length;++a)void 0!==t[a]&&(i[a]=t[a]);return i};t.exports={arrayToObject:o,assign:function(t,e){return Object.keys(e).reduce(function(t,i){return t[i]=e[i],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],i=[],a=0;a<e.length;++a)for(var r=e[a],o=r.obj[r.prop],s=Object.keys(o),l=0;l<s.length;++l){var h=s[l],u=o[h];"object"==typeof u&&null!==u&&-1===i.indexOf(u)&&(e.push({obj:o,prop:h}),i.push(u))}return function(t){for(;t.length>1;){var e=t.pop(),i=e.obj[e.prop];if(n(i)){for(var a=[],r=0;r<i.length;++r)void 0!==i[r]&&a.push(i[r]);e.obj[e.prop]=a}}}(e),t},decode:function(t,e,i){var a=t.replace(/\+/g," ");if("iso-8859-1"===i)return a.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(a)}catch(t){return a}},encode:function(t,e,i){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===i)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var n="",o=0;o<a.length;++o){var s=a.charCodeAt(o);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?n+=a.charAt(o):s<128?n+=r[s]:s<2048?n+=r[192|s>>6]+r[128|63&s]:s<55296||s>=57344?n+=r[224|s>>12]+r[128|s>>6&63]+r[128|63&s]:(o+=1,s=65536+((1023&s)<<10|1023&a.charCodeAt(o)),n+=r[240|s>>18]+r[128|s>>12&63]+r[128|s>>6&63]+r[128|63&s])}return n},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,i,r){if(!i)return e;if("object"!=typeof i){if(n(e))e.push(i);else{if(!e||"object"!=typeof e)return[e,i];(r&&(r.plainObjects||r.allowPrototypes)||!a.call(Object.prototype,i))&&(e[i]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(i);var s=e;return n(e)&&!n(i)&&(s=o(e,r)),n(e)&&n(i)?(i.forEach(function(i,n){if(a.call(e,n)){var o=e[n];o&&"object"==typeof o&&i&&"object"==typeof i?e[n]=t(o,i,r):e.push(i)}else e[n]=i}),e):Object.keys(i).reduce(function(e,n){var o=i[n];return a.call(e,n)?e[n]=t(e[n],o,r):e[n]=o,e},s)}}},pBtG:function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},pFYg:function(t,e,i){"use strict";e.__esModule=!0;var a=o(i("Zzip")),n=o(i("5QVw")),r="function"==typeof n.default&&"symbol"==typeof a.default?function(t){return typeof t}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":typeof t};function o(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof n.default&&"symbol"===r(a.default)?function(t){return void 0===t?"undefined":r(t)}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":void 0===t?"undefined":r(t)}},pPW7:function(t,e,i){i("M6a0"),i("zQR9"),i("+tPU"),i("ttyz"),i("BDhv"),i("oNmr"),i("ioQ5"),t.exports=i("FeBl").Set},pRCB:function(t,e,i){var a=i("kM2E");a(a.S+a.F*!i("+E39"),"Object",{defineProperties:i("qio6")})},pSwa:function(t,e,i){var a=i("/gxq"),n=i("0sHC"),r={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},o=2,s=4;function l(t,e,i){n.Group.call(this);var a=new n.Sector({z2:o});a.seriesIndex=e.seriesIndex;var r=new n.Text({z2:s,silent:t.getModel("label").get("silent")});function l(){r.ignore=r.hoverIgnore}function h(){r.ignore=r.normalIgnore}this.add(a),this.add(r),this.updateData(!0,t,"normal",e,i),this.on("emphasis",l).on("normal",h).on("mouseover",l).on("mouseout",h)}var h=l.prototype;h.updateData=function(t,e,i,r,o){this.node=e,e.piece=this,r=r||this._seriesModel,o=o||this._ecModel;var s=this.childAt(0);s.dataIndex=e.dataIndex;var l=e.getModel(),h=e.getLayout(),u=a.extend({},h);u.label=null;var c=function(t,e,i){var n=t.getVisual("color"),r=t.getVisual("visualMeta");r&&0!==r.length||(n=null);var o=t.getModel("itemStyle").get("color");if(o)return o;if(n)return n;if(0===t.depth)return i.option.color[0];var s=i.option.color.length;o=i.option.color[function(t){var e=t;for(;e.depth>1;)e=e.parentNode;var i=t.getAncestors()[0];return a.indexOf(i.children,e)}(t)%s];return o}(e,0,o);!function(t,e,i){e.getData().setItemVisual(t.dataIndex,"color",i)}(e,r,c);var d,f=l.getModel("itemStyle").getItemStyle();if("normal"===i)d=f;else{var p=l.getModel(i+".itemStyle").getItemStyle();d=a.merge(p,f)}d=a.defaults({lineJoin:"bevel",fill:d.fill||c},d),t?(s.setShape(u),s.shape.r=h.r0,n.updateProps(s,{shape:{r:h.r}},r,e.dataIndex),s.useStyle(d)):"object"==typeof d.fill&&d.fill.type||"object"==typeof s.style.fill&&s.style.fill.type?(n.updateProps(s,{shape:u},r),s.useStyle(d)):n.updateProps(s,{shape:u,style:d},r),this._updateLabel(r,c,i);var m=l.getShallow("cursor");if(m&&s.attr("cursor",m),t){var v=r.getShallow("highlightPolicy");this._initEvents(s,e,r,v)}this._seriesModel=r||this._seriesModel,this._ecModel=o||this._ecModel},h.onEmphasis=function(t){var e=this;this.node.hostTree.root.eachNode(function(i){var a,n,o;i.piece&&(e.node===i?i.piece.updateData(!1,i,"emphasis"):(a=i,n=e.node,(o=t)!==r.NONE&&(o===r.SELF?a===n:o===r.ANCESTOR?a===n||a.isAncestorOf(n):a===n||a.isDescendantOf(n))?i.piece.childAt(0).trigger("highlight"):t!==r.NONE&&i.piece.childAt(0).trigger("downplay")))})},h.onNormal=function(){this.node.hostTree.root.eachNode(function(t){t.piece&&t.piece.updateData(!1,t,"normal")})},h.onHighlight=function(){this.updateData(!1,this.node,"highlight")},h.onDownplay=function(){this.updateData(!1,this.node,"downplay")},h._updateLabel=function(t,e,i){var r=this.node.getModel(),o=r.getModel("label"),s="normal"===i||"emphasis"===i?o:r.getModel(i+".label"),l=r.getModel("emphasis.label"),h=a.retrieve(t.getFormattedLabel(this.node.dataIndex,i,null,null,"label"),this.node.name);!1===b("show")&&(h="");var u=this.node.getLayout(),c=s.get("minAngle");null==c&&(c=o.get("minAngle")),c=c/180*Math.PI;var d=u.endAngle-u.startAngle;null!=c&&Math.abs(d)<c&&(h="");var f=this.childAt(1);n.setLabelStyle(f.style,f.hoverStyle||{},o,l,{defaultText:s.getShallow("show")?h:null,autoColor:e,useInsideStyle:!0});var p,m=(u.startAngle+u.endAngle)/2,v=Math.cos(m),g=Math.sin(m),C=b("position"),D=b("distance")||0,y=b("align");"outside"===C?(p=u.r+D,y=m>Math.PI/2?"right":"left"):y&&"center"!==y?"left"===y?(p=u.r0+D,m>Math.PI/2&&(y="right")):"right"===y&&(p=u.r-D,m>Math.PI/2&&(y="left")):(p=(u.r+u.r0)/2,y="center"),f.attr("style",{text:h,textAlign:y,textVerticalAlign:b("verticalAlign")||"middle",opacity:b("opacity")});var x=p*v+u.cx,S=p*g+u.cy;f.attr("position",[x,S]);var I=b("rotate"),T=0;function b(t){var e=s.get(t);return null==e?o.get(t):e}"radial"===I?(T=-m)<-Math.PI/2&&(T+=Math.PI):"tangential"===I?(T=Math.PI/2-m)>Math.PI/2?T-=Math.PI:T<-Math.PI/2&&(T+=Math.PI):"number"==typeof I&&(T=I*Math.PI/180),f.attr("rotation",T)},h._initEvents=function(t,e,i,a){t.off("mouseover").off("mouseout").off("emphasis").off("normal");var n=this,r=function(){n.onEmphasis(a)},o=function(){n.onNormal()};i.isAnimationEnabled()&&t.on("mouseover",r).on("mouseout",o).on("emphasis",r).on("normal",o).on("downplay",function(){n.onDownplay()}).on("highlight",function(){n.onHighlight()})},a.inherits(l,n.Group);var u=l;t.exports=u},pmYM:function(t,e,i){var a=i("ao1T"),n=i("EJsE").extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(t,e){return a(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});t.exports=n},pxG4:function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},pzOI:function(t,e,i){var a=i("ITiI").forceLayout,n=i("rbn0").simpleLayout,r=i("LRsb").circularLayout,o=i("wWR3").linearMap,s=i("C7PF"),l=i("/gxq");t.exports=function(t){t.eachSeriesByType("graph",function(t){if(!(g=t.coordinateSystem)||"view"===g.type)if("force"===t.get("layout")){var e=t.preservedPoints||{},i=t.getGraph(),h=i.data,u=i.edgeData,c=t.getModel("force"),d=c.get("initLayout");t.preservedPoints?h.each(function(t){var i=h.getId(t);h.setItemLayout(t,e[i]||[NaN,NaN])}):d&&"none"!==d?"circular"===d&&r(t,"value"):n(t);var f=h.getDataExtent("value"),p=u.getDataExtent("value"),m=c.get("repulsion"),v=c.get("edgeLength");l.isArray(m)||(m=[m,m]),l.isArray(v)||(v=[v,v]),v=[v[1],v[0]];var g,C=h.mapArray("value",function(t,e){var i=h.getItemLayout(e),a=o(t,f,m);return isNaN(a)&&(a=(m[0]+m[1])/2),{w:a,rep:a,fixed:h.getItemModel(e).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),D=u.mapArray("value",function(t,e){var a=i.getEdgeByIndex(e),n=o(t,p,v);isNaN(n)&&(n=(v[0]+v[1])/2);var r=a.getModel();return{n1:C[a.node1.dataIndex],n2:C[a.node2.dataIndex],d:n,curveness:r.get("lineStyle.curveness")||0,ignoreForceLayout:r.get("ignoreForceLayout")}}),y=(g=t.coordinateSystem).getBoundingRect(),x=a(C,D,{rect:y,gravity:c.get("gravity"),friction:c.get("friction")}),S=x.step;x.step=function(t){for(var a=0,n=C.length;a<n;a++)C[a].fixed&&s.copy(C[a].p,i.getNodeByIndex(a).getLayout());S(function(a,n,r){for(var o=0,l=a.length;o<l;o++)a[o].fixed||i.getNodeByIndex(o).setLayout(a[o].p),e[h.getId(o)]=a[o].p;for(o=0,l=n.length;o<l;o++){var u=n[o],c=i.getEdgeByIndex(o),d=u.n1.p,f=u.n2.p,p=c.getLayout();(p=p?p.slice():[])[0]=p[0]||[],p[1]=p[1]||[],s.copy(p[0],d),s.copy(p[1],f),+u.curveness&&(p[2]=[(d[0]+f[0])/2-(d[1]-f[1])*u.curveness,(d[1]+f[1])/2-(f[0]-d[0])*u.curveness]),c.setLayout(p)}t&&t(r)})},t.forceLayout=x,t.preservedPoints=e,x.step()}else t.forceLayout=null})}},qARP:function(t,e,i){"use strict";var a=i("lOnJ");t.exports.f=function(t){return new function(t){var e,i;this.promise=new t(function(t,a){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=a}),this.resolve=a(e),this.reject=a(i)}(t)}},qBny:function(t,e,i){var a=i("/gxq"),n=i("EJsE"),r=i("+jMe"),o=i("gOx9").wrapTreePathInfo,s=n.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(t,e){var i={name:t.name,children:t.data};!function t(e){var i=0;a.each(e.children,function(e){t(e);var n=e.value;a.isArray(n)&&(n=n[0]),i+=n});var n=e.value;a.isArray(n)&&(n=n[0]);(null==n||isNaN(n))&&(n=i);n<0&&(n=0);a.isArray(e.value)?e.value[0]=n:e.value=n}(i);var n=t.levels||[],o={};return o.levels=n,r.createTree(i,this,o).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(t){var e=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=o(i,this),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});t.exports=s},qCoq:function(t,e,i){"use strict";var a=i("9C8M"),n=i("LIJb");t.exports=i("qo66")("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=a.getEntry(n(this,"Map"),t);return e&&e.v},set:function(t,e){return a.def(n(this,"Map"),0===t?0:t,e)}},a,!0)},qRfI:function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},qSkD:function(t,e,i){var a=i("sYrQ");i("rctg").register("parallel",{create:function(t,e){var i=[];return t.eachComponent("parallel",function(n,r){var o=new a(n,t,e);o.name="parallel_"+r,o.resize(n,e),n.coordinateSystem=o,o.model=n,i.push(o)}),t.eachSeries(function(e){if("parallel"===e.get("coordinateSystem")){var i=t.queryComponents({mainType:"parallel",index:e.get("parallelIndex"),id:e.get("parallelId")})[0];e.coordinateSystem=i.coordinateSystem}}),i}})},qVJQ:function(t,e,i){var a=i("/gxq"),n=a.each,r=a.isString;function o(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}e.enableDataStack=function(t,e,i){var a,o,s,l,h=(i=i||{}).byIndex,u=i.stackedCoordDimension,c=!(!t||!t.get("stack"));if(n(e,function(t,i){r(t)&&(e[i]=t={name:t}),c&&!t.isExtraCoord&&(h||a||!t.ordinalMeta||(a=t),o||"ordinal"===t.type||"time"===t.type||u&&u!==t.coordDim||(o=t))}),!o||h||a||(h=!0),o){s="__\0ecstackresult",l="__\0ecstackedover",a&&(a.createInvertedIndices=!0);var d=o.coordDim,f=o.type,p=0;n(e,function(t){t.coordDim===d&&p++}),e.push({name:s,coordDim:d,coordDimIndex:p,type:f,isExtraCoord:!0,isCalculationCoord:!0}),p++,e.push({name:l,coordDim:l,coordDimIndex:p,type:f,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:a&&a.name,isStackedByIndex:h,stackedOverDimension:l,stackResultDimension:s}},e.isDimensionStacked=o,e.getStackedDimension=function(t,e){return o(t,e)?t.getCalculationInfo("stackResultDimension"):e}},qbKW:function(t,e,i){var a=i("Icdr");i("FlXs"),i("+bDV"),i("2Ow2");var n=i("CWSg");a.registerVisual(n)},qio6:function(t,e,i){var a=i("evD5"),n=i("77Pl"),r=i("lktj");t.exports=i("+E39")?Object.defineProperties:function(t,e){n(t);for(var i,o=r(e),s=o.length,l=0;s>l;)a.f(t,i=o[l++],e[i]);return t}},qjrH:function(t,e,i){var a=i("/gxq"),n=a.retrieve2,r=a.retrieve3,o=a.each,s=a.normalizeCssArray,l=a.isString,h=a.isObject,u=i("3h1/"),c=i("Sm9T"),d=i("+Y0c"),f=i("9b8q"),p=i("28kU"),m=p.ContextCachedBy,v=p.WILL_BE_RESTORED,g=u.DEFAULT_FONT,C={left:1,right:1,center:1},D={top:1,bottom:1,middle:1},y=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],x={},S={};function I(t){if(t){t.font=u.makeFont(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||C[e]?e:"left";var i=t.textVerticalAlign||t.textBaseline;"center"===i&&(i="middle"),t.textVerticalAlign=null==i||D[i]?i:"top",t.textPadding&&(t.textPadding=s(t.textPadding))}}function T(t,e,i,a,n){if(i&&e.textRotation){var r=e.textOrigin;"center"===r?(a=i.width/2+i.x,n=i.height/2+i.y):r&&(a=r[0]+i.x,n=r[1]+i.y),t.translate(a,n),t.rotate(-e.textRotation),t.translate(-a,-n)}}function b(t,e,i,a,o,s,l,h){var u=a.rich[i.styleName]||{};u.text=i.text;var c=i.textVerticalAlign,d=s+o/2;"top"===c?d=s+i.height/2:"bottom"===c&&(d=s+o-i.height/2),!i.isLineHolder&&w(u)&&M(t,e,u,"right"===h?l-i.width:"center"===h?l-i.width/2:l,d-i.height/2,i.width,i.height);var f=i.textPadding;f&&(l=P(l,h,f),d-=i.height/2-f[2]-i.textHeight/2),_(e,"shadowBlur",r(u.textShadowBlur,a.textShadowBlur,0)),_(e,"shadowColor",u.textShadowColor||a.textShadowColor||"transparent"),_(e,"shadowOffsetX",r(u.textShadowOffsetX,a.textShadowOffsetX,0)),_(e,"shadowOffsetY",r(u.textShadowOffsetY,a.textShadowOffsetY,0)),_(e,"textAlign",h),_(e,"textBaseline","middle"),_(e,"font",i.font||g);var p=L(u.textStroke||a.textStroke,v),m=F(u.textFill||a.textFill),v=n(u.textStrokeWidth,a.textStrokeWidth);p&&(_(e,"lineWidth",v),_(e,"strokeStyle",p),e.strokeText(i.text,l,d)),m&&(_(e,"fillStyle",m),e.fillText(i.text,l,d))}function w(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function M(t,e,i,a,n,r,o){var s=i.textBackgroundColor,u=i.textBorderWidth,f=i.textBorderColor,p=l(s);if(_(e,"shadowBlur",i.textBoxShadowBlur||0),_(e,"shadowColor",i.textBoxShadowColor||"transparent"),_(e,"shadowOffsetX",i.textBoxShadowOffsetX||0),_(e,"shadowOffsetY",i.textBoxShadowOffsetY||0),p||u&&f){e.beginPath();var m=i.textBorderRadius;m?c.buildPath(e,{x:a,y:n,width:r,height:o,r:m}):e.rect(a,n,r,o),e.closePath()}if(p)if(_(e,"fillStyle",s),null!=i.fillOpacity){var v=e.globalAlpha;e.globalAlpha=i.fillOpacity*i.opacity,e.fill(),e.globalAlpha=v}else e.fill();else if(h(s)){var g=s.image;(g=d.createOrUpdateImage(g,null,t,E,s))&&d.isImageReady(g)&&e.drawImage(g,a,n,r,o)}if(u&&f)if(_(e,"lineWidth",u),_(e,"strokeStyle",f),null!=i.strokeOpacity){v=e.globalAlpha;e.globalAlpha=i.strokeOpacity*i.opacity,e.stroke(),e.globalAlpha=v}else e.stroke()}function E(t,e){e.image=t}function A(t,e,i,a){var n=i.x||0,r=i.y||0,o=i.textAlign,s=i.textVerticalAlign;if(a){var l=i.textPosition;if(l instanceof Array)n=a.x+O(l[0],a.width),r=a.y+O(l[1],a.height);else{var h=e&&e.calculateTextPosition?e.calculateTextPosition(x,i,a):u.calculateTextPosition(x,i,a);n=h.x,r=h.y,o=o||h.textAlign,s=s||h.textVerticalAlign}var c=i.textOffset;c&&(n+=c[0],r+=c[1])}return(t=t||{}).baseX=n,t.baseY=r,t.textAlign=o,t.textVerticalAlign=s,t}function _(t,e,i){return t[e]=f(t,e,i),t[e]}function L(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function F(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function O(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function P(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}e.normalizeTextStyle=function(t){return I(t),o(t.rich,I),t},e.renderText=function(t,e,i,a,n,r){a.rich?function(t,e,i,a,n,r){r!==v&&(e.__attrCachedBy=m.NONE);var o=t.__textCotentBlock;o&&!t.__dirtyText||(o=t.__textCotentBlock=u.parseRichText(i,a)),function(t,e,i,a,n){var r=i.width,o=i.outerWidth,s=i.outerHeight,l=a.textPadding,h=A(S,t,a,n),c=h.baseX,d=h.baseY,f=h.textAlign,p=h.textVerticalAlign;T(e,a,n,c,d);var m=u.adjustTextX(c,o,f),v=u.adjustTextY(d,s,p),g=m,C=v;l&&(g+=l[3],C+=l[0]);var D=g+r;w(a)&&M(t,e,a,m,v,o,s);for(var y=0;y<i.lines.length;y++){for(var x,I=i.lines[y],E=I.tokens,_=E.length,L=I.lineHeight,F=I.width,O=0,P=g,N=D,R=_-1;O<_&&(!(x=E[O]).textAlign||"left"===x.textAlign);)b(t,e,x,a,L,C,P,"left"),F-=x.width,P+=x.width,O++;for(;R>=0&&"right"===(x=E[R]).textAlign;)b(t,e,x,a,L,C,N,"right"),F-=x.width,N-=x.width,R--;for(P+=(r-(P-g)-(D-N)-F)/2;O<=R;)x=E[O],b(t,e,x,a,L,C,P+x.width/2,"center"),P+=x.width,O++;C+=L}}(t,e,o,a,n)}(t,e,i,a,n,r):function(t,e,i,a,n,r){"use strict";var o,s=w(a),l=!1,h=e.__attrCachedBy===m.PLAIN_TEXT;r!==v?(r&&(o=r.style,l=!s&&h&&o),e.__attrCachedBy=s?m.NONE:m.PLAIN_TEXT):h&&(e.__attrCachedBy=m.NONE);var c=a.font||g;l&&c===(o.font||g)||(e.font=c);var d=t.__computedFont;t.__styleFont!==c&&(t.__styleFont=c,d=t.__computedFont=e.font);var p=a.textPadding,C=a.textLineHeight,D=t.__textCotentBlock;D&&!t.__dirtyText||(D=t.__textCotentBlock=u.parsePlainText(i,d,p,C,a.truncate));var x=D.outerHeight,I=D.lines,b=D.lineHeight,E=A(S,t,a,n),_=E.baseX,O=E.baseY,N=E.textAlign||"left",R=E.textVerticalAlign;T(e,a,n,_,O);var B=u.adjustTextY(O,x,R),k=_,V=B;if(s||p){var H=u.getWidth(i,d),G=H;p&&(G+=p[1]+p[3]);var Y=u.adjustTextX(_,G,N);s&&M(t,e,a,Y,B,G,x),p&&(k=P(_,N,p),V+=p[0])}e.textAlign=N,e.textBaseline="middle",e.globalAlpha=a.opacity||1;for(var W=0;W<y.length;W++){var X=y[W],U=X[0],z=X[1],K=a[U];l&&K===o[U]||(e[z]=f(e,z,K||X[2]))}V+=b/2;var $=a.textStrokeWidth,j=l?o.textStrokeWidth:null,q=!l||$!==j,J=!l||q||a.textStroke!==o.textStroke,Z=L(a.textStroke,$),Q=F(a.textFill);if(Z&&(q&&(e.lineWidth=$),J&&(e.strokeStyle=Z)),Q&&(l&&a.textFill===o.textFill||(e.fillStyle=Q)),1===I.length)Z&&e.strokeText(I[0],k,V),Q&&e.fillText(I[0],k,V);else for(var W=0;W<I.length;W++)Z&&e.strokeText(I[W],k,V),Q&&e.fillText(I[W],k,V),V+=b}(t,e,i,a,n,r)},e.getBoxPosition=A,e.getStroke=L,e.getFill=F,e.parsePercent=O,e.needDrawText=function(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}},qjvV:function(t,e){var i=Array.prototype.slice,a=function(t){this._$handlers={},this._$eventProcessor=t};function n(t,e,i,a,n,r){var o=t._$handlers;if("function"==typeof i&&(n=a,a=i,i=null),!a||!e)return t;i=function(t,e){var i=t._$eventProcessor;return null!=e&&i&&i.normalizeQuery&&(e=i.normalizeQuery(e)),e}(t,i),o[e]||(o[e]=[]);for(var s=0;s<o[e].length;s++)if(o[e][s].h===a)return t;var l={h:a,one:r,query:i,ctx:n||t,callAtLast:a.zrEventfulCallAtLast},h=o[e].length-1,u=o[e][h];return u&&u.callAtLast?o[e].splice(h,0,l):o[e].push(l),t}a.prototype={constructor:a,one:function(t,e,i,a){return n(this,t,e,i,a,!0)},on:function(t,e,i,a){return n(this,t,e,i,a,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var a=[],n=0,r=i[t].length;n<r;n++)i[t][n].h!==e&&a.push(i[t][n]);i[t]=a}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){var e=this._$handlers[t],a=this._$eventProcessor;if(e){var n=arguments,r=n.length;r>3&&(n=i.call(n,1));for(var o=e.length,s=0;s<o;){var l=e[s];if(a&&a.filter&&null!=l.query&&!a.filter(t,l.query))s++;else{switch(r){case 1:l.h.call(l.ctx);break;case 2:l.h.call(l.ctx,n[1]);break;case 3:l.h.call(l.ctx,n[1],n[2]);break;default:l.h.apply(l.ctx,n)}l.one?(e.splice(s,1),o--):s++}}}return a&&a.afterTrigger&&a.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],a=this._$eventProcessor;if(e){var n=arguments,r=n.length;r>4&&(n=i.call(n,1,n.length-1));for(var o=n[n.length-1],s=e.length,l=0;l<s;){var h=e[l];if(a&&a.filter&&null!=h.query&&!a.filter(t,h.query))l++;else{switch(r){case 1:h.h.call(o);break;case 2:h.h.call(o,n[1]);break;case 3:h.h.call(o,n[1],n[2]);break;default:h.h.apply(o,n)}h.one?(e.splice(l,1),s--):l++}}}return a&&a.afterTrigger&&a.afterTrigger(t),this}};var r=a;t.exports=r},qkKv:function(t,e,i){var a=i("FeBl"),n=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},qo66:function(t,e,i){"use strict";var a=i("7KvD"),n=i("kM2E"),r=i("06OY"),o=i("S82l"),s=i("hJx8"),l=i("xH/j"),h=i("NWt+"),u=i("2KxR"),c=i("EqjI"),d=i("e6n0"),f=i("evD5").f,p=i("ALrJ")(0),m=i("+E39");t.exports=function(t,e,i,v,g,C){var D=a[t],y=D,x=g?"set":"add",S=y&&y.prototype,I={};return m&&"function"==typeof y&&(C||S.forEach&&!o(function(){(new y).entries().next()}))?(y=e(function(e,i){u(e,y,t,"_c"),e._c=new D,void 0!=i&&h(i,g,e[x],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in S&&(!C||"clear"!=t)&&s(y.prototype,t,function(i,a){if(u(this,y,t),!e&&C&&!c(i))return"get"==t&&void 0;var n=this._c[t](0===i?0:i,a);return e?this:n})}),C||f(y.prototype,"size",{get:function(){return this._c.size}})):(y=v.getConstructor(e,t,g,x),l(y.prototype,i),r.NEED=!0),d(y,t),I[t]=y,n(n.G+n.W+n.F,I),C||v.setStrong(y,t,g),y}},qyJz:function(t,e,i){"use strict";var a=i("+ZMJ"),n=i("kM2E"),r=i("sB3e"),o=i("msXi"),s=i("Mhyx"),l=i("QRG4"),h=i("fBQ2"),u=i("3fs2");n(n.S+n.F*!i("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,n,c,d=r(t),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=0,C=u(d);if(v&&(m=a(m,p>2?arguments[2]:void 0,2)),void 0==C||f==Array&&s(C))for(i=new f(e=l(d.length));e>g;g++)h(i,g,v?m(d[g],g):d[g]);else for(c=C.call(d),i=new f;!(n=c.next()).done;g++)h(i,g,v?o(c,m,[n.value,g],!0):n.value);return i.length=g,i}})},r9WW:function(t,e,i){var a=i("sJ4e").extend({type:"dataZoom.select"});t.exports=a},rFvp:function(t,e,i){var a=i("/gxq"),n=i("0sHC"),r=i("vjPX"),o=["axisLine","axisTickLabel","axisName"],s=["splitLine","splitArea"],l=i("43ae").extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=t.axis,n=i.polar,l=n.getAngleAxis(),h=i.getTicksCoords(),u=l.getExtent()[0],c=i.getExtent(),d=function(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(n,t,u),f=new r(t,d);a.each(o,f.add,f),this.group.add(f.getGroup()),a.each(s,function(e){t.get(e+".show")&&!i.scale.isBlank()&&this["_"+e](t,n,u,c,h)},this)}},_splitLine:function(t,e,i,r,o){var s=t.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var u=[],c=0;c<o.length;c++){var d=h++%l.length;u[d]=u[d]||[],u[d].push(new n.Circle({shape:{cx:e.cx,cy:e.cy,r:o[c].coord},silent:!0}))}for(c=0;c<u.length;c++)this.group.add(n.mergePath(u[c],{style:a.defaults({stroke:l[c%l.length],fill:null},s.getLineStyle()),silent:!0}))},_splitArea:function(t,e,i,r,o){if(o.length){var s=t.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var u=[],c=o[0].coord,d=1;d<o.length;d++){var f=h++%l.length;u[f]=u[f]||[],u[f].push(new n.Sector({shape:{cx:e.cx,cy:e.cy,r0:c,r:o[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=o[d].coord}for(d=0;d<u.length;d++)this.group.add(n.mergePath(u[d],{style:a.defaults({fill:l[d%l.length]},s.getAreaStyle()),silent:!0}))}}});t.exports=l},rbn0:function(t,e,i){var a=i("C7PF");function n(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.curveness")||0,i=a.clone(t.node1.getLayout()),n=a.clone(t.node2.getLayout()),r=[i,n];+e&&r.push([(i[0]+n[0])/2-(i[1]-n[1])*e,(i[1]+n[1])/2-(n[0]-i[0])*e]),t.setLayout(r)})}e.simpleLayout=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=t.getGraph();i.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),n(i)}},e.simpleLayoutEdge=n},rctg:function(t,e,i){var a=i("/gxq"),n={};function r(){this._coordinateSystems=[]}r.prototype={constructor:r,create:function(t,e){var i=[];a.each(n,function(a,n){var r=a.create(t,e);i=i.concat(r||[])}),this._coordinateSystems=i},update:function(t,e){a.each(this._coordinateSystems,function(i){i.update&&i.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},r.register=function(t,e){n[t]=e},r.get=function(t){return n[t]};var o=r;t.exports=o},ri8f:function(t,e,i){var a=i("/gxq").createHashMap;t.exports=function(t){return{getTargetSeries:function(e){var i={},n=a();return e.eachSeriesByType(t,function(t){t.__paletteScope=i,n.set(t.uid,t)}),n},reset:function(t,e){var i=t.getRawData(),a={},n=t.getData();n.each(function(t){var e=n.getRawIndex(t);a[e]=t}),i.each(function(e){var r,o=a[e],s=null!=o&&n.getItemVisual(o,"color",!0),l=null!=o&&n.getItemVisual(o,"borderColor",!0);if(s&&l||(r=i.getItemModel(e)),s)i.setItemVisual(e,"color",s);else{var h=r.get("itemStyle.color")||t.getColorFromPalette(i.getName(e)||e+"",t.__paletteScope,i.count());i.setItemVisual(e,"color",h),null!=o&&n.setItemVisual(o,"color",h)}if(l)i.setItemVisual(e,"borderColor",l);else{var u=r.get("itemStyle.borderColor");i.setItemVisual(e,"borderColor",u),null!=o&&n.setItemVisual(o,"borderColor",u)}})}}}},rjsW:function(t,e,i){var a=i("Icdr");i("997V"),i("Gevp"),i("guZJ");var n=i("ri8f"),r=i("AjK0"),o=i("lwXq"),s=i("l4Op"),l=i("6HcI");a.registerVisual(n("radar")),a.registerVisual(r("radar","circle")),a.registerLayout(o),a.registerProcessor(s("radar")),a.registerPreprocessor(l)},rrAD:function(t,e,i){var a=i("/gxq"),n=a.createHashMap,r=a.isTypedArray,o=i("BNYN").enableClassCheck,s=i("+2Ke"),l=s.SOURCE_FORMAT_ORIGINAL,h=s.SERIES_LAYOUT_BY_COLUMN,u=s.SOURCE_FORMAT_UNKNOWN,c=s.SOURCE_FORMAT_TYPED_ARRAY,d=s.SOURCE_FORMAT_KEYED_COLUMNS;function f(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===d?{}:[]),this.sourceFormat=t.sourceFormat||u,this.seriesLayoutBy=t.seriesLayoutBy||h,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&n(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}f.seriesDataToSource=function(t){return new f({data:t,sourceFormat:r(t)?c:l,fromDataset:!1})},o(f);var p=f;t.exports=p},rwkR:function(t,e,i){var a=i("/gxq"),n=i("Y5nL"),r=i("eH0a"),o=i("2uoh"),s=n.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});a.merge(s.prototype,o),r("single",s,function(t,e){return e.type||(e.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var l=s;t.exports=l},"s/PG":function(t,e,i){var a=i("/gxq").each,n=i("Axyt"),r=i("vXqC").makeInner,o=i("Qv0P"),s=i("cU6c"),l=i("WxG6"),h=i("k7nC"),u=r(),c={load:function(t,e){var i=u(e).parsed;if(i)return i;var r,c=e.specialAreas||{},d=e.geoJSON;try{r=d?n(d):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}return o(t,r),a(r,function(e){var i=e.name;s(t,e),l(t,e),h(t,e);var a=c[i];a&&e.transformTo(a.left,a.top,a.width,a.height)}),u(e).parsed={regions:r,boundingRect:function(t){for(var e,i=0;i<t.length;i++){var a=t[i].getBoundingRect();(e=e||a.clone()).union(a)}return e}(r)}}};t.exports=c},"s/lY":function(t,e,i){var a=i("/gxq"),n={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r={};r.categoryAxis=a.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},n),r.valueAxis=a.merge({boundaryGap:[0,0],splitNumber:5},n),r.timeAxis=a.defaults({scale:!0,min:"dataMin",max:"dataMax"},r.valueAxis),r.logAxis=a.defaults({scale:!0,logBase:10},r.valueAxis);var o=r;t.exports=o},s1Aj:function(t,e,i){var a=i("/gxq"),n=i("HHfb"),r=["cartesian2d","polar","singleAxis"];function o(t,e){t=t.slice();var i=a.map(t,n.capitalFirst);e=(e||[]).slice();var r=a.map(e,n.capitalFirst);return function(n,o){a.each(t,function(t,a){for(var s={name:t,capital:i[a]},l=0;l<e.length;l++)s[e[l]]=t+r[l];n.call(o,s)})}}var s=o(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]);e.isCoordSupported=function(t){return a.indexOf(r,t)>=0},e.createNameEach=o,e.eachAxisDim=s,e.createLinkedNodesFinder=function(t,e,i){return function(r){var o,s={nodes:[],records:{}};if(e(function(t){s.records[t.name]={}}),!r)return s;n(r,s);do{o=!1,t(l)}while(o);function l(t){!function(t,e){return a.indexOf(e.nodes,t)>=0}(t,s)&&function(t,n){var r=!1;return e(function(e){a.each(i(t,e)||[],function(t){n.records[e.name][t]&&(r=!0)})}),r}(t,s)&&(n(t,s),o=!0)}return s};function n(t,n){n.nodes.push(t),e(function(e){a.each(i(t,e)||[],function(t){n.records[e.name][t]=!0})})}}},s3ue:function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=86)}({0:function(t,e,i){"use strict";function a(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return a})},4:function(t,e){t.exports=i("fPll")},86:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[this._t("default")],2)};a._withStripped=!0;var n=i(4),r={name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[i.n(n).a],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[t])}}},o=i(0),s=Object(o.a)(r,a,[],!1,null,null,null);s.options.__file="packages/checkbox/src/checkbox-group.vue";var l=s.exports;l.install=function(t){t.component(l.name,l)};e.default=l}})},s48c:function(t,e,i){var a=i("/gxq"),n=i("0sHC"),r=i("vjPX"),o=i("43ae"),s=i("4xrk"),l=["axisLine","axisTickLabel","axisName"],h=["splitArea","splitLine"],u=o.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,i,o){this.group.removeAll();var c=this._axisGroup;if(this._axisGroup=new n.Group,this.group.add(this._axisGroup),t.get("show")){var d=t.getCoordSysModel(),f=s.layout(d,t),p=new r(t,f);a.each(l,p.add,p),this._axisGroup.add(p.getGroup()),a.each(h,function(e){t.get(e+".show")&&this["_"+e](t,d)},this),n.groupTransition(c,this._axisGroup,t),u.superCall(this,"render",t,e,i,o)}},remove:function(){this._splitAreaColors=null},_splitLine:function(t,e){var i=t.axis;if(!i.scale.isBlank()){var r=t.getModel("splitLine"),o=r.getModel("lineStyle"),s=o.get("color");s=a.isArray(s)?s:[s];for(var l=e.coordinateSystem.getRect(),h=i.isHorizontal(),u=0,c=i.getTicksCoords({tickModel:r}),d=[],f=[],p=o.getLineStyle(),m=0;m<c.length;m++){var v=i.toGlobalCoord(c[m].coord);h?(d[0]=v,d[1]=l.y,f[0]=v,f[1]=l.y+l.height):(d[0]=l.x,d[1]=v,f[0]=l.x+l.width,f[1]=v);var g=u++%s.length,C=c[m].tickValue;this._axisGroup.add(new n.Line({anid:null!=C?"line_"+c[m].tickValue:null,subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:a.defaults({stroke:s[g]},p),silent:!0}))}}},_splitArea:function(t,e){var i=t.axis;if(!i.scale.isBlank()){var r=t.getModel("splitArea"),o=r.getModel("areaStyle"),s=o.get("color"),l=e.coordinateSystem.getRect(),h=i.getTicksCoords({tickModel:r,clamp:!0});if(h.length){var u=s.length,c=this._splitAreaColors,d=a.createHashMap(),f=0;if(c)for(var p=0;p<h.length;p++){var m=c.get(h[p].tickValue);if(null!=m){f=(m+(u-1)*p)%u;break}}var v=i.toGlobalCoord(h[0].coord),g=o.getAreaStyle();s=a.isArray(s)?s:[s];for(p=1;p<h.length;p++){var C,D,y,x,S=i.toGlobalCoord(h[p].coord);i.isHorizontal()?(C=v,D=l.y,y=S-C,x=l.height,v=C+y):(C=l.x,D=v,y=l.width,v=D+(x=S-D));var I=h[p-1].tickValue;null!=I&&d.set(I,f),this._axisGroup.add(new n.Rect({anid:null!=I?"area_"+I:null,shape:{x:C,y:D,width:y,height:x},style:a.defaults({fill:s[f]},g),silent:!0})),f=(f+1)%u}this._splitAreaColors=d}}}});u.extend({type:"xAxis"}),u.extend({type:"yAxis"})},sB3e:function(t,e,i){var a=i("52gC");t.exports=function(t){return Object(a(t))}},"sF+V":function(t,e,i){var a=i("kM2E");a(a.S,"Object",{create:i("Yobk")})},sJ4e:function(t,e,i){i("4Nz2").__DEV__;var a=i("Icdr"),n=i("/gxq"),r=i("YNzw"),o=i("vXqC"),s=i("s1Aj"),l=i("GWV8"),h=n.each,u=s.eachAxisDim;function c(t){var e={};return h(["start","end","startValue","endValue","throttle"],function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e}function d(t,e){var i=t._rangePropMode,a=t.get("rangeMode");h([["start","startValue"],["end","endValue"]],function(t,n){var r=null!=e[t[0]],o=null!=e[t[1]];r&&!o?i[n]="percent":!r&&o?i[n]="value":a?i[n]=a[n]:r&&(i[n]="percent")})}var f=a.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var a=c(t);this.settledOption=a,this.mergeDefaultAndTheme(t,i),this.doInit(a)},mergeOption:function(t){var e=c(t);n.merge(this.option,t,!0),n.merge(this.settledOption,e,!0),this.doInit(e)},doInit:function(t){var e=this.option;r.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),d(this,t);var i=this.settledOption;h([["start","startValue"],["end","endValue"]],function(t,a){"value"===this._rangePropMode[a]&&(e[t[0]]=i[t[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,i,a,n){var r=this.dependentModels[e.axis][i],o=r.__dzAxisProxy||(r.__dzAxisProxy=new l(e.name,i,this,n));t[e.name+"_"+i]=o},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();u(function(e){var i=e.axisIndex;t[i]=o.normalizeToArray(t[i])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;u(function(i){null!=t[i.axisIndex]&&(e=!0)},this);var i=t.orient;return null==i&&e?"orient":e?void 0:(null==i&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),i=this.option,a=this.dependentModels;if(t){var r="vertical"===e?"y":"x";a[r+"Axis"].length?(i[r+"AxisIndex"]=[0],t=!1):h(a.singleAxis,function(a){t&&a.get("orient",!0)===e&&(i.singleAxisIndex=[a.componentIndex],t=!1)})}t&&u(function(e){if(t){var a=[],n=this.dependentModels[e.axis];if(n.length&&!a.length)for(var r=0,o=n.length;r<o;r++)"category"===n[r].get("type")&&a.push(r);i[e.axisIndex]=a,a.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&u(function(e){var a=i[e.axisIndex],r=t.get(e.axisIndex),o=t.get(e.axisId);r=t.ecModel.queryComponents({mainType:e.axis,index:r,id:o})[0].componentIndex,n.indexOf(a,r)<0&&a.push(r)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var i=!0;return u(function(a){var n=t.get(a.axisIndex),r=this.dependentModels[a.axis][n];r&&r.get("type")===e||(i=!1)},this),i},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return u(function(e){if(null==t){var i=this.get(e.axisIndex);i.length&&(t=this.dependentModels[e.axis][i[0]])}},this),t},eachTargetAxis:function(t,e){var i=this.ecModel;u(function(a){h(this.get(a.axisIndex),function(n){t.call(e,a,n,this,i)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var i=this.getAxisProxy(t,e);return i&&i.getAxisModel()},setRawRange:function(t){var e=this.option,i=this.settledOption;h([["start","startValue"],["end","endValue"]],function(a){null==t[a[0]]&&null==t[a[1]]||(e[a[0]]=i[a[0]]=t[a[0]],e[a[1]]=i[a[1]]=t[a[1]])},this),d(this,t)},setCalculatedRange:function(t){var e=this.option;h(["start","startValue","end","endValue"],function(i){e[i]=t[i]})},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var i in e)if(e.hasOwnProperty(i)&&e[i].hostedBy(this))return e[i];for(var i in e)if(e.hasOwnProperty(i)&&!e[i].hostedBy(this))return e[i]},getRangePropMode:function(){return this._rangePropMode.slice()}});t.exports=f},sK5G:function(t,e,i){var a=i("/gZK"),n=i("/gxq"),r=i("mvCM").getDimensionTypeByAxis,o={_baseAxisDim:null,getInitialData:function(t,e){var i,o,s=e.getComponent("xAxis",this.get("xAxisIndex")),l=e.getComponent("yAxis",this.get("yAxisIndex")),h=s.get("type"),u=l.get("type");"category"===h?(t.layout="horizontal",i=s.getOrdinalMeta(),o=!0):"category"===u?(t.layout="vertical",i=l.getOrdinalMeta(),o=!0):t.layout=t.layout||"horizontal";var c=["x","y"],d="horizontal"===t.layout?0:1,f=this._baseAxisDim=c[d],p=c[1-d],m=[s,l],v=m[d].get("type"),g=m[1-d].get("type"),C=t.data;if(C&&o){var D=[];n.each(C,function(t,e){var i;t.value&&n.isArray(t.value)?(i=t.value.slice(),t.value.unshift(e)):n.isArray(t)?(i=t.slice(),t.unshift(e)):i=t,D.push(i)}),t.data=D}var y=this.defaultValueDimensions;return a(this,{coordDimensions:[{name:f,type:r(v),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:p,type:r(g),dimsDef:y.slice()}],dimensionsCount:y.length+1})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}};e.seriesModelMixin=o},sOJ4:function(t,e,i){var a=i("0sHC"),n=i("C7PF"),r=a.Line.prototype,o=a.BezierCurve.prototype;function s(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var l=a.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){this[s(e)?"_buildPathLine":"_buildPathCurve"](t,e)},_buildPathLine:r.buildPath,_buildPathCurve:o.buildPath,pointAt:function(t){return this[s(this.shape)?"_pointAtLine":"_pointAtCurve"](t)},_pointAtLine:r.pointAt,_pointAtCurve:o.pointAt,tangentAt:function(t){var e=this.shape,i=s(e)?[e.x2-e.x1,e.y2-e.y1]:this._tangentAtCurve(t);return n.normalize(i,i)},_tangentAtCurve:o.tangentAt});t.exports=l},sOR5:function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},sRta:function(t,e,i){var a=i("GxVO"),n=i("dnLe"),r=a.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:n(a.prototype.brush),buildPath:function(t,e){var i=e.cx,a=e.cy,n=Math.max(e.r0||0,0),r=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,l=e.clockwise,h=Math.cos(o),u=Math.sin(o);t.moveTo(h*n+i,u*n+a),t.lineTo(h*r+i,u*r+a),t.arc(i,a,r,o,s,!l),t.lineTo(Math.cos(s)*n+i,Math.sin(s)*n+a),0!==n&&t.arc(i,a,n,s,o,l),t.closePath()}});t.exports=r},sTIA:function(t,e,i){var a=i("hG1p"),n=i("0sHC"),r=i("Ylhr"),o=i("wWR3"),s=o.parsePercent,l=o.round,h=o.linearMap;function u(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t}var c=2*Math.PI,d=r.extend({type:"gauge",render:function(t,e,i){this.group.removeAll();var a=t.get("axisLine.lineStyle.color"),n=function(t,e){var i=t.get("center"),a=e.getWidth(),n=e.getHeight(),r=Math.min(a,n);return{cx:s(i[0],e.getWidth()),cy:s(i[1],e.getHeight()),r:s(t.get("radius"),r/2)}}(t,i);this._renderMain(t,e,i,a,n)},dispose:function(){},_renderMain:function(t,e,i,a,r){for(var o=this.group,s=t.getModel("axisLine"),l=s.getModel("lineStyle"),h=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,d=((g=-t.get("endAngle")/180*Math.PI)-u)%c,f=u,p=l.get("width"),m=s.get("show"),v=0;m&&v<a.length;v++){var g=u+d*Math.min(Math.max(a[v][0],0),1),C=new n.Sector({shape:{startAngle:f,endAngle:g,cx:r.cx,cy:r.cy,clockwise:h,r0:r.r-p,r:r.r},silent:!0});C.setStyle({fill:a[v][1]}),C.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),o.add(C),f=g}var D=function(t){if(t<=0)return a[0][1];for(var e=0;e<a.length;e++)if(a[e][0]>=t&&(0===e?0:a[e-1][0])<t)return a[e][1];return a[e-1][1]};if(!h){var y=u;u=g,g=y}this._renderTicks(t,e,i,D,r,u,g,h),this._renderPointer(t,e,i,D,r,u,g,h),this._renderTitle(t,e,i,D,r),this._renderDetail(t,e,i,D,r)},_renderTicks:function(t,e,i,a,r,o,h,c){for(var d=this.group,f=r.cx,p=r.cy,m=r.r,v=+t.get("min"),g=+t.get("max"),C=t.getModel("splitLine"),D=t.getModel("axisTick"),y=t.getModel("axisLabel"),x=t.get("splitNumber"),S=D.get("splitNumber"),I=s(C.get("length"),m),T=s(D.get("length"),m),b=o,w=(h-o)/x,M=w/S,E=C.getModel("lineStyle").getLineStyle(),A=D.getModel("lineStyle").getLineStyle(),_=0;_<=x;_++){var L=Math.cos(b),F=Math.sin(b);if(C.get("show")){var O=new n.Line({shape:{x1:L*m+f,y1:F*m+p,x2:L*(m-I)+f,y2:F*(m-I)+p},style:E,silent:!0});"auto"===E.stroke&&O.setStyle({stroke:a(_/x)}),d.add(O)}if(y.get("show")){var P=u(l(_/x*(g-v)+v),y.get("formatter")),N=y.get("distance"),R=a(_/x);d.add(new n.Text({style:n.setTextStyle({},y,{text:P,x:L*(m-I-N)+f,y:F*(m-I-N)+p,textVerticalAlign:F<-.4?"top":F>.4?"bottom":"middle",textAlign:L<-.4?"left":L>.4?"right":"center"},{autoColor:R}),silent:!0}))}if(D.get("show")&&_!==x){for(var B=0;B<=S;B++){L=Math.cos(b),F=Math.sin(b);var k=new n.Line({shape:{x1:L*m+f,y1:F*m+p,x2:L*(m-T)+f,y2:F*(m-T)+p},silent:!0,style:A});"auto"===A.stroke&&k.setStyle({stroke:a((_+B/S)/x)}),d.add(k),b+=M}b-=M}else b+=w}},_renderPointer:function(t,e,i,r,o,l,u,c){var d=this.group,f=this._data;if(t.get("pointer.show")){var p=[+t.get("min"),+t.get("max")],m=[l,u],v=t.getData(),g=v.mapDimension("value");v.diff(f).add(function(e){var i=new a({shape:{angle:l}});n.initProps(i,{shape:{angle:h(v.get(g,e),p,m,!0)}},t),d.add(i),v.setItemGraphicEl(e,i)}).update(function(e,i){var a=f.getItemGraphicEl(i);n.updateProps(a,{shape:{angle:h(v.get(g,e),p,m,!0)}},t),d.add(a),v.setItemGraphicEl(e,a)}).remove(function(t){var e=f.getItemGraphicEl(t);d.remove(e)}).execute(),v.eachItemGraphicEl(function(t,e){var i=v.getItemModel(e),a=i.getModel("pointer");t.setShape({x:o.cx,y:o.cy,width:s(a.get("width"),o.r),r:s(a.get("length"),o.r)}),t.useStyle(i.getModel("itemStyle").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",r(h(v.get(g,e),p,[0,1],!0))),n.setHoverStyle(t,i.getModel("emphasis.itemStyle").getItemStyle())}),this._data=v}else f&&f.eachItemGraphicEl(function(t){d.remove(t)})},_renderTitle:function(t,e,i,a,r){var o=t.getData(),l=o.mapDimension("value"),u=t.getModel("title");if(u.get("show")){var c=u.get("offsetCenter"),d=r.cx+s(c[0],r.r),f=r.cy+s(c[1],r.r),p=+t.get("min"),m=+t.get("max"),v=t.getData().get(l,0),g=a(h(v,[p,m],[0,1],!0));this.group.add(new n.Text({silent:!0,style:n.setTextStyle({},u,{x:d,y:f,text:o.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:g,forceRich:!0})}))}},_renderDetail:function(t,e,i,a,r){var o=t.getModel("detail"),l=+t.get("min"),c=+t.get("max");if(o.get("show")){var d=o.get("offsetCenter"),f=r.cx+s(d[0],r.r),p=r.cy+s(d[1],r.r),m=s(o.get("width"),r.r),v=s(o.get("height"),r.r),g=t.getData(),C=g.get(g.mapDimension("value"),0),D=a(h(C,[l,c],[0,1],!0));this.group.add(new n.Text({silent:!0,style:n.setTextStyle({},o,{x:f,y:p,text:u(C,o.get("formatter")),textWidth:isNaN(m)?null:m,textHeight:isNaN(v)?null:v,textAlign:"center",textVerticalAlign:"middle"},{autoColor:D,forceRich:!0})}))}}});t.exports=d},sYKs:function(t,e,i){var a=i("uF9H");function n(t){this.mode=a.NUMERIC,this.data=t.toString()}n.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){var e,i,a;for(e=0;e+3<=this.data.length;e+=3)i=this.data.substr(e,3),a=parseInt(i,10),t.put(a,10);var n=this.data.length-e;n>0&&(i=this.data.substr(e),a=parseInt(i,10),t.put(a,3*n+1))},t.exports=n},sYrQ:function(t,e,i){var a=i("/gxq"),n=i("dOVI"),r=i("1Xuh"),o=i("3yJd"),s=i("/BOW"),l=i("0sHC"),h=i("wWR3"),u=i("og9+"),c=a.each,d=Math.min,f=Math.max,p=Math.floor,m=Math.ceil,v=h.round,g=Math.PI;function C(t,e,i){this._axesMap=a.createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,i)}function D(t,e){return d(f(t,e[0]),e[1])}C.prototype={type:"parallel",constructor:C,_init:function(t,e,i){var a=t.dimensions,n=t.parallelAxisIndex;c(a,function(t,i){var a=n[i],r=e.getComponent("parallelAxis",a),l=this._axesMap.set(t,new s(t,o.createScaleByModel(r),[0,0],r.get("type"),a)),h="category"===l.type;l.onBand=h&&r.get("boundaryGap"),l.inverse=r.get("inverse"),r.axis=l,l.model=r,l.coordinateSystem=r.coordinateSystem=this},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),i=e.axisBase,a=e.layoutBase,n=e.pixelDimIndex,r=t[1-n],o=t[n];return r>=i&&r<=i+e.axisLength&&o>=a&&o<=a+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var a=i.getData();c(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(a,a.mapDimension(t)),o.niceScaleExtent(e.scale,e.model)},this)}},this)},resize:function(t,e){this._rect=r.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,i=this._rect,a=["x","y"],n=["width","height"],r=e.get("layout"),o="horizontal"===r?0:1,s=i[n[o]],l=[0,s],h=this.dimensions.length,u=D(e.get("axisExpandWidth"),l),c=D(e.get("axisExpandCount")||0,[0,h]),d=e.get("axisExpandable")&&h>3&&h>c&&c>1&&u>0&&s>0,f=e.get("axisExpandWindow");f?(t=D(f[1]-f[0],l),f[1]=f[0]+t):(t=D(u*(c-1),l),(f=[u*(e.get("axisExpandCenter")||p(h/2))-t/2])[1]=f[0]+t);var g=(s-t)/(h-c);g<3&&(g=0);var C=[p(v(f[0]/u,1))+1,m(v(f[1]/u,1))-1],y=g/u*f[0];return{layout:r,pixelDimIndex:o,layoutBase:i[a[o]],layoutLength:s,axisBase:i[a[1-o]],axisLength:i[n[1-o]],axisExpandable:d,axisExpandWidth:u,axisCollapseWidth:g,axisExpandWindow:f,axisCount:h,winInnerIndices:C,axisExpandWindow0Pos:y}},_layoutAxes:function(){var t=this._rect,e=this._axesMap,i=this.dimensions,a=this._makeLayoutInfo(),r=a.layout;e.each(function(t){var e=[0,a.axisLength],i=t.inverse?1:0;t.setExtent(e[i],e[1-i])}),c(i,function(e,i){var o=(a.axisExpandable?function(t,e){var i,a,n=e.layoutLength,r=e.axisExpandWidth,o=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,h=s,u=!1;t<l[0]?(i=t*s,a=s):t<=l[1]?(i=e.axisExpandWindow0Pos+t*r-e.axisExpandWindow[0],h=r,u=!0):(i=n-(o-1-t)*s,a=s);return{position:i,axisNameAvailableWidth:h,axisLabelShow:u,nameTruncateMaxWidth:a}}:function(t,e){var i=e.layoutLength/(e.axisCount-1);return{position:i*t,axisNameAvailableWidth:i,axisLabelShow:!0}})(i,a),s={horizontal:{x:o.position,y:a.axisLength},vertical:{x:0,y:o.position}},l={horizontal:g/2,vertical:0},h=[s[r].x+t.x,s[r].y+t.y],u=l[r],c=n.create();n.rotate(c,c,u),n.translate(c,c,h),this._axesLayout[e]={position:h,rotation:u,transform:c,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(t,e,i,n){null==i&&(i=0),null==n&&(n=t.count());var r=this._axesMap,o=this.dimensions,s=[],l=[];a.each(o,function(e){s.push(t.mapDimension(e)),l.push(r.get(e).model)});for(var h=this.hasAxisBrushed(),u=i;u<n;u++){var c;if(h){c="active";for(var d=t.getValues(s,u),f=0,p=o.length;f<p;f++){if("inactive"===l[f].getActiveState(d[f])){c="inactive";break}}}else c="normal";e(c,u)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,i=!1,a=0,n=t.length;a<n;a++)"normal"!==e.get(t[a]).model.getActiveState()&&(i=!0);return i},axisCoordToPoint:function(t,e){var i=this._axesLayout[e];return l.applyTransform([t,0],i.transform)},getAxisLayout:function(t){return a.clone(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,a=e.axisExpandWindow.slice(),n=a[1]-a[0],r=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:a};var o,s=t[i]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",h=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),p=null!=c[0];if(h)p&&h&&s<n*c[0]?(l="jump",o=s-n*c[2]):p&&h&&s>n*(1-c[0])?(l="jump",o=s-n*(1-c[2])):(o=s-n*c[1])>=0&&(o=s-n*(1-c[1]))<=0&&(o=0),(o*=e.axisExpandWidth/h)?u(o,a,r,"all"):l="none";else{n=a[1]-a[0];(a=[f(0,r[1]*s/n-n/2)])[1]=d(r[1],a[0]+n),a[0]=a[1]-n}return{axisExpandWindow:a,behavior:l}}};var y=C;t.exports=y},srbS:function(t,e,i){i("4Nz2").__DEV__;var a=i("Icdr"),n=i("/gxq"),r=i("HcG6"),o=i("1Xuh"),s=i("wWR3"),l=i("AlF5"),h=i("0MNY");function u(t,e){var i=t.get("boundingCoords");if(null!=i){var a=i[0],n=i[1];isNaN(a[0])||isNaN(a[1])||isNaN(n[0])||isNaN(n[1])||this.setBoundingRect(a[0],a[1],n[0]-a[0],n[1]-a[1])}var r,l=this.getBoundingRect(),h=t.get("layoutCenter"),u=t.get("layoutSize"),c=e.getWidth(),d=e.getHeight(),f=l.width/l.height*this.aspectScale,p=!1;if(h&&u&&(h=[s.parsePercent(h[0],c),s.parsePercent(h[1],d)],u=s.parsePercent(u,Math.min(c,d)),isNaN(h[0])||isNaN(h[1])||isNaN(u)||(p=!0)),p){var m={};f>1?(m.width=u,m.height=u/f):(m.height=u,m.width=u*f),m.y=h[1]-m.height/2,m.x=h[0]-m.width/2}else(r=t.getBoxLayoutParams()).aspect=f,m=o.getLayoutRect(r,{width:c,height:d});this.setViewRect(m.x,m.y,m.width,m.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function c(t,e){n.each(e.get("geoCoord"),function(e,i){t.addGeoCoord(i,e)})}var d={dimensions:r.prototype.dimensions,create:function(t,e){var i=[];t.eachComponent("geo",function(t,a){var n=t.get("map"),o=t.get("aspectScale"),s=!0,l=h.retrieveMap(n);l&&l[0]&&"svg"===l[0].type?(null==o&&(o=1),s=!1):null==o&&(o=.75);var d=new r(n+a,n,t.get("nameMap"),s);d.aspectScale=o,d.zoomLimit=t.get("scaleLimit"),i.push(d),c(d,t),t.coordinateSystem=d,d.model=t,d.resize=u,d.resize(t,e)}),t.eachSeries(function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=i[e]}});var a={};return t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();a[e]=a[e]||[],a[e].push(t)}}),n.each(a,function(t,a){var o=n.map(t,function(t){return t.get("nameMap")}),s=new r(a,a,n.mergeAll(o));s.zoomLimit=n.retrieve.apply(null,n.map(t,function(t){return t.get("scaleLimit")})),i.push(s),s.resize=u,s.aspectScale=t[0].get("aspectScale"),s.resize(t[0],e),n.each(t,function(t){t.coordinateSystem=s,c(s,t)})}),i},getFilledRegions:function(t,e,i){for(var a=(t||[]).slice(),r=n.createHashMap(),o=0;o<a.length;o++)r.set(a[o].name,a[o]);var s=l.load(e,i);return n.each(s.regions,function(t){var e=t.name;!r.get(e)&&a.push({name:e})}),a}};a.registerCoordinateSystem("geo",d);var f=d;t.exports=f},swsf:function(t,e,i){var a=i("Icdr"),n=i("OCS9");i("n3NR"),i("icur"),i("hdbT"),i("S+iL"),i("0pMY"),a.registerPreprocessor(n)},t8qj:function(t,e,i){"use strict";t.exports=function(t,e,i,a,n){return t.config=e,i&&(t.code=i),t.request=a,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},t8x9:function(t,e,i){var a=i("77Pl"),n=i("lOnJ"),r=i("dSzd")("species");t.exports=function(t,e){var i,o=a(t).constructor;return void 0===o||void 0==(i=a(o)[r])?e:n(i)}},tBuv:function(t,e,i){var a=i("wWR3"),n=i("HHfb"),r=i("/+sa"),o=i("wW3A"),s=a.round,l=r.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),l.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=o.getIntervalPrecision(t)},getTicks:function(){return o.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(t,e){if(null==t)return"";var i=e&&e.precision;return null==i?i=a.getPrecisionSafe(t)||0:"auto"===i&&(i=this._intervalPrecision),t=s(t,i,!0),n.addCommas(t)},niceTicks:function(t,e,i){t=t||5;var a=this._extent,n=a[1]-a[0];if(isFinite(n)){n<0&&(n=-n,a.reverse());var r=o.intervalScaleNiceTicks(a,t,e,i);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax?e[0]-=i/2:(e[1]+=i/2,e[0]-=i/2)}else e[1]=1;var a=e[1]-e[0];isFinite(a)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var n=this._interval;t.fixMin||(e[0]=s(Math.floor(e[0]/n)*n)),t.fixMax||(e[1]=s(Math.ceil(e[1]/n)*n))}});l.create=function(){return new l};var h=l;t.exports=h},tIFN:function(t,e,i){"use strict";var a=i("cGG2"),n=i("JP+z"),r=i("XmWM"),o=i("DUeU");function s(t){var e=new r(t),i=n(r.prototype.request,e);return a.extend(i,r.prototype,e),a.extend(i,e),i}var l=s(i("KCLY"));l.Axios=r,l.create=function(t){return s(o(l.defaults,t))},l.Cancel=i("dVOP"),l.CancelToken=i("cWxy"),l.isCancel=i("pBtG"),l.all=function(t){return Promise.all(t)},l.spread=i("pxG4"),t.exports=l,t.exports.default=l},tQk0:function(t,e,i){i("4SW2"),i("0O1a")},taS8:function(t,e,i){var a=i("qjrH"),n=i("8b51"),r=i("28kU").WILL_BE_RESTORED,o=new n,s=function(){};s.prototype={constructor:s,drawRectText:function(t,e){var i=this.style;e=i.textRect||e,this.__dirty&&a.normalizeTextStyle(i,!0);var n=i.text;if(null!=n&&(n+=""),a.needDrawText(n,i)){t.save();var s=this.transform;i.transformText?this.setTransform(t):s&&(o.copy(e),o.applyTransform(s),e=o),a.renderText(this,t,n,i,e,r),t.restore()}}};var l=s;t.exports=l},thE4:function(t,e,i){var a=i("/gxq").inherits,n=i("9qnA"),r=i("8b51");function o(t){n.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}o.prototype.incremental=!0,o.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},o.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},o.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},o.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},o.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},o.prototype.brush=function(t,e){for(var i=this._cursor;i<this._displayables.length;i++){(a=this._displayables[i]).beforeBrush&&a.beforeBrush(t),a.brush(t,i===this._cursor?null:this._displayables[i-1]),a.afterBrush&&a.afterBrush(t)}this._cursor=i;for(i=0;i<this._temporaryDisplayables.length;i++){var a;(a=this._temporaryDisplayables[i]).beforeBrush&&a.beforeBrush(t),a.brush(t,0===i?null:this._temporaryDisplayables[i-1]),a.afterBrush&&a.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var s=[];o.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new r(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(s)),t.union(a)}this._rect=t}return this._rect},o.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(i[0],i[1]))for(var a=0;a<this._displayables.length;a++){if(this._displayables[a].contain(t,e))return!0}return!1},a(o,n);var l=o;t.exports=l},ttyz:function(t,e,i){"use strict";var a=i("9C8M"),n=i("LIJb");t.exports=i("qo66")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return a.def(n(this,"Set"),t=0===t?0:t,t)}},a)},tzpD:function(t,e,i){var a=i("qVJQ").isDimensionStacked,n=i("/gxq").map;e.prepareDataCoordInfo=function(t,e,i){var r,o=t.getBaseAxis(),s=t.getOtherAxis(o),l=function(t,e){var i=0,a=t.scale.getExtent();return"start"===e?i=a[0]:"end"===e?i=a[1]:a[0]>0?i=a[0]:a[1]<0&&(i=a[1]),i}(s,i),h=o.dim,u=s.dim,c=e.mapDimension(u),d=e.mapDimension(h),f="x"===u||"radius"===u?1:0,p=n(t.dimensions,function(t){return e.mapDimension(t)}),m=e.getCalculationInfo("stackResultDimension");return(r|=a(e,p[0]))&&(p[0]=m),(r|=a(e,p[1]))&&(p[1]=m),{dataDimsForPoint:p,valueStart:l,valueAxisDim:u,baseAxisDim:h,stacked:!!r,valueDim:c,baseDim:d,baseDataOffset:f,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}},e.getStackedOnPoint=function(t,e,i,a){var n=NaN;t.stacked&&(n=i.get(i.getCalculationInfo("stackedOverDimension"),a)),isNaN(n)&&(n=t.valueStart);var r=t.baseDataOffset,o=[];return o[r]=i.get(t.baseDim,a),o[1-r]=n,e.dataToPoint(o)}},"u+XU":function(t,e){e.containStroke=function(t,e,i,a,n,r,o){if(0===n)return!1;var s=n,l=0;if(o>e+s&&o>a+s||o<e-s&&o<a-s||r>t+s&&r>i+s||r<t-s&&r<i-s)return!1;if(t===i)return Math.abs(r-t)<=s/2;var h=(l=(e-a)/(t-i))*r-o+(t*a-i*e)/(t-i);return h*h/(l*l+1)<=s/2*s/2}},u5Nq:function(t,e,i){var a=i("/gxq"),n=i("/+sa"),r=i("iGPw"),o=n.prototype,s=n.extend({type:"ordinal",init:function(t,e){t&&!a.isArray(t)||(t=new r({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),o.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return o.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(o.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push(i),i++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:a.noop,niceExtent:a.noop});s.create=function(){return new s};var l=s;t.exports=l},u820:function(t,e){var i="";"undefined"!=typeof navigator&&(i=navigator.platform||"");var a={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:i.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};t.exports=a},u9lB:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("UAiw"),o=i("FIAY"),s=i("dCQY"),l=o.toolbox.dataView,h=new Array(60).join("-"),u="\t";function c(t){var e,i,a=function(t){var e={},i=[],a=[];return t.eachRawSeries(function(t){var n=t.coordinateSystem;if(!n||"cartesian2d"!==n.type&&"polar"!==n.type)i.push(t);else{var r=n.getBaseAxis();if("category"===r.type){var o=r.dim+"_"+r.index;e[o]||(e[o]={categoryAxis:r,valueAxis:n.getOtherAxis(r),series:[]},a.push({axisDim:r.dim,axisIndex:r.index})),e[o].series.push(t)}else i.push(t)}}),{seriesGroupByCategoryAxis:e,other:i,meta:a}}(t);return{value:n.filter([(e=a.seriesGroupByCategoryAxis,i=[],n.each(e,function(t,e){var a=t.categoryAxis,r=t.valueAxis.dim,o=[" "].concat(n.map(t.series,function(t){return t.name})),s=[a.model.getCategories()];n.each(t.series,function(t){s.push(t.getRawData().mapArray(r,function(t){return t}))});for(var l=[o.join(u)],h=0;h<s[0].length;h++){for(var c=[],d=0;d<s.length;d++)c.push(s[d][h]);l.push(c.join(u))}i.push(l.join("\n"))}),i.join("\n\n"+h+"\n\n")),function(t){return n.map(t,function(t){var e=t.getRawData(),i=[t.name],a=[];return e.each(e.dimensions,function(){for(var t=arguments.length,n=arguments[t-1],r=e.getName(n),o=0;o<t-1;o++)a[o]=arguments[o];i.push((r?r+u:"")+a.join(u))}),i.join("\n")}).join("\n\n"+h+"\n\n")}(a.other)],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+h+"\n\n"),meta:a.meta}}function d(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var f=new RegExp("["+u+"]+","g");function p(t,e){var i=t.split(new RegExp("\n*"+h+"\n*","g")),a={series:[]};return n.each(i,function(t,i){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(u)>=0)return!0}(t)){var r=function(t){for(var e=t.split(/\n+/g),i=d(e.shift()).split(f),a=[],r=n.map(i,function(t){return{name:t,data:[]}}),o=0;o<e.length;o++){var s=d(e[o]).split(f);a.push(s.shift());for(var l=0;l<s.length;l++)r[l]&&(r[l].data[o]=s[l])}return{series:r,categories:a}}(t),o=e[i],s=o.axisDim+"Axis";o&&(a[s]=a[s]||[],a[s][o.axisIndex]={data:r.categories},a.series=a.series.concat(r.series))}else{r=function(t){for(var e=t.split(/\n+/g),i=d(e.shift()),a=[],n=0;n<e.length;n++){var r,o=d(e[n]).split(f),s="",l=!1;isNaN(o[0])?(l=!0,s=o[0],o=o.slice(1),a[n]={name:s,value:[]},r=a[n].value):r=a[n]=[];for(var h=0;h<o.length;h++)r.push(+o[h]);1===r.length&&(l?a[n].value=r[0]:a[n]=r[0])}return{name:i,data:a}}(t);a.series.push(r)}}),a}function m(t){this._dom=null,this.model=t}m.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:n.clone(l.title),lang:n.clone(l.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},m.prototype.onclick=function(t,e){var i=e.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=a.get("lang")||[];s.innerHTML=l[0]||a.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=a.get("textColor");var h=document.createElement("div"),u=document.createElement("textarea");h.style.cssText="display:block;width:100%;overflow:auto;";var d=a.get("optionToContent"),f=a.get("contentToOption"),m=c(t);if("function"==typeof d){var v=d(e.getOption());"string"==typeof v?h.innerHTML=v:n.isDom(v)&&h.appendChild(v)}else h.appendChild(u),u.readOnly=a.get("readOnly"),u.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",u.style.color=a.get("textColor"),u.style.borderColor=a.get("textareaBorderColor"),u.style.backgroundColor=a.get("textareaColor"),u.value=m.value;var g=m.meta,C=document.createElement("div");C.style.cssText="position:absolute;bottom:0;left:0;right:0;";var D="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",y=document.createElement("div"),x=document.createElement("div");D+=";background-color:"+a.get("buttonColor"),D+=";color:"+a.get("buttonTextColor");var S=this;function I(){i.removeChild(o),S._dom=null}r.addEventListener(y,"click",I),r.addEventListener(x,"click",function(){var t;try{t="function"==typeof f?f(h,e.getOption()):p(u.value,g)}catch(t){throw I(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),I()}),y.innerHTML=l[1],x.innerHTML=l[2],x.style.cssText=D,y.style.cssText=D,!a.get("readOnly")&&C.appendChild(x),C.appendChild(y),o.appendChild(s),o.appendChild(h),o.appendChild(C),h.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},m.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},m.prototype.dispose=function(t,e){this.remove(t,e)},s.register("dataView",m),a.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var i=[];n.each(t.newOption.series,function(t){var a=e.getSeriesByName(t.name)[0];if(a){var r=a.get("data");i.push({name:t.name,data:function(t,e){return n.map(t,function(t,i){var a=e&&e[i];return n.isObject(a)&&!n.isArray(a)?(n.isObject(t)&&!n.isArray(t)&&(t=t.value),n.defaults({value:t},a)):t})}(t.data,r)})}else i.push(n.extend({type:"scatter"},t))}),e.mergeOption(n.defaults({series:i},t.newOption))});var v=m;t.exports=v},u9yV:function(t,e,i){var a=i("Icdr");i("pmYM"),i("uNEE");var n=i("AjK0"),r=i("1Nix");i("UkNE"),a.registerVisual(n("scatter","circle")),a.registerLayout(r("scatter"))},uA0k:function(t,e,i){var a=i("0sHC"),n=i("bzOU"),r=i("/gxq"),o=i("kK7q").createSymbol,s=i("C7PF"),l=i("AAi1");function h(t,e,i){a.Group.call(this),this.add(this.createLine(t,e,i)),this._updateEffectSymbol(t,e)}var u=h.prototype;u.createLine=function(t,e,i){return new n(t,e,i)},u._updateEffectSymbol=function(t,e){var i=t.getItemModel(e).getModel("effect"),a=i.get("symbolSize"),n=i.get("symbol");r.isArray(a)||(a=[a,a]);var s=i.get("color")||t.getItemVisual(e,"color"),l=this.childAt(1);this._symbolType!==n&&(this.remove(l),(l=o(n,-.5,-.5,1,1,s)).z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",s),l.setStyle(i.getItemStyle(["color"])),l.attr("scale",a),l.setColor(s),l.attr("scale",a),this._symbolType=n,this._updateEffectAnimation(t,i,e))},u._updateEffectAnimation=function(t,e,i){var a=this.childAt(1);if(a){var n=this,o=t.getItemLayout(i),s=1e3*e.get("period"),l=e.get("loop"),h=e.get("constantSpeed"),u=r.retrieve(e.get("delay"),function(e){return e/t.count()*s/3}),c="function"==typeof u;if(a.ignore=!0,this.updateAnimationPoints(a,o),h>0&&(s=this.getLineLength(a)/h*1e3),s!==this._period||l!==this._loop){a.stopAnimation();var d=u;c&&(d=u(i)),a.__t>0&&(d=-s*a.__t),a.__t=0;var f=a.animate("",l).when(s,{__t:1}).delay(d).during(function(){n.updateSymbolPosition(a)});l||f.done(function(){n.remove(a)}),f.start()}this._period=s,this._loop=l}},u.getLineLength=function(t){return s.dist(t.__p1,t.__cp1)+s.dist(t.__cp1,t.__p2)},u.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},u.updateData=function(t,e,i){this.childAt(0).updateData(t,e,i),this._updateEffectSymbol(t,e)},u.updateSymbolPosition=function(t){var e=t.__p1,i=t.__p2,a=t.__cp1,n=t.__t,r=t.position,o=l.quadraticAt,s=l.quadraticDerivativeAt;r[0]=o(e[0],a[0],i[0],n),r[1]=o(e[1],a[1],i[1],n);var h=s(e[0],a[0],i[0],n),u=s(e[1],a[1],i[1],n);t.rotation=-Math.atan2(u,h)-Math.PI/2,t.ignore=!1},u.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,i,e)},r.inherits(h,a.Group);var c=h;t.exports=c},uF9H:function(t,e,i){var a=i("yYhy"),n=i("NY/E");e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!a.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return n.testNumeric(t)?e.NUMERIC:n.testAlphanumeric(t)?e.ALPHANUMERIC:n.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,i){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return i}}},uJBW:function(t,e,i){var a=i("/gxq"),n=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];var r=function(t){a.each(n,function(e){this[e]=a.bind(t[e],t)},this)};t.exports=r},uNEE:function(t,e,i){var a=i("Icdr"),n=i("dZZy"),r=i("uv9t"),o=i("1Nix");a.extendChartView({type:"scatter",render:function(t,e,i){var a=t.getData();this._updateSymbolDraw(a,t).updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},incrementalPrepareRender:function(t,e,i){var a=t.getData();this._updateSymbolDraw(a,t).incrementalPrepareUpdate(a),this._finished=!1},incrementalRender:function(t,e,i){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var n=o().reset(t);n.progress&&n.progress({start:0,end:a.count()},a),this._symbolDraw.updateLayout(a)},_getClipShape:function(t){var e=t.coordinateSystem,i=e&&e.getArea&&e.getArea();return t.get("clip",!0)?i:null},_updateSymbolDraw:function(t,e){var i=this._symbolDraw,a=e.pipelineContext.large;return i&&a===this._isLargeDraw||(i&&i.remove(),i=this._symbolDraw=a?new r:new n,this._isLargeDraw=a,this.group.removeAll()),this.group.add(i.group),i},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}})},uY1a:function(t,e){t.exports=function(t,e,i,a){var n,r=0;return"boolean"!=typeof e&&(a=i,i=e,e=void 0),function(){var o=this,s=Number(new Date)-r,l=arguments;function h(){r=Number(new Date),i.apply(o,l)}a&&!n&&h(),n&&clearTimeout(n),void 0===a&&s>t?h():!0!==e&&(n=setTimeout(a?function(){n=void 0}:h,void 0===a?t-s:t))}}},udrn:function(t,e,i){var a=i("GxVO").extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var i=.5522848,a=e.cx,n=e.cy,r=e.rx,o=e.ry,s=r*i,l=o*i;t.moveTo(a-r,n),t.bezierCurveTo(a-r,n-l,a-s,n-o,a,n-o),t.bezierCurveTo(a+s,n-o,a+r,n-l,a+r,n),t.bezierCurveTo(a+r,n+l,a+s,n+o,a,n+o),t.bezierCurveTo(a-s,n+o,a-r,n+l,a-r,n),t.closePath()}});t.exports=a},ujcs:function(t,e){e.read=function(t,e,i,a,n){var r,o,s=8*n-a-1,l=(1<<s)-1,h=l>>1,u=-7,c=i?n-1:0,d=i?-1:1,f=t[e+c];for(c+=d,r=f&(1<<-u)-1,f>>=-u,u+=s;u>0;r=256*r+t[e+c],c+=d,u-=8);for(o=r&(1<<-u)-1,r>>=-u,u+=a;u>0;o=256*o+t[e+c],c+=d,u-=8);if(0===r)r=1-h;else{if(r===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,a),r-=h}return(f?-1:1)*o*Math.pow(2,r-a)},e.write=function(t,e,i,a,n,r){var o,s,l,h=8*r-n-1,u=(1<<h)-1,c=u>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=a?0:r-1,p=a?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+c>=1?d/l:d*Math.pow(2,1-c))*l>=2&&(o++,l/=2),o+c>=u?(s=0,o=u):o+c>=1?(s=(e*l-1)*Math.pow(2,n),o+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,n),o=0));n>=8;t[i+f]=255&s,f+=p,s/=256,n-=8);for(o=o<<n|s,h+=n;h>0;t[i+f]=255&o,f+=p,o/=256,h-=8);t[i+f-p]|=128*m}},uqUo:function(t,e,i){var a=i("kM2E"),n=i("FeBl"),r=i("S82l");t.exports=function(t,e){var i=(n.Object||{})[t]||Object[t],o={};o[t]=e(i),a(a.S+a.F*r(function(){i(1)}),"Object",o)}},urW8:function(t,e,i){"use strict";e.__esModule=!0,e.i18n=e.use=e.t=void 0;var a=o(i("Vi3T")),n=o(i("/5sW")),r=o(i("i3rX"));function o(t){return t&&t.__esModule?t:{default:t}}var s=(0,o(i("SvnF")).default)(n.default),l=a.default,h=!1,u=function(){var t=Object.getPrototypeOf(this||n.default).$t;if("function"==typeof t&&n.default.locale)return h||(h=!0,n.default.locale(n.default.config.lang,(0,r.default)(l,n.default.locale(n.default.config.lang)||{},{clone:!0}))),t.apply(this,arguments)},c=e.t=function(t,e){var i=u.apply(this,arguments);if(null!==i&&void 0!==i)return i;for(var a=t.split("."),n=l,r=0,o=a.length;r<o;r++){if(i=n[a[r]],r===o-1)return s(i,e);if(!i)return"";n=i}return""},d=e.use=function(t){l=t||l},f=e.i18n=function(t){u=t||u};e.default={use:d,t:c,i18n:f}},utyv:function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,i){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return i}}},uv9t:function(t,e,i){var a=i("0sHC"),n=i("kK7q").createSymbol,r=i("thE4"),o=a.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(t,e){var i=e.points,a=e.size,n=this.symbolProxy,r=n.shape;if(!((t.getContext?t.getContext():t)&&a[0]<4))for(var o=0;o<i.length;){var s=i[o++],l=i[o++];isNaN(s)||isNaN(l)||(this.softClipShape&&!this.softClipShape.contain(s,l)||(r.x=s-a[0]/2,r.y=l-a[1]/2,r.width=a[0],r.height=a[1],n.buildPath(t,r,!0)))}},afterBrush:function(t){var e=this.shape,i=e.points,a=e.size;if(a[0]<4){this.setTransform(t);for(var n=0;n<i.length;){var r=i[n++],o=i[n++];isNaN(r)||isNaN(o)||(this.softClipShape&&!this.softClipShape.contain(r,o)||t.fillRect(r-a[0]/2,o-a[1]/2,a[0],a[1]))}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var i=this.shape,a=i.points,n=i.size,r=Math.max(n[0],4),o=Math.max(n[1],4),s=a.length/2-1;s>=0;s--){var l=2*s,h=a[l]-r/2,u=a[l+1]-o/2;if(t>=h&&e>=u&&t<=h+r&&e<=u+o)return s}return-1}});function s(){this.group=new a.Group}var l=s.prototype;l.isPersistent=function(){return!this._incremental},l.updateData=function(t,e){this.group.removeAll();var i=new o({rectHover:!0,cursor:"default"});i.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(i,t,!1,e),this.group.add(i),this._incremental=null},l.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("symbolPoints");this.group.eachChild(function(t){if(null!=t.startIndex){var i=2*(t.endIndex-t.startIndex),a=4*t.startIndex*2;e=new Float32Array(e.buffer,a,i)}t.setShape("points",e)})}},l.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new r({silent:!0})),this.group.add(this._incremental)):this._incremental=null},l.incrementalUpdate=function(t,e,i){var a;this._incremental?(a=new o,this._incremental.addDisplayable(a,!0)):((a=new o({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(a)),a.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(a,e,!!this._incremental,i)},l._setCommon=function(t,e,i,a){var r=e.hostModel;a=a||{};var o=e.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.softClipShape=a.clipShape||null,t.symbolProxy=n(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("color");l&&t.setColor(l),i||(t.seriesIndex=r.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var i=t.findDataIndex(e.offsetX,e.offsetY);i>=0&&(t.dataIndex=i+(t.startIndex||0))}))},l.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},l._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var h=s;t.exports=h},"v/cD":function(t,e,i){var a=i("1Xuh"),n=a.getLayoutRect,r=a.box,o=a.positionElement,s=i("HHfb"),l=i("0sHC");e.layout=function(t,e,i){var a=e.getBoxLayoutParams(),s=e.get("padding"),l={width:i.getWidth(),height:i.getHeight()},h=n(a,l,s);r(e.get("orient"),t,e.get("itemGap"),h.width,h.height),o(t,a,l,s)},e.makeBackground=function(t,e){var i=s.normalizeCssArray(e.get("padding")),a=e.getItemStyle(["color","opacity"]);return a.fill=e.get("backgroundColor"),t=new l.Rect({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get("borderRadius")},style:a,silent:!0,z2:-1})}},"v/z1":function(t,e,i){i("cuL/"),i("sJ4e"),i("ilLo"),i("8Mpj"),i("WbrJ"),i("b/SY"),i("KAfT")},vEM8:function(t,e,i){var a=i("/gxq"),n=i("dZZy"),r=i("wWR3"),o=i("Rfu2"),s=i("vx1D");function l(t,e,i){var a=e.coordinateSystem;t.each(function(n){var o,s=t.getItemModel(n),l=r.parsePercent(s.get("x"),i.getWidth()),h=r.parsePercent(s.get("y"),i.getHeight());if(isNaN(l)||isNaN(h)){if(e.getMarkerPosition)o=e.getMarkerPosition(t.getValues(t.dimensions,n));else if(a){var u=t.get(a.dimensions[0],n),c=t.get(a.dimensions[1],n);o=a.dataToPoint([u,c])}}else o=[l,h];isNaN(l)||(o[0]=l),isNaN(h)||(o[1]=h),t.setItemLayout(n,o)})}var h=i("SZjP").extend({type:"markPoint",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markPointModel;e&&(l(e.getData(),t,i),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,e,i,r){var h=t.coordinateSystem,u=t.id,c=t.getData(),d=this.markerGroupMap,f=d.get(u)||d.set(u,new n),p=function(t,e,i){var n;n=t?a.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return a.defaults({name:t},i)}):[{name:"value",type:"float"}];var r=new o(n,i),l=a.map(i.get("data"),a.curry(s.dataTransform,e));t&&(l=a.filter(l,a.curry(s.dataFilter,t)));return r.initData(l,null,t?s.dimValueGetter:function(t){return t.value}),r}(h,t,e);e.setData(p),l(e.getData(),t,r),p.each(function(t){var i=p.getItemModel(t),n=i.getShallow("symbol"),r=i.getShallow("symbolSize"),o=a.isFunction(n),s=a.isFunction(r);if(o||s){var l=e.getRawValue(t),h=e.getDataParams(t);o&&(n=n(l,h)),s&&(r=r(l,h))}p.setItemVisual(t,{symbol:n,symbolSize:r,color:i.get("itemStyle.color")||c.getVisual("color")})}),f.updateData(p),this.group.add(f.group),p.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),f.__keep=!0,f.group.silent=e.get("silent")||t.get("silent")}});t.exports=h},"vFc/":function(t,e,i){var a=i("TcQ7"),n=i("QRG4"),r=i("fkB2");t.exports=function(t){return function(e,i,o){var s,l=a(e),h=n(l.length),u=r(o,h);if(t&&i!=i){for(;h>u;)if((s=l[u++])!=s)return!0}else for(;h>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}}},"vIB/":function(t,e,i){"use strict";var a=i("O4g8"),n=i("kM2E"),r=i("880/"),o=i("hJx8"),s=i("/bQp"),l=i("94VQ"),h=i("e6n0"),u=i("PzxK"),c=i("dSzd")("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,i,p,m,v,g){l(i,e,p);var C,D,y,x=function(t){if(!d&&t in b)return b[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},S=e+" Iterator",I="values"==m,T=!1,b=t.prototype,w=b[c]||b["@@iterator"]||m&&b[m],M=w||x(m),E=m?I?x("entries"):M:void 0,A="Array"==e&&b.entries||w;if(A&&(y=u(A.call(new t)))!==Object.prototype&&y.next&&(h(y,S,!0),a||"function"==typeof y[c]||o(y,c,f)),I&&w&&"values"!==w.name&&(T=!0,M=function(){return w.call(this)}),a&&!g||!d&&!T&&b[c]||o(b,c,M),s[e]=M,s[S]=f,m)if(C={values:I?M:x("values"),keys:v?M:x("keys"),entries:E},g)for(D in C)D in b||r(b,D,C[D]);else n(n.P+n.F*(d||T),e,C);return C}},vIe4:function(t,e,i){var a=i("/gxq");t.exports=function(t){var e={};t.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),a=i?"o"+i.id:"i"+t.getMapType();(e[a]=e[a]||[]).push(t)}),a.each(e,function(t,e){for(var i,n,r,o=(i=a.map(t,function(t){return t.getData()}),n=t[0].get("mapValueCalculation"),r={},a.each(i,function(t){t.each(t.mapDimension("value"),function(e,i){var a="ec-"+t.getName(i);r[a]=r[a]||[],isNaN(e)||r[a].push(e)})}),i[0].map(i[0].mapDimension("value"),function(t,e){for(var a,o="ec-"+i[0].getName(e),s=0,l=1/0,h=-1/0,u=r[o].length,c=0;c<u;c++)l=Math.min(l,r[o][c]),h=Math.max(h,r[o][c]),s+=r[o][c];return a="min"===n?l:"max"===n?h:"average"===n?s/u:s,0===u?NaN:a})),s=0;s<t.length;s++)t[s].originalData=t[s].getData();for(s=0;s<t.length;s++)t[s].seriesGroup=t,t[s].needsDrawMap=0===s&&!t[s].getHostGeoModel(),t[s].setData(o.cloneShallow()),t[s].mainSeries=t[0]})}},vPzN:function(t,e,i){var a=i("jF+B"),n=i("uF9H");function r(t){this.mode=n.BYTE,this.data=a.from(t)}r.getBitsLength=function(t){return 8*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){for(var e=0,i=this.data.length;e<i;e++)t.put(this.data[e],8)},t.exports=r},vXqC:function(t,e,i){var a=i("/gxq"),n=i("YNzw"),r=a.each,o=a.isObject,s=a.isArray,l="series\0";function h(t){return t instanceof Array?t:null==t?[]:[t]}function u(t){return o(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}var c=0;function d(t,e){return t&&t.hasOwnProperty(e)}e.normalizeToArray=h,e.defaultEmphasis=function(t,e,i){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var a=0,n=i.length;a<n;a++){var r=i[a];!t.emphasis[e].hasOwnProperty(r)&&t[e].hasOwnProperty(r)&&(t.emphasis[e][r]=t[e][r])}}},e.TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],e.getDataItemValue=function(t){return!o(t)||s(t)||t instanceof Date?t:t.value},e.isDataItemOption=function(t){return o(t)&&!(t instanceof Array)},e.mappingToExists=function(t,e){e=(e||[]).slice();var i=a.map(t||[],function(t,e){return{exist:t}});return r(e,function(t,a){if(o(t)){for(var n=0;n<i.length;n++)if(!i[n].option&&null!=t.id&&i[n].exist.id===t.id+"")return i[n].option=t,void(e[a]=null);for(n=0;n<i.length;n++){var r=i[n].exist;if(!(i[n].option||null!=r.id&&null!=t.id||null==t.name||u(t)||u(r)||r.name!==t.name+""))return i[n].option=t,void(e[a]=null)}}}),r(e,function(t,e){if(o(t)){for(var a=0;a<i.length;a++){var n=i[a].exist;if(!i[a].option&&!u(n)&&null==t.id){i[a].option=t;break}}a>=i.length&&i.push({option:t})}}),i},e.makeIdAndName=function(t){var e=a.createHashMap();r(t,function(t,i){var a=t.exist;a&&e.set(a.id,t)}),r(t,function(t,i){var n=t.option;a.assert(!n||null==n.id||!e.get(n.id)||e.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})}),r(t,function(t,i){var a=t.exist,n=t.option,r=t.keyInfo;if(o(n)){if(r.name=null!=n.name?n.name+"":a?a.name:l+i,a)r.id=a.id;else if(null!=n.id)r.id=n.id+"";else{var s=0;do{r.id="\0"+r.name+"\0"+s++}while(e.get(r.id))}e.set(r.id,t)}})},e.isNameSpecified=function(t){var e=t.name;return!(!e||!e.indexOf(l))},e.isIdInner=u,e.compressBatches=function(t,e){var i={},a={};return n(t||[],i),n(e||[],a,i),[r(i),r(a)];function n(t,e,i){for(var a=0,n=t.length;a<n;a++)for(var r=t[a].seriesId,o=h(t[a].dataIndex),s=i&&i[r],l=0,u=o.length;l<u;l++){var c=o[l];s&&s[c]?s[c]=null:(e[r]||(e[r]={}))[c]=1}}function r(t,e){var i=[];for(var a in t)if(t.hasOwnProperty(a)&&null!=t[a])if(e)i.push(+a);else{var n=r(t[a],!0);n.length&&i.push({seriesId:a,dataIndex:n})}return i}},e.queryDataIndex=function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?a.isArray(e.dataIndex)?a.map(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?a.isArray(e.name)?a.map(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0},e.makeInner=function(){var t="__\0ec_inner_"+c+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}},e.parseFinder=function(t,e,i){if(a.isString(e)){var n={};n[e+"Index"]=0,e=n}var o=i&&i.defaultMainType;!o||d(e,o+"Index")||d(e,o+"Id")||d(e,o+"Name")||(e[o+"Index"]=0);var s={};return r(e,function(n,r){if(n=e[r],"dataIndex"!==r&&"dataIndexInside"!==r){var o=r.match(/^(\w+)(Index|Id|Name)$/)||[],l=o[1],h=(o[2]||"").toLowerCase();if(!(!l||!h||null==n||"index"===h&&"none"===n||i&&i.includeMainTypes&&a.indexOf(i.includeMainTypes,l)<0)){var u={mainType:l};"index"===h&&"all"===n||(u[h]=n);var c=t.queryComponents(u);s[l+"Models"]=c,s[l+"Model"]=c[0]}}else s[r]=n}),s},e.setAttribute=function(t,e,i){t.setAttribute?t.setAttribute(e,i):t[e]=i},e.getAttribute=function(t,e){return t.getAttribute?t.getAttribute(e):t[e]},e.getTooltipRenderMode=function(t){return"auto"===t?n.domSupported?"html":"richText":t||"html"},e.groupData=function(t,e){var i=a.createHashMap(),n=[];return a.each(t,function(t){var a=e(t);(i.get(a)||(n.push(a),i.set(a,[]))).push(t)}),{keys:n,buckets:i}}},vjPX:function(t,e,i){var a=i("/gxq"),n=a.retrieve,r=a.defaults,o=a.extend,s=a.each,l=i("HHfb"),h=i("0sHC"),u=i("Pdtn"),c=i("wWR3"),d=c.isRadianAroundZero,f=c.remRadian,p=i("kK7q").createSymbol,m=i("dOVI"),v=i("C7PF").applyTransform,g=i("3yJd").shouldShowAllLabels,C=Math.PI,D=function(t,e){this.opt=e,this.axisModel=t,r(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new h.Group;var i=new h.Group({position:e.position.slice(),rotation:e.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i};D.prototype={constructor:D,hasBuilder:function(t){return!!y[t]},add:function(t){y[t].call(this)},getGroup:function(){return this.group}};var y={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var i=this.axisModel.axis.getExtent(),a=this._transform,n=[i[0],0],r=[i[1],0];a&&(v(n,n,a),v(r,r,a));var l=o({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new h.Line({anid:"line",subPixelOptimize:!0,shape:{x1:n[0],y1:n[1],x2:r[0],y2:r[1]},style:l,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1}));var u=e.get("axisLine.symbol"),c=e.get("axisLine.symbolSize"),d=e.get("axisLine.symbolOffset")||0;if("number"==typeof d&&(d=[d,d]),null!=u){"string"==typeof u&&(u=[u,u]),"string"!=typeof c&&"number"!=typeof c||(c=[c,c]);var f=c[0],m=c[1];s([{rotate:t.rotation+Math.PI/2,offset:d[0],r:0},{rotate:t.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((n[0]-r[0])*(n[0]-r[0])+(n[1]-r[1])*(n[1]-r[1]))}],function(e,i){if("none"!==u[i]&&null!=u[i]){var a=p(u[i],-f/2,-m/2,f,m,l.stroke,!0),r=e.r+e.offset,o=[n[0]+r*Math.cos(t.rotation),n[1]-r*Math.sin(t.rotation)];a.attr({rotation:e.rotate,position:o,silent:!0,z2:11}),this.group.add(a)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,i=function(t,e,i){var a=e.axis;if(!e.get("axisTick.show")||a.scale.isBlank())return;for(var n=e.getModel("axisTick"),o=n.getModel("lineStyle"),s=n.get("length"),l=a.getTicksCoords(),u=[],c=[],d=t._transform,f=[],p=0;p<l.length;p++){var m=l[p].coord;u[0]=m,u[1]=0,c[0]=m,c[1]=i.tickDirection*s,d&&(v(u,u,d),v(c,c,d));var g=new h.Line({anid:"tick_"+l[p].tickValue,subPixelOptimize:!0,shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:r(o.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0});t.group.add(g),f.push(g)}return f}(this,t,e);!function(t,e,i){if(g(t.axis))return;var a=t.get("axisLabel.showMinLabel"),n=t.get("axisLabel.showMaxLabel");e=e||[],i=i||[];var r=e[0],o=e[1],s=e[e.length-1],l=e[e.length-2],h=i[0],u=i[1],c=i[i.length-1],d=i[i.length-2];!1===a?(T(r),T(h)):b(r,o)&&(a?(T(o),T(u)):(T(r),T(h)));!1===n?(T(s),T(c)):b(l,s)&&(n?(T(l),T(d)):(T(s),T(c)))}(t,function(t,e,i){var a=e.axis;if(!n(i.axisLabelShow,e.get("axisLabel.show"))||a.scale.isBlank())return;var r=e.getModel("axisLabel"),o=r.get("margin"),l=a.getViewLabels(),c=(n(i.labelRotate,r.get("rotate"))||0)*C/180,d=S(i.rotation,c,i.labelDirection),f=e.getCategories&&e.getCategories(!0),p=[],m=I(e),v=e.get("triggerEvent");return s(l,function(n,s){var l=n.tickValue,c=n.formattedLabel,g=n.rawLabel,C=r;f&&f[l]&&f[l].textStyle&&(C=new u(f[l].textStyle,r,e.ecModel));var D=C.getTextColor()||e.get("axisLine.lineStyle.color"),y=[a.dataToCoord(l),i.labelOffset+i.labelDirection*o],S=new h.Text({anid:"label_"+l,position:y,rotation:d.rotation,silent:m,z2:10});h.setTextStyle(S.style,C,{text:c,textAlign:C.getShallow("align",!0)||d.textAlign,textVerticalAlign:C.getShallow("verticalAlign",!0)||C.getShallow("baseline",!0)||d.textVerticalAlign,textFill:"function"==typeof D?D("category"===a.type?g:"value"===a.type?l+"":l,s):D}),v&&(S.eventData=x(e),S.eventData.targetType="axisLabel",S.eventData.value=g),t._dumbGroup.add(S),S.updateTransform(),p.push(S),t.group.add(S),S.decomposeTransform()}),p}(this,t,e),i)},axisName:function(){var t=this.opt,e=this.axisModel,i=n(t.axisName,e.get("name"));if(i){var a,r,s=e.get("nameLocation"),u=t.nameDirection,c=e.getModel("nameTextStyle"),p=e.get("nameGap")||0,m=this.axisModel.axis.getExtent(),v=m[0]>m[1]?-1:1,g=["start"===s?m[0]-v*p:"end"===s?m[1]+v*p:(m[0]+m[1])/2,w(s)?t.labelOffset+u*p:0],D=e.get("nameRotate");null!=D&&(D=D*C/180),w(s)?a=S(t.rotation,null!=D?D:t.rotation,u):(a=function(t,e,i,a){var n,r,o=f(i-t.rotation),s=a[0]>a[1],l="start"===e&&!s||"start"!==e&&s;d(o-C/2)?(r=l?"bottom":"top",n="center"):d(o-1.5*C)?(r=l?"top":"bottom",n="center"):(r="middle",n=o<1.5*C&&o>C/2?l?"left":"right":l?"right":"left");return{rotation:o,textAlign:n,textVerticalAlign:r}}(t,s,D||0,m),null!=(r=t.axisNameAvailableWidth)&&(r=Math.abs(r/Math.sin(a.rotation)),!isFinite(r)&&(r=null)));var y=c.getFont(),T=e.get("nameTruncate",!0)||{},b=T.ellipsis,M=n(t.nameTruncateMaxWidth,T.maxWidth,r),E=null!=b&&null!=M?l.truncateText(i,M,y,b,{minChar:2,placeholder:T.placeholder}):i,A=e.get("tooltip",!0),_=e.mainType,L={componentType:_,name:i,$vars:["name"]};L[_+"Index"]=e.componentIndex;var F=new h.Text({anid:"name",__fullText:i,__truncatedText:E,position:g,rotation:a.rotation,silent:I(e),z2:1,tooltip:A&&A.show?o({content:i,formatter:function(){return i},formatterParams:L},A):null});h.setTextStyle(F.style,c,{text:E,textFont:y,textFill:c.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:c.get("align")||a.textAlign,textVerticalAlign:c.get("verticalAlign")||a.textVerticalAlign}),e.get("triggerEvent")&&(F.eventData=x(e),F.eventData.targetType="axisName",F.eventData.name=i),this._dumbGroup.add(F),F.updateTransform(),this.group.add(F),F.decomposeTransform()}}},x=D.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},S=D.innerTextLayout=function(t,e,i){var a,n,r=f(e-t);return d(r)?(n=i>0?"top":"bottom",a="center"):d(r-C)?(n=i>0?"bottom":"top",a="center"):(n="middle",a=r>0&&r<C?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:a,textVerticalAlign:n}};var I=D.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)};function T(t){t&&(t.ignore=!0)}function b(t,e,i){var a=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(a&&n){var r=m.identity([]);return m.rotate(r,r,-t.rotation),a.applyTransform(m.mul([],r,t.getLocalTransform())),n.applyTransform(m.mul([],r,e.getLocalTransform())),a.intersect(n)}}function w(t){return"middle"===t||"center"===t}var M=D;t.exports=M},vub9:function(t,e,i){var a=i("/gxq"),n=a.each,r=a.map,o=a.isFunction,s=a.createHashMap,l=a.noop,h=i("gV7x").createTask,u=i("h0jU").getUID,c=i("Rtf0"),d=i("uJBW"),f=i("vXqC").normalizeToArray;function p(t,e,i,a){this.ecInstance=t,this.api=e,this.unfinished;i=this._dataProcessorHandlers=i.slice(),a=this._visualHandlers=a.slice();this._allHandlers=i.concat(a),this._stageTaskMap=s()}var m=p.prototype;function v(t,e,i,a,r){var o;function s(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}r=r||{},n(e,function(e,n){if(!r.visualType||r.visualType===e.visualType){var l=t._stageTaskMap.get(e.uid),h=l.seriesTaskMap,u=l.overallTask;if(u){var c,d=u.agentStubMap;d.each(function(t){s(r,t)&&(t.dirty(),c=!0)}),c&&u.dirty(),g(u,a);var f=t.getPerformArgs(u,r.block);d.each(function(t){t.perform(f)}),o|=u.perform(f)}else h&&h.each(function(n,l){s(r,n)&&n.dirty();var h=t.getPerformArgs(n,r.block);h.skip=!e.performRawSeries&&i.isSeriesFiltered(n.context.model),g(n,a),o|=n.perform(h)})}}),t.unfinished|=o}m.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},m.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),a=i.context,n=!e&&i.progressiveEnabled&&(!a||a.progressiveRender)&&t.__idxInPipeline>i.blockIndex?i.step:null,r=a&&a.modDataCount;return{step:n,modBy:null!=r?Math.ceil(r/n):null,modDataCount:r}}},m.getPipeline=function(t){return this._pipelineMap.get(t)},m.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),a=t.getData().count(),n=i.progressiveEnabled&&e.incrementalPrepareRender&&a>=i.threshold,r=t.get("large")&&a>=t.get("largeThreshold"),o="mod"===t.get("progressiveChunkMode")?a:null;t.pipelineContext=i.context={progressiveRender:n,modDataCount:o,large:r}},m.restorePipelines=function(t){var e=this,i=e._pipelineMap=s();t.eachSeries(function(t){var a=t.getProgressive(),n=t.uid;i.set(n,{id:n,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:a&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),M(e,t,t.dataTask)})},m.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),i=this.api;n(this._allHandlers,function(a){var r=t.get(a.uid)||t.set(a.uid,[]);a.reset&&function(t,e,i,a,n){var r=i.seriesTaskMap||(i.seriesTaskMap=s()),o=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?a.eachRawSeries(u):o?a.eachRawSeriesByType(o,u):l&&l(a,n).each(u);function u(i){var o=i.uid,s=r.get(o)||r.set(o,h({plan:S,reset:I,count:w}));s.context={model:i,ecModel:a,api:n,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},M(t,i,s)}var c=t._pipelineMap;r.each(function(t,e){c.get(e)||(t.dispose(),r.removeKey(e))})}(this,a,r,e,i),a.overallReset&&function(t,e,i,a,r){var o=i.overallTask=i.overallTask||h({reset:C});o.context={ecModel:a,api:r,overallReset:e.overallReset,scheduler:t};var l=o.agentStubMap=o.agentStubMap||s(),u=e.seriesType,c=e.getTargetSeries,d=!0,f=e.modifyOutputEnd;u?a.eachRawSeriesByType(u,p):c?c(a,r).each(p):(d=!1,n(a.getSeries(),p));function p(e){var i=e.uid,a=l.get(i);a||(a=l.set(i,h({reset:D,onDirty:x})),o.dirty()),a.context={model:e,overallProgress:d,modifyOutputEnd:f},a.agent=o,a.__block=d,M(t,e,a)}var m=t._pipelineMap;l.each(function(t,e){m.get(e)||(t.dispose(),o.dirty(),l.removeKey(e))})}(this,a,r,e,i)},this)},m.prepareView=function(t,e,i,a){var n=t.renderTask,r=n.context;r.model=e,r.ecModel=i,r.api=a,n.__block=!t.incrementalPrepareRender,M(this,e,n)},m.performDataProcessorTasks=function(t,e){v(this,this._dataProcessorHandlers,t,e,{block:!0})},m.performVisualTasks=function(t,e,i){v(this,this._visualHandlers,t,e,i)},m.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},m.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var g=m.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)};function C(t){t.overallReset(t.ecModel,t.api,t.payload)}function D(t,e){return t.overallProgress&&y}function y(){this.agent.dirty(),this.getDownstream().dirty()}function x(){this.agent&&this.agent.dirty()}function S(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function I(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=f(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?r(e,function(t,e){return b(e)}):T}var T=b(0);function b(t){return function(e,i){var a=i.data,n=i.resetDefines[t];if(n&&n.dataEach)for(var r=e.start;r<e.end;r++)n.dataEach(a,r);else n&&n.progress&&n.progress(e,a)}}function w(t){return t.data.count()}function M(t,e,i){var a=e.uid,n=t._pipelineMap.get(a);!n.head&&(n.head=i),n.tail&&n.tail.pipe(i),n.tail=i,i.__idxInPipeline=n.count++,i.__pipeline=n}p.wrapStageHandler=function(t,e){return o(t)&&(t={overallReset:t,seriesType:function(t){E=null;try{t(A,_)}catch(t){}return E}(t)}),t.uid=u("stageHandler"),e&&(t.visualType=e),t};var E,A={},_={};function L(t,e){for(var i in e.prototype)t[i]=l}L(A,c),L(_,d),A.eachSeriesByType=A.eachRawSeriesByType=function(t){E=t},A.eachComponent=function(t){"series"===t.mainType&&t.subType&&(E=t.subType)};var F=p;t.exports=F},vx1D:function(t,e,i){var a=i("/gxq"),n=i("wWR3"),r=i("qVJQ").isDimensionStacked,o=a.indexOf;function s(t,e,i,a,o,s){var l=[],h=r(e,a)?e.getCalculationInfo("stackResultDimension"):a,u=c(e,h,t),d=e.indicesOfNearest(h,u)[0];l[o]=e.get(i,d),l[s]=e.get(a,d);var f=n.getPrecision(e.get(a,d));return(f=Math.min(f,20))>=0&&(l[s]=+l[s].toFixed(f)),l}var l=a.curry,h={min:l(s,"min"),max:l(s,"max"),average:l(s,"average")};function u(t,e,i,a){var n={};return null!=t.valueIndex||null!=t.valueDim?(n.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,n.valueAxis=i.getAxis(function(t,e){var i=t.getData(),a=i.dimensions;e=i.getDimension(e);for(var n=0;n<a.length;n++){var r=i.getDimensionInfo(a[n]);if(r.name===e)return r.coordDim}}(a,n.valueDataDim)),n.baseAxis=i.getOtherAxis(n.valueAxis),n.baseDataDim=e.mapDimension(n.baseAxis.dim)):(n.baseAxis=a.getBaseAxis(),n.valueAxis=i.getOtherAxis(n.baseAxis),n.baseDataDim=e.mapDimension(n.baseAxis.dim),n.valueDataDim=e.mapDimension(n.valueAxis.dim)),n}function c(t,e,i){if("average"===i){var a=0,n=0;return t.each(e,function(t,e){isNaN(t)||(a+=t,n++)}),a/n}return"median"===i?t.getMedian(e):t.getDataExtent(e,!0)["max"===i?1:0]}e.dataTransform=function(t,e){var i=t.getData(),n=t.coordinateSystem;if(e&&!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!a.isArray(e.coord)&&n){var r=n.dimensions,s=u(e,i,n,t);if((e=a.clone(e)).type&&h[e.type]&&s.baseAxis&&s.valueAxis){var l=o(r,s.baseAxis.dim),d=o(r,s.valueAxis.dim);e.coord=h[e.type](i,s.baseDataDim,s.valueDataDim,l,d),e.value=e.coord[d]}else{for(var f=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],p=0;p<2;p++)h[f[p]]&&(f[p]=c(i,i.mapDimension(r[p]),f[p]));e.coord=f}}return e},e.getAxisInfo=u,e.dataFilter=function(t,e){return!(t&&t.containData&&e.coord&&!function(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)},e.dimValueGetter=function(t,e,i,a){return a<2?t.coord&&t.coord[a]:t.value},e.numCalculate=c},vxwL:function(t,e,i){var a=i("0sHC").subPixelOptimize,n=i("CqCN"),r=i("wWR3").parsePercent,o=i("/gxq").retrieve2,s="undefined"!=typeof Float32Array?Float32Array:Array,l={seriesType:"candlestick",plan:n(),reset:function(t){var e=t.coordinateSystem,i=t.getData(),n=function(t,e){var i,a=t.getBaseAxis(),n="category"===a.type?a.getBandWidth():(i=a.getExtent(),Math.abs(i[1]-i[0])/e.count()),s=r(o(t.get("barMaxWidth"),n),n),l=r(o(t.get("barMinWidth"),1),n),h=t.get("barWidth");return null!=h?r(h,n):Math.max(Math.min(n/2,s),l)}(t,i),l=0,u=1,c=["x","y"],d=i.mapDimension(c[l]),f=i.mapDimension(c[u],!0),p=f[0],m=f[1],v=f[2],g=f[3];if(i.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),!(null==d||f.length<4))return{progress:t.pipelineContext.large?function(t,i){var a,n,r=new s(4*t.count),o=0,c=[],f=[];for(;null!=(n=t.next());){var C=i.get(d,n),D=i.get(p,n),y=i.get(m,n),x=i.get(v,n),S=i.get(g,n);isNaN(C)||isNaN(x)||isNaN(S)?(r[o++]=NaN,o+=3):(r[o++]=h(i,n,D,y,m),c[l]=C,c[u]=x,a=e.dataToPoint(c,null,f),r[o++]=a?a[0]:NaN,r[o++]=a?a[1]:NaN,c[u]=S,a=e.dataToPoint(c,null,f),r[o++]=a?a[1]:NaN)}i.setLayout("largePoints",r)}:function(t,i){var r;for(;null!=(r=t.next());){var o=i.get(d,r),s=i.get(p,r),c=i.get(m,r),f=i.get(v,r),C=i.get(g,r),D=Math.min(s,c),y=Math.max(s,c),x=w(D,o),S=w(y,o),I=w(f,o),T=w(C,o),b=[];M(b,S,0),M(b,x,1),b.push(A(T),A(S),A(I),A(x)),i.setItemLayout(r,{sign:h(i,r,s,c,m),initBaseline:s>c?S[u]:x[u],ends:b,brushRect:E(f,C,o)})}function w(t,i){var a=[];return a[l]=i,a[u]=t,isNaN(i)||isNaN(t)?[NaN,NaN]:e.dataToPoint(a)}function M(t,e,i){var r=e.slice(),o=e.slice();r[l]=a(r[l]+n/2,1,!1),o[l]=a(o[l]-n/2,1,!0),i?t.push(r,o):t.push(o,r)}function E(t,e,i){var a=w(t,i),r=w(e,i);return a[l]-=n/2,r[l]-=n/2,{x:a[0],y:a[1],width:u?n:r[0]-a[0],height:u?r[1]-a[1]:n}}function A(t){return t[l]=a(t[l],1),t}}}}};function h(t,e,i,a,n){return i>a?-1:i<a?1:e>0?t.get(n,e-1)<=a?1:-1:1}t.exports=l},"w2H/":function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("NUWb"),o=i("HGSA"),s=a.PRIORITY.VISUAL.COMPONENT;function l(t,e,i,a){for(var n=e.targetVisuals[a],r=o.prepareVisualTypes(n),s={color:t.getData().getVisual("color")},l=0,h=r.length;l<h;l++){var u=r[l],c=n["opacity"===u?"__alphaForOpacity":u];c&&c.applyVisual(i,d,f)}return s.color;function d(t){return s[t]}function f(t,e){s[t]=e}}a.registerVisual(s,{createOnAllSeries:!0,reset:function(t,e){var i=[];return e.eachComponent("visualMap",function(e){var a=t.pipelineContext;!e.isTargetSeries(t)||a&&a.large||i.push(r.incrementalApplyVisual(e.stateList,e.targetVisuals,n.bind(e.getValueState,e),e.getDataDimension(t.getData())))}),i}}),a.registerVisual(s,{createOnAllSeries:!0,reset:function(t,e){var i=t.getData(),a=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var r=e.getVisualMeta(n.bind(l,null,t,e))||{stops:[],outerColors:[]},o=e.getDataDimension(i),s=i.getDimensionInfo(o);null!=s&&(r.dimension=s.index,a.push(r))}}),t.getData().setVisual("visualMeta",a)}})},w6Zv:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("0sHC"),o=i("HHfb"),s=i("wWR3"),l={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},h={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},u=a.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,i){var a=this.group;a.removeAll();var n=t.coordinateSystem,r=n.getRangeInfo(),o=n.getOrient();this._renderDayRect(t,r,a),this._renderLines(t,r,o,a),this._renderYearText(t,r,o,a),this._renderMonthText(t,o,a),this._renderWeekText(t,r,o,a)},_renderDayRect:function(t,e,i){for(var a=t.coordinateSystem,n=t.getModel("itemStyle").getItemStyle(),o=a.getCellWidth(),s=a.getCellHeight(),l=e.start.time;l<=e.end.time;l=a.getNextNDay(l,1).time){var h=a.dataToRect([l],!1).tl,u=new r.Rect({shape:{x:h[0],y:h[1],width:o,height:s},cursor:"default",style:n});i.add(u)}},_renderLines:function(t,e,i,a){var n=this,r=t.coordinateSystem,o=t.getModel("splitLine.lineStyle").getLineStyle(),s=t.get("splitLine.show"),l=o.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=e.start,u=0;h.time<=e.end.time;u++){d(h.formatedDate),0===u&&(h=r.getDateInfo(e.start.y+"-"+e.start.m));var c=h.date;c.setMonth(c.getMonth()+1),h=r.getDateInfo(c)}function d(e){n._firstDayOfMonth.push(r.getDateInfo(e)),n._firstDayPoints.push(r.dataToRect([e],!1).tl);var l=n._getLinePointsOfOneWeek(t,e,i);n._tlpoints.push(l[0]),n._blpoints.push(l[l.length-1]),s&&n._drawSplitline(l,o,a)}d(r.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(n._getEdgesPoints(n._tlpoints,l,i),o,a),s&&this._drawSplitline(n._getEdgesPoints(n._blpoints,l,i),o,a)},_getEdgesPoints:function(t,e,i){var a=[t[0].slice(),t[t.length-1].slice()],n="horizontal"===i?0:1;return a[0][n]=a[0][n]-e/2,a[1][n]=a[1][n]+e/2,a},_drawSplitline:function(t,e,i){var a=new r.Polyline({z2:20,shape:{points:t},style:e});i.add(a)},_getLinePointsOfOneWeek:function(t,e,i){var a=t.coordinateSystem;e=a.getDateInfo(e);for(var n=[],r=0;r<7;r++){var o=a.getNextNDay(e.time,r),s=a.dataToRect([o.time],!1);n[2*o.day]=s.tl,n[2*o.day+1]=s["horizontal"===i?"bl":"tr"]}return n},_formatterLabel:function(t,e){return"string"==typeof t&&t?o.formatTplSimple(t,e):"function"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,i,a,n){e=e.slice();var r=["center","bottom"];"bottom"===a?(e[1]+=n,r=["center","top"]):"left"===a?e[0]-=n:"right"===a?(e[0]+=n,r=["center","top"]):e[1]-=n;var o=0;return"left"!==a&&"right"!==a||(o=Math.PI/2),{rotation:o,position:e,style:{textAlign:r[0],textVerticalAlign:r[1]}}},_renderYearText:function(t,e,i,a){var n=t.getModel("yearLabel");if(n.get("show")){var o=n.get("margin"),s=n.get("position");s||(s="horizontal"!==i?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(l[0][0]+l[1][0])/2,u=(l[0][1]+l[1][1])/2,c="horizontal"===i?0:1,d={top:[h,l[c][1]],bottom:[h,l[1-c][1]],left:[l[1-c][0],u],right:[l[c][0],u]},f=e.start.y;+e.end.y>+e.start.y&&(f=f+"-"+e.end.y);var p=n.get("formatter"),m={start:e.start.y,end:e.end.y,nameMap:f},v=this._formatterLabel(p,m),g=new r.Text({z2:30});r.setTextStyle(g.style,n,{text:v}),g.attr(this._yearTextPositionControl(g,d[s],i,s,o)),a.add(g)}},_monthTextPositionControl:function(t,e,i,a,n){var r="left",o="top",s=t[0],l=t[1];return"horizontal"===i?(l+=n,e&&(r="center"),"start"===a&&(o="bottom")):(s+=n,e&&(o="middle"),"start"===a&&(r="right")),{x:s,y:l,textAlign:r,textVerticalAlign:o}},_renderMonthText:function(t,e,i){var a=t.getModel("monthLabel");if(a.get("show")){var o=a.get("nameMap"),s=a.get("margin"),h=a.get("position"),u=a.get("align"),c=[this._tlpoints,this._blpoints];n.isString(o)&&(o=l[o.toUpperCase()]||[]);var d="start"===h?0:1,f="horizontal"===e?0:1;s="start"===h?-s:s;for(var p="center"===u,m=0;m<c[d].length-1;m++){var v=c[d][m].slice(),g=this._firstDayOfMonth[m];if(p){var C=this._firstDayPoints[m];v[f]=(C[f]+c[0][m+1][f])/2}var D=a.get("formatter"),y=o[+g.m-1],x={yyyy:g.y,yy:(g.y+"").slice(2),MM:g.m,M:+g.m,nameMap:y},S=this._formatterLabel(D,x),I=new r.Text({z2:30});n.extend(r.setTextStyle(I.style,a,{text:S}),this._monthTextPositionControl(v,p,e,h,s)),i.add(I)}}},_weekTextPositionControl:function(t,e,i,a,n){var r="center",o="middle",s=t[0],l=t[1],h="start"===i;return"horizontal"===e?(s=s+a+(h?1:-1)*n[0]/2,r=h?"right":"left"):(l=l+a+(h?1:-1)*n[1]/2,o=h?"bottom":"top"),{x:s,y:l,textAlign:r,textVerticalAlign:o}},_renderWeekText:function(t,e,i,a){var o=t.getModel("dayLabel");if(o.get("show")){var l=t.coordinateSystem,u=o.get("position"),c=o.get("nameMap"),d=o.get("margin"),f=l.getFirstDayOfWeek();n.isString(c)&&(c=h[c.toUpperCase()]||[]);var p=l.getNextNDay(e.end.time,7-e.lweek).time,m=[l.getCellWidth(),l.getCellHeight()];d=s.parsePercent(d,m["horizontal"===i?0:1]),"start"===u&&(p=l.getNextNDay(e.start.time,-(7+e.fweek)).time,d=-d);for(var v=0;v<7;v++){var g,C=l.getNextNDay(p,v),D=l.dataToRect([C.time],!1).center;g=Math.abs((v+f)%7);var y=new r.Text({z2:30});n.extend(r.setTextStyle(y.style,o,{text:c[g]}),this._weekTextPositionControl(D,i,u,d,m)),a.add(y)}}}});t.exports=u},wBZN:function(t,e,i){var a=i("jF+B"),n=i("X0RI"),r=i("EuP9").Buffer;function o(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(t){this.degree=t,this.genPoly=n.generateECPolynomial(this.degree)},o.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=a.alloc(this.degree),i=r.concat([t,e],t.length+this.degree),o=n.mod(i,this.genPoly),s=this.degree-o.length;if(s>0){var l=a.alloc(this.degree);return o.copy(l,s),l}return o},t.exports=o},wEU0:function(t,e){t.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},wH4Y:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("YNzw"),o=i("B123"),s=i("HGSA"),l=i("NUWb"),h=i("vXqC"),u=i("wWR3"),c=s.mapVisual,d=s.eachVisual,f=n.isArray,p=n.each,m=u.asc,v=u.linearMap,g=n.noop,C=a.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,i)},optionUpdated:function(t,e){var i=this.option;r.canvasSupported||(i.realtime=!1),!e&&l.replaceVisualOption(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=n.bind(t,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,e,t),this.targetVisuals=l.createVisualMappings(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,i){e.push(i)}):e=h.normalizeToArray(t),e},eachTargetSeries:function(t,e){n.each(this.getTargetSeriesIndices(),function(i){t.call(e,this.ecModel.getSeriesByIndex(i))},this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries(function(i){i===t&&(e=!0)}),e},formatValueText:function(t,e,i){var a,r,o=this.option,s=o.precision,l=this.dataBound,h=o.formatter;return i=i||["<",">"],n.isArray(t)&&(t=t.slice(),a=!0),r=e?t:a?[u(t[0]),u(t[1])]:u(t),n.isString(h)?h.replace("{value}",a?r[0]:r).replace("{value2}",a?r[1]:r):n.isFunction(h)?a?h(t[0],t[1]):h(t):a?t[0]===l[0]?i[0]+" "+r[1]:t[1]===l[1]?i[1]+" "+r[0]:r[0]+" - "+r[1]:r;function u(t){return t===l[0]?"min":t===l[1]?"max":(+t).toFixed(Math.min(s,20))}},resetExtent:function(){var t=this.option,e=m([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension,i=t.dimensions;if(null!=e||i.length){if(null!=e)return t.getDimension(e);for(var a=t.dimensions,n=a.length-1;n>=0;n--){var r=a[n];if(!t.getDimensionInfo(r).isCalculationCoord)return r}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var t=this.ecModel,e=this.option,i={inRange:e.inRange,outOfRange:e.outOfRange},a=e.target||(e.target={}),r=e.controller||(e.controller={});n.merge(a,i),n.merge(r,i);var l=this.isCategory();function h(i){f(e.color)&&!i.inRange&&(i.inRange={color:e.color.slice().reverse()}),i.inRange=i.inRange||{color:t.get("gradientColor")},p(this.stateList,function(t){var e=i[t];if(n.isString(e)){var a=o.get(e,"active",l);a?(i[t]={},i[t][e]=a):delete i[t]}},this)}h.call(this,a),h.call(this,r),function(t,e,i){var a=t[e],n=t[i];a&&!n&&(n=t[i]={},p(a,function(t,e){if(s.isValidType(e)){var i=o.get(e,"inactive",l);null!=i&&(n[e]=i,"color"!==e||n.hasOwnProperty("opacity")||n.hasOwnProperty("colorAlpha")||(n.opacity=[0,0]))}}))}.call(this,a,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,i=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,a=this.get("inactiveColor");p(this.stateList,function(r){var o=this.itemSize,s=t[r];s||(s=t[r]={color:l?a:[a]}),null==s.symbol&&(s.symbol=e&&n.clone(e)||(l?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=i&&n.clone(i)||(l?o[0]:[o[0],o[0]])),s.symbol=c(s.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var h=s.symbolSize;if(null!=h){var u=-1/0;d(h,function(t){t>u&&(u=t)}),s.symbolSize=c(h,function(t){return v(t,[0,u],[0,o[0]],!0)})}},this)}.call(this,r)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:g,getValueState:g,getVisualMeta:g});t.exports=C},wLWv:function(t,e,i){var a=i("/gxq"),n=i("0sHC"),r=i("1Xuh"),o=i("8RN9"),s=n.Group,l=["width","height"],h=["x","y"],u=o.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){u.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new s),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new s),this._showController},resetInner:function(){u.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,i,r,o,s,l){var h=this;u.superCall(this,"renderInner",t,e,i,r,o,s,l);var c=this._controllerGroup,d=e.get("pageIconSize",!0);a.isArray(d)||(d=[d,d]),p("pagePrev",0);var f=e.getModel("pageTextStyle");function p(t,i){var o=t+"DataIndex",s=n.createIcon(e.get("pageIcons",!0)[e.getOrient().name][i],{onclick:a.bind(h._pageGo,h,o,e,r)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});s.name=t,c.add(s)}c.add(new n.Text({name:"pageText",style:{textFill:f.getTextColor(),font:f.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),p("pageNext",1)},layoutInner:function(t,e,i,n,o,s){var u=this.getSelectorGroup(),c=t.getOrient().index,d=l[c],f=h[c],p=l[1-c],m=h[1-c];o&&r.box("horizontal",u,t.get("selectorItemGap",!0));var v=t.get("selectorButtonGap",!0),g=u.getBoundingRect(),C=[-g.x,-g.y],D=a.clone(i);o&&(D[d]=i[d]-g[d]-v);var y=this._layoutContentAndController(t,n,D,c,d,p,m);if(o){if("end"===s)C[c]+=y[d]+v;else{var x=g[d]+v;C[c]-=x,y[f]-=x}y[d]+=g[d]+v,C[1-c]+=y[m]+y[p]/2-g[p]/2,y[p]=Math.max(y[p],g[p]),y[m]=Math.min(y[m],g[m]+C[1-c]),u.attr("position",C)}return y},_layoutContentAndController:function(t,e,i,o,s,l,h){var u=this.getContentGroup(),c=this._containerGroup,d=this._controllerGroup;r.box(t.get("orient"),u,t.get("itemGap"),o?i.width:null,o?null:i.height),r.box("horizontal",d,t.get("pageButtonItemGap",!0));var f=u.getBoundingRect(),p=d.getBoundingRect(),m=this._showController=f[s]>i[s],v=[-f.x,-f.y];e||(v[o]=u.position[o]);var g=[0,0],C=[-p.x,-p.y],D=a.retrieve2(t.get("pageButtonGap",!0),t.get("itemGap",!0));m&&("end"===t.get("pageButtonPosition",!0)?C[o]+=i[s]-p[s]:g[o]+=p[s]+D);C[1-o]+=f[l]/2-p[l]/2,u.attr("position",v),c.attr("position",g),d.attr("position",C);var y={x:0,y:0};if(y[s]=m?i[s]:f[s],y[l]=Math.max(f[l],p[l]),y[h]=Math.min(0,p[h]+C[1-o]),c.__rectSize=i[s],m){var x={x:0,y:0};x[s]=Math.max(i[s]-p[s]-D,0),x[l]=y[l],c.setClipPath(new n.Rect({shape:x})),c.__rectSize=x[s]}else d.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var S=this._getPageInfo(t);return null!=S.pageIndex&&n.updateProps(u,{position:S.contentPosition},!!m&&t),this._updatePageInfoView(t,S),y},_pageGo:function(t,e,i){var a=this._getPageInfo(e)[t];null!=a&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:e.id})},_updatePageInfoView:function(t,e){var i=this._controllerGroup;a.each(["pagePrev","pageNext"],function(a){var n=null!=e[a+"DataIndex"],r=i.childOfName(a);r&&(r.setStyle("fill",n?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),r.cursor=n?"pointer":"default")});var n=i.childOfName("pageText"),r=t.get("pageFormatter"),o=e.pageIndex,s=null!=o?o+1:0,l=e.pageCount;n&&r&&n.setStyle("text",a.isString(r)?r.replace("{current}",s).replace("{total}",l):r({current:s,total:l}))},_getPageInfo:function(t){var e=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,n=t.getOrient().index,r=l[n],o=h[n],s=this._findTargetItemIndex(e),u=i.children(),c=u[s],d=u.length,f=d?1:0,p={contentPosition:i.position.slice(),pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return p;var m=y(c);p.contentPosition[n]=-m.s;for(var v=s+1,g=m,C=m,D=null;v<=d;++v)(!(D=y(u[v]))&&C.e>g.s+a||D&&!x(D,g.s))&&(g=C.i>g.i?C:D)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=g.i),++p.pageCount),C=D;for(v=s-1,g=m,C=m,D=null;v>=-1;--v)(D=y(u[v]))&&x(C,D.s)||!(g.i<C.i)||(C=g,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=g.i),++p.pageCount,++p.pageIndex),g=D;return p;function y(t){if(t){var e=t.getBoundingRect(),i=e[o]+t.position[n];return{s:i,e:i+e[r],i:t.__legendDataIndex}}}function x(t,e){return t.e>=e&&t.s<=e+a}},_findTargetItemIndex:function(t){var e,i,a=this.getContentGroup();return this._showController&&a.eachChild(function(a,n){var r=a.__legendDataIndex;null==i&&null!=r&&(i=n),r===t&&(e=n)}),null!=e?e:i}}),c=u;t.exports=c},wQkr:function(t,e,i){i("XuY+"),i("v/z1")},wRzc:function(t,e){var i=function(t){this.colorStops=t||[]};i.prototype={constructor:i,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var a=i;t.exports=a},wTOJ:function(t,e,i){var a=i("1Xuh"),n=i("/gxq"),r=i("vXqC").groupData;function o(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&e.depth>=0}function s(t,e,i,a,r){var o="vertical"===r?"x":"y";n.each(t,function(t){var n,s,l;t.sort(function(t,e){return t.getLayout()[o]-e.getLayout()[o]});for(var h=0,u=t.length,c="vertical"===r?"dx":"dy",d=0;d<u;d++)(l=h-(s=t[d]).getLayout()[o])>0&&(n=s.getLayout()[o]+l,"vertical"===r?s.setLayout({x:n},!0):s.setLayout({y:n},!0)),h=s.getLayout()[o]+s.getLayout()[c]+e;if((l=h-e-("vertical"===r?a:i))>0)for(n=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:n},!0):s.setLayout({y:n},!0),h=n,d=u-2;d>=0;--d)(l=(s=t[d]).getLayout()[o]+s.getLayout()[c]+e-h)>0&&(n=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:n},!0):s.setLayout({y:n},!0)),h=s.getLayout()[o]})}function l(t,e,i){n.each(t.slice().reverse(),function(t){n.each(t,function(t){if(t.outEdges.length){var a=f(t.outEdges,h,i)/f(t.outEdges,d,i);if("vertical"===i){var n=t.getLayout().x+(a-c(t,i))*e;t.setLayout({x:n},!0)}else{var r=t.getLayout().y+(a-c(t,i))*e;t.setLayout({y:r},!0)}}})})}function h(t,e){return c(t.node2,e)*t.getValue()}function u(t,e){return c(t.node1,e)*t.getValue()}function c(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function d(t){return t.getValue()}function f(t,e,i){for(var a=0,n=t.length,r=-1;++r<n;){var o=+e.call(t,t[r],i);isNaN(o)||(a+=o)}return a}function p(t,e,i){n.each(t,function(t){n.each(t,function(t){if(t.inEdges.length){var a=f(t.inEdges,u,i)/f(t.inEdges,d,i);if("vertical"===i){var n=t.getLayout().x+(a-c(t,i))*e;t.setLayout({x:n},!0)}else{var r=t.getLayout().y+(a-c(t,i))*e;t.setLayout({y:r},!0)}}})})}t.exports=function(t,e,i){t.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),h=t.get("nodeGap"),u=function(t,e){return a.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=u;var c=u.width,m=u.height,v=t.getGraph(),g=v.nodes,C=v.edges;!function(t){n.each(t,function(t){var e=f(t.outEdges,d),i=f(t.inEdges,d),a=Math.max(e,i);t.setLayout({value:a},!0)})}(g),function(t,e,i,a,h,u,c,d,f){(function(t,e,i,a,r,s,l){for(var h=[],u=[],c=[],d=[],f=0,p=0;p<e.length;p++)h[p]=1;for(p=0;p<t.length;p++)u[p]=t[p].inEdges.length,0===u[p]&&c.push(t[p]);for(var m=-1;c.length;){for(var v=0;v<c.length;v++){var g=c[v],C=g.hostGraph.data.getRawDataItem(g.dataIndex),D=null!=C.depth&&C.depth>=0;D&&C.depth>m&&(m=C.depth),g.setLayout({depth:D?C.depth:f},!0),"vertical"===s?g.setLayout({dy:i},!0):g.setLayout({dx:i},!0);for(var y=0;y<g.outEdges.length;y++){var x=g.outEdges[y],S=e.indexOf(x);h[S]=0;var I=x.node2,T=t.indexOf(I);0==--u[T]&&d.indexOf(I)<0&&d.push(I)}}++f,c=d,d=[]}for(p=0;p<h.length;p++)if(1===h[p])throw new Error("Sankey is a DAG, the original data has cycle!");var b=m>f-1?m:f-1;l&&"left"!==l&&function(t,e,i,a){if("right"===e){for(var r=[],s=t,l=0;s.length;){for(var h=0;h<s.length;h++){var u=s[h];u.setLayout({skNodeHeight:l},!0);for(var c=0;c<u.inEdges.length;c++){var d=u.inEdges[c];r.indexOf(d.node1)<0&&r.push(d.node1)}}s=r,r=[],++l}n.each(t,function(t){o(t)||t.setLayout({depth:Math.max(0,a-t.getLayout().skNodeHeight)},!0)})}else"justify"===e&&function(t,e){n.each(t,function(t){o(t)||t.outEdges.length||t.setLayout({depth:e},!0)})}(t,a)}(t,l,0,b),function(t,e,i){n.each(t,function(t){var a=t.getLayout().depth*e;"vertical"===i?t.setLayout({y:a},!0):t.setLayout({x:a},!0)})}(t,"vertical"===s?(r-i)/b:(a-i)/b,s)})(t,e,i,h,u,d,f),function(t,e,i,a,o,h,u){var c=function(t,e){var i=[],a="vertical"===e?"y":"x",o=r(t,function(t){return t.getLayout()[a]});return o.keys.sort(function(t,e){return t-e}),n.each(o.keys,function(t){i.push(o.buckets.get(t))}),i}(t,u);(function(t,e,i,a,r,o){var s=1/0;n.each(t,function(t){var e=t.length,l=0;n.each(t,function(t){l+=t.getLayout().value});var h="vertical"===o?(a-(e-1)*r)/l:(i-(e-1)*r)/l;h<s&&(s=h)}),n.each(t,function(t){n.each(t,function(t,e){var i=t.getLayout().value*s;"vertical"===o?(t.setLayout({x:e},!0),t.setLayout({dx:i},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:i},!0))})}),n.each(e,function(t){var e=+t.getValue()*s;t.setLayout({dy:e},!0)})})(c,e,i,a,o,u),s(c,o,i,a,u);for(var d=1;h>0;h--)l(c,d*=.99,u),s(c,o,i,a,u),p(c,d,u),s(c,o,i,a,u)}(t,e,u,h,a,c,d),function(t,e){var i="vertical"===e?"x":"y";n.each(t,function(t){t.outEdges.sort(function(t,e){return t.node2.getLayout()[i]-e.node2.getLayout()[i]}),t.inEdges.sort(function(t,e){return t.node1.getLayout()[i]-e.node1.getLayout()[i]})}),n.each(t,function(t){var e=0,i=0;n.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),n.each(t.inEdges,function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy})})}(t,d)}(g,C,i,h,c,m,0!==n.filter(g,function(t){return 0===t.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}},wUOi:function(t,e,i){var a=i("C7PF"),n=i("AAi1"),r=Math.min,o=Math.max,s=Math.sin,l=Math.cos,h=2*Math.PI,u=a.create(),c=a.create(),d=a.create();var f=[],p=[];e.fromPoints=function(t,e,i){if(0!==t.length){var a,n=t[0],s=n[0],l=n[0],h=n[1],u=n[1];for(a=1;a<t.length;a++)n=t[a],s=r(s,n[0]),l=o(l,n[0]),h=r(h,n[1]),u=o(u,n[1]);e[0]=s,e[1]=h,i[0]=l,i[1]=u}},e.fromLine=function(t,e,i,a,n,s){n[0]=r(t,i),n[1]=r(e,a),s[0]=o(t,i),s[1]=o(e,a)},e.fromCubic=function(t,e,i,a,s,l,h,u,c,d){var m,v=n.cubicExtrema,g=n.cubicAt,C=v(t,i,s,h,f);for(c[0]=1/0,c[1]=1/0,d[0]=-1/0,d[1]=-1/0,m=0;m<C;m++){var D=g(t,i,s,h,f[m]);c[0]=r(D,c[0]),d[0]=o(D,d[0])}for(C=v(e,a,l,u,p),m=0;m<C;m++){var y=g(e,a,l,u,p[m]);c[1]=r(y,c[1]),d[1]=o(y,d[1])}c[0]=r(t,c[0]),d[0]=o(t,d[0]),c[0]=r(h,c[0]),d[0]=o(h,d[0]),c[1]=r(e,c[1]),d[1]=o(e,d[1]),c[1]=r(u,c[1]),d[1]=o(u,d[1])},e.fromQuadratic=function(t,e,i,a,s,l,h,u){var c=n.quadraticExtremum,d=n.quadraticAt,f=o(r(c(t,i,s),1),0),p=o(r(c(e,a,l),1),0),m=d(t,i,s,f),v=d(e,a,l,p);h[0]=r(t,s,m),h[1]=r(e,l,v),u[0]=o(t,s,m),u[1]=o(e,l,v)},e.fromArc=function(t,e,i,n,r,o,f,p,m){var v=a.min,g=a.max,C=Math.abs(r-o);if(C%h<1e-4&&C>1e-4)return p[0]=t-i,p[1]=e-n,m[0]=t+i,void(m[1]=e+n);if(u[0]=l(r)*i+t,u[1]=s(r)*n+e,c[0]=l(o)*i+t,c[1]=s(o)*n+e,v(p,u,c),g(m,u,c),(r%=h)<0&&(r+=h),(o%=h)<0&&(o+=h),r>o&&!f?o+=h:r<o&&f&&(r+=h),f){var D=o;o=r,r=D}for(var y=0;y<o;y+=Math.PI/2)y>r&&(d[0]=l(y)*i+t,d[1]=s(y)*n+e,v(p,d,p),g(m,d,m))}},wW3A:function(t,e,i){var a=i("wWR3"),n=a.round;function r(t){return a.getPrecisionSafe(t)+2}function o(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function s(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),o(t,0,e),o(t,1,e),t[0]>t[1]&&(t[0]=t[1])}e.intervalScaleNiceTicks=function(t,e,i,o){var l={},h=t[1]-t[0],u=l.interval=a.nice(h/e,!0);null!=i&&u<i&&(u=l.interval=i),null!=o&&u>o&&(u=l.interval=o);var c=l.intervalPrecision=r(u);return s(l.niceTickExtent=[n(Math.ceil(t[0]/u)*u,c),n(Math.floor(t[1]/u)*u,c)],t),l},e.getIntervalPrecision=r,e.fixExtent=s,e.intervalScaleGetTicks=function(t,e,i,a){var r=[];if(!t)return r;e[0]<i[0]&&r.push(e[0]);for(var o=i[0];o<=i[1]&&(r.push(o),(o=n(o+t,a))!==r[r.length-1]);)if(r.length>1e4)return[];return e[1]>(r.length?r[r.length-1]:i[1])&&r.push(e[1]),r}},wWR3:function(t,e,i){var a=i("/gxq"),n=1e-4;var r=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function o(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}e.linearMap=function(t,e,i,a){var n=e[1]-e[0],r=i[1]-i[0];if(0===n)return 0===r?i[0]:(i[0]+i[1])/2;if(a)if(n>0){if(t<=e[0])return i[0];if(t>=e[1])return i[1]}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/n*r+i[0]},e.parsePercent=function(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?(i=t,i.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var i},e.round=function(t,e,i){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),i?t:+t},e.asc=function(t){return t.sort(function(t,e){return t-e}),t},e.getPrecision=function(t){if(t=+t,isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i},e.getPrecisionSafe=function(t){var e=t.toString(),i=e.indexOf("e");if(i>0){var a=+e.slice(i+1);return a<0?-a:0}var n=e.indexOf(".");return n<0?0:e.length-1-n},e.getPixelPrecision=function(t,e){var i=Math.log,a=Math.LN10,n=Math.floor(i(t[1]-t[0])/a),r=Math.round(i(Math.abs(e[1]-e[0]))/a),o=Math.min(Math.max(-n+r,0),20);return isFinite(o)?o:20},e.getPercentWithPrecision=function(t,e,i){if(!t[e])return 0;var n=a.reduce(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===n)return 0;for(var r=Math.pow(10,i),o=a.map(t,function(t){return(isNaN(t)?0:t)/n*r*100}),s=100*r,l=a.map(o,function(t){return Math.floor(t)}),h=a.reduce(l,function(t,e){return t+e},0),u=a.map(o,function(t,e){return t-l[e]});h<s;){for(var c=Number.NEGATIVE_INFINITY,d=null,f=0,p=u.length;f<p;++f)u[f]>c&&(c=u[f],d=f);++l[d],u[d]=0,++h}return l[e]/r},e.MAX_SAFE_INTEGER=9007199254740991,e.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},e.isRadianAroundZero=function(t){return t>-n&&t<n},e.parseDate=function(t){if(t instanceof Date)return t;if("string"==typeof t){var e=r.exec(t);if(!e)return new Date(NaN);if(e[8]){var i=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(i-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,i,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))},e.quantity=function(t){return Math.pow(10,o(t))},e.quantityExponent=o,e.nice=function(t,e){var i=o(t),a=Math.pow(10,i),n=t/a;return t=(e?n<1.5?1:n<2.5?2:n<4?3:n<7?5:10:n<1?1:n<2?2:n<3?3:n<5?5:10)*a,i>=-20?+t.toFixed(i<0?-i:0):t},e.quantile=function(t,e){var i=(t.length-1)*e+1,a=Math.floor(i),n=+t[a-1],r=i-a;return r?n+r*(t[a]-n):n},e.reformIntervals=function(t){t.sort(function(t,e){return function t(e,i,a){return e.interval[a]<i.interval[a]||e.interval[a]===i.interval[a]&&(e.close[a]-i.close[a]==(a?-1:1)||!a&&t(e,i,1))}(t,e,0)?-1:1});for(var e=-1/0,i=1,a=0;a<t.length;){for(var n=t[a].interval,r=t[a].close,o=0;o<2;o++)n[o]<=e&&(n[o]=e,r[o]=o?1:1-i),e=n[o],i=r[o];n[0]===n[1]&&r[0]*r[1]!=1?t.splice(a,1):a++}return t},e.isNumeric=function(t){return t-parseFloat(t)>=0}},whrq:function(t,e,i){var a=i("/gxq"),n=i("vXqC"),r=i("Y5nL"),o=i("Pdtn"),s=i("kQD9"),l=i("srbS"),h=r.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(t){r.prototype.init.apply(this,arguments),n.defaultEmphasis(t,"label",["show"])},optionUpdated:function(){var t=this.option,e=this;t.regions=l.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=a.reduce(t.regions||[],function(t,i){return i.name&&t.set(i.name,new o(i,e)),t},a.createHashMap()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new o(null,this,this.ecModel)},getFormattedLabel:function(t,e){var i=this.getRegionModel(t).get("label"+("normal"===e?".":e+".")+"formatter"),a={name:t};return"function"==typeof i?(a.status=e,i(a)):"string"==typeof i?i.replace("{a}",null!=t?t:""):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});a.mixin(h,s);var u=h;t.exports=u},woOf:function(t,e,i){t.exports={default:i("V3tA"),__esModule:!0}},wvfG:function(t,e,i){var a=i("W1rN"),n={autoSetContainer:!1,appendToBody:!0},r={install:function(t){t.prototype.$clipboardConfig=n,t.prototype.$copyText=function(t,e){return new Promise(function(i,r){var o=document.createElement("button"),s=new a(o,{text:function(){return t},action:function(){return"copy"},container:"object"==typeof e?e:document.body});s.on("success",function(t){s.destroy(),i(t)}),s.on("error",function(t){s.destroy(),r(t)}),n.appendToBody&&document.body.appendChild(o),o.click(),n.appendToBody&&document.body.removeChild(o)})},t.directive("clipboard",{bind:function(t,e,i){if("success"===e.arg)t._vClipboard_success=e.value;else if("error"===e.arg)t._vClipboard_error=e.value;else{var r=new a(t,{text:function(){return e.value},action:function(){return"cut"===e.arg?"cut":"copy"},container:n.autoSetContainer?t:void 0});r.on("success",function(e){var i=t._vClipboard_success;i&&i(e)}),r.on("error",function(e){var i=t._vClipboard_error;i&&i(e)}),t._vClipboard=r}},update:function(t,e){"success"===e.arg?t._vClipboard_success=e.value:"error"===e.arg?t._vClipboard_error=e.value:(t._vClipboard.text=function(){return e.value},t._vClipboard.action=function(){return"cut"===e.arg?"cut":"copy"})},unbind:function(t,e){"success"===e.arg?delete t._vClipboard_success:"error"===e.arg?delete t._vClipboard_error:(t._vClipboard.destroy(),delete t._vClipboard)}})},config:n};t.exports=r},xCbH:function(t,e,i){var a=i("/gxq"),n=i("/+sa"),r=i("wWR3"),o=i("tBuv"),s=n.prototype,l=o.prototype,h=r.getPrecisionSafe,u=r.round,c=Math.floor,d=Math.ceil,f=Math.pow,p=Math.log,m=n.extend({type:"log",base:10,$constructor:function(){n.apply(this,arguments),this._originalScale=new o},getTicks:function(){var t=this._originalScale,e=this._extent,i=t.getExtent();return a.map(l.getTicks.call(this),function(a){var n=r.round(f(this.base,a));return n=a===e[0]&&t.__fixMin?v(n,i[0]):n,n=a===e[1]&&t.__fixMax?v(n,i[1]):n},this)},getLabel:l.getLabel,scale:function(t){return t=s.scale.call(this,t),f(this.base,t)},setExtent:function(t,e){var i=this.base;t=p(t)/p(i),e=p(e)/p(i),l.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=s.getExtent.call(this);e[0]=f(t,e[0]),e[1]=f(t,e[1]);var i=this._originalScale,a=i.getExtent();return i.__fixMin&&(e[0]=v(e[0],a[0])),i.__fixMax&&(e[1]=v(e[1],a[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=p(t[0])/p(e),t[1]=p(t[1])/p(e),s.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i<=0)){var a=r.quantity(i);for(t/i*a<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var n=[r.round(d(e[0]/a)*a),r.round(c(e[1]/a)*a)];this._interval=a,this._niceExtent=n}},niceExtent:function(t){l.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});function v(t,e){return u(t,h(e))}a.each(["contain","normalize"],function(t){m.prototype[t]=function(e){return e=p(e)/p(this.base),s[t].call(this,e)}}),m.create=function(){return new m};var g=m;t.exports=g},xGkn:function(t,e,i){"use strict";var a=i("4mcu"),n=i("EGZi"),r=i("/bQp"),o=i("TcQ7");t.exports=i("vIB/")(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),r.Arguments=r.Array,a("keys"),a("values"),a("entries")},"xH/j":function(t,e,i){var a=i("hJx8");t.exports=function(t,e,i){for(var n in e)i&&t[n]?t[n]=e[n]:a(t,n,e[n]);return t}},xLO3:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("s/lY"),o=i("Pdtn"),s=i("2uoh"),l=r.valueAxis;function h(t,e){return n.defaults({show:e},t)}var u=a.extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),r=this.get("axisTick"),l=this.get("axisType"),h=this.get("axisLabel"),u=this.get("name"),c=this.get("name.show"),d=this.get("name.formatter"),f=this.get("nameGap"),p=this.get("triggerEvent"),m=n.map(this.get("indicator")||[],function(m){null!=m.max&&m.max>0&&!m.min?m.min=0:null!=m.min&&m.min<0&&!m.max&&(m.max=0);var v=u;if(null!=m.color&&(v=n.defaults({color:m.color},u)),m=n.merge(n.clone(m),{boundaryGap:t,splitNumber:e,scale:i,axisLine:a,axisTick:r,axisType:l,axisLabel:h,name:m.text,nameLocation:"end",nameGap:f,nameTextStyle:v,triggerEvent:p},!1),c||(m.name=""),"string"==typeof d){var g=m.name;m.name=d.replace("{value}",null!=g?g:"")}else"function"==typeof d&&(m.name=d(m.name,m));var C=n.extend(new o(m,null,this.ecModel),s);return C.mainType="radar",C.componentIndex=this.componentIndex,C},this);this.getIndicatorModels=function(){return m}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:n.merge({lineStyle:{color:"#bbb"}},l.axisLine),axisLabel:h(l.axisLabel,!1),axisTick:h(l.axisTick,!1),axisType:"interval",splitLine:h(l.splitLine,!0),splitArea:h(l.splitArea,!0),indicator:[]}});t.exports=u},xLtR:function(t,e,i){"use strict";var a=i("cGG2"),n=i("TNV1"),r=i("pBtG"),o=i("KCLY"),s=i("dIwP"),l=i("qRfI");function h(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return h(t),t.baseURL&&!s(t.url)&&(t.url=l(t.baseURL,t.url)),t.headers=t.headers||{},t.data=n(t.data,t.headers,t.transformRequest),t.headers=a.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),a.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return h(t),e.data=n(e.data,e.headers,t.transformResponse),e},function(e){return r(e)||(h(t),e&&e.response&&(e.response.data=n(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},xQcD:function(t,e,i){"use strict";t.exports.Chart=i("0pxj").default,t.exports.Stock=i("XLO+").default,t.exports.RegressionTest=i("5tow").default},"xR/K":function(t,e,i){var a=i("oLzS"),n=a.getBCHDigit(1335);e.getEncodedBits=function(t,e){for(var i=t.bit<<3|e,r=i<<10;a.getBCHDigit(r)-n>=0;)r^=1335<<a.getBCHDigit(r)-n;return 21522^(i<<10|r)}},"xb/I":function(t,e,i){var a=i("/gxq"),n=i("vXqC"),r=a.each,o=a.isObject,s=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function l(t){var e=t&&t.itemStyle;if(e)for(var i=0,n=s.length;i<n;i++){var r=s[i],o=e.normal,l=e.emphasis;o&&o[r]&&(t[r]=t[r]||{},t[r].normal?a.merge(t[r].normal,o[r]):t[r].normal=o[r],o[r]=null),l&&l[r]&&(t[r]=t[r]||{},t[r].emphasis?a.merge(t[r].emphasis,l[r]):t[r].emphasis=l[r],l[r]=null)}}function h(t,e,i){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,r=t[e].emphasis;n&&(i?(t[e].normal=t[e].emphasis=null,a.defaults(t[e],n)):t[e]=n),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r)}}function u(t){h(t,"itemStyle"),h(t,"lineStyle"),h(t,"areaStyle"),h(t,"label"),h(t,"labelLine"),h(t,"upperLabel"),h(t,"edgeLabel")}function c(t,e){var i=o(t)&&t[e],a=o(i)&&i.textStyle;if(a)for(var r=0,s=n.TEXT_STYLE_OPTIONS.length;r<s;r++){e=n.TEXT_STYLE_OPTIONS[r];a.hasOwnProperty(e)&&(i[e]=a[e])}}function d(t){t&&(u(t),c(t,"label"),t.emphasis&&c(t.emphasis,"label"))}function f(t){return a.isArray(t)?t:t?[t]:[]}function p(t){return(a.isArray(t)?t[0]:t)||{}}t.exports=function(t,e){r(f(t.series),function(t){o(t)&&function(t){if(o(t)){l(t),u(t),c(t,"label"),c(t,"upperLabel"),c(t,"edgeLabel"),t.emphasis&&(c(t.emphasis,"label"),c(t.emphasis,"upperLabel"),c(t.emphasis,"edgeLabel")),(i=t.markPoint)&&(l(i),d(i)),(n=t.markLine)&&(l(n),d(n));var e=t.markArea;e&&d(e);var i,n,r=t.data;if("graph"===t.type){r=r||t.nodes;var s=t.links||t.edges;if(s&&!a.isTypedArray(s))for(var f=0;f<s.length;f++)d(s[f]);a.each(t.categories,function(t){u(t)})}if(r&&!a.isTypedArray(r))for(f=0;f<r.length;f++)d(r[f]);if((i=t.markPoint)&&i.data){var p=i.data;for(f=0;f<p.length;f++)d(p[f])}if((n=t.markLine)&&n.data){var m=n.data;for(f=0;f<m.length;f++)a.isArray(m[f])?(d(m[f][0]),d(m[f][1])):d(m[f])}"gauge"===t.type?(c(t,"axisLabel"),c(t,"title"),c(t,"detail")):"treemap"===t.type?(h(t.breadcrumb,"itemStyle"),a.each(t.levels,function(t){u(t)})):"tree"===t.type&&u(t.leaves)}}(t)});var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),r(i,function(e){r(f(t[e]),function(t){t&&(c(t,"axisLabel"),c(t.axisPointer,"label"))})}),r(f(t.parallel),function(t){var e=t&&t.parallelAxisDefault;c(e,"axisLabel"),c(e&&e.axisPointer,"label")}),r(f(t.calendar),function(t){h(t,"itemStyle"),c(t,"dayLabel"),c(t,"monthLabel"),c(t,"yearLabel")}),r(f(t.radar),function(t){c(t,"name")}),r(f(t.geo),function(t){o(t)&&(d(t),r(f(t.regions),function(t){d(t)}))}),r(f(t.timeline),function(t){d(t),h(t,"label"),h(t,"itemStyle"),h(t,"controlStyle",!0);var e=t.data;a.isArray(e)&&a.each(e,function(t){a.isObject(t)&&(h(t,"label"),h(t,"itemStyle"))})}),r(f(t.toolbox),function(t){h(t,"iconStyle"),r(t.feature,function(t){h(t,"iconStyle")})}),c(p(t.axisPointer),"label"),c(p(t.tooltip).axisPointer,"label")}},xnc9:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},xr8J:function(t,e){var i=Math.round;function a(t,e,a){var n=i(2*t);return(n+i(e))%2==0?n/2:(n+(a?1:-1))/2}e.subPixelOptimizeLine=function(t,e,n){var r=n&&n.lineWidth;if(e&&r){var o=e.x1,s=e.x2,l=e.y1,h=e.y2;i(2*o)===i(2*s)?t.x1=t.x2=a(o,r,!0):(t.x1=o,t.x2=s),i(2*l)===i(2*h)?t.y1=t.y2=a(l,r,!0):(t.y1=l,t.y2=h)}},e.subPixelOptimizeRect=function(t,e,i){var n=i&&i.lineWidth;if(e&&n){var r=e.x,o=e.y,s=e.width,l=e.height;t.x=a(r,n,!0),t.y=a(o,n,!0),t.width=Math.max(a(r+s,n,!1)-t.x,0===s?0:1),t.height=Math.max(a(o+l,n,!1)-t.y,0===l?0:1)}},e.subPixelOptimize=a},"y+7x":function(t,e,i){"use strict";e.__esModule=!0;var a=i("urW8");e.default={methods:{t:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return a.t.apply(this,e)}}}},yEXw:function(t,e,i){var a=i("/gxq"),n=i("Y5nL"),r=i("1Xuh"),o=r.getLayoutParams,s=r.sizeCalculable,l=r.mergeLayoutParam,h=n.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(t,e,i,a){var n=o(t);h.superApply(this,"init",arguments),u(t,n)},mergeOption:function(t,e){h.superApply(this,"mergeOption",arguments),u(this.option,t)}});function u(t,e){var i=t.cellSize;a.isArray(i)?1===i.length&&(i[1]=i[0]):i=t.cellSize=[i,i];var n=a.map([0,1],function(t){return s(e,t)&&(i[t]="auto"),null!=i[t]&&"auto"!==i[t]});l(t,e,{type:"box",ignoreSize:n})}var c=h;t.exports=c},yYhy:function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},ylDJ:function(t,e,i){"use strict";e.__esModule=!0,e.isEmpty=e.isEqual=e.arrayEquals=e.looseEqual=e.capitalize=e.kebabCase=e.autoprefixer=e.isFirefox=e.isEdge=e.isIE=e.coerceTruthyValueToArray=e.arrayFind=e.arrayFindIndex=e.escapeRegexpString=e.valueEquals=e.generateId=e.getValueByPath=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.noop=function(){},e.hasOwn=function(t,e){return l.call(t,e)},e.toObject=function(t){for(var e={},i=0;i<t.length;i++)t[i]&&h(e,t[i]);return e},e.getPropByPath=function(t,e,i){for(var a=t,n=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),r=0,o=n.length;r<o-1&&(a||i);++r){var s=n[r];if(!(s in a)){if(i)throw new Error("please transfer a valid prop path to form item!");break}a=a[s]}return{o:a,k:n[r],v:a?a[n[r]]:null}},e.rafThrottle=function(t){var e=!1;return function(){for(var i=this,a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];e||(e=!0,window.requestAnimationFrame(function(a){t.apply(i,n),e=!1}))}},e.objToArray=function(t){if(Array.isArray(t))return t;return f(t)?[]:[t]};var n,r=i("/5sW"),o=(n=r)&&n.__esModule?n:{default:n},s=i("835U");var l=Object.prototype.hasOwnProperty;function h(t,e){for(var i in e)t[i]=e[i];return t}e.getValueByPath=function(t,e){for(var i=(e=e||"").split("."),a=t,n=null,r=0,o=i.length;r<o;r++){var s=i[r];if(!a)break;if(r===o-1){n=a[s];break}a=a[s]}return n};e.generateId=function(){return Math.floor(1e4*Math.random())},e.valueEquals=function(t,e){if(t===e)return!0;if(!(t instanceof Array))return!1;if(!(e instanceof Array))return!1;if(t.length!==e.length)return!1;for(var i=0;i!==t.length;++i)if(t[i]!==e[i])return!1;return!0},e.escapeRegexpString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(t).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var u=e.arrayFindIndex=function(t,e){for(var i=0;i!==t.length;++i)if(e(t[i]))return i;return-1},c=(e.arrayFind=function(t,e){var i=u(t,e);return-1!==i?t[i]:void 0},e.coerceTruthyValueToArray=function(t){return Array.isArray(t)?t:t?[t]:[]},e.isIE=function(){return!o.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},e.isEdge=function(){return!o.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},e.isFirefox=function(){return!o.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},e.autoprefixer=function(t){if("object"!==(void 0===t?"undefined":a(t)))return t;var e=["ms-","webkit-"];return["transform","transition","animation"].forEach(function(i){var a=t[i];i&&a&&e.forEach(function(e){t[e+i]=a})}),t},e.kebabCase=function(t){var e=/([^-])([A-Z])/g;return t.replace(e,"$1-$2").replace(e,"$1-$2").toLowerCase()},e.capitalize=function(t){return(0,s.isString)(t)?t.charAt(0).toUpperCase()+t.slice(1):t},e.looseEqual=function(t,e){var i=(0,s.isObject)(t),a=(0,s.isObject)(e);return i&&a?JSON.stringify(t)===JSON.stringify(e):!i&&!a&&String(t)===String(e)}),d=e.arrayEquals=function(t,e){if(t=t||[],e=e||[],t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!c(t[i],e[i]))return!1;return!0},f=(e.isEqual=function(t,e){return Array.isArray(t)&&Array.isArray(e)?d(t,e):c(t,e)},e.isEmpty=function(t){if(null==t)return!0;if("boolean"==typeof t)return!1;if("number"==typeof t)return!t;if(t instanceof Error)return""===t.message;switch(Object.prototype.toString.call(t)){case"[object String]":case"[object Array]":return!t.length;case"[object File]":case"[object Map]":case"[object Set]":return!t.size;case"[object Object]":return!Object.keys(t).length}return!1})},"yt/B":function(t,e,i){var a=i("K0T9");function n(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}n.prototype={constructor:n,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var i=(t-this._startTime-this._pausedTime)/this._life;if(!(i<0)){i=Math.min(i,1);var n=this.easing,r="string"==typeof n?a[n]:n,o="function"==typeof r?r(i):i;return this.fire("frame",o),1===i?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var r=n;t.exports=r},"z+gd":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var i=-1;return t.some(function(t,a){return t[0]===e&&(i=a,!0)}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var i=t(this.__entries__,e),a=this.__entries__[i];return a&&a[1]},e.prototype.set=function(e,i){var a=t(this.__entries__,e);~a?this.__entries__[a][1]=i:this.__entries__.push([e,i])},e.prototype.delete=function(e){var i=this.__entries__,a=t(i,e);~a&&i.splice(a,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,a=this.__entries__;i<a.length;i++){var n=a[i];t.call(e,n[1],n[0])}},e}()}(),a="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,n=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(n):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},o=2;var s=20,l=["top","right","bottom","left","width","height","size","weight"],h="undefined"!=typeof MutationObserver,u=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var i=!1,a=!1,n=0;function s(){i&&(i=!1,t()),a&&h()}function l(){r(s)}function h(){var t=Date.now();if(i){if(t-n<o)return;a=!0}else i=!0,a=!1,setTimeout(l,e);n=t}return h}(this.refresh.bind(this),s)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){a&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),h?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){a&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e;l.some(function(t){return!!~i.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),c=function(t,e){for(var i=0,a=Object.keys(e);i<a.length;i++){var n=a[i];Object.defineProperty(t,n,{value:e[n],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||n},f=D(0,0,0,0);function p(t){return parseFloat(t)||0}function m(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce(function(e,i){return e+p(t["border-"+i+"-width"])},0)}function v(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return f;var a=d(t).getComputedStyle(t),n=function(t){for(var e={},i=0,a=["top","right","bottom","left"];i<a.length;i++){var n=a[i],r=t["padding-"+n];e[n]=p(r)}return e}(a),r=n.left+n.right,o=n.top+n.bottom,s=p(a.width),l=p(a.height);if("border-box"===a.boxSizing&&(Math.round(s+r)!==e&&(s-=m(a,"left","right")+r),Math.round(l+o)!==i&&(l-=m(a,"top","bottom")+o)),!function(t){return t===d(t).document.documentElement}(t)){var h=Math.round(s+r)-e,u=Math.round(l+o)-i;1!==Math.abs(h)&&(s-=h),1!==Math.abs(u)&&(l-=u)}return D(n.left,n.top,s,l)}var g="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&"function"==typeof t.getBBox};function C(t){return a?g(t)?function(t){var e=t.getBBox();return D(0,0,e.width,e.height)}(t):v(t):f}function D(t,e,i,a){return{x:t,y:e,width:i,height:a}}var y=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=D(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=C(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),x=function(){return function(t,e){var i,a,n,r,o,s,l,h=(a=(i=e).x,n=i.y,r=i.width,o=i.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),c(l,{x:a,y:n,width:r,height:o,top:n,right:a+r,bottom:o+n,left:a}),l);c(this,{target:t,contentRect:h})}}(),S=function(){function t(t,e,a){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=a}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new y(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new x(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),I="undefined"!=typeof WeakMap?new WeakMap:new i,T=function(){return function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=u.getInstance(),a=new S(e,i,this);I.set(this,a)}}();["observe","unobserve","disconnect"].forEach(function(t){T.prototype[t]=function(){var e;return(e=I.get(this))[t].apply(e,arguments)}});var b=void 0!==n.ResizeObserver?n.ResizeObserver:T;e.default=b}.call(e,i("DuR2"))},"z+uQ":function(t,e,i){i("4Nz2").__DEV__;var a=i("Icdr"),n=i("6n1D"),r=i("uA0k"),o=i("bzOU"),s=i("PiQa"),l=i("Jd65"),h=i("US3d"),u=i("4A6G"),c=i("DDYI").createClipPath,d=a.extendChartView({type:"lines",init:function(){},render:function(t,e,i){var a=t.getData(),n=this._updateLineDraw(a,t),r=t.get("zlevel"),o=t.get("effect.trailLength"),s=i.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(r).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&o&&(l||s.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})),n.updateData(a);var h=t.get("clip",!0)&&c(t.coordinateSystem,!1,t);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=r,this._finished=!0},incrementalPrepareRender:function(t,e,i){var a=t.getData();this._updateLineDraw(a,t).incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},incrementalRender:function(t,e,i){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var a=t.getData(),n=t.pipelineContext;if(!this._finished||n.large||n.progressiveRender)return{update:!0};var r=u.reset(t);r.progress&&r.progress({start:0,end:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},_updateLineDraw:function(t,e){var i=this._lineDraw,a=this._showEffect(e),u=!!e.get("polyline"),c=e.pipelineContext.large;return i&&a===this._hasEffet&&u===this._isPolyline&&c===this._isLargeDraw||(i&&i.remove(),i=this._lineDraw=c?new h:new n(u?a?l:s:a?r:o),this._hasEffet=a,this._isPolyline=u,this._isLargeDraw=c,this.group.removeAll()),this.group.add(i.group),i},_showEffect:function(t){return!!t.get("effect.show")},_clearLayer:function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});t.exports=d},z81E:function(t,e,i){var a=i("Icdr"),n=i("Rfu2"),r=i("/gxq"),o=i("vXqC").defaultEmphasis,s=i("Pdtn"),l=i("HHfb").encodeHTML,h=i("d1IL"),u=a.extendSeriesModel({type:"series.graph",init:function(t){u.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){u.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){u.superApply(this,"mergeDefaultAndTheme",arguments),o(t,["edgeLabel"],["show"])},getInitialData:function(t,e){var i=t.edges||t.links||[],a=t.data||t.nodes||[],n=this;if(a&&i)return h(a,i,this,!0,function(t,i){t.wrapMethod("getItemModel",function(t){var e=n._categoriesModels,i=t.getShallow("category"),a=e[i];return a&&(a.parentModel=t.parentModel,t.parentModel=a),t});var a=n.getModel("edgeLabel"),r=new s({label:a.option},a.parentModel,e),o=n.getModel("emphasis.edgeLabel"),l=new s({emphasis:{label:o.option}},o.parentModel,e);function h(t){return(t=this.parsePath(t))&&"label"===t[0]?r:t&&"emphasis"===t[0]&&"label"===t[1]?l:this.parentModel}i.wrapMethod("getItemModel",function(t){return t.customizeGetParent(h),t})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,i){if("edge"===i){var a=this.getData(),n=this.getDataParams(t,i),r=a.graph.getEdgeByIndex(t),o=a.getName(r.node1.dataIndex),s=a.getName(r.node2.dataIndex),h=[];return null!=o&&h.push(o),null!=s&&h.push(s),h=l(h.join(" > ")),n.value&&(h+=" : "+l(n.value)),h}return u.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=r.map(this.option.categories||[],function(t){return null!=t.value?t:r.extend({value:0},t)}),e=new n(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return u.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),c=u;t.exports=c},"zAL+":function(t,e){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=99)}({0:function(t,e,i){"use strict";function a(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return a})},99:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-button-group"},[this._t("default")],2)};a._withStripped=!0;var n={name:"ElButtonGroup"},r=i(0),o=Object(r.a)(n,a,[],!1,null,null,null);o.options.__file="packages/button/src/button-group.vue";var s=o.exports;s.install=function(t){t.component(s.name,s)};e.default=s}})},zAPJ:function(t,e,i){var a=i("/gxq"),n=i("0sHC"),r=i("3h1/"),o=i("HHfb"),s=i("dOVI"),l=i("3yJd"),h=i("vjPX");function u(t,e,i,a,n){var s=c(i.get("value"),e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),l=i.getModel("label"),h=o.normalizeCssArray(l.get("padding")||0),u=l.getFont(),d=r.getBoundingRect(s,u),f=n.position,p=d.width+h[1]+h[3],m=d.height+h[0]+h[2],v=n.align;"right"===v&&(f[0]-=p),"center"===v&&(f[0]-=p/2);var g=n.verticalAlign;"bottom"===g&&(f[1]-=m),"middle"===g&&(f[1]-=m/2),function(t,e,i,a){var n=a.getWidth(),r=a.getHeight();t[0]=Math.min(t[0]+e,n)-e,t[1]=Math.min(t[1]+i,r)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(f,p,m,a);var C=l.get("backgroundColor");C&&"auto"!==C||(C=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:p,height:m,r:l.get("borderRadius")},position:f.slice(),style:{text:s,textFont:u,textFill:l.getTextColor(),textPosition:"inside",textPadding:h,fill:C,stroke:l.get("borderColor")||"transparent",lineWidth:l.get("borderWidth")||0,shadowBlur:l.get("shadowBlur"),shadowColor:l.get("shadowColor"),shadowOffsetX:l.get("shadowOffsetX"),shadowOffsetY:l.get("shadowOffsetY")},z2:10}}function c(t,e,i,n,r){t=e.scale.parse(t);var o=e.scale.getLabel(t,{precision:r.precision}),s=r.formatter;if(s){var h={value:l.getAxisRawValue(e,t),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};a.each(n,function(t){var e=i.getSeriesByIndex(t.seriesIndex),a=t.dataIndexInside,n=e&&e.getDataParams(a);n&&h.seriesData.push(n)}),a.isString(s)?o=s.replace("{value}",o):a.isFunction(s)&&(o=s(h))}return o}function d(t,e,i){var a=s.create();return s.rotate(a,a,i.rotation),s.translate(a,a,i.position),n.applyTransform([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],a)}e.buildElStyle=function(t){var e,i=t.get("type"),a=t.getModel(i+"Style");return"line"===i?(e=a.getLineStyle()).fill=null:"shadow"===i&&((e=a.getAreaStyle()).stroke=null),e},e.buildLabelElOption=u,e.getValueLabel=c,e.getTransformedPosition=d,e.buildCartesianSingleLabelElOption=function(t,e,i,a,n,r){var o=h.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=n.get("label.margin"),u(e,a,n,r,{position:d(a.axis,t,i),align:o.textAlign,verticalAlign:o.textVerticalAlign})},e.makeLineShape=function(t,e,i){return{x1:t[i=i||0],y1:t[1-i],x2:e[i],y2:e[1-i]}},e.makeRectShape=function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}},e.makeSectorShape=function(t,e,i,a,n,r){return{cx:t,cy:e,r0:i,r:a,startAngle:n,endAngle:r,clockwise:!0}}},zL8q:function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=45)}([function(t,e){t.exports=i("AMCD")},function(t,e){t.exports=i("2kvA")},function(t,e){t.exports=i("ylDJ")},function(t,e){t.exports=i("fPll")},function(t,e){t.exports=i("y+7x")},function(t,e){t.exports=i("fKx3")},function(t,e){t.exports=i("/5sW")},function(t,e){t.exports=i("jmaC")},function(t,e){t.exports=i("HJMx")},function(t,e){t.exports=i("aW5l")},function(t,e){t.exports=i("ISYW")},function(t,e){t.exports=i("urW8")},function(t,e){t.exports=i("mtrD")},function(t,e){t.exports=i("02w1")},function(t,e){t.exports=i("7J9s")},function(t,e){t.exports=i("ON3O")},function(t,e){t.exports=i("EKTV")},function(t,e){t.exports=i("fEB+")},function(t,e){t.exports=i("835U")},function(t,e){t.exports=i("E/in")},function(t,e){t.exports=i("eNfa")},function(t,e){t.exports=i("Zcwg")},function(t,e){t.exports=i("1oZe")},function(t,e){t.exports=i("fUqW")},function(t,e){t.exports=i("nvbp")},function(t,e){t.exports=i("uY1a")},function(t,e){t.exports=i("aMwW")},function(t,e){t.exports=i("zTCi")},function(t,e){t.exports=i("hyEB")},function(t,e){t.exports=i("zAL+")},function(t,e){t.exports=i("orbS")},function(t,e){t.exports=i("6Twh")},function(t,e){t.exports=i("s3ue")},function(t,e){t.exports=i("H8dH")},function(t,e){t.exports=i("GegP")},function(t,e){t.exports=i("HzcN")},function(t,e){t.exports=i("e0Bm")},function(t,e){t.exports=i("STLj")},function(t,e){t.exports=i("3fo+")},function(t,e){t.exports=i("DQJY")},function(t,e){t.exports=i("jwfv")},function(t,e){t.exports=i("0kY3")},function(t,e){t.exports=i("kNJA")},function(t,e){t.exports=i("RDoK")},function(t,e){t.exports=i("SXzR")},function(t,e,i){t.exports=i(46)},function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"el-pager",on:{click:t.onPagerClick}},[t.pageCount>0?i("li",{staticClass:"number",class:{active:1===t.currentPage,disabled:t.disabled}},[t._v("1")]):t._e(),t.showPrevMore?i("li",{staticClass:"el-icon more btn-quickprev",class:[t.quickprevIconClass,{disabled:t.disabled}],on:{mouseenter:function(e){t.onMouseenter("left")},mouseleave:function(e){t.quickprevIconClass="el-icon-more"}}}):t._e(),t._l(t.pagers,function(e){return i("li",{key:e,staticClass:"number",class:{active:t.currentPage===e,disabled:t.disabled}},[t._v(t._s(e))])}),t.showNextMore?i("li",{staticClass:"el-icon more btn-quicknext",class:[t.quicknextIconClass,{disabled:t.disabled}],on:{mouseenter:function(e){t.onMouseenter("right")},mouseleave:function(e){t.quicknextIconClass="el-icon-more"}}}):t._e(),t.pageCount>1?i("li",{staticClass:"number",class:{active:t.currentPage===t.pageCount,disabled:t.disabled}},[t._v(t._s(t.pageCount))]):t._e()],2)};function n(t,e,i,a,n,r,o,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),a&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}a._withStripped=!0;var r=n({name:"ElPager",props:{currentPage:Number,pageCount:Number,pagerCount:Number,disabled:Boolean},watch:{showPrevMore:function(t){t||(this.quickprevIconClass="el-icon-more")},showNextMore:function(t){t||(this.quicknextIconClass="el-icon-more")}},methods:{onPagerClick:function(t){var e=t.target;if("UL"!==e.tagName&&!this.disabled){var i=Number(t.target.textContent),a=this.pageCount,n=this.currentPage,r=this.pagerCount-2;-1!==e.className.indexOf("more")&&(-1!==e.className.indexOf("quickprev")?i=n-r:-1!==e.className.indexOf("quicknext")&&(i=n+r)),isNaN(i)||(i<1&&(i=1),i>a&&(i=a)),i!==n&&this.$emit("change",i)}},onMouseenter:function(t){this.disabled||("left"===t?this.quickprevIconClass="el-icon-d-arrow-left":this.quicknextIconClass="el-icon-d-arrow-right")}},computed:{pagers:function(){var t=this.pagerCount,e=(t-1)/2,i=Number(this.currentPage),a=Number(this.pageCount),n=!1,r=!1;a>t&&(i>t-e&&(n=!0),i<a-e&&(r=!0));var o=[];if(n&&!r)for(var s=a-(t-2);s<a;s++)o.push(s);else if(!n&&r)for(var l=2;l<t;l++)o.push(l);else if(n&&r)for(var h=Math.floor(t/2)-1,u=i-h;u<=i+h;u++)o.push(u);else for(var c=2;c<a;c++)o.push(c);return this.showPrevMore=n,this.showNextMore=r,o}},data:function(){return{current:null,showPrevMore:!1,showNextMore:!1,quicknextIconClass:"el-icon-more",quickprevIconClass:"el-icon-more"}}},a,[],!1,null,null,null);r.options.__file="packages/pagination/src/pager.vue";var o=r.exports,s=i(36),l=i.n(s),h=i(37),u=i.n(h),c=i(8),d=i.n(c),f=i(4),p=i.n(f),m=i(2),v={name:"ElPagination",props:{pageSize:{type:Number,default:10},small:Boolean,total:Number,pageCount:Number,pagerCount:{type:Number,validator:function(t){return(0|t)===t&&t>4&&t<22&&t%2==1},default:7},currentPage:{type:Number,default:1},layout:{default:"prev, pager, next, jumper, ->, total"},pageSizes:{type:Array,default:function(){return[10,20,30,40,50,100]}},popperClass:String,prevText:String,nextText:String,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean},data:function(){return{internalCurrentPage:1,internalPageSize:0,lastEmittedPage:-1,userChangePageSize:!1}},render:function(t){var e=this.layout;if(!e)return null;if(this.hideOnSinglePage&&(!this.internalPageCount||1===this.internalPageCount))return null;var i=t("div",{class:["el-pagination",{"is-background":this.background,"el-pagination--small":this.small}]}),a={prev:t("prev"),jumper:t("jumper"),pager:t("pager",{attrs:{currentPage:this.internalCurrentPage,pageCount:this.internalPageCount,pagerCount:this.pagerCount,disabled:this.disabled},on:{change:this.handleCurrentChange}}),next:t("next"),sizes:t("sizes",{attrs:{pageSizes:this.pageSizes}}),slot:t("slot",[this.$slots.default?this.$slots.default:""]),total:t("total")},n=e.split(",").map(function(t){return t.trim()}),r=t("div",{class:"el-pagination__rightwrapper"}),o=!1;return i.children=i.children||[],r.children=r.children||[],n.forEach(function(t){"->"!==t?o?r.children.push(a[t]):i.children.push(a[t]):o=!0}),o&&i.children.unshift(r),i},components:{Prev:{render:function(t){return t("button",{attrs:{type:"button",disabled:this.$parent.disabled||this.$parent.internalCurrentPage<=1},class:"btn-prev",on:{click:this.$parent.prev}},[this.$parent.prevText?t("span",[this.$parent.prevText]):t("i",{class:"el-icon el-icon-arrow-left"})])}},Next:{render:function(t){return t("button",{attrs:{type:"button",disabled:this.$parent.disabled||this.$parent.internalCurrentPage===this.$parent.internalPageCount||0===this.$parent.internalPageCount},class:"btn-next",on:{click:this.$parent.next}},[this.$parent.nextText?t("span",[this.$parent.nextText]):t("i",{class:"el-icon el-icon-arrow-right"})])}},Sizes:{mixins:[p.a],props:{pageSizes:Array},watch:{pageSizes:{immediate:!0,handler:function(t,e){Object(m.valueEquals)(t,e)||Array.isArray(t)&&(this.$parent.internalPageSize=t.indexOf(this.$parent.pageSize)>-1?this.$parent.pageSize:this.pageSizes[0])}}},render:function(t){var e=this;return t("span",{class:"el-pagination__sizes"},[t("el-select",{attrs:{value:this.$parent.internalPageSize,popperClass:this.$parent.popperClass||"",size:"mini",disabled:this.$parent.disabled},on:{input:this.handleChange}},[this.pageSizes.map(function(i){return t("el-option",{attrs:{value:i,label:i+e.t("el.pagination.pagesize")}})})])])},components:{ElSelect:l.a,ElOption:u.a},methods:{handleChange:function(t){t!==this.$parent.internalPageSize&&(this.$parent.internalPageSize=t=parseInt(t,10),this.$parent.userChangePageSize=!0,this.$parent.$emit("update:pageSize",t),this.$parent.$emit("size-change",t))}}},Jumper:{mixins:[p.a],components:{ElInput:d.a},data:function(){return{userInput:null}},watch:{"$parent.internalCurrentPage":function(){this.userInput=null}},methods:{handleKeyup:function(t){var e=t.keyCode,i=t.target;13===e&&this.handleChange(i.value)},handleInput:function(t){this.userInput=t},handleChange:function(t){this.$parent.internalCurrentPage=this.$parent.getValidCurrentPage(t),this.$parent.emitChange(),this.userInput=null}},render:function(t){return t("span",{class:"el-pagination__jump"},[this.t("el.pagination.goto"),t("el-input",{class:"el-pagination__editor is-in-pagination",attrs:{min:1,max:this.$parent.internalPageCount,value:null!==this.userInput?this.userInput:this.$parent.internalCurrentPage,type:"number",disabled:this.$parent.disabled},nativeOn:{keyup:this.handleKeyup},on:{input:this.handleInput,change:this.handleChange}}),this.t("el.pagination.pageClassifier")])}},Total:{mixins:[p.a],render:function(t){return"number"==typeof this.$parent.total?t("span",{class:"el-pagination__total"},[this.t("el.pagination.total",{total:this.$parent.total})]):""}},Pager:o},methods:{handleCurrentChange:function(t){this.internalCurrentPage=this.getValidCurrentPage(t),this.userChangePageSize=!0,this.emitChange()},prev:function(){if(!this.disabled){var t=this.internalCurrentPage-1;this.internalCurrentPage=this.getValidCurrentPage(t),this.$emit("prev-click",this.internalCurrentPage),this.emitChange()}},next:function(){if(!this.disabled){var t=this.internalCurrentPage+1;this.internalCurrentPage=this.getValidCurrentPage(t),this.$emit("next-click",this.internalCurrentPage),this.emitChange()}},getValidCurrentPage:function(t){t=parseInt(t,10);var e=void 0;return"number"==typeof this.internalPageCount?t<1?e=1:t>this.internalPageCount&&(e=this.internalPageCount):(isNaN(t)||t<1)&&(e=1),void 0===e&&isNaN(t)?e=1:0===e&&(e=1),void 0===e?t:e},emitChange:function(){var t=this;this.$nextTick(function(){(t.internalCurrentPage!==t.lastEmittedPage||t.userChangePageSize)&&(t.$emit("current-change",t.internalCurrentPage),t.lastEmittedPage=t.internalCurrentPage,t.userChangePageSize=!1)})}},computed:{internalPageCount:function(){return"number"==typeof this.total?Math.max(1,Math.ceil(this.total/this.internalPageSize)):"number"==typeof this.pageCount?Math.max(1,this.pageCount):null}},watch:{currentPage:{immediate:!0,handler:function(t){this.internalCurrentPage=this.getValidCurrentPage(t)}},pageSize:{immediate:!0,handler:function(t){this.internalPageSize=isNaN(t)?10:t}},internalCurrentPage:{immediate:!0,handler:function(t){this.$emit("update:currentPage",t),this.lastEmittedPage=-1}},internalPageCount:function(t){var e=this.internalCurrentPage;t>0&&0===e?this.internalCurrentPage=1:e>t&&(this.internalCurrentPage=0===t?1:t,this.userChangePageSize&&this.emitChange()),this.userChangePageSize=!1}},install:function(t){t.component(v.name,v)}},g=v,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":t.afterEnter,"after-leave":t.afterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[i("div",{key:t.key,ref:"dialog",class:["el-dialog",{"is-fullscreen":t.fullscreen,"el-dialog--center":t.center},t.customClass],style:t.style,attrs:{role:"dialog","aria-modal":"true","aria-label":t.title||"dialog"}},[i("div",{staticClass:"el-dialog__header"},[t._t("title",[i("span",{staticClass:"el-dialog__title"},[t._v(t._s(t.title))])]),t.showClose?i("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.handleClose}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):t._e()],2),t.rendered?i("div",{staticClass:"el-dialog__body"},[t._t("default")],2):t._e(),t.$slots.footer?i("div",{staticClass:"el-dialog__footer"},[t._t("footer")],2):t._e()])])])};C._withStripped=!0;var D=i(14),y=i.n(D),x=i(9),S=i.n(x),I=i(3),T=i.n(I),b=n({name:"ElDialog",mixins:[y.a,T.a,S.a],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1},destroyOnClose:Boolean},data:function(){return{closed:!1,key:0}},watch:{visible:function(t){var e=this;t?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick(function(){e.$refs.dialog.scrollTop=0}),this.appendToBody&&document.body.appendChild(this.$el)):(this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick(function(){e.key++}))}},computed:{style:function(){var t={};return this.fullscreen||(t.marginTop=this.top,this.width&&(t.width=this.width)),t}},methods:{getMigratingConfig:function(){return{props:{size:"size is removed."}}},handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(t){!1!==t&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},C,[],!1,null,null,null);b.options.__file="packages/dialog/src/component.vue";var w=b.exports;w.install=function(t){t.component(w.name,w)};var M=w,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.close,expression:"close"}],staticClass:"el-autocomplete",attrs:{"aria-haspopup":"listbox",role:"combobox","aria-expanded":t.suggestionVisible,"aria-owns":t.id}},[i("el-input",t._b({ref:"input",on:{input:t.handleChange,focus:t.handleFocus,blur:t.handleBlur,clear:t.handleClear},nativeOn:{keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.highlight(t.highlightedIndex-1)},function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.highlight(t.highlightedIndex+1)},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleKeyEnter(e):null},function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?t.close(e):null}]}},"el-input",[t.$props,t.$attrs],!1),[t.$slots.prepend?i("template",{slot:"prepend"},[t._t("prepend")],2):t._e(),t.$slots.append?i("template",{slot:"append"},[t._t("append")],2):t._e(),t.$slots.prefix?i("template",{slot:"prefix"},[t._t("prefix")],2):t._e(),t.$slots.suffix?i("template",{slot:"suffix"},[t._t("suffix")],2):t._e()],2),i("el-autocomplete-suggestions",{ref:"suggestions",class:[t.popperClass?t.popperClass:""],attrs:{"visible-arrow":"","popper-options":t.popperOptions,"append-to-body":t.popperAppendToBody,placement:t.placement,id:t.id}},t._l(t.suggestions,function(e,a){return i("li",{key:a,class:{highlighted:t.highlightedIndex===a},attrs:{id:t.id+"-item-"+a,role:"option","aria-selected":t.highlightedIndex===a},on:{click:function(i){t.select(e)}}},[t._t("default",[t._v("\n        "+t._s(e[t.valueKey])+"\n      ")],{item:e})],2)}),0)],1)};E._withStripped=!0;var A=i(15),_=i.n(A),L=i(10),F=i.n(L),O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.doDestroy}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-autocomplete-suggestion el-popper",class:{"is-loading":!t.parent.hideLoading&&t.parent.loading},style:{width:t.dropdownWidth},attrs:{role:"region"}},[i("el-scrollbar",{attrs:{tag:"ul","wrap-class":"el-autocomplete-suggestion__wrap","view-class":"el-autocomplete-suggestion__list"}},[!t.parent.hideLoading&&t.parent.loading?i("li",[i("i",{staticClass:"el-icon-loading"})]):t._t("default")],2)],1)])};O._withStripped=!0;var P=i(5),N=i.n(P),R=i(17),B=i.n(R),k=n({components:{ElScrollbar:B.a},mixins:[N.a,T.a],componentName:"ElAutocompleteSuggestions",data:function(){return{parent:this.$parent,dropdownWidth:""}},props:{options:{default:function(){return{gpuAcceleration:!1}}},id:String},methods:{select:function(t){this.dispatch("ElAutocomplete","item-click",t)}},updated:function(){var t=this;this.$nextTick(function(e){t.popperJS&&t.updatePopper()})},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$refs.input.$refs.input,this.referenceList=this.$el.querySelector(".el-autocomplete-suggestion__list"),this.referenceList.setAttribute("role","listbox"),this.referenceList.setAttribute("id",this.id)},created:function(){var t=this;this.$on("visible",function(e,i){t.dropdownWidth=i+"px",t.showPopper=e})}},O,[],!1,null,null,null);k.options.__file="packages/autocomplete/src/autocomplete-suggestions.vue";var V=k.exports,H=i(22),G=i.n(H),Y=n({name:"ElAutocomplete",mixins:[T.a,G()("input"),S.a],inheritAttrs:!1,componentName:"ElAutocomplete",components:{ElInput:d.a,ElAutocompleteSuggestions:V},directives:{Clickoutside:F.a},props:{valueKey:{type:String,default:"value"},popperClass:String,popperOptions:Object,placeholder:String,clearable:{type:Boolean,default:!1},disabled:Boolean,name:String,size:String,value:String,maxlength:Number,minlength:Number,autofocus:Boolean,fetchSuggestions:Function,triggerOnFocus:{type:Boolean,default:!0},customItem:String,selectWhenUnmatched:{type:Boolean,default:!1},prefixIcon:String,suffixIcon:String,label:String,debounce:{type:Number,default:300},placement:{type:String,default:"bottom-start"},hideLoading:Boolean,popperAppendToBody:{type:Boolean,default:!0},highlightFirstItem:{type:Boolean,default:!1}},data:function(){return{activated:!1,suggestions:[],loading:!1,highlightedIndex:-1,suggestionDisabled:!1}},computed:{suggestionVisible:function(){var t=this.suggestions;return(Array.isArray(t)&&t.length>0||this.loading)&&this.activated},id:function(){return"el-autocomplete-"+Object(m.generateId)()}},watch:{suggestionVisible:function(t){var e=this.getInput();e&&this.broadcast("ElAutocompleteSuggestions","visible",[t,e.offsetWidth])}},methods:{getMigratingConfig:function(){return{props:{"custom-item":"custom-item is removed, use scoped slot instead.",props:"props is removed, use value-key instead."}}},getData:function(t){var e=this;this.suggestionDisabled||(this.loading=!0,this.fetchSuggestions(t,function(t){e.loading=!1,e.suggestionDisabled||(Array.isArray(t)?(e.suggestions=t,e.highlightedIndex=e.highlightFirstItem?0:-1):console.error("[Element Error][Autocomplete]autocomplete suggestions must be an array"))}))},handleChange:function(t){if(this.$emit("input",t),this.suggestionDisabled=!1,!this.triggerOnFocus&&!t)return this.suggestionDisabled=!0,void(this.suggestions=[]);this.debouncedGetData(t)},handleFocus:function(t){this.activated=!0,this.$emit("focus",t),this.triggerOnFocus&&this.debouncedGetData(this.value)},handleBlur:function(t){this.$emit("blur",t)},handleClear:function(){this.activated=!1,this.$emit("clear")},close:function(t){this.activated=!1},handleKeyEnter:function(t){var e=this;this.suggestionVisible&&this.highlightedIndex>=0&&this.highlightedIndex<this.suggestions.length?(t.preventDefault(),this.select(this.suggestions[this.highlightedIndex])):this.selectWhenUnmatched&&(this.$emit("select",{value:this.value}),this.$nextTick(function(t){e.suggestions=[],e.highlightedIndex=-1}))},select:function(t){var e=this;this.$emit("input",t[this.valueKey]),this.$emit("select",t),this.$nextTick(function(t){e.suggestions=[],e.highlightedIndex=-1})},highlight:function(t){if(this.suggestionVisible&&!this.loading)if(t<0)this.highlightedIndex=-1;else{t>=this.suggestions.length&&(t=this.suggestions.length-1);var e=this.$refs.suggestions.$el.querySelector(".el-autocomplete-suggestion__wrap"),i=e.querySelectorAll(".el-autocomplete-suggestion__list li")[t],a=e.scrollTop,n=i.offsetTop;n+i.scrollHeight>a+e.clientHeight&&(e.scrollTop+=i.scrollHeight),n<a&&(e.scrollTop-=i.scrollHeight),this.highlightedIndex=t,this.getInput().setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)}},getInput:function(){return this.$refs.input.getInput()}},mounted:function(){var t=this;this.debouncedGetData=_()(this.debounce,this.getData),this.$on("item-click",function(e){t.select(e)});var e=this.getInput();e.setAttribute("role","textbox"),e.setAttribute("aria-autocomplete","list"),e.setAttribute("aria-controls","id"),e.setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)},beforeDestroy:function(){this.$refs.suggestions.$destroy()}},E,[],!1,null,null,null);Y.options.__file="packages/autocomplete/src/autocomplete.vue";var W=Y.exports;W.install=function(t){t.component(W.name,W)};var X=W,U=i(12),z=i.n(U),K=i(29),$=i.n(K),j=n({name:"ElDropdown",componentName:"ElDropdown",mixins:[T.a,S.a],directives:{Clickoutside:F.a},components:{ElButton:z.a,ElButtonGroup:$.a},provide:function(){return{dropdown:this}},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom-end"},visibleArrow:{default:!0},showTimeout:{type:Number,default:250},hideTimeout:{type:Number,default:150},tabindex:{type:Number,default:0}},data:function(){return{timeout:null,visible:!1,triggerElm:null,menuItems:null,menuItemsArray:null,dropdownElm:null,focusing:!1,listId:"dropdown-menu-"+Object(m.generateId)()}},computed:{dropdownSize:function(){return this.size||(this.$ELEMENT||{}).size}},mounted:function(){this.$on("menu-item-click",this.handleMenuItemClick)},watch:{visible:function(t){this.broadcast("ElDropdownMenu","visible",t),this.$emit("visible-change",t)},focusing:function(t){var e=this.$el.querySelector(".el-dropdown-selfdefine");e&&(t?e.className+=" focusing":e.className=e.className.replace("focusing",""))}},methods:{getMigratingConfig:function(){return{props:{"menu-align":"menu-align is renamed to placement."}}},show:function(){var t=this;this.triggerElm.disabled||(clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.visible=!0},"click"===this.trigger?0:this.showTimeout))},hide:function(){var t=this;this.triggerElm.disabled||(this.removeTabindex(),this.tabindex>=0&&this.resetTabindex(this.triggerElm),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.visible=!1},"click"===this.trigger?0:this.hideTimeout))},handleClick:function(){this.triggerElm.disabled||(this.visible?this.hide():this.show())},handleTriggerKeyDown:function(t){var e=t.keyCode;[38,40].indexOf(e)>-1?(this.removeTabindex(),this.resetTabindex(this.menuItems[0]),this.menuItems[0].focus(),t.preventDefault(),t.stopPropagation()):13===e?this.handleClick():[9,27].indexOf(e)>-1&&this.hide()},handleItemKeyDown:function(t){var e=t.keyCode,i=t.target,a=this.menuItemsArray.indexOf(i),n=this.menuItemsArray.length-1,r=void 0;[38,40].indexOf(e)>-1?(r=38===e?0!==a?a-1:0:a<n?a+1:n,this.removeTabindex(),this.resetTabindex(this.menuItems[r]),this.menuItems[r].focus(),t.preventDefault(),t.stopPropagation()):13===e?(this.triggerElmFocus(),i.click(),this.hideOnClick&&(this.visible=!1)):[9,27].indexOf(e)>-1&&(this.hide(),this.triggerElmFocus())},resetTabindex:function(t){this.removeTabindex(),t.setAttribute("tabindex","0")},removeTabindex:function(){this.triggerElm.setAttribute("tabindex","-1"),this.menuItemsArray.forEach(function(t){t.setAttribute("tabindex","-1")})},initAria:function(){this.dropdownElm.setAttribute("id",this.listId),this.triggerElm.setAttribute("aria-haspopup","list"),this.triggerElm.setAttribute("aria-controls",this.listId),this.splitButton||(this.triggerElm.setAttribute("role","button"),this.triggerElm.setAttribute("tabindex",this.tabindex),this.triggerElm.setAttribute("class",(this.triggerElm.getAttribute("class")||"")+" el-dropdown-selfdefine"))},initEvent:function(){var t=this,e=this.trigger,i=this.show,a=this.hide,n=this.handleClick,r=this.splitButton,o=this.handleTriggerKeyDown,s=this.handleItemKeyDown;this.triggerElm=r?this.$refs.trigger.$el:this.$slots.default[0].elm;var l=this.dropdownElm;this.triggerElm.addEventListener("keydown",o),l.addEventListener("keydown",s,!0),r||(this.triggerElm.addEventListener("focus",function(){t.focusing=!0}),this.triggerElm.addEventListener("blur",function(){t.focusing=!1}),this.triggerElm.addEventListener("click",function(){t.focusing=!1})),"hover"===e?(this.triggerElm.addEventListener("mouseenter",i),this.triggerElm.addEventListener("mouseleave",a),l.addEventListener("mouseenter",i),l.addEventListener("mouseleave",a)):"click"===e&&this.triggerElm.addEventListener("click",n)},handleMenuItemClick:function(t,e){this.hideOnClick&&(this.visible=!1),this.$emit("command",t,e)},triggerElmFocus:function(){this.triggerElm.focus&&this.triggerElm.focus()},initDomOperation:function(){this.dropdownElm=this.popperElm,this.menuItems=this.dropdownElm.querySelectorAll("[tabindex='-1']"),this.menuItemsArray=[].slice.call(this.menuItems),this.initEvent(),this.initAria()}},render:function(t){var e=this,i=this.hide,a=this.splitButton,n=this.type,r=this.dropdownSize,o=a?t("el-button-group",[t("el-button",{attrs:{type:n,size:r},nativeOn:{click:function(t){e.$emit("click",t),i()}}},[this.$slots.default]),t("el-button",{ref:"trigger",attrs:{type:n,size:r},class:"el-dropdown__caret-button"},[t("i",{class:"el-dropdown__icon el-icon-arrow-down"})])]):this.$slots.default;return t("div",{class:"el-dropdown",directives:[{name:"clickoutside",value:i}]},[o,this.$slots.dropdown])}},void 0,void 0,!1,null,null,null);j.options.__file="packages/dropdown/src/dropdown.vue";var q=j.exports;q.install=function(t){t.component(q.name,q)};var J=q,Z=function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":this.doDestroy}},[e("ul",{directives:[{name:"show",rawName:"v-show",value:this.showPopper,expression:"showPopper"}],staticClass:"el-dropdown-menu el-popper",class:[this.size&&"el-dropdown-menu--"+this.size]},[this._t("default")],2)])};Z._withStripped=!0;var Q=n({name:"ElDropdownMenu",componentName:"ElDropdownMenu",mixins:[N.a],props:{visibleArrow:{type:Boolean,default:!0},arrowOffset:{type:Number,default:0}},data:function(){return{size:this.dropdown.dropdownSize}},inject:["dropdown"],created:function(){var t=this;this.$on("updatePopper",function(){t.showPopper&&t.updatePopper()}),this.$on("visible",function(e){t.showPopper=e})},mounted:function(){this.dropdown.popperElm=this.popperElm=this.$el,this.referenceElm=this.dropdown.$el,this.dropdown.initDomOperation()},watch:{"dropdown.placement":{immediate:!0,handler:function(t){this.currentPlacement=t}}}},Z,[],!1,null,null,null);Q.options.__file="packages/dropdown/src/dropdown-menu.vue";var tt=Q.exports;tt.install=function(t){t.component(tt.name,tt)};var et=tt,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"el-dropdown-menu__item",class:{"is-disabled":t.disabled,"el-dropdown-menu__item--divided":t.divided},attrs:{"aria-disabled":t.disabled,tabindex:t.disabled?null:-1},on:{click:t.handleClick}},[t.icon?i("i",{class:t.icon}):t._e(),t._t("default")],2)};it._withStripped=!0;var at=n({name:"ElDropdownItem",mixins:[T.a],props:{command:{},disabled:Boolean,divided:Boolean,icon:String},methods:{handleClick:function(t){this.dispatch("ElDropdown","menu-item-click",[this.command,this])}}},it,[],!1,null,null,null);at.options.__file="packages/dropdown/src/dropdown-item.vue";var nt=at.exports;nt.install=function(t){t.component(nt.name,nt)};var rt=nt,ot=ot||{};ot.Utils=ot.Utils||{},ot.Utils.focusFirstDescendant=function(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];if(ot.Utils.attemptFocus(i)||ot.Utils.focusFirstDescendant(i))return!0}return!1},ot.Utils.focusLastDescendant=function(t){for(var e=t.childNodes.length-1;e>=0;e--){var i=t.childNodes[e];if(ot.Utils.attemptFocus(i)||ot.Utils.focusLastDescendant(i))return!0}return!1},ot.Utils.attemptFocus=function(t){if(!ot.Utils.isFocusable(t))return!1;ot.Utils.IgnoreUtilFocusChanges=!0;try{t.focus()}catch(t){}return ot.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===t},ot.Utils.isFocusable=function(t){if(t.tabIndex>0||0===t.tabIndex&&null!==t.getAttribute("tabIndex"))return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&"ignore"!==t.rel;case"INPUT":return"hidden"!==t.type&&"file"!==t.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},ot.Utils.triggerEvent=function(t,e){var i=void 0;i=/^mouse|click/.test(e)?"MouseEvents":/^key/.test(e)?"KeyboardEvent":"HTMLEvents";for(var a=document.createEvent(i),n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return a.initEvent.apply(a,[e].concat(r)),t.dispatchEvent?t.dispatchEvent(a):t.fireEvent("on"+e,a),t},ot.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27};var st=ot.Utils,lt=function(t,e){this.domNode=e,this.parent=t,this.subMenuItems=[],this.subIndex=0,this.init()};lt.prototype.init=function(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()},lt.prototype.gotoSubIndex=function(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t},lt.prototype.addListeners=function(){var t=this,e=st.keys,i=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,function(a){a.addEventListener("keydown",function(a){var n=!1;switch(a.keyCode){case e.down:t.gotoSubIndex(t.subIndex+1),n=!0;break;case e.up:t.gotoSubIndex(t.subIndex-1),n=!0;break;case e.tab:st.triggerEvent(i,"mouseleave");break;case e.enter:case e.space:n=!0,a.currentTarget.click()}return n&&(a.preventDefault(),a.stopPropagation()),!1})})};var ht=lt,ut=function(t){this.domNode=t,this.submenu=null,this.init()};ut.prototype.init=function(){this.domNode.setAttribute("tabindex","0");var t=this.domNode.querySelector(".el-menu");t&&(this.submenu=new ht(this,t)),this.addListeners()},ut.prototype.addListeners=function(){var t=this,e=st.keys;this.domNode.addEventListener("keydown",function(i){var a=!1;switch(i.keyCode){case e.down:st.triggerEvent(i.currentTarget,"mouseenter"),t.submenu&&t.submenu.gotoSubIndex(0),a=!0;break;case e.up:st.triggerEvent(i.currentTarget,"mouseenter"),t.submenu&&t.submenu.gotoSubIndex(t.submenu.subMenuItems.length-1),a=!0;break;case e.tab:st.triggerEvent(i.currentTarget,"mouseleave");break;case e.enter:case e.space:a=!0,i.currentTarget.click()}a&&i.preventDefault()})};var ct=ut,dt=function(t){this.domNode=t,this.init()};dt.prototype.init=function(){var t=this.domNode.childNodes;[].filter.call(t,function(t){return 1===t.nodeType}).forEach(function(t){new ct(t)})};var ft=dt,pt=i(1),mt=n({name:"ElMenu",render:function(t){var e=t("ul",{attrs:{role:"menubar"},key:+this.collapse,style:{backgroundColor:this.backgroundColor||""},class:{"el-menu--horizontal":"horizontal"===this.mode,"el-menu--collapse":this.collapse,"el-menu":!0}},[this.$slots.default]);return this.collapseTransition?t("el-menu-collapse-transition",[e]):e},componentName:"ElMenu",mixins:[T.a,S.a],provide:function(){return{rootMenu:this}},components:{"el-menu-collapse-transition":{functional:!0,render:function(t,e){return t("transition",{props:{mode:"out-in"},on:{beforeEnter:function(t){t.style.opacity=.2},enter:function(t){Object(pt.addClass)(t,"el-opacity-transition"),t.style.opacity=1},afterEnter:function(t){Object(pt.removeClass)(t,"el-opacity-transition"),t.style.opacity=""},beforeLeave:function(t){t.dataset||(t.dataset={}),Object(pt.hasClass)(t,"el-menu--collapse")?(Object(pt.removeClass)(t,"el-menu--collapse"),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth,Object(pt.addClass)(t,"el-menu--collapse")):(Object(pt.addClass)(t,"el-menu--collapse"),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth,Object(pt.removeClass)(t,"el-menu--collapse")),t.style.width=t.scrollWidth+"px",t.style.overflow="hidden"},leave:function(t){Object(pt.addClass)(t,"horizontal-collapse-transition"),t.style.width=t.dataset.scrollWidth+"px"}}},e.children)}}},props:{mode:{type:String,default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:Array,uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0}},data:function(){return{activeIndex:this.defaultActive,openedMenus:this.defaultOpeneds&&!this.collapse?this.defaultOpeneds.slice(0):[],items:{},submenus:{}}},computed:{hoverBackground:function(){return this.backgroundColor?this.mixColor(this.backgroundColor,.2):""},isMenuPopup:function(){return"horizontal"===this.mode||"vertical"===this.mode&&this.collapse}},watch:{defaultActive:function(t){this.items[t]||(this.activeIndex=null),this.updateActiveIndex(t)},defaultOpeneds:function(t){this.collapse||(this.openedMenus=t)},collapse:function(t){t&&(this.openedMenus=[]),this.broadcast("ElSubmenu","toggle-collapse",t)}},methods:{updateActiveIndex:function(t){var e=this.items[t]||this.items[this.activeIndex]||this.items[this.defaultActive];e?(this.activeIndex=e.index,this.initOpenedMenu()):this.activeIndex=null},getMigratingConfig:function(){return{props:{theme:"theme is removed."}}},getColorChannels:function(t){if(t=t.replace("#",""),/^[0-9a-fA-F]{3}$/.test(t)){t=t.split("");for(var e=2;e>=0;e--)t.splice(e,0,t[e]);t=t.join("")}return/^[0-9a-fA-F]{6}$/.test(t)?{red:parseInt(t.slice(0,2),16),green:parseInt(t.slice(2,4),16),blue:parseInt(t.slice(4,6),16)}:{red:255,green:255,blue:255}},mixColor:function(t,e){var i=this.getColorChannels(t),a=i.red,n=i.green,r=i.blue;return e>0?(a*=1-e,n*=1-e,r*=1-e):(a+=(255-a)*e,n+=(255-n)*e,r+=(255-r)*e),"rgb("+Math.round(a)+", "+Math.round(n)+", "+Math.round(r)+")"},addItem:function(t){this.$set(this.items,t.index,t)},removeItem:function(t){delete this.items[t.index]},addSubmenu:function(t){this.$set(this.submenus,t.index,t)},removeSubmenu:function(t){delete this.submenus[t.index]},openMenu:function(t,e){var i=this.openedMenus;-1===i.indexOf(t)&&(this.uniqueOpened&&(this.openedMenus=i.filter(function(t){return-1!==e.indexOf(t)})),this.openedMenus.push(t))},closeMenu:function(t){var e=this.openedMenus.indexOf(t);-1!==e&&this.openedMenus.splice(e,1)},handleSubmenuClick:function(t){var e=t.index,i=t.indexPath;-1!==this.openedMenus.indexOf(e)?(this.closeMenu(e),this.$emit("close",e,i)):(this.openMenu(e,i),this.$emit("open",e,i))},handleItemClick:function(t){var e=this,i=t.index,a=t.indexPath,n=this.activeIndex,r=null!==t.index;r&&(this.activeIndex=t.index),this.$emit("select",i,a,t),("horizontal"===this.mode||this.collapse)&&(this.openedMenus=[]),this.router&&r&&this.routeToItem(t,function(t){if(e.activeIndex=n,t){if("NavigationDuplicated"===t.name)return;console.error(t)}})},initOpenedMenu:function(){var t=this,e=this.activeIndex,i=this.items[e];i&&"horizontal"!==this.mode&&!this.collapse&&i.indexPath.forEach(function(e){var i=t.submenus[e];i&&t.openMenu(e,i.indexPath)})},routeToItem:function(t,e){var i=t.route||t.index;try{this.$router.push(i,function(){},e)}catch(t){console.error(t)}},open:function(t){var e=this,i=this.submenus[t.toString()].indexPath;i.forEach(function(t){return e.openMenu(t,i)})},close:function(t){this.closeMenu(t)}},mounted:function(){this.initOpenedMenu(),this.$on("item-click",this.handleItemClick),this.$on("submenu-click",this.handleSubmenuClick),"horizontal"===this.mode&&new ft(this.$el),this.$watch("items",this.updateActiveIndex)}},void 0,void 0,!1,null,null,null);mt.options.__file="packages/menu/src/menu.vue";var vt=mt.exports;vt.install=function(t){t.component(vt.name,vt)};var gt=vt,Ct=i(21),Dt=i.n(Ct),yt={inject:["rootMenu"],computed:{indexPath:function(){for(var t=[this.index],e=this.$parent;"ElMenu"!==e.$options.componentName;)e.index&&t.unshift(e.index),e=e.$parent;return t},parentMenu:function(){for(var t=this.$parent;t&&-1===["ElMenu","ElSubmenu"].indexOf(t.$options.componentName);)t=t.$parent;return t},paddingStyle:function(){if("vertical"!==this.rootMenu.mode)return{};var t=20,e=this.$parent;if(this.rootMenu.collapse)t=20;else for(;e&&"ElMenu"!==e.$options.componentName;)"ElSubmenu"===e.$options.componentName&&(t+=20),e=e.$parent;return{paddingLeft:t+"px"}}}},xt={props:{transformOrigin:{type:[Boolean,String],default:!1},offset:N.a.props.offset,boundariesPadding:N.a.props.boundariesPadding,popperOptions:N.a.props.popperOptions},data:N.a.data,methods:N.a.methods,beforeDestroy:N.a.beforeDestroy,deactivated:N.a.deactivated},St=n({name:"ElSubmenu",componentName:"ElSubmenu",mixins:[yt,T.a,xt],components:{ElCollapseTransition:Dt.a},props:{index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0}},data:function(){return{popperJS:null,timeout:null,items:{},submenus:{},mouseInChild:!1}},watch:{opened:function(t){var e=this;this.isMenuPopup&&this.$nextTick(function(t){e.updatePopper()})}},computed:{appendToBody:function(){return void 0===this.popperAppendToBody?this.isFirstLevel:this.popperAppendToBody},menuTransitionName:function(){return this.rootMenu.collapse?"el-zoom-in-left":"el-zoom-in-top"},opened:function(){return this.rootMenu.openedMenus.indexOf(this.index)>-1},active:function(){var t=!1,e=this.submenus,i=this.items;return Object.keys(i).forEach(function(e){i[e].active&&(t=!0)}),Object.keys(e).forEach(function(i){e[i].active&&(t=!0)}),t},hoverBackground:function(){return this.rootMenu.hoverBackground},backgroundColor:function(){return this.rootMenu.backgroundColor||""},activeTextColor:function(){return this.rootMenu.activeTextColor||""},textColor:function(){return this.rootMenu.textColor||""},mode:function(){return this.rootMenu.mode},isMenuPopup:function(){return this.rootMenu.isMenuPopup},titleStyle:function(){return"horizontal"!==this.mode?{color:this.textColor}:{borderBottomColor:this.active?this.rootMenu.activeTextColor?this.activeTextColor:"":"transparent",color:this.active?this.activeTextColor:this.textColor}},isFirstLevel:function(){for(var t=!0,e=this.$parent;e&&e!==this.rootMenu;){if(["ElSubmenu","ElMenuItemGroup"].indexOf(e.$options.componentName)>-1){t=!1;break}e=e.$parent}return t}},methods:{handleCollapseToggle:function(t){t?this.initPopper():this.doDestroy()},addItem:function(t){this.$set(this.items,t.index,t)},removeItem:function(t){delete this.items[t.index]},addSubmenu:function(t){this.$set(this.submenus,t.index,t)},removeSubmenu:function(t){delete this.submenus[t.index]},handleClick:function(){var t=this.rootMenu,e=this.disabled;"hover"===t.menuTrigger&&"horizontal"===t.mode||t.collapse&&"vertical"===t.mode||e||this.dispatch("ElMenu","submenu-click",this)},handleMouseenter:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.showTimeout;if("ActiveXObject"in window||"focus"!==t.type||t.relatedTarget){var a=this.rootMenu,n=this.disabled;"click"===a.menuTrigger&&"horizontal"===a.mode||!a.collapse&&"vertical"===a.mode||n||(this.dispatch("ElSubmenu","mouse-enter-child"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.rootMenu.openMenu(e.index,e.indexPath)},i),this.appendToBody&&this.$parent.$el.dispatchEvent(new MouseEvent("mouseenter")))}},handleMouseleave:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.rootMenu;"click"===i.menuTrigger&&"horizontal"===i.mode||!i.collapse&&"vertical"===i.mode||(this.dispatch("ElSubmenu","mouse-leave-child"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){!t.mouseInChild&&t.rootMenu.closeMenu(t.index)},this.hideTimeout),this.appendToBody&&e&&"ElSubmenu"===this.$parent.$options.name&&this.$parent.handleMouseleave(!0))},handleTitleMouseenter:function(){if("horizontal"!==this.mode||this.rootMenu.backgroundColor){var t=this.$refs["submenu-title"];t&&(t.style.backgroundColor=this.rootMenu.hoverBackground)}},handleTitleMouseleave:function(){if("horizontal"!==this.mode||this.rootMenu.backgroundColor){var t=this.$refs["submenu-title"];t&&(t.style.backgroundColor=this.rootMenu.backgroundColor||"")}},updatePlacement:function(){this.currentPlacement="horizontal"===this.mode&&this.isFirstLevel?"bottom-start":"right-start"},initPopper:function(){this.referenceElm=this.$el,this.popperElm=this.$refs.menu,this.updatePlacement()}},created:function(){var t=this;this.$on("toggle-collapse",this.handleCollapseToggle),this.$on("mouse-enter-child",function(){t.mouseInChild=!0,clearTimeout(t.timeout)}),this.$on("mouse-leave-child",function(){t.mouseInChild=!1,clearTimeout(t.timeout)})},mounted:function(){this.parentMenu.addSubmenu(this),this.rootMenu.addSubmenu(this),this.initPopper()},beforeDestroy:function(){this.parentMenu.removeSubmenu(this),this.rootMenu.removeSubmenu(this)},render:function(t){var e=this,i=this.active,a=this.opened,n=this.paddingStyle,r=this.titleStyle,o=this.backgroundColor,s=this.rootMenu,l=this.currentPlacement,h=this.menuTransitionName,u=this.mode,c=this.disabled,d=this.popperClass,f=this.$slots,p=this.isFirstLevel,m=t("transition",{attrs:{name:h}},[t("div",{ref:"menu",directives:[{name:"show",value:a}],class:["el-menu--"+u,d],on:{mouseenter:function(t){return e.handleMouseenter(t,100)},mouseleave:function(){return e.handleMouseleave(!0)},focus:function(t){return e.handleMouseenter(t,100)}}},[t("ul",{attrs:{role:"menu"},class:["el-menu el-menu--popup","el-menu--popup-"+l],style:{backgroundColor:s.backgroundColor||""}},[f.default])])]),v=t("el-collapse-transition",[t("ul",{attrs:{role:"menu"},class:"el-menu el-menu--inline",directives:[{name:"show",value:a}],style:{backgroundColor:s.backgroundColor||""}},[f.default])]),g="horizontal"===s.mode&&p||"vertical"===s.mode&&!s.collapse?"el-icon-arrow-down":"el-icon-arrow-right";return t("li",{class:{"el-submenu":!0,"is-active":i,"is-opened":a,"is-disabled":c},attrs:{role:"menuitem","aria-haspopup":"true","aria-expanded":a},on:{mouseenter:this.handleMouseenter,mouseleave:function(){return e.handleMouseleave(!1)},focus:this.handleMouseenter}},[t("div",{class:"el-submenu__title",ref:"submenu-title",on:{click:this.handleClick,mouseenter:this.handleTitleMouseenter,mouseleave:this.handleTitleMouseleave},style:[n,r,{backgroundColor:o}]},[f.title,t("i",{class:["el-submenu__icon-arrow",g]})]),this.isMenuPopup?m:v])}},void 0,void 0,!1,null,null,null);St.options.__file="packages/menu/src/submenu.vue";var It=St.exports;It.install=function(t){t.component(It.name,It)};var Tt=It,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"el-menu-item",class:{"is-active":t.active,"is-disabled":t.disabled},style:[t.paddingStyle,t.itemStyle,{backgroundColor:t.backgroundColor}],attrs:{role:"menuitem",tabindex:"-1"},on:{click:t.handleClick,mouseenter:t.onMouseEnter,focus:t.onMouseEnter,blur:t.onMouseLeave,mouseleave:t.onMouseLeave}},["ElMenu"===t.parentMenu.$options.componentName&&t.rootMenu.collapse&&t.$slots.title?i("el-tooltip",{attrs:{effect:"dark",placement:"right"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._t("title")],2),i("div",{staticStyle:{position:"absolute",left:"0",top:"0",height:"100%",width:"100%",display:"inline-block","box-sizing":"border-box",padding:"0 20px"}},[t._t("default")],2)]):[t._t("default"),t._t("title")]],2)};bt._withStripped=!0;var wt=i(26),Mt=i.n(wt),Et=n({name:"ElMenuItem",componentName:"ElMenuItem",mixins:[yt,T.a],components:{ElTooltip:Mt.a},props:{index:{default:null,validator:function(t){return"string"==typeof t||null===t}},route:[String,Object],disabled:Boolean},computed:{active:function(){return this.index===this.rootMenu.activeIndex},hoverBackground:function(){return this.rootMenu.hoverBackground},backgroundColor:function(){return this.rootMenu.backgroundColor||""},activeTextColor:function(){return this.rootMenu.activeTextColor||""},textColor:function(){return this.rootMenu.textColor||""},mode:function(){return this.rootMenu.mode},itemStyle:function(){var t={color:this.active?this.activeTextColor:this.textColor};return"horizontal"!==this.mode||this.isNested||(t.borderBottomColor=this.active?this.rootMenu.activeTextColor?this.activeTextColor:"":"transparent"),t},isNested:function(){return this.parentMenu!==this.rootMenu}},methods:{onMouseEnter:function(){("horizontal"!==this.mode||this.rootMenu.backgroundColor)&&(this.$el.style.backgroundColor=this.hoverBackground)},onMouseLeave:function(){("horizontal"!==this.mode||this.rootMenu.backgroundColor)&&(this.$el.style.backgroundColor=this.backgroundColor)},handleClick:function(){this.disabled||(this.dispatch("ElMenu","item-click",this),this.$emit("click",this))}},mounted:function(){this.parentMenu.addItem(this),this.rootMenu.addItem(this)},beforeDestroy:function(){this.parentMenu.removeItem(this),this.rootMenu.removeItem(this)}},bt,[],!1,null,null,null);Et.options.__file="packages/menu/src/menu-item.vue";var At=Et.exports;At.install=function(t){t.component(At.name,At)};var _t=At,Lt=function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"el-menu-item-group"},[e("div",{staticClass:"el-menu-item-group__title",style:{paddingLeft:this.levelPadding+"px"}},[this.$slots.title?this._t("title"):[this._v(this._s(this.title))]],2),e("ul",[this._t("default")],2)])};Lt._withStripped=!0;var Ft=n({name:"ElMenuItemGroup",componentName:"ElMenuItemGroup",inject:["rootMenu"],props:{title:{type:String}},data:function(){return{paddingLeft:20}},computed:{levelPadding:function(){var t=20,e=this.$parent;if(this.rootMenu.collapse)return 20;for(;e&&"ElMenu"!==e.$options.componentName;)"ElSubmenu"===e.$options.componentName&&(t+=20),e=e.$parent;return t}}},Lt,[],!1,null,null,null);Ft.options.__file="packages/menu/src/menu-item-group.vue";var Ot=Ft.exports;Ot.install=function(t){t.component(Ot.name,Ot)};var Pt=Ot,Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?i("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),"textarea"!==t.type?i("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)):t._e(),t.$slots.prefix||t.prefixIcon?i("span",{staticClass:"el-input__prefix"},[t._t("prefix"),t.prefixIcon?i("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t.getSuffixVisible()?i("span",{staticClass:"el-input__suffix"},[i("span",{staticClass:"el-input__suffix-inner"},[t.showClear&&t.showPwdVisible&&t.isWordLimitVisible?t._e():[t._t("suffix"),t.suffixIcon?i("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],t.showClear?i("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(t){t.preventDefault()},click:t.clear}}):t._e(),t.showPwdVisible?i("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:t.handlePasswordVisible}}):t._e(),t.isWordLimitVisible?i("span",{staticClass:"el-input__count"},[i("span",{staticClass:"el-input__count-inner"},[t._v("\n            "+t._s(t.textLength)+"/"+t._s(t.upperLimit)+"\n          ")])]):t._e()],2),t.validateState?i("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t.$slots.append?i("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:i("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$attrs,!1)),t.isWordLimitVisible&&"textarea"===t.type?i("span",{staticClass:"el-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()],2)};Nt._withStripped=!0;var Rt=void 0,Bt="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",kt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Vt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Rt||(Rt=document.createElement("textarea"),document.body.appendChild(Rt));var a=function(t){var e=window.getComputedStyle(t),i=e.getPropertyValue("box-sizing"),a=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),n=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:kt.map(function(t){return t+":"+e.getPropertyValue(t)}).join(";"),paddingSize:a,borderSize:n,boxSizing:i}}(t),n=a.paddingSize,r=a.borderSize,o=a.boxSizing,s=a.contextStyle;Rt.setAttribute("style",s+";"+Bt),Rt.value=t.value||t.placeholder||"";var l=Rt.scrollHeight,h={};"border-box"===o?l+=r:"content-box"===o&&(l-=n),Rt.value="";var u=Rt.scrollHeight-n;if(null!==e){var c=u*e;"border-box"===o&&(c=c+n+r),l=Math.max(c,l),h.minHeight=c+"px"}if(null!==i){var d=u*i;"border-box"===o&&(d=d+n+r),l=Math.min(d,l)}return h.height=l+"px",Rt.parentNode&&Rt.parentNode.removeChild(Rt),Rt=null,h}var Ht=i(7),Gt=i.n(Ht),Yt=i(19),Wt=n({name:"ElInput",componentName:"ElInput",mixins:[T.a,S.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return Gt()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(t){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var t=this;this.$nextTick(function(){t.setNativeInputValue(),t.resizeTextarea(),t.updateIconOffset()})}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type)if(t){var e=t.minRows,i=t.maxRows;this.textareaCalcStyle=Vt(this.$refs.textarea,e,i)}else this.textareaCalcStyle={minHeight:Vt(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var t=this.getInput();t&&t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(t){var e=t.target.value,i=e[e.length-1]||"";this.isComposing=!Object(Yt.isKorean)(i)},handleCompositionEnd:function(t){this.isComposing&&(this.isComposing=!1,this.handleInput(t))},handleInput:function(t){this.isComposing||t.target.value!==this.nativeInputValue&&(this.$emit("input",t.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(t){this.$emit("change",t.target.value)},calcIconOffset:function(t){var e=[].slice.call(this.$el.querySelectorAll(".el-input__"+t)||[]);if(e.length){for(var i=null,a=0;a<e.length;a++)if(e[a].parentNode===this.$el){i=e[a];break}if(i){var n={suffix:"append",prefix:"prepend"}[t];this.$slots[n]?i.style.transform="translateX("+("suffix"===t?"-":"")+this.$el.querySelector(".el-input-group__"+n).offsetWidth+"px)":i.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},Nt,[],!1,null,null,null);Wt.options.__file="packages/input/src/input.vue";var Xt=Wt.exports;Xt.install=function(t){t.component(Xt.name,Xt)};var Ut=Xt,zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["el-input-number",t.inputNumberSize?"el-input-number--"+t.inputNumberSize:"",{"is-disabled":t.inputNumberDisabled},{"is-without-controls":!t.controls},{"is-controls-right":t.controlsAtRight}],on:{dragstart:function(t){t.preventDefault()}}},[t.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":t.minDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.decrease(e):null}}},[i("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-down":"minus")})]):t._e(),t.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":t.maxDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.increase(e):null}}},[i("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-up":"plus")})]):t._e(),i("el-input",{ref:"input",attrs:{value:t.displayValue,placeholder:t.placeholder,disabled:t.inputNumberDisabled,size:t.inputNumberSize,max:t.max,min:t.min,name:t.name,label:t.label},on:{blur:t.handleBlur,focus:t.handleFocus,input:t.handleInput,change:t.handleInputChange},nativeOn:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.increase(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.decrease(e)):null}]}})],1)};zt._withStripped=!0;var Kt={bind:function(t,e,i){var a=null,n=void 0,r=function(){return i.context[e.expression].apply()},o=function(){Date.now()-n<100&&r(),clearInterval(a),a=null};Object(pt.on)(t,"mousedown",function(t){0===t.button&&(n=Date.now(),Object(pt.once)(document,"mouseup",o),clearInterval(a),a=setInterval(r,100))})}},$t=n({name:"ElInputNumber",mixins:[G()("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:Kt},components:{ElInput:d.a},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(t){return t>=0&&t===parseInt(t,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(t){var e=void 0===t?t:Number(t);if(void 0!==e){if(isNaN(e))return;if(this.stepStrictly){var i=this.getPrecision(this.step),a=Math.pow(10,i);e=Math.round(e/this.step)*a*this.step/a}void 0!==this.precision&&(e=this.toPrecision(e,this.precision))}e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),this.currentValue=e,this.userInput=null,this.$emit("input",e)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var t=this.value,e=this.step,i=this.getPrecision,a=this.precision,n=i(e);return void 0!==a?(n>a&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),a):Math.max(i(t),n)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var t=this.currentValue;if("number"==typeof t){if(this.stepStrictly){var e=this.getPrecision(this.step),i=Math.pow(10,e);t=Math.round(t/this.step)*i*this.step/i}void 0!==this.precision&&(t=t.toFixed(this.precision))}return t}},methods:{toPrecision:function(t,e){return void 0===e&&(e=this.numPrecision),parseFloat(Math.round(t*Math.pow(10,e))/Math.pow(10,e))},getPrecision:function(t){if(void 0===t)return 0;var e=t.toString(),i=e.indexOf("."),a=0;return-1!==i&&(a=e.length-i-1),a},_increase:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*t+i*e)/i)},_decrease:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*t-i*e)/i)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var t=this.value||0,e=this._increase(t,this.step);this.setCurrentValue(e)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var t=this.value||0,e=this._decrease(t,this.step);this.setCurrentValue(e)}},handleBlur:function(t){this.$emit("blur",t)},handleFocus:function(t){this.$emit("focus",t)},setCurrentValue:function(t){var e=this.currentValue;"number"==typeof t&&void 0!==this.precision&&(t=this.toPrecision(t,this.precision)),t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),e!==t&&(this.userInput=null,this.$emit("input",t),this.$emit("change",t,e),this.currentValue=t)},handleInput:function(t){this.userInput=t},handleInputChange:function(t){var e=""===t?void 0:Number(t);isNaN(e)&&""!==t||this.setCurrentValue(e),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var t=this.$refs.input.$refs.input;t.setAttribute("role","spinbutton"),t.setAttribute("aria-valuemax",this.max),t.setAttribute("aria-valuemin",this.min),t.setAttribute("aria-valuenow",this.currentValue),t.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){this.$refs&&this.$refs.input&&this.$refs.input.$refs.input.setAttribute("aria-valuenow",this.currentValue)}},zt,[],!1,null,null,null);$t.options.__file="packages/input-number/src/input-number.vue";var jt=$t.exports;jt.install=function(t){t.component(jt.name,jt)};var qt=jt,Jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-radio",class:[t.border&&t.radioSize?"el-radio--"+t.radioSize:"",{"is-disabled":t.isDisabled},{"is-focus":t.focus},{"is-bordered":t.border},{"is-checked":t.model===t.label}],attrs:{role:"radio","aria-checked":t.model===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.model=t.isDisabled?t.model:t.label}}},[i("span",{staticClass:"el-radio__input",class:{"is-disabled":t.isDisabled,"is-checked":t.model===t.label}},[i("span",{staticClass:"el-radio__inner"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.model,t.label)},on:{focus:function(e){t.focus=!0},blur:function(e){t.focus=!1},change:[function(e){t.model=t.label},t.handleChange]}})]),i("span",{staticClass:"el-radio__label",on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])};Jt._withStripped=!0;var Zt=n({name:"ElRadio",mixins:[T.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){for(var t=this.$parent;t;){if("ElRadioGroup"===t.$options.componentName)return this._radioGroup=t,!0;t=t.$parent}return!1},model:{get:function(){return this.isGroup?this._radioGroup.value:this.value},set:function(t){this.isGroup?this.dispatch("ElRadioGroup","input",[t]):this.$emit("input",t),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._radioGroup.radioGroupSize||t},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick(function(){t.$emit("change",t.model),t.isGroup&&t.dispatch("ElRadioGroup","handleChange",t.model)})}}},Jt,[],!1,null,null,null);Zt.options.__file="packages/radio/src/radio.vue";var Qt=Zt.exports;Qt.install=function(t){t.component(Qt.name,Qt)};var te=Qt,ee=function(){var t=this.$createElement;return(this._self._c||t)(this._elTag,{tag:"component",staticClass:"el-radio-group",attrs:{role:"radiogroup"},on:{keydown:this.handleKeydown}},[this._t("default")],2)};ee._withStripped=!0;var ie=Object.freeze({LEFT:37,UP:38,RIGHT:39,DOWN:40}),ae=n({name:"ElRadioGroup",componentName:"ElRadioGroup",inject:{elFormItem:{default:""}},mixins:[T.a],props:{value:{},size:String,fill:String,textColor:String,disabled:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},_elTag:function(){return(this.$vnode.data||{}).tag||"div"},radioGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},created:function(){var t=this;this.$on("handleChange",function(e){t.$emit("change",e)})},mounted:function(){var t=this.$el.querySelectorAll("[type=radio]"),e=this.$el.querySelectorAll("[role=radio]")[0];![].some.call(t,function(t){return t.checked})&&e&&(e.tabIndex=0)},methods:{handleKeydown:function(t){var e=t.target,i="INPUT"===e.nodeName?"[type=radio]":"[role=radio]",a=this.$el.querySelectorAll(i),n=a.length,r=[].indexOf.call(a,e),o=this.$el.querySelectorAll("[role=radio]");switch(t.keyCode){case ie.LEFT:case ie.UP:t.stopPropagation(),t.preventDefault(),0===r?(o[n-1].click(),o[n-1].focus()):(o[r-1].click(),o[r-1].focus());break;case ie.RIGHT:case ie.DOWN:r===n-1?(t.stopPropagation(),t.preventDefault(),o[0].click(),o[0].focus()):(o[r+1].click(),o[r+1].focus())}}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[this.value])}}},ee,[],!1,null,null,null);ae.options.__file="packages/radio/src/radio-group.vue";var ne=ae.exports;ne.install=function(t){t.component(ne.name,ne)};var re=ne,oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-radio-button",class:[t.size?"el-radio-button--"+t.size:"",{"is-active":t.value===t.label},{"is-disabled":t.isDisabled},{"is-focus":t.focus}],attrs:{role:"radio","aria-checked":t.value===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.value=t.isDisabled?t.value:t.label}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"el-radio-button__orig-radio",attrs:{type:"radio",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.value,t.label)},on:{change:[function(e){t.value=t.label},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}),i("span",{staticClass:"el-radio-button__inner",style:t.value===t.label?t.activeStyle:null,on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])};oe._withStripped=!0;var se=n({name:"ElRadioButton",mixins:[T.a],inject:{elForm:{default:""},elFormItem:{default:""}},props:{label:{},disabled:Boolean,name:String},data:function(){return{focus:!1}},computed:{value:{get:function(){return this._radioGroup.value},set:function(t){this._radioGroup.$emit("input",t)}},_radioGroup:function(){for(var t=this.$parent;t;){if("ElRadioGroup"===t.$options.componentName)return t;t=t.$parent}return!1},activeStyle:function(){return{backgroundColor:this._radioGroup.fill||"",borderColor:this._radioGroup.fill||"",boxShadow:this._radioGroup.fill?"-1px 0 0 0 "+this._radioGroup.fill:"",color:this._radioGroup.textColor||""}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._radioGroup.radioGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isDisabled:function(){return this.disabled||this._radioGroup.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this._radioGroup&&this.value!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick(function(){t.dispatch("ElRadioGroup","handleChange",t.value)})}}},oe,[],!1,null,null,null);se.options.__file="packages/radio/src/radio-button.vue";var le=se.exports;le.install=function(t){t.component(le.name,le)};var he=le,ue=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-checkbox",class:[t.border&&t.checkboxSize?"el-checkbox--"+t.checkboxSize:"",{"is-disabled":t.isDisabled},{"is-bordered":t.border},{"is-checked":t.isChecked}],attrs:{id:t.id}},[i("span",{staticClass:"el-checkbox__input",class:{"is-disabled":t.isDisabled,"is-checked":t.isChecked,"is-indeterminate":t.indeterminate,"is-focus":t.focus},attrs:{tabindex:!!t.indeterminate&&0,role:!!t.indeterminate&&"checkbox","aria-checked":!!t.indeterminate&&"mixed"}},[i("span",{staticClass:"el-checkbox__inner"}),t.trueLabel||t.falseLabel?i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",name:t.name,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t._q(t.model,t.trueLabel)},on:{change:[function(e){var i=t.model,a=e.target,n=a.checked?t.trueLabel:t.falseLabel;if(Array.isArray(i)){var r=t._i(i,null);a.checked?r<0&&(t.model=i.concat([null])):r>-1&&(t.model=i.slice(0,r).concat(i.slice(r+1)))}else t.model=n},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",disabled:t.isDisabled,name:t.name},domProps:{value:t.label,checked:Array.isArray(t.model)?t._i(t.model,t.label)>-1:t.model},on:{change:[function(e){var i=t.model,a=e.target,n=!!a.checked;if(Array.isArray(i)){var r=t.label,o=t._i(i,r);a.checked?o<0&&(t.model=i.concat([r])):o>-1&&(t.model=i.slice(0,o).concat(i.slice(o+1)))}else t.model=n},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}})]),t.$slots.default||t.label?i("span",{staticClass:"el-checkbox__label"},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2):t._e()])};ue._withStripped=!0;var ce=n({name:"ElCheckbox",mixins:[T.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(t){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&t.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&t.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[t])):(this.$emit("input",t),this.selfModel=t)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){for(var t=this.$parent;t;){if("ElCheckboxGroup"===t.$options.componentName)return this._checkboxGroup=t,!0;t=t.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var t=this._checkboxGroup,e=t.max,i=t.min;return!(!e&&!i)&&this.model.length>=e&&!this.isChecked||this.model.length<=i&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||t}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(t){var e=this;if(!this.isLimitExceeded){var i=void 0;i=t.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",i,t),this.$nextTick(function(){e.isGroup&&e.dispatch("ElCheckboxGroup","change",[e._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",t)}}},ue,[],!1,null,null,null);ce.options.__file="packages/checkbox/src/checkbox.vue";var de=ce.exports;de.install=function(t){t.component(de.name,de)};var fe=de,pe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-checkbox-button",class:[t.size?"el-checkbox-button--"+t.size:"",{"is-disabled":t.isDisabled},{"is-checked":t.isChecked},{"is-focus":t.focus}],attrs:{role:"checkbox","aria-checked":t.isChecked,"aria-disabled":t.isDisabled}},[t.trueLabel||t.falseLabel?i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:t.name,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t._q(t.model,t.trueLabel)},on:{change:[function(e){var i=t.model,a=e.target,n=a.checked?t.trueLabel:t.falseLabel;if(Array.isArray(i)){var r=t._i(i,null);a.checked?r<0&&(t.model=i.concat([null])):r>-1&&(t.model=i.slice(0,r).concat(i.slice(r+1)))}else t.model=n},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:t.name,disabled:t.isDisabled},domProps:{value:t.label,checked:Array.isArray(t.model)?t._i(t.model,t.label)>-1:t.model},on:{change:[function(e){var i=t.model,a=e.target,n=!!a.checked;if(Array.isArray(i)){var r=t.label,o=t._i(i,r);a.checked?o<0&&(t.model=i.concat([r])):o>-1&&(t.model=i.slice(0,o).concat(i.slice(o+1)))}else t.model=n},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}),t.$slots.default||t.label?i("span",{staticClass:"el-checkbox-button__inner",style:t.isChecked?t.activeStyle:null},[t._t("default",[t._v(t._s(t.label))])],2):t._e()])};pe._withStripped=!0;var me=n({name:"ElCheckboxButton",mixins:[T.a],inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},props:{value:{},label:{},disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number]},computed:{model:{get:function(){return this._checkboxGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(t){this._checkboxGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&t.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&t.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[t])):void 0!==this.value?this.$emit("input",t):this.selfModel=t}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},_checkboxGroup:function(){for(var t=this.$parent;t;){if("ElCheckboxGroup"===t.$options.componentName)return t;t=t.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},activeStyle:function(){return{backgroundColor:this._checkboxGroup.fill||"",borderColor:this._checkboxGroup.fill||"",color:this._checkboxGroup.textColor||"","box-shadow":"-1px 0 0 0 "+this._checkboxGroup.fill}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._checkboxGroup.checkboxGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isLimitDisabled:function(){var t=this._checkboxGroup,e=t.max,i=t.min;return!(!e&&!i)&&this.model.length>=e&&!this.isChecked||this.model.length<=i&&this.isChecked},isDisabled:function(){return this._checkboxGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled}},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(t){var e=this;if(!this.isLimitExceeded){var i=void 0;i=t.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",i,t),this.$nextTick(function(){e._checkboxGroup&&e.dispatch("ElCheckboxGroup","change",[e._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()}},pe,[],!1,null,null,null);me.options.__file="packages/checkbox/src/checkbox-button.vue";var ve=me.exports;ve.install=function(t){t.component(ve.name,ve)};var ge=ve,Ce=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[this._t("default")],2)};Ce._withStripped=!0;var De=n({name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[T.a],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[t])}}},Ce,[],!1,null,null,null);De.options.__file="packages/checkbox/src/checkbox-group.vue";var ye=De.exports;ye.install=function(t){t.component(ye.name,ye)};var xe=ye,Se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-switch",class:{"is-disabled":t.switchDisabled,"is-checked":t.checked},attrs:{role:"switch","aria-checked":t.checked,"aria-disabled":t.switchDisabled},on:{click:function(e){return e.preventDefault(),t.switchValue(e)}}},[i("input",{ref:"input",staticClass:"el-switch__input",attrs:{type:"checkbox",id:t.id,name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:t.switchDisabled},on:{change:t.handleChange,keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.switchValue(e):null}}}),t.inactiveIconClass||t.inactiveText?i("span",{class:["el-switch__label","el-switch__label--left",t.checked?"":"is-active"]},[t.inactiveIconClass?i("i",{class:[t.inactiveIconClass]}):t._e(),!t.inactiveIconClass&&t.inactiveText?i("span",{attrs:{"aria-hidden":t.checked}},[t._v(t._s(t.inactiveText))]):t._e()]):t._e(),i("span",{ref:"core",staticClass:"el-switch__core",style:{width:t.coreWidth+"px"}}),t.activeIconClass||t.activeText?i("span",{class:["el-switch__label","el-switch__label--right",t.checked?"is-active":""]},[t.activeIconClass?i("i",{class:[t.activeIconClass]}):t._e(),!t.activeIconClass&&t.activeText?i("span",{attrs:{"aria-hidden":!t.checked}},[t._v(t._s(t.activeText))]):t._e()]):t._e()])};Se._withStripped=!0;var Ie=n({name:"ElSwitch",mixins:[G()("input"),S.a,T.a],inject:{elForm:{default:""}},props:{value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},activeIconClass:{type:String,default:""},inactiveIconClass:{type:String,default:""},activeText:String,inactiveText:String,activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String},data:function(){return{coreWidth:this.width}},created:function(){~[this.activeValue,this.inactiveValue].indexOf(this.value)||this.$emit("input",this.inactiveValue)},computed:{checked:function(){return this.value===this.activeValue},switchDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{checked:function(){this.$refs.input.checked=this.checked,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[this.value])}},methods:{handleChange:function(t){var e=this,i=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",i),this.$emit("change",i),this.$nextTick(function(){e.$refs.input.checked=e.checked})},setBackgroundColor:function(){var t=this.checked?this.activeColor:this.inactiveColor;this.$refs.core.style.borderColor=t,this.$refs.core.style.backgroundColor=t},switchValue:function(){!this.switchDisabled&&this.handleChange()},getMigratingConfig:function(){return{props:{"on-color":"on-color is renamed to active-color.","off-color":"off-color is renamed to inactive-color.","on-text":"on-text is renamed to active-text.","off-text":"off-text is renamed to inactive-text.","on-value":"on-value is renamed to active-value.","off-value":"off-value is renamed to inactive-value.","on-icon-class":"on-icon-class is renamed to active-icon-class.","off-icon-class":"off-icon-class is renamed to inactive-icon-class."}}}},mounted:function(){this.coreWidth=this.width||40,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.$refs.input.checked=this.checked}},Se,[],!1,null,null,null);Ie.options.__file="packages/switch/src/component.vue";var Te=Ie.exports;Te.install=function(t){t.component(Te.name,Te)};var be=Te,we=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[t.selectSize?"el-select--"+t.selectSize:""],on:{click:function(e){return e.stopPropagation(),t.toggleMenu(e)}}},[t.multiple?i("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":t.inputWidth-32+"px",width:"100%"}},[t.collapseTags&&t.selected.length?i("span",[i("el-tag",{attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(e){t.deleteTag(e,t.selected[0])}}},[i("span",{staticClass:"el-select__tags-text"},[t._v(t._s(t.selected[0].currentLabel))])]),t.selected.length>1?i("el-tag",{attrs:{closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""}},[i("span",{staticClass:"el-select__tags-text"},[t._v("+ "+t._s(t.selected.length-1))])]):t._e()],1):t._e(),t.collapseTags?t._e():i("transition-group",{on:{"after-leave":t.resetInputHeight}},t._l(t.selected,function(e){return i("el-tag",{key:t.getValueKey(e),attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:e.hitState,type:"info","disable-transitions":""},on:{close:function(i){t.deleteTag(i,e)}}},[i("span",{staticClass:"el-select__tags-text"},[t._v(t._s(e.currentLabel))])])}),1),t.filterable?i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[t.selectSize?"is-"+t.selectSize:""],style:{"flex-grow":"1",width:t.inputLength/(t.inputWidth-32)+"%","max-width":t.inputWidth-42+"px"},attrs:{type:"text",disabled:t.selectDisabled,autocomplete:t.autoComplete||t.autocomplete},domProps:{value:t.query},on:{focus:t.handleFocus,blur:function(e){t.softFocus=!1},keyup:t.managePlaceholder,keydown:[t.resetInputState,function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?t.deletePrevTag(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:[function(e){e.target.composing||(t.query=e.target.value)},t.debouncedQueryChange]}}):t._e()],1):t._e(),i("el-input",{ref:"reference",class:{"is-focus":t.visible},attrs:{type:"text",placeholder:t.currentPlaceholder,name:t.name,id:t.id,autocomplete:t.autoComplete||t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,tabindex:t.multiple&&t.filterable?"-1":null},on:{focus:t.handleFocus,blur:t.handleBlur},nativeOn:{keyup:function(e){return t.debouncedOnInputChange(e)},keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],paste:function(e){return t.debouncedOnInputChange(e)},mouseenter:function(e){t.inputHovering=!0},mouseleave:function(e){t.inputHovering=!1}},model:{value:t.selectedLabel,callback:function(e){t.selectedLabel=e},expression:"selectedLabel"}},[t.$slots.prefix?i("template",{slot:"prefix"},[t._t("prefix")],2):t._e(),i("template",{slot:"suffix"},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+t.iconClass]}),t.showClose?i("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:t.handleClearClick}}):t._e()])],2),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":t.handleMenuEnter,"after-leave":t.doDestroy}},[i("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:t.visible&&!1!==t.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":t.popperAppendToBody}},[i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.options.length>0&&!t.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!t.allowCreate&&t.query&&0===t.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[t.showNewOption?i("el-option",{attrs:{value:t.query,created:""}}):t._e(),t._t("default")],2),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&0===t.options.length)?[t.$slots.empty?t._t("empty"):i("p",{staticClass:"el-select-dropdown__empty"},[t._v("\n          "+t._s(t.emptyText)+"\n        ")])]:t._e()],2)],1)],1)};we._withStripped=!0;var Me=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":this.$parent.multiple},this.popperClass],style:{minWidth:this.minWidth}},[this._t("default")],2)};Me._withStripped=!0;var Ee=n({name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[N.a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var t=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",function(){t.$parent.visible&&t.updatePopper()}),this.$on("destroyPopper",this.destroyPopper)}},Me,[],!1,null,null,null);Ee.options.__file="packages/select/src/select-dropdown.vue";var Ae=Ee.exports,_e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[i("span",[t._v(t._s(t.currentLabel))])])],2)};_e._withStripped=!0;var Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fe=n({mixins:[T.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var i=this.select,a=i.remote,n=i.valueKey;if(!this.created&&!a){if(n&&"object"===(void 0===t?"undefined":Le(t))&&"object"===(void 0===e?"undefined":Le(e))&&t[n]===e[n])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var i=this.select.valueKey;return Object(m.getValueByPath)(t,i)===Object(m.getValueByPath)(e,i)}return t===e},contains:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(this.isObject){var i=this.select.valueKey;return t&&t.some(function(t){return Object(m.getValueByPath)(t,i)===Object(m.getValueByPath)(e,i)})}return t&&t.indexOf(e)>-1},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(m.escapeRegexpString)(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select,e=t.selected,i=t.multiple?e:[e],a=this.select.cachedOptions.indexOf(this),n=i.indexOf(this);a>-1&&n<0&&this.select.cachedOptions.splice(a,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},_e,[],!1,null,null,null);Fe.options.__file="packages/select/src/option.vue";var Oe=Fe.exports,Pe=i(30),Ne=i.n(Pe),Re=i(13),Be=i(11),ke=i.n(Be),Ve=i(27),He=i.n(Ve),Ge=n({mixins:[T.a,p.a,G()("reference"),{data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter(function(t){return t.visible}).every(function(t){return t.disabled})}},watch:{hoverIndex:function(t){var e=this;"number"==typeof t&&t>-1&&(this.hoverOption=this.options[t]||{}),this.options.forEach(function(t){t.hover=e.hoverOption===t})}},methods:{navigateOptions:function(t){var e=this;if(this.visible){if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===t?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===t&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1));var i=this.options[this.hoverIndex];!0!==i.disabled&&!0!==i.groupDisabled&&i.visible||this.navigateOptions(t),this.$nextTick(function(){return e.scrollToOption(e.hoverOption)})}}else this.visible=!0}}}],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(m.isIE)()&&!Object(m.isEdge)()&&!this.visible},showClose:function(){var t=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value;return this.clearable&&!this.selectDisabled&&this.inputHovering&&t},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var t=this,e=this.options.filter(function(t){return!t.created}).some(function(e){return e.currentLabel===t.query});return this.filterable&&this.allowCreate&&""!==this.query&&!e},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"}},components:{ElInput:d.a,ElSelectMenu:Ae,ElOption:Oe,ElTag:Ne.a,ElScrollbar:B.a},directives:{Clickoutside:F.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,default:function(){return Object(Be.t)("el.select.placeholder")}},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var t=this;this.$nextTick(function(){t.resetInputHeight()})},placeholder:function(t){this.cachedPlaceHolder=this.currentPlaceholder=t},value:function(t,e){this.multiple&&(this.resetInputHeight(),t&&t.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(m.valueEquals)(t,e)||this.dispatch("ElFormItem","el.form.change",t)},visible:function(t){var e=this;t?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick(function(){e.$refs.input&&""===e.$refs.input.value&&0===e.selected.length&&(e.currentPlaceholder=e.cachedPlaceHolder)}),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",t)},options:function(){var t=this;if(!this.$isServer){this.$nextTick(function(){t.broadcast("ElSelectDropdown","updatePopper")}),this.multiple&&this.resetInputHeight();var e=this.$el.querySelectorAll("input");-1===[].indexOf.call(e,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleComposition:function(t){var e=this,i=t.target.value;if("compositionend"===t.type)this.isOnComposition=!1,this.$nextTick(function(t){return e.handleQueryChange(i)});else{var a=i[i.length-1]||"";this.isOnComposition=!Object(Yt.isKorean)(a)}},handleQueryChange:function(t){var e=this;this.previousQuery===t||this.isOnComposition||(null!==this.previousQuery||"function"!=typeof this.filterMethod&&"function"!=typeof this.remoteMethod?(this.previousQuery=t,this.$nextTick(function(){e.visible&&e.broadcast("ElSelectDropdown","updatePopper")}),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick(function(){var t=15*e.$refs.input.value.length+20;e.inputLength=e.collapseTags?Math.min(50,t):t,e.managePlaceholder(),e.resetInputHeight()}),this.remote&&"function"==typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(t)):"function"==typeof this.filterMethod?(this.filterMethod(t),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",t),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=t)},scrollToOption:function(t){var e=Array.isArray(t)&&t[0]?t[0].$el:t.$el;if(this.$refs.popper&&e){var i=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");He()(i,e)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var t=this;this.$nextTick(function(){return t.scrollToOption(t.selected)})},emitChange:function(t){Object(m.valueEquals)(this.value,t)||this.$emit("change",t)},getOption:function(t){for(var e=void 0,i="[object object]"===Object.prototype.toString.call(t).toLowerCase(),a="[object null]"===Object.prototype.toString.call(t).toLowerCase(),n="[object undefined]"===Object.prototype.toString.call(t).toLowerCase(),r=this.cachedOptions.length-1;r>=0;r--){var o=this.cachedOptions[r];if(i?Object(m.getValueByPath)(o.value,this.valueKey)===Object(m.getValueByPath)(t,this.valueKey):o.value===t){e=o;break}}if(e)return e;var s={value:t,currentLabel:i||a||n?"":t};return this.multiple&&(s.hitState=!1),s},setSelected:function(){var t=this;if(!this.multiple){var e=this.getOption(this.value);return e.created?(this.createdLabel=e.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=e.currentLabel,this.selected=e,void(this.filterable&&(this.query=this.selectedLabel))}var i=[];Array.isArray(this.value)&&this.value.forEach(function(e){i.push(t.getOption(e))}),this.selected=i,this.$nextTick(function(){t.resetInputHeight()})},handleFocus:function(t){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.visible=!0,this.filterable&&(this.menuVisibleOnFocus=!0)),this.$emit("focus",t))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(t){var e=this;setTimeout(function(){e.isSilentBlur?e.isSilentBlur=!1:e.$emit("blur",t)},50),this.softFocus=!1},handleClearClick:function(t){this.deleteSelected(t)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(t){if(Array.isArray(this.selected)){var e=this.selected[this.selected.length-1];if(e)return!0===t||!1===t?(e.hitState=t,t):(e.hitState=!e.hitState,e.hitState)}},deletePrevTag:function(t){if(t.target.value.length<=0&&!this.toggleLastOptionHitState()){var e=this.value.slice();e.pop(),this.$emit("input",e),this.emitChange(e)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(t){8!==t.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var t=this;this.collapseTags&&!this.filterable||this.$nextTick(function(){if(t.$refs.reference){var e=t.$refs.reference.$el.childNodes,i=[].filter.call(e,function(t){return"INPUT"===t.tagName})[0],a=t.$refs.tags,n=t.initialInputHeight||40;i.style.height=0===t.selected.length?n+"px":Math.max(a?a.clientHeight+(a.clientHeight>n?6:0):0,n)+"px",t.visible&&!1!==t.emptyText&&t.broadcast("ElSelectDropdown","updatePopper")}})},resetHoverIndex:function(){var t=this;setTimeout(function(){t.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(function(e){return t.options.indexOf(e)})):t.hoverIndex=-1:t.hoverIndex=t.options.indexOf(t.selected)},300)},handleOptionSelect:function(t,e){var i=this;if(this.multiple){var a=(this.value||[]).slice(),n=this.getValueIndex(a,t.value);n>-1?a.splice(n,1):(this.multipleLimit<=0||a.length<this.multipleLimit)&&a.push(t.value),this.$emit("input",a),this.emitChange(a),t.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",t.value),this.emitChange(t.value),this.visible=!1;this.isSilentBlur=e,this.setSoftFocus(),this.visible||this.$nextTick(function(){i.scrollToOption(t)})},setSoftFocus:function(){this.softFocus=!0;var t=this.$refs.input||this.$refs.reference;t&&t.focus()},getValueIndex:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if("[object object]"===Object.prototype.toString.call(e).toLowerCase()){var i=this.valueKey,a=-1;return t.some(function(t,n){return Object(m.getValueByPath)(t,i)===Object(m.getValueByPath)(e,i)&&(a=n,!0)}),a}return t.indexOf(e)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(t){t.stopPropagation();var e=this.multiple?[]:"";this.$emit("input",e),this.emitChange(e),this.visible=!1,this.$emit("clear")},deleteTag:function(t,e){var i=this.selected.indexOf(e);if(i>-1&&!this.selectDisabled){var a=this.value.slice();a.splice(i,1),this.$emit("input",a),this.emitChange(a),this.$emit("remove-tag",e.value)}t.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(t){t>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(t,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){this.hoverIndex=-1;for(var t=!1,e=this.options.length-1;e>=0;e--)if(this.options[e].created){t=!0,this.hoverIndex=e;break}if(!t)for(var i=0;i!==this.options.length;++i){var a=this.options[i];if(this.query){if(!a.disabled&&!a.groupDisabled&&a.visible){this.hoverIndex=i;break}}else if(a.itemSelected){this.hoverIndex=i;break}}},getValueKey:function(t){return"[object object]"!==Object.prototype.toString.call(t.value).toLowerCase()?t.value:Object(m.getValueByPath)(t.value,this.valueKey)}},created:function(){var t=this;this.cachedPlaceHolder=this.currentPlaceholder=this.placeholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=_()(this.debounce,function(){t.onInputChange()}),this.debouncedQueryChange=_()(this.debounce,function(e){t.handleQueryChange(e.target.value)}),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var t=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(Re.addResizeListener)(this.$el,this.handleResize);var e=this.$refs.reference;if(e&&e.$el){var i=e.$el.querySelector("input");this.initialInputHeight=i.getBoundingClientRect().height||{medium:36,small:32,mini:28}[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick(function(){e&&e.$el&&(t.inputWidth=e.$el.getBoundingClientRect().width)}),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(Re.removeResizeListener)(this.$el,this.handleResize)}},we,[],!1,null,null,null);Ge.options.__file="packages/select/src/select.vue";var Ye=Ge.exports;Ye.install=function(t){t.component(Ye.name,Ye)};var We=Ye;Oe.install=function(t){t.component(Oe.name,Oe)};var Xe=Oe,Ue=function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"el-select-group__wrap"},[e("li",{staticClass:"el-select-group__title"},[this._v(this._s(this.label))]),e("li",[e("ul",{staticClass:"el-select-group"},[this._t("default")],2)])])};Ue._withStripped=!0;var ze=n({mixins:[T.a],name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},data:function(){return{visible:!0}},watch:{disabled:function(t){this.broadcast("ElOption","handleGroupDisabled",t)}},methods:{queryChange:function(){this.visible=this.$children&&Array.isArray(this.$children)&&this.$children.some(function(t){return!0===t.visible})}},created:function(){this.$on("queryChange",this.queryChange)},mounted:function(){this.disabled&&this.broadcast("ElOption","handleGroupDisabled",this.disabled)}},Ue,[],!1,null,null,null);ze.options.__file="packages/select/src/option-group.vue";var Ke=ze.exports;Ke.install=function(t){t.component(Ke.name,Ke)};var $e=Ke,je=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?i("i",{staticClass:"el-icon-loading"}):t._e(),t.icon&&!t.loading?i("i",{class:t.icon}):t._e(),t.$slots.default?i("span",[t._t("default")],2):t._e()])};je._withStripped=!0;var qe=n({name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}},je,[],!1,null,null,null);qe.options.__file="packages/button/src/button.vue";var Je=qe.exports;Je.install=function(t){t.component(Je.name,Je)};var Ze=Je,Qe=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-button-group"},[this._t("default")],2)};Qe._withStripped=!0;var ti=n({name:"ElButtonGroup"},Qe,[],!1,null,null,null);ti.options.__file="packages/button/src/button-group.vue";var ei=ti.exports;ei.install=function(t){t.component(ei.name,ei)};var ii=ei,ai=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-table",class:[{"el-table--fit":t.fit,"el-table--striped":t.stripe,"el-table--border":t.border||t.isGroup,"el-table--hidden":t.isHidden,"el-table--group":t.isGroup,"el-table--fluid-height":t.maxHeight,"el-table--scrollable-x":t.layout.scrollX,"el-table--scrollable-y":t.layout.scrollY,"el-table--enable-row-hover":!t.store.states.isComplex,"el-table--enable-row-transition":0!==(t.store.states.data||[]).length&&(t.store.states.data||[]).length<100},t.tableSize?"el-table--"+t.tableSize:""],on:{mouseleave:function(e){t.handleMouseLeave(e)}}},[i("div",{ref:"hiddenColumns",staticClass:"hidden-columns"},[t._t("default")],2),t.showHeader?i("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"headerWrapper",staticClass:"el-table__header-wrapper"},[i("table-header",{ref:"tableHeader",style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.border,"default-sort":t.defaultSort}})],1):t._e(),i("div",{ref:"bodyWrapper",staticClass:"el-table__body-wrapper",class:[t.layout.scrollX?"is-scrolling-"+t.scrollPosition:"is-scrolling-none"],style:[t.bodyHeight]},[i("table-body",{style:{width:t.bodyWidth},attrs:{context:t.context,store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.data&&0!==t.data.length?t._e():i("div",{ref:"emptyBlock",staticClass:"el-table__empty-block",style:t.emptyBlockStyle},[i("span",{staticClass:"el-table__empty-text"},[t._t("empty",[t._v(t._s(t.emptyText||t.t("el.table.emptyText")))])],2)]),t.$slots.append?i("div",{ref:"appendWrapper",staticClass:"el-table__append-wrapper"},[t._t("append")],2):t._e()],1),t.showSummary?i("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"},{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"footerWrapper",staticClass:"el-table__footer-wrapper"},[i("table-footer",{style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,"default-sort":t.defaultSort}})],1):t._e(),t.fixedColumns.length>0?i("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"fixedWrapper",staticClass:"el-table__fixed",style:[{width:t.layout.fixedWidth?t.layout.fixedWidth+"px":""},t.fixedHeight]},[t.showHeader?i("div",{ref:"fixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[i("table-header",{ref:"fixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.border,store:t.store}})],1):t._e(),i("div",{ref:"fixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[i("table-body",{style:{width:t.bodyWidth},attrs:{fixed:"left",store:t.store,stripe:t.stripe,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"row-style":t.rowStyle}}),t.$slots.append?i("div",{staticClass:"el-table__append-gutter",style:{height:t.layout.appendHeight+"px"}}):t._e()],1),t.showSummary?i("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"}],ref:"fixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[i("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),t.rightFixedColumns.length>0?i("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"rightFixedWrapper",staticClass:"el-table__fixed-right",style:[{width:t.layout.rightFixedWidth?t.layout.rightFixedWidth+"px":"",right:t.layout.scrollY?(t.border?t.layout.gutterWidth:t.layout.gutterWidth||0)+"px":""},t.fixedHeight]},[t.showHeader?i("div",{ref:"rightFixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[i("table-header",{ref:"rightFixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.border,store:t.store}})],1):t._e(),i("div",{ref:"rightFixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[i("table-body",{style:{width:t.bodyWidth},attrs:{fixed:"right",store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.$slots.append?i("div",{staticClass:"el-table__append-gutter",style:{height:t.layout.appendHeight+"px"}}):t._e()],1),t.showSummary?i("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"}],ref:"rightFixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[i("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),t.rightFixedColumns.length>0?i("div",{ref:"rightFixedPatch",staticClass:"el-table__fixed-right-patch",style:{width:t.layout.scrollY?t.layout.gutterWidth+"px":"0",height:t.layout.headerHeight+"px"}}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.resizeProxyVisible,expression:"resizeProxyVisible"}],ref:"resizeProxy",staticClass:"el-table__column-resize-proxy"})])};ai._withStripped=!0;var ni=i(16),ri=i.n(ni),oi=i(35),si=i(38),li=i.n(si),hi="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,ui={bind:function(t,e){var i,a;i=t,a=e.value,i&&i.addEventListener&&i.addEventListener(hi?"DOMMouseScroll":"mousewheel",function(t){var e=li()(t);a&&a.apply(this,[t,e])})}},ci=i(6),di=i.n(ci),fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi=function(t){for(var e=t.target;e&&"HTML"!==e.tagName.toUpperCase();){if("TD"===e.tagName.toUpperCase())return e;e=e.parentNode}return null},mi=function(t){return null!==t&&"object"===(void 0===t?"undefined":fi(t))},vi=function(t,e,i,a,n){if(!e&&!a&&(!n||Array.isArray(n)&&!n.length))return t;i="string"==typeof i?"descending"===i?-1:1:i&&i<0?-1:1;var r=a?null:function(i,a){return n?(Array.isArray(n)||(n=[n]),n.map(function(e){return"string"==typeof e?Object(m.getValueByPath)(i,e):e(i,a,t)})):("$key"!==e&&mi(i)&&"$value"in i&&(i=i.$value),[mi(i)?Object(m.getValueByPath)(i,e):i])};return t.map(function(t,e){return{value:t,index:e,key:r?r(t,e):null}}).sort(function(t,e){var n=function(t,e){if(a)return a(t.value,e.value);for(var i=0,n=t.key.length;i<n;i++){if(t.key[i]<e.key[i])return-1;if(t.key[i]>e.key[i])return 1}return 0}(t,e);return n||(n=t.index-e.index),n*i}).map(function(t){return t.value})},gi=function(t,e){var i=null;return t.columns.forEach(function(t){t.id===e&&(i=t)}),i},Ci=function(t,e){var i=(e.className||"").match(/el-table_[^\s]+/gm);return i?gi(t,i[0]):null},Di=function(t,e){if(!t)throw new Error("row is required when get row identity");if("string"==typeof e){if(e.indexOf(".")<0)return t[e];for(var i=e.split("."),a=t,n=0;n<i.length;n++)a=a[i[n]];return a}if("function"==typeof e)return e.call(null,t)},yi=function(t,e){var i={};return(t||[]).forEach(function(t,a){i[Di(t,e)]={row:t,index:a}}),i};function xi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Si(t){return void 0!==t&&(t=parseInt(t,10),isNaN(t)&&(t=null)),t}function Ii(t){return"number"==typeof t?t:"string"==typeof t?/^\d+(?:px)?$/.test(t)?parseInt(t,10):t:null}function Ti(t,e,i){var a=!1,n=t.indexOf(e),r=-1!==n,o=function(){t.push(e),a=!0},s=function(){t.splice(n,1),a=!0};return"boolean"==typeof i?i&&!r?o():!i&&r&&s():r?s():o(),a}function bi(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hasChildren",n=function(t){return!(Array.isArray(t)&&t.length)};t.forEach(function(t){if(t[a])e(t,null,0);else{var r=t[i];n(r)||function t(r,o,s){e(r,o,s),o.forEach(function(r){if(r[a])e(r,null,s+1);else{var o=r[i];n(o)||t(r,o,s+1)}})}(t,r,0)}})}var wi={data:function(){return{states:{defaultExpandAll:!1,expandRows:[]}}},methods:{updateExpandRows:function(){var t=this.states,e=t.data,i=void 0===e?[]:e,a=t.rowKey,n=t.defaultExpandAll,r=t.expandRows;if(n)this.states.expandRows=i.slice();else if(a){var o=yi(r,a);this.states.expandRows=i.reduce(function(t,e){var i=Di(e,a);return o[i]&&t.push(e),t},[])}else this.states.expandRows=[]},toggleRowExpansion:function(t,e){Ti(this.states.expandRows,t,e)&&(this.table.$emit("expand-change",t,this.states.expandRows.slice()),this.scheduleLayout())},setExpandRowKeys:function(t){this.assertRowKey();var e=this.states,i=e.data,a=e.rowKey,n=yi(i,a);this.states.expandRows=t.reduce(function(t,e){var i=n[e];return i&&t.push(i.row),t},[])},isRowExpanded:function(t){var e=this.states,i=e.expandRows,a=void 0===i?[]:i,n=e.rowKey;return n?!!yi(a,n)[Di(t,n)]:-1!==a.indexOf(t)}}},Mi={data:function(){return{states:{_currentRowKey:null,currentRow:null}}},methods:{setCurrentRowKey:function(t){this.assertRowKey(),this.states._currentRowKey=t,this.setCurrentRowByKey(t)},restoreCurrentRowKey:function(){this.states._currentRowKey=null},setCurrentRowByKey:function(t){var e=this.states,i=e.data,a=void 0===i?[]:i,n=e.rowKey,r=null;n&&(r=Object(m.arrayFind)(a,function(e){return Di(e,n)===t})),e.currentRow=r},updateCurrentRow:function(t){var e=this.states,i=this.table,a=e.currentRow;if(t&&t!==a)return e.currentRow=t,void i.$emit("current-change",t,a);!t&&a&&(e.currentRow=null,i.$emit("current-change",null,a))},updateCurrentRowData:function(){var t=this.states,e=this.table,i=t.rowKey,a=t._currentRowKey,n=t.data||[],r=t.currentRow;if(-1===n.indexOf(r)&&r){if(i){var o=Di(r,i);this.setCurrentRowByKey(o)}else t.currentRow=null;null===t.currentRow&&e.$emit("current-change",null,r)}else a&&(this.setCurrentRowByKey(a),this.restoreCurrentRowKey())}}},Ei=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},Ai={data:function(){return{states:{expandRowKeys:[],treeData:{},indent:16,lazy:!1,lazyTreeNodeMap:{},lazyColumnIdentifier:"hasChildren",childrenColumnName:"children"}}},computed:{normalizedData:function(){if(!this.states.rowKey)return{};var t=this.states.data||[];return this.normalize(t)},normalizedLazyNode:function(){var t=this.states,e=t.rowKey,i=t.lazyTreeNodeMap,a=t.lazyColumnIdentifier,n=Object.keys(i),r={};return n.length?(n.forEach(function(t){if(i[t].length){var n={children:[]};i[t].forEach(function(t){var i=Di(t,e);n.children.push(i),t[a]&&!r[i]&&(r[i]={children:[]})}),r[t]=n}}),r):r}},watch:{normalizedData:"updateTreeData",normalizedLazyNode:"updateTreeData"},methods:{normalize:function(t){var e=this.states,i=e.childrenColumnName,a=e.lazyColumnIdentifier,n=e.rowKey,r=e.lazy,o={};return bi(t,function(t,e,i){var a=Di(t,n);Array.isArray(e)?o[a]={children:e.map(function(t){return Di(t,n)}),level:i}:r&&(o[a]={children:[],lazy:!0,level:i})},i,a),o},updateTreeData:function(){var t=this.normalizedData,e=this.normalizedLazyNode,i=Object.keys(t),a={};if(i.length){var n=this.states,r=n.treeData,o=n.defaultExpandAll,s=n.expandRowKeys,l=n.lazy,h=[],u=function(t,e){var i=o||s&&-1!==s.indexOf(e);return!!(t&&t.expanded||i)};i.forEach(function(e){var i=r[e],n=Ei({},t[e]);if(n.expanded=u(i,e),n.lazy){var o=i||{},s=o.loaded,l=void 0!==s&&s,c=o.loading,d=void 0!==c&&c;n.loaded=!!l,n.loading=!!d,h.push(e)}a[e]=n});var c=Object.keys(e);l&&c.length&&h.length&&c.forEach(function(t){var i=r[t],n=e[t].children;if(-1!==h.indexOf(t)){if(0!==a[t].children.length)throw new Error("[ElTable]children must be an empty array.");a[t].children=n}else{var o=i||{},s=o.loaded,l=void 0!==s&&s,c=o.loading,d=void 0!==c&&c;a[t]={lazy:!0,loaded:!!l,loading:!!d,expanded:u(i,t),children:n,level:""}}})}this.states.treeData=a,this.updateTableScrollY()},updateTreeExpandKeys:function(t){this.states.expandRowKeys=t,this.updateTreeData()},toggleTreeExpansion:function(t,e){this.assertRowKey();var i=this.states,a=i.rowKey,n=i.treeData,r=Di(t,a),o=r&&n[r];if(r&&o&&"expanded"in o){var s=o.expanded;e=void 0===e?!o.expanded:e,n[r].expanded=e,s!==e&&this.table.$emit("expand-change",t,e),this.updateTableScrollY()}},loadOrToggle:function(t){this.assertRowKey();var e=this.states,i=e.lazy,a=e.treeData,n=e.rowKey,r=Di(t,n),o=a[r];i&&o&&"loaded"in o&&!o.loaded?this.loadData(t,r,o):this.toggleTreeExpansion(t)},loadData:function(t,e,i){var a=this,n=this.table.load,r=this.states,o=r.lazyTreeNodeMap,s=r.treeData;n&&!s[e].loaded&&(s[e].loading=!0,n(t,i,function(i){if(!Array.isArray(i))throw new Error("[ElTable] data must be an array");s[e].loading=!1,s[e].loaded=!0,s[e].expanded=!0,i.length&&a.$set(o,e,i),a.table.$emit("expand-change",t,!0)}))}}},_i=function t(e){var i=[];return e.forEach(function(e){e.children?i.push.apply(i,t(e.children)):i.push(e)}),i},Li=di.a.extend({data:function(){return{states:{rowKey:null,data:[],isComplex:!1,_columns:[],originColumns:[],columns:[],fixedColumns:[],rightFixedColumns:[],leafColumns:[],fixedLeafColumns:[],rightFixedLeafColumns:[],leafColumnsLength:0,fixedLeafColumnsLength:0,rightFixedLeafColumnsLength:0,isAllSelected:!1,selection:[],reserveSelection:!1,selectOnIndeterminate:!1,selectable:null,filters:{},filteredData:null,sortingColumn:null,sortProp:null,sortOrder:null,hoverRow:null}}},mixins:[wi,Mi,Ai],methods:{assertRowKey:function(){if(!this.states.rowKey)throw new Error("[ElTable] prop row-key is required")},updateColumns:function(){var t=this.states,e=t._columns||[];t.fixedColumns=e.filter(function(t){return!0===t.fixed||"left"===t.fixed}),t.rightFixedColumns=e.filter(function(t){return"right"===t.fixed}),t.fixedColumns.length>0&&e[0]&&"selection"===e[0].type&&!e[0].fixed&&(e[0].fixed=!0,t.fixedColumns.unshift(e[0]));var i=e.filter(function(t){return!t.fixed});t.originColumns=[].concat(t.fixedColumns).concat(i).concat(t.rightFixedColumns);var a=_i(i),n=_i(t.fixedColumns),r=_i(t.rightFixedColumns);t.leafColumnsLength=a.length,t.fixedLeafColumnsLength=n.length,t.rightFixedLeafColumnsLength=r.length,t.columns=[].concat(n).concat(a).concat(r),t.isComplex=t.fixedColumns.length>0||t.rightFixedColumns.length>0},scheduleLayout:function(t){t&&this.updateColumns(),this.table.debouncedUpdateLayout()},isSelected:function(t){var e=this.states.selection;return(void 0===e?[]:e).indexOf(t)>-1},clearSelection:function(){var t=this.states;t.isAllSelected=!1,t.selection.length&&(t.selection=[],this.table.$emit("selection-change",[]))},cleanSelection:function(){var t=this.states,e=t.data,i=t.rowKey,a=t.selection,n=void 0;if(i){n=[];var r=yi(a,i),o=yi(e,i);for(var s in r)r.hasOwnProperty(s)&&!o[s]&&n.push(r[s].row)}else n=a.filter(function(t){return-1===e.indexOf(t)});if(n.length){var l=a.filter(function(t){return-1===n.indexOf(t)});t.selection=l,this.table.$emit("selection-change",l.slice())}},toggleRowSelection:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Ti(this.states.selection,t,e)){var a=(this.states.selection||[]).slice();i&&this.table.$emit("select",a,t),this.table.$emit("selection-change",a)}},_toggleAllSelection:function(){var t=this.states,e=t.data,i=void 0===e?[]:e,a=t.selection,n=t.selectOnIndeterminate?!t.isAllSelected:!(t.isAllSelected||a.length);t.isAllSelected=n;var r=!1;i.forEach(function(e,i){t.selectable?t.selectable.call(null,e,i)&&Ti(a,e,n)&&(r=!0):Ti(a,e,n)&&(r=!0)}),r&&this.table.$emit("selection-change",a?a.slice():[]),this.table.$emit("select-all",a)},updateSelectionByRowKey:function(){var t=this.states,e=t.selection,i=t.rowKey,a=t.data,n=yi(e,i);a.forEach(function(t){var a=Di(t,i),r=n[a];r&&(e[r.index]=t)})},updateAllSelected:function(){var t=this.states,e=t.selection,i=t.rowKey,a=t.selectable,n=t.data||[];if(0!==n.length){var r=void 0;i&&(r=yi(e,i));for(var o,s=!0,l=0,h=0,u=n.length;h<u;h++){var c=n[h],d=a&&a.call(null,c,h);if(o=c,r?r[Di(o,i)]:-1!==e.indexOf(o))l++;else if(!a||d){s=!1;break}}0===l&&(s=!1),t.isAllSelected=s}else t.isAllSelected=!1},updateFilters:function(t,e){Array.isArray(t)||(t=[t]);var i=this.states,a={};return t.forEach(function(t){i.filters[t.id]=e,a[t.columnKey||t.id]=e}),a},updateSort:function(t,e,i){this.states.sortingColumn&&this.states.sortingColumn!==t&&(this.states.sortingColumn.order=null),this.states.sortingColumn=t,this.states.sortProp=e,this.states.sortOrder=i},execFilter:function(){var t=this,e=this.states,i=e._data,a=e.filters,n=i;Object.keys(a).forEach(function(i){var a=e.filters[i];if(a&&0!==a.length){var r=gi(t.states,i);r&&r.filterMethod&&(n=n.filter(function(t){return a.some(function(e){return r.filterMethod.call(null,e,t,r)})}))}}),e.filteredData=n},execSort:function(){var t=this.states;t.data=function(t,e){var i=e.sortingColumn;return i&&"string"!=typeof i.sortable?vi(t,e.sortProp,e.sortOrder,i.sortMethod,i.sortBy):t}(t.filteredData,t)},execQuery:function(t){t&&t.filter||this.execFilter(),this.execSort()},clearFilter:function(t){var e=this.states,i=this.table.$refs,a=i.tableHeader,n=i.fixedTableHeader,r=i.rightFixedTableHeader,o={};a&&(o=Gt()(o,a.filterPanels)),n&&(o=Gt()(o,n.filterPanels)),r&&(o=Gt()(o,r.filterPanels));var s=Object.keys(o);if(s.length)if("string"==typeof t&&(t=[t]),Array.isArray(t)){var l=t.map(function(t){return function(t,e){for(var i=null,a=0;a<t.columns.length;a++){var n=t.columns[a];if(n.columnKey===e){i=n;break}}return i}(e,t)});s.forEach(function(t){l.find(function(e){return e.id===t})&&(o[t].filteredValue=[])}),this.commit("filterChange",{column:l,values:[],silent:!0,multi:!0})}else s.forEach(function(t){o[t].filteredValue=[]}),e.filters={},this.commit("filterChange",{column:{},values:[],silent:!0})},clearSort:function(){this.states.sortingColumn&&(this.updateSort(null,null,null),this.commit("changeSortCondition",{silent:!0}))},setExpandRowKeysAdapter:function(t){this.setExpandRowKeys(t),this.updateTreeExpandKeys(t)},toggleRowExpansionAdapter:function(t,e){this.states.columns.some(function(t){return"expand"===t.type})?this.toggleRowExpansion(t,e):this.toggleTreeExpansion(t,e)}}});Li.prototype.mutations={setData:function(t,e){var i=t._data!==e;t._data=e,this.execQuery(),this.updateCurrentRowData(),this.updateExpandRows(),t.reserveSelection?(this.assertRowKey(),this.updateSelectionByRowKey()):i?this.clearSelection():this.cleanSelection(),this.updateAllSelected(),this.updateTableScrollY()},insertColumn:function(t,e,i,a){var n=t._columns;a&&((n=a.children)||(n=a.children=[])),void 0!==i?n.splice(i,0,e):n.push(e),"selection"===e.type&&(t.selectable=e.selectable,t.reserveSelection=e.reserveSelection),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},removeColumn:function(t,e,i){var a=t._columns;i&&((a=i.children)||(a=i.children=[])),a&&a.splice(a.indexOf(e),1),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},sort:function(t,e){var i=e.prop,a=e.order,n=e.init;if(i){var r=Object(m.arrayFind)(t.columns,function(t){return t.property===i});r&&(r.order=a,this.updateSort(r,i,a),this.commit("changeSortCondition",{init:n}))}},changeSortCondition:function(t,e){var i=t.sortingColumn,a=t.sortProp,n=t.sortOrder;null===n&&(t.sortingColumn=null,t.sortProp=null);this.execQuery({filter:!0}),e&&(e.silent||e.init)||this.table.$emit("sort-change",{column:i,prop:a,order:n}),this.updateTableScrollY()},filterChange:function(t,e){var i=e.column,a=e.values,n=e.silent,r=this.updateFilters(i,a);this.execQuery(),n||this.table.$emit("filter-change",r),this.updateTableScrollY()},toggleAllSelection:function(){this.toggleAllSelection()},rowSelectedChanged:function(t,e){this.toggleRowSelection(e),this.updateAllSelected()},setHoverRow:function(t,e){t.hoverRow=e},setCurrentRow:function(t,e){this.updateCurrentRow(e)}},Li.prototype.commit=function(t){var e=this.mutations;if(!e[t])throw new Error("Action not found: "+t);for(var i=arguments.length,a=Array(i>1?i-1:0),n=1;n<i;n++)a[n-1]=arguments[n];e[t].apply(this,[this.states].concat(a))},Li.prototype.updateTableScrollY=function(){di.a.nextTick(this.table.updateScrollY)};var Fi=Li;function Oi(t){var e={};return Object.keys(t).forEach(function(i){var a=t[i],n=void 0;"string"==typeof a?n=function(){return this.store.states[a]}:"function"==typeof a?n=function(){return a.call(this,this.store.states)}:console.error("invalid value type"),n&&(e[i]=n)}),e}var Pi=i(31),Ni=i.n(Pi);var Ri=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers=[],this.table=null,this.store=null,this.columns=null,this.fit=!0,this.showHeader=!0,this.height=null,this.scrollX=!1,this.scrollY=!1,this.bodyWidth=null,this.fixedWidth=null,this.rightFixedWidth=null,this.tableHeight=null,this.headerHeight=44,this.appendHeight=0,this.footerHeight=44,this.viewportHeight=null,this.bodyHeight=null,this.fixedBodyHeight=null,this.gutterWidth=Ni()(),e)e.hasOwnProperty(i)&&(this[i]=e[i]);if(!this.table)throw new Error("table is required for Table Layout");if(!this.store)throw new Error("store is required for Table Layout")}return t.prototype.updateScrollY=function(){if(null===this.height)return!1;var t=this.table.bodyWrapper;if(this.table.$el&&t){var e=t.querySelector(".el-table__body"),i=this.scrollY,a=e.offsetHeight>this.bodyHeight;return this.scrollY=a,i!==a}return!1},t.prototype.setHeight=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height";if(!di.a.prototype.$isServer){var a=this.table.$el;if(t=Ii(t),this.height=t,!a&&(t||0===t))return di.a.nextTick(function(){return e.setHeight(t,i)});"number"==typeof t?(a.style[i]=t+"px",this.updateElsHeight()):"string"==typeof t&&(a.style[i]=t,this.updateElsHeight())}},t.prototype.setMaxHeight=function(t){this.setHeight(t,"max-height")},t.prototype.getFlattenColumns=function(){var t=[];return this.table.columns.forEach(function(e){e.isColumnGroup?t.push.apply(t,e.columns):t.push(e)}),t},t.prototype.updateElsHeight=function(){var t=this;if(!this.table.$ready)return di.a.nextTick(function(){return t.updateElsHeight()});var e=this.table.$refs,i=e.headerWrapper,a=e.appendWrapper,n=e.footerWrapper;if(this.appendHeight=a?a.offsetHeight:0,!this.showHeader||i){var r=i?i.querySelector(".el-table__header tr"):null,o=this.headerDisplayNone(r),s=this.headerHeight=this.showHeader?i.offsetHeight:0;if(this.showHeader&&!o&&i.offsetWidth>0&&(this.table.columns||[]).length>0&&s<2)return di.a.nextTick(function(){return t.updateElsHeight()});var l=this.tableHeight=this.table.$el.clientHeight,h=this.footerHeight=n?n.offsetHeight:0;null!==this.height&&(this.bodyHeight=l-s-h+(n?1:0)),this.fixedBodyHeight=this.scrollX?this.bodyHeight-this.gutterWidth:this.bodyHeight;var u=!(this.store.states.data&&this.store.states.data.length);this.viewportHeight=this.scrollX?l-(u?0:this.gutterWidth):l,this.updateScrollY(),this.notifyObservers("scrollable")}},t.prototype.headerDisplayNone=function(t){if(!t)return!0;for(var e=t;"DIV"!==e.tagName;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1},t.prototype.updateColumnsWidth=function(){if(!di.a.prototype.$isServer){var t=this.fit,e=this.table.$el.clientWidth,i=0,a=this.getFlattenColumns(),n=a.filter(function(t){return"number"!=typeof t.width});if(a.forEach(function(t){"number"==typeof t.width&&t.realWidth&&(t.realWidth=null)}),n.length>0&&t){a.forEach(function(t){i+=t.width||t.minWidth||80});var r=this.scrollY?this.gutterWidth:0;if(i<=e-r){this.scrollX=!1;var o=e-r-i;if(1===n.length)n[0].realWidth=(n[0].minWidth||80)+o;else{var s=o/n.reduce(function(t,e){return t+(e.minWidth||80)},0),l=0;n.forEach(function(t,e){if(0!==e){var i=Math.floor((t.minWidth||80)*s);l+=i,t.realWidth=(t.minWidth||80)+i}}),n[0].realWidth=(n[0].minWidth||80)+o-l}}else this.scrollX=!0,n.forEach(function(t){t.realWidth=t.minWidth});this.bodyWidth=Math.max(i,e),this.table.resizeState.width=this.bodyWidth}else a.forEach(function(t){t.width||t.minWidth?t.realWidth=t.width||t.minWidth:t.realWidth=80,i+=t.realWidth}),this.scrollX=i>e,this.bodyWidth=i;var h=this.store.states.fixedColumns;if(h.length>0){var u=0;h.forEach(function(t){u+=t.realWidth||t.width}),this.fixedWidth=u}var c=this.store.states.rightFixedColumns;if(c.length>0){var d=0;c.forEach(function(t){d+=t.realWidth||t.width}),this.rightFixedWidth=d}this.notifyObservers("columns")}},t.prototype.addObserver=function(t){this.observers.push(t)},t.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);-1!==e&&this.observers.splice(e,1)},t.prototype.notifyObservers=function(t){var e=this;this.observers.forEach(function(i){switch(t){case"columns":i.onColumnsChange(e);break;case"scrollable":i.onScrollableChange(e);break;default:throw new Error("Table Layout don't have event "+t+".")}})},t}(),Bi={created:function(){this.tableLayout.addObserver(this)},destroyed:function(){this.tableLayout.removeObserver(this)},computed:{tableLayout:function(){var t=this.layout;if(!t&&this.table&&(t=this.table.layout),!t)throw new Error("Can not find table layout.");return t}},mounted:function(){this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout)},updated:function(){this.__updated__||(this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout),this.__updated__=!0)},methods:{onColumnsChange:function(t){var e=this.$el.querySelectorAll("colgroup > col");if(e.length){var i={};t.getFlattenColumns().forEach(function(t){i[t.id]=t});for(var a=0,n=e.length;a<n;a++){var r=e[a],o=r.getAttribute("name"),s=i[o];s&&r.setAttribute("width",s.realWidth||s.width)}}},onScrollableChange:function(t){for(var e=this.$el.querySelectorAll("colgroup > col[name=gutter]"),i=0,a=e.length;i<a;i++){e[i].setAttribute("width",t.scrollY?t.gutterWidth:"0")}for(var n=this.$el.querySelectorAll("th.gutter"),r=0,o=n.length;r<o;r++){var s=n[r];s.style.width=t.scrollY?t.gutterWidth+"px":"0",s.style.display=t.scrollY?"":"none"}}}},ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},Hi={name:"ElTableBody",mixins:[Bi],components:{ElCheckbox:ri.a,ElTooltip:Mt.a},props:{store:{required:!0},stripe:Boolean,context:{},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:String,highlight:Boolean},render:function(t){var e=this,i=this.data||[];return t("table",{class:"el-table__body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map(function(e){return t("col",{attrs:{name:e.id},key:e.id})})]),t("tbody",[i.reduce(function(t,i){return t.concat(e.wrappedRowRender(i,t.length))},[]),t("el-tooltip",{attrs:{effect:this.table.tooltipEffect,placement:"top",content:this.tooltipContent},ref:"tooltip"})])])},computed:Vi({table:function(){return this.$parent}},Oi({data:"data",columns:"columns",treeIndent:"indent",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length},hasExpandColumn:function(t){return t.columns.some(function(t){return"expand"===t.type})}}),{firstDefaultColumnIndex:function(){return Object(m.arrayFindIndex)(this.columns,function(t){return"default"===t.type})}}),watch:{"store.states.hoverRow":function(t,e){var i=this;if(this.store.states.isComplex&&!this.$isServer){var a=window.requestAnimationFrame;a||(a=function(t){return setTimeout(t,16)}),a(function(){var a=i.$el.querySelectorAll(".el-table__row"),n=a[e],r=a[t];n&&Object(pt.removeClass)(n,"hover-row"),r&&Object(pt.addClass)(r,"hover-row")})}}},data:function(){return{tooltipContent:""}},created:function(){this.activateTooltip=_()(50,function(t){return t.handleShowPopper()})},methods:{getKeyOfRow:function(t,e){var i=this.table.rowKey;return i?Di(t,i):e},isColumnHidden:function(t){return!0===this.fixed||"left"===this.fixed?t>=this.leftFixedLeafCount:"right"===this.fixed?t<this.columnsCount-this.rightFixedLeafCount:t<this.leftFixedLeafCount||t>=this.columnsCount-this.rightFixedLeafCount},getSpan:function(t,e,i,a){var n=1,r=1,o=this.table.spanMethod;if("function"==typeof o){var s=o({row:t,column:e,rowIndex:i,columnIndex:a});Array.isArray(s)?(n=s[0],r=s[1]):"object"===(void 0===s?"undefined":ki(s))&&(n=s.rowspan,r=s.colspan)}return{rowspan:n,colspan:r}},getRowStyle:function(t,e){var i=this.table.rowStyle;return"function"==typeof i?i.call(null,{row:t,rowIndex:e}):i||null},getRowClass:function(t,e){var i=["el-table__row"];this.table.highlightCurrentRow&&t===this.store.states.currentRow&&i.push("current-row"),this.stripe&&e%2==1&&i.push("el-table__row--striped");var a=this.table.rowClassName;return"string"==typeof a?i.push(a):"function"==typeof a&&i.push(a.call(null,{row:t,rowIndex:e})),this.store.states.expandRows.indexOf(t)>-1&&i.push("expanded"),i},getCellStyle:function(t,e,i,a){var n=this.table.cellStyle;return"function"==typeof n?n.call(null,{rowIndex:t,columnIndex:e,row:i,column:a}):n},getCellClass:function(t,e,i,a){var n=[a.id,a.align,a.className];this.isColumnHidden(e)&&n.push("is-hidden");var r=this.table.cellClassName;return"string"==typeof r?n.push(r):"function"==typeof r&&n.push(r.call(null,{rowIndex:t,columnIndex:e,row:i,column:a})),n.join(" ")},getColspanRealWidth:function(t,e,i){return e<1?t[i].realWidth:t.map(function(t){return t.realWidth}).slice(i,i+e).reduce(function(t,e){return t+e},-1)},handleCellMouseEnter:function(t,e){var i=this.table,a=pi(t);if(a){var n=Ci(i,a),r=i.hoverState={cell:a,column:n,row:e};i.$emit("cell-mouse-enter",r.row,r.column,r.cell,t)}var o=t.target.querySelector(".cell");if(Object(pt.hasClass)(o,"el-tooltip")&&o.childNodes.length){var s=document.createRange();if(s.setStart(o,0),s.setEnd(o,o.childNodes.length),(s.getBoundingClientRect().width+((parseInt(Object(pt.getStyle)(o,"paddingLeft"),10)||0)+(parseInt(Object(pt.getStyle)(o,"paddingRight"),10)||0))>o.offsetWidth||o.scrollWidth>o.offsetWidth)&&this.$refs.tooltip){var l=this.$refs.tooltip;this.tooltipContent=a.innerText||a.textContent,l.referenceElm=a,l.$refs.popper&&(l.$refs.popper.style.display="none"),l.doDestroy(),l.setExpectedState(!0),this.activateTooltip(l)}}},handleCellMouseLeave:function(t){var e=this.$refs.tooltip;if(e&&(e.setExpectedState(!1),e.handleClosePopper()),pi(t)){var i=this.table.hoverState||{};this.table.$emit("cell-mouse-leave",i.row,i.column,i.cell,t)}},handleMouseEnter:_()(30,function(t){this.store.commit("setHoverRow",t)}),handleMouseLeave:_()(30,function(){this.store.commit("setHoverRow",null)}),handleContextMenu:function(t,e){this.handleEvent(t,e,"contextmenu")},handleDoubleClick:function(t,e){this.handleEvent(t,e,"dblclick")},handleClick:function(t,e){this.store.commit("setCurrentRow",e),this.handleEvent(t,e,"click")},handleEvent:function(t,e,i){var a=this.table,n=pi(t),r=void 0;n&&(r=Ci(a,n))&&a.$emit("cell-"+i,e,r,n,t),a.$emit("row-"+i,e,r,t)},rowRender:function(t,e,i){var a=this,n=this.$createElement,r=this.treeIndent,o=this.columns,s=this.firstDefaultColumnIndex,l=o.map(function(t,e){return a.isColumnHidden(e)}),h=this.getRowClass(t,e),u=!0;return i&&(h.push("el-table__row--level-"+i.level),u=i.display),n("tr",{style:[u?null:{display:"none"},this.getRowStyle(t,e)],class:h,key:this.getKeyOfRow(t,e),on:{dblclick:function(e){return a.handleDoubleClick(e,t)},click:function(e){return a.handleClick(e,t)},contextmenu:function(e){return a.handleContextMenu(e,t)},mouseenter:function(t){return a.handleMouseEnter(e)},mouseleave:this.handleMouseLeave}},[o.map(function(h,u){var c=a.getSpan(t,h,e,u),d=c.rowspan,f=c.colspan;if(!d||!f)return null;var p=Vi({},h);p.realWidth=a.getColspanRealWidth(o,f,u);var m={store:a.store,_self:a.context||a.table.$vnode.context,column:p,row:t,$index:e};return u===s&&i&&(m.treeNode={indent:i.level*r,level:i.level},"boolean"==typeof i.expanded&&(m.treeNode.expanded=i.expanded,"loading"in i&&(m.treeNode.loading=i.loading),"noLazyChildren"in i&&(m.treeNode.noLazyChildren=i.noLazyChildren))),n("td",{style:a.getCellStyle(e,u,t,h),class:a.getCellClass(e,u,t,h),attrs:{rowspan:d,colspan:f},on:{mouseenter:function(e){return a.handleCellMouseEnter(e,t)},mouseleave:a.handleCellMouseLeave}},[h.renderCell.call(a._renderProxy,a.$createElement,m,l[u])])})])},wrappedRowRender:function(t,e){var i=this,a=this.$createElement,n=this.store,r=n.isRowExpanded,o=n.assertRowKey,s=n.states,l=s.treeData,h=s.lazyTreeNodeMap,u=s.childrenColumnName,c=s.rowKey;if(this.hasExpandColumn&&r(t)){var d=this.table.renderExpanded,f=this.rowRender(t,e);return d?[[f,a("tr",{key:"expanded-row__"+f.key},[a("td",{attrs:{colspan:this.columnsCount},class:"el-table__expanded-cell"},[d(this.$createElement,{row:t,$index:e,store:this.store})])])]]:(console.error("[Element Error]renderExpanded is required."),f)}if(Object.keys(l).length){o();var p=Di(t,c),m=l[p],v=null;m&&(v={expanded:m.expanded,level:m.level,display:!0},"boolean"==typeof m.lazy&&("boolean"==typeof m.loaded&&m.loaded&&(v.noLazyChildren=!(m.children&&m.children.length)),v.loading=m.loading));var g=[this.rowRender(t,e,v)];if(m){var C=0;m.display=!0,function t(a,n){a&&a.length&&n&&a.forEach(function(a){var r={display:n.display&&n.expanded,level:n.level+1},o=Di(a,c);if(void 0===o||null===o)throw new Error("for nested data item, row-key is required.");if((m=Vi({},l[o]))&&(r.expanded=m.expanded,m.level=m.level||r.level,m.display=!(!m.expanded||!r.display),"boolean"==typeof m.lazy&&("boolean"==typeof m.loaded&&m.loaded&&(r.noLazyChildren=!(m.children&&m.children.length)),r.loading=m.loading)),C++,g.push(i.rowRender(a,e+C,r)),m){var s=h[o]||a[u];t(s,m)}})}(h[p]||t[u],m)}return g}return this.rowRender(t,e)}}},Gi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"}},[t.multiple?i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[i("div",{staticClass:"el-table-filter__content"},[i("el-scrollbar",{attrs:{"wrap-class":"el-table-filter__wrap"}},[i("el-checkbox-group",{staticClass:"el-table-filter__checkbox-group",model:{value:t.filteredValue,callback:function(e){t.filteredValue=e},expression:"filteredValue"}},t._l(t.filters,function(e){return i("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.text))])}),1)],1)],1),i("div",{staticClass:"el-table-filter__bottom"},[i("button",{class:{"is-disabled":0===t.filteredValue.length},attrs:{disabled:0===t.filteredValue.length},on:{click:t.handleConfirm}},[t._v(t._s(t.t("el.table.confirmFilter")))]),i("button",{on:{click:t.handleReset}},[t._v(t._s(t.t("el.table.resetFilter")))])])]):i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[i("ul",{staticClass:"el-table-filter__list"},[i("li",{staticClass:"el-table-filter__list-item",class:{"is-active":void 0===t.filterValue||null===t.filterValue},on:{click:function(e){t.handleSelect(null)}}},[t._v(t._s(t.t("el.table.clearFilter")))]),t._l(t.filters,function(e){return i("li",{key:e.value,staticClass:"el-table-filter__list-item",class:{"is-active":t.isActive(e)},attrs:{label:e.value},on:{click:function(i){t.handleSelect(e.value)}}},[t._v(t._s(e.text))])})],2)])])};Gi._withStripped=!0;var Yi=[];!di.a.prototype.$isServer&&document.addEventListener("click",function(t){Yi.forEach(function(e){var i=t.target;e&&e.$el&&(i===e.$el||e.$el.contains(i)||e.handleOutsideClick&&e.handleOutsideClick(t))})});var Wi=function(t){t&&Yi.push(t)},Xi=function(t){-1!==Yi.indexOf(t)&&Yi.splice(t,1)},Ui=i(32),zi=i.n(Ui),Ki=n({name:"ElTableFilterPanel",mixins:[N.a,p.a],directives:{Clickoutside:F.a},components:{ElCheckbox:ri.a,ElCheckboxGroup:zi.a,ElScrollbar:B.a},props:{placement:{type:String,default:"bottom-end"}},methods:{isActive:function(t){return t.value===this.filterValue},handleOutsideClick:function(){var t=this;setTimeout(function(){t.showPopper=!1},16)},handleConfirm:function(){this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleReset:function(){this.filteredValue=[],this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleSelect:function(t){this.filterValue=t,void 0!==t&&null!==t?this.confirmFilter(this.filteredValue):this.confirmFilter([]),this.handleOutsideClick()},confirmFilter:function(t){this.table.store.commit("filterChange",{column:this.column,values:t}),this.table.store.updateAllSelected()}},data:function(){return{table:null,cell:null,column:null}},computed:{filters:function(){return this.column&&this.column.filters},filterValue:{get:function(){return(this.column.filteredValue||[])[0]},set:function(t){this.filteredValue&&(void 0!==t&&null!==t?this.filteredValue.splice(0,1,t):this.filteredValue.splice(0,1))}},filteredValue:{get:function(){return this.column&&this.column.filteredValue||[]},set:function(t){this.column&&(this.column.filteredValue=t)}},multiple:function(){return!this.column||this.column.filterMultiple}},mounted:function(){var t=this;this.popperElm=this.$el,this.referenceElm=this.cell,this.table.bodyWrapper.addEventListener("scroll",function(){t.updatePopper()}),this.$watch("showPopper",function(e){t.column&&(t.column.filterOpened=e),e?Wi(t):Xi(t)})},watch:{showPopper:function(t){!0===t&&parseInt(this.popperJS._popper.style.zIndex,10)<D.PopupManager.zIndex&&(this.popperJS._popper.style.zIndex=D.PopupManager.nextZIndex())}}},Gi,[],!1,null,null,null);Ki.options.__file="packages/table/src/filter-panel.vue";var $i=Ki.exports,ji=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},qi=function(t){var e=1;t.forEach(function(t){t.level=1,function t(i,a){if(a&&(i.level=a.level+1,e<i.level&&(e=i.level)),i.children){var n=0;i.children.forEach(function(e){t(e,i),n+=e.colSpan}),i.colSpan=n}else i.colSpan=1}(t)});for(var i=[],a=0;a<e;a++)i.push([]);return function t(e){var i=[];return e.forEach(function(e){e.children?(i.push(e),i.push.apply(i,t(e.children))):i.push(e)}),i}(t).forEach(function(t){t.children?t.rowSpan=1:t.rowSpan=e-t.level+1,i[t.level-1].push(t)}),i},Ji={name:"ElTableHeader",mixins:[Bi],render:function(t){var e=this,i=this.store.states.originColumns,a=qi(i,this.columns),n=a.length>1;return n&&(this.$parent.isGroup=!0),t("table",{class:"el-table__header",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map(function(e){return t("col",{attrs:{name:e.id},key:e.id})}),this.hasGutter?t("col",{attrs:{name:"gutter"}}):""]),t("thead",{class:[{"is-group":n,"has-gutter":this.hasGutter}]},[this._l(a,function(i,a){return t("tr",{style:e.getHeaderRowStyle(a),class:e.getHeaderRowClass(a)},[i.map(function(n,r){return t("th",{attrs:{colspan:n.colSpan,rowspan:n.rowSpan},on:{mousemove:function(t){return e.handleMouseMove(t,n)},mouseout:e.handleMouseOut,mousedown:function(t){return e.handleMouseDown(t,n)},click:function(t){return e.handleHeaderClick(t,n)},contextmenu:function(t){return e.handleHeaderContextMenu(t,n)}},style:e.getHeaderCellStyle(a,r,i,n),class:e.getHeaderCellClass(a,r,i,n),key:n.id},[t("div",{class:["cell",n.filteredValue&&n.filteredValue.length>0?"highlight":"",n.labelClassName]},[n.renderHeader?n.renderHeader.call(e._renderProxy,t,{column:n,$index:r,store:e.store,_self:e.$parent.$vnode.context}):n.label,n.sortable?t("span",{class:"caret-wrapper",on:{click:function(t){return e.handleSortClick(t,n)}}},[t("i",{class:"sort-caret ascending",on:{click:function(t){return e.handleSortClick(t,n,"ascending")}}}),t("i",{class:"sort-caret descending",on:{click:function(t){return e.handleSortClick(t,n,"descending")}}})]):"",n.filterable?t("span",{class:"el-table__column-filter-trigger",on:{click:function(t){return e.handleFilterClick(t,n)}}},[t("i",{class:["el-icon-arrow-down",n.filterOpened?"el-icon-arrow-up":""]})]):""])])}),e.hasGutter?t("th",{class:"gutter"}):""])})])])},props:{fixed:String,store:{required:!0},border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},components:{ElCheckbox:ri.a},computed:ji({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},Oi({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length}})),created:function(){this.filterPanels={}},mounted:function(){var t=this;this.$nextTick(function(){var e=t.defaultSort,i=e.prop,a=e.order;t.store.commit("sort",{prop:i,order:a,init:!0})})},beforeDestroy:function(){var t=this.filterPanels;for(var e in t)t.hasOwnProperty(e)&&t[e]&&t[e].$destroy(!0)},methods:{isCellHidden:function(t,e){for(var i=0,a=0;a<t;a++)i+=e[a].colSpan;var n=i+e[t].colSpan-1;return!0===this.fixed||"left"===this.fixed?n>=this.leftFixedLeafCount:"right"===this.fixed?i<this.columnsCount-this.rightFixedLeafCount:n<this.leftFixedLeafCount||i>=this.columnsCount-this.rightFixedLeafCount},getHeaderRowStyle:function(t){var e=this.table.headerRowStyle;return"function"==typeof e?e.call(null,{rowIndex:t}):e},getHeaderRowClass:function(t){var e=[],i=this.table.headerRowClassName;return"string"==typeof i?e.push(i):"function"==typeof i&&e.push(i.call(null,{rowIndex:t})),e.join(" ")},getHeaderCellStyle:function(t,e,i,a){var n=this.table.headerCellStyle;return"function"==typeof n?n.call(null,{rowIndex:t,columnIndex:e,row:i,column:a}):n},getHeaderCellClass:function(t,e,i,a){var n=[a.id,a.order,a.headerAlign,a.className,a.labelClassName];0===t&&this.isCellHidden(e,i)&&n.push("is-hidden"),a.children||n.push("is-leaf"),a.sortable&&n.push("is-sortable");var r=this.table.headerCellClassName;return"string"==typeof r?n.push(r):"function"==typeof r&&n.push(r.call(null,{rowIndex:t,columnIndex:e,row:i,column:a})),n.join(" ")},toggleAllSelection:function(t){t.stopPropagation(),this.store.commit("toggleAllSelection")},handleFilterClick:function(t,e){t.stopPropagation();var i=t.target,a="TH"===i.tagName?i:i.parentNode;if(!Object(pt.hasClass)(a,"noclick")){a=a.querySelector(".el-table__column-filter-trigger")||a;var n=this.$parent,r=this.filterPanels[e.id];r&&e.filterOpened?r.showPopper=!1:(r||(r=new di.a($i),this.filterPanels[e.id]=r,e.filterPlacement&&(r.placement=e.filterPlacement),r.table=n,r.cell=a,r.column=e,!this.$isServer&&r.$mount(document.createElement("div"))),setTimeout(function(){r.showPopper=!0},16))}},handleHeaderClick:function(t,e){!e.filters&&e.sortable?this.handleSortClick(t,e):e.filterable&&!e.sortable&&this.handleFilterClick(t,e),this.$parent.$emit("header-click",e,t)},handleHeaderContextMenu:function(t,e){this.$parent.$emit("header-contextmenu",e,t)},handleMouseDown:function(t,e){var i=this;if(!this.$isServer&&!(e.children&&e.children.length>0)&&this.draggingColumn&&this.border){this.dragging=!0,this.$parent.resizeProxyVisible=!0;var a=this.$parent,n=a.$el.getBoundingClientRect().left,r=this.$el.querySelector("th."+e.id),o=r.getBoundingClientRect(),s=o.left-n+30;Object(pt.addClass)(r,"noclick"),this.dragState={startMouseLeft:t.clientX,startLeft:o.right-n,startColumnLeft:o.left-n,tableLeft:n};var l=a.$refs.resizeProxy;l.style.left=this.dragState.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};var h=function(t){var e=t.clientX-i.dragState.startMouseLeft,a=i.dragState.startLeft+e;l.style.left=Math.max(s,a)+"px"};document.addEventListener("mousemove",h),document.addEventListener("mouseup",function n(){if(i.dragging){var o=i.dragState,s=o.startColumnLeft,u=o.startLeft,c=parseInt(l.style.left,10)-s;e.width=e.realWidth=c,a.$emit("header-dragend",e.width,u-s,e,t),i.store.scheduleLayout(),document.body.style.cursor="",i.dragging=!1,i.draggingColumn=null,i.dragState={},a.resizeProxyVisible=!1}document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",n),document.onselectstart=null,document.ondragstart=null,setTimeout(function(){Object(pt.removeClass)(r,"noclick")},0)})}},handleMouseMove:function(t,e){if(!(e.children&&e.children.length>0)){for(var i=t.target;i&&"TH"!==i.tagName;)i=i.parentNode;if(e&&e.resizable&&!this.dragging&&this.border){var a=i.getBoundingClientRect(),n=document.body.style;a.width>12&&a.right-t.pageX<8?(n.cursor="col-resize",Object(pt.hasClass)(i,"is-sortable")&&(i.style.cursor="col-resize"),this.draggingColumn=e):this.dragging||(n.cursor="",Object(pt.hasClass)(i,"is-sortable")&&(i.style.cursor="pointer"),this.draggingColumn=null)}}},handleMouseOut:function(){this.$isServer||(document.body.style.cursor="")},toggleOrder:function(t){var e=t.order,i=t.sortOrders;if(""===e)return i[0];var a=i.indexOf(e||null);return i[a>i.length-2?0:a+1]},handleSortClick:function(t,e,i){t.stopPropagation();for(var a=e.order===i?null:i||this.toggleOrder(e),n=t.target;n&&"TH"!==n.tagName;)n=n.parentNode;if(n&&"TH"===n.tagName&&Object(pt.hasClass)(n,"noclick"))Object(pt.removeClass)(n,"noclick");else if(e.sortable){var r=this.store.states,o=r.sortProp,s=void 0,l=r.sortingColumn;(l!==e||l===e&&null===l.order)&&(l&&(l.order=null),r.sortingColumn=e,o=e.property),s=e.order=a||null,r.sortProp=o,r.sortOrder=s,this.store.commit("changeSortCondition")}}},data:function(){return{draggingColumn:null,dragging:!1,dragState:{}}}},Zi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},Qi={name:"ElTableFooter",mixins:[Bi],render:function(t){var e=this,i=[];return this.summaryMethod?i=this.summaryMethod({columns:this.columns,data:this.store.states.data}):this.columns.forEach(function(t,a){if(0!==a){var n=e.store.states.data.map(function(e){return Number(e[t.property])}),r=[],o=!0;n.forEach(function(t){if(!isNaN(t)){o=!1;var e=(""+t).split(".")[1];r.push(e?e.length:0)}});var s=Math.max.apply(null,r);i[a]=o?"":n.reduce(function(t,e){var i=Number(e);return isNaN(i)?t:parseFloat((t+e).toFixed(Math.min(s,20)))},0)}else i[a]=e.sumText}),t("table",{class:"el-table__footer",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map(function(e){return t("col",{attrs:{name:e.id},key:e.id})}),this.hasGutter?t("col",{attrs:{name:"gutter"}}):""]),t("tbody",{class:[{"has-gutter":this.hasGutter}]},[t("tr",[this.columns.map(function(a,n){return t("td",{key:n,attrs:{colspan:a.colSpan,rowspan:a.rowSpan},class:e.getRowClasses(a,n)},[t("div",{class:["cell",a.labelClassName]},[i[n]])])}),this.hasGutter?t("th",{class:"gutter"}):""])])])},props:{fixed:String,store:{required:!0},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},computed:Zi({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},Oi({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length}})),methods:{isCellHidden:function(t,e,i){if(!0===this.fixed||"left"===this.fixed)return t>=this.leftFixedLeafCount;if("right"===this.fixed){for(var a=0,n=0;n<t;n++)a+=e[n].colSpan;return a<this.columnsCount-this.rightFixedLeafCount}return!(this.fixed||!i.fixed)||(t<this.leftFixedCount||t>=this.columnsCount-this.rightFixedCount)},getRowClasses:function(t,e){var i=[t.id,t.align,t.labelClassName];return t.className&&i.push(t.className),this.isCellHidden(e,this.columns,t)&&i.push("is-hidden"),t.children||i.push("is-leaf"),i}}},ta=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},ea=1,ia=n({name:"ElTable",mixins:[p.a,S.a],directives:{Mousewheel:ui},props:{data:{type:Array,default:function(){return[]}},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],context:{},showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:function(){return{hasChildren:"hasChildren",children:"children"}}},lazy:Boolean,load:Function},components:{TableHeader:Ji,TableFooter:Qi,TableBody:Hi,ElCheckbox:ri.a},methods:{getMigratingConfig:function(){return{events:{expand:"expand is renamed to expand-change"}}},setCurrentRow:function(t){this.store.commit("setCurrentRow",t)},toggleRowSelection:function(t,e){this.store.toggleRowSelection(t,e,!1),this.store.updateAllSelected()},toggleRowExpansion:function(t,e){this.store.toggleRowExpansionAdapter(t,e)},clearSelection:function(){this.store.clearSelection()},clearFilter:function(t){this.store.clearFilter(t)},clearSort:function(){this.store.clearSort()},handleMouseLeave:function(){this.store.commit("setHoverRow",null),this.hoverState&&(this.hoverState=null)},updateScrollY:function(){this.layout.updateScrollY()&&(this.layout.notifyObservers("scrollable"),this.layout.updateColumnsWidth())},handleFixedMousewheel:function(t,e){var i=this.bodyWrapper;if(Math.abs(e.spinY)>0){var a=i.scrollTop;e.pixelY<0&&0!==a&&t.preventDefault(),e.pixelY>0&&i.scrollHeight-i.clientHeight>a&&t.preventDefault(),i.scrollTop+=Math.ceil(e.pixelY/5)}else i.scrollLeft+=Math.ceil(e.pixelX/5)},handleHeaderFooterMousewheel:function(t,e){var i=e.pixelX,a=e.pixelY;Math.abs(i)>=Math.abs(a)&&(this.bodyWrapper.scrollLeft+=e.pixelX/5)},syncPostion:Object(oi.throttle)(20,function(){var t=this.bodyWrapper,e=t.scrollLeft,i=t.scrollTop,a=t.offsetWidth,n=t.scrollWidth,r=this.$refs,o=r.headerWrapper,s=r.footerWrapper,l=r.fixedBodyWrapper,h=r.rightFixedBodyWrapper;o&&(o.scrollLeft=e),s&&(s.scrollLeft=e),l&&(l.scrollTop=i),h&&(h.scrollTop=i);var u=n-a-1;this.scrollPosition=e>=u?"right":0===e?"left":"middle"}),bindEvents:function(){this.bodyWrapper.addEventListener("scroll",this.syncPostion,{passive:!0}),this.fit&&Object(Re.addResizeListener)(this.$el,this.resizeListener)},unbindEvents:function(){this.bodyWrapper.removeEventListener("scroll",this.syncPostion,{passive:!0}),this.fit&&Object(Re.removeResizeListener)(this.$el,this.resizeListener)},resizeListener:function(){if(this.$ready){var t=!1,e=this.$el,i=this.resizeState,a=i.width,n=i.height,r=e.offsetWidth;a!==r&&(t=!0);var o=e.offsetHeight;(this.height||this.shouldUpdateHeight)&&n!==o&&(t=!0),t&&(this.resizeState.width=r,this.resizeState.height=o,this.doLayout())}},doLayout:function(){this.shouldUpdateHeight&&this.layout.updateElsHeight(),this.layout.updateColumnsWidth()},sort:function(t,e){this.store.commit("sort",{prop:t,order:e})},toggleAllSelection:function(){this.store.commit("toggleAllSelection")}},computed:ta({tableSize:function(){return this.size||(this.$ELEMENT||{}).size},bodyWrapper:function(){return this.$refs.bodyWrapper},shouldUpdateHeight:function(){return this.height||this.maxHeight||this.fixedColumns.length>0||this.rightFixedColumns.length>0},bodyWidth:function(){var t=this.layout,e=t.bodyWidth,i=t.scrollY,a=t.gutterWidth;return e?e-(i?a:0)+"px":""},bodyHeight:function(){var t=this.layout,e=t.headerHeight,i=void 0===e?0:e,a=t.bodyHeight,n=t.footerHeight,r=void 0===n?0:n;if(this.height)return{height:a?a+"px":""};if(this.maxHeight){var o=Ii(this.maxHeight);if("number"==typeof o)return{"max-height":o-r-(this.showHeader?i:0)+"px"}}return{}},fixedBodyHeight:function(){if(this.height)return{height:this.layout.fixedBodyHeight?this.layout.fixedBodyHeight+"px":""};if(this.maxHeight){var t=Ii(this.maxHeight);if("number"==typeof t)return t=this.layout.scrollX?t-this.layout.gutterWidth:t,this.showHeader&&(t-=this.layout.headerHeight),{"max-height":(t-=this.layout.footerHeight)+"px"}}return{}},fixedHeight:function(){return this.maxHeight?this.showSummary?{bottom:0}:{bottom:this.layout.scrollX&&this.data.length?this.layout.gutterWidth+"px":""}:this.showSummary?{height:this.layout.tableHeight?this.layout.tableHeight+"px":""}:{height:this.layout.viewportHeight?this.layout.viewportHeight+"px":""}},emptyBlockStyle:function(){if(this.data&&this.data.length)return null;var t="100%";return this.layout.appendHeight&&(t="calc(100% - "+this.layout.appendHeight+"px)"),{width:this.bodyWidth,height:t}}},Oi({selection:"selection",columns:"columns",tableData:"data",fixedColumns:"fixedColumns",rightFixedColumns:"rightFixedColumns"})),watch:{height:{immediate:!0,handler:function(t){this.layout.setHeight(t)}},maxHeight:{immediate:!0,handler:function(t){this.layout.setMaxHeight(t)}},currentRowKey:{immediate:!0,handler:function(t){this.rowKey&&this.store.setCurrentRowKey(t)}},data:{immediate:!0,handler:function(t){this.store.commit("setData",t)}},expandRowKeys:{immediate:!0,handler:function(t){t&&this.store.setExpandRowKeysAdapter(t)}}},created:function(){var t=this;this.tableId="el-table_"+ea++,this.debouncedUpdateLayout=Object(oi.debounce)(50,function(){return t.doLayout()})},mounted:function(){var t=this;this.bindEvents(),this.store.updateColumns(),this.doLayout(),this.resizeState={width:this.$el.offsetWidth,height:this.$el.offsetHeight},this.store.states.columns.forEach(function(e){e.filteredValue&&e.filteredValue.length&&t.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})}),this.$ready=!0},destroyed:function(){this.unbindEvents()},data:function(){var t=this.treeProps,e=t.hasChildren,i=void 0===e?"hasChildren":e,a=t.children,n=void 0===a?"children":a;return this.store=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Table is required.");var i=new Fi;return i.table=t,i.toggleAllSelection=_()(10,i._toggleAllSelection),Object.keys(e).forEach(function(t){i.states[t]=e[t]}),i}(this,{rowKey:this.rowKey,defaultExpandAll:this.defaultExpandAll,selectOnIndeterminate:this.selectOnIndeterminate,indent:this.indent,lazy:this.lazy,lazyColumnIdentifier:i,childrenColumnName:n}),{layout:new Ri({store:this.store,table:this,fit:this.fit,showHeader:this.showHeader}),isHidden:!1,renderExpanded:null,resizeProxyVisible:!1,resizeState:{width:null,height:null},isGroup:!1,scrollPosition:"left"}}},ai,[],!1,null,null,null);ia.options.__file="packages/table/src/table.vue";var aa=ia.exports;aa.install=function(t){t.component(aa.name,aa)};var na=aa,ra={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:"",className:"el-table-column--selection"},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},oa={selection:{renderHeader:function(t,e){var i=e.store;return t("el-checkbox",{attrs:{disabled:i.states.data&&0===i.states.data.length,indeterminate:i.states.selection.length>0&&!this.isAllSelected,value:this.isAllSelected},nativeOn:{click:this.toggleAllSelection}})},renderCell:function(t,e){var i=e.row,a=e.column,n=e.store,r=e.$index;return t("el-checkbox",{nativeOn:{click:function(t){return t.stopPropagation()}},attrs:{value:n.isSelected(i),disabled:!!a.selectable&&!a.selectable.call(null,i,r)},on:{input:function(){n.commit("rowSelectedChanged",i)}}})},sortable:!1,resizable:!1},index:{renderHeader:function(t,e){return e.column.label||"#"},renderCell:function(t,e){var i=e.$index,a=i+1,n=e.column.index;return"number"==typeof n?a=i+n:"function"==typeof n&&(a=n(i)),t("div",[a])},sortable:!1},expand:{renderHeader:function(t,e){return e.column.label||""},renderCell:function(t,e){var i=e.row,a=e.store,n=["el-table__expand-icon"];a.states.expandRows.indexOf(i)>-1&&n.push("el-table__expand-icon--expanded");return t("div",{class:n,on:{click:function(t){t.stopPropagation(),a.toggleRowExpansion(i)}}},[t("i",{class:"el-icon el-icon-arrow-right"})])},sortable:!1,resizable:!1,className:"el-table__expand-column"}};function sa(t,e){var i=e.row,a=e.column,n=e.$index,r=a.property,o=r&&Object(m.getPropByPath)(i,r).v;return a&&a.formatter?a.formatter(i,a,o,n):o}var la=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},ha=1,ua={name:"ElTableColumn",props:{type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{},minWidth:{},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:function(){return["ascending","descending",null]},validator:function(t){return t.every(function(t){return["ascending","descending",null].indexOf(t)>-1})}}},data:function(){return{isSubColumn:!1,columns:[]}},computed:{owner:function(){for(var t=this.$parent;t&&!t.tableId;)t=t.$parent;return t},columnOrTableParent:function(){for(var t=this.$parent;t&&!t.tableId&&!t.columnId;)t=t.$parent;return t},realWidth:function(){return Si(this.width)},realMinWidth:function(){return void 0!==(t=this.minWidth)&&(t=Si(t),isNaN(t)&&(t=80)),t;var t},realAlign:function(){return this.align?"is-"+this.align:null},realHeaderAlign:function(){return this.headerAlign?"is-"+this.headerAlign:this.realAlign}},methods:{getPropsData:function(){for(var t=this,e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];return i.reduce(function(e,i){return Array.isArray(i)&&i.forEach(function(i){e[i]=t[i]}),e},{})},getColumnElIndex:function(t,e){return[].indexOf.call(t,e)},setColumnWidth:function(t){return this.realWidth&&(t.width=this.realWidth),this.realMinWidth&&(t.minWidth=this.realMinWidth),t.minWidth||(t.minWidth=80),t.realWidth=void 0===t.width?t.minWidth:t.width,t},setColumnForcedProps:function(t){var e=t.type,i=oa[e]||{};return Object.keys(i).forEach(function(e){var a=i[e];void 0!==a&&(t[e]="className"===e?t[e]+" "+a:a)}),t},setColumnRenders:function(t){var e=this;this.$createElement;this.renderHeader?console.warn("[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==t.type&&(t.renderHeader=function(i,a){var n=e.$scopedSlots.header;return n?n(a):t.label});var i=t.renderCell;return"expand"===t.type?(t.renderCell=function(t,e){return t("div",{class:"cell"},[i(t,e)])},this.owner.renderExpanded=function(t,i){return e.$scopedSlots.default?e.$scopedSlots.default(i):e.$slots.default}):(i=i||sa,t.renderCell=function(a,n){var r=null;r=e.$scopedSlots.default?e.$scopedSlots.default(n):i(a,n);var o=function(t,e){var i=e.row,a=e.treeNode,n=e.store;if(!a)return null;var r=[];if(a.indent&&r.push(t("span",{class:"el-table__indent",style:{"padding-left":a.indent+"px"}})),"boolean"!=typeof a.expanded||a.noLazyChildren)r.push(t("span",{class:"el-table__placeholder"}));else{var o=["el-table__expand-icon",a.expanded?"el-table__expand-icon--expanded":""],s=["el-icon-arrow-right"];a.loading&&(s=["el-icon-loading"]),r.push(t("div",{class:o,on:{click:function(t){t.stopPropagation(),n.loadOrToggle(i)}}},[t("i",{class:s})]))}return r}(a,n),s={class:"cell",style:{}};return t.showOverflowTooltip&&(s.class+=" el-tooltip",s.style={width:(n.column.realWidth||n.column.width)-1+"px"}),a("div",s,[o,r])}),t},registerNormalWatchers:function(){var t=this,e={prop:"property",realAlign:"align",realHeaderAlign:"headerAlign",realWidth:"width"},i=["label","property","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"].reduce(function(t,e){return t[e]=e,t},e);Object.keys(i).forEach(function(i){var a=e[i];t.$watch(i,function(e){t.columnConfig[a]=e})})},registerComplexWatchers:function(){var t=this,e={realWidth:"width",realMinWidth:"minWidth"},i=["fixed"].reduce(function(t,e){return t[e]=e,t},e);Object.keys(i).forEach(function(i){var a=e[i];t.$watch(i,function(e){t.columnConfig[a]=e;var i="fixed"===a;t.owner.store.scheduleLayout(i)})})}},components:{ElCheckbox:ri.a},beforeCreate:function(){this.row={},this.column={},this.$index=0,this.columnId=""},created:function(){var t=this.columnOrTableParent;this.isSubColumn=this.owner!==t,this.columnId=(t.tableId||t.columnId)+"_column_"+ha++;var e=this.type||"default",i=""===this.sortable||this.sortable,a=la({},ra[e],{id:this.columnId,type:e,property:this.prop||this.property,align:this.realAlign,headerAlign:this.realHeaderAlign,showOverflowTooltip:this.showOverflowTooltip||this.showTooltipWhenOverflow,filterable:this.filters||this.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,filterOpened:!1,sortable:i,index:this.index}),n=this.getPropsData(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);n=function(t,e){var i={},a=void 0;for(a in t)i[a]=t[a];for(a in e)if(xi(e,a)){var n=e[a];void 0!==n&&(i[a]=n)}return i}(a,n),n=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}(this.setColumnRenders,this.setColumnWidth,this.setColumnForcedProps)(n),this.columnConfig=n,this.registerNormalWatchers(),this.registerComplexWatchers()},mounted:function(){var t=this.owner,e=this.columnOrTableParent,i=this.isSubColumn?e.$el.children:e.$refs.hiddenColumns.children,a=this.getColumnElIndex(i,this.$el);t.store.commit("insertColumn",this.columnConfig,a,this.isSubColumn?e.columnConfig:null)},destroyed:function(){if(this.$parent){var t=this.$parent;this.owner.store.commit("removeColumn",this.columnConfig,this.isSubColumn?t.columnConfig:null)}},render:function(t){return t("div",this.$slots.default)},install:function(t){t.component(ua.name,ua)}},ca=ua,da=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.ranged?i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor el-range-editor el-input__inner",class:["el-date-editor--"+t.type,t.pickerSize?"el-range-editor--"+t.pickerSize:"",t.pickerDisabled?"is-disabled":"",t.pickerVisible?"is-active":""],on:{click:t.handleRangeClick,mouseenter:t.handleMouseEnter,mouseleave:function(e){t.showClose=!1},keydown:t.handleKeydown}},[i("i",{class:["el-input__icon","el-range__icon",t.triggerClass]}),i("input",t._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:t.startPlaceholder,disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,name:t.name&&t.name[0]},domProps:{value:t.displayValue&&t.displayValue[0]},on:{input:t.handleStartInput,change:t.handleStartChange,focus:t.handleFocus}},"input",t.firstInputId,!1)),t._t("range-separator",[i("span",{staticClass:"el-range-separator"},[t._v(t._s(t.rangeSeparator))])]),i("input",t._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:t.endPlaceholder,disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,name:t.name&&t.name[1]},domProps:{value:t.displayValue&&t.displayValue[1]},on:{input:t.handleEndInput,change:t.handleEndChange,focus:t.handleFocus}},"input",t.secondInputId,!1)),t.haveTrigger?i("i",{staticClass:"el-input__icon el-range__close-icon",class:[t.showClose?""+t.clearIcon:""],on:{click:t.handleClickIcon}}):t._e()],2):i("el-input",t._b({directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor",class:"el-date-editor--"+t.type,attrs:{readonly:!t.editable||t.readonly||"dates"===t.type||"week"===t.type,disabled:t.pickerDisabled,size:t.pickerSize,name:t.name,placeholder:t.placeholder,value:t.displayValue,validateEvent:!1},on:{focus:t.handleFocus,input:function(e){return t.userInput=e},change:t.handleChange},nativeOn:{keydown:function(e){return t.handleKeydown(e)},mouseenter:function(e){return t.handleMouseEnter(e)},mouseleave:function(e){t.showClose=!1}}},"el-input",t.firstInputId,!1),[i("i",{staticClass:"el-input__icon",class:t.triggerClass,attrs:{slot:"prefix"},on:{click:t.handleFocus},slot:"prefix"}),t.haveTrigger?i("i",{staticClass:"el-input__icon",class:[t.showClose?""+t.clearIcon:""],attrs:{slot:"suffix"},on:{click:t.handleClickIcon},slot:"suffix"}):t._e()])};da._withStripped=!0;var fa=i(0),pa={props:{appendToBody:N.a.props.appendToBody,offset:N.a.props.offset,boundariesPadding:N.a.props.boundariesPadding,arrowOffset:N.a.props.arrowOffset},methods:N.a.methods,data:function(){return Gt()({visibleArrow:!0},N.a.data)},beforeDestroy:N.a.beforeDestroy},ma={date:"yyyy-MM-dd",month:"yyyy-MM",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",week:"yyyywWW",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss",year:"yyyy"},va=["date","datetime","time","time-select","week","month","year","daterange","monthrange","timerange","datetimerange","dates"],ga=function(t,e){return"timestamp"===e?t.getTime():Object(fa.formatDate)(t,e)},Ca=function(t,e){return"timestamp"===e?new Date(Number(t)):Object(fa.parseDate)(t,e)},Da=function(t,e){if(Array.isArray(t)&&2===t.length){var i=t[0],a=t[1];if(i&&a)return[ga(i,e),ga(a,e)]}return""},ya=function(t,e,i){if(Array.isArray(t)||(t=t.split(i)),2===t.length){var a=t[0],n=t[1];return[Ca(a,e),Ca(n,e)]}return[]},xa={default:{formatter:function(t){return t?""+t:""},parser:function(t){return void 0===t||""===t?null:t}},week:{formatter:function(t,e){var i=Object(fa.getWeekNumber)(t),a=t.getMonth(),n=new Date(t);1===i&&11===a&&(n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7));var r=Object(fa.formatDate)(n,e);return r=/WW/.test(r)?r.replace(/WW/,i<10?"0"+i:i):r.replace(/W/,i)},parser:function(t,e){return xa.date.parser(t,e)}},date:{formatter:ga,parser:Ca},datetime:{formatter:ga,parser:Ca},daterange:{formatter:Da,parser:ya},monthrange:{formatter:Da,parser:ya},datetimerange:{formatter:Da,parser:ya},timerange:{formatter:Da,parser:ya},time:{formatter:ga,parser:Ca},month:{formatter:ga,parser:Ca},year:{formatter:ga,parser:Ca},number:{formatter:function(t){return t?""+t:""},parser:function(t){var e=Number(t);return isNaN(t)?null:e}},dates:{formatter:function(t,e){return t.map(function(t){return ga(t,e)})},parser:function(t,e){return("string"==typeof t?t.split(", "):t).map(function(t){return t instanceof Date?t:Ca(t,e)})}}},Sa={left:"bottom-start",center:"bottom",right:"bottom-end"},Ia=function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-";return t?(0,(xa[i]||xa.default).parser)(t,e||ma[i],a):null},Ta=function(t,e,i){return t?(0,(xa[i]||xa.default).formatter)(t,e||ma[i]):null},ba=function(t,e){var i=function(t,e){var i=t instanceof Date,a=e instanceof Date;return i&&a?t.getTime()===e.getTime():!i&&!a&&t===e},a=t instanceof Array,n=e instanceof Array;return a&&n?t.length===e.length&&t.every(function(t,a){return i(t,e[a])}):!a&&!n&&i(t,e)},wa=function(t){return"string"==typeof t||t instanceof String},Ma=function(t){return null===t||void 0===t||wa(t)||Array.isArray(t)&&2===t.length&&t.every(wa)},Ea=n({mixins:[T.a,pa],inject:{elForm:{default:""},elFormItem:{default:""}},props:{size:String,format:String,valueFormat:String,readonly:Boolean,placeholder:String,startPlaceholder:String,endPlaceholder:String,prefixIcon:String,clearIcon:{type:String,default:"el-icon-circle-close"},name:{default:"",validator:Ma},disabled:Boolean,clearable:{type:Boolean,default:!0},id:{default:"",validator:Ma},popperClass:String,editable:{type:Boolean,default:!0},align:{type:String,default:"left"},value:{},defaultValue:{},defaultTime:{},rangeSeparator:{default:"-"},pickerOptions:{},unlinkPanels:Boolean,validateEvent:{type:Boolean,default:!0}},components:{ElInput:d.a},directives:{Clickoutside:F.a},data:function(){return{pickerVisible:!1,showClose:!1,userInput:null,valueOnOpen:null,unwatchPickerOptions:null}},watch:{pickerVisible:function(t){this.readonly||this.pickerDisabled||(t?(this.showPicker(),this.valueOnOpen=Array.isArray(this.value)?[].concat(this.value):this.value):(this.hidePicker(),this.emitChange(this.value),this.userInput=null,this.validateEvent&&this.dispatch("ElFormItem","el.form.blur"),this.$emit("blur",this),this.blur()))},parsedValue:{immediate:!0,handler:function(t){this.picker&&(this.picker.value=t)}},defaultValue:function(t){this.picker&&(this.picker.defaultValue=t)},value:function(t,e){ba(t,e)||this.pickerVisible||!this.validateEvent||this.dispatch("ElFormItem","el.form.change",t)}},computed:{ranged:function(){return this.type.indexOf("range")>-1},reference:function(){var t=this.$refs.reference;return t.$el||t},refInput:function(){return this.reference?[].slice.call(this.reference.querySelectorAll("input")):[]},valueIsEmpty:function(){var t=this.value;if(Array.isArray(t)){for(var e=0,i=t.length;e<i;e++)if(t[e])return!1}else if(t)return!1;return!0},triggerClass:function(){return this.prefixIcon||(-1!==this.type.indexOf("time")?"el-icon-time":"el-icon-date")},selectionMode:function(){return"week"===this.type?"week":"month"===this.type?"month":"year"===this.type?"year":"dates"===this.type?"dates":"day"},haveTrigger:function(){return void 0!==this.showTrigger?this.showTrigger:-1!==va.indexOf(this.type)},displayValue:function(){var t=Ta(this.parsedValue,this.format,this.type,this.rangeSeparator);return Array.isArray(this.userInput)?[this.userInput[0]||t&&t[0]||"",this.userInput[1]||t&&t[1]||""]:null!==this.userInput?this.userInput:t?"dates"===this.type?t.join(", "):t:""},parsedValue:function(){return this.value?"time-select"===this.type?this.value:Object(fa.isDateObject)(this.value)||Array.isArray(this.value)&&this.value.every(fa.isDateObject)?this.value:this.valueFormat?Ia(this.value,this.valueFormat,this.type,this.rangeSeparator)||this.value:Array.isArray(this.value)?this.value.map(function(t){return new Date(t)}):new Date(this.value):this.value},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},pickerSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},pickerDisabled:function(){return this.disabled||(this.elForm||{}).disabled},firstInputId:function(){var t={},e=void 0;return(e=this.ranged?this.id&&this.id[0]:this.id)&&(t.id=e),t},secondInputId:function(){var t={},e=void 0;return this.ranged&&(e=this.id&&this.id[1]),e&&(t.id=e),t}},created:function(){this.popperOptions={boundariesPadding:0,gpuAcceleration:!1},this.placement=Sa[this.align]||Sa.left,this.$on("fieldReset",this.handleFieldReset)},methods:{focus:function(){this.ranged?this.handleFocus():this.$refs.reference.focus()},blur:function(){this.refInput.forEach(function(t){return t.blur()})},parseValue:function(t){var e=Object(fa.isDateObject)(t)||Array.isArray(t)&&t.every(fa.isDateObject);return this.valueFormat&&!e&&Ia(t,this.valueFormat,this.type,this.rangeSeparator)||t},formatToValue:function(t){var e=Object(fa.isDateObject)(t)||Array.isArray(t)&&t.every(fa.isDateObject);return this.valueFormat&&e?Ta(t,this.valueFormat,this.type,this.rangeSeparator):t},parseString:function(t){var e=Array.isArray(t)?this.type:this.type.replace("range","");return Ia(t,this.format,e)},formatToString:function(t){var e=Array.isArray(t)?this.type:this.type.replace("range","");return Ta(t,this.format,e)},handleMouseEnter:function(){this.readonly||this.pickerDisabled||!this.valueIsEmpty&&this.clearable&&(this.showClose=!0)},handleChange:function(){if(this.userInput){var t=this.parseString(this.displayValue);t&&(this.picker.value=t,this.isValidValue(t)&&(this.emitInput(t),this.userInput=null))}""===this.userInput&&(this.emitInput(null),this.emitChange(null),this.userInput=null)},handleStartInput:function(t){this.userInput?this.userInput=[t.target.value,this.userInput[1]]:this.userInput=[t.target.value,null]},handleEndInput:function(t){this.userInput?this.userInput=[this.userInput[0],t.target.value]:this.userInput=[null,t.target.value]},handleStartChange:function(t){var e=this.parseString(this.userInput&&this.userInput[0]);if(e){this.userInput=[this.formatToString(e),this.displayValue[1]];var i=[e,this.picker.value&&this.picker.value[1]];this.picker.value=i,this.isValidValue(i)&&(this.emitInput(i),this.userInput=null)}},handleEndChange:function(t){var e=this.parseString(this.userInput&&this.userInput[1]);if(e){this.userInput=[this.displayValue[0],this.formatToString(e)];var i=[this.picker.value&&this.picker.value[0],e];this.picker.value=i,this.isValidValue(i)&&(this.emitInput(i),this.userInput=null)}},handleClickIcon:function(t){this.readonly||this.pickerDisabled||(this.showClose?(this.valueOnOpen=this.value,t.stopPropagation(),this.emitInput(null),this.emitChange(null),this.showClose=!1,this.picker&&"function"==typeof this.picker.handleClear&&this.picker.handleClear()):this.pickerVisible=!this.pickerVisible)},handleClose:function(){if(this.pickerVisible&&(this.pickerVisible=!1,"dates"===this.type)){var t=Ia(this.valueOnOpen,this.valueFormat,this.type,this.rangeSeparator)||this.valueOnOpen;this.emitInput(t)}},handleFieldReset:function(t){this.userInput=""===t?null:t},handleFocus:function(){var t=this.type;-1===va.indexOf(t)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},handleKeydown:function(t){var e=this,i=t.keyCode;return 27===i?(this.pickerVisible=!1,void t.stopPropagation()):9!==i?13===i?((""===this.userInput||this.isValidValue(this.parseString(this.displayValue)))&&(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur()),void t.stopPropagation()):void(this.userInput?t.stopPropagation():this.picker&&this.picker.handleKeydown&&this.picker.handleKeydown(t)):void(this.ranged?setTimeout(function(){-1===e.refInput.indexOf(document.activeElement)&&(e.pickerVisible=!1,e.blur(),t.stopPropagation())},0):(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur(),t.stopPropagation()))},handleRangeClick:function(){var t=this.type;-1===va.indexOf(t)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},hidePicker:function(){this.picker&&(this.picker.resetView&&this.picker.resetView(),this.pickerVisible=this.picker.visible=!1,this.destroyPopper())},showPicker:function(){var t=this;this.$isServer||(this.picker||this.mountPicker(),this.pickerVisible=this.picker.visible=!0,this.updatePopper(),this.picker.value=this.parsedValue,this.picker.resetView&&this.picker.resetView(),this.$nextTick(function(){t.picker.adjustSpinners&&t.picker.adjustSpinners()}))},mountPicker:function(){var t=this;this.picker=new di.a(this.panel).$mount(),this.picker.defaultValue=this.defaultValue,this.picker.defaultTime=this.defaultTime,this.picker.popperClass=this.popperClass,this.popperElm=this.picker.$el,this.picker.width=this.reference.getBoundingClientRect().width,this.picker.showTime="datetime"===this.type||"datetimerange"===this.type,this.picker.selectionMode=this.selectionMode,this.picker.unlinkPanels=this.unlinkPanels,this.picker.arrowControl=this.arrowControl||this.timeArrowControl||!1,this.$watch("format",function(e){t.picker.format=e});var e=function(){var e=t.pickerOptions;if(e&&e.selectableRange){var i=e.selectableRange,a=xa.datetimerange.parser,n=ma.timerange;i=Array.isArray(i)?i:[i],t.picker.selectableRange=i.map(function(e){return a(e,n,t.rangeSeparator)})}for(var r in e)e.hasOwnProperty(r)&&"selectableRange"!==r&&(t.picker[r]=e[r]);t.format&&(t.picker.format=t.format)};e(),this.unwatchPickerOptions=this.$watch("pickerOptions",function(){return e()},{deep:!0}),this.$el.appendChild(this.picker.$el),this.picker.resetView&&this.picker.resetView(),this.picker.$on("dodestroy",this.doDestroy),this.picker.$on("pick",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.userInput=null,t.pickerVisible=t.picker.visible=i,t.emitInput(e),t.picker.resetView&&t.picker.resetView()}),this.picker.$on("select-range",function(e,i,a){0!==t.refInput.length&&(a&&"min"!==a?"max"===a&&(t.refInput[1].setSelectionRange(e,i),t.refInput[1].focus()):(t.refInput[0].setSelectionRange(e,i),t.refInput[0].focus()))})},unmountPicker:function(){this.picker&&(this.picker.$destroy(),this.picker.$off(),"function"==typeof this.unwatchPickerOptions&&this.unwatchPickerOptions(),this.picker.$el.parentNode.removeChild(this.picker.$el))},emitChange:function(t){ba(t,this.valueOnOpen)||(this.$emit("change",t),this.valueOnOpen=t,this.validateEvent&&this.dispatch("ElFormItem","el.form.change",t))},emitInput:function(t){var e=this.formatToValue(t);ba(this.value,e)||this.$emit("input",e)},isValidValue:function(t){return this.picker||this.mountPicker(),!this.picker.isValidValue||t&&this.picker.isValidValue(t)}}},da,[],!1,null,null,null);Ea.options.__file="packages/date-picker/src/picker.vue";var Aa=Ea.exports,_a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-enter":t.handleEnter,"after-leave":t.handleLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-picker el-popper",class:[{"has-sidebar":t.$slots.sidebar||t.shortcuts,"has-time":t.showTime},t.popperClass]},[i("div",{staticClass:"el-picker-panel__body-wrapper"},[t._t("sidebar"),t.shortcuts?i("div",{staticClass:"el-picker-panel__sidebar"},t._l(t.shortcuts,function(e,a){return i("button",{key:a,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(i){t.handleShortcutClick(e)}}},[t._v(t._s(e.text))])}),0):t._e(),i("div",{staticClass:"el-picker-panel__body"},[t.showTime?i("div",{staticClass:"el-date-picker__time-header"},[i("span",{staticClass:"el-date-picker__editor-wrap"},[i("el-input",{attrs:{placeholder:t.t("el.datepicker.selectDate"),value:t.visibleDate,size:"small"},on:{input:function(e){return t.userInputDate=e},change:t.handleVisibleDateChange}})],1),i("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleTimePickClose,expression:"handleTimePickClose"}],staticClass:"el-date-picker__editor-wrap"},[i("el-input",{ref:"input",attrs:{placeholder:t.t("el.datepicker.selectTime"),value:t.visibleTime,size:"small"},on:{focus:function(e){t.timePickerVisible=!0},input:function(e){return t.userInputTime=e},change:t.handleVisibleTimeChange}}),i("time-picker",{ref:"timepicker",attrs:{"time-arrow-control":t.arrowControl,visible:t.timePickerVisible},on:{pick:t.handleTimePick,mounted:t.proxyTimePickerDataProperties}})],1)]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==t.currentView,expression:"currentView !== 'time'"}],staticClass:"el-date-picker__header",class:{"el-date-picker__header--bordered":"year"===t.currentView||"month"===t.currentView}},[i("button",{staticClass:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-d-arrow-left",attrs:{type:"button","aria-label":t.t("el.datepicker.prevYear")},on:{click:t.prevYear}}),i("button",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],staticClass:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-arrow-left",attrs:{type:"button","aria-label":t.t("el.datepicker.prevMonth")},on:{click:t.prevMonth}}),i("span",{staticClass:"el-date-picker__header-label",attrs:{role:"button"},on:{click:t.showYearPicker}},[t._v(t._s(t.yearLabel))]),i("span",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],staticClass:"el-date-picker__header-label",class:{active:"month"===t.currentView},attrs:{role:"button"},on:{click:t.showMonthPicker}},[t._v(t._s(t.t("el.datepicker.month"+(t.month+1))))]),i("button",{staticClass:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-d-arrow-right",attrs:{type:"button","aria-label":t.t("el.datepicker.nextYear")},on:{click:t.nextYear}}),i("button",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],staticClass:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-arrow-right",attrs:{type:"button","aria-label":t.t("el.datepicker.nextMonth")},on:{click:t.nextMonth}})]),i("div",{staticClass:"el-picker-panel__content"},[i("date-table",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],attrs:{"selection-mode":t.selectionMode,"first-day-of-week":t.firstDayOfWeek,value:t.value,"default-value":t.defaultValue?new Date(t.defaultValue):null,date:t.date,"cell-class-name":t.cellClassName,"disabled-date":t.disabledDate},on:{pick:t.handleDatePick}}),i("year-table",{directives:[{name:"show",rawName:"v-show",value:"year"===t.currentView,expression:"currentView === 'year'"}],attrs:{value:t.value,"default-value":t.defaultValue?new Date(t.defaultValue):null,date:t.date,"disabled-date":t.disabledDate},on:{pick:t.handleYearPick}}),i("month-table",{directives:[{name:"show",rawName:"v-show",value:"month"===t.currentView,expression:"currentView === 'month'"}],attrs:{value:t.value,"default-value":t.defaultValue?new Date(t.defaultValue):null,date:t.date,"disabled-date":t.disabledDate},on:{pick:t.handleMonthPick}})],1)])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.footerVisible&&"date"===t.currentView,expression:"footerVisible && currentView === 'date'"}],staticClass:"el-picker-panel__footer"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:"dates"!==t.selectionMode,expression:"selectionMode !== 'dates'"}],staticClass:"el-picker-panel__link-btn",attrs:{size:"mini",type:"text"},on:{click:t.changeToNow}},[t._v("\n        "+t._s(t.t("el.datepicker.now"))+"\n      ")]),i("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{plain:"",size:"mini"},on:{click:t.confirm}},[t._v("\n        "+t._s(t.t("el.datepicker.confirm"))+"\n      ")])],1)])])};_a._withStripped=!0;var La=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-time-panel el-popper",class:t.popperClass},[i("div",{staticClass:"el-time-panel__content",class:{"has-seconds":t.showSeconds}},[i("time-spinner",{ref:"spinner",attrs:{"arrow-control":t.useArrow,"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,date:t.date},on:{change:t.handleChange,"select-range":t.setSelectionRange}})],1),i("div",{staticClass:"el-time-panel__footer"},[i("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:t.handleCancel}},[t._v(t._s(t.t("el.datepicker.cancel")))]),i("button",{staticClass:"el-time-panel__btn",class:{confirm:!t.disabled},attrs:{type:"button"},on:{click:function(e){t.handleConfirm()}}},[t._v(t._s(t.t("el.datepicker.confirm")))])])])])};La._withStripped=!0;var Fa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-time-spinner",class:{"has-seconds":t.showSeconds}},[t.arrowControl?t._e():[i("el-scrollbar",{ref:"hours",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){t.emitSelectRange("hours")},mousemove:function(e){t.adjustCurrentSpinner("hours")}}},t._l(t.hoursList,function(e,a){return i("li",{key:a,staticClass:"el-time-spinner__item",class:{active:a===t.hours,disabled:e},on:{click:function(i){t.handleClick("hours",{value:a,disabled:e})}}},[t._v(t._s(("0"+(t.amPmMode?a%12||12:a)).slice(-2))+t._s(t.amPm(a)))])}),0),i("el-scrollbar",{ref:"minutes",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){t.emitSelectRange("minutes")},mousemove:function(e){t.adjustCurrentSpinner("minutes")}}},t._l(t.minutesList,function(e,a){return i("li",{key:a,staticClass:"el-time-spinner__item",class:{active:a===t.minutes,disabled:!e},on:{click:function(e){t.handleClick("minutes",{value:a,disabled:!1})}}},[t._v(t._s(("0"+a).slice(-2)))])}),0),i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.showSeconds,expression:"showSeconds"}],ref:"seconds",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){t.emitSelectRange("seconds")},mousemove:function(e){t.adjustCurrentSpinner("seconds")}}},t._l(60,function(e,a){return i("li",{key:a,staticClass:"el-time-spinner__item",class:{active:a===t.seconds},on:{click:function(e){t.handleClick("seconds",{value:a,disabled:!1})}}},[t._v(t._s(("0"+a).slice(-2)))])}),0)],t.arrowControl?[i("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){t.emitSelectRange("hours")}}},[i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),i("ul",{ref:"hours",staticClass:"el-time-spinner__list"},t._l(t.arrowHourList,function(e,a){return i("li",{key:a,staticClass:"el-time-spinner__item",class:{active:e===t.hours,disabled:t.hoursList[e]}},[t._v(t._s(void 0===e?"":("0"+(t.amPmMode?e%12||12:e)).slice(-2)+t.amPm(e)))])}),0)]),i("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){t.emitSelectRange("minutes")}}},[i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),i("ul",{ref:"minutes",staticClass:"el-time-spinner__list"},t._l(t.arrowMinuteList,function(e,a){return i("li",{key:a,staticClass:"el-time-spinner__item",class:{active:e===t.minutes}},[t._v("\n          "+t._s(void 0===e?"":("0"+e).slice(-2))+"\n        ")])}),0)]),t.showSeconds?i("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){t.emitSelectRange("seconds")}}},[i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),i("ul",{ref:"seconds",staticClass:"el-time-spinner__list"},t._l(t.arrowSecondList,function(e,a){return i("li",{key:a,staticClass:"el-time-spinner__item",class:{active:e===t.seconds}},[t._v("\n          "+t._s(void 0===e?"":("0"+e).slice(-2))+"\n        ")])}),0)]):t._e()]:t._e()],2)};Fa._withStripped=!0;var Oa=n({components:{ElScrollbar:B.a},directives:{repeatClick:Kt},props:{date:{},defaultValue:{},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""}},computed:{hours:function(){return this.date.getHours()},minutes:function(){return this.date.getMinutes()},seconds:function(){return this.date.getSeconds()},hoursList:function(){return Object(fa.getRangeHours)(this.selectableRange)},minutesList:function(){return Object(fa.getRangeMinutes)(this.selectableRange,this.hours)},arrowHourList:function(){var t=this.hours;return[t>0?t-1:void 0,t,t<23?t+1:void 0]},arrowMinuteList:function(){var t=this.minutes;return[t>0?t-1:void 0,t,t<59?t+1:void 0]},arrowSecondList:function(){var t=this.seconds;return[t>0?t-1:void 0,t,t<59?t+1:void 0]}},data:function(){return{selectableRange:[],currentScrollbar:null}},mounted:function(){var t=this;this.$nextTick(function(){!t.arrowControl&&t.bindScrollEvent()})},methods:{increase:function(){this.scrollDown(1)},decrease:function(){this.scrollDown(-1)},modifyDateField:function(t,e){switch(t){case"hours":this.$emit("change",Object(fa.modifyTime)(this.date,e,this.minutes,this.seconds));break;case"minutes":this.$emit("change",Object(fa.modifyTime)(this.date,this.hours,e,this.seconds));break;case"seconds":this.$emit("change",Object(fa.modifyTime)(this.date,this.hours,this.minutes,e))}},handleClick:function(t,e){var i=e.value;e.disabled||(this.modifyDateField(t,i),this.emitSelectRange(t),this.adjustSpinner(t,i))},emitSelectRange:function(t){"hours"===t?this.$emit("select-range",0,2):"minutes"===t?this.$emit("select-range",3,5):"seconds"===t&&this.$emit("select-range",6,8),this.currentScrollbar=t},bindScrollEvent:function(){var t=this,e=function(e){t.$refs[e].wrap.onscroll=function(i){t.handleScroll(e,i)}};e("hours"),e("minutes"),e("seconds")},handleScroll:function(t){var e=Math.min(Math.round((this.$refs[t].wrap.scrollTop-(.5*this.scrollBarHeight(t)-10)/this.typeItemHeight(t)+3)/this.typeItemHeight(t)),"hours"===t?23:59);this.modifyDateField(t,e)},adjustSpinners:function(){this.adjustSpinner("hours",this.hours),this.adjustSpinner("minutes",this.minutes),this.adjustSpinner("seconds",this.seconds)},adjustCurrentSpinner:function(t){this.adjustSpinner(t,this[t])},adjustSpinner:function(t,e){if(!this.arrowControl){var i=this.$refs[t].wrap;i&&(i.scrollTop=Math.max(0,e*this.typeItemHeight(t)))}},scrollDown:function(t){var e=this;this.currentScrollbar||this.emitSelectRange("hours");var i=this.currentScrollbar,a=this.hoursList,n=this[i];if("hours"===this.currentScrollbar){var r=Math.abs(t);t=t>0?1:-1;for(var o=a.length;o--&&r;)a[n=(n+t+a.length)%a.length]||r--;if(a[n])return}else n=(n+t+60)%60;this.modifyDateField(i,n),this.adjustSpinner(i,n),this.$nextTick(function(){return e.emitSelectRange(e.currentScrollbar)})},amPm:function(t){if(!("a"===this.amPmMode.toLowerCase()))return"";var e="A"===this.amPmMode,i=t<12?" am":" pm";return e&&(i=i.toUpperCase()),i},typeItemHeight:function(t){return this.$refs[t].$el.querySelector("li").offsetHeight},scrollBarHeight:function(t){return this.$refs[t].$el.offsetHeight}}},Fa,[],!1,null,null,null);Oa.options.__file="packages/date-picker/src/basic/time-spinner.vue";var Pa=Oa.exports,Na=n({mixins:[p.a],components:{TimeSpinner:Pa},props:{visible:Boolean,timeArrowControl:Boolean},watch:{visible:function(t){var e=this;t?(this.oldValue=this.value,this.$nextTick(function(){return e.$refs.spinner.emitSelectRange("hours")})):this.needInitAdjust=!0},value:function(t){var e=this,i=void 0;t instanceof Date?i=Object(fa.limitTimeRange)(t,this.selectableRange,this.format):t||(i=this.defaultValue?new Date(this.defaultValue):new Date),this.date=i,this.visible&&this.needInitAdjust&&(this.$nextTick(function(t){return e.adjustSpinners()}),this.needInitAdjust=!1)},selectableRange:function(t){this.$refs.spinner.selectableRange=t},defaultValue:function(t){Object(fa.isDate)(this.value)||(this.date=t?new Date(t):new Date)}},data:function(){return{popperClass:"",format:"HH:mm:ss",value:"",defaultValue:null,date:new Date,oldValue:new Date,selectableRange:[],selectionRange:[0,2],disabled:!1,arrowControl:!1,needInitAdjust:!0}},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},useArrow:function(){return this.arrowControl||this.timeArrowControl||!1},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},methods:{handleCancel:function(){this.$emit("pick",this.oldValue,!1)},handleChange:function(t){this.visible&&(this.date=Object(fa.clearMilliseconds)(t),this.isValidValue(this.date)&&this.$emit("pick",this.date,!0))},setSelectionRange:function(t,e){this.$emit("select-range",t,e),this.selectionRange=[t,e]},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments[1];if(!e){var i=Object(fa.clearMilliseconds)(Object(fa.limitTimeRange)(this.date,this.selectableRange,this.format));this.$emit("pick",i,t,e)}},handleKeydown:function(t){var e=t.keyCode,i={38:-1,40:1,37:-1,39:1};if(37===e||39===e){var a=i[e];return this.changeSelectionRange(a),void t.preventDefault()}if(38===e||40===e){var n=i[e];return this.$refs.spinner.scrollDown(n),void t.preventDefault()}},isValidValue:function(t){return Object(fa.timeWithinRange)(t,this.selectableRange,this.format)},adjustSpinners:function(){return this.$refs.spinner.adjustSpinners()},changeSelectionRange:function(t){var e=[0,3].concat(this.showSeconds?[6]:[]),i=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]),a=(e.indexOf(this.selectionRange[0])+t+e.length)%e.length;this.$refs.spinner.emitSelectRange(i[a])}},mounted:function(){var t=this;this.$nextTick(function(){return t.handleConfirm(!0,!0)}),this.$emit("mounted")}},La,[],!1,null,null,null);Na.options.__file="packages/date-picker/src/panel/time.vue";var Ra=Na.exports,Ba=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"el-year-table",on:{click:t.handleYearTableClick}},[i("tbody",[i("tr",[i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+0)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+1)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+1))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+2)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+2))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+3)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+3))])])]),i("tr",[i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+4)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+4))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+5)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+5))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+6)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+6))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+7)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+7))])])]),i("tr",[i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+8)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+8))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+9)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+9))])]),i("td"),i("td")])])])};Ba._withStripped=!0;var ka=n({props:{disabledDate:{},value:{},defaultValue:{validator:function(t){return null===t||t instanceof Date&&Object(fa.isDate)(t)}},date:{}},computed:{startYear:function(){return 10*Math.floor(this.date.getFullYear()/10)}},methods:{getCellStyle:function(t){var e={},i=new Date;return e.disabled="function"==typeof this.disabledDate&&function(t){var e=Object(fa.getDayCountOfYear)(t),i=new Date(t,0,1);return Object(fa.range)(e).map(function(t){return Object(fa.nextDate)(i,t)})}(t).every(this.disabledDate),e.current=Object(m.arrayFindIndex)(Object(m.coerceTruthyValueToArray)(this.value),function(e){return e.getFullYear()===t})>=0,e.today=i.getFullYear()===t,e.default=this.defaultValue&&this.defaultValue.getFullYear()===t,e},handleYearTableClick:function(t){var e=t.target;if("A"===e.tagName){if(Object(pt.hasClass)(e.parentNode,"disabled"))return;var i=e.textContent||e.innerText;this.$emit("pick",Number(i))}}}},Ba,[],!1,null,null,null);ka.options.__file="packages/date-picker/src/basic/year-table.vue";var Va=ka.exports,Ha=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"el-month-table",on:{click:t.handleMonthTableClick,mousemove:t.handleMouseMove}},[i("tbody",t._l(t.rows,function(e,a){return i("tr",{key:a},t._l(e,function(e,a){return i("td",{key:a,class:t.getCellStyle(e)},[i("div",[i("a",{staticClass:"cell"},[t._v(t._s(t.t("el.datepicker.months."+t.months[e.text])))])])])}),0)}),0)])};Ha._withStripped=!0;var Ga=function(t){return new Date(t.getFullYear(),t.getMonth())},Ya=function(t){return"number"==typeof t||"string"==typeof t?Ga(new Date(t)).getTime():t instanceof Date?Ga(t).getTime():NaN},Wa=n({props:{disabledDate:{},value:{},selectionMode:{default:"month"},minDate:{},maxDate:{},defaultValue:{validator:function(t){return null===t||Object(fa.isDate)(t)||Array.isArray(t)&&t.every(fa.isDate)}},date:{},rangeState:{default:function(){return{endDate:null,selecting:!1}}}},mixins:[p.a],watch:{"rangeState.endDate":function(t){this.markRange(this.minDate,t)},minDate:function(t,e){Ya(t)!==Ya(e)&&this.markRange(this.minDate,this.maxDate)},maxDate:function(t,e){Ya(t)!==Ya(e)&&this.markRange(this.minDate,this.maxDate)}},data:function(){return{months:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],tableRows:[[],[],[]],lastRow:null,lastColumn:null}},methods:{cellMatchesDate:function(t,e){var i=new Date(e);return this.date.getFullYear()===i.getFullYear()&&Number(t.text)===i.getMonth()},getCellStyle:function(t){var e=this,i={},a=this.date.getFullYear(),n=new Date,r=t.text,o=this.defaultValue?Array.isArray(this.defaultValue)?this.defaultValue:[this.defaultValue]:[];return i.disabled="function"==typeof this.disabledDate&&function(t,e){var i=Object(fa.getDayCountOfMonth)(t,e),a=new Date(t,e,1);return Object(fa.range)(i).map(function(t){return Object(fa.nextDate)(a,t)})}(a,r).every(this.disabledDate),i.current=Object(m.arrayFindIndex)(Object(m.coerceTruthyValueToArray)(this.value),function(t){return t.getFullYear()===a&&t.getMonth()===r})>=0,i.today=n.getFullYear()===a&&n.getMonth()===r,i.default=o.some(function(i){return e.cellMatchesDate(t,i)}),t.inRange&&(i["in-range"]=!0,t.start&&(i["start-date"]=!0),t.end&&(i["end-date"]=!0)),i},getMonthOfCell:function(t){var e=this.date.getFullYear();return new Date(e,t,1)},markRange:function(t,e){t=Ya(t),e=Ya(e)||t;var i=[Math.min(t,e),Math.max(t,e)];t=i[0],e=i[1];for(var a=this.rows,n=0,r=a.length;n<r;n++)for(var o=a[n],s=0,l=o.length;s<l;s++){var h=o[s],u=4*n+s,c=new Date(this.date.getFullYear(),u).getTime();h.inRange=t&&c>=t&&c<=e,h.start=t&&c===t,h.end=e&&c===e}},handleMouseMove:function(t){if(this.rangeState.selecting){var e=t.target;if("A"===e.tagName&&(e=e.parentNode.parentNode),"DIV"===e.tagName&&(e=e.parentNode),"TD"===e.tagName){var i=e.parentNode.rowIndex,a=e.cellIndex;this.rows[i][a].disabled||i===this.lastRow&&a===this.lastColumn||(this.lastRow=i,this.lastColumn=a,this.$emit("changerange",{minDate:this.minDate,maxDate:this.maxDate,rangeState:{selecting:!0,endDate:this.getMonthOfCell(4*i+a)}}))}}},handleMonthTableClick:function(t){var e=t.target;if("A"===e.tagName&&(e=e.parentNode.parentNode),"DIV"===e.tagName&&(e=e.parentNode),"TD"===e.tagName&&!Object(pt.hasClass)(e,"disabled")){var i=e.cellIndex,a=4*e.parentNode.rowIndex+i,n=this.getMonthOfCell(a);"range"===this.selectionMode?this.rangeState.selecting?(n>=this.minDate?this.$emit("pick",{minDate:this.minDate,maxDate:n}):this.$emit("pick",{minDate:n,maxDate:this.minDate}),this.rangeState.selecting=!1):(this.$emit("pick",{minDate:n,maxDate:null}),this.rangeState.selecting=!0):this.$emit("pick",a)}}},computed:{rows:function(){for(var t=this,e=this.tableRows,i=this.disabledDate,a=[],n=Ya(new Date),r=0;r<3;r++)for(var o=e[r],s=function(e){var s=o[e];s||(s={row:r,column:e,type:"normal",inRange:!1,start:!1,end:!1}),s.type="normal";var l=4*r+e,h=new Date(t.date.getFullYear(),l).getTime();s.inRange=h>=Ya(t.minDate)&&h<=Ya(t.maxDate),s.start=t.minDate&&h===Ya(t.minDate),s.end=t.maxDate&&h===Ya(t.maxDate),h===n&&(s.type="today"),s.text=l;var u=new Date(h);s.disabled="function"==typeof i&&i(u),s.selected=Object(m.arrayFind)(a,function(t){return t.getTime()===u.getTime()}),t.$set(o,e,s)},l=0;l<4;l++)s(l);return e}}},Ha,[],!1,null,null,null);Wa.options.__file="packages/date-picker/src/basic/month-table.vue";var Xa=Wa.exports,Ua=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"el-date-table",class:{"is-week-mode":"week"===t.selectionMode},attrs:{cellspacing:"0",cellpadding:"0"},on:{click:t.handleClick,mousemove:t.handleMouseMove}},[i("tbody",[i("tr",[t.showWeekNumber?i("th",[t._v(t._s(t.t("el.datepicker.week")))]):t._e(),t._l(t.WEEKS,function(e,a){return i("th",{key:a},[t._v(t._s(t.t("el.datepicker.weeks."+e)))])})],2),t._l(t.rows,function(e,a){return i("tr",{key:a,staticClass:"el-date-table__row",class:{current:t.isWeekActive(e[1])}},t._l(e,function(e,a){return i("td",{key:a,class:t.getCellClasses(e)},[i("div",[i("span",[t._v("\n          "+t._s(e.text)+"\n        ")])])])}),0)})],2)])};Ua._withStripped=!0;var za=["sun","mon","tue","wed","thu","fri","sat"],Ka=function(t){return"number"==typeof t||"string"==typeof t?Object(fa.clearTime)(new Date(t)).getTime():t instanceof Date?Object(fa.clearTime)(t).getTime():NaN},$a=n({mixins:[p.a],props:{firstDayOfWeek:{default:7,type:Number,validator:function(t){return t>=1&&t<=7}},value:{},defaultValue:{validator:function(t){return null===t||Object(fa.isDate)(t)||Array.isArray(t)&&t.every(fa.isDate)}},date:{},selectionMode:{default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{},cellClassName:{},minDate:{},maxDate:{},rangeState:{default:function(){return{endDate:null,selecting:!1}}}},computed:{offsetDay:function(){var t=this.firstDayOfWeek;return t>3?7-t:-t},WEEKS:function(){var t=this.firstDayOfWeek;return za.concat(za).slice(t,t+7)},year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()},startDate:function(){return Object(fa.getStartDateOfMonth)(this.year,this.month)},rows:function(){var t=this,e=new Date(this.year,this.month,1),i=Object(fa.getFirstDayOfMonth)(e),a=Object(fa.getDayCountOfMonth)(e.getFullYear(),e.getMonth()),n=Object(fa.getDayCountOfMonth)(e.getFullYear(),0===e.getMonth()?11:e.getMonth()-1);i=0===i?7:i;for(var r=this.offsetDay,o=this.tableRows,s=1,l=this.startDate,h=this.disabledDate,u=this.cellClassName,c="dates"===this.selectionMode?Object(m.coerceTruthyValueToArray)(this.value):[],d=Ka(new Date),f=0;f<6;f++){var p=o[f];this.showWeekNumber&&(p[0]||(p[0]={type:"week",text:Object(fa.getWeekNumber)(Object(fa.nextDate)(l,7*f+1))}));for(var v=function(e){var o=p[t.showWeekNumber?e+1:e];o||(o={row:f,column:e,type:"normal",inRange:!1,start:!1,end:!1}),o.type="normal";var v=7*f+e,g=Object(fa.nextDate)(l,v-r).getTime();if(o.inRange=g>=Ka(t.minDate)&&g<=Ka(t.maxDate),o.start=t.minDate&&g===Ka(t.minDate),o.end=t.maxDate&&g===Ka(t.maxDate),g===d&&(o.type="today"),f>=0&&f<=1){var C=i+r<0?7+i+r:i+r;e+7*f>=C?o.text=s++:(o.text=n-(C-e%7)+1+7*f,o.type="prev-month")}else s<=a?o.text=s++:(o.text=s++-a,o.type="next-month");var D=new Date(g);o.disabled="function"==typeof h&&h(D),o.selected=Object(m.arrayFind)(c,function(t){return t.getTime()===D.getTime()}),o.customClass="function"==typeof u&&u(D),t.$set(p,t.showWeekNumber?e+1:e,o)},g=0;g<7;g++)v(g);if("week"===this.selectionMode){var C=this.showWeekNumber?1:0,D=this.showWeekNumber?7:6,y=this.isWeekActive(p[C+1]);p[C].inRange=y,p[C].start=y,p[D].inRange=y,p[D].end=y}}return o}},watch:{"rangeState.endDate":function(t){this.markRange(this.minDate,t)},minDate:function(t,e){Ka(t)!==Ka(e)&&this.markRange(this.minDate,this.maxDate)},maxDate:function(t,e){Ka(t)!==Ka(e)&&this.markRange(this.minDate,this.maxDate)}},data:function(){return{tableRows:[[],[],[],[],[],[]],lastRow:null,lastColumn:null}},methods:{cellMatchesDate:function(t,e){var i=new Date(e);return this.year===i.getFullYear()&&this.month===i.getMonth()&&Number(t.text)===i.getDate()},getCellClasses:function(t){var e=this,i=this.selectionMode,a=this.defaultValue?Array.isArray(this.defaultValue)?this.defaultValue:[this.defaultValue]:[],n=[];return"normal"!==t.type&&"today"!==t.type||t.disabled?n.push(t.type):(n.push("available"),"today"===t.type&&n.push("today")),"normal"===t.type&&a.some(function(i){return e.cellMatchesDate(t,i)})&&n.push("default"),"day"!==i||"normal"!==t.type&&"today"!==t.type||!this.cellMatchesDate(t,this.value)||n.push("current"),!t.inRange||"normal"!==t.type&&"today"!==t.type&&"week"!==this.selectionMode||(n.push("in-range"),t.start&&n.push("start-date"),t.end&&n.push("end-date")),t.disabled&&n.push("disabled"),t.selected&&n.push("selected"),t.customClass&&n.push(t.customClass),n.join(" ")},getDateOfCell:function(t,e){var i=7*t+(e-(this.showWeekNumber?1:0))-this.offsetDay;return Object(fa.nextDate)(this.startDate,i)},isWeekActive:function(t){if("week"!==this.selectionMode)return!1;var e=new Date(this.year,this.month,1),i=e.getFullYear(),a=e.getMonth();if("prev-month"===t.type&&(e.setMonth(0===a?11:a-1),e.setFullYear(0===a?i-1:i)),"next-month"===t.type&&(e.setMonth(11===a?0:a+1),e.setFullYear(11===a?i+1:i)),e.setDate(parseInt(t.text,10)),Object(fa.isDate)(this.value)){var n=(this.value.getDay()-this.firstDayOfWeek+7)%7-1;return Object(fa.prevDate)(this.value,n).getTime()===e.getTime()}return!1},markRange:function(t,e){t=Ka(t),e=Ka(e)||t;var i=[Math.min(t,e),Math.max(t,e)];t=i[0],e=i[1];for(var a=this.startDate,n=this.rows,r=0,o=n.length;r<o;r++)for(var s=n[r],l=0,h=s.length;l<h;l++)if(!this.showWeekNumber||0!==l){var u=s[l],c=7*r+l+(this.showWeekNumber?-1:0),d=Object(fa.nextDate)(a,c-this.offsetDay).getTime();u.inRange=t&&d>=t&&d<=e,u.start=t&&d===t,u.end=e&&d===e}},handleMouseMove:function(t){if(this.rangeState.selecting){var e=t.target;if("SPAN"===e.tagName&&(e=e.parentNode.parentNode),"DIV"===e.tagName&&(e=e.parentNode),"TD"===e.tagName){var i=e.parentNode.rowIndex-1,a=e.cellIndex;this.rows[i][a].disabled||i===this.lastRow&&a===this.lastColumn||(this.lastRow=i,this.lastColumn=a,this.$emit("changerange",{minDate:this.minDate,maxDate:this.maxDate,rangeState:{selecting:!0,endDate:this.getDateOfCell(i,a)}}))}}},handleClick:function(t){var e=t.target;if("SPAN"===e.tagName&&(e=e.parentNode.parentNode),"DIV"===e.tagName&&(e=e.parentNode),"TD"===e.tagName){var i=e.parentNode.rowIndex-1,a="week"===this.selectionMode?1:e.cellIndex,n=this.rows[i][a];if(!n.disabled&&"week"!==n.type){var r,o,s,l=this.getDateOfCell(i,a);if("range"===this.selectionMode)this.rangeState.selecting?(l>=this.minDate?this.$emit("pick",{minDate:this.minDate,maxDate:l}):this.$emit("pick",{minDate:l,maxDate:this.minDate}),this.rangeState.selecting=!1):(this.$emit("pick",{minDate:l,maxDate:null}),this.rangeState.selecting=!0);else if("day"===this.selectionMode)this.$emit("pick",l);else if("week"===this.selectionMode){var h=Object(fa.getWeekNumber)(l),u=l.getFullYear()+"w"+h;this.$emit("pick",{year:l.getFullYear(),week:h,value:u,date:l})}else if("dates"===this.selectionMode){var c=this.value||[],d=n.selected?(r=c,(s="function"==typeof(o=function(t){return t.getTime()===l.getTime()})?Object(m.arrayFindIndex)(r,o):r.indexOf(o))>=0?[].concat(r.slice(0,s),r.slice(s+1)):r):[].concat(c,[l]);this.$emit("pick",d)}}}}}},Ua,[],!1,null,null,null);$a.options.__file="packages/date-picker/src/basic/date-table.vue";var ja=$a.exports,qa=n({mixins:[p.a],directives:{Clickoutside:F.a},watch:{showTime:function(t){var e=this;t&&this.$nextTick(function(t){var i=e.$refs.input.$el;i&&(e.pickerWidth=i.getBoundingClientRect().width+10)})},value:function(t){"dates"===this.selectionMode&&this.value||(Object(fa.isDate)(t)?this.date=new Date(t):this.date=this.getDefaultValue())},defaultValue:function(t){Object(fa.isDate)(this.value)||(this.date=t?new Date(t):new Date)},timePickerVisible:function(t){var e=this;t&&this.$nextTick(function(){return e.$refs.timepicker.adjustSpinners()})},selectionMode:function(t){"month"===t?"year"===this.currentView&&"month"===this.currentView||(this.currentView="month"):"dates"===t&&(this.currentView="date")}},methods:{proxyTimePickerDataProperties:function(){var t,e=this,i=function(t){e.$refs.timepicker.value=t},a=function(t){e.$refs.timepicker.date=t},n=function(t){e.$refs.timepicker.selectableRange=t};this.$watch("value",i),this.$watch("date",a),this.$watch("selectableRange",n),t=this.timeFormat,e.$refs.timepicker.format=t,i(this.value),a(this.date),n(this.selectableRange)},handleClear:function(){this.date=this.getDefaultValue(),this.$emit("pick",null)},emit:function(t){for(var e=this,i=arguments.length,a=Array(i>1?i-1:0),n=1;n<i;n++)a[n-1]=arguments[n];if(t)if(Array.isArray(t)){var r=t.map(function(t){return e.showTime?Object(fa.clearMilliseconds)(t):Object(fa.clearTime)(t)});this.$emit.apply(this,["pick",r].concat(a))}else this.$emit.apply(this,["pick",this.showTime?Object(fa.clearMilliseconds)(t):Object(fa.clearTime)(t)].concat(a));else this.$emit.apply(this,["pick",t].concat(a));this.userInputDate=null,this.userInputTime=null},showMonthPicker:function(){this.currentView="month"},showYearPicker:function(){this.currentView="year"},prevMonth:function(){this.date=Object(fa.prevMonth)(this.date)},nextMonth:function(){this.date=Object(fa.nextMonth)(this.date)},prevYear:function(){"year"===this.currentView?this.date=Object(fa.prevYear)(this.date,10):this.date=Object(fa.prevYear)(this.date)},nextYear:function(){"year"===this.currentView?this.date=Object(fa.nextYear)(this.date,10):this.date=Object(fa.nextYear)(this.date)},handleShortcutClick:function(t){t.onClick&&t.onClick(this)},handleTimePick:function(t,e,i){if(Object(fa.isDate)(t)){var a=this.value?Object(fa.modifyTime)(this.value,t.getHours(),t.getMinutes(),t.getSeconds()):Object(fa.modifyWithTimeString)(this.getDefaultValue(),this.defaultTime);this.date=a,this.emit(this.date,!0)}else this.emit(t,!0);i||(this.timePickerVisible=e)},handleTimePickClose:function(){this.timePickerVisible=!1},handleMonthPick:function(t){"month"===this.selectionMode?(this.date=Object(fa.modifyDate)(this.date,this.year,t,1),this.emit(this.date)):(this.date=Object(fa.changeYearMonthAndClampDate)(this.date,this.year,t),this.currentView="date")},handleDatePick:function(t){if("day"===this.selectionMode){var e=this.value?Object(fa.modifyDate)(this.value,t.getFullYear(),t.getMonth(),t.getDate()):Object(fa.modifyWithTimeString)(t,this.defaultTime);this.checkDateWithinRange(e)||(e=Object(fa.modifyDate)(this.selectableRange[0][0],t.getFullYear(),t.getMonth(),t.getDate())),this.date=e,this.emit(this.date,this.showTime)}else"week"===this.selectionMode?this.emit(t.date):"dates"===this.selectionMode&&this.emit(t,!0)},handleYearPick:function(t){"year"===this.selectionMode?(this.date=Object(fa.modifyDate)(this.date,t,0,1),this.emit(this.date)):(this.date=Object(fa.changeYearMonthAndClampDate)(this.date,t,this.month),this.currentView="month")},changeToNow:function(){this.disabledDate&&this.disabledDate(new Date)||!this.checkDateWithinRange(new Date)||(this.date=new Date,this.emit(this.date))},confirm:function(){if("dates"===this.selectionMode)this.emit(this.value);else{var t=this.value?this.value:Object(fa.modifyWithTimeString)(this.getDefaultValue(),this.defaultTime);this.date=new Date(t),this.emit(t)}},resetView:function(){"month"===this.selectionMode?this.currentView="month":"year"===this.selectionMode?this.currentView="year":this.currentView="date"},handleEnter:function(){document.body.addEventListener("keydown",this.handleKeydown)},handleLeave:function(){this.$emit("dodestroy"),document.body.removeEventListener("keydown",this.handleKeydown)},handleKeydown:function(t){var e=t.keyCode;this.visible&&!this.timePickerVisible&&(-1!==[38,40,37,39].indexOf(e)&&(this.handleKeyControl(e),t.stopPropagation(),t.preventDefault()),13===e&&null===this.userInputDate&&null===this.userInputTime&&this.emit(this.date,!1))},handleKeyControl:function(t){for(var e={year:{38:-4,40:4,37:-1,39:1,offset:function(t,e){return t.setFullYear(t.getFullYear()+e)}},month:{38:-4,40:4,37:-1,39:1,offset:function(t,e){return t.setMonth(t.getMonth()+e)}},week:{38:-1,40:1,37:-1,39:1,offset:function(t,e){return t.setDate(t.getDate()+7*e)}},day:{38:-7,40:7,37:-1,39:1,offset:function(t,e){return t.setDate(t.getDate()+e)}}},i=this.selectionMode,a=this.date.getTime(),n=new Date(this.date.getTime());Math.abs(a-n.getTime())<=31536e6;){var r=e[i];if(r.offset(n,r[t]),"function"!=typeof this.disabledDate||!this.disabledDate(n)){this.date=n,this.$emit("pick",n,!0);break}}},handleVisibleTimeChange:function(t){var e=Object(fa.parseDate)(t,this.timeFormat);e&&this.checkDateWithinRange(e)&&(this.date=Object(fa.modifyDate)(e,this.year,this.month,this.monthDate),this.userInputTime=null,this.$refs.timepicker.value=this.date,this.timePickerVisible=!1,this.emit(this.date,!0))},handleVisibleDateChange:function(t){var e=Object(fa.parseDate)(t,this.dateFormat);if(e){if("function"==typeof this.disabledDate&&this.disabledDate(e))return;this.date=Object(fa.modifyTime)(e,this.date.getHours(),this.date.getMinutes(),this.date.getSeconds()),this.userInputDate=null,this.resetView(),this.emit(this.date,!0)}},isValidValue:function(t){return t&&!isNaN(t)&&("function"!=typeof this.disabledDate||!this.disabledDate(t))&&this.checkDateWithinRange(t)},getDefaultValue:function(){return this.defaultValue?new Date(this.defaultValue):new Date},checkDateWithinRange:function(t){return!(this.selectableRange.length>0)||Object(fa.timeWithinRange)(t,this.selectableRange,this.format||"HH:mm:ss")}},components:{TimePicker:Ra,YearTable:Va,MonthTable:Xa,DateTable:ja,ElInput:d.a,ElButton:z.a},data:function(){return{popperClass:"",date:new Date,value:"",defaultValue:null,defaultTime:null,showTime:!1,selectionMode:"day",shortcuts:"",visible:!1,currentView:"date",disabledDate:"",cellClassName:"",selectableRange:[],firstDayOfWeek:7,showWeekNumber:!1,timePickerVisible:!1,format:"",arrowControl:!1,userInputDate:null,userInputTime:null}},computed:{year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()},week:function(){return Object(fa.getWeekNumber)(this.date)},monthDate:function(){return this.date.getDate()},footerVisible:function(){return this.showTime||"dates"===this.selectionMode},visibleTime:function(){return null!==this.userInputTime?this.userInputTime:Object(fa.formatDate)(this.value||this.defaultValue,this.timeFormat)},visibleDate:function(){return null!==this.userInputDate?this.userInputDate:Object(fa.formatDate)(this.value||this.defaultValue,this.dateFormat)},yearLabel:function(){var t=this.t("el.datepicker.year");if("year"===this.currentView){var e=10*Math.floor(this.year/10);return t?e+" "+t+" - "+(e+9)+" "+t:e+" - "+(e+9)}return this.year+" "+t},timeFormat:function(){return this.format?Object(fa.extractTimeFormat)(this.format):"HH:mm:ss"},dateFormat:function(){return this.format?Object(fa.extractDateFormat)(this.format):"yyyy-MM-dd"}}},_a,[],!1,null,null,null);qa.options.__file="packages/date-picker/src/panel/date.vue";var Ja=qa.exports,Za=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-range-picker el-popper",class:[{"has-sidebar":t.$slots.sidebar||t.shortcuts,"has-time":t.showTime},t.popperClass]},[i("div",{staticClass:"el-picker-panel__body-wrapper"},[t._t("sidebar"),t.shortcuts?i("div",{staticClass:"el-picker-panel__sidebar"},t._l(t.shortcuts,function(e,a){return i("button",{key:a,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(i){t.handleShortcutClick(e)}}},[t._v(t._s(e.text))])}),0):t._e(),i("div",{staticClass:"el-picker-panel__body"},[t.showTime?i("div",{staticClass:"el-date-range-picker__time-header"},[i("span",{staticClass:"el-date-range-picker__editors-wrap"},[i("span",{staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{ref:"minInput",staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.startDate"),value:t.minVisibleDate},on:{input:function(e){return t.handleDateInput(e,"min")},change:function(e){return t.handleDateChange(e,"min")}}})],1),i("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleMinTimeClose,expression:"handleMinTimeClose"}],staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.startTime"),value:t.minVisibleTime},on:{focus:function(e){t.minTimePickerVisible=!0},input:function(e){return t.handleTimeInput(e,"min")},change:function(e){return t.handleTimeChange(e,"min")}}}),i("time-picker",{ref:"minTimePicker",attrs:{"time-arrow-control":t.arrowControl,visible:t.minTimePickerVisible},on:{pick:t.handleMinTimePick,mounted:function(e){t.$refs.minTimePicker.format=t.timeFormat}}})],1)]),i("span",{staticClass:"el-icon-arrow-right"}),i("span",{staticClass:"el-date-range-picker__editors-wrap is-right"},[i("span",{staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.endDate"),value:t.maxVisibleDate,readonly:!t.minDate},on:{input:function(e){return t.handleDateInput(e,"max")},change:function(e){return t.handleDateChange(e,"max")}}})],1),i("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleMaxTimeClose,expression:"handleMaxTimeClose"}],staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.endTime"),value:t.maxVisibleTime,readonly:!t.minDate},on:{focus:function(e){t.minDate&&(t.maxTimePickerVisible=!0)},input:function(e){return t.handleTimeInput(e,"max")},change:function(e){return t.handleTimeChange(e,"max")}}}),i("time-picker",{ref:"maxTimePicker",attrs:{"time-arrow-control":t.arrowControl,visible:t.maxTimePickerVisible},on:{pick:t.handleMaxTimePick,mounted:function(e){t.$refs.maxTimePicker.format=t.timeFormat}}})],1)])]):t._e(),i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-left"},[i("div",{staticClass:"el-date-range-picker__header"},[i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",attrs:{type:"button"},on:{click:t.leftPrevYear}}),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-left",attrs:{type:"button"},on:{click:t.leftPrevMonth}}),t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",class:{"is-disabled":!t.enableYearArrow},attrs:{type:"button",disabled:!t.enableYearArrow},on:{click:t.leftNextYear}}):t._e(),t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-right",class:{"is-disabled":!t.enableMonthArrow},attrs:{type:"button",disabled:!t.enableMonthArrow},on:{click:t.leftNextMonth}}):t._e(),i("div",[t._v(t._s(t.leftLabel))])]),i("date-table",{attrs:{"selection-mode":"range",date:t.leftDate,"default-value":t.defaultValue,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,"cell-class-name":t.cellClassName,"first-day-of-week":t.firstDayOfWeek},on:{changerange:t.handleChangeRange,pick:t.handleRangePick}})],1),i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-right"},[i("div",{staticClass:"el-date-range-picker__header"},[t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",class:{"is-disabled":!t.enableYearArrow},attrs:{type:"button",disabled:!t.enableYearArrow},on:{click:t.rightPrevYear}}):t._e(),t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-left",class:{"is-disabled":!t.enableMonthArrow},attrs:{type:"button",disabled:!t.enableMonthArrow},on:{click:t.rightPrevMonth}}):t._e(),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",attrs:{type:"button"},on:{click:t.rightNextYear}}),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-right",attrs:{type:"button"},on:{click:t.rightNextMonth}}),i("div",[t._v(t._s(t.rightLabel))])]),i("date-table",{attrs:{"selection-mode":"range",date:t.rightDate,"default-value":t.defaultValue,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,"cell-class-name":t.cellClassName,"first-day-of-week":t.firstDayOfWeek},on:{changerange:t.handleChangeRange,pick:t.handleRangePick}})],1)])],2),t.showTime?i("div",{staticClass:"el-picker-panel__footer"},[i("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{size:"mini",type:"text"},on:{click:t.handleClear}},[t._v("\n        "+t._s(t.t("el.datepicker.clear"))+"\n      ")]),i("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{plain:"",size:"mini",disabled:t.btnDisabled},on:{click:function(e){t.handleConfirm(!1)}}},[t._v("\n        "+t._s(t.t("el.datepicker.confirm"))+"\n      ")])],1):t._e()])])};Za._withStripped=!0;var Qa=function(t){return Array.isArray(t)?[new Date(t[0]),new Date(t[1])]:t?[new Date(t),Object(fa.nextDate)(new Date(t),1)]:[new Date,Object(fa.nextDate)(new Date,1)]},tn=n({mixins:[p.a],directives:{Clickoutside:F.a},computed:{btnDisabled:function(){return!(this.minDate&&this.maxDate&&!this.selecting&&this.isValidValue([this.minDate,this.maxDate]))},leftLabel:function(){return this.leftDate.getFullYear()+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+(this.leftDate.getMonth()+1))},rightLabel:function(){return this.rightDate.getFullYear()+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+(this.rightDate.getMonth()+1))},leftYear:function(){return this.leftDate.getFullYear()},leftMonth:function(){return this.leftDate.getMonth()},leftMonthDate:function(){return this.leftDate.getDate()},rightYear:function(){return this.rightDate.getFullYear()},rightMonth:function(){return this.rightDate.getMonth()},rightMonthDate:function(){return this.rightDate.getDate()},minVisibleDate:function(){return null!==this.dateUserInput.min?this.dateUserInput.min:this.minDate?Object(fa.formatDate)(this.minDate,this.dateFormat):""},maxVisibleDate:function(){return null!==this.dateUserInput.max?this.dateUserInput.max:this.maxDate||this.minDate?Object(fa.formatDate)(this.maxDate||this.minDate,this.dateFormat):""},minVisibleTime:function(){return null!==this.timeUserInput.min?this.timeUserInput.min:this.minDate?Object(fa.formatDate)(this.minDate,this.timeFormat):""},maxVisibleTime:function(){return null!==this.timeUserInput.max?this.timeUserInput.max:this.maxDate||this.minDate?Object(fa.formatDate)(this.maxDate||this.minDate,this.timeFormat):""},timeFormat:function(){return this.format?Object(fa.extractTimeFormat)(this.format):"HH:mm:ss"},dateFormat:function(){return this.format?Object(fa.extractDateFormat)(this.format):"yyyy-MM-dd"},enableMonthArrow:function(){var t=(this.leftMonth+1)%12,e=this.leftMonth+1>=12?1:0;return this.unlinkPanels&&new Date(this.leftYear+e,t)<new Date(this.rightYear,this.rightMonth)},enableYearArrow:function(){return this.unlinkPanels&&12*this.rightYear+this.rightMonth-(12*this.leftYear+this.leftMonth+1)>=12}},data:function(){return{popperClass:"",value:[],defaultValue:null,defaultTime:null,minDate:"",maxDate:"",leftDate:new Date,rightDate:Object(fa.nextMonth)(new Date),rangeState:{endDate:null,selecting:!1,row:null,column:null},showTime:!1,shortcuts:"",visible:"",disabledDate:"",cellClassName:"",firstDayOfWeek:7,minTimePickerVisible:!1,maxTimePickerVisible:!1,format:"",arrowControl:!1,unlinkPanels:!1,dateUserInput:{min:null,max:null},timeUserInput:{min:null,max:null}}},watch:{minDate:function(t){var e=this;this.dateUserInput.min=null,this.timeUserInput.min=null,this.$nextTick(function(){if(e.$refs.maxTimePicker&&e.maxDate&&e.maxDate<e.minDate){e.$refs.maxTimePicker.selectableRange=[[Object(fa.parseDate)(Object(fa.formatDate)(e.minDate,"HH:mm:ss"),"HH:mm:ss"),Object(fa.parseDate)("23:59:59","HH:mm:ss")]]}}),t&&this.$refs.minTimePicker&&(this.$refs.minTimePicker.date=t,this.$refs.minTimePicker.value=t)},maxDate:function(t){this.dateUserInput.max=null,this.timeUserInput.max=null,t&&this.$refs.maxTimePicker&&(this.$refs.maxTimePicker.date=t,this.$refs.maxTimePicker.value=t)},minTimePickerVisible:function(t){var e=this;t&&this.$nextTick(function(){e.$refs.minTimePicker.date=e.minDate,e.$refs.minTimePicker.value=e.minDate,e.$refs.minTimePicker.adjustSpinners()})},maxTimePickerVisible:function(t){var e=this;t&&this.$nextTick(function(){e.$refs.maxTimePicker.date=e.maxDate,e.$refs.maxTimePicker.value=e.maxDate,e.$refs.maxTimePicker.adjustSpinners()})},value:function(t){if(t){if(Array.isArray(t))if(this.minDate=Object(fa.isDate)(t[0])?new Date(t[0]):null,this.maxDate=Object(fa.isDate)(t[1])?new Date(t[1]):null,this.minDate)if(this.leftDate=this.minDate,this.unlinkPanels&&this.maxDate){var e=this.minDate.getFullYear(),i=this.minDate.getMonth(),a=this.maxDate.getFullYear(),n=this.maxDate.getMonth();this.rightDate=e===a&&i===n?Object(fa.nextMonth)(this.maxDate):this.maxDate}else this.rightDate=Object(fa.nextMonth)(this.leftDate);else this.leftDate=Qa(this.defaultValue)[0],this.rightDate=Object(fa.nextMonth)(this.leftDate)}else this.minDate=null,this.maxDate=null},defaultValue:function(t){if(!Array.isArray(this.value)){var e=Qa(t),i=e[0],a=e[1];this.leftDate=i,this.rightDate=t&&t[1]&&this.unlinkPanels?a:Object(fa.nextMonth)(this.leftDate)}}},methods:{handleClear:function(){this.minDate=null,this.maxDate=null,this.leftDate=Qa(this.defaultValue)[0],this.rightDate=Object(fa.nextMonth)(this.leftDate),this.$emit("pick",null)},handleChangeRange:function(t){this.minDate=t.minDate,this.maxDate=t.maxDate,this.rangeState=t.rangeState},handleDateInput:function(t,e){if(this.dateUserInput[e]=t,t.length===this.dateFormat.length){var i=Object(fa.parseDate)(t,this.dateFormat);if(i){if("function"==typeof this.disabledDate&&this.disabledDate(new Date(i)))return;"min"===e?(this.minDate=Object(fa.modifyDate)(this.minDate||new Date,i.getFullYear(),i.getMonth(),i.getDate()),this.leftDate=new Date(i),this.unlinkPanels||(this.rightDate=Object(fa.nextMonth)(this.leftDate))):(this.maxDate=Object(fa.modifyDate)(this.maxDate||new Date,i.getFullYear(),i.getMonth(),i.getDate()),this.rightDate=new Date(i),this.unlinkPanels||(this.leftDate=Object(fa.prevMonth)(i)))}}},handleDateChange:function(t,e){var i=Object(fa.parseDate)(t,this.dateFormat);i&&("min"===e?(this.minDate=Object(fa.modifyDate)(this.minDate,i.getFullYear(),i.getMonth(),i.getDate()),this.minDate>this.maxDate&&(this.maxDate=this.minDate)):(this.maxDate=Object(fa.modifyDate)(this.maxDate,i.getFullYear(),i.getMonth(),i.getDate()),this.maxDate<this.minDate&&(this.minDate=this.maxDate)))},handleTimeInput:function(t,e){var i=this;if(this.timeUserInput[e]=t,t.length===this.timeFormat.length){var a=Object(fa.parseDate)(t,this.timeFormat);a&&("min"===e?(this.minDate=Object(fa.modifyTime)(this.minDate,a.getHours(),a.getMinutes(),a.getSeconds()),this.$nextTick(function(t){return i.$refs.minTimePicker.adjustSpinners()})):(this.maxDate=Object(fa.modifyTime)(this.maxDate,a.getHours(),a.getMinutes(),a.getSeconds()),this.$nextTick(function(t){return i.$refs.maxTimePicker.adjustSpinners()})))}},handleTimeChange:function(t,e){var i=Object(fa.parseDate)(t,this.timeFormat);i&&("min"===e?(this.minDate=Object(fa.modifyTime)(this.minDate,i.getHours(),i.getMinutes(),i.getSeconds()),this.minDate>this.maxDate&&(this.maxDate=this.minDate),this.$refs.minTimePicker.value=this.minDate,this.minTimePickerVisible=!1):(this.maxDate=Object(fa.modifyTime)(this.maxDate,i.getHours(),i.getMinutes(),i.getSeconds()),this.maxDate<this.minDate&&(this.minDate=this.maxDate),this.$refs.maxTimePicker.value=this.minDate,this.maxTimePickerVisible=!1))},handleRangePick:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.defaultTime||[],n=Object(fa.modifyWithTimeString)(t.minDate,a[0]),r=Object(fa.modifyWithTimeString)(t.maxDate,a[1]);this.maxDate===r&&this.minDate===n||(this.onPick&&this.onPick(t),this.maxDate=r,this.minDate=n,setTimeout(function(){e.maxDate=r,e.minDate=n},10),i&&!this.showTime&&this.handleConfirm())},handleShortcutClick:function(t){t.onClick&&t.onClick(this)},handleMinTimePick:function(t,e,i){this.minDate=this.minDate||new Date,t&&(this.minDate=Object(fa.modifyTime)(this.minDate,t.getHours(),t.getMinutes(),t.getSeconds())),i||(this.minTimePickerVisible=e),(!this.maxDate||this.maxDate&&this.maxDate.getTime()<this.minDate.getTime())&&(this.maxDate=new Date(this.minDate))},handleMinTimeClose:function(){this.minTimePickerVisible=!1},handleMaxTimePick:function(t,e,i){this.maxDate&&t&&(this.maxDate=Object(fa.modifyTime)(this.maxDate,t.getHours(),t.getMinutes(),t.getSeconds())),i||(this.maxTimePickerVisible=e),this.maxDate&&this.minDate&&this.minDate.getTime()>this.maxDate.getTime()&&(this.minDate=new Date(this.maxDate))},handleMaxTimeClose:function(){this.maxTimePickerVisible=!1},leftPrevYear:function(){this.leftDate=Object(fa.prevYear)(this.leftDate),this.unlinkPanels||(this.rightDate=Object(fa.nextMonth)(this.leftDate))},leftPrevMonth:function(){this.leftDate=Object(fa.prevMonth)(this.leftDate),this.unlinkPanels||(this.rightDate=Object(fa.nextMonth)(this.leftDate))},rightNextYear:function(){this.unlinkPanels?this.rightDate=Object(fa.nextYear)(this.rightDate):(this.leftDate=Object(fa.nextYear)(this.leftDate),this.rightDate=Object(fa.nextMonth)(this.leftDate))},rightNextMonth:function(){this.unlinkPanels?this.rightDate=Object(fa.nextMonth)(this.rightDate):(this.leftDate=Object(fa.nextMonth)(this.leftDate),this.rightDate=Object(fa.nextMonth)(this.leftDate))},leftNextYear:function(){this.leftDate=Object(fa.nextYear)(this.leftDate)},leftNextMonth:function(){this.leftDate=Object(fa.nextMonth)(this.leftDate)},rightPrevYear:function(){this.rightDate=Object(fa.prevYear)(this.rightDate)},rightPrevMonth:function(){this.rightDate=Object(fa.prevMonth)(this.rightDate)},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isValidValue([this.minDate,this.maxDate])&&this.$emit("pick",[this.minDate,this.maxDate],t)},isValidValue:function(t){return Array.isArray(t)&&t&&t[0]&&t[1]&&Object(fa.isDate)(t[0])&&Object(fa.isDate)(t[1])&&t[0].getTime()<=t[1].getTime()&&("function"!=typeof this.disabledDate||!this.disabledDate(t[0])&&!this.disabledDate(t[1]))},resetView:function(){this.minDate&&null==this.maxDate&&(this.rangeState.selecting=!1),this.minDate=this.value&&Object(fa.isDate)(this.value[0])?new Date(this.value[0]):null,this.maxDate=this.value&&Object(fa.isDate)(this.value[0])?new Date(this.value[1]):null}},components:{TimePicker:Ra,DateTable:ja,ElInput:d.a,ElButton:z.a}},Za,[],!1,null,null,null);tn.options.__file="packages/date-picker/src/panel/date-range.vue";var en=tn.exports,an=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-range-picker el-popper",class:[{"has-sidebar":t.$slots.sidebar||t.shortcuts},t.popperClass]},[i("div",{staticClass:"el-picker-panel__body-wrapper"},[t._t("sidebar"),t.shortcuts?i("div",{staticClass:"el-picker-panel__sidebar"},t._l(t.shortcuts,function(e,a){return i("button",{key:a,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(i){t.handleShortcutClick(e)}}},[t._v(t._s(e.text))])}),0):t._e(),i("div",{staticClass:"el-picker-panel__body"},[i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-left"},[i("div",{staticClass:"el-date-range-picker__header"},[i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",attrs:{type:"button"},on:{click:t.leftPrevYear}}),t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",class:{"is-disabled":!t.enableYearArrow},attrs:{type:"button",disabled:!t.enableYearArrow},on:{click:t.leftNextYear}}):t._e(),i("div",[t._v(t._s(t.leftLabel))])]),i("month-table",{attrs:{"selection-mode":"range",date:t.leftDate,"default-value":t.defaultValue,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate},on:{changerange:t.handleChangeRange,pick:t.handleRangePick}})],1),i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-right"},[i("div",{staticClass:"el-date-range-picker__header"},[t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",class:{"is-disabled":!t.enableYearArrow},attrs:{type:"button",disabled:!t.enableYearArrow},on:{click:t.rightPrevYear}}):t._e(),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",attrs:{type:"button"},on:{click:t.rightNextYear}}),i("div",[t._v(t._s(t.rightLabel))])]),i("month-table",{attrs:{"selection-mode":"range",date:t.rightDate,"default-value":t.defaultValue,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate},on:{changerange:t.handleChangeRange,pick:t.handleRangePick}})],1)])],2)])])};an._withStripped=!0;var nn=function(t){return Array.isArray(t)?[new Date(t[0]),new Date(t[1])]:t?[new Date(t),Object(fa.nextMonth)(new Date(t))]:[new Date,Object(fa.nextMonth)(new Date)]},rn=n({mixins:[p.a],directives:{Clickoutside:F.a},computed:{btnDisabled:function(){return!(this.minDate&&this.maxDate&&!this.selecting&&this.isValidValue([this.minDate,this.maxDate]))},leftLabel:function(){return this.leftDate.getFullYear()+" "+this.t("el.datepicker.year")},rightLabel:function(){return this.rightDate.getFullYear()+" "+this.t("el.datepicker.year")},leftYear:function(){return this.leftDate.getFullYear()},rightYear:function(){return this.rightDate.getFullYear()===this.leftDate.getFullYear()?this.leftDate.getFullYear()+1:this.rightDate.getFullYear()},enableYearArrow:function(){return this.unlinkPanels&&this.rightYear>this.leftYear+1}},data:function(){return{popperClass:"",value:[],defaultValue:null,defaultTime:null,minDate:"",maxDate:"",leftDate:new Date,rightDate:Object(fa.nextYear)(new Date),rangeState:{endDate:null,selecting:!1,row:null,column:null},shortcuts:"",visible:"",disabledDate:"",format:"",arrowControl:!1,unlinkPanels:!1}},watch:{value:function(t){if(t){if(Array.isArray(t))if(this.minDate=Object(fa.isDate)(t[0])?new Date(t[0]):null,this.maxDate=Object(fa.isDate)(t[1])?new Date(t[1]):null,this.minDate)if(this.leftDate=this.minDate,this.unlinkPanels&&this.maxDate){var e=this.minDate.getFullYear(),i=this.maxDate.getFullYear();this.rightDate=e===i?Object(fa.nextYear)(this.maxDate):this.maxDate}else this.rightDate=Object(fa.nextYear)(this.leftDate);else this.leftDate=nn(this.defaultValue)[0],this.rightDate=Object(fa.nextYear)(this.leftDate)}else this.minDate=null,this.maxDate=null},defaultValue:function(t){if(!Array.isArray(this.value)){var e=nn(t),i=e[0],a=e[1];this.leftDate=i,this.rightDate=t&&t[1]&&i.getFullYear()!==a.getFullYear()&&this.unlinkPanels?a:Object(fa.nextYear)(this.leftDate)}}},methods:{handleClear:function(){this.minDate=null,this.maxDate=null,this.leftDate=nn(this.defaultValue)[0],this.rightDate=Object(fa.nextYear)(this.leftDate),this.$emit("pick",null)},handleChangeRange:function(t){this.minDate=t.minDate,this.maxDate=t.maxDate,this.rangeState=t.rangeState},handleRangePick:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.defaultTime||[],n=Object(fa.modifyWithTimeString)(t.minDate,a[0]),r=Object(fa.modifyWithTimeString)(t.maxDate,a[1]);this.maxDate===r&&this.minDate===n||(this.onPick&&this.onPick(t),this.maxDate=r,this.minDate=n,setTimeout(function(){e.maxDate=r,e.minDate=n},10),i&&this.handleConfirm())},handleShortcutClick:function(t){t.onClick&&t.onClick(this)},leftPrevYear:function(){this.leftDate=Object(fa.prevYear)(this.leftDate),this.unlinkPanels||(this.rightDate=Object(fa.prevYear)(this.rightDate))},rightNextYear:function(){this.unlinkPanels||(this.leftDate=Object(fa.nextYear)(this.leftDate)),this.rightDate=Object(fa.nextYear)(this.rightDate)},leftNextYear:function(){this.leftDate=Object(fa.nextYear)(this.leftDate)},rightPrevYear:function(){this.rightDate=Object(fa.prevYear)(this.rightDate)},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isValidValue([this.minDate,this.maxDate])&&this.$emit("pick",[this.minDate,this.maxDate],t)},isValidValue:function(t){return Array.isArray(t)&&t&&t[0]&&t[1]&&Object(fa.isDate)(t[0])&&Object(fa.isDate)(t[1])&&t[0].getTime()<=t[1].getTime()&&("function"!=typeof this.disabledDate||!this.disabledDate(t[0])&&!this.disabledDate(t[1]))},resetView:function(){this.minDate=this.value&&Object(fa.isDate)(this.value[0])?new Date(this.value[0]):null,this.maxDate=this.value&&Object(fa.isDate)(this.value[0])?new Date(this.value[1]):null}},components:{MonthTable:Xa,ElInput:d.a,ElButton:z.a}},an,[],!1,null,null,null);rn.options.__file="packages/date-picker/src/panel/month-range.vue";var on=rn.exports,sn=function(t){return"daterange"===t||"datetimerange"===t?en:"monthrange"===t?on:Ja},ln={mixins:[Aa],name:"ElDatePicker",props:{type:{type:String,default:"date"},timeArrowControl:Boolean},watch:{type:function(t){this.picker?(this.unmountPicker(),this.panel=sn(t),this.mountPicker()):this.panel=sn(t)}},created:function(){this.panel=sn(this.type)},install:function(t){t.component(ln.name,ln)}},hn=ln,un=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":t.handleMenuEnter,"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"popper",staticClass:"el-picker-panel time-select el-popper",class:t.popperClass,style:{width:t.width+"px"}},[i("el-scrollbar",{attrs:{noresize:"","wrap-class":"el-picker-panel__content"}},t._l(t.items,function(e){return i("div",{key:e.value,staticClass:"time-select-item",class:{selected:t.value===e.value,disabled:e.disabled,default:e.value===t.defaultValue},attrs:{disabled:e.disabled},on:{click:function(i){t.handleClick(e)}}},[t._v(t._s(e.value))])}),0)],1)])};un._withStripped=!0;var cn=function(t){var e=(t||"").split(":");return e.length>=2?{hours:parseInt(e[0],10),minutes:parseInt(e[1],10)}:null},dn=function(t,e){var i=cn(t),a=cn(e),n=i.minutes+60*i.hours,r=a.minutes+60*a.hours;return n===r?0:n>r?1:-1},fn=function(t,e){var i=cn(t),a=cn(e),n={hours:i.hours,minutes:i.minutes};return n.minutes+=a.minutes,n.hours+=a.hours,n.hours+=Math.floor(n.minutes/60),n.minutes=n.minutes%60,function(t){return(t.hours<10?"0"+t.hours:t.hours)+":"+(t.minutes<10?"0"+t.minutes:t.minutes)}(n)},pn=n({components:{ElScrollbar:B.a},watch:{value:function(t){var e=this;t&&this.$nextTick(function(){return e.scrollToOption()})}},methods:{handleClick:function(t){t.disabled||this.$emit("pick",t.value)},handleClear:function(){this.$emit("pick",null)},scrollToOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".selected",e=this.$refs.popper.querySelector(".el-picker-panel__content");He()(e,e.querySelector(t))},handleMenuEnter:function(){var t=this,e=-1!==this.items.map(function(t){return t.value}).indexOf(this.value),i=-1!==this.items.map(function(t){return t.value}).indexOf(this.defaultValue),a=(e?".selected":i&&".default")||".time-select-item:not(.disabled)";this.$nextTick(function(){return t.scrollToOption(a)})},scrollDown:function(t){for(var e=this.items,i=e.length,a=e.length,n=e.map(function(t){return t.value}).indexOf(this.value);a--;)if(!e[n=(n+t+i)%i].disabled)return void this.$emit("pick",e[n].value,!0)},isValidValue:function(t){return-1!==this.items.filter(function(t){return!t.disabled}).map(function(t){return t.value}).indexOf(t)},handleKeydown:function(t){var e=t.keyCode;if(38===e||40===e){var i={40:1,38:-1}[e.toString()];return this.scrollDown(i),void t.stopPropagation()}}},data:function(){return{popperClass:"",start:"09:00",end:"18:00",step:"00:30",value:"",defaultValue:"",visible:!1,minTime:"",maxTime:"",width:0}},computed:{items:function(){var t=this.start,e=this.end,i=this.step,a=[];if(t&&e&&i)for(var n=t;dn(n,e)<=0;)a.push({value:n,disabled:dn(n,this.minTime||"-1:-1")<=0||dn(n,this.maxTime||"100:100")>=0}),n=fn(n,i);return a}}},un,[],!1,null,null,null);pn.options.__file="packages/date-picker/src/panel/time-select.vue";var mn=pn.exports,vn={mixins:[Aa],name:"ElTimeSelect",componentName:"ElTimeSelect",props:{type:{type:String,default:"time-select"}},beforeCreate:function(){this.panel=mn},install:function(t){t.component(vn.name,vn)}},gn=vn,Cn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-time-range-picker el-picker-panel el-popper",class:t.popperClass},[i("div",{staticClass:"el-time-range-picker__content"},[i("div",{staticClass:"el-time-range-picker__cell"},[i("div",{staticClass:"el-time-range-picker__header"},[t._v(t._s(t.t("el.datepicker.startTime")))]),i("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":t.showSeconds,"is-arrow":t.arrowControl}},[i("time-spinner",{ref:"minSpinner",attrs:{"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,date:t.minDate},on:{change:t.handleMinChange,"select-range":t.setMinSelectionRange}})],1)]),i("div",{staticClass:"el-time-range-picker__cell"},[i("div",{staticClass:"el-time-range-picker__header"},[t._v(t._s(t.t("el.datepicker.endTime")))]),i("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":t.showSeconds,"is-arrow":t.arrowControl}},[i("time-spinner",{ref:"maxSpinner",attrs:{"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,date:t.maxDate},on:{change:t.handleMaxChange,"select-range":t.setMaxSelectionRange}})],1)])]),i("div",{staticClass:"el-time-panel__footer"},[i("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:function(e){t.handleCancel()}}},[t._v(t._s(t.t("el.datepicker.cancel")))]),i("button",{staticClass:"el-time-panel__btn confirm",attrs:{type:"button",disabled:t.btnDisabled},on:{click:function(e){t.handleConfirm()}}},[t._v(t._s(t.t("el.datepicker.confirm")))])])])])};Cn._withStripped=!0;var Dn=Object(fa.parseDate)("00:00:00","HH:mm:ss"),yn=Object(fa.parseDate)("23:59:59","HH:mm:ss"),xn=function(t){return Object(fa.modifyDate)(yn,t.getFullYear(),t.getMonth(),t.getDate())},Sn=function(t,e){return new Date(Math.min(t.getTime()+e,xn(t).getTime()))},In=n({mixins:[p.a],components:{TimeSpinner:Pa},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},offset:function(){return this.showSeconds?11:8},spinner:function(){return this.selectionRange[0]<this.offset?this.$refs.minSpinner:this.$refs.maxSpinner},btnDisabled:function(){return this.minDate.getTime()>this.maxDate.getTime()},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},data:function(){return{popperClass:"",minDate:new Date,maxDate:new Date,value:[],oldValue:[new Date,new Date],defaultValue:null,format:"HH:mm:ss",visible:!1,selectionRange:[0,2],arrowControl:!1}},watch:{value:function(t){Array.isArray(t)?(this.minDate=new Date(t[0]),this.maxDate=new Date(t[1])):Array.isArray(this.defaultValue)?(this.minDate=new Date(this.defaultValue[0]),this.maxDate=new Date(this.defaultValue[1])):this.defaultValue?(this.minDate=new Date(this.defaultValue),this.maxDate=Sn(new Date(this.defaultValue),36e5)):(this.minDate=new Date,this.maxDate=Sn(new Date,36e5))},visible:function(t){var e=this;t&&(this.oldValue=this.value,this.$nextTick(function(){return e.$refs.minSpinner.emitSelectRange("hours")}))}},methods:{handleClear:function(){this.$emit("pick",null)},handleCancel:function(){this.$emit("pick",this.oldValue)},handleMinChange:function(t){this.minDate=Object(fa.clearMilliseconds)(t),this.handleChange()},handleMaxChange:function(t){this.maxDate=Object(fa.clearMilliseconds)(t),this.handleChange()},handleChange:function(){var t;this.isValidValue([this.minDate,this.maxDate])&&(this.$refs.minSpinner.selectableRange=[[(t=this.minDate,Object(fa.modifyDate)(Dn,t.getFullYear(),t.getMonth(),t.getDate())),this.maxDate]],this.$refs.maxSpinner.selectableRange=[[this.minDate,xn(this.maxDate)]],this.$emit("pick",[this.minDate,this.maxDate],!0))},setMinSelectionRange:function(t,e){this.$emit("select-range",t,e,"min"),this.selectionRange=[t,e]},setMaxSelectionRange:function(t,e){this.$emit("select-range",t,e,"max"),this.selectionRange=[t+this.offset,e+this.offset]},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.$refs.minSpinner.selectableRange,i=this.$refs.maxSpinner.selectableRange;this.minDate=Object(fa.limitTimeRange)(this.minDate,e,this.format),this.maxDate=Object(fa.limitTimeRange)(this.maxDate,i,this.format),this.$emit("pick",[this.minDate,this.maxDate],t)},adjustSpinners:function(){this.$refs.minSpinner.adjustSpinners(),this.$refs.maxSpinner.adjustSpinners()},changeSelectionRange:function(t){var e=this.showSeconds?[0,3,6,11,14,17]:[0,3,8,11],i=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]),a=(e.indexOf(this.selectionRange[0])+t+e.length)%e.length,n=e.length/2;a<n?this.$refs.minSpinner.emitSelectRange(i[a]):this.$refs.maxSpinner.emitSelectRange(i[a-n])},isValidValue:function(t){return Array.isArray(t)&&Object(fa.timeWithinRange)(this.minDate,this.$refs.minSpinner.selectableRange)&&Object(fa.timeWithinRange)(this.maxDate,this.$refs.maxSpinner.selectableRange)},handleKeydown:function(t){var e=t.keyCode,i={38:-1,40:1,37:-1,39:1};if(37===e||39===e){var a=i[e];return this.changeSelectionRange(a),void t.preventDefault()}if(38===e||40===e){var n=i[e];return this.spinner.scrollDown(n),void t.preventDefault()}}}},Cn,[],!1,null,null,null);In.options.__file="packages/date-picker/src/panel/time-range.vue";var Tn=In.exports,bn={mixins:[Aa],name:"ElTimePicker",props:{isRange:Boolean,arrowControl:Boolean},data:function(){return{type:""}},watch:{isRange:function(t){this.picker?(this.unmountPicker(),this.type=t?"timerange":"time",this.panel=t?Tn:Ra,this.mountPicker()):(this.type=t?"timerange":"time",this.panel=t?Tn:Ra)}},created:function(){this.type=this.isRange?"timerange":"time",this.panel=this.isRange?Tn:Ra},install:function(t){t.component(bn.name,bn)}},wn=bn,Mn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("transition",{attrs:{name:t.transition},on:{"after-enter":t.handleAfterEnter,"after-leave":t.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&t.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[t.popperClass,t.content&&"el-popover--plain"],style:{width:t.width+"px"},attrs:{role:"tooltip",id:t.tooltipId,"aria-hidden":t.disabled||!t.showPopper?"true":"false"}},[t.title?i("div",{staticClass:"el-popover__title",domProps:{textContent:t._s(t.title)}}):t._e(),t._t("default",[t._v(t._s(t.content))])],2)]),t._t("reference")],2)};Mn._withStripped=!0;var En=n({name:"ElPopover",mixins:[N.a],props:{trigger:{type:String,default:"click",validator:function(t){return["click","focus","hover","manual"].indexOf(t)>-1}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+Object(m.generateId)()}},watch:{showPopper:function(t){this.disabled||(t?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var t=this,e=this.referenceElm=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!e&&this.$slots.reference&&this.$slots.reference[0]&&(e=this.referenceElm=this.$slots.reference[0].elm),e&&(Object(pt.addClass)(e,"el-popover__reference"),e.setAttribute("aria-describedby",this.tooltipId),e.setAttribute("tabindex",this.tabindex),i.setAttribute("tabindex",0),"click"!==this.trigger&&(Object(pt.on)(e,"focusin",function(){t.handleFocus();var i=e.__vue__;i&&"function"==typeof i.focus&&i.focus()}),Object(pt.on)(i,"focusin",this.handleFocus),Object(pt.on)(e,"focusout",this.handleBlur),Object(pt.on)(i,"focusout",this.handleBlur)),Object(pt.on)(e,"keydown",this.handleKeydown),Object(pt.on)(e,"click",this.handleClick)),"click"===this.trigger?(Object(pt.on)(e,"click",this.doToggle),Object(pt.on)(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(Object(pt.on)(e,"mouseenter",this.handleMouseEnter),Object(pt.on)(i,"mouseenter",this.handleMouseEnter),Object(pt.on)(e,"mouseleave",this.handleMouseLeave),Object(pt.on)(i,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex<0&&console.warn("[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key"),e.querySelector("input, textarea")?(Object(pt.on)(e,"focusin",this.doShow),Object(pt.on)(e,"focusout",this.doClose)):(Object(pt.on)(e,"mousedown",this.doShow),Object(pt.on)(e,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){Object(pt.addClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){Object(pt.removeClass)(this.referenceElm,"focusing")},handleBlur:function(){Object(pt.removeClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var t=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout(function(){t.showPopper=!0},this.openDelay):this.showPopper=!0},handleKeydown:function(t){27===t.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var t=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout(function(){t.showPopper=!1},this.closeDelay):this.showPopper=!1},handleDocumentClick:function(t){var e=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!e&&this.$slots.reference&&this.$slots.reference[0]&&(e=this.referenceElm=this.$slots.reference[0].elm),this.$el&&e&&!this.$el.contains(t.target)&&!e.contains(t.target)&&i&&!i.contains(t.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var t=this.reference;Object(pt.off)(t,"click",this.doToggle),Object(pt.off)(t,"mouseup",this.doClose),Object(pt.off)(t,"mousedown",this.doShow),Object(pt.off)(t,"focusin",this.doShow),Object(pt.off)(t,"focusout",this.doClose),Object(pt.off)(t,"mousedown",this.doShow),Object(pt.off)(t,"mouseup",this.doClose),Object(pt.off)(t,"mouseleave",this.handleMouseLeave),Object(pt.off)(t,"mouseenter",this.handleMouseEnter),Object(pt.off)(document,"click",this.handleDocumentClick)}},Mn,[],!1,null,null,null);En.options.__file="packages/popover/src/main.vue";var An=En.exports,_n=function(t,e,i){var a=e.expression?e.value:e.arg,n=i.context.$refs[a];n&&(Array.isArray(n)?n[0].$refs.reference=t:n.$refs.reference=t)},Ln={bind:function(t,e,i){_n(t,e,i)},inserted:function(t,e,i){_n(t,e,i)}};di.a.directive("popover",Ln),An.install=function(t){t.directive("popover",Ln),t.component(An.name,An)},An.directive=Ln;var Fn=An,On={name:"ElTooltip",mixins:[N.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(m.generateId)(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var t=this;this.$isServer||(this.popperVM=new di.a({data:{node:""},render:function(t){return this.node}}).$mount(),this.debounceClose=_()(200,function(){return t.handleClosePopper()}))},render:function(t){var e=this;this.popperVM&&(this.popperVM.node=t("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[t("div",{on:{mouseleave:function(){e.setExpectedState(!1),e.debounceClose()},mouseenter:function(){e.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var i=this.getFirstElement();if(!i)return null;var a=i.data=i.data||{};return a.staticClass=this.addTooltipClass(a.staticClass),i},mounted:function(){var t=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(pt.on)(this.referenceElm,"mouseenter",this.show),Object(pt.on)(this.referenceElm,"mouseleave",this.hide),Object(pt.on)(this.referenceElm,"focus",function(){if(t.$slots.default&&t.$slots.default.length){var e=t.$slots.default[0].componentInstance;e&&e.focus?e.focus():t.handleFocus()}else t.handleFocus()}),Object(pt.on)(this.referenceElm,"blur",this.handleBlur),Object(pt.on)(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick(function(){t.value&&t.updatePopper()})},watch:{focusing:function(t){t?Object(pt.addClass)(this.referenceElm,"focusing"):Object(pt.removeClass)(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(t){return t?"el-tooltip "+t.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var t=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.showPopper=!0},this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout(function(){t.showPopper=!1},this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(t){!1===t&&clearTimeout(this.timeoutPending),this.expectedState=t},getFirstElement:function(){var t=this.$slots.default;if(!Array.isArray(t))return null;for(var e=null,i=0;i<t.length;i++)t[i]&&t[i].tag&&(e=t[i]);return e}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var t=this.referenceElm;1===t.nodeType&&(Object(pt.off)(t,"mouseenter",this.show),Object(pt.off)(t,"mouseleave",this.hide),Object(pt.off)(t,"focus",this.handleFocus),Object(pt.off)(t,"blur",this.handleBlur),Object(pt.off)(t,"click",this.removeFocusing))},install:function(t){t.component(On.name,On)}},Pn=On,Nn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"msgbox-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-message-box__wrapper",attrs:{tabindex:"-1",role:"dialog","aria-modal":"true","aria-label":t.title||"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[i("div",{staticClass:"el-message-box",class:[t.customClass,t.center&&"el-message-box--center"]},[null!==t.title?i("div",{staticClass:"el-message-box__header"},[i("div",{staticClass:"el-message-box__title"},[t.icon&&t.center?i("div",{class:["el-message-box__status",t.icon]}):t._e(),i("span",[t._v(t._s(t.title))])]),t.showClose?i("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.handleAction(t.distinguishCancelAndClose?"close":"cancel")},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction(t.distinguishCancelAndClose?"close":"cancel")}}},[i("i",{staticClass:"el-message-box__close el-icon-close"})]):t._e()]):t._e(),i("div",{staticClass:"el-message-box__content"},[i("div",{staticClass:"el-message-box__container"},[t.icon&&!t.center&&""!==t.message?i("div",{class:["el-message-box__status",t.icon]}):t._e(),""!==t.message?i("div",{staticClass:"el-message-box__message"},[t._t("default",[t.dangerouslyUseHTMLString?i("p",{domProps:{innerHTML:t._s(t.message)}}):i("p",[t._v(t._s(t.message))])])],2):t._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"el-message-box__input"},[i("el-input",{ref:"input",attrs:{type:t.inputType,placeholder:t.inputPlaceholder},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleInputEnter(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),i("div",{staticClass:"el-message-box__errormsg",style:{visibility:t.editorErrorMessage?"visible":"hidden"}},[t._v(t._s(t.editorErrorMessage))])],1)]),i("div",{staticClass:"el-message-box__btns"},[t.showCancelButton?i("el-button",{class:[t.cancelButtonClasses],attrs:{loading:t.cancelButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("cancel")}},nativeOn:{click:function(e){t.handleAction("cancel")}}},[t._v("\n          "+t._s(t.cancelButtonText||t.t("el.messagebox.cancel"))+"\n        ")]):t._e(),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],ref:"confirm",class:[t.confirmButtonClasses],attrs:{loading:t.confirmButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("confirm")}},nativeOn:{click:function(e){t.handleAction("confirm")}}},[t._v("\n          "+t._s(t.confirmButtonText||t.t("el.messagebox.confirm"))+"\n        ")])],1)])])])};Nn._withStripped=!0;var Rn=i(39),Bn=i.n(Rn),kn=void 0,Vn={success:"success",info:"info",warning:"warning",error:"error"},Hn=n({mixins:[y.a,p.a],props:{modal:{default:!0},lockScroll:{default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},closeOnHashChange:{default:!0},center:{default:!1,type:Boolean},roundButton:{default:!1,type:Boolean}},components:{ElInput:d.a,ElButton:z.a},computed:{icon:function(){var t=this.type;return this.iconClass||(t&&Vn[t]?"el-icon-"+Vn[t]:"")},confirmButtonClasses:function(){return"el-button--primary "+this.confirmButtonClass},cancelButtonClasses:function(){return""+this.cancelButtonClass}},methods:{getSafeClose:function(){var t=this,e=this.uid;return function(){t.$nextTick(function(){e===t.uid&&t.doClose()})}},doClose:function(){var t=this;this.visible&&(this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),kn.closeDialog(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose(),setTimeout(function(){t.action&&t.callback(t.action,t)}))},handleWrapperClick:function(){this.closeOnClickModal&&this.handleAction(this.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:function(){if("textarea"!==this.inputType)return this.handleAction("confirm")},handleAction:function(t){("prompt"!==this.$type||"confirm"!==t||this.validate())&&(this.action=t,"function"==typeof this.beforeClose?(this.close=this.getSafeClose(),this.beforeClose(t,this,this.close)):this.doClose())},validate:function(){if("prompt"===this.$type){var t=this.inputPattern;if(t&&!t.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||Object(Be.t)("el.messagebox.error"),Object(pt.addClass)(this.getInputElement(),"invalid"),!1;var e=this.inputValidator;if("function"==typeof e){var i=e(this.inputValue);if(!1===i)return this.editorErrorMessage=this.inputErrorMessage||Object(Be.t)("el.messagebox.error"),Object(pt.addClass)(this.getInputElement(),"invalid"),!1;if("string"==typeof i)return this.editorErrorMessage=i,Object(pt.addClass)(this.getInputElement(),"invalid"),!1}}return this.editorErrorMessage="",Object(pt.removeClass)(this.getInputElement(),"invalid"),!0},getFirstFocus:function(){var t=this.$el.querySelector(".el-message-box__btns .el-button"),e=this.$el.querySelector(".el-message-box__btns .el-message-box__title");return t||e},getInputElement:function(){var t=this.$refs.input.$refs;return t.input||t.textarea},handleClose:function(){this.handleAction("close")}},watch:{inputValue:{immediate:!0,handler:function(t){var e=this;this.$nextTick(function(i){"prompt"===e.$type&&null!==t&&e.validate()})}},visible:function(t){var e=this;t&&(this.uid++,"alert"!==this.$type&&"confirm"!==this.$type||this.$nextTick(function(){e.$refs.confirm.$el.focus()}),this.focusAfterClosed=document.activeElement,kn=new Bn.a(this.$el,this.focusAfterClosed,this.getFirstFocus())),"prompt"===this.$type&&(t?setTimeout(function(){e.$refs.input&&e.$refs.input.$el&&e.getInputElement().focus()},500):(this.editorErrorMessage="",Object(pt.removeClass)(this.getInputElement(),"invalid")))}},mounted:function(){var t=this;this.$nextTick(function(){t.closeOnHashChange&&window.addEventListener("hashchange",t.close)})},beforeDestroy:function(){this.closeOnHashChange&&window.removeEventListener("hashchange",this.close),setTimeout(function(){kn.closeDialog()})},data:function(){return{uid:1,title:void 0,message:"",type:"",iconClass:"",customClass:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,action:"",confirmButtonText:"",cancelButtonText:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null,dangerouslyUseHTMLString:!1,focusAfterClosed:null,isOnComposition:!1,distinguishCancelAndClose:!1}}},Nn,[],!1,null,null,null);Hn.options.__file="packages/message-box/src/main.vue";var Gn=Hn.exports,Yn=i(23),Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn={title:null,message:"",type:"",iconClass:"",showInput:!1,showClose:!0,modalFade:!0,lockScroll:!0,closeOnClickModal:!0,closeOnPressEscape:!0,closeOnHashChange:!0,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"",cancelButtonText:"",confirmButtonClass:"",cancelButtonClass:"",customClass:"",beforeClose:null,dangerouslyUseHTMLString:!1,center:!1,roundButton:!1,distinguishCancelAndClose:!1},Un=di.a.extend(Gn),zn=void 0,Kn=void 0,$n=[],jn=function(t){if(zn){var e=zn.callback;"function"==typeof e&&(Kn.showInput?e(Kn.inputValue,t):e(t)),zn.resolve&&("confirm"===t?Kn.showInput?zn.resolve({value:Kn.inputValue,action:t}):zn.resolve(t):!zn.reject||"cancel"!==t&&"close"!==t||zn.reject(t))}},qn=function t(){if(Kn||((Kn=new Un({el:document.createElement("div")})).callback=jn),Kn.action="",(!Kn.visible||Kn.closeTimer)&&$n.length>0){var e=(zn=$n.shift()).options;for(var i in e)e.hasOwnProperty(i)&&(Kn[i]=e[i]);void 0===e.callback&&(Kn.callback=jn);var a=Kn.callback;Kn.callback=function(e,i){a(e,i),t()},Object(Yn.isVNode)(Kn.message)?(Kn.$slots.default=[Kn.message],Kn.message=null):delete Kn.$slots.default,["modal","showClose","closeOnClickModal","closeOnPressEscape","closeOnHashChange"].forEach(function(t){void 0===Kn[t]&&(Kn[t]=!0)}),document.body.appendChild(Kn.$el),di.a.nextTick(function(){Kn.visible=!0})}},Jn=function t(e,i){if(!di.a.prototype.$isServer){if("string"==typeof e||Object(Yn.isVNode)(e)?(e={message:e},"string"==typeof arguments[1]&&(e.title=arguments[1])):e.callback&&!i&&(i=e.callback),"undefined"!=typeof Promise)return new Promise(function(a,n){$n.push({options:Gt()({},Xn,t.defaults,e),callback:i,resolve:a,reject:n}),qn()});$n.push({options:Gt()({},Xn,t.defaults,e),callback:i}),qn()}};Jn.setDefaults=function(t){Jn.defaults=t},Jn.alert=function(t,e,i){return"object"===(void 0===e?"undefined":Wn(e))?(i=e,e=""):void 0===e&&(e=""),Jn(Gt()({title:e,message:t,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},i))},Jn.confirm=function(t,e,i){return"object"===(void 0===e?"undefined":Wn(e))?(i=e,e=""):void 0===e&&(e=""),Jn(Gt()({title:e,message:t,$type:"confirm",showCancelButton:!0},i))},Jn.prompt=function(t,e,i){return"object"===(void 0===e?"undefined":Wn(e))?(i=e,e=""):void 0===e&&(e=""),Jn(Gt()({title:e,message:t,showCancelButton:!0,showInput:!0,$type:"prompt"},i))},Jn.close=function(){Kn.doClose(),Kn.visible=!1,$n=[],zn=null};var Zn=Jn,Qn=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-breadcrumb",attrs:{"aria-label":"Breadcrumb",role:"navigation"}},[this._t("default")],2)};Qn._withStripped=!0;var tr=n({name:"ElBreadcrumb",props:{separator:{type:String,default:"/"},separatorClass:{type:String,default:""}},provide:function(){return{elBreadcrumb:this}},mounted:function(){var t=this.$el.querySelectorAll(".el-breadcrumb__item");t.length&&t[t.length-1].setAttribute("aria-current","page")}},Qn,[],!1,null,null,null);tr.options.__file="packages/breadcrumb/src/breadcrumb.vue";var er=tr.exports;er.install=function(t){t.component(er.name,er)};var ir=er,ar=function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"el-breadcrumb__item"},[e("span",{ref:"link",class:["el-breadcrumb__inner",this.to?"is-link":""],attrs:{role:"link"}},[this._t("default")],2),this.separatorClass?e("i",{staticClass:"el-breadcrumb__separator",class:this.separatorClass}):e("span",{staticClass:"el-breadcrumb__separator",attrs:{role:"presentation"}},[this._v(this._s(this.separator))])])};ar._withStripped=!0;var nr=n({name:"ElBreadcrumbItem",props:{to:{},replace:Boolean},data:function(){return{separator:"",separatorClass:""}},inject:["elBreadcrumb"],mounted:function(){var t=this;this.separator=this.elBreadcrumb.separator,this.separatorClass=this.elBreadcrumb.separatorClass;var e=this.$refs.link;e.setAttribute("role","link"),e.addEventListener("click",function(e){var i=t.to,a=t.$router;i&&a&&(t.replace?a.replace(i):a.push(i))})}},ar,[],!1,null,null,null);nr.options.__file="packages/breadcrumb/src/breadcrumb-item.vue";var rr=nr.exports;rr.install=function(t){t.component(rr.name,rr)};var or=rr,sr=function(){var t=this.$createElement;return(this._self._c||t)("form",{staticClass:"el-form",class:[this.labelPosition?"el-form--label-"+this.labelPosition:"",{"el-form--inline":this.inline}]},[this._t("default")],2)};sr._withStripped=!0;var lr=n({name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{rules:function(){this.fields.forEach(function(t){t.removeValidateEvents(),t.addValidateEvents()}),this.validateOnRuleChange&&this.validate(function(){})}},computed:{autoLabelWidth:function(){if(!this.potentialLabelWidthArr.length)return 0;var t=Math.max.apply(Math,this.potentialLabelWidthArr);return t?t+"px":""}},data:function(){return{fields:[],potentialLabelWidthArr:[]}},created:function(){var t=this;this.$on("el.form.addField",function(e){e&&t.fields.push(e)}),this.$on("el.form.removeField",function(e){e.prop&&t.fields.splice(t.fields.indexOf(e),1)})},methods:{resetFields:function(){this.model?this.fields.forEach(function(t){t.resetField()}):console.warn("[Element Warn][Form]model is required for resetFields to work.")},clearValidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(t.length?"string"==typeof t?this.fields.filter(function(e){return t===e.prop}):this.fields.filter(function(e){return t.indexOf(e.prop)>-1}):this.fields).forEach(function(t){t.clearValidate()})},validate:function(t){var e=this;if(this.model){var i=void 0;"function"!=typeof t&&window.Promise&&(i=new window.Promise(function(e,i){t=function(t){t?e(t):i(t)}}));var a=!0,n=0;0===this.fields.length&&t&&t(!0);var r={};return this.fields.forEach(function(i){i.validate("",function(i,o){i&&(a=!1),r=Gt()({},r,o),"function"==typeof t&&++n===e.fields.length&&t(a,r)})}),i||void 0}console.warn("[Element Warn][Form]model is required for validate to work!")},validateField:function(t,e){t=[].concat(t);var i=this.fields.filter(function(e){return-1!==t.indexOf(e.prop)});i.length?i.forEach(function(t){t.validate("",e)}):console.warn("[Element Warn]please pass correct props!")},getLabelWidthIndex:function(t){var e=this.potentialLabelWidthArr.indexOf(t);if(-1===e)throw new Error("[ElementForm]unpected width ",t);return e},registerLabelWidth:function(t,e){if(t&&e){var i=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(i,1,t)}else t&&this.potentialLabelWidthArr.push(t)},deregisterLabelWidth:function(t){var e=this.getLabelWidthIndex(t);this.potentialLabelWidthArr.splice(e,1)}}},sr,[],!1,null,null,null);lr.options.__file="packages/form/src/form.vue";var hr=lr.exports;hr.install=function(t){t.component(hr.name,hr)};var ur=hr,cr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":t.elForm&&t.elForm.statusIcon,"is-error":"error"===t.validateState,"is-validating":"validating"===t.validateState,"is-success":"success"===t.validateState,"is-required":t.isRequired||t.required,"is-no-asterisk":t.elForm&&t.elForm.hideRequiredAsterisk},t.sizeClass?"el-form-item--"+t.sizeClass:""]},[i("label-wrap",{attrs:{"is-auto-width":t.labelStyle&&"auto"===t.labelStyle.width,"update-all":"auto"===t.form.labelWidth}},[t.label||t.$slots.label?i("label",{staticClass:"el-form-item__label",style:t.labelStyle,attrs:{for:t.labelFor}},[t._t("label",[t._v(t._s(t.label+t.form.labelSuffix))])],2):t._e()]),i("div",{staticClass:"el-form-item__content",style:t.contentStyle},[t._t("default"),i("transition",{attrs:{name:"el-zoom-in-top"}},["error"===t.validateState&&t.showMessage&&t.form.showMessage?t._t("error",[i("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof t.inlineMessage?t.inlineMessage:t.elForm&&t.elForm.inlineMessage||!1}},[t._v("\n          "+t._s(t.validateMessage)+"\n        ")])],{error:t.validateMessage}):t._e()],2)],2)],1)};cr._withStripped=!0;var dr=i(40),fr=i.n(dr),pr=n({props:{isAutoWidth:Boolean,updateAll:Boolean},inject:["elForm","elFormItem"],render:function(){var t=arguments[0],e=this.$slots.default;if(!e)return null;if(this.isAutoWidth){var i=this.elForm.autoLabelWidth,a={};if(i&&"auto"!==i){var n=parseInt(i,10)-this.computedWidth;n&&(a.marginLeft=n+"px")}return t("div",{class:"el-form-item__label-wrap",style:a},[e])}return e[0]},methods:{getLabelWidth:function(){if(this.$el&&this.$el.firstElementChild){var t=window.getComputedStyle(this.$el.firstElementChild).width;return Math.ceil(parseFloat(t))}return 0},updateLabelWidth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update";this.$slots.default&&this.isAutoWidth&&this.$el.firstElementChild&&("update"===t?this.computedWidth=this.getLabelWidth():"remove"===t&&this.elForm.deregisterLabelWidth(this.computedWidth))}},watch:{computedWidth:function(t,e){this.updateAll&&(this.elForm.registerLabelWidth(t,e),this.elFormItem.updateComputedLabelWidth(t))}},data:function(){return{computedWidth:0}},mounted:function(){this.updateLabelWidth("update")},updated:function(){this.updateLabelWidth("update")},beforeDestroy:function(){this.updateLabelWidth("remove")}},void 0,void 0,!1,null,null,null);pr.options.__file="packages/form/src/label-wrap.vue";var mr=pr.exports,vr=n({name:"ElFormItem",componentName:"ElFormItem",mixins:[T.a],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},components:{LabelWrap:mr},watch:{error:{immediate:!0,handler:function(t){this.validateMessage=t,this.validateState=t?"error":""}},validateStatus:function(t){this.validateState=t}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var t={};if("top"===this.form.labelPosition)return t;var e=this.labelWidth||this.form.labelWidth;return e&&(t.width=e),t},contentStyle:function(){var t={},e=this.label;if("top"===this.form.labelPosition||this.form.inline)return t;if(!e&&!this.labelWidth&&this.isNested)return t;var i=this.labelWidth||this.form.labelWidth;return"auto"===i?"auto"===this.labelWidth?t.marginLeft=this.computedLabelWidth:"auto"===this.form.labelWidth&&(t.marginLeft=this.elForm.autoLabelWidth):t.marginLeft=i,t},form:function(){for(var t=this.$parent,e=t.$options.componentName;"ElForm"!==e;)"ElFormItem"===e&&(this.isNested=!0),e=(t=t.$parent).$options.componentName;return t},fieldValue:function(){var t=this.form.model;if(t&&this.prop){var e=this.prop;return-1!==e.indexOf(":")&&(e=e.replace(/:/,".")),Object(m.getPropByPath)(t,e,!0).v}},isRequired:function(){var t=this.getRules(),e=!1;return t&&t.length&&t.every(function(t){return!t.required||(e=!0,!1)}),e},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,computedLabelWidth:""}},methods:{validate:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.noop;this.validateDisabled=!1;var a=this.getFilteredRule(t);if((!a||0===a.length)&&void 0===this.required)return i(),!0;this.validateState="validating";var n={};a&&a.length>0&&a.forEach(function(t){delete t.trigger}),n[this.prop]=a;var r=new fr.a(n),o={};o[this.prop]=this.fieldValue,r.validate(o,{firstFields:!0},function(t,a){e.validateState=t?"error":"success",e.validateMessage=t?t[0].message:"",i(e.validateMessage,a),e.elForm&&e.elForm.$emit("validate",e.prop,!t,e.validateMessage||null)})},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){var t=this;this.validateState="",this.validateMessage="";var e=this.form.model,i=this.fieldValue,a=this.prop;-1!==a.indexOf(":")&&(a=a.replace(/:/,"."));var n=Object(m.getPropByPath)(e,a,!0);this.validateDisabled=!0,Array.isArray(i)?n.o[n.k]=[].concat(this.initialValue):n.o[n.k]=this.initialValue,this.$nextTick(function(){t.validateDisabled=!1}),this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var t=this.form.rules,e=this.rules,i=void 0!==this.required?{required:!!this.required}:[],a=Object(m.getPropByPath)(t,this.prop||"");return t=t?a.o[this.prop||""]||a.v:[],[].concat(e||t||[]).concat(i)},getFilteredRule:function(t){return this.getRules().filter(function(e){return!e.trigger||""===t||(Array.isArray(e.trigger)?e.trigger.indexOf(t)>-1:e.trigger===t)}).map(function(t){return Gt()({},t)})},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")},updateComputedLabelWidth:function(t){this.computedLabelWidth=t?t+"px":""},addValidateEvents:function(){(this.getRules().length||void 0!==this.required)&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))},removeValidateEvents:function(){this.$off()}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var t=this.fieldValue;Array.isArray(t)&&(t=[].concat(t)),Object.defineProperty(this,"initialValue",{value:t}),this.addValidateEvents()}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}},cr,[],!1,null,null,null);vr.options.__file="packages/form/src/form-item.vue";var gr=vr.exports;gr.install=function(t){t.component(gr.name,gr)};var Cr=gr,Dr=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-tabs__active-bar",class:"is-"+this.rootTabs.tabPosition,style:this.barStyle})};Dr._withStripped=!0;var yr=n({name:"TabBar",props:{tabs:Array},inject:["rootTabs"],computed:{barStyle:{get:function(){var t=this,e={},i=0,a=0,n=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height",r="width"===n?"x":"y",o=function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})};this.tabs.every(function(e,r){var s=Object(m.arrayFind)(t.$parent.$refs.tabs||[],function(t){return t.id.replace("tab-","")===e.paneName});if(!s)return!1;if(e.active){a=s["client"+o(n)];var l=window.getComputedStyle(s);return"width"===n&&t.tabs.length>1&&(a-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),"width"===n&&(i+=parseFloat(l.paddingLeft)),!1}return i+=s["client"+o(n)],!0});var s="translate"+o(r)+"("+i+"px)";return e[n]=a+"px",e.transform=s,e.msTransform=s,e.webkitTransform=s,e}}}},Dr,[],!1,null,null,null);function xr(){}yr.options.__file="packages/tabs/src/tab-bar.vue";var Sr=function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})},Ir=n({name:"TabNav",components:{TabBar:yr.exports},inject:["rootTabs"],props:{panes:Array,currentName:String,editable:Boolean,onTabClick:{type:Function,default:xr},onTabRemove:{type:Function,default:xr},type:String,stretch:Boolean},data:function(){return{scrollable:!1,navOffset:0,isFocus:!1,focusable:!0}},computed:{navStyle:function(){return{transform:"translate"+(-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"X":"Y")+"(-"+this.navOffset+"px)"}},sizeName:function(){return-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height"}},methods:{scrollPrev:function(){var t=this.$refs.navScroll["offset"+Sr(this.sizeName)],e=this.navOffset;if(e){var i=e>t?e-t:0;this.navOffset=i}},scrollNext:function(){var t=this.$refs.nav["offset"+Sr(this.sizeName)],e=this.$refs.navScroll["offset"+Sr(this.sizeName)],i=this.navOffset;if(!(t-i<=e)){var a=t-i>2*e?i+e:t-e;this.navOffset=a}},scrollToActiveTab:function(){if(this.scrollable){var t=this.$refs.nav,e=this.$el.querySelector(".is-active");if(e){var i=this.$refs.navScroll,a=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition),n=e.getBoundingClientRect(),r=i.getBoundingClientRect(),o=a?t.offsetWidth-r.width:t.offsetHeight-r.height,s=this.navOffset,l=s;a?(n.left<r.left&&(l=s-(r.left-n.left)),n.right>r.right&&(l=s+n.right-r.right)):(n.top<r.top&&(l=s-(r.top-n.top)),n.bottom>r.bottom&&(l=s+(n.bottom-r.bottom))),l=Math.max(l,0),this.navOffset=Math.min(l,o)}}},update:function(){if(this.$refs.nav){var t=this.sizeName,e=this.$refs.nav["offset"+Sr(t)],i=this.$refs.navScroll["offset"+Sr(t)],a=this.navOffset;if(i<e){var n=this.navOffset;this.scrollable=this.scrollable||{},this.scrollable.prev=n,this.scrollable.next=n+i<e,e-n<i&&(this.navOffset=e-i)}else this.scrollable=!1,a>0&&(this.navOffset=0)}},changeTab:function(t){var e=t.keyCode,i=void 0,a=void 0,n=void 0;-1!==[37,38,39,40].indexOf(e)&&(n=t.currentTarget.querySelectorAll("[role=tab]"),a=Array.prototype.indexOf.call(n,t.target),n[i=37===e||38===e?0===a?n.length-1:a-1:a<n.length-1?a+1:0].focus(),n[i].click(),this.setFocus())},setFocus:function(){this.focusable&&(this.isFocus=!0)},removeFocus:function(){this.isFocus=!1},visibilityChangeHandler:function(){var t=this,e=document.visibilityState;"hidden"===e?this.focusable=!1:"visible"===e&&setTimeout(function(){t.focusable=!0},50)},windowBlurHandler:function(){this.focusable=!1},windowFocusHandler:function(){var t=this;setTimeout(function(){t.focusable=!0},50)}},updated:function(){this.update()},render:function(t){var e=this,i=this.type,a=this.panes,n=this.editable,r=this.stretch,o=this.onTabClick,s=this.onTabRemove,l=this.navStyle,h=this.scrollable,u=this.scrollNext,c=this.scrollPrev,d=this.changeTab,f=this.setFocus,p=this.removeFocus,m=h?[t("span",{class:["el-tabs__nav-prev",h.prev?"":"is-disabled"],on:{click:c}},[t("i",{class:"el-icon-arrow-left"})]),t("span",{class:["el-tabs__nav-next",h.next?"":"is-disabled"],on:{click:u}},[t("i",{class:"el-icon-arrow-right"})])]:null,v=this._l(a,function(i,a){var r,l=i.name||i.index||a,h=i.isClosable||n;i.index=""+a;var u=h?t("span",{class:"el-icon-close",on:{click:function(t){s(i,t)}}}):null,c=i.$slots.label||i.label,d=i.active?0:-1;return t("div",{class:(r={"el-tabs__item":!0},r["is-"+e.rootTabs.tabPosition]=!0,r["is-active"]=i.active,r["is-disabled"]=i.disabled,r["is-closable"]=h,r["is-focus"]=e.isFocus,r),attrs:{id:"tab-"+l,"aria-controls":"pane-"+l,role:"tab","aria-selected":i.active,tabindex:d},key:"tab-"+l,ref:"tabs",refInFor:!0,on:{focus:function(){f()},blur:function(){p()},click:function(t){p(),o(i,l,t)},keydown:function(t){!h||46!==t.keyCode&&8!==t.keyCode||s(i,t)}}},[c,u])});return t("div",{class:["el-tabs__nav-wrap",h?"is-scrollable":"","is-"+this.rootTabs.tabPosition]},[m,t("div",{class:["el-tabs__nav-scroll"],ref:"navScroll"},[t("div",{class:["el-tabs__nav","is-"+this.rootTabs.tabPosition,r&&-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"is-stretch":""],ref:"nav",style:l,attrs:{role:"tablist"},on:{keydown:d}},[i?null:t("tab-bar",{attrs:{tabs:a}}),v])])])},mounted:function(){var t=this;Object(Re.addResizeListener)(this.$el,this.update),document.addEventListener("visibilitychange",this.visibilityChangeHandler),window.addEventListener("blur",this.windowBlurHandler),window.addEventListener("focus",this.windowFocusHandler),setTimeout(function(){t.scrollToActiveTab()},0)},beforeDestroy:function(){this.$el&&this.update&&Object(Re.removeResizeListener)(this.$el,this.update),document.removeEventListener("visibilitychange",this.visibilityChangeHandler),window.removeEventListener("blur",this.windowBlurHandler),window.removeEventListener("focus",this.windowFocusHandler)}},void 0,void 0,!1,null,null,null);Ir.options.__file="packages/tabs/src/tab-nav.vue";var Tr=n({name:"ElTabs",components:{TabNav:Ir.exports},props:{type:String,activeName:String,closable:Boolean,addable:Boolean,value:{},editable:Boolean,tabPosition:{type:String,default:"top"},beforeLeave:Function,stretch:Boolean},provide:function(){return{rootTabs:this}},data:function(){return{currentName:this.value||this.activeName,panes:[]}},watch:{activeName:function(t){this.setCurrentName(t)},value:function(t){this.setCurrentName(t)},currentName:function(t){var e=this;this.$refs.nav&&this.$nextTick(function(){e.$refs.nav.$nextTick(function(t){e.$refs.nav.scrollToActiveTab()})})}},methods:{calcPaneInstances:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$slots.default){var i=this.$slots.default.filter(function(t){return t.tag&&t.componentOptions&&"ElTabPane"===t.componentOptions.Ctor.options.name}).map(function(t){return t.componentInstance}),a=!(i.length===this.panes.length&&i.every(function(e,i){return e===t.panes[i]}));(e||a)&&(this.panes=i)}else 0!==this.panes.length&&(this.panes=[])},handleTabClick:function(t,e,i){t.disabled||(this.setCurrentName(e),this.$emit("tab-click",t,i))},handleTabRemove:function(t,e){t.disabled||(e.stopPropagation(),this.$emit("edit",t.name,"remove"),this.$emit("tab-remove",t.name))},handleTabAdd:function(){this.$emit("edit",null,"add"),this.$emit("tab-add")},setCurrentName:function(t){var e=this,i=function(){e.currentName=t,e.$emit("input",t)};if(this.currentName!==t&&this.beforeLeave){var a=this.beforeLeave(t,this.currentName);a&&a.then?a.then(function(){i(),e.$refs.nav&&e.$refs.nav.removeFocus()},function(){}):!1!==a&&i()}else i()}},render:function(t){var e,i=this.type,a=this.handleTabClick,n=this.handleTabRemove,r=this.handleTabAdd,o=this.currentName,s=this.panes,l=this.editable,h=this.addable,u=this.tabPosition,c=this.stretch,d=t("div",{class:["el-tabs__header","is-"+u]},[l||h?t("span",{class:"el-tabs__new-tab",on:{click:r,keydown:function(t){13===t.keyCode&&r()}},attrs:{tabindex:"0"}},[t("i",{class:"el-icon-plus"})]):null,t("tab-nav",{props:{currentName:o,onTabClick:a,onTabRemove:n,editable:l,type:i,panes:s,stretch:c},ref:"nav"})]),f=t("div",{class:"el-tabs__content"},[this.$slots.default]);return t("div",{class:(e={"el-tabs":!0,"el-tabs--card":"card"===i},e["el-tabs--"+u]=!0,e["el-tabs--border-card"]="border-card"===i,e)},["bottom"!==u?[d,f]:[f,d]])},created:function(){this.currentName||this.setCurrentName("0"),this.$on("tab-nav-update",this.calcPaneInstances.bind(null,!0))},mounted:function(){this.calcPaneInstances()},updated:function(){this.calcPaneInstances()}},void 0,void 0,!1,null,null,null);Tr.options.__file="packages/tabs/src/tabs.vue";var br=Tr.exports;br.install=function(t){t.component(br.name,br)};var wr=br,Mr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return!t.lazy||t.loaded||t.active?i("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"el-tab-pane",attrs:{role:"tabpanel","aria-hidden":!t.active,id:"pane-"+t.paneName,"aria-labelledby":"tab-"+t.paneName}},[t._t("default")],2):t._e()};Mr._withStripped=!0;var Er=n({name:"ElTabPane",componentName:"ElTabPane",props:{label:String,labelContent:Function,name:String,closable:Boolean,disabled:Boolean,lazy:Boolean},data:function(){return{index:null,loaded:!1}},computed:{isClosable:function(){return this.closable||this.$parent.closable},active:function(){var t=this.$parent.currentName===(this.name||this.index);return t&&(this.loaded=!0),t},paneName:function(){return this.name||this.index}},updated:function(){this.$parent.$emit("tab-nav-update")}},Mr,[],!1,null,null,null);Er.options.__file="packages/tabs/src/tab-pane.vue";var Ar=Er.exports;Ar.install=function(t){t.component(Ar.name,Ar)};var _r=Ar,Lr=n({name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(t){return-1!==["dark","light","plain"].indexOf(t)}}},methods:{handleClose:function(t){t.stopPropagation(),this.$emit("close",t)},handleClick:function(t){this.$emit("click",t)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(t){var e=this.type,i=this.tagSize,a=this.hit,n=this.effect,r=t("span",{class:["el-tag",e?"el-tag--"+e:"",i?"el-tag--"+i:"",n?"el-tag--"+n:"",a&&"is-hit"],style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&t("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?r:t("transition",{attrs:{name:"el-zoom-in-center"}},[r])}},void 0,void 0,!1,null,null,null);Lr.options.__file="packages/tag/src/tag.vue";var Fr=Lr.exports;Fr.install=function(t){t.component(Fr.name,Fr)};var Or=Fr,Pr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-tree",class:{"el-tree--highlight-current":t.highlightCurrent,"is-dragging":!!t.dragState.draggingNode,"is-drop-not-allow":!t.dragState.allowDrop,"is-drop-inner":"inner"===t.dragState.dropType},attrs:{role:"tree"}},[t._l(t.root.childNodes,function(e){return i("el-tree-node",{key:t.getNodeKey(e),attrs:{node:e,props:t.props,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent},on:{"node-expand":t.handleNodeExpand}})}),t.isEmpty?i("div",{staticClass:"el-tree__empty-block"},[i("span",{staticClass:"el-tree__empty-text"},[t._v(t._s(t.emptyText))])]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dragState.showDropIndicator,expression:"dragState.showDropIndicator"}],ref:"dropIndicator",staticClass:"el-tree__drop-indicator"})],2)};Pr._withStripped=!0;var Nr="$treeNodeId",Rr=function(t,e){e&&!e[Nr]&&Object.defineProperty(e,Nr,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},Br=function(t,e){return t?e[t]:e[Nr]},kr=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();var Vr=function(t){for(var e=!0,i=!0,a=!0,n=0,r=t.length;n<r;n++){var o=t[n];(!0!==o.checked||o.indeterminate)&&(e=!1,o.disabled||(a=!1)),(!1!==o.checked||o.indeterminate)&&(i=!1)}return{all:e,none:i,allWithoutDisable:a,half:!e&&!i}},Hr=function t(e){if(0!==e.childNodes.length){var i=Vr(e.childNodes),a=i.all,n=i.none,r=i.half;a?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);var o=e.parent;o&&0!==o.level&&(e.store.checkStrictly||t(o))}},Gr=function(t,e){var i=t.store.props,a=t.data||{},n=i[e];if("function"==typeof n)return n(a,t);if("string"==typeof n)return a[n];if(void 0===n){var r=a[e];return void 0===r?"":r}},Yr=0,Wr=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=Yr++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,e)e.hasOwnProperty(i)&&(this[i]=e[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var a=this.store;if(!a)throw new Error("[Node]store is required!");a.registerNode(this);var n=a.props;if(n&&void 0!==n.isLeaf){var r=Gr(this,"isLeaf");"boolean"==typeof r&&(this.isLeafByUser=r)}if(!0!==a.lazy&&this.data?(this.setData(this.data),a.defaultExpandAll&&(this.expanded=!0)):this.level>0&&a.lazy&&a.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Rr(this,this.data),this.data){var o=a.defaultExpandedKeys,s=a.key;s&&o&&-1!==o.indexOf(this.key)&&this.expand(null,a.autoExpandParent),s&&void 0!==a.currentNodeKey&&this.key===a.currentNodeKey&&(a.currentNode=this,a.currentNode.isCurrent=!0),a.lazy&&a._initDefaultCheckedNode(this),this.updateLeafState()}}return t.prototype.setData=function(t){Array.isArray(t)||Rr(this,t),this.data=t,this.childNodes=[];for(var e=void 0,i=0,a=(e=0===this.level&&this.data instanceof Array?this.data:Gr(this,"children")||[]).length;i<a;i++)this.insertChild({data:e[i]})},t.prototype.contains=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function i(a){for(var n=a.childNodes||[],r=!1,o=0,s=n.length;o<s;o++){var l=n[o];if(l===t||e&&i(l)){r=!0;break}}return r}(this)},t.prototype.remove=function(){var t=this.parent;t&&t.removeChild(this)},t.prototype.insertChild=function(e,i,a){if(!e)throw new Error("insertChild error: child is required.");if(!(e instanceof t)){if(!a){var n=this.getChildren(!0);-1===n.indexOf(e.data)&&(void 0===i||i<0?n.push(e.data):n.splice(i,0,e.data))}Gt()(e,{parent:this,store:this.store}),e=new t(e)}e.level=this.level+1,void 0===i||i<0?this.childNodes.push(e):this.childNodes.splice(i,0,e),this.updateLeafState()},t.prototype.insertBefore=function(t,e){var i=void 0;e&&(i=this.childNodes.indexOf(e)),this.insertChild(t,i)},t.prototype.insertAfter=function(t,e){var i=void 0;e&&-1!==(i=this.childNodes.indexOf(e))&&(i+=1),this.insertChild(t,i)},t.prototype.removeChild=function(t){var e=this.getChildren()||[],i=e.indexOf(t.data);i>-1&&e.splice(i,1);var a=this.childNodes.indexOf(t);a>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()},t.prototype.removeChildByData=function(t){for(var e=null,i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===t){e=this.childNodes[i];break}e&&this.removeChild(e)},t.prototype.expand=function(t,e){var i=this,a=function(){if(e)for(var a=i.parent;a.level>0;)a.expanded=!0,a=a.parent;i.expanded=!0,t&&t()};this.shouldLoadData()?this.loadData(function(t){t instanceof Array&&(i.checked?i.setChecked(!0,!0):i.store.checkStrictly||Hr(i),a())}):a()},t.prototype.doCreateChildren=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach(function(t){e.insertChild(Gt()({data:t},i),void 0,!0)})},t.prototype.collapse=function(){this.expanded=!1},t.prototype.shouldLoadData=function(){return!0===this.store.lazy&&this.store.load&&!this.loaded},t.prototype.updateLeafState=function(){if(!0!==this.store.lazy||!0===this.loaded||void 0===this.isLeafByUser){var t=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!t||0===t.length:this.isLeaf=!1}else this.isLeaf=this.isLeafByUser},t.prototype.setChecked=function(t,e,i,a){var n=this;if(this.indeterminate="half"===t,this.checked=!0===t,!this.store.checkStrictly){if(!this.shouldLoadData()||this.store.checkDescendants){var r=Vr(this.childNodes),o=r.all,s=r.allWithoutDisable;this.isLeaf||o||!s||(this.checked=!1,t=!1);var l=function(){if(e){for(var i=n.childNodes,r=0,o=i.length;r<o;r++){var s=i[r];a=a||!1!==t;var l=s.disabled?s.checked:a;s.setChecked(l,e,!0,a)}var h=Vr(i),u=h.half,c=h.all;c||(n.checked=c,n.indeterminate=u)}};if(this.shouldLoadData())return void this.loadData(function(){l(),Hr(n)},{checked:!1!==t});l()}var h=this.parent;h&&0!==h.level&&(i||Hr(h))}},t.prototype.getChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.level)return this.data;var e=this.data;if(!e)return null;var i=this.store.props,a="children";return i&&(a=i.children||"children"),void 0===e[a]&&(e[a]=null),t&&!e[a]&&(e[a]=[]),e[a]},t.prototype.updateChildren=function(){var t=this,e=this.getChildren()||[],i=this.childNodes.map(function(t){return t.data}),a={},n=[];e.forEach(function(t,e){var r=t[Nr];!!r&&Object(m.arrayFindIndex)(i,function(t){return t[Nr]===r})>=0?a[r]={index:e,data:t}:n.push({index:e,data:t})}),this.store.lazy||i.forEach(function(e){a[e[Nr]]||t.removeChildByData(e)}),n.forEach(function(e){var i=e.index,a=e.data;t.insertChild({data:a},i)}),this.updateLeafState()},t.prototype.loadData=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(i).length)t&&t.call(this);else{this.loading=!0;this.store.load(this,function(a){e.loaded=!0,e.loading=!1,e.childNodes=[],e.doCreateChildren(a,i),e.updateLeafState(),t&&t.call(e,a)})}},kr(t,[{key:"label",get:function(){return Gr(this,"label")}},{key:"key",get:function(){var t=this.store.key;return this.data?this.data[t]:null}},{key:"disabled",get:function(){return Gr(this,"disabled")}},{key:"nextSibling",get:function(){var t=this.parent;if(t){var e=t.childNodes.indexOf(this);if(e>-1)return t.childNodes[e+1]}return null}},{key:"previousSibling",get:function(){var t=this.parent;if(t){var e=t.childNodes.indexOf(this);if(e>-1)return e>0?t.childNodes[e-1]:null}return null}}]),t}(),Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var Ur=function(){function t(e){var i=this;for(var a in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.currentNode=null,this.currentNodeKey=null,e)e.hasOwnProperty(a)&&(this[a]=e[a]);(this.nodesMap={},this.root=new Wr({data:this.data,store:this}),this.lazy&&this.load)?(0,this.load)(this.root,function(t){i.root.doCreateChildren(t),i._initDefaultCheckedNodes()}):this._initDefaultCheckedNodes()}return t.prototype.filter=function(t){var e=this.filterNodeMethod,i=this.lazy;!function a(n){var r=n.root?n.root.childNodes:n.childNodes;if(r.forEach(function(i){i.visible=e.call(i,t,i.data,i),a(i)}),!n.visible&&r.length){var o;o=!r.some(function(t){return t.visible}),n.root?n.root.visible=!1===o:n.visible=!1===o}t&&(!n.visible||n.isLeaf||i||n.expand())}(this)},t.prototype.setData=function(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()},t.prototype.getNode=function(t){if(t instanceof Wr)return t;var e="object"!==(void 0===t?"undefined":Xr(t))?t:Br(this.key,t);return this.nodesMap[e]||null},t.prototype.insertBefore=function(t,e){var i=this.getNode(e);i.parent.insertBefore({data:t},i)},t.prototype.insertAfter=function(t,e){var i=this.getNode(e);i.parent.insertAfter({data:t},i)},t.prototype.remove=function(t){var e=this.getNode(t);e&&e.parent&&(e===this.currentNode&&(this.currentNode=null),e.parent.removeChild(e))},t.prototype.append=function(t,e){var i=e?this.getNode(e):this.root;i&&i.insertChild({data:t})},t.prototype._initDefaultCheckedNodes=function(){var t=this,e=this.defaultCheckedKeys||[],i=this.nodesMap;e.forEach(function(e){var a=i[e];a&&a.setChecked(!0,!t.checkStrictly)})},t.prototype._initDefaultCheckedNode=function(t){-1!==(this.defaultCheckedKeys||[]).indexOf(t.key)&&t.setChecked(!0,!this.checkStrictly)},t.prototype.setDefaultCheckedKey=function(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())},t.prototype.registerNode=function(t){this.key&&t&&t.data&&(void 0!==t.key&&(this.nodesMap[t.key]=t))},t.prototype.deregisterNode=function(t){var e=this;this.key&&t&&t.data&&(t.childNodes.forEach(function(t){e.deregisterNode(t)}),delete this.nodesMap[t.key])},t.prototype.getCheckedNodes=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];return function a(n){(n.root?n.root.childNodes:n.childNodes).forEach(function(n){(n.checked||e&&n.indeterminate)&&(!t||t&&n.isLeaf)&&i.push(n.data),a(n)})}(this),i},t.prototype.getCheckedKeys=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getCheckedNodes(e).map(function(e){return(e||{})[t.key]})},t.prototype.getHalfCheckedNodes=function(){var t=[];return function e(i){(i.root?i.root.childNodes:i.childNodes).forEach(function(i){i.indeterminate&&t.push(i.data),e(i)})}(this),t},t.prototype.getHalfCheckedKeys=function(){var t=this;return this.getHalfCheckedNodes().map(function(e){return(e||{})[t.key]})},t.prototype._getAllNodes=function(){var t=[],e=this.nodesMap;for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t},t.prototype.updateChildren=function(t,e){var i=this.nodesMap[t];if(i){for(var a=i.childNodes,n=a.length-1;n>=0;n--){var r=a[n];this.remove(r.data)}for(var o=0,s=e.length;o<s;o++){var l=e[o];this.append(l,i.data)}}},t.prototype._setCheckedKeys=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments[2],a=this._getAllNodes().sort(function(t,e){return e.level-t.level}),n=Object.create(null),r=Object.keys(i);a.forEach(function(t){return t.setChecked(!1,!1)});for(var o=0,s=a.length;o<s;o++){var l=a[o],h=l.data[t].toString();if(r.indexOf(h)>-1){for(var u=l.parent;u&&u.level>0;)n[u.data[t]]=!0,u=u.parent;l.isLeaf||this.checkStrictly?l.setChecked(!0,!1):(l.setChecked(!0,!0),e&&function(){l.setChecked(!1,!1);!function t(e){e.childNodes.forEach(function(e){e.isLeaf||e.setChecked(!1,!1),t(e)})}(l)}())}else l.checked&&!n[h]&&l.setChecked(!1,!1)}},t.prototype.setCheckedNodes=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.key,a={};t.forEach(function(t){a[(t||{})[i]]=!0}),this._setCheckedKeys(i,e,a)},t.prototype.setCheckedKeys=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.defaultCheckedKeys=t;var i=this.key,a={};t.forEach(function(t){a[t]=!0}),this._setCheckedKeys(i,e,a)},t.prototype.setDefaultExpandedKeys=function(t){var e=this;t=t||[],this.defaultExpandedKeys=t,t.forEach(function(t){var i=e.getNode(t);i&&i.expand(null,e.autoExpandParent)})},t.prototype.setChecked=function(t,e,i){var a=this.getNode(t);a&&a.setChecked(!!e,i)},t.prototype.getCurrentNode=function(){return this.currentNode},t.prototype.setCurrentNode=function(t){var e=this.currentNode;e&&(e.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0},t.prototype.setUserCurrentNode=function(t){var e=t[this.key],i=this.nodesMap[e];this.setCurrentNode(i)},t.prototype.setCurrentNodeKey=function(t){if(null===t||void 0===t)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);var e=this.getNode(t);e&&this.setCurrentNode(e)},t}(),zr=function(){var t=this,e=this,i=e.$createElement,a=e._self._c||i;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.node.visible,expression:"node.visible"}],ref:"node",staticClass:"el-tree-node",class:{"is-expanded":e.expanded,"is-current":e.node.isCurrent,"is-hidden":!e.node.visible,"is-focusable":!e.node.disabled,"is-checked":!e.node.disabled&&e.node.checked},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.draggable},on:{click:function(t){return t.stopPropagation(),e.handleClick(t)},contextmenu:function(e){return t.handleContextMenu(e)},dragstart:function(t){return t.stopPropagation(),e.handleDragStart(t)},dragover:function(t){return t.stopPropagation(),e.handleDragOver(t)},dragend:function(t){return t.stopPropagation(),e.handleDragEnd(t)},drop:function(t){return t.stopPropagation(),e.handleDrop(t)}}},[a("div",{staticClass:"el-tree-node__content",style:{"padding-left":(e.node.level-1)*e.tree.indent+"px"}},[a("span",{class:[{"is-leaf":e.node.isLeaf,expanded:!e.node.isLeaf&&e.expanded},"el-tree-node__expand-icon",e.tree.iconClass?e.tree.iconClass:"el-icon-caret-right"],on:{click:function(t){return t.stopPropagation(),e.handleExpandIconClick(t)}}}),e.showCheckbox?a("el-checkbox",{attrs:{indeterminate:e.node.indeterminate,disabled:!!e.node.disabled},on:{change:e.handleCheckChange},nativeOn:{click:function(t){t.stopPropagation()}},model:{value:e.node.checked,callback:function(t){e.$set(e.node,"checked",t)},expression:"node.checked"}}):e._e(),e.node.loading?a("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):e._e(),a("node-content",{attrs:{node:e.node}})],1),a("el-collapse-transition",[!e.renderAfterExpand||e.childNodeRendered?a("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"el-tree-node__children",attrs:{role:"group","aria-expanded":e.expanded}},e._l(e.node.childNodes,function(t){return a("el-tree-node",{key:e.getNodeKey(t),attrs:{"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t},on:{"node-expand":e.handleChildNodeExpand}})}),1):e._e()])],1)};zr._withStripped=!0;var Kr=n({name:"ElTreeNode",componentName:"ElTreeNode",mixins:[T.a],props:{node:{default:function(){return{}}},props:{},renderContent:Function,renderAfterExpand:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1}},components:{ElCollapseTransition:Dt.a,ElCheckbox:ri.a,NodeContent:{props:{node:{required:!0}},render:function(t){var e=this.$parent,i=e.tree,a=this.node,n=a.data,r=a.store;return e.renderContent?e.renderContent.call(e._renderProxy,t,{_self:i.$vnode.context,node:a,data:n,store:r}):i.$scopedSlots.default?i.$scopedSlots.default({node:a,data:n}):t("span",{class:"el-tree-node__label"},[a.label])}}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,oldChecked:null,oldIndeterminate:null}},watch:{"node.indeterminate":function(t){this.handleSelectChange(this.node.checked,t)},"node.checked":function(t){this.handleSelectChange(t,this.node.indeterminate)},"node.expanded":function(t){var e=this;this.$nextTick(function(){return e.expanded=t}),t&&(this.childNodeRendered=!0)}},methods:{getNodeKey:function(t){return Br(this.tree.nodeKey,t.data)},handleSelectChange:function(t,e){this.oldChecked!==t&&this.oldIndeterminate!==e&&this.tree.$emit("check-change",this.node.data,t,e),this.oldChecked=t,this.indeterminate=e},handleClick:function(){var t=this.tree.store;t.setCurrentNode(this.node),this.tree.$emit("current-change",t.currentNode?t.currentNode.data:null,t.currentNode),this.tree.currentNode=this,this.tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.checkOnClickNode&&!this.node.disabled&&this.handleCheckChange(null,{target:{checked:!this.node.checked}}),this.tree.$emit("node-click",this.node.data,this.node,this)},handleContextMenu:function(t){this.tree._events["node-contextmenu"]&&this.tree._events["node-contextmenu"].length>0&&(t.stopPropagation(),t.preventDefault()),this.tree.$emit("node-contextmenu",t,this.node.data,this.node,this)},handleExpandIconClick:function(){this.node.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",this.node.data,this.node,this),this.node.collapse()):(this.node.expand(),this.$emit("node-expand",this.node.data,this.node,this)))},handleCheckChange:function(t,e){var i=this;this.node.setChecked(e.target.checked,!this.tree.checkStrictly),this.$nextTick(function(){var t=i.tree.store;i.tree.$emit("check",i.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})})},handleChildNodeExpand:function(t,e,i){this.broadcast("ElTreeNode","tree-node-expand",e),this.tree.$emit("node-expand",t,e,i)},handleDragStart:function(t){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",t,this)},handleDragOver:function(t){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",t,this),t.preventDefault())},handleDrop:function(t){t.preventDefault()},handleDragEnd:function(t){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",t,this)}},created:function(){var t=this,e=this.$parent;e.isTree?this.tree=e:this.tree=e.tree;var i=this.tree;i||console.warn("Can not find node's tree.");var a=(i.props||{}).children||"children";this.$watch("node.data."+a,function(){t.node.updateChildren()}),this.node.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",function(e){t.node!==e&&t.node.collapse()})}},zr,[],!1,null,null,null);Kr.options.__file="packages/tree/src/tree-node.vue";var $r=Kr.exports,jr=n({name:"ElTree",mixins:[T.a],components:{ElTreeNode:$r},data:function(){return{store:null,root:null,currentNode:null,treeItems:null,checkboxItems:[],dragState:{showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0}}},props:{data:{type:Array},emptyText:{type:String,default:function(){return Object(Be.t)("el.tree.emptyText")}},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{default:function(){return{children:"children",label:"label",disabled:"disabled"}}},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String},computed:{children:{set:function(t){this.data=t},get:function(){return this.data}},treeItemArray:function(){return Array.prototype.slice.call(this.treeItems)},isEmpty:function(){var t=this.root.childNodes;return!t||0===t.length||t.every(function(t){return!t.visible})}},watch:{defaultCheckedKeys:function(t){this.store.setDefaultCheckedKey(t)},defaultExpandedKeys:function(t){this.store.defaultExpandedKeys=t,this.store.setDefaultExpandedKeys(t)},data:function(t){this.store.setData(t)},checkboxItems:function(t){Array.prototype.forEach.call(t,function(t){t.setAttribute("tabindex",-1)})},checkStrictly:function(t){this.store.checkStrictly=t}},methods:{filter:function(t){if(!this.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");this.store.filter(t)},getNodeKey:function(t){return Br(this.nodeKey,t.data)},getNodePath:function(t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");var e=this.store.getNode(t);if(!e)return[];for(var i=[e.data],a=e.parent;a&&a!==this.root;)i.push(a.data),a=a.parent;return i.reverse()},getCheckedNodes:function(t,e){return this.store.getCheckedNodes(t,e)},getCheckedKeys:function(t){return this.store.getCheckedKeys(t)},getCurrentNode:function(){var t=this.store.getCurrentNode();return t?t.data:null},getCurrentKey:function(){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");var t=this.getCurrentNode();return t?t[this.nodeKey]:null},setCheckedNodes:function(t,e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(t,e)},setCheckedKeys:function(t,e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");this.store.setCheckedKeys(t,e)},setChecked:function(t,e,i){this.store.setChecked(t,e,i)},getHalfCheckedNodes:function(){return this.store.getHalfCheckedNodes()},getHalfCheckedKeys:function(){return this.store.getHalfCheckedKeys()},setCurrentNode:function(t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");this.store.setUserCurrentNode(t)},setCurrentKey:function(t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");this.store.setCurrentNodeKey(t)},getNode:function(t){return this.store.getNode(t)},remove:function(t){this.store.remove(t)},append:function(t,e){this.store.append(t,e)},insertBefore:function(t,e){this.store.insertBefore(t,e)},insertAfter:function(t,e){this.store.insertAfter(t,e)},handleNodeExpand:function(t,e,i){this.broadcast("ElTreeNode","tree-node-expand",e),this.$emit("node-expand",t,e,i)},updateKeyChildren:function(t,e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");this.store.updateChildren(t,e)},initTabIndex:function(){this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]");var t=this.$el.querySelectorAll(".is-checked[role=treeitem]");t.length?t[0].setAttribute("tabindex",0):this.treeItems[0]&&this.treeItems[0].setAttribute("tabindex",0)},handleKeydown:function(t){var e=t.target;if(-1!==e.className.indexOf("el-tree-node")){var i=t.keyCode;this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]");var a=this.treeItemArray.indexOf(e),n=void 0;[38,40].indexOf(i)>-1&&(t.preventDefault(),n=38===i?0!==a?a-1:0:a<this.treeItemArray.length-1?a+1:0,this.treeItemArray[n].focus()),[37,39].indexOf(i)>-1&&(t.preventDefault(),e.click());var r=e.querySelector('[type="checkbox"]');[13,32].indexOf(i)>-1&&r&&(t.preventDefault(),r.click())}}},created:function(){var t=this;this.isTree=!0,this.store=new Ur({key:this.nodeKey,data:this.data,lazy:this.lazy,props:this.props,load:this.load,currentNodeKey:this.currentNodeKey,checkStrictly:this.checkStrictly,checkDescendants:this.checkDescendants,defaultCheckedKeys:this.defaultCheckedKeys,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll,filterNodeMethod:this.filterNodeMethod}),this.root=this.store.root;var e=this.dragState;this.$on("tree-node-drag-start",function(i,a){if("function"==typeof t.allowDrag&&!t.allowDrag(a.node))return i.preventDefault(),!1;i.dataTransfer.effectAllowed="move";try{i.dataTransfer.setData("text/plain","")}catch(t){}e.draggingNode=a,t.$emit("node-drag-start",a.node,i)}),this.$on("tree-node-drag-over",function(i,a){var n=function(t,e){for(var i=t;i&&"BODY"!==i.tagName;){if(i.__vue__&&i.__vue__.$options.name===e)return i.__vue__;i=i.parentNode}return null}(i.target,"ElTreeNode"),r=e.dropNode;r&&r!==n&&Object(pt.removeClass)(r.$el,"is-drop-inner");var o=e.draggingNode;if(o&&n){var s=!0,l=!0,h=!0,u=!0;"function"==typeof t.allowDrop&&(s=t.allowDrop(o.node,n.node,"prev"),u=l=t.allowDrop(o.node,n.node,"inner"),h=t.allowDrop(o.node,n.node,"next")),i.dataTransfer.dropEffect=l?"move":"none",(s||l||h)&&r!==n&&(r&&t.$emit("node-drag-leave",o.node,r.node,i),t.$emit("node-drag-enter",o.node,n.node,i)),(s||l||h)&&(e.dropNode=n),n.node.nextSibling===o.node&&(h=!1),n.node.previousSibling===o.node&&(s=!1),n.node.contains(o.node,!1)&&(l=!1),(o.node===n.node||o.node.contains(n.node))&&(s=!1,l=!1,h=!1);var c=n.$el.getBoundingClientRect(),d=t.$el.getBoundingClientRect(),f=void 0,p=s?l?.25:h?.45:1:-1,m=h?l?.75:s?.55:0:1,v=-9999,g=i.clientY-c.top;f=g<c.height*p?"before":g>c.height*m?"after":l?"inner":"none";var C=n.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),D=t.$refs.dropIndicator;"before"===f?v=C.top-d.top:"after"===f&&(v=C.bottom-d.top),D.style.top=v+"px",D.style.left=C.right-d.left+"px","inner"===f?Object(pt.addClass)(n.$el,"is-drop-inner"):Object(pt.removeClass)(n.$el,"is-drop-inner"),e.showDropIndicator="before"===f||"after"===f,e.allowDrop=e.showDropIndicator||u,e.dropType=f,t.$emit("node-drag-over",o.node,n.node,i)}}),this.$on("tree-node-drag-end",function(i){var a=e.draggingNode,n=e.dropType,r=e.dropNode;if(i.preventDefault(),i.dataTransfer.dropEffect="move",a&&r){var o={data:a.node.data};"none"!==n&&a.node.remove(),"before"===n?r.node.parent.insertBefore(o,r.node):"after"===n?r.node.parent.insertAfter(o,r.node):"inner"===n&&r.node.insertChild(o),"none"!==n&&t.store.registerNode(o),Object(pt.removeClass)(r.$el,"is-drop-inner"),t.$emit("node-drag-end",a.node,r.node,n,i),"none"!==n&&t.$emit("node-drop",a.node,r.node,n,i)}a&&!r&&t.$emit("node-drag-end",a.node,null,n,i),e.showDropIndicator=!1,e.draggingNode=null,e.dropNode=null,e.allowDrop=!0})},mounted:function(){this.initTabIndex(),this.$el.addEventListener("keydown",this.handleKeydown)},updated:function(){this.treeItems=this.$el.querySelectorAll("[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]")}},Pr,[],!1,null,null,null);jr.options.__file="packages/tree/src/tree.vue";var qr=jr.exports;qr.install=function(t){t.component(qr.name,qr)};var Jr=qr,Zr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-alert-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-alert",class:[t.typeClass,t.center?"is-center":"","is-"+t.effect],attrs:{role:"alert"}},[t.showIcon?i("i",{staticClass:"el-alert__icon",class:[t.iconClass,t.isBigIcon]}):t._e(),i("div",{staticClass:"el-alert__content"},[t.title||t.$slots.title?i("span",{staticClass:"el-alert__title",class:[t.isBoldTitle]},[t._t("title",[t._v(t._s(t.title))])],2):t._e(),t.$slots.default&&!t.description?i("p",{staticClass:"el-alert__description"},[t._t("default")],2):t._e(),t.description&&!t.$slots.default?i("p",{staticClass:"el-alert__description"},[t._v(t._s(t.description))]):t._e(),i("i",{directives:[{name:"show",rawName:"v-show",value:t.closable,expression:"closable"}],staticClass:"el-alert__closebtn",class:{"is-customed":""!==t.closeText,"el-icon-close":""===t.closeText},on:{click:function(e){t.close()}}},[t._v(t._s(t.closeText))])])])])};Zr._withStripped=!0;var Qr={success:"el-icon-success",warning:"el-icon-warning",error:"el-icon-error"},to=n({name:"ElAlert",props:{title:{type:String,default:""},description:{type:String,default:""},type:{type:String,default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,default:"light",validator:function(t){return-1!==["light","dark"].indexOf(t)}}},data:function(){return{visible:!0}},methods:{close:function(){this.visible=!1,this.$emit("close")}},computed:{typeClass:function(){return"el-alert--"+this.type},iconClass:function(){return Qr[this.type]||"el-icon-info"},isBigIcon:function(){return this.description||this.$slots.default?"is-big":""},isBoldTitle:function(){return this.description||this.$slots.default?"is-bold":""}}},Zr,[],!1,null,null,null);to.options.__file="packages/alert/src/main.vue";var eo=to.exports;eo.install=function(t){t.component(eo.name,eo)};var io=eo,ao=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-notification-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:["el-notification",t.customClass,t.horizontalClass],style:t.positionStyle,attrs:{role:"alert"},on:{mouseenter:function(e){t.clearTimer()},mouseleave:function(e){t.startTimer()},click:t.click}},[t.type||t.iconClass?i("i",{staticClass:"el-notification__icon",class:[t.typeClass,t.iconClass]}):t._e(),i("div",{staticClass:"el-notification__group",class:{"is-with-icon":t.typeClass||t.iconClass}},[i("h2",{staticClass:"el-notification__title",domProps:{textContent:t._s(t.title)}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.message,expression:"message"}],staticClass:"el-notification__content"},[t._t("default",[t.dangerouslyUseHTMLString?i("p",{domProps:{innerHTML:t._s(t.message)}}):i("p",[t._v(t._s(t.message))])])],2),t.showClose?i("div",{staticClass:"el-notification__closeBtn el-icon-close",on:{click:function(e){return e.stopPropagation(),t.close(e)}}}):t._e()])])])};ao._withStripped=!0;var no={success:"success",info:"info",warning:"warning",error:"error"},ro=n({data:function(){return{visible:!1,title:"",message:"",duration:4500,type:"",showClose:!0,customClass:"",iconClass:"",onClose:null,onClick:null,closed:!1,verticalOffset:0,timer:null,dangerouslyUseHTMLString:!1,position:"top-right"}},computed:{typeClass:function(){return this.type&&no[this.type]?"el-icon-"+no[this.type]:""},horizontalClass:function(){return this.position.indexOf("right")>-1?"right":"left"},verticalProperty:function(){return/^top-/.test(this.position)?"top":"bottom"},positionStyle:function(){var t;return(t={})[this.verticalProperty]=this.verticalOffset+"px",t}},watch:{closed:function(t){t&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},click:function(){"function"==typeof this.onClick&&this.onClick()},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose()},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration))},keydown:function(t){46===t.keyCode||8===t.keyCode?this.clearTimer():27===t.keyCode?this.closed||this.close():this.startTimer()}},mounted:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration)),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},ao,[],!1,null,null,null);ro.options.__file="packages/notification/src/main.vue";var oo=ro.exports,so=di.a.extend(oo),lo=void 0,ho=[],uo=1,co=function t(e){if(!di.a.prototype.$isServer){var i=(e=Gt()({},e)).onClose,a="notification_"+uo++,n=e.position||"top-right";e.onClose=function(){t.close(a,i)},lo=new so({data:e}),Object(Yn.isVNode)(e.message)&&(lo.$slots.default=[e.message],e.message="REPLACED_BY_VNODE"),lo.id=a,lo.$mount(),document.body.appendChild(lo.$el),lo.visible=!0,lo.dom=lo.$el,lo.dom.style.zIndex=D.PopupManager.nextZIndex();var r=e.offset||0;return ho.filter(function(t){return t.position===n}).forEach(function(t){r+=t.$el.offsetHeight+16}),r+=16,lo.verticalOffset=r,ho.push(lo),lo}};["success","warning","info","error"].forEach(function(t){co[t]=function(e){return("string"==typeof e||Object(Yn.isVNode)(e))&&(e={message:e}),e.type=t,co(e)}}),co.close=function(t,e){var i=-1,a=ho.length,n=ho.filter(function(e,a){return e.id===t&&(i=a,!0)})[0];if(n&&("function"==typeof e&&e(n),ho.splice(i,1),!(a<=1)))for(var r=n.position,o=n.dom.offsetHeight,s=i;s<a-1;s++)ho[s].position===r&&(ho[s].dom.style[n.verticalProperty]=parseInt(ho[s].dom.style[n.verticalProperty],10)-o-16+"px")},co.closeAll=function(){for(var t=ho.length-1;t>=0;t--)ho[t].close()};var fo=co,po=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-slider",class:{"is-vertical":t.vertical,"el-slider--with-input":t.showInput},attrs:{role:"slider","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":t.vertical?"vertical":"horizontal","aria-disabled":t.sliderDisabled}},[t.showInput&&!t.range?i("el-input-number",{ref:"input",staticClass:"el-slider__input",attrs:{step:t.step,disabled:t.sliderDisabled,controls:t.showInputControls,min:t.min,max:t.max,debounce:t.debounce,size:t.inputSize},on:{change:t.emitChange},model:{value:t.firstValue,callback:function(e){t.firstValue=e},expression:"firstValue"}}):t._e(),i("div",{ref:"slider",staticClass:"el-slider__runway",class:{"show-input":t.showInput,disabled:t.sliderDisabled},style:t.runwayStyle,on:{click:t.onSliderClick}},[i("div",{staticClass:"el-slider__bar",style:t.barStyle}),i("slider-button",{ref:"button1",attrs:{vertical:t.vertical,"tooltip-class":t.tooltipClass},model:{value:t.firstValue,callback:function(e){t.firstValue=e},expression:"firstValue"}}),t.range?i("slider-button",{ref:"button2",attrs:{vertical:t.vertical,"tooltip-class":t.tooltipClass},model:{value:t.secondValue,callback:function(e){t.secondValue=e},expression:"secondValue"}}):t._e(),t._l(t.stops,function(e,a){return t.showStops?i("div",{key:a,staticClass:"el-slider__stop",style:t.getStopStyle(e)}):t._e()}),t.markList.length>0?[i("div",t._l(t.markList,function(e,a){return i("div",{key:a,staticClass:"el-slider__stop el-slider__marks-stop",style:t.getStopStyle(e.position)})}),0),i("div",{staticClass:"el-slider__marks"},t._l(t.markList,function(e,a){return i("slider-marker",{key:a,style:t.getStopStyle(e.position),attrs:{mark:e.mark}})}),1)]:t._e()],2)],1)};po._withStripped=!0;var mo=i(41),vo=i.n(mo),go=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"button",staticClass:"el-slider__button-wrapper",class:{hover:t.hovering,dragging:t.dragging},style:t.wrapperStyle,attrs:{tabindex:"0"},on:{mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave,mousedown:t.onButtonDown,touchstart:t.onButtonDown,focus:t.handleMouseEnter,blur:t.handleMouseLeave,keydown:[function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:t.onLeftKeyDown(e):null},function(e){return"button"in e||!t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?"button"in e&&2!==e.button?null:t.onRightKeyDown(e):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.onLeftKeyDown(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.onRightKeyDown(e)):null}]}},[i("el-tooltip",{ref:"tooltip",attrs:{placement:"top","popper-class":t.tooltipClass,disabled:!t.showTooltip}},[i("span",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.formatValue))]),i("div",{staticClass:"el-slider__button",class:{hover:t.hovering,dragging:t.dragging}})])],1)};go._withStripped=!0;var Co=n({name:"ElSliderButton",components:{ElTooltip:Mt.a},props:{value:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:String},data:function(){return{hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{disabled:function(){return this.$parent.sliderDisabled},max:function(){return this.$parent.max},min:function(){return this.$parent.min},step:function(){return this.$parent.step},showTooltip:function(){return this.$parent.showTooltip},precision:function(){return this.$parent.precision},currentPosition:function(){return(this.value-this.min)/(this.max-this.min)*100+"%"},enableFormat:function(){return this.$parent.formatTooltip instanceof Function},formatValue:function(){return this.enableFormat&&this.$parent.formatTooltip(this.value)||this.value},wrapperStyle:function(){return this.vertical?{bottom:this.currentPosition}:{left:this.currentPosition}}},watch:{dragging:function(t){this.$parent.dragging=t}},methods:{displayTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!0)},hideTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!1)},handleMouseEnter:function(){this.hovering=!0,this.displayTooltip()},handleMouseLeave:function(){this.hovering=!1,this.hideTooltip()},onButtonDown:function(t){this.disabled||(t.preventDefault(),this.onDragStart(t),window.addEventListener("mousemove",this.onDragging),window.addEventListener("touchmove",this.onDragging),window.addEventListener("mouseup",this.onDragEnd),window.addEventListener("touchend",this.onDragEnd),window.addEventListener("contextmenu",this.onDragEnd))},onLeftKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onRightKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onDragStart:function(t){this.dragging=!0,this.isClick=!0,"touchstart"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.vertical?this.startY=t.clientY:this.startX=t.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(t){if(this.dragging){this.isClick=!1,this.displayTooltip(),this.$parent.resetSize();var e=0;"touchmove"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.vertical?(this.currentY=t.clientY,e=(this.startY-this.currentY)/this.$parent.sliderSize*100):(this.currentX=t.clientX,e=(this.currentX-this.startX)/this.$parent.sliderSize*100),this.newPosition=this.startPosition+e,this.setPosition(this.newPosition)}},onDragEnd:function(){var t=this;this.dragging&&(setTimeout(function(){t.dragging=!1,t.hideTooltip(),t.isClick||(t.setPosition(t.newPosition),t.$parent.emitChange())},0),window.removeEventListener("mousemove",this.onDragging),window.removeEventListener("touchmove",this.onDragging),window.removeEventListener("mouseup",this.onDragEnd),window.removeEventListener("touchend",this.onDragEnd),window.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(t){var e=this;if(null!==t&&!isNaN(t)){t<0?t=0:t>100&&(t=100);var i=100/((this.max-this.min)/this.step),a=Math.round(t/i)*i*(this.max-this.min)*.01+this.min;a=parseFloat(a.toFixed(this.precision)),this.$emit("input",a),this.$nextTick(function(){e.displayTooltip(),e.$refs.tooltip&&e.$refs.tooltip.updatePopper()}),this.dragging||this.value===this.oldValue||(this.oldValue=this.value)}}}},go,[],!1,null,null,null);Co.options.__file="packages/slider/src/button.vue";var Do=Co.exports,yo={name:"ElMarker",props:{mark:{type:[String,Object]}},render:function(){var t=arguments[0],e="string"==typeof this.mark?this.mark:this.mark.label;return t("div",{class:"el-slider__marks-text",style:this.mark.style||{}},[e])}},xo=n({name:"ElSlider",mixins:[T.a],inject:{elForm:{default:""}},props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},value:{type:[Number,Array],default:0},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},inputSize:{type:String,default:"small"},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:Function,disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String},debounce:{type:Number,default:300},label:{type:String},tooltipClass:String,marks:Object},components:{ElInputNumber:vo.a,SliderButton:Do,SliderMarker:yo},data:function(){return{firstValue:null,secondValue:null,oldValue:null,dragging:!1,sliderSize:1}},watch:{value:function(t,e){this.dragging||Array.isArray(t)&&Array.isArray(e)&&t.every(function(t,i){return t===e[i]})||this.setValues()},dragging:function(t){t||this.setValues()},firstValue:function(t){this.range?this.$emit("input",[this.minValue,this.maxValue]):this.$emit("input",t)},secondValue:function(){this.range&&this.$emit("input",[this.minValue,this.maxValue])},min:function(){this.setValues()},max:function(){this.setValues()}},methods:{valueChanged:function(){var t=this;return this.range?![this.minValue,this.maxValue].every(function(e,i){return e===t.oldValue[i]}):this.value!==this.oldValue},setValues:function(){if(this.min>this.max)console.error("[Element Error][Slider]min should not be greater than max.");else{var t=this.value;this.range&&Array.isArray(t)?t[1]<this.min?this.$emit("input",[this.min,this.min]):t[0]>this.max?this.$emit("input",[this.max,this.max]):t[0]<this.min?this.$emit("input",[this.min,t[1]]):t[1]>this.max?this.$emit("input",[t[0],this.max]):(this.firstValue=t[0],this.secondValue=t[1],this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",[this.minValue,this.maxValue]),this.oldValue=t.slice())):this.range||"number"!=typeof t||isNaN(t)||(t<this.min?this.$emit("input",this.min):t>this.max?this.$emit("input",this.max):(this.firstValue=t,this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",t),this.oldValue=t)))}},setPosition:function(t){var e=this.min+t*(this.max-this.min)/100;if(this.range){var i=void 0;i=Math.abs(this.minValue-e)<Math.abs(this.maxValue-e)?this.firstValue<this.secondValue?"button1":"button2":this.firstValue>this.secondValue?"button1":"button2",this.$refs[i].setPosition(t)}else this.$refs.button1.setPosition(t)},onSliderClick:function(t){if(!this.sliderDisabled&&!this.dragging){if(this.resetSize(),this.vertical){var e=this.$refs.slider.getBoundingClientRect().bottom;this.setPosition((e-t.clientY)/this.sliderSize*100)}else{var i=this.$refs.slider.getBoundingClientRect().left;this.setPosition((t.clientX-i)/this.sliderSize*100)}this.emitChange()}},resetSize:function(){this.$refs.slider&&(this.sliderSize=this.$refs.slider["client"+(this.vertical?"Height":"Width")])},emitChange:function(){var t=this;this.$nextTick(function(){t.$emit("change",t.range?[t.minValue,t.maxValue]:t.value)})},getStopStyle:function(t){return this.vertical?{bottom:t+"%"}:{left:t+"%"}}},computed:{stops:function(){var t=this;if(!this.showStops||this.min>this.max)return[];if(0===this.step)return[];for(var e=(this.max-this.min)/this.step,i=100*this.step/(this.max-this.min),a=[],n=1;n<e;n++)a.push(n*i);return this.range?a.filter(function(e){return e<100*(t.minValue-t.min)/(t.max-t.min)||e>100*(t.maxValue-t.min)/(t.max-t.min)}):a.filter(function(e){return e>100*(t.firstValue-t.min)/(t.max-t.min)})},markList:function(){var t=this;return this.marks?Object.keys(this.marks).map(parseFloat).sort(function(t,e){return t-e}).filter(function(e){return e<=t.max&&e>=t.min}).map(function(e){return{point:e,position:100*(e-t.min)/(t.max-t.min),mark:t.marks[e]}}):[]},minValue:function(){return Math.min(this.firstValue,this.secondValue)},maxValue:function(){return Math.max(this.firstValue,this.secondValue)},barSize:function(){return this.range?100*(this.maxValue-this.minValue)/(this.max-this.min)+"%":100*(this.firstValue-this.min)/(this.max-this.min)+"%"},barStart:function(){return this.range?100*(this.minValue-this.min)/(this.max-this.min)+"%":"0%"},precision:function(){var t=[this.min,this.max,this.step].map(function(t){var e=(""+t).split(".")[1];return e?e.length:0});return Math.max.apply(null,t)},runwayStyle:function(){return this.vertical?{height:this.height}:{}},barStyle:function(){return this.vertical?{height:this.barSize,bottom:this.barStart}:{width:this.barSize,left:this.barStart}},sliderDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},mounted:function(){var t=void 0;this.range?(Array.isArray(this.value)?(this.firstValue=Math.max(this.min,this.value[0]),this.secondValue=Math.min(this.max,this.value[1])):(this.firstValue=this.min,this.secondValue=this.max),this.oldValue=[this.firstValue,this.secondValue],t=this.firstValue+"-"+this.secondValue):("number"!=typeof this.value||isNaN(this.value)?this.firstValue=this.min:this.firstValue=Math.min(this.max,Math.max(this.min,this.value)),this.oldValue=this.firstValue,t=this.firstValue),this.$el.setAttribute("aria-valuetext",t),this.$el.setAttribute("aria-label",this.label?this.label:"slider between "+this.min+" and "+this.max),this.resetSize(),window.addEventListener("resize",this.resetSize)},beforeDestroy:function(){window.removeEventListener("resize",this.resetSize)}},po,[],!1,null,null,null);xo.options.__file="packages/slider/src/main.vue";var So=xo.exports;So.install=function(t){t.component(So.name,So)};var Io=So,To=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":t.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[t.customClass,{"is-fullscreen":t.fullscreen}],style:{backgroundColor:t.background||""}},[i("div",{staticClass:"el-loading-spinner"},[t.spinner?i("i",{class:t.spinner}):i("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[i("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),t.text?i("p",{staticClass:"el-loading-text"},[t._v(t._s(t.text))]):t._e()])])])};To._withStripped=!0;var bo=n({data:function(){return{text:null,spinner:null,background:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(t){this.text=t}}},To,[],!1,null,null,null);bo.options.__file="packages/loading/src/loading.vue";var wo=bo.exports,Mo=i(33),Eo=i.n(Mo),Ao=di.a.extend(wo),_o={install:function(t){if(!t.prototype.$isServer){var e=function(e,a){a.value?t.nextTick(function(){a.modifiers.fullscreen?(e.originalPosition=Object(pt.getStyle)(document.body,"position"),e.originalOverflow=Object(pt.getStyle)(document.body,"overflow"),e.maskStyle.zIndex=D.PopupManager.nextZIndex(),Object(pt.addClass)(e.mask,"is-fullscreen"),i(document.body,e,a)):(Object(pt.removeClass)(e.mask,"is-fullscreen"),a.modifiers.body?(e.originalPosition=Object(pt.getStyle)(document.body,"position"),["top","left"].forEach(function(t){var i="top"===t?"scrollTop":"scrollLeft";e.maskStyle[t]=e.getBoundingClientRect()[t]+document.body[i]+document.documentElement[i]-parseInt(Object(pt.getStyle)(document.body,"margin-"+t),10)+"px"}),["height","width"].forEach(function(t){e.maskStyle[t]=e.getBoundingClientRect()[t]+"px"}),i(document.body,e,a)):(e.originalPosition=Object(pt.getStyle)(e,"position"),i(e,e,a)))}):(Eo()(e.instance,function(t){if(e.instance.hiding){e.domVisible=!1;var i=a.modifiers.fullscreen||a.modifiers.body?document.body:e;Object(pt.removeClass)(i,"el-loading-parent--relative"),Object(pt.removeClass)(i,"el-loading-parent--hidden"),e.instance.hiding=!1}},300,!0),e.instance.visible=!1,e.instance.hiding=!0)},i=function(e,i,a){i.domVisible||"none"===Object(pt.getStyle)(i,"display")||"hidden"===Object(pt.getStyle)(i,"visibility")?i.domVisible&&!0===i.instance.hiding&&(i.instance.visible=!0,i.instance.hiding=!1):(Object.keys(i.maskStyle).forEach(function(t){i.mask.style[t]=i.maskStyle[t]}),"absolute"!==i.originalPosition&&"fixed"!==i.originalPosition&&Object(pt.addClass)(e,"el-loading-parent--relative"),a.modifiers.fullscreen&&a.modifiers.lock&&Object(pt.addClass)(e,"el-loading-parent--hidden"),i.domVisible=!0,e.appendChild(i.mask),t.nextTick(function(){i.instance.hiding?i.instance.$emit("after-leave"):i.instance.visible=!0}),i.domInserted=!0)};t.directive("loading",{bind:function(t,i,a){var n=t.getAttribute("element-loading-text"),r=t.getAttribute("element-loading-spinner"),o=t.getAttribute("element-loading-background"),s=t.getAttribute("element-loading-custom-class"),l=a.context,h=new Ao({el:document.createElement("div"),data:{text:l&&l[n]||n,spinner:l&&l[r]||r,background:l&&l[o]||o,customClass:l&&l[s]||s,fullscreen:!!i.modifiers.fullscreen}});t.instance=h,t.mask=h.$el,t.maskStyle={},i.value&&e(t,i)},update:function(t,i){t.instance.setText(t.getAttribute("element-loading-text")),i.oldValue!==i.value&&e(t,i)},unbind:function(t,i){t.domInserted&&(t.mask&&t.mask.parentNode&&t.mask.parentNode.removeChild(t.mask),e(t,{value:!1,modifiers:i.modifiers})),t.instance&&t.instance.$destroy()}})}}},Lo=_o,Fo=di.a.extend(wo),Oo={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},Po=void 0;Fo.prototype.originalPosition="",Fo.prototype.originalOverflow="",Fo.prototype.close=function(){var t=this;this.fullscreen&&(Po=void 0),Eo()(this,function(e){var i=t.fullscreen||t.body?document.body:t.target;Object(pt.removeClass)(i,"el-loading-parent--relative"),Object(pt.removeClass)(i,"el-loading-parent--hidden"),t.$el&&t.$el.parentNode&&t.$el.parentNode.removeChild(t.$el),t.$destroy()},300),this.visible=!1};var No=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!di.a.prototype.$isServer){if("string"==typeof(t=Gt()({},Oo,t)).target&&(t.target=document.querySelector(t.target)),t.target=t.target||document.body,t.target!==document.body?t.fullscreen=!1:t.body=!0,t.fullscreen&&Po)return Po;var e=t.body?document.body:t.target,i=new Fo({el:document.createElement("div"),data:t});return function(t,e,i){var a={};t.fullscreen?(i.originalPosition=Object(pt.getStyle)(document.body,"position"),i.originalOverflow=Object(pt.getStyle)(document.body,"overflow"),a.zIndex=D.PopupManager.nextZIndex()):t.body?(i.originalPosition=Object(pt.getStyle)(document.body,"position"),["top","left"].forEach(function(e){var i="top"===e?"scrollTop":"scrollLeft";a[e]=t.target.getBoundingClientRect()[e]+document.body[i]+document.documentElement[i]+"px"}),["height","width"].forEach(function(e){a[e]=t.target.getBoundingClientRect()[e]+"px"})):i.originalPosition=Object(pt.getStyle)(e,"position"),Object.keys(a).forEach(function(t){i.$el.style[t]=a[t]})}(t,e,i),"absolute"!==i.originalPosition&&"fixed"!==i.originalPosition&&Object(pt.addClass)(e,"el-loading-parent--relative"),t.fullscreen&&t.lock&&Object(pt.addClass)(e,"el-loading-parent--hidden"),e.appendChild(i.$el),di.a.nextTick(function(){i.visible=!0}),t.fullscreen&&(Po=i),i}},Ro={install:function(t){t.use(Lo),t.prototype.$loading=No},directive:Lo,service:No},Bo=function(){var t=this.$createElement;return(this._self._c||t)("i",{class:"el-icon-"+this.name})};Bo._withStripped=!0;var ko=n({name:"ElIcon",props:{name:String}},Bo,[],!1,null,null,null);ko.options.__file="packages/icon/src/icon.vue";var Vo=ko.exports;Vo.install=function(t){t.component(Vo.name,Vo)};var Ho=Vo,Go={name:"ElRow",componentName:"ElRow",props:{tag:{type:String,default:"div"},gutter:Number,type:String,justify:{type:String,default:"start"},align:{type:String,default:"top"}},computed:{style:function(){var t={};return this.gutter&&(t.marginLeft="-"+this.gutter/2+"px",t.marginRight=t.marginLeft),t}},render:function(t){return t(this.tag,{class:["el-row","start"!==this.justify?"is-justify-"+this.justify:"","top"!==this.align?"is-align-"+this.align:"",{"el-row--flex":"flex"===this.type}],style:this.style},this.$slots.default)},install:function(t){t.component(Go.name,Go)}},Yo=Go,Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo={name:"ElCol",props:{span:{type:Number,default:24},tag:{type:String,default:"div"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter:function(){for(var t=this.$parent;t&&"ElRow"!==t.$options.componentName;)t=t.$parent;return t?t.gutter:0}},render:function(t){var e=this,i=[],a={};return this.gutter&&(a.paddingLeft=this.gutter/2+"px",a.paddingRight=a.paddingLeft),["span","offset","pull","push"].forEach(function(t){(e[t]||0===e[t])&&i.push("span"!==t?"el-col-"+t+"-"+e[t]:"el-col-"+e[t])}),["xs","sm","md","lg","xl"].forEach(function(t){if("number"==typeof e[t])i.push("el-col-"+t+"-"+e[t]);else if("object"===Wo(e[t])){var a=e[t];Object.keys(a).forEach(function(e){i.push("span"!==e?"el-col-"+t+"-"+e+"-"+a[e]:"el-col-"+t+"-"+a[e])})}}),t(this.tag,{class:["el-col",i],style:a},this.$slots.default)},install:function(t){t.component(Xo.name,Xo)}},Uo=Xo,zo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition-group",{class:["el-upload-list","el-upload-list--"+t.listType,{"is-disabled":t.disabled}],attrs:{tag:"ul",name:"el-list"}},t._l(t.files,function(e){return i("li",{key:e.uid,class:["el-upload-list__item","is-"+e.status,t.focusing?"focusing":""],attrs:{tabindex:"0"},on:{keydown:function(i){if(!("button"in i)&&t._k(i.keyCode,"delete",[8,46],i.key,["Backspace","Delete","Del"]))return null;!t.disabled&&t.$emit("remove",e)},focus:function(e){t.focusing=!0},blur:function(e){t.focusing=!1},click:function(e){t.focusing=!1}}},[t._t("default",["uploading"!==e.status&&["picture-card","picture"].indexOf(t.listType)>-1?i("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:e.url,alt:""}}):t._e(),i("a",{staticClass:"el-upload-list__item-name",on:{click:function(i){t.handleClick(e)}}},[i("i",{staticClass:"el-icon-document"}),t._v(t._s(e.name)+"\n      ")]),i("label",{staticClass:"el-upload-list__item-status-label"},[i("i",{class:{"el-icon-upload-success":!0,"el-icon-circle-check":"text"===t.listType,"el-icon-check":["picture-card","picture"].indexOf(t.listType)>-1}})]),t.disabled?t._e():i("i",{staticClass:"el-icon-close",on:{click:function(i){t.$emit("remove",e)}}}),t.disabled?t._e():i("i",{staticClass:"el-icon-close-tip"},[t._v(t._s(t.t("el.upload.deleteTip")))]),"uploading"===e.status?i("el-progress",{attrs:{type:"picture-card"===t.listType?"circle":"line","stroke-width":"picture-card"===t.listType?6:2,percentage:t.parsePercentage(e.percentage)}}):t._e(),"picture-card"===t.listType?i("span",{staticClass:"el-upload-list__item-actions"},[t.handlePreview&&"picture-card"===t.listType?i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(i){t.handlePreview(e)}}},[i("i",{staticClass:"el-icon-zoom-in"})]):t._e(),t.disabled?t._e():i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(i){t.$emit("remove",e)}}},[i("i",{staticClass:"el-icon-delete"})])]):t._e()],{file:e})],2)}),0)};zo._withStripped=!0;var Ko=i(34),$o=i.n(Ko),jo=n({name:"ElUploadList",mixins:[p.a],data:function(){return{focusing:!1}},components:{ElProgress:$o.a},props:{files:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},handlePreview:Function,listType:String},methods:{parsePercentage:function(t){return parseInt(t,10)},handleClick:function(t){this.handlePreview&&this.handlePreview(t)}}},zo,[],!1,null,null,null);jo.options.__file="packages/upload/src/upload-list.vue";var qo=jo.exports,Jo=i(24),Zo=i.n(Jo);var Qo=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-upload-dragger",class:{"is-dragover":t.dragover},on:{drop:function(e){return e.preventDefault(),t.onDrop(e)},dragover:function(e){return e.preventDefault(),t.onDragover(e)},dragleave:function(e){e.preventDefault(),t.dragover=!1}}},[t._t("default")],2)};Qo._withStripped=!0;var ts=n({name:"ElUploadDrag",props:{disabled:Boolean},inject:{uploader:{default:""}},data:function(){return{dragover:!1}},methods:{onDragover:function(){this.disabled||(this.dragover=!0)},onDrop:function(t){if(!this.disabled&&this.uploader){var e=this.uploader.accept;this.dragover=!1,e?this.$emit("file",[].slice.call(t.dataTransfer.files).filter(function(t){var i=t.type,a=t.name,n=a.indexOf(".")>-1?"."+a.split(".").pop():"",r=i.replace(/\/.*$/,"");return e.split(",").map(function(t){return t.trim()}).filter(function(t){return t}).some(function(t){return/\..+$/.test(t)?n===t:/\/\*$/.test(t)?r===t.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(t)&&i===t})})):this.$emit("file",t.dataTransfer.files)}}}},Qo,[],!1,null,null,null);ts.options.__file="packages/upload/src/upload-dragger.vue";var es=n({inject:["uploader"],components:{UploadDragger:ts.exports},props:{type:String,action:{type:String,required:!0},name:{type:String,default:"file"},data:Object,headers:Object,withCredentials:Boolean,multiple:Boolean,accept:String,onStart:Function,onProgress:Function,onSuccess:Function,onError:Function,beforeUpload:Function,drag:Boolean,onPreview:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},fileList:Array,autoUpload:Boolean,listType:String,httpRequest:{type:Function,default:function(t){if("undefined"!=typeof XMLHttpRequest){var e=new XMLHttpRequest,i=t.action;e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var a=new FormData;t.data&&Object.keys(t.data).forEach(function(e){a.append(e,t.data[e])}),a.append(t.filename,t.file,t.file.name),e.onerror=function(e){t.onError(e)},e.onload=function(){if(e.status<200||e.status>=300)return t.onError(function(t,e,i){var a=void 0;a=i.response?""+(i.response.error||i.response):i.responseText?""+i.responseText:"fail to post "+t+" "+i.status;var n=new Error(a);return n.status=i.status,n.method="post",n.url=t,n}(i,0,e));t.onSuccess(function(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}(e))},e.open("post",i,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var n=t.headers||{};for(var r in n)n.hasOwnProperty(r)&&null!==n[r]&&e.setRequestHeader(r,n[r]);return e.send(a),e}}},disabled:Boolean,limit:Number,onExceed:Function},data:function(){return{mouseover:!1,reqs:{}}},methods:{isImage:function(t){return-1!==t.indexOf("image")},handleChange:function(t){var e=t.target.files;e&&this.uploadFiles(e)},uploadFiles:function(t){var e=this;if(this.limit&&this.fileList.length+t.length>this.limit)this.onExceed&&this.onExceed(t,this.fileList);else{var i=Array.prototype.slice.call(t);this.multiple||(i=i.slice(0,1)),0!==i.length&&i.forEach(function(t){e.onStart(t),e.autoUpload&&e.upload(t)})}},upload:function(t){var e=this;if(this.$refs.input.value=null,!this.beforeUpload)return this.post(t);var i=this.beforeUpload(t);i&&i.then?i.then(function(i){var a=Object.prototype.toString.call(i);if("[object File]"===a||"[object Blob]"===a){for(var n in"[object Blob]"===a&&(i=new File([i],t.name,{type:t.type})),t)t.hasOwnProperty(n)&&(i[n]=t[n]);e.post(i)}else e.post(t)},function(){e.onRemove(null,t)}):!1!==i?this.post(t):this.onRemove(null,t)},abort:function(t){var e=this.reqs;if(t){var i=t;t.uid&&(i=t.uid),e[i]&&e[i].abort()}else Object.keys(e).forEach(function(t){e[t]&&e[t].abort(),delete e[t]})},post:function(t){var e=this,i=t.uid,a={headers:this.headers,withCredentials:this.withCredentials,file:t,data:this.data,filename:this.name,action:this.action,onProgress:function(i){e.onProgress(i,t)},onSuccess:function(a){e.onSuccess(a,t),delete e.reqs[i]},onError:function(a){e.onError(a,t),delete e.reqs[i]}},n=this.httpRequest(a);this.reqs[i]=n,n&&n.then&&n.then(a.onSuccess,a.onError)},handleClick:function(){this.disabled||(this.$refs.input.value=null,this.$refs.input.click())},handleKeydown:function(t){t.target===t.currentTarget&&(13!==t.keyCode&&32!==t.keyCode||this.handleClick())}},render:function(t){var e=this.handleClick,i=this.drag,a=this.name,n=this.handleChange,r=this.multiple,o=this.accept,s=this.listType,l=this.uploadFiles,h=this.disabled,u={class:{"el-upload":!0},on:{click:e,keydown:this.handleKeydown}};return u.class["el-upload--"+s]=!0,t("div",Zo()([u,{attrs:{tabindex:"0"}}]),[i?t("upload-dragger",{attrs:{disabled:h},on:{file:l}},[this.$slots.default]):this.$slots.default,t("input",{class:"el-upload__input",attrs:{type:"file",name:a,multiple:r,accept:o},ref:"input",on:{change:n}})])}},void 0,void 0,!1,null,null,null);es.options.__file="packages/upload/src/upload.vue";var is=es.exports;function as(){}var ns=n({name:"ElUpload",mixins:[S.a],components:{ElProgress:$o.a,UploadList:qo,Upload:is},provide:function(){return{uploader:this}},inject:{elForm:{default:""}},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},data:Object,multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,dragger:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:String,type:{type:String,default:"select"},beforeUpload:Function,beforeRemove:Function,onRemove:{type:Function,default:as},onChange:{type:Function,default:as},onPreview:{type:Function},onSuccess:{type:Function,default:as},onProgress:{type:Function,default:as},onError:{type:Function,default:as},fileList:{type:Array,default:function(){return[]}},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:Function,disabled:Boolean,limit:Number,onExceed:{type:Function,default:as}},data:function(){return{uploadFiles:[],dragOver:!1,draging:!1,tempIndex:1}},computed:{uploadDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{listType:function(t){"picture-card"!==t&&"picture"!==t||(this.uploadFiles=this.uploadFiles.map(function(t){if(!t.url&&t.raw)try{t.url=URL.createObjectURL(t.raw)}catch(t){console.error("[Element Error][Upload]",t)}return t}))},fileList:{immediate:!0,handler:function(t){var e=this;this.uploadFiles=t.map(function(t){return t.uid=t.uid||Date.now()+e.tempIndex++,t.status=t.status||"success",t})}}},methods:{handleStart:function(t){t.uid=Date.now()+this.tempIndex++;var e={status:"ready",name:t.name,size:t.size,percentage:0,uid:t.uid,raw:t};if("picture-card"===this.listType||"picture"===this.listType)try{e.url=URL.createObjectURL(t)}catch(t){return void console.error("[Element Error][Upload]",t)}this.uploadFiles.push(e),this.onChange(e,this.uploadFiles)},handleProgress:function(t,e){var i=this.getFile(e);this.onProgress(t,i,this.uploadFiles),i.status="uploading",i.percentage=t.percent||0},handleSuccess:function(t,e){var i=this.getFile(e);i&&(i.status="success",i.response=t,this.onSuccess(t,i,this.uploadFiles),this.onChange(i,this.uploadFiles))},handleError:function(t,e){var i=this.getFile(e),a=this.uploadFiles;i.status="fail",a.splice(a.indexOf(i),1),this.onError(t,i,this.uploadFiles),this.onChange(i,this.uploadFiles)},handleRemove:function(t,e){var i=this;e&&(t=this.getFile(e));var a=function(){i.abort(t);var e=i.uploadFiles;e.splice(e.indexOf(t),1),i.onRemove(t,e)};if(this.beforeRemove){if("function"==typeof this.beforeRemove){var n=this.beforeRemove(t,this.uploadFiles);n&&n.then?n.then(function(){a()},as):!1!==n&&a()}}else a()},getFile:function(t){var e=void 0;return this.uploadFiles.every(function(i){return!(e=t.uid===i.uid?i:null)}),e},abort:function(t){this.$refs["upload-inner"].abort(t)},clearFiles:function(){this.uploadFiles=[]},submit:function(){var t=this;this.uploadFiles.filter(function(t){return"ready"===t.status}).forEach(function(e){t.$refs["upload-inner"].upload(e.raw)})},getMigratingConfig:function(){return{props:{"default-file-list":"default-file-list is renamed to file-list.","show-upload-list":"show-upload-list is renamed to show-file-list.","thumbnail-mode":"thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan"}}}},beforeDestroy:function(){this.uploadFiles.forEach(function(t){t.url&&0===t.url.indexOf("blob:")&&URL.revokeObjectURL(t.url)})},render:function(t){var e=this,i=void 0;this.showFileList&&(i=t(qo,{attrs:{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,handlePreview:this.onPreview},on:{remove:this.handleRemove}},[function(t){if(e.$scopedSlots.file)return e.$scopedSlots.file({file:t.file})}]));var a=t("upload",{props:{type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest},ref:"upload-inner"},[this.$slots.trigger||this.$slots.default]);return t("div",["picture-card"===this.listType?i:"",this.$slots.trigger?[a,this.$slots.default]:a,this.$slots.tip,"picture-card"!==this.listType?i:""])}},void 0,void 0,!1,null,null,null);ns.options.__file="packages/upload/src/index.vue";var rs=ns.exports;rs.install=function(t){t.component(rs.name,rs)};var os=rs,ss=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-progress",class:["el-progress--"+t.type,t.status?"is-"+t.status:"",{"el-progress--without-text":!t.showText,"el-progress--text-inside":t.textInside}],attrs:{role:"progressbar","aria-valuenow":t.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===t.type?i("div",{staticClass:"el-progress-bar"},[i("div",{staticClass:"el-progress-bar__outer",style:{height:t.strokeWidth+"px"}},[i("div",{staticClass:"el-progress-bar__inner",style:t.barStyle},[t.showText&&t.textInside?i("div",{staticClass:"el-progress-bar__innerText"},[t._v(t._s(t.content))]):t._e()])])]):i("div",{staticClass:"el-progress-circle",style:{height:t.width+"px",width:t.width+"px"}},[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("path",{staticClass:"el-progress-circle__track",style:t.trailPathStyle,attrs:{d:t.trackPath,stroke:"#e5e9f2","stroke-width":t.relativeStrokeWidth,fill:"none"}}),i("path",{staticClass:"el-progress-circle__path",style:t.circlePathStyle,attrs:{d:t.trackPath,stroke:t.stroke,fill:"none","stroke-linecap":t.strokeLinecap,"stroke-width":t.percentage?t.relativeStrokeWidth:0}})])]),t.showText&&!t.textInside?i("div",{staticClass:"el-progress__text",style:{fontSize:t.progressTextSize+"px"}},[t.status?i("i",{class:t.iconClass}):[t._v(t._s(t.content))]],2):t._e()])};ss._withStripped=!0;var ls=n({name:"ElProgress",props:{type:{type:String,default:"line",validator:function(t){return["line","circle","dashboard"].indexOf(t)>-1}},percentage:{type:Number,default:0,required:!0,validator:function(t){return t>=0&&t<=100}},status:{type:String,validator:function(t){return["success","exception","warning"].indexOf(t)>-1}},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:Function},computed:{barStyle:function(){var t={};return t.width=this.percentage+"%",t.backgroundColor=this.getCurrentColor(this.percentage),t},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var t=this.radius,e="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(e?"":"-")+t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"-":"")+2*t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"":"-")+2*t+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){return-1*this.perimeter*(1-this.rate)/2+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var t=void 0;if(this.color)t=this.getCurrentColor(this.percentage);else switch(this.status){case"success":t="#13ce66";break;case"exception":t="#ff4949";break;case"warning":t="#e6a23c";break;default:t="#20a0ff"}return t},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"==typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(t){return"function"==typeof this.color?this.color(t):"string"==typeof this.color?this.color:this.getLevelColor(t)},getLevelColor:function(t){for(var e=this.getColorArray().sort(function(t,e){return t.percentage-e.percentage}),i=0;i<e.length;i++)if(e[i].percentage>t)return e[i].color;return e[e.length-1].color},getColorArray:function(){var t=this.color,e=100/t.length;return t.map(function(t,i){return"string"==typeof t?{color:t,progress:(i+1)*e}:t})}}},ss,[],!1,null,null,null);ls.options.__file="packages/progress/src/progress.vue";var hs=ls.exports;hs.install=function(t){t.component(hs.name,hs)};var us=hs,cs=function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"el-spinner"},[e("svg",{staticClass:"el-spinner-inner",style:{width:this.radius/2+"px",height:this.radius/2+"px"},attrs:{viewBox:"0 0 50 50"}},[e("circle",{staticClass:"path",attrs:{cx:"25",cy:"25",r:"20",fill:"none",stroke:this.strokeColor,"stroke-width":this.strokeWidth}})])])};cs._withStripped=!0;var ds=n({name:"ElSpinner",props:{type:String,radius:{type:Number,default:100},strokeWidth:{type:Number,default:5},strokeColor:{type:String,default:"#efefef"}}},cs,[],!1,null,null,null);ds.options.__file="packages/spinner/src/spinner.vue";var fs=ds.exports;fs.install=function(t){t.component(fs.name,fs)};var ps=fs,ms=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-message-fade"},on:{"after-leave":t.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:["el-message",t.type&&!t.iconClass?"el-message--"+t.type:"",t.center?"is-center":"",t.showClose?"is-closable":"",t.customClass],style:t.positionStyle,attrs:{role:"alert"},on:{mouseenter:t.clearTimer,mouseleave:t.startTimer}},[t.iconClass?i("i",{class:t.iconClass}):i("i",{class:t.typeClass}),t._t("default",[t.dangerouslyUseHTMLString?i("p",{staticClass:"el-message__content",domProps:{innerHTML:t._s(t.message)}}):i("p",{staticClass:"el-message__content"},[t._v(t._s(t.message))])]),t.showClose?i("i",{staticClass:"el-message__closeBtn el-icon-close",on:{click:t.close}}):t._e()],2)])};ms._withStripped=!0;var vs={success:"success",info:"info",warning:"warning",error:"error"},gs=n({data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,verticalOffset:20,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{typeClass:function(){return this.type&&!this.iconClass?"el-message__icon el-icon-"+vs[this.type]:""},positionStyle:function(){return{top:this.verticalOffset+"px"}}},watch:{closed:function(t){t&&(this.visible=!1)}},methods:{handleAfterLeave:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration))},keydown:function(t){27===t.keyCode&&(this.closed||this.close())}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},ms,[],!1,null,null,null);gs.options.__file="packages/message/src/main.vue";var Cs=gs.exports,Ds=di.a.extend(Cs),ys=void 0,xs=[],Ss=1,Is=function t(e){if(!di.a.prototype.$isServer){"string"==typeof(e=e||{})&&(e={message:e});var i=e.onClose,a="message_"+Ss++;e.onClose=function(){t.close(a,i)},(ys=new Ds({data:e})).id=a,Object(Yn.isVNode)(ys.message)&&(ys.$slots.default=[ys.message],ys.message=null),ys.$mount(),document.body.appendChild(ys.$el);var n=e.offset||20;return xs.forEach(function(t){n+=t.$el.offsetHeight+16}),ys.verticalOffset=n,ys.visible=!0,ys.$el.style.zIndex=D.PopupManager.nextZIndex(),xs.push(ys),ys}};["success","warning","info","error"].forEach(function(t){Is[t]=function(e){return"string"==typeof e&&(e={message:e}),e.type=t,Is(e)}}),Is.close=function(t,e){for(var i=xs.length,a=-1,n=void 0,r=0;r<i;r++)if(t===xs[r].id){n=xs[r].$el.offsetHeight,a=r,"function"==typeof e&&e(xs[r]),xs.splice(r,1);break}if(!(i<=1||-1===a||a>xs.length-1))for(var o=a;o<i-1;o++){var s=xs[o].$el;s.style.top=parseInt(s.style.top,10)-n-16+"px"}},Is.closeAll=function(){for(var t=xs.length-1;t>=0;t--)xs[t].close()};var Ts=Is,bs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-badge"},[t._t("default"),i("transition",{attrs:{name:"el-zoom-in-center"}},[i("sup",{directives:[{name:"show",rawName:"v-show",value:!t.hidden&&(t.content||0===t.content||t.isDot),expression:"!hidden && (content || content === 0 || isDot)"}],staticClass:"el-badge__content",class:["el-badge__content--"+t.type,{"is-fixed":t.$slots.default,"is-dot":t.isDot}],domProps:{textContent:t._s(t.content)}})])],2)};bs._withStripped=!0;var ws=n({name:"ElBadge",props:{value:[String,Number],max:Number,isDot:Boolean,hidden:Boolean,type:{type:String,validator:function(t){return["primary","success","warning","info","danger"].indexOf(t)>-1}}},computed:{content:function(){if(!this.isDot){var t=this.value,e=this.max;return"number"==typeof t&&"number"==typeof e&&e<t?e+"+":t}}}},bs,[],!1,null,null,null);ws.options.__file="packages/badge/src/main.vue";var Ms=ws.exports;Ms.install=function(t){t.component(Ms.name,Ms)};var Es=Ms,As=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-card",class:t.shadow?"is-"+t.shadow+"-shadow":"is-always-shadow"},[t.$slots.header||t.header?i("div",{staticClass:"el-card__header"},[t._t("header",[t._v(t._s(t.header))])],2):t._e(),i("div",{staticClass:"el-card__body",style:t.bodyStyle},[t._t("default")],2)])};As._withStripped=!0;var _s=n({name:"ElCard",props:{header:{},bodyStyle:{},shadow:{type:String}}},As,[],!1,null,null,null);_s.options.__file="packages/card/src/main.vue";var Ls=_s.exports;Ls.install=function(t){t.component(Ls.name,Ls)};var Fs=Ls,Os=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-rate",attrs:{role:"slider","aria-valuenow":t.currentValue,"aria-valuetext":t.text,"aria-valuemin":"0","aria-valuemax":t.max,tabindex:"0"},on:{keydown:t.handleKey}},[t._l(t.max,function(e,a){return i("span",{key:a,staticClass:"el-rate__item",style:{cursor:t.rateDisabled?"auto":"pointer"},on:{mousemove:function(i){t.setCurrentValue(e,i)},mouseleave:t.resetCurrentValue,click:function(i){t.selectValue(e)}}},[i("i",{staticClass:"el-rate__icon",class:[t.classes[e-1],{hover:t.hoverIndex===e}],style:t.getIconStyle(e)},[t.showDecimalIcon(e)?i("i",{staticClass:"el-rate__decimal",class:t.decimalIconClass,style:t.decimalStyle}):t._e()])])}),t.showText||t.showScore?i("span",{staticClass:"el-rate__text",style:{color:t.textColor}},[t._v(t._s(t.text))]):t._e()],2)};Os._withStripped=!0;var Ps=i(18),Ns=n({name:"ElRate",mixins:[S.a],inject:{elForm:{default:""}},data:function(){return{pointerAtLeftHalf:!0,currentValue:this.value,hoverIndex:-1}},props:{value:{type:Number,default:0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:[Array,Object],default:function(){return["#F7BA2A","#F7BA2A","#F7BA2A"]}},voidColor:{type:String,default:"#C6D1DE"},disabledVoidColor:{type:String,default:"#EFF2F7"},iconClasses:{type:[Array,Object],default:function(){return["el-icon-star-on","el-icon-star-on","el-icon-star-on"]}},voidIconClass:{type:String,default:"el-icon-star-off"},disabledVoidIconClass:{type:String,default:"el-icon-star-on"},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1},textColor:{type:String,default:"#1f2d3d"},texts:{type:Array,default:function(){return["极差","失望","一般","满意","惊喜"]}},scoreTemplate:{type:String,default:"{value}"}},computed:{text:function(){var t="";return this.showScore?t=this.scoreTemplate.replace(/\{\s*value\s*\}/,this.rateDisabled?this.value:this.currentValue):this.showText&&(t=this.texts[Math.ceil(this.currentValue)-1]),t},decimalStyle:function(){var t="";return this.rateDisabled?t=this.valueDecimal+"%":this.allowHalf&&(t="50%"),{color:this.activeColor,width:t}},valueDecimal:function(){return 100*this.value-100*Math.floor(this.value)},classMap:function(){var t;return Array.isArray(this.iconClasses)?((t={})[this.lowThreshold]=this.iconClasses[0],t[this.highThreshold]={value:this.iconClasses[1],excluded:!0},t[this.max]=this.iconClasses[2],t):this.iconClasses},decimalIconClass:function(){return this.getValueFromMap(this.value,this.classMap)},voidClass:function(){return this.rateDisabled?this.disabledVoidIconClass:this.voidIconClass},activeClass:function(){return this.getValueFromMap(this.currentValue,this.classMap)},colorMap:function(){var t;return Array.isArray(this.colors)?((t={})[this.lowThreshold]=this.colors[0],t[this.highThreshold]={value:this.colors[1],excluded:!0},t[this.max]=this.colors[2],t):this.colors},activeColor:function(){return this.getValueFromMap(this.currentValue,this.colorMap)},classes:function(){var t=[],e=0,i=this.currentValue;for(this.allowHalf&&this.currentValue!==Math.floor(this.currentValue)&&i--;e<i;e++)t.push(this.activeClass);for(;e<this.max;e++)t.push(this.voidClass);return t},rateDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(t){this.currentValue=t,this.pointerAtLeftHalf=this.value!==Math.floor(this.value)}},methods:{getMigratingConfig:function(){return{props:{"text-template":"text-template is renamed to score-template."}}},getValueFromMap:function(t,e){var i=Object.keys(e).filter(function(i){var a=e[i];return!!Object(Ps.isObject)(a)&&a.excluded?t<i:t<=i}).sort(function(t,e){return t-e}),a=e[i[0]];return Object(Ps.isObject)(a)?a.value:a||""},showDecimalIcon:function(t){var e=this.rateDisabled&&this.valueDecimal>0&&t-1<this.value&&t>this.value,i=this.allowHalf&&this.pointerAtLeftHalf&&t-.5<=this.currentValue&&t>this.currentValue;return e||i},getIconStyle:function(t){var e=this.rateDisabled?this.disabledVoidColor:this.voidColor;return{color:t<=this.currentValue?this.activeColor:e}},selectValue:function(t){this.rateDisabled||(this.allowHalf&&this.pointerAtLeftHalf?(this.$emit("input",this.currentValue),this.$emit("change",this.currentValue)):(this.$emit("input",t),this.$emit("change",t)))},handleKey:function(t){if(!this.rateDisabled){var e=this.currentValue,i=t.keyCode;38===i||39===i?(this.allowHalf?e+=.5:e+=1,t.stopPropagation(),t.preventDefault()):37!==i&&40!==i||(this.allowHalf?e-=.5:e-=1,t.stopPropagation(),t.preventDefault()),e=(e=e<0?0:e)>this.max?this.max:e,this.$emit("input",e),this.$emit("change",e)}},setCurrentValue:function(t,e){if(!this.rateDisabled){if(this.allowHalf){var i=e.target;Object(pt.hasClass)(i,"el-rate__item")&&(i=i.querySelector(".el-rate__icon")),Object(pt.hasClass)(i,"el-rate__decimal")&&(i=i.parentNode),this.pointerAtLeftHalf=2*e.offsetX<=i.clientWidth,this.currentValue=this.pointerAtLeftHalf?t-.5:t}else this.currentValue=t;this.hoverIndex=t}},resetCurrentValue:function(){this.rateDisabled||(this.allowHalf&&(this.pointerAtLeftHalf=this.value!==Math.floor(this.value)),this.currentValue=this.value,this.hoverIndex=-1)}},created:function(){this.value||this.$emit("input",0)}},Os,[],!1,null,null,null);Ns.options.__file="packages/rate/src/main.vue";var Rs=Ns.exports;Rs.install=function(t){t.component(Rs.name,Rs)};var Bs=Rs,ks=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-steps",class:[!this.simple&&"el-steps--"+this.direction,this.simple&&"el-steps--simple"]},[this._t("default")],2)};ks._withStripped=!0;var Vs=n({name:"ElSteps",mixins:[S.a],props:{space:[Number,String],active:Number,direction:{type:String,default:"horizontal"},alignCenter:Boolean,simple:Boolean,finishStatus:{type:String,default:"finish"},processStatus:{type:String,default:"process"}},data:function(){return{steps:[],stepOffset:0}},methods:{getMigratingConfig:function(){return{props:{center:"center is removed."}}}},watch:{active:function(t,e){this.$emit("change",t,e)},steps:function(t){t.forEach(function(t,e){t.index=e})}}},ks,[],!1,null,null,null);Vs.options.__file="packages/steps/src/steps.vue";var Hs=Vs.exports;Hs.install=function(t){t.component(Hs.name,Hs)};var Gs=Hs,Ys=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-step",class:[!t.isSimple&&"is-"+t.$parent.direction,t.isSimple&&"is-simple",t.isLast&&!t.space&&!t.isCenter&&"is-flex",t.isCenter&&!t.isVertical&&!t.isSimple&&"is-center"],style:t.style},[i("div",{staticClass:"el-step__head",class:"is-"+t.currentStatus},[i("div",{staticClass:"el-step__line",style:t.isLast?"":{marginRight:t.$parent.stepOffset+"px"}},[i("i",{staticClass:"el-step__line-inner",style:t.lineStyle})]),i("div",{staticClass:"el-step__icon",class:"is-"+(t.icon?"icon":"text")},["success"!==t.currentStatus&&"error"!==t.currentStatus?t._t("icon",[t.icon?i("i",{staticClass:"el-step__icon-inner",class:[t.icon]}):t._e(),t.icon||t.isSimple?t._e():i("div",{staticClass:"el-step__icon-inner"},[t._v(t._s(t.index+1))])]):i("i",{staticClass:"el-step__icon-inner is-status",class:["el-icon-"+("success"===t.currentStatus?"check":"close")]})],2)]),i("div",{staticClass:"el-step__main"},[i("div",{ref:"title",staticClass:"el-step__title",class:["is-"+t.currentStatus]},[t._t("title",[t._v(t._s(t.title))])],2),t.isSimple?i("div",{staticClass:"el-step__arrow"}):i("div",{staticClass:"el-step__description",class:["is-"+t.currentStatus]},[t._t("description",[t._v(t._s(t.description))])],2)])])};Ys._withStripped=!0;var Ws=n({name:"ElStep",props:{title:String,icon:String,description:String,status:String},data:function(){return{index:-1,lineStyle:{},internalStatus:""}},beforeCreate:function(){this.$parent.steps.push(this)},beforeDestroy:function(){var t=this.$parent.steps,e=t.indexOf(this);e>=0&&t.splice(e,1)},computed:{currentStatus:function(){return this.status||this.internalStatus},prevStatus:function(){var t=this.$parent.steps[this.index-1];return t?t.currentStatus:"wait"},isCenter:function(){return this.$parent.alignCenter},isVertical:function(){return"vertical"===this.$parent.direction},isSimple:function(){return this.$parent.simple},isLast:function(){var t=this.$parent;return t.steps[t.steps.length-1]===this},stepsCount:function(){return this.$parent.steps.length},space:function(){var t=this.isSimple,e=this.$parent.space;return t?"":e},style:function(){var t={},e=this.$parent.steps.length,i="number"==typeof this.space?this.space+"px":this.space?this.space:100/(e-(this.isCenter?0:1))+"%";return t.flexBasis=i,this.isVertical?t:(this.isLast?t.maxWidth=100/this.stepsCount+"%":t.marginRight=-this.$parent.stepOffset+"px",t)}},methods:{updateStatus:function(t){var e=this.$parent.$children[this.index-1];t>this.index?this.internalStatus=this.$parent.finishStatus:t===this.index&&"error"!==this.prevStatus?this.internalStatus=this.$parent.processStatus:this.internalStatus="wait",e&&e.calcProgress(this.internalStatus)},calcProgress:function(t){var e=100,i={};i.transitionDelay=150*this.index+"ms",t===this.$parent.processStatus?(this.currentStatus,e=0):"wait"===t&&(e=0,i.transitionDelay=-150*this.index+"ms"),i.borderWidth=e&&!this.isSimple?"1px":0,"vertical"===this.$parent.direction?i.height=e+"%":i.width=e+"%",this.lineStyle=i}},mounted:function(){var t=this,e=this.$watch("index",function(i){t.$watch("$parent.active",t.updateStatus,{immediate:!0}),t.$watch("$parent.processStatus",function(){var e=t.$parent.active;t.updateStatus(e)},{immediate:!0}),e()})}},Ys,[],!1,null,null,null);Ws.options.__file="packages/steps/src/step.vue";var Xs=Ws.exports;Xs.install=function(t){t.component(Xs.name,Xs)};var Us=Xs,zs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.carouselClasses,on:{mouseenter:function(e){return e.stopPropagation(),t.handleMouseEnter(e)},mouseleave:function(e){return e.stopPropagation(),t.handleMouseLeave(e)}}},[i("div",{staticClass:"el-carousel__container",style:{height:t.height}},[t.arrowDisplay?i("transition",{attrs:{name:"carousel-arrow-left"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:("always"===t.arrow||t.hover)&&(t.loop||t.activeIndex>0),expression:"(arrow === 'always' || hover) && (loop || activeIndex > 0)"}],staticClass:"el-carousel__arrow el-carousel__arrow--left",attrs:{type:"button"},on:{mouseenter:function(e){t.handleButtonEnter("left")},mouseleave:t.handleButtonLeave,click:function(e){e.stopPropagation(),t.throttledArrowClick(t.activeIndex-1)}}},[i("i",{staticClass:"el-icon-arrow-left"})])]):t._e(),t.arrowDisplay?i("transition",{attrs:{name:"carousel-arrow-right"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:("always"===t.arrow||t.hover)&&(t.loop||t.activeIndex<t.items.length-1),expression:"(arrow === 'always' || hover) && (loop || activeIndex < items.length - 1)"}],staticClass:"el-carousel__arrow el-carousel__arrow--right",attrs:{type:"button"},on:{mouseenter:function(e){t.handleButtonEnter("right")},mouseleave:t.handleButtonLeave,click:function(e){e.stopPropagation(),t.throttledArrowClick(t.activeIndex+1)}}},[i("i",{staticClass:"el-icon-arrow-right"})])]):t._e(),t._t("default")],2),"none"!==t.indicatorPosition?i("ul",{class:t.indicatorsClasses},t._l(t.items,function(e,a){return i("li",{key:a,class:["el-carousel__indicator","el-carousel__indicator--"+t.direction,{"is-active":a===t.activeIndex}],on:{mouseenter:function(e){t.throttledIndicatorHover(a)},click:function(e){e.stopPropagation(),t.handleIndicatorClick(a)}}},[i("button",{staticClass:"el-carousel__button"},[t.hasLabel?i("span",[t._v(t._s(e.label))]):t._e()])])}),0):t._e()])};zs._withStripped=!0;var Ks=i(25),$s=i.n(Ks),js=n({name:"ElCarousel",props:{initialIndex:{type:Number,default:0},height:String,trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:String,indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:String,loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator:function(t){return-1!==["horizontal","vertical"].indexOf(t)}}},data:function(){return{items:[],activeIndex:-1,containerWidth:0,timer:null,hover:!1}},computed:{arrowDisplay:function(){return"never"!==this.arrow&&"vertical"!==this.direction},hasLabel:function(){return this.items.some(function(t){return t.label.toString().length>0})},carouselClasses:function(){var t=["el-carousel","el-carousel--"+this.direction];return"card"===this.type&&t.push("el-carousel--card"),t},indicatorsClasses:function(){var t=["el-carousel__indicators","el-carousel__indicators--"+this.direction];return this.hasLabel&&t.push("el-carousel__indicators--labels"),"outside"!==this.indicatorPosition&&"card"!==this.type||t.push("el-carousel__indicators--outside"),t}},watch:{items:function(t){t.length>0&&this.setActiveItem(this.initialIndex)},activeIndex:function(t,e){this.resetItemPosition(e),e>-1&&this.$emit("change",t,e)},autoplay:function(t){t?this.startTimer():this.pauseTimer()},loop:function(){this.setActiveItem(this.activeIndex)}},methods:{handleMouseEnter:function(){this.hover=!0,this.pauseTimer()},handleMouseLeave:function(){this.hover=!1,this.startTimer()},itemInStage:function(t,e){var i=this.items.length;return e===i-1&&t.inStage&&this.items[0].active||t.inStage&&this.items[e+1]&&this.items[e+1].active?"left":!!(0===e&&t.inStage&&this.items[i-1].active||t.inStage&&this.items[e-1]&&this.items[e-1].active)&&"right"},handleButtonEnter:function(t){var e=this;"vertical"!==this.direction&&this.items.forEach(function(i,a){t===e.itemInStage(i,a)&&(i.hover=!0)})},handleButtonLeave:function(){"vertical"!==this.direction&&this.items.forEach(function(t){t.hover=!1})},updateItems:function(){this.items=this.$children.filter(function(t){return"ElCarouselItem"===t.$options.name})},resetItemPosition:function(t){var e=this;this.items.forEach(function(i,a){i.translateItem(a,e.activeIndex,t)})},playSlides:function(){this.activeIndex<this.items.length-1?this.activeIndex++:this.loop&&(this.activeIndex=0)},pauseTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},startTimer:function(){this.interval<=0||!this.autoplay||this.timer||(this.timer=setInterval(this.playSlides,this.interval))},setActiveItem:function(t){if("string"==typeof t){var e=this.items.filter(function(e){return e.name===t});e.length>0&&(t=this.items.indexOf(e[0]))}if(t=Number(t),isNaN(t)||t!==Math.floor(t))console.warn("[Element Warn][Carousel]index must be an integer.");else{var i=this.items.length,a=this.activeIndex;this.activeIndex=t<0?this.loop?i-1:0:t>=i?this.loop?0:i-1:t,a===this.activeIndex&&this.resetItemPosition(a)}},prev:function(){this.setActiveItem(this.activeIndex-1)},next:function(){this.setActiveItem(this.activeIndex+1)},handleIndicatorClick:function(t){this.activeIndex=t},handleIndicatorHover:function(t){"hover"===this.trigger&&t!==this.activeIndex&&(this.activeIndex=t)}},created:function(){var t=this;this.throttledArrowClick=$s()(300,!0,function(e){t.setActiveItem(e)}),this.throttledIndicatorHover=$s()(300,function(e){t.handleIndicatorHover(e)})},mounted:function(){var t=this;this.updateItems(),this.$nextTick(function(){Object(Re.addResizeListener)(t.$el,t.resetItemPosition),t.initialIndex<t.items.length&&t.initialIndex>=0&&(t.activeIndex=t.initialIndex),t.startTimer()})},beforeDestroy:function(){this.$el&&Object(Re.removeResizeListener)(this.$el,this.resetItemPosition),this.pauseTimer()}},zs,[],!1,null,null,null);js.options.__file="packages/carousel/src/main.vue";var qs=js.exports;qs.install=function(t){t.component(qs.name,qs)};var Js=qs,Zs={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};var Qs={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return Zs[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(t){var e=this.size,i=this.move,a=this.bar;return t("div",{class:["el-scrollbar__bar","is-"+a.key],on:{mousedown:this.clickTrackHandler}},[t("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:function(t){var e=t.move,i=t.size,a=t.bar,n={},r="translate"+a.axis+"("+e+"%)";return n[a.size]=i,n.transform=r,n.msTransform=r,n.webkitTransform=r,n}({size:e,move:i,bar:a})})])},methods:{clickThumbHandler:function(t){t.ctrlKey||2===t.button||(this.startDrag(t),this[this.bar.axis]=t.currentTarget[this.bar.offset]-(t[this.bar.client]-t.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(t){var e=100*(Math.abs(t.target.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-this.$refs.thumb[this.bar.offset]/2)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=e*this.wrap[this.bar.scrollSize]/100},startDrag:function(t){t.stopImmediatePropagation(),this.cursorDown=!0,Object(pt.on)(document,"mousemove",this.mouseMoveDocumentHandler),Object(pt.on)(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(t){if(!1!==this.cursorDown){var e=this[this.bar.axis];if(e){var i=100*(-1*(this.$el.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-(this.$refs.thumb[this.bar.offset]-e))/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=i*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(t){this.cursorDown=!1,this[this.bar.axis]=0,Object(pt.off)(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(pt.off)(document,"mouseup",this.mouseUpDocumentHandler)}},tl={name:"ElScrollbar",components:{Bar:Qs},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(t){var e=Ni()(),i=this.wrapStyle;if(e){var a="-"+e+"px",n="margin-bottom: "+a+"; margin-right: "+a+";";Array.isArray(this.wrapStyle)?(i=Object(m.toObject)(this.wrapStyle)).marginRight=i.marginBottom=a:"string"==typeof this.wrapStyle?i+=n:i=n}var r=t(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),o=t("div",{ref:"wrap",style:i,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",e?"":"el-scrollbar__wrap--hidden-default"]},[[r]]);return t("div",{class:"el-scrollbar"},this.native?[t("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:i},[[r]])]:[o,t(Qs,{attrs:{move:this.moveX,size:this.sizeWidth}}),t(Qs,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})])},methods:{handleScroll:function(){var t=this.wrap;this.moveY=100*t.scrollTop/t.clientHeight,this.moveX=100*t.scrollLeft/t.clientWidth},update:function(){var t,e,i=this.wrap;i&&(t=100*i.clientHeight/i.scrollHeight,e=100*i.clientWidth/i.scrollWidth,this.sizeHeight=t<100?t+"%":"",this.sizeWidth=e<100?e+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(Re.addResizeListener)(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(Re.removeResizeListener)(this.$refs.resize,this.update)},install:function(t){t.component(tl.name,tl)}},el=tl,il=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.ready,expression:"ready"}],staticClass:"el-carousel__item",class:{"is-active":t.active,"el-carousel__item--card":"card"===t.$parent.type,"is-in-stage":t.inStage,"is-hover":t.hover,"is-animating":t.animating},style:t.itemStyle,on:{click:t.handleItemClick}},["card"===t.$parent.type?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.active,expression:"!active"}],staticClass:"el-carousel__mask"}):t._e(),t._t("default")],2)};il._withStripped=!0;var al=n({name:"ElCarouselItem",props:{name:String,label:{type:[String,Number],default:""}},data:function(){return{hover:!1,translate:0,scale:1,active:!1,ready:!1,inStage:!1,animating:!1}},methods:{processIndex:function(t,e,i){return 0===e&&t===i-1?-1:e===i-1&&0===t?i:t<e-1&&e-t>=i/2?i+1:t>e+1&&t-e>=i/2?-2:t},calcCardTranslate:function(t,e){var i=this.$parent.$el.offsetWidth;return this.inStage?i*(1.17*(t-e)+1)/4:t<e?-1.83*i/4:3.83*i/4},calcTranslate:function(t,e,i){return this.$parent.$el[i?"offsetHeight":"offsetWidth"]*(t-e)},translateItem:function(t,e,i){var a=this.$parent.type,n=this.parentDirection,r=this.$parent.items.length;if("card"!==a&&void 0!==i&&(this.animating=t===e||t===i),t!==e&&r>2&&this.$parent.loop&&(t=this.processIndex(t,e,r)),"card"===a)"vertical"===n&&console.warn("[Element Warn][Carousel]vertical directionis not supported in card mode"),this.inStage=Math.round(Math.abs(t-e))<=1,this.active=t===e,this.translate=this.calcCardTranslate(t,e),this.scale=this.active?1:.83;else{this.active=t===e;var o="vertical"===n;this.translate=this.calcTranslate(t,e,o)}this.ready=!0},handleItemClick:function(){var t=this.$parent;if(t&&"card"===t.type){var e=t.items.indexOf(this);t.setActiveItem(e)}}},computed:{parentDirection:function(){return this.$parent.direction},itemStyle:function(){var t={transform:("vertical"===this.parentDirection?"translateY":"translateX")+"("+this.translate+"px) scale("+this.scale+")"};return Object(m.autoprefixer)(t)}},created:function(){this.$parent&&this.$parent.updateItems()},destroyed:function(){this.$parent&&this.$parent.updateItems()}},il,[],!1,null,null,null);al.options.__file="packages/carousel/src/item.vue";var nl=al.exports;nl.install=function(t){t.component(nl.name,nl)};var rl=nl,ol=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-collapse",attrs:{role:"tablist","aria-multiselectable":"true"}},[this._t("default")],2)};ol._withStripped=!0;var sl=n({name:"ElCollapse",componentName:"ElCollapse",props:{accordion:Boolean,value:{type:[Array,String,Number],default:function(){return[]}}},data:function(){return{activeNames:[].concat(this.value)}},provide:function(){return{collapse:this}},watch:{value:function(t){this.activeNames=[].concat(t)}},methods:{setActiveNames:function(t){t=[].concat(t);var e=this.accordion?t[0]:t;this.activeNames=t,this.$emit("input",e),this.$emit("change",e)},handleItemClick:function(t){if(this.accordion)this.setActiveNames(!this.activeNames[0]&&0!==this.activeNames[0]||this.activeNames[0]!==t.name?t.name:"");else{var e=this.activeNames.slice(0),i=e.indexOf(t.name);i>-1?e.splice(i,1):e.push(t.name),this.setActiveNames(e)}}},created:function(){this.$on("item-click",this.handleItemClick)}},ol,[],!1,null,null,null);sl.options.__file="packages/collapse/src/collapse.vue";var ll=sl.exports;ll.install=function(t){t.component(ll.name,ll)};var hl=ll,ul=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-collapse-item",class:{"is-active":t.isActive,"is-disabled":t.disabled}},[i("div",{attrs:{role:"tab","aria-expanded":t.isActive,"aria-controls":"el-collapse-content-"+t.id,"aria-describedby":"el-collapse-content-"+t.id}},[i("div",{staticClass:"el-collapse-item__header",class:{focusing:t.focusing,"is-active":t.isActive},attrs:{role:"button",id:"el-collapse-head-"+t.id,tabindex:t.disabled?void 0:0},on:{click:t.handleHeaderClick,keyup:function(e){return"button"in e||!t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.stopPropagation(),t.handleEnterClick(e)):null},focus:t.handleFocus,blur:function(e){t.focusing=!1}}},[t._t("title",[t._v(t._s(t.title))]),i("i",{staticClass:"el-collapse-item__arrow el-icon-arrow-right",class:{"is-active":t.isActive}})],2)]),i("el-collapse-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"el-collapse-item__wrap",attrs:{role:"tabpanel","aria-hidden":!t.isActive,"aria-labelledby":"el-collapse-head-"+t.id,id:"el-collapse-content-"+t.id}},[i("div",{staticClass:"el-collapse-item__content"},[t._t("default")],2)])])],1)};ul._withStripped=!0;var cl=n({name:"ElCollapseItem",componentName:"ElCollapseItem",mixins:[T.a],components:{ElCollapseTransition:Dt.a},data:function(){return{contentWrapStyle:{height:"auto",display:"block"},contentHeight:0,focusing:!1,isClick:!1,id:Object(m.generateId)()}},inject:["collapse"],props:{title:String,name:{type:[String,Number],default:function(){return this._uid}},disabled:Boolean},computed:{isActive:function(){return this.collapse.activeNames.indexOf(this.name)>-1}},methods:{handleFocus:function(){var t=this;setTimeout(function(){t.isClick?t.isClick=!1:t.focusing=!0},50)},handleHeaderClick:function(){this.disabled||(this.dispatch("ElCollapse","item-click",this),this.focusing=!1,this.isClick=!0)},handleEnterClick:function(){this.dispatch("ElCollapse","item-click",this)}}},ul,[],!1,null,null,null);cl.options.__file="packages/collapse/src/collapse-item.vue";var dl=cl.exports;dl.install=function(t){t.component(dl.name,dl)};var fl=dl,pl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:function(){return t.toggleDropDownVisible(!1)},expression:"() => toggleDropDownVisible(false)"}],ref:"reference",class:["el-cascader",t.realSize&&"el-cascader--"+t.realSize,{"is-disabled":t.isDisabled}],on:{mouseenter:function(e){t.inputHover=!0},mouseleave:function(e){t.inputHover=!1},click:function(){return t.toggleDropDownVisible(!t.readonly||void 0)},keydown:t.handleKeyDown}},[i("el-input",{ref:"input",class:{"is-focus":t.dropDownVisible},attrs:{size:t.realSize,placeholder:t.placeholder,readonly:t.readonly,disabled:t.isDisabled,"validate-event":!1},on:{focus:t.handleFocus,blur:t.handleBlur,input:t.handleInput},model:{value:t.multiple?t.presentText:t.inputValue,callback:function(e){t.multiple?t.presentText:t.inputValue=e},expression:"multiple ? presentText : inputValue"}},[i("template",{slot:"suffix"},[t.clearBtnVisible?i("i",{key:"clear",staticClass:"el-input__icon el-icon-circle-close",on:{click:function(e){return e.stopPropagation(),t.handleClear(e)}}}):i("i",{key:"arrow-down",class:["el-input__icon","el-icon-arrow-down",t.dropDownVisible&&"is-reverse"],on:{click:function(e){e.stopPropagation(),t.toggleDropDownVisible()}}})])],2),t.multiple?i("div",{staticClass:"el-cascader__tags"},[t._l(t.presentTags,function(e,a){return i("el-tag",{key:e.key,attrs:{type:"info",size:t.tagSize,hit:e.hitState,closable:e.closable,"disable-transitions":""},on:{close:function(e){t.deleteTag(a)}}},[i("span",[t._v(t._s(e.text))])])}),t.filterable&&!t.isDisabled?i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputValue,expression:"inputValue",modifiers:{trim:!0}}],staticClass:"el-cascader__search-input",attrs:{type:"text",placeholder:t.presentTags.length?"":t.placeholder},domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value.trim())},function(e){return t.handleInput(t.inputValue,e)}],click:function(e){e.stopPropagation(),t.toggleDropDownVisible(!0)},keydown:function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?t.handleDelete(e):null},blur:function(e){t.$forceUpdate()}}}):t._e()],2):t._e(),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.handleDropdownLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.dropDownVisible,expression:"dropDownVisible"}],ref:"popper",class:["el-popper","el-cascader__dropdown",t.popperClass]},[i("el-cascader-panel",{directives:[{name:"show",rawName:"v-show",value:!t.filtering,expression:"!filtering"}],ref:"panel",attrs:{options:t.options,props:t.config,border:!1,"render-label":t.$scopedSlots.default},on:{"expand-change":t.handleExpandChange,close:function(e){t.toggleDropDownVisible(!1)}},model:{value:t.checkedValue,callback:function(e){t.checkedValue=e},expression:"checkedValue"}}),t.filterable?i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.filtering,expression:"filtering"}],ref:"suggestionPanel",staticClass:"el-cascader__suggestion-panel",attrs:{tag:"ul","view-class":"el-cascader__suggestion-list"},nativeOn:{keydown:function(e){return t.handleSuggestionKeyDown(e)}}},[t.suggestions.length?t._l(t.suggestions,function(e,a){return i("li",{key:e.uid,class:["el-cascader__suggestion-item",e.checked&&"is-checked"],attrs:{tabindex:-1},on:{click:function(e){t.handleSuggestionClick(a)}}},[i("span",[t._v(t._s(e.text))]),e.checked?i("i",{staticClass:"el-icon-check"}):t._e()])}):t._t("empty",[i("li",{staticClass:"el-cascader__empty-text"},[t._v(t._s(t.t("el.cascader.noMatch")))])])],2):t._e()],1)])],1)};pl._withStripped=!0;var ml=i(42),vl=i.n(ml),gl=i(28),Cl=i.n(gl),Dl=Cl.a.keys,yl={expandTrigger:{newProp:"expandTrigger",type:String},changeOnSelect:{newProp:"checkStrictly",type:Boolean},hoverThreshold:{newProp:"hoverThreshold",type:Number}},xl={props:{placement:{type:String,default:"bottom-start"},appendToBody:N.a.props.appendToBody,visibleArrow:{type:Boolean,default:!0},arrowOffset:N.a.props.arrowOffset,offset:N.a.props.offset,boundariesPadding:N.a.props.boundariesPadding,popperOptions:N.a.props.popperOptions},methods:N.a.methods,data:N.a.data,beforeDestroy:N.a.beforeDestroy},Sl={medium:36,small:32,mini:28},Il=n({name:"ElCascader",directives:{Clickoutside:F.a},mixins:[xl,T.a,p.a,S.a],inject:{elForm:{default:""},elFormItem:{default:""}},components:{ElInput:d.a,ElTag:Ne.a,ElScrollbar:B.a,ElCascaderPanel:vl.a},props:{value:{},options:Array,props:Object,size:String,placeholder:{type:String,default:function(){return Object(Be.t)("el.cascader.placeholder")}},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:Function,separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,debounce:{type:Number,default:300},beforeFilter:{type:Function,default:function(){return function(){}}},popperClass:String},data:function(){return{dropDownVisible:!1,checkedValue:this.value||null,inputHover:!1,inputValue:null,presentText:null,presentTags:[],checkedNodes:[],filtering:!1,suggestions:[],inputInitialHeight:0,pressDeleteCount:0}},computed:{realSize:function(){var t=(this.elFormItem||{}).elFormItemSize;return this.size||t||(this.$ELEMENT||{}).size},tagSize:function(){return["small","mini"].indexOf(this.realSize)>-1?"mini":"small"},isDisabled:function(){return this.disabled||(this.elForm||{}).disabled},config:function(){var t=this.props||{},e=this.$attrs;return Object.keys(yl).forEach(function(i){var a=yl[i],n=a.newProp,r=a.type,o=e[i]||e[Object(m.kebabCase)(i)];Object(Yt.isDef)(i)&&!Object(Yt.isDef)(t[n])&&(r===Boolean&&""===o&&(o=!0),t[n]=o)}),t},multiple:function(){return this.config.multiple},leafOnly:function(){return!this.config.checkStrictly},readonly:function(){return!this.filterable||this.multiple},clearBtnVisible:function(){return!(!this.clearable||this.isDisabled||this.filtering||!this.inputHover)&&(this.multiple?!!this.checkedNodes.filter(function(t){return!t.isDisabled}).length:!!this.presentText)},panel:function(){return this.$refs.panel}},watch:{disabled:function(){this.computePresentContent()},value:function(t){Object(m.isEqual)(t,this.checkedValue)||(this.checkedValue=t,this.computePresentContent())},checkedValue:function(t){var e=this.value,i=this.dropDownVisible,a=this.config,n=a.checkStrictly,r=a.multiple;Object(m.isEqual)(t,e)&&!Object(Ps.isUndefined)(e)||(this.computePresentContent(),r||n||!i||this.toggleDropDownVisible(!1),this.$emit("input",t),this.$emit("change",t),this.dispatch("ElFormItem","el.form.change",[t]))},options:{handler:function(){this.$nextTick(this.computePresentContent)},deep:!0},presentText:function(t){this.inputValue=t},presentTags:function(t,e){this.multiple&&(t.length||e.length)&&this.$nextTick(this.updateStyle)},filtering:function(t){this.$nextTick(this.updatePopper)}},mounted:function(){var t=this,e=this.$refs.input;e&&e.$el&&(this.inputInitialHeight=e.$el.offsetHeight||Sl[this.realSize]||40),Object(m.isEmpty)(this.value)||this.computePresentContent(),this.filterHandler=_()(this.debounce,function(){var e=t.inputValue;if(e){var i=t.beforeFilter(e);i&&i.then?i.then(t.getSuggestions):!1!==i?t.getSuggestions():t.filtering=!1}else t.filtering=!1}),Object(Re.addResizeListener)(this.$el,this.updateStyle)},beforeDestroy:function(){Object(Re.removeResizeListener)(this.$el,this.updateStyle)},methods:{getMigratingConfig:function(){return{props:{"expand-trigger":"expand-trigger is removed, use `props.expandTrigger` instead.","change-on-select":"change-on-select is removed, use `props.checkStrictly` instead.","hover-threshold":"hover-threshold is removed, use `props.hoverThreshold` instead"},events:{"active-item-change":"active-item-change is renamed to expand-change"}}},toggleDropDownVisible:function(t){var e=this;if(!this.isDisabled){var i=this.dropDownVisible,a=this.$refs.input;(t=Object(Yt.isDef)(t)?t:!i)!==i&&(this.dropDownVisible=t,t&&this.$nextTick(function(){e.updatePopper(),e.panel.scrollIntoView()}),a.$refs.input.setAttribute("aria-expanded",t),this.$emit("visible-change",t))}},handleDropdownLeave:function(){this.filtering=!1,this.inputValue=this.presentText},handleKeyDown:function(t){switch(t.keyCode){case Dl.enter:this.toggleDropDownVisible();break;case Dl.down:this.toggleDropDownVisible(!0),this.focusFirstNode(),t.preventDefault();break;case Dl.esc:case Dl.tab:this.toggleDropDownVisible(!1)}},handleFocus:function(t){this.$emit("focus",t)},handleBlur:function(t){this.$emit("blur",t)},handleInput:function(t,e){!this.dropDownVisible&&this.toggleDropDownVisible(!0),e&&e.isComposing||(t?this.filterHandler():this.filtering=!1)},handleClear:function(){this.presentText="",this.panel.clearCheckedNodes()},handleExpandChange:function(t){this.$nextTick(this.updatePopper.bind(this)),this.$emit("expand-change",t),this.$emit("active-item-change",t)},focusFirstNode:function(){var t=this;this.$nextTick(function(){var e=t.filtering,i=t.$refs,a=i.popper,n=i.suggestionPanel,r=null;e&&n?r=n.$el.querySelector(".el-cascader__suggestion-item"):r=a.querySelector(".el-cascader-menu").querySelector('.el-cascader-node[tabindex="-1"]');r&&(r.focus(),!e&&r.click())})},computePresentContent:function(){var t=this;this.$nextTick(function(){t.config.multiple?(t.computePresentTags(),t.presentText=t.presentTags.length?" ":null):t.computePresentText()})},computePresentText:function(){var t=this.checkedValue,e=this.config;if(!Object(m.isEmpty)(t)){var i=this.panel.getNodeByValue(t);if(i&&(e.checkStrictly||i.isLeaf))return void(this.presentText=i.getText(this.showAllLevels,this.separator))}this.presentText=null},computePresentTags:function(){var t=this.isDisabled,e=this.leafOnly,i=this.showAllLevels,a=this.separator,n=this.collapseTags,r=this.getCheckedNodes(e),o=[],s=function(e){return{node:e,key:e.uid,text:e.getText(i,a),hitState:!1,closable:!t&&!e.isDisabled}};if(r.length){var l=r[0],h=r.slice(1),u=h.length;o.push(s(l)),u&&(n?o.push({key:-1,text:"+ "+u,closable:!1}):h.forEach(function(t){return o.push(s(t))}))}this.checkedNodes=r,this.presentTags=o},getSuggestions:function(){var t=this,e=this.filterMethod;Object(Ps.isFunction)(e)||(e=function(t,e){return t.text.includes(e)});var i=this.panel.getFlattedNodes(this.leafOnly).filter(function(i){return!i.isDisabled&&(i.text=i.getText(t.showAllLevels,t.separator)||"",e(i,t.inputValue))});this.multiple?this.presentTags.forEach(function(t){t.hitState=!1}):i.forEach(function(e){e.checked=Object(m.isEqual)(t.checkedValue,e.getValueByOption())}),this.filtering=!0,this.suggestions=i,this.$nextTick(this.updatePopper)},handleSuggestionKeyDown:function(t){var e=t.keyCode,i=t.target;switch(e){case Dl.enter:i.click();break;case Dl.up:var a=i.previousElementSibling;a&&a.focus();break;case Dl.down:var n=i.nextElementSibling;n&&n.focus();break;case Dl.esc:case Dl.tab:this.toggleDropDownVisible(!1)}},handleDelete:function(){var t=this.inputValue,e=this.pressDeleteCount,i=this.presentTags,a=i.length-1,n=i[a];this.pressDeleteCount=t?0:e+1,n&&this.pressDeleteCount&&(n.hitState?this.deleteTag(a):n.hitState=!0)},handleSuggestionClick:function(t){var e=this.multiple,i=this.suggestions[t];if(e){var a=i.checked;i.doCheck(!a),this.panel.calculateMultiCheckedValue()}else this.checkedValue=i.getValueByOption(),this.toggleDropDownVisible(!1)},deleteTag:function(t){var e=this.checkedValue,i=e[t];this.checkedValue=e.filter(function(e,i){return i!==t}),this.$emit("remove-tag",i)},updateStyle:function(){var t=this.$el,e=this.inputInitialHeight;if(!this.$isServer&&t){var i=this.$refs.suggestionPanel,a=t.querySelector(".el-input__inner");if(a){var n=t.querySelector(".el-cascader__tags"),r=null;if(i&&(r=i.$el))r.querySelector(".el-cascader__suggestion-list").style.minWidth=a.offsetWidth+"px";if(n){var o=n.offsetHeight,s=Math.max(o+6,e)+"px";a.style.height=s,this.updatePopper()}}}},getCheckedNodes:function(t){return this.panel.getCheckedNodes(t)}}},pl,[],!1,null,null,null);Il.options.__file="packages/cascader/src/cascader.vue";var Tl=Il.exports;Tl.install=function(t){t.component(Tl.name,Tl)};var bl=Tl,wl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.hide,expression:"hide"}],class:["el-color-picker",t.colorDisabled?"is-disabled":"",t.colorSize?"el-color-picker--"+t.colorSize:""]},[t.colorDisabled?i("div",{staticClass:"el-color-picker__mask"}):t._e(),i("div",{staticClass:"el-color-picker__trigger",on:{click:t.handleTrigger}},[i("span",{staticClass:"el-color-picker__color",class:{"is-alpha":t.showAlpha}},[i("span",{staticClass:"el-color-picker__color-inner",style:{backgroundColor:t.displayedColor}}),t.value||t.showPanelColor?t._e():i("span",{staticClass:"el-color-picker__empty el-icon-close"})]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.value||t.showPanelColor,expression:"value || showPanelColor"}],staticClass:"el-color-picker__icon el-icon-arrow-down"})]),i("picker-dropdown",{ref:"dropdown",class:["el-color-picker__panel",t.popperClass||""],attrs:{color:t.color,"show-alpha":t.showAlpha,predefine:t.predefine},on:{pick:t.confirmValue,clear:t.clearValue},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}})],1)};wl._withStripped=!0;var Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var El=function(t,e,i){return[t,e*i/((t=(2-e)*i)<1?t:2-t)||0,t/2]},Al=function(t,e){var i;"string"==typeof(i=t)&&-1!==i.indexOf(".")&&1===parseFloat(i)&&(t="100%");var a=function(t){return"string"==typeof t&&-1!==t.indexOf("%")}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),a&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)},_l={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Ll={A:10,B:11,C:12,D:13,E:14,F:15},Fl=function(t){return 2===t.length?16*(Ll[t[0].toUpperCase()]||+t[0])+(Ll[t[1].toUpperCase()]||+t[1]):Ll[t[1].toUpperCase()]||+t[1]},Ol=function(t,e,i){t=Al(t,255),e=Al(e,255),i=Al(i,255);var a,n=Math.max(t,e,i),r=Math.min(t,e,i),o=void 0,s=n,l=n-r;if(a=0===n?0:l/n,n===r)o=0;else{switch(n){case t:o=(e-i)/l+(e<i?6:0);break;case e:o=(i-t)/l+2;break;case i:o=(t-e)/l+4}o/=6}return{h:360*o,s:100*a,v:100*s}},Pl=function(t,e,i){t=6*Al(t,360),e=Al(e,100),i=Al(i,100);var a=Math.floor(t),n=t-a,r=i*(1-e),o=i*(1-n*e),s=i*(1-(1-n)*e),l=a%6,h=[i,o,r,r,s,i][l],u=[s,i,i,o,r,r][l],c=[r,r,s,i,i,o][l];return{r:Math.round(255*h),g:Math.round(255*u),b:Math.round(255*c)}},Nl=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",e=e||{})e.hasOwnProperty(i)&&(this[i]=e[i]);this.doOnChange()}return t.prototype.set=function(t,e){if(1!==arguments.length||"object"!==(void 0===t?"undefined":Ml(t)))this["_"+t]=e,this.doOnChange();else for(var i in t)t.hasOwnProperty(i)&&this.set(i,t[i])},t.prototype.get=function(t){return this["_"+t]},t.prototype.toRgb=function(){return Pl(this._hue,this._saturation,this._value)},t.prototype.fromString=function(t){var e=this;if(!t)return this._hue=0,this._saturation=100,this._value=100,void this.doOnChange();var i=function(t,i,a){e._hue=Math.max(0,Math.min(360,t)),e._saturation=Math.max(0,Math.min(100,i)),e._value=Math.max(0,Math.min(100,a)),e.doOnChange()};if(-1!==t.indexOf("hsl")){var a=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(function(t){return""!==t}).map(function(t,e){return e>2?parseFloat(t):parseInt(t,10)});if(4===a.length?this._alpha=Math.floor(100*parseFloat(a[3])):3===a.length&&(this._alpha=100),a.length>=3){var n=function(t,e,i){i/=100;var a=e/=100,n=Math.max(i,.01);return e*=(i*=2)<=1?i:2-i,a*=n<=1?n:2-n,{h:t,s:100*(0===i?2*a/(n+a):2*e/(i+e)),v:(i+e)/2*100}}(a[0],a[1],a[2]);i(n.h,n.s,n.v)}}else if(-1!==t.indexOf("hsv")){var r=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(function(t){return""!==t}).map(function(t,e){return e>2?parseFloat(t):parseInt(t,10)});4===r.length?this._alpha=Math.floor(100*parseFloat(r[3])):3===r.length&&(this._alpha=100),r.length>=3&&i(r[0],r[1],r[2])}else if(-1!==t.indexOf("rgb")){var o=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(function(t){return""!==t}).map(function(t,e){return e>2?parseFloat(t):parseInt(t,10)});if(4===o.length?this._alpha=Math.floor(100*parseFloat(o[3])):3===o.length&&(this._alpha=100),o.length>=3){var s=Ol(o[0],o[1],o[2]);i(s.h,s.s,s.v)}}else if(-1!==t.indexOf("#")){var l=t.replace("#","").trim();if(!/^(?:[0-9a-fA-F]{3}){1,2}$/.test(l))return;var h=void 0,u=void 0,c=void 0;3===l.length?(h=Fl(l[0]+l[0]),u=Fl(l[1]+l[1]),c=Fl(l[2]+l[2])):6!==l.length&&8!==l.length||(h=Fl(l.substring(0,2)),u=Fl(l.substring(2,4)),c=Fl(l.substring(4,6))),8===l.length?this._alpha=Math.floor(Fl(l.substring(6))/255*100):3!==l.length&&6!==l.length||(this._alpha=100);var d=Ol(h,u,c);i(d.h,d.s,d.v)}},t.prototype.compare=function(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1},t.prototype.doOnChange=function(){var t=this._hue,e=this._saturation,i=this._value,a=this._alpha,n=this.format;if(this.enableAlpha)switch(n){case"hsl":var r=El(t,e/100,i/100);this.value="hsla("+t+", "+Math.round(100*r[1])+"%, "+Math.round(100*r[2])+"%, "+a/100+")";break;case"hsv":this.value="hsva("+t+", "+Math.round(e)+"%, "+Math.round(i)+"%, "+a/100+")";break;default:var o=Pl(t,e,i),s=o.r,l=o.g,h=o.b;this.value="rgba("+s+", "+l+", "+h+", "+a/100+")"}else switch(n){case"hsl":var u=El(t,e/100,i/100);this.value="hsl("+t+", "+Math.round(100*u[1])+"%, "+Math.round(100*u[2])+"%)";break;case"hsv":this.value="hsv("+t+", "+Math.round(e)+"%, "+Math.round(i)+"%)";break;case"rgb":var c=Pl(t,e,i),d=c.r,f=c.g,p=c.b;this.value="rgb("+d+", "+f+", "+p+")";break;default:this.value=function(t){var e=t.r,i=t.g,a=t.b,n=function(t){t=Math.min(Math.round(t),255);var e=Math.floor(t/16),i=t%16;return""+(_l[e]||e)+(_l[i]||i)};return isNaN(e)||isNaN(i)||isNaN(a)?"":"#"+n(e)+n(i)+n(a)}(Pl(t,e,i))}},t}(),Rl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.doDestroy}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-color-dropdown"},[i("div",{staticClass:"el-color-dropdown__main-wrapper"},[i("hue-slider",{ref:"hue",staticStyle:{float:"right"},attrs:{color:t.color,vertical:""}}),i("sv-panel",{ref:"sl",attrs:{color:t.color}})],1),t.showAlpha?i("alpha-slider",{ref:"alpha",attrs:{color:t.color}}):t._e(),t.predefine?i("predefine",{attrs:{color:t.color,colors:t.predefine}}):t._e(),i("div",{staticClass:"el-color-dropdown__btns"},[i("span",{staticClass:"el-color-dropdown__value"},[i("el-input",{attrs:{"validate-event":!1,size:"mini"},on:{blur:t.handleConfirm},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleConfirm(e):null}},model:{value:t.customInput,callback:function(e){t.customInput=e},expression:"customInput"}})],1),i("el-button",{staticClass:"el-color-dropdown__link-btn",attrs:{size:"mini",type:"text"},on:{click:function(e){t.$emit("clear")}}},[t._v("\n        "+t._s(t.t("el.colorpicker.clear"))+"\n      ")]),i("el-button",{staticClass:"el-color-dropdown__btn",attrs:{plain:"",size:"mini"},on:{click:t.confirmValue}},[t._v("\n        "+t._s(t.t("el.colorpicker.confirm"))+"\n      ")])],1)],1)])};Rl._withStripped=!0;var Bl=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"el-color-svpanel",style:{backgroundColor:this.background}},[e("div",{staticClass:"el-color-svpanel__white"}),e("div",{staticClass:"el-color-svpanel__black"}),e("div",{staticClass:"el-color-svpanel__cursor",style:{top:this.cursorTop+"px",left:this.cursorLeft+"px"}},[e("div")])])};Bl._withStripped=!0;var kl=!1,Vl=function(t,e){if(!di.a.prototype.$isServer){var i=function(t){e.drag&&e.drag(t)},a=function t(a){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",t),document.onselectstart=null,document.ondragstart=null,kl=!1,e.end&&e.end(a)};t.addEventListener("mousedown",function(t){kl||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},document.addEventListener("mousemove",i),document.addEventListener("mouseup",a),kl=!0,e.start&&e.start(t))})}},Hl=n({name:"el-sl-panel",props:{color:{required:!0}},computed:{colorValue:function(){return{hue:this.color.get("hue"),value:this.color.get("value")}}},watch:{colorValue:function(){this.update()}},methods:{update:function(){var t=this.color.get("saturation"),e=this.color.get("value"),i=this.$el,a=i.clientWidth,n=i.clientHeight;this.cursorLeft=t*a/100,this.cursorTop=(100-e)*n/100,this.background="hsl("+this.color.get("hue")+", 100%, 50%)"},handleDrag:function(t){var e=this.$el.getBoundingClientRect(),i=t.clientX-e.left,a=t.clientY-e.top;i=Math.max(0,i),i=Math.min(i,e.width),a=Math.max(0,a),a=Math.min(a,e.height),this.cursorLeft=i,this.cursorTop=a,this.color.set({saturation:i/e.width*100,value:100-a/e.height*100})}},mounted:function(){var t=this;Vl(this.$el,{drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}}),this.update()},data:function(){return{cursorTop:0,cursorLeft:0,background:"hsl(0, 100%, 50%)"}}},Bl,[],!1,null,null,null);Hl.options.__file="packages/color-picker/src/components/sv-panel.vue";var Gl=Hl.exports,Yl=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"el-color-hue-slider",class:{"is-vertical":this.vertical}},[e("div",{ref:"bar",staticClass:"el-color-hue-slider__bar",on:{click:this.handleClick}}),e("div",{ref:"thumb",staticClass:"el-color-hue-slider__thumb",style:{left:this.thumbLeft+"px",top:this.thumbTop+"px"}})])};Yl._withStripped=!0;var Wl=n({name:"el-color-hue-slider",props:{color:{required:!0},vertical:Boolean},data:function(){return{thumbLeft:0,thumbTop:0}},computed:{hueValue:function(){return this.color.get("hue")}},watch:{hueValue:function(){this.update()}},methods:{handleClick:function(t){var e=this.$refs.thumb;t.target!==e&&this.handleDrag(t)},handleDrag:function(t){var e=this.$el.getBoundingClientRect(),i=this.$refs.thumb,a=void 0;if(this.vertical){var n=t.clientY-e.top;n=Math.min(n,e.height-i.offsetHeight/2),n=Math.max(i.offsetHeight/2,n),a=Math.round((n-i.offsetHeight/2)/(e.height-i.offsetHeight)*360)}else{var r=t.clientX-e.left;r=Math.min(r,e.width-i.offsetWidth/2),r=Math.max(i.offsetWidth/2,r),a=Math.round((r-i.offsetWidth/2)/(e.width-i.offsetWidth)*360)}this.color.set("hue",a)},getThumbLeft:function(){if(this.vertical)return 0;var t=this.$el,e=this.color.get("hue");if(!t)return 0;var i=this.$refs.thumb;return Math.round(e*(t.offsetWidth-i.offsetWidth/2)/360)},getThumbTop:function(){if(!this.vertical)return 0;var t=this.$el,e=this.color.get("hue");if(!t)return 0;var i=this.$refs.thumb;return Math.round(e*(t.offsetHeight-i.offsetHeight/2)/360)},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop()}},mounted:function(){var t=this,e=this.$refs,i=e.bar,a=e.thumb,n={drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}};Vl(i,n),Vl(a,n),this.update()}},Yl,[],!1,null,null,null);Wl.options.__file="packages/color-picker/src/components/hue-slider.vue";var Xl=Wl.exports,Ul=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"el-color-alpha-slider",class:{"is-vertical":this.vertical}},[e("div",{ref:"bar",staticClass:"el-color-alpha-slider__bar",style:{background:this.background},on:{click:this.handleClick}}),e("div",{ref:"thumb",staticClass:"el-color-alpha-slider__thumb",style:{left:this.thumbLeft+"px",top:this.thumbTop+"px"}})])};Ul._withStripped=!0;var zl=n({name:"el-color-alpha-slider",props:{color:{required:!0},vertical:Boolean},watch:{"color._alpha":function(){this.update()},"color.value":function(){this.update()}},methods:{handleClick:function(t){var e=this.$refs.thumb;t.target!==e&&this.handleDrag(t)},handleDrag:function(t){var e=this.$el.getBoundingClientRect(),i=this.$refs.thumb;if(this.vertical){var a=t.clientY-e.top;a=Math.max(i.offsetHeight/2,a),a=Math.min(a,e.height-i.offsetHeight/2),this.color.set("alpha",Math.round((a-i.offsetHeight/2)/(e.height-i.offsetHeight)*100))}else{var n=t.clientX-e.left;n=Math.max(i.offsetWidth/2,n),n=Math.min(n,e.width-i.offsetWidth/2),this.color.set("alpha",Math.round((n-i.offsetWidth/2)/(e.width-i.offsetWidth)*100))}},getThumbLeft:function(){if(this.vertical)return 0;var t=this.$el,e=this.color._alpha;if(!t)return 0;var i=this.$refs.thumb;return Math.round(e*(t.offsetWidth-i.offsetWidth/2)/100)},getThumbTop:function(){if(!this.vertical)return 0;var t=this.$el,e=this.color._alpha;if(!t)return 0;var i=this.$refs.thumb;return Math.round(e*(t.offsetHeight-i.offsetHeight/2)/100)},getBackground:function(){if(this.color&&this.color.value){var t=this.color.toRgb(),e=t.r,i=t.g,a=t.b;return"linear-gradient(to right, rgba("+e+", "+i+", "+a+", 0) 0%, rgba("+e+", "+i+", "+a+", 1) 100%)"}return null},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop(),this.background=this.getBackground()}},data:function(){return{thumbLeft:0,thumbTop:0,background:null}},mounted:function(){var t=this,e=this.$refs,i=e.bar,a=e.thumb,n={drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}};Vl(i,n),Vl(a,n),this.update()}},Ul,[],!1,null,null,null);zl.options.__file="packages/color-picker/src/components/alpha-slider.vue";var Kl=zl.exports,$l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-color-predefine"},[i("div",{staticClass:"el-color-predefine__colors"},t._l(t.rgbaColors,function(e,a){return i("div",{key:t.colors[a],staticClass:"el-color-predefine__color-selector",class:{selected:e.selected,"is-alpha":e._alpha<100},on:{click:function(e){t.handleSelect(a)}}},[i("div",{style:{"background-color":e.value}})])}),0)])};$l._withStripped=!0;var jl=n({props:{colors:{type:Array,required:!0},color:{required:!0}},data:function(){return{rgbaColors:this.parseColors(this.colors,this.color)}},methods:{handleSelect:function(t){this.color.fromString(this.colors[t])},parseColors:function(t,e){return t.map(function(t){var i=new Nl;return i.enableAlpha=!0,i.format="rgba",i.fromString(t),i.selected=i.value===e.value,i})}},watch:{"$parent.currentColor":function(t){var e=new Nl;e.fromString(t),this.rgbaColors.forEach(function(t){t.selected=e.compare(t)})},colors:function(t){this.rgbaColors=this.parseColors(t,this.color)},color:function(t){this.rgbaColors=this.parseColors(this.colors,t)}}},$l,[],!1,null,null,null);jl.options.__file="packages/color-picker/src/components/predefine.vue";var ql=jl.exports,Jl=n({name:"el-color-picker-dropdown",mixins:[N.a,p.a],components:{SvPanel:Gl,HueSlider:Xl,AlphaSlider:Kl,ElInput:d.a,ElButton:z.a,Predefine:ql},props:{color:{required:!0},showAlpha:Boolean,predefine:Array},data:function(){return{customInput:""}},computed:{currentColor:function(){var t=this.$parent;return t.value||t.showPanelColor?t.color.value:""}},methods:{confirmValue:function(){this.$emit("pick")},handleConfirm:function(){this.color.fromString(this.customInput)}},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$el},watch:{showPopper:function(t){var e=this;!0===t&&this.$nextTick(function(){var t=e.$refs,i=t.sl,a=t.hue,n=t.alpha;i&&i.update(),a&&a.update(),n&&n.update()})},currentColor:{immediate:!0,handler:function(t){this.customInput=t}}}},Rl,[],!1,null,null,null);Jl.options.__file="packages/color-picker/src/components/picker-dropdown.vue";var Zl=Jl.exports,Ql=n({name:"ElColorPicker",mixins:[T.a],props:{value:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:String,popperClass:String,predefine:Array},inject:{elForm:{default:""},elFormItem:{default:""}},directives:{Clickoutside:F.a},computed:{displayedColor:function(){return this.value||this.showPanelColor?this.displayedRgb(this.color,this.showAlpha):"transparent"},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},colorSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},colorDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(t){t?t&&t!==this.color.value&&this.color.fromString(t):this.showPanelColor=!1},color:{deep:!0,handler:function(){this.showPanelColor=!0}},displayedColor:function(t){if(this.showPicker){var e=new Nl({enableAlpha:this.showAlpha,format:this.colorFormat});e.fromString(this.value),t!==this.displayedRgb(e,this.showAlpha)&&this.$emit("active-change",t)}}},methods:{handleTrigger:function(){this.colorDisabled||(this.showPicker=!this.showPicker)},confirmValue:function(){var t=this.color.value;this.$emit("input",t),this.$emit("change",t),this.dispatch("ElFormItem","el.form.change",t),this.showPicker=!1},clearValue:function(){this.$emit("input",null),this.$emit("change",null),null!==this.value&&this.dispatch("ElFormItem","el.form.change",null),this.showPanelColor=!1,this.showPicker=!1,this.resetColor()},hide:function(){this.showPicker=!1,this.resetColor()},resetColor:function(){var t=this;this.$nextTick(function(e){t.value?t.color.fromString(t.value):t.showPanelColor=!1})},displayedRgb:function(t,e){if(!(t instanceof Nl))throw Error("color should be instance of Color Class");var i=t.toRgb(),a=i.r,n=i.g,r=i.b;return e?"rgba("+a+", "+n+", "+r+", "+t.get("alpha")/100+")":"rgb("+a+", "+n+", "+r+")"}},mounted:function(){var t=this.value;t&&this.color.fromString(t),this.popperElm=this.$refs.dropdown.$el},data:function(){return{color:new Nl({enableAlpha:this.showAlpha,format:this.colorFormat}),showPicker:!1,showPanelColor:!1}},components:{PickerDropdown:Zl}},wl,[],!1,null,null,null);Ql.options.__file="packages/color-picker/src/main.vue";var th=Ql.exports;th.install=function(t){t.component(th.name,th)};var eh=th,ih=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-transfer"},[i("transfer-panel",t._b({ref:"leftPanel",attrs:{data:t.sourceData,title:t.titles[0]||t.t("el.transfer.titles.0"),"default-checked":t.leftDefaultChecked,placeholder:t.filterPlaceholder||t.t("el.transfer.filterPlaceholder")},on:{"checked-change":t.onSourceCheckedChange}},"transfer-panel",t.$props,!1),[t._t("left-footer")],2),i("div",{staticClass:"el-transfer__buttons"},[i("el-button",{class:["el-transfer__button",t.hasButtonTexts?"is-with-texts":""],attrs:{type:"primary",disabled:0===t.rightChecked.length},nativeOn:{click:function(e){return t.addToLeft(e)}}},[i("i",{staticClass:"el-icon-arrow-left"}),void 0!==t.buttonTexts[0]?i("span",[t._v(t._s(t.buttonTexts[0]))]):t._e()]),i("el-button",{class:["el-transfer__button",t.hasButtonTexts?"is-with-texts":""],attrs:{type:"primary",disabled:0===t.leftChecked.length},nativeOn:{click:function(e){return t.addToRight(e)}}},[void 0!==t.buttonTexts[1]?i("span",[t._v(t._s(t.buttonTexts[1]))]):t._e(),i("i",{staticClass:"el-icon-arrow-right"})])],1),i("transfer-panel",t._b({ref:"rightPanel",attrs:{data:t.targetData,title:t.titles[1]||t.t("el.transfer.titles.1"),"default-checked":t.rightDefaultChecked,placeholder:t.filterPlaceholder||t.t("el.transfer.filterPlaceholder")},on:{"checked-change":t.onTargetCheckedChange}},"transfer-panel",t.$props,!1),[t._t("right-footer")],2)],1)};ih._withStripped=!0;var ah=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-transfer-panel"},[i("p",{staticClass:"el-transfer-panel__header"},[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleAllCheckedChange},model:{value:t.allChecked,callback:function(e){t.allChecked=e},expression:"allChecked"}},[t._v("\n      "+t._s(t.title)+"\n      "),i("span",[t._v(t._s(t.checkedSummary))])])],1),i("div",{class:["el-transfer-panel__body",t.hasFooter?"is-with-footer":""]},[t.filterable?i("el-input",{staticClass:"el-transfer-panel__filter",attrs:{size:"small",placeholder:t.placeholder},nativeOn:{mouseenter:function(e){t.inputHover=!0},mouseleave:function(e){t.inputHover=!1}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[i("i",{class:["el-input__icon","el-icon-"+t.inputIcon],attrs:{slot:"prefix"},on:{click:t.clearQuery},slot:"prefix"})]):t._e(),i("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:!t.hasNoMatch&&t.data.length>0,expression:"!hasNoMatch && data.length > 0"}],staticClass:"el-transfer-panel__list",class:{"is-filterable":t.filterable},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},t._l(t.filteredData,function(e){return i("el-checkbox",{key:e[t.keyProp],staticClass:"el-transfer-panel__item",attrs:{label:e[t.keyProp],disabled:e[t.disabledProp]}},[i("option-content",{attrs:{option:e}})],1)}),1),i("p",{directives:[{name:"show",rawName:"v-show",value:t.hasNoMatch,expression:"hasNoMatch"}],staticClass:"el-transfer-panel__empty"},[t._v(t._s(t.t("el.transfer.noMatch")))]),i("p",{directives:[{name:"show",rawName:"v-show",value:0===t.data.length&&!t.hasNoMatch,expression:"data.length === 0 && !hasNoMatch"}],staticClass:"el-transfer-panel__empty"},[t._v(t._s(t.t("el.transfer.noData")))])],1),t.hasFooter?i("p",{staticClass:"el-transfer-panel__footer"},[t._t("default")],2):t._e()])};ah._withStripped=!0;var nh=n({mixins:[p.a],name:"ElTransferPanel",componentName:"ElTransferPanel",components:{ElCheckboxGroup:zi.a,ElCheckbox:ri.a,ElInput:d.a,OptionContent:{props:{option:Object},render:function(t){var e=function t(e){return"ElTransferPanel"===e.$options.componentName?e:e.$parent?t(e.$parent):e}(this),i=e.$parent||e;return e.renderContent?e.renderContent(t,this.option):i.$scopedSlots.default?i.$scopedSlots.default({option:this.option}):t("span",[this.option[e.labelProp]||this.option[e.keyProp]])}}},props:{data:{type:Array,default:function(){return[]}},renderContent:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object},data:function(){return{checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}},watch:{checked:function(t,e){if(this.updateAllChecked(),this.checkChangeByUser){var i=t.concat(e).filter(function(i){return-1===t.indexOf(i)||-1===e.indexOf(i)});this.$emit("checked-change",t,i)}else this.$emit("checked-change",t),this.checkChangeByUser=!0},data:function(){var t=this,e=[],i=this.filteredData.map(function(e){return e[t.keyProp]});this.checked.forEach(function(t){i.indexOf(t)>-1&&e.push(t)}),this.checkChangeByUser=!1,this.checked=e},checkableData:function(){this.updateAllChecked()},defaultChecked:{immediate:!0,handler:function(t,e){var i=this;if(!e||t.length!==e.length||!t.every(function(t){return e.indexOf(t)>-1})){var a=[],n=this.checkableData.map(function(t){return t[i.keyProp]});t.forEach(function(t){n.indexOf(t)>-1&&a.push(t)}),this.checkChangeByUser=!1,this.checked=a}}}},computed:{filteredData:function(){var t=this;return this.data.filter(function(e){return"function"==typeof t.filterMethod?t.filterMethod(t.query,e):(e[t.labelProp]||e[t.keyProp].toString()).toLowerCase().indexOf(t.query.toLowerCase())>-1})},checkableData:function(){var t=this;return this.filteredData.filter(function(e){return!e[t.disabledProp]})},checkedSummary:function(){var t=this.checked.length,e=this.data.length,i=this.format,a=i.noChecked,n=i.hasChecked;return a&&n?t>0?n.replace(/\${checked}/g,t).replace(/\${total}/g,e):a.replace(/\${total}/g,e):t+"/"+e},isIndeterminate:function(){var t=this.checked.length;return t>0&&t<this.checkableData.length},hasNoMatch:function(){return this.query.length>0&&0===this.filteredData.length},inputIcon:function(){return this.query.length>0&&this.inputHover?"circle-close":"search"},labelProp:function(){return this.props.label||"label"},keyProp:function(){return this.props.key||"key"},disabledProp:function(){return this.props.disabled||"disabled"},hasFooter:function(){return!!this.$slots.default}},methods:{updateAllChecked:function(){var t=this,e=this.checkableData.map(function(e){return e[t.keyProp]});this.allChecked=e.length>0&&e.every(function(e){return t.checked.indexOf(e)>-1})},handleAllCheckedChange:function(t){var e=this;this.checked=t?this.checkableData.map(function(t){return t[e.keyProp]}):[]},clearQuery:function(){"circle-close"===this.inputIcon&&(this.query="")}}},ah,[],!1,null,null,null);nh.options.__file="packages/transfer/src/transfer-panel.vue";var rh=nh.exports,oh=n({name:"ElTransfer",mixins:[T.a,p.a,S.a],components:{TransferPanel:rh,ElButton:z.a},props:{data:{type:Array,default:function(){return[]}},titles:{type:Array,default:function(){return[]}},buttonTexts:{type:Array,default:function(){return[]}},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:function(){return[]}},rightDefaultChecked:{type:Array,default:function(){return[]}},renderContent:Function,value:{type:Array,default:function(){return[]}},format:{type:Object,default:function(){return{}}},filterable:Boolean,props:{type:Object,default:function(){return{label:"label",key:"key",disabled:"disabled"}}},targetOrder:{type:String,default:"original"}},data:function(){return{leftChecked:[],rightChecked:[]}},computed:{dataObj:function(){var t=this.props.key;return this.data.reduce(function(e,i){return(e[i[t]]=i)&&e},{})},sourceData:function(){var t=this;return this.data.filter(function(e){return-1===t.value.indexOf(e[t.props.key])})},targetData:function(){var t=this;return"original"===this.targetOrder?this.data.filter(function(e){return t.value.indexOf(e[t.props.key])>-1}):this.value.reduce(function(e,i){var a=t.dataObj[i];return a&&e.push(a),e},[])},hasButtonTexts:function(){return 2===this.buttonTexts.length}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",t)}},methods:{getMigratingConfig:function(){return{props:{"footer-format":"footer-format is renamed to format."}}},onSourceCheckedChange:function(t,e){this.leftChecked=t,void 0!==e&&this.$emit("left-check-change",t,e)},onTargetCheckedChange:function(t,e){this.rightChecked=t,void 0!==e&&this.$emit("right-check-change",t,e)},addToLeft:function(){var t=this.value.slice();this.rightChecked.forEach(function(e){var i=t.indexOf(e);i>-1&&t.splice(i,1)}),this.$emit("input",t),this.$emit("change",t,"left",this.rightChecked)},addToRight:function(){var t=this,e=this.value.slice(),i=[],a=this.props.key;this.data.forEach(function(e){var n=e[a];t.leftChecked.indexOf(n)>-1&&-1===t.value.indexOf(n)&&i.push(n)}),e="unshift"===this.targetOrder?i.concat(e):e.concat(i),this.$emit("input",e),this.$emit("change",e,"right",this.leftChecked)},clearQuery:function(t){"left"===t?this.$refs.leftPanel.query="":"right"===t&&(this.$refs.rightPanel.query="")}}},ih,[],!1,null,null,null);oh.options.__file="packages/transfer/src/main.vue";var sh=oh.exports;sh.install=function(t){t.component(sh.name,sh)};var lh=sh,hh=function(){var t=this.$createElement;return(this._self._c||t)("section",{staticClass:"el-container",class:{"is-vertical":this.isVertical}},[this._t("default")],2)};hh._withStripped=!0;var uh=n({name:"ElContainer",componentName:"ElContainer",props:{direction:String},computed:{isVertical:function(){return"vertical"===this.direction||"horizontal"!==this.direction&&(!(!this.$slots||!this.$slots.default)&&this.$slots.default.some(function(t){var e=t.componentOptions&&t.componentOptions.tag;return"el-header"===e||"el-footer"===e}))}}},hh,[],!1,null,null,null);uh.options.__file="packages/container/src/main.vue";var ch=uh.exports;ch.install=function(t){t.component(ch.name,ch)};var dh=ch,fh=function(){var t=this.$createElement;return(this._self._c||t)("header",{staticClass:"el-header",style:{height:this.height}},[this._t("default")],2)};fh._withStripped=!0;var ph=n({name:"ElHeader",componentName:"ElHeader",props:{height:{type:String,default:"60px"}}},fh,[],!1,null,null,null);ph.options.__file="packages/header/src/main.vue";var mh=ph.exports;mh.install=function(t){t.component(mh.name,mh)};var vh=mh,gh=function(){var t=this.$createElement;return(this._self._c||t)("aside",{staticClass:"el-aside",style:{width:this.width}},[this._t("default")],2)};gh._withStripped=!0;var Ch=n({name:"ElAside",componentName:"ElAside",props:{width:{type:String,default:"300px"}}},gh,[],!1,null,null,null);Ch.options.__file="packages/aside/src/main.vue";var Dh=Ch.exports;Dh.install=function(t){t.component(Dh.name,Dh)};var yh=Dh,xh=function(){var t=this.$createElement;return(this._self._c||t)("main",{staticClass:"el-main"},[this._t("default")],2)};xh._withStripped=!0;var Sh=n({name:"ElMain",componentName:"ElMain"},xh,[],!1,null,null,null);Sh.options.__file="packages/main/src/main.vue";var Ih=Sh.exports;Ih.install=function(t){t.component(Ih.name,Ih)};var Th=Ih,bh=function(){var t=this.$createElement;return(this._self._c||t)("footer",{staticClass:"el-footer",style:{height:this.height}},[this._t("default")],2)};bh._withStripped=!0;var wh=n({name:"ElFooter",componentName:"ElFooter",props:{height:{type:String,default:"60px"}}},bh,[],!1,null,null,null);wh.options.__file="packages/footer/src/main.vue";var Mh=wh.exports;Mh.install=function(t){t.component(Mh.name,Mh)};var Eh=Mh,Ah=n({name:"ElTimeline",props:{reverse:{type:Boolean,default:!1}},provide:function(){return{timeline:this}},render:function(){var t=arguments[0],e=this.reverse,i={"el-timeline":!0,"is-reverse":e},a=this.$slots.default||[];return e&&(a=a.reverse()),t("ul",{class:i},[a])}},void 0,void 0,!1,null,null,null);Ah.options.__file="packages/timeline/src/main.vue";var _h=Ah.exports;_h.install=function(t){t.component(_h.name,_h)};var Lh=_h,Fh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"el-timeline-item"},[i("div",{staticClass:"el-timeline-item__tail"}),t.$slots.dot?t._e():i("div",{staticClass:"el-timeline-item__node",class:["el-timeline-item__node--"+(t.size||""),"el-timeline-item__node--"+(t.type||"")],style:{backgroundColor:t.color}},[t.icon?i("i",{staticClass:"el-timeline-item__icon",class:t.icon}):t._e()]),t.$slots.dot?i("div",{staticClass:"el-timeline-item__dot"},[t._t("dot")],2):t._e(),i("div",{staticClass:"el-timeline-item__wrapper"},[t.hideTimestamp||"top"!==t.placement?t._e():i("div",{staticClass:"el-timeline-item__timestamp is-top"},[t._v("\n      "+t._s(t.timestamp)+"\n    ")]),i("div",{staticClass:"el-timeline-item__content"},[t._t("default")],2),t.hideTimestamp||"bottom"!==t.placement?t._e():i("div",{staticClass:"el-timeline-item__timestamp is-bottom"},[t._v("\n      "+t._s(t.timestamp)+"\n    ")])])])};Fh._withStripped=!0;var Oh=n({name:"ElTimelineItem",inject:["timeline"],props:{timestamp:String,hideTimestamp:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},type:String,color:String,size:{type:String,default:"normal"},icon:String}},Fh,[],!1,null,null,null);Oh.options.__file="packages/timeline/src/item.vue";var Ph=Oh.exports;Ph.install=function(t){t.component(Ph.name,Ph)};var Nh=Ph,Rh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",t._b({class:["el-link",t.type?"el-link--"+t.type:"",t.disabled&&"is-disabled",t.underline&&!t.disabled&&"is-underline"],attrs:{href:t.disabled?null:t.href},on:{click:t.handleClick}},"a",t.$attrs,!1),[t.icon?i("i",{class:t.icon}):t._e(),t.$slots.default?i("span",{staticClass:"el-link--inner"},[t._t("default")],2):t._e(),t.$slots.icon?[t.$slots.icon?t._t("icon"):t._e()]:t._e()],2)};Rh._withStripped=!0;var Bh=n({name:"ElLink",props:{type:{type:String,default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:String,icon:String},methods:{handleClick:function(t){this.disabled||this.href||this.$emit("click",t)}}},Rh,[],!1,null,null,null);Bh.options.__file="packages/link/src/main.vue";var kh=Bh.exports;kh.install=function(t){t.component(kh.name,kh)};var Vh=kh,Hh=function(t,e){var i=e._c;return i("div",e._g(e._b({class:[e.data.staticClass,"el-divider","el-divider--"+e.props.direction]},"div",e.data.attrs,!1),e.listeners),[e.slots().default&&"vertical"!==e.props.direction?i("div",{class:["el-divider__text","is-"+e.props.contentPosition]},[e._t("default")],2):e._e()])};Hh._withStripped=!0;var Gh=n({name:"ElDivider",props:{direction:{type:String,default:"horizontal",validator:function(t){return-1!==["horizontal","vertical"].indexOf(t)}},contentPosition:{type:String,default:"center",validator:function(t){return-1!==["left","center","right"].indexOf(t)}}}},Hh,[],!0,null,null,null);Gh.options.__file="packages/divider/src/main.vue";var Yh=Gh.exports;Yh.install=function(t){t.component(Yh.name,Yh)};var Wh=Yh,Xh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-image"},[t.loading?t._t("placeholder",[i("div",{staticClass:"el-image__placeholder"})]):t.error?t._t("error",[i("div",{staticClass:"el-image__error"},[t._v(t._s(t.t("el.image.error")))])]):i("img",t._g(t._b({staticClass:"el-image__inner",class:{"el-image__inner--center":t.alignCenter,"el-image__preview":t.preview},style:t.imageStyle,attrs:{src:t.src},on:{click:t.clickHandler}},"img",t.$attrs,!1),t.$listeners)),t.preview?[i("image-viewer",{directives:[{name:"show",rawName:"v-show",value:t.showViewer,expression:"showViewer"}],attrs:{"z-index":t.zIndex,"initial-index":t.imageIndex,"on-close":t.closeViewer,"url-list":t.previewSrcList}})]:t._e()],2)};Xh._withStripped=!0;var Uh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"viewer-fade"}},[i("div",{ref:"el-image-viewer__wrapper",staticClass:"el-image-viewer__wrapper",style:{"z-index":t.zIndex},attrs:{tabindex:"-1"}},[i("div",{staticClass:"el-image-viewer__mask"}),i("span",{staticClass:"el-image-viewer__btn el-image-viewer__close",on:{click:t.hide}},[i("i",{staticClass:"el-icon-circle-close"})]),t.isSingle?t._e():[i("span",{staticClass:"el-image-viewer__btn el-image-viewer__prev",class:{"is-disabled":!t.infinite&&t.isFirst},on:{click:t.prev}},[i("i",{staticClass:"el-icon-arrow-left"})]),i("span",{staticClass:"el-image-viewer__btn el-image-viewer__next",class:{"is-disabled":!t.infinite&&t.isLast},on:{click:t.next}},[i("i",{staticClass:"el-icon-arrow-right"})])],i("div",{staticClass:"el-image-viewer__btn el-image-viewer__actions"},[i("div",{staticClass:"el-image-viewer__actions__inner"},[i("i",{staticClass:"el-icon-zoom-out",on:{click:function(e){t.handleActions("zoomOut")}}}),i("i",{staticClass:"el-icon-zoom-in",on:{click:function(e){t.handleActions("zoomIn")}}}),i("i",{staticClass:"el-image-viewer__actions__divider"}),i("i",{class:t.mode.icon,on:{click:t.toggleMode}}),i("i",{staticClass:"el-image-viewer__actions__divider"}),i("i",{staticClass:"el-icon-refresh-left",on:{click:function(e){t.handleActions("anticlocelise")}}}),i("i",{staticClass:"el-icon-refresh-right",on:{click:function(e){t.handleActions("clocelise")}}})])]),i("div",{staticClass:"el-image-viewer__canvas"},t._l(t.urlList,function(e,a){return a===t.index?i("img",{key:e,ref:"img",refInFor:!0,staticClass:"el-image-viewer__img",style:t.imgStyle,attrs:{src:t.currentImg},on:{load:t.handleImgLoad,error:t.handleImgError,mousedown:t.handleMouseDown}}):t._e()}),0)],2)])};Uh._withStripped=!0;var zh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},Kh={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},$h=Object(m.isFirefox)()?"DOMMouseScroll":"mousewheel",jh=n({name:"elImageViewer",props:{urlList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:function(){}},onClose:{type:Function,default:function(){}},initialIndex:{type:Number,default:0}},data:function(){return{index:this.initialIndex,isShow:!1,infinite:!0,loading:!1,mode:Kh.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},computed:{isSingle:function(){return this.urlList.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urlList.length-1},currentImg:function(){return this.urlList[this.index]},imgStyle:function(){var t=this.transform,e=t.scale,i=t.deg,a=t.offsetX,n=t.offsetY,r={transform:"scale("+e+") rotate("+i+"deg)",transition:t.enableTransition?"transform .3s":"","margin-left":a+"px","margin-top":n+"px"};return this.mode===Kh.CONTAIN&&(r.maxWidth=r.maxHeight="100%"),r}},watch:{index:{handler:function(t){this.reset(),this.onSwitch(t)}},currentImg:function(t){var e=this;this.$nextTick(function(t){e.$refs.img[0].complete||(e.loading=!0)})}},methods:{hide:function(){this.deviceSupportUninstall(),this.onClose()},deviceSupportInstall:function(){var t=this;this._keyDownHandler=Object(m.rafThrottle)(function(e){switch(e.keyCode){case 27:t.hide();break;case 32:t.toggleMode();break;case 37:t.prev();break;case 38:t.handleActions("zoomIn");break;case 39:t.next();break;case 40:t.handleActions("zoomOut")}}),this._mouseWheelHandler=Object(m.rafThrottle)(function(e){(e.wheelDelta?e.wheelDelta:-e.detail)>0?t.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):t.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})}),Object(pt.on)(document,"keydown",this._keyDownHandler),Object(pt.on)(document,$h,this._mouseWheelHandler)},deviceSupportUninstall:function(){Object(pt.off)(document,"keydown",this._keyDownHandler),Object(pt.off)(document,$h,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad:function(t){this.loading=!1},handleImgError:function(t){this.loading=!1,t.target.alt="加载失败"},handleMouseDown:function(t){var e=this;if(!this.loading&&0===t.button){var i=this.transform,a=i.offsetX,n=i.offsetY,r=t.pageX,o=t.pageY;this._dragHandler=Object(m.rafThrottle)(function(t){e.transform.offsetX=a+t.pageX-r,e.transform.offsetY=n+t.pageY-o}),Object(pt.on)(document,"mousemove",this._dragHandler),Object(pt.on)(document,"mouseup",function(t){Object(pt.off)(document,"mousemove",e._dragHandler)}),t.preventDefault()}},reset:function(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode:function(){if(!this.loading){var t=Object.keys(Kh),e=(Object.values(Kh).indexOf(this.mode)+1)%t.length;this.mode=Kh[t[e]],this.reset()}},prev:function(){if(!this.isFirst||this.infinite){var t=this.urlList.length;this.index=(this.index-1+t)%t}},next:function(){if(!this.isLast||this.infinite){var t=this.urlList.length;this.index=(this.index+1)%t}},handleActions:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var i=zh({zoomRate:.2,rotateDeg:90,enableTransition:!0},e),a=i.zoomRate,n=i.rotateDeg,r=i.enableTransition,o=this.transform;switch(t){case"zoomOut":o.scale>.2&&(o.scale=parseFloat((o.scale-a).toFixed(3)));break;case"zoomIn":o.scale=parseFloat((o.scale+a).toFixed(3));break;case"clocelise":o.deg+=n;break;case"anticlocelise":o.deg-=n}o.enableTransition=r}}},mounted:function(){this.deviceSupportInstall(),this.$refs["el-image-viewer__wrapper"].focus()}},Uh,[],!1,null,null,null);jh.options.__file="packages/image/src/image-viewer.vue";var qh=jh.exports,Jh=function(){return void 0!==document.documentElement.style.objectFit},Zh="none",Qh="contain",tu="cover",eu="fill",iu="scale-down",au="",nu=n({name:"ElImage",mixins:[p.a],inheritAttrs:!1,components:{ImageViewer:qh},props:{src:String,fit:String,lazy:Boolean,scrollContainer:{},previewSrcList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3}},data:function(){return{loading:!0,error:!1,show:!this.lazy,imageWidth:0,imageHeight:0,showViewer:!1}},computed:{imageStyle:function(){var t=this.fit;return!this.$isServer&&t?Jh()?{"object-fit":t}:this.getImageStyle(t):{}},alignCenter:function(){return!this.$isServer&&!Jh()&&this.fit!==eu},preview:function(){var t=this.previewSrcList;return Array.isArray(t)&&t.length>0},imageIndex:function(){return this.previewSrcList.indexOf(this.src)}},watch:{src:function(t){this.show&&this.loadImage()},show:function(t){t&&this.loadImage()}},mounted:function(){this.lazy?this.addLazyLoadListener():this.loadImage()},beforeDestroy:function(){this.lazy&&this.removeLazyLoadListener()},methods:{loadImage:function(){var t=this;if(!this.$isServer){this.loading=!0,this.error=!1;var e=new Image;e.onload=function(i){return t.handleLoad(i,e)},e.onerror=this.handleError.bind(this),Object.keys(this.$attrs).forEach(function(i){var a=t.$attrs[i];e.setAttribute(i,a)}),e.src=this.src}},handleLoad:function(t,e){this.imageWidth=e.width,this.imageHeight=e.height,this.loading=!1},handleError:function(t){this.loading=!1,this.error=!0,this.$emit("error",t)},handleLazyLoad:function(){Object(pt.isInContainer)(this.$el,this._scrollContainer)&&(this.show=!0,this.removeLazyLoadListener())},addLazyLoadListener:function(){if(!this.$isServer){var t=this.scrollContainer,e=null;(e=Object(Ps.isHtmlElement)(t)?t:Object(Ps.isString)(t)?document.querySelector(t):Object(pt.getScrollContainer)(this.$el))&&(this._scrollContainer=e,this._lazyLoadHandler=$s()(200,this.handleLazyLoad),Object(pt.on)(e,"scroll",this._lazyLoadHandler),this.handleLazyLoad())}},removeLazyLoadListener:function(){var t=this._scrollContainer,e=this._lazyLoadHandler;!this.$isServer&&t&&e&&(Object(pt.off)(t,"scroll",e),this._scrollContainer=null,this._lazyLoadHandler=null)},getImageStyle:function(t){var e=this.imageWidth,i=this.imageHeight,a=this.$el,n=a.clientWidth,r=a.clientHeight;if(!(e&&i&&n&&r))return{};var o=e/i<1;t===iu&&(t=e<n&&i<r?Zh:Qh);switch(t){case Zh:return{width:"auto",height:"auto"};case Qh:return o?{width:"auto"}:{height:"auto"};case tu:return o?{height:"auto"}:{width:"auto"};default:return{}}},clickHandler:function(){au=document.body.style.overflow,document.body.style.overflow="hidden",this.showViewer=!0},closeViewer:function(){document.body.style.overflow=au,this.showViewer=!1}}},Xh,[],!1,null,null,null);nu.options.__file="packages/image/src/main.vue";var ru=nu.exports;ru.install=function(t){t.component(ru.name,ru)};var ou=ru,su=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-calendar"},[i("div",{staticClass:"el-calendar__header"},[i("div",{staticClass:"el-calendar__title"},[t._v("\n      "+t._s(t.i18nDate)+"\n    ")]),0===t.validatedRange.length?i("div",{staticClass:"el-calendar__button-group"},[i("el-button-group",[i("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(e){t.selectDate("prev-month")}}},[t._v("\n          "+t._s(t.t("el.datepicker.prevMonth"))+"\n        ")]),i("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(e){t.selectDate("today")}}},[t._v("\n          "+t._s(t.t("el.datepicker.today"))+"\n        ")]),i("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(e){t.selectDate("next-month")}}},[t._v("\n          "+t._s(t.t("el.datepicker.nextMonth"))+"\n        ")])],1)],1):t._e()]),0===t.validatedRange.length?i("div",{key:"no-range",staticClass:"el-calendar__body"},[i("date-table",{attrs:{date:t.date,"selected-day":t.realSelectedDay,"first-day-of-week":t.realFirstDayOfWeek},on:{pick:t.pickDay}})],1):i("div",{key:"has-range",staticClass:"el-calendar__body"},t._l(t.validatedRange,function(e,a){return i("date-table",{key:a,attrs:{date:e[0],"selected-day":t.realSelectedDay,range:e,"hide-header":0!==a,"first-day-of-week":t.realFirstDayOfWeek},on:{pick:t.pickDay}})}),1)])};su._withStripped=!0;var lu=i(20),hu=i.n(lu),uu=n({props:{selectedDay:String,range:{type:Array,validator:function(t){if(!t||!t.length)return!0;var e=t[0],i=t[1];return Object(fa.validateRangeInOneMonth)(e,i)}},date:Date,hideHeader:Boolean,firstDayOfWeek:Number},inject:["elCalendar"],data:function(){return{WEEK_DAYS:Object(fa.getI18nSettings)().dayNames}},methods:{toNestedArr:function(t){return Object(fa.range)(t.length/7).map(function(e,i){var a=7*i;return t.slice(a,a+7)})},getFormateDate:function(t,e){if(!t||-1===["prev","current","next"].indexOf(e))throw new Error("invalid day or type");var i=this.curMonthDatePrefix;return"prev"===e?i=this.prevMonthDatePrefix:"next"===e&&(i=this.nextMonthDatePrefix),i+"-"+(t=("00"+t).slice(-2))},getCellClass:function(t){var e=t.text,i=t.type,a=[i];if("current"===i){var n=this.getFormateDate(e,i);n===this.selectedDay&&a.push("is-selected"),n===this.formatedToday&&a.push("is-today")}return a},pickDay:function(t){var e=t.text,i=t.type,a=this.getFormateDate(e,i);this.$emit("pick",a)},cellRenderProxy:function(t){var e=t.text,i=t.type,a=this.$createElement,n=this.elCalendar.$scopedSlots.dateCell;if(!n)return a("span",[e]);var r=this.getFormateDate(e,i);return n({date:new Date(r),data:{isSelected:this.selectedDay===r,type:i+"-month",day:r}})}},computed:{prevMonthDatePrefix:function(){var t=new Date(this.date.getTime());return t.setDate(0),hu.a.format(t,"yyyy-MM")},curMonthDatePrefix:function(){return hu.a.format(this.date,"yyyy-MM")},nextMonthDatePrefix:function(){var t=new Date(this.date.getFullYear(),this.date.getMonth()+1,1);return hu.a.format(t,"yyyy-MM")},formatedToday:function(){return this.elCalendar.formatedToday},isInRange:function(){return this.range&&this.range.length},rows:function(){var t=[];if(this.isInRange){var e=this.range,i=e[0],a=e[1],n=Object(fa.range)(a.getDate()-i.getDate()+1).map(function(t,e){return{text:i.getDate()+e,type:"current"}}),r=n.length%7;r=0===r?0:7-r;var o=Object(fa.range)(r).map(function(t,e){return{text:e+1,type:"next"}});t=n.concat(o)}else{var s=this.date,l=Object(fa.getFirstDayOfMonth)(s);l=0===l?7:l;var h="number"==typeof this.firstDayOfWeek?this.firstDayOfWeek:1,u=Object(fa.getPrevMonthLastDays)(s,l-h).map(function(t){return{text:t,type:"prev"}}),c=Object(fa.getMonthDays)(s).map(function(t){return{text:t,type:"current"}});t=[].concat(u,c);var d=Object(fa.range)(42-t.length).map(function(t,e){return{text:e+1,type:"next"}});t=t.concat(d)}return this.toNestedArr(t)},weekDays:function(){var t=this.firstDayOfWeek,e=this.WEEK_DAYS;return"number"!=typeof t||0===t?e.slice():e.slice(t).concat(e.slice(0,t))}},render:function(){var t=this,e=arguments[0],i=this.hideHeader?null:e("thead",[this.weekDays.map(function(t){return e("th",{key:t},[t])})]);return e("table",{class:{"el-calendar-table":!0,"is-range":this.isInRange},attrs:{cellspacing:"0",cellpadding:"0"}},[i,e("tbody",[this.rows.map(function(i,a){return e("tr",{class:{"el-calendar-table__row":!0,"el-calendar-table__row--hide-border":0===a&&t.hideHeader},key:a},[i.map(function(i,a){return e("td",{key:a,class:t.getCellClass(i),on:{click:t.pickDay.bind(t,i)}},[e("div",{class:"el-calendar-day"},[t.cellRenderProxy(i)])])})])})])])}},void 0,void 0,!1,null,null,null);uu.options.__file="packages/calendar/src/date-table.vue";var cu=uu.exports,du=["prev-month","today","next-month"],fu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],pu=n({name:"ElCalendar",mixins:[p.a],components:{DateTable:cu,ElButton:z.a,ElButtonGroup:$.a},props:{value:[Date,String,Number],range:{type:Array,validator:function(t){return!Array.isArray(t)||2===t.length&&t.every(function(t){return"string"==typeof t||"number"==typeof t||t instanceof Date})}},firstDayOfWeek:{type:Number,default:1}},provide:function(){return{elCalendar:this}},methods:{pickDay:function(t){this.realSelectedDay=t},selectDate:function(t){if(-1===du.indexOf(t))throw new Error("invalid type "+t);var e="";(e="prev-month"===t?this.prevMonthDatePrefix+"-01":"next-month"===t?this.nextMonthDatePrefix+"-01":this.formatedToday)!==this.formatedDate&&this.pickDay(e)},toDate:function(t){if(!t)throw new Error("invalid val");return t instanceof Date?t:new Date(t)},rangeValidator:function(t,e){var i=this.realFirstDayOfWeek,a=e?i:0===i?6:i-1,n=(e?"start":"end")+" of range should be "+fu[a]+".";return t.getDay()===a||(console.warn("[ElementCalendar]",n,"Invalid range will be ignored."),!1)}},computed:{prevMonthDatePrefix:function(){var t=new Date(this.date.getTime());return t.setDate(0),hu.a.format(t,"yyyy-MM")},curMonthDatePrefix:function(){return hu.a.format(this.date,"yyyy-MM")},nextMonthDatePrefix:function(){var t=new Date(this.date.getFullYear(),this.date.getMonth()+1,1);return hu.a.format(t,"yyyy-MM")},formatedDate:function(){return hu.a.format(this.date,"yyyy-MM-dd")},i18nDate:function(){var t=this.date.getFullYear(),e=this.date.getMonth()+1;return t+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+e)},formatedToday:function(){return hu.a.format(this.now,"yyyy-MM-dd")},realSelectedDay:{get:function(){return this.value?this.formatedDate:this.selectedDay},set:function(t){this.selectedDay=t;var e=new Date(t);this.$emit("input",e)}},date:function(){if(this.value)return this.toDate(this.value);if(this.realSelectedDay){var t=this.selectedDay.split("-");return new Date(t[0],t[1]-1,t[2])}return this.validatedRange.length?this.validatedRange[0][0]:this.now},validatedRange:function(){var t=this,e=this.range;if(!e)return[];if(2===(e=e.reduce(function(e,i,a){var n=t.toDate(i);return t.rangeValidator(n,0===a)&&(e=e.concat(n)),e},[])).length){var i=e,a=i[0],n=i[1];if(a>n)return console.warn("[ElementCalendar]end time should be greater than start time"),[];if(Object(fa.validateRangeInOneMonth)(a,n))return[[a,n]];var r=[],o=new Date(a.getFullYear(),a.getMonth()+1,1),s=this.toDate(o.getTime()-864e5);if(!Object(fa.validateRangeInOneMonth)(o,n))return console.warn("[ElementCalendar]start time and end time interval must not exceed two months"),[];r.push([a,s]);var l=this.realFirstDayOfWeek,h=o.getDay(),u=0;return h!==l&&(u=0===l?7-h:(u=l-h)>0?u:7+u),(o=this.toDate(o.getTime()+864e5*u)).getDate()<n.getDate()&&r.push([o,n]),r}return[]},realFirstDayOfWeek:function(){return this.firstDayOfWeek<1||this.firstDayOfWeek>6?0:Math.floor(this.firstDayOfWeek)}},data:function(){return{selectedDay:"",now:new Date}}},su,[],!1,null,null,null);pu.options.__file="packages/calendar/src/main.vue";var mu=pu.exports;mu.install=function(t){t.component(mu.name,mu)};var vu=mu,gu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-fade-in"}},[t.visible?i("div",{staticClass:"el-backtop",style:{right:t.styleRight,bottom:t.styleBottom},on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}},[t._t("default",[i("el-icon",{attrs:{name:"caret-top"}})])],2):t._e()])};gu._withStripped=!0;var Cu=function(t){return Math.pow(t,3)},Du=n({name:"ElBacktop",props:{visibilityHeight:{type:Number,default:200},target:[String],right:{type:Number,default:40},bottom:{type:Number,default:40}},data:function(){return{el:null,container:null,visible:!1}},computed:{styleBottom:function(){return this.bottom+"px"},styleRight:function(){return this.right+"px"}},mounted:function(){this.init(),this.throttledScrollHandler=$s()(300,this.onScroll),this.container.addEventListener("scroll",this.throttledScrollHandler)},methods:{init:function(){if(this.container=document,this.el=document.documentElement,this.target){if(this.el=document.querySelector(this.target),!this.el)throw new Error("target is not existed: "+this.target);this.container=this.el}},onScroll:function(){var t=this.el.scrollTop;this.visible=t>=this.visibilityHeight},handleClick:function(t){this.scrollToTop(),this.$emit("click",t)},scrollToTop:function(){var t=this.el,e=Date.now(),i=t.scrollTop,a=window.requestAnimationFrame||function(t){return setTimeout(t,16)};a(function n(){var r,o=(Date.now()-e)/500;o<1?(t.scrollTop=i*(1-((r=o)<.5?Cu(2*r)/2:1-Cu(2*(1-r))/2)),a(n)):t.scrollTop=0})}},beforeDestroy:function(){this.container.removeEventListener("scroll",this.throttledScrollHandler)}},gu,[],!1,null,null,null);Du.options.__file="packages/backtop/src/main.vue";var yu=Du.exports;yu.install=function(t){t.component(yu.name,yu)};var xu=yu,Su=function(t,e){return t===window||t===document?document.documentElement[e]:t[e]},Iu=function(t){return Su(t,"offsetHeight")},Tu="ElInfiniteScroll",bu={delay:{type:Number,default:200},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},wu=function(t,e){return Object(Ps.isHtmlElement)(t)?(i=bu,Object.keys(i||{}).map(function(t){return[t,i[t]]})).reduce(function(i,a){var n=a[0],r=a[1],o=r.type,s=r.default,l=t.getAttribute("infinite-scroll-"+n);switch(l=Object(Ps.isUndefined)(e[l])?l:e[l],o){case Number:l=Number(l),l=Number.isNaN(l)?s:l;break;case Boolean:l=Object(Ps.isDefined)(l)?"false"!==l&&Boolean(l):s;break;default:l=o(l)}return i[n]=l,i},{}):{};var i},Mu=function(t){return t.getBoundingClientRect().top},Eu=function(t){var e=this[Tu],i=e.el,a=e.vm,n=e.container,r=e.observer,o=wu(i,a),s=o.distance;if(!o.disabled){var l=n.getBoundingClientRect();if(l.width||l.height){var h=!1;if(n===i){var u=n.scrollTop+function(t){return Su(t,"clientHeight")}(n);h=n.scrollHeight-u<=s}else{h=Iu(i)+Mu(i)-Mu(n)-Iu(n)+Number.parseFloat(function(t,e){if(t===window&&(t=document.documentElement),1!==t.nodeType)return[];var i=window.getComputedStyle(t,null);return e?i[e]:i}(n,"borderBottomWidth"))<=s}h&&Object(Ps.isFunction)(t)?t.call(a):r&&(r.disconnect(),this[Tu].observer=null)}}},Au={name:"InfiniteScroll",inserted:function(t,e,i){var a=e.value,n=i.context,r=Object(pt.getScrollContainer)(t,!0),o=wu(t,n),s=o.delay,l=o.immediate,h=_()(s,Eu.bind(t,a));(t[Tu]={el:t,vm:n,container:r,onScroll:h},r)&&(r.addEventListener("scroll",h),l&&((t[Tu].observer=new MutationObserver(h)).observe(r,{childList:!0,subtree:!0}),h()))},unbind:function(t){var e=t[Tu],i=e.container,a=e.onScroll;i&&i.removeEventListener("scroll",a)},install:function(t){t.directive(Au.name,Au)}},_u=Au,Lu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-page-header"},[i("div",{staticClass:"el-page-header__left",on:{click:function(e){t.$emit("back")}}},[i("i",{staticClass:"el-icon-back"}),i("div",{staticClass:"el-page-header__title"},[t._t("title",[t._v(t._s(t.title))])],2)]),i("div",{staticClass:"el-page-header__content"},[t._t("content",[t._v(t._s(t.content))])],2)])};Lu._withStripped=!0;var Fu=n({name:"ElPageHeader",props:{title:{type:String,default:function(){return Object(Be.t)("el.pageHeader.title")}},content:String}},Lu,[],!1,null,null,null);Fu.options.__file="packages/page-header/src/main.vue";var Ou=Fu.exports;Ou.install=function(t){t.component(Ou.name,Ou)};var Pu=Ou,Nu=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["el-cascader-panel",this.border&&"is-bordered"],on:{keydown:this.handleKeyDown}},this._l(this.menus,function(t,i){return e("cascader-menu",{key:i,ref:"menu",refInFor:!0,attrs:{index:i,nodes:t}})}),1)};Nu._withStripped=!0;var Ru=i(43),Bu=i.n(Ru),ku=function(t){return t.stopPropagation()},Vu=n({inject:["panel"],components:{ElCheckbox:ri.a,ElRadio:Bu.a},props:{node:{required:!0},nodeId:String},computed:{config:function(){return this.panel.config},isLeaf:function(){return this.node.isLeaf},isDisabled:function(){return this.node.isDisabled},checkedValue:function(){return this.panel.checkedValue},isChecked:function(){return this.node.isSameNode(this.checkedValue)},inActivePath:function(){return this.isInPath(this.panel.activePath)},inCheckedPath:function(){var t=this;return!!this.config.checkStrictly&&this.panel.checkedNodePaths.some(function(e){return t.isInPath(e)})},value:function(){return this.node.getValueByOption()}},methods:{handleExpand:function(){var t=this,e=this.panel,i=this.node,a=this.isDisabled,n=this.config,r=n.multiple;!n.checkStrictly&&a||i.loading||(n.lazy&&!i.loaded?e.lazyLoad(i,function(){var e=t.isLeaf;if(e||t.handleExpand(),r){var a=!!e&&i.checked;t.handleMultiCheckChange(a)}}):e.handleExpand(i))},handleCheckChange:function(){var t=this.panel,e=this.value,i=this.node;t.handleCheckChange(e),t.handleExpand(i)},handleMultiCheckChange:function(t){this.node.doCheck(t),this.panel.calculateMultiCheckedValue()},isInPath:function(t){var e=this.node;return(t[e.level-1]||{}).uid===e.uid},renderPrefix:function(t){var e=this.isLeaf,i=this.isChecked,a=this.config,n=a.checkStrictly;return a.multiple?this.renderCheckbox(t):n?this.renderRadio(t):e&&i?this.renderCheckIcon(t):null},renderPostfix:function(t){var e=this.node,i=this.isLeaf;return e.loading?this.renderLoadingIcon(t):i?null:this.renderExpandIcon(t)},renderCheckbox:function(t){var e=this.node,i=this.config,a=this.isDisabled,n={on:{change:this.handleMultiCheckChange},nativeOn:{}};return i.checkStrictly&&(n.nativeOn.click=ku),t("el-checkbox",Zo()([{attrs:{value:e.checked,indeterminate:e.indeterminate,disabled:a}},n]))},renderRadio:function(t){var e=this.checkedValue,i=this.value,a=this.isDisabled;return Object(m.isEqual)(i,e)&&(i=e),t("el-radio",{attrs:{value:e,label:i,disabled:a},on:{change:this.handleCheckChange},nativeOn:{click:ku}},[t("span")])},renderCheckIcon:function(t){return t("i",{class:"el-icon-check el-cascader-node__prefix"})},renderLoadingIcon:function(t){return t("i",{class:"el-icon-loading el-cascader-node__postfix"})},renderExpandIcon:function(t){return t("i",{class:"el-icon-arrow-right el-cascader-node__postfix"})},renderContent:function(t){var e=this.panel,i=this.node,a=e.renderLabelFn;return t("span",{class:"el-cascader-node__label"},[(a?a({node:i,data:i.data}):null)||i.label])}},render:function(t){var e=this,i=this.inActivePath,a=this.inCheckedPath,n=this.isChecked,r=this.isLeaf,o=this.isDisabled,s=this.config,l=this.nodeId,h=s.expandTrigger,u=s.checkStrictly,c=s.multiple,d=!u&&o,f={on:{}};return"click"===h?f.on.click=this.handleExpand:(f.on.mouseenter=function(t){e.handleExpand(),e.$emit("expand",t)},f.on.focus=function(t){e.handleExpand(),e.$emit("expand",t)}),!r||o||u||c||(f.on.click=this.handleCheckChange),t("li",Zo()([{attrs:{role:"menuitem",id:l,"aria-expanded":i,tabindex:d?null:-1},class:{"el-cascader-node":!0,"is-selectable":u,"in-active-path":i,"in-checked-path":a,"is-active":n,"is-disabled":d}},f]),[this.renderPrefix(t),this.renderContent(t),this.renderPostfix(t)])}},void 0,void 0,!1,null,null,null);Vu.options.__file="packages/cascader-panel/src/cascader-node.vue";var Hu=Vu.exports,Gu=n({name:"ElCascaderMenu",mixins:[p.a],inject:["panel"],components:{ElScrollbar:B.a,CascaderNode:Hu},props:{nodes:{type:Array,required:!0},index:Number},data:function(){return{activeNode:null,hoverTimer:null,id:Object(m.generateId)()}},computed:{isEmpty:function(){return!this.nodes.length},menuId:function(){return"cascader-menu-"+this.id+"-"+this.index}},methods:{handleExpand:function(t){this.activeNode=t.target},handleMouseMove:function(t){var e=this.activeNode,i=this.hoverTimer,a=this.$refs.hoverZone;if(e&&a)if(e.contains(t.target)){clearTimeout(i);var n=this.$el.getBoundingClientRect().left,r=t.clientX-n,o=this.$el,s=o.offsetWidth,l=o.offsetHeight,h=e.offsetTop,u=h+e.offsetHeight;a.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'+r+" "+h+" L"+s+" 0 V"+h+' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M'+r+" "+u+" L"+s+" "+l+" V"+u+' Z" />\n        '}else i||(this.hoverTimer=setTimeout(this.clearHoverZone,this.panel.config.hoverThreshold))},clearHoverZone:function(){var t=this.$refs.hoverZone;t&&(t.innerHTML="")},renderEmptyText:function(t){return t("div",{class:"el-cascader-menu__empty-text"},[this.t("el.cascader.noData")])},renderNodeList:function(t){var e=this.menuId,i=this.panel.isHoverMenu,a={on:{}};i&&(a.on.expand=this.handleExpand);var n=this.nodes.map(function(i,n){var r=i.hasChildren;return t("cascader-node",Zo()([{key:i.uid,attrs:{node:i,"node-id":e+"-"+n,"aria-haspopup":r,"aria-owns":r?e:null}},a]))});return[].concat(n,[i?t("svg",{ref:"hoverZone",class:"el-cascader-menu__hover-zone"}):null])}},render:function(t){var e=this.isEmpty,i=this.menuId,a={nativeOn:{}};return this.panel.isHoverMenu&&(a.nativeOn.mousemove=this.handleMouseMove),t("el-scrollbar",Zo()([{attrs:{tag:"ul",role:"menu",id:i,"wrap-class":"el-cascader-menu__wrap","view-class":{"el-cascader-menu__list":!0,"is-empty":e}},class:"el-cascader-menu"},a]),[e?this.renderEmptyText(t):this.renderNodeList(t)])}},void 0,void 0,!1,null,null,null);Gu.options.__file="packages/cascader-panel/src/cascader-menu.vue";var Yu=Gu.exports,Wu=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();var Xu=0,Uu=function(){function t(e,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.config=i,this.parent=a||null,this.level=this.parent?this.parent.level+1:1,this.uid=Xu++,this.initState(),this.initChildren()}return t.prototype.initState=function(){var t=this.config,e=t.value,i=t.label;this.value=this.data[e],this.label=this.data[i],this.pathNodes=this.calculatePathNodes(),this.path=this.pathNodes.map(function(t){return t.value}),this.pathLabels=this.pathNodes.map(function(t){return t.label}),this.loading=!1,this.loaded=!1},t.prototype.initChildren=function(){var e=this,i=this.config,a=i.children,n=this.data[a];this.hasChildren=Array.isArray(n),this.children=(n||[]).map(function(a){return new t(a,i,e)})},t.prototype.calculatePathNodes=function(){for(var t=[this],e=this.parent;e;)t.unshift(e),e=e.parent;return t},t.prototype.getPath=function(){return this.path},t.prototype.getValue=function(){return this.value},t.prototype.getValueByOption=function(){return this.config.emitPath?this.getPath():this.getValue()},t.prototype.getText=function(t,e){return t?this.pathLabels.join(e):this.label},t.prototype.isSameNode=function(t){var e=this.getValueByOption();return this.config.multiple&&Array.isArray(t)?t.some(function(t){return Object(m.isEqual)(t,e)}):Object(m.isEqual)(t,e)},t.prototype.broadcast=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];var n="onParent"+Object(m.capitalize)(t);this.children.forEach(function(e){e&&(e.broadcast.apply(e,[t].concat(i)),e[n]&&e[n].apply(e,i))})},t.prototype.emit=function(t){var e=this.parent,i="onChild"+Object(m.capitalize)(t);if(e){for(var a=arguments.length,n=Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];e[i]&&e[i].apply(e,n),e.emit.apply(e,[t].concat(n))}},t.prototype.onParentCheck=function(t){this.isDisabled||this.setCheckState(t)},t.prototype.onChildCheck=function(){var t=this.children.filter(function(t){return!t.isDisabled}),e=!!t.length&&t.every(function(t){return t.checked});this.setCheckState(e)},t.prototype.setCheckState=function(t){var e=this.children.length,i=this.children.reduce(function(t,e){return t+(e.checked?1:e.indeterminate?.5:0)},0);this.checked=t,this.indeterminate=i!==e&&i>0},t.prototype.syncCheckState=function(t){var e=this.getValueByOption(),i=this.isSameNode(t,e);this.doCheck(i)},t.prototype.doCheck=function(t){this.checked!==t&&(this.config.checkStrictly?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check")))},Wu(t,[{key:"isDisabled",get:function(){var t=this.data,e=this.parent,i=this.config,a=i.disabled,n=i.checkStrictly;return t[a]||!n&&e&&e.isDisabled}},{key:"isLeaf",get:function(){var t=this.data,e=this.loaded,i=this.hasChildren,a=this.children,n=this.config,r=n.lazy,o=n.leaf;if(r){var s=Object(Yt.isDef)(t[o])?t[o]:!!e&&!a.length;return this.hasChildren=!s,s}return!i}}]),t}();var zu=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=i,this.initNodes(e)}return t.prototype.initNodes=function(t){var e=this;t=Object(m.coerceTruthyValueToArray)(t),this.nodes=t.map(function(t){return new Uu(t,e.config)}),this.flattedNodes=this.getFlattedNodes(!1,!1),this.leafNodes=this.getFlattedNodes(!0,!1)},t.prototype.appendNode=function(t,e){var i=new Uu(t,this.config,e);(e?e.children:this.nodes).push(i)},t.prototype.appendNodes=function(t,e){var i=this;(t=Object(m.coerceTruthyValueToArray)(t)).forEach(function(t){return i.appendNode(t,e)})},t.prototype.getNodes=function(){return this.nodes},t.prototype.getFlattedNodes=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t?this.leafNodes:this.flattedNodes;return e?i:function t(e,i){return e.reduce(function(e,a){return a.isLeaf?e.push(a):(!i&&e.push(a),e=e.concat(t(a.children,i))),e},[])}(this.nodes,t)},t.prototype.getNodeByValue=function(t){if(t){var e=this.getFlattedNodes(!1,!this.config.lazy).filter(function(e){return Object(m.valueEquals)(e.path,t)||e.value===t});return e&&e.length?e[0]:null}return null},t}(),Ku=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},$u=Cl.a.keys,ju={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:m.noop,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},qu=function(t){return!t.getAttribute("aria-owns")},Ju=function(t,e){var i=t.parentNode;if(i){var a=i.querySelectorAll('.el-cascader-node[tabindex="-1"]');return a[Array.prototype.indexOf.call(a,t)+e]||null}return null},Zu=function(t,e){if(t){var i=t.id.split("-");return Number(i[i.length-2])}},Qu=function(t){t&&(t.focus(),!qu(t)&&t.click())},tc=n({name:"ElCascaderPanel",components:{CascaderMenu:Yu},props:{value:{},options:Array,props:Object,border:{type:Boolean,default:!0},renderLabel:Function},provide:function(){return{panel:this}},data:function(){return{checkedValue:null,checkedNodePaths:[],store:[],menus:[],activePath:[],loadCount:0}},computed:{config:function(){return Gt()(Ku({},ju),this.props||{})},multiple:function(){return this.config.multiple},checkStrictly:function(){return this.config.checkStrictly},leafOnly:function(){return!this.checkStrictly},isHoverMenu:function(){return"hover"===this.config.expandTrigger},renderLabelFn:function(){return this.renderLabel||this.$scopedSlots.default}},watch:{options:{handler:function(){this.initStore()},immediate:!0,deep:!0},value:function(){this.syncCheckedValue(),this.checkStrictly&&this.calculateCheckedNodePaths()},checkedValue:function(t){Object(m.isEqual)(t,this.value)||(this.checkStrictly&&this.calculateCheckedNodePaths(),this.$emit("input",t),this.$emit("change",t))}},mounted:function(){Object(m.isEmpty)(this.value)||this.syncCheckedValue()},methods:{initStore:function(){var t=this.config,e=this.options;t.lazy&&Object(m.isEmpty)(e)?this.lazyLoad():(this.store=new zu(e,t),this.menus=[this.store.getNodes()],this.syncMenuState())},syncCheckedValue:function(){var t=this.value,e=this.checkedValue;Object(m.isEqual)(t,e)||(this.checkedValue=t,this.syncMenuState())},syncMenuState:function(){var t=this.multiple,e=this.checkStrictly;this.syncActivePath(),t&&this.syncMultiCheckState(),e&&this.calculateCheckedNodePaths(),this.$nextTick(this.scrollIntoView)},syncMultiCheckState:function(){var t=this;this.getFlattedNodes(this.leafOnly).forEach(function(e){e.syncCheckState(t.checkedValue)})},syncActivePath:function(){var t=this,e=this.store,i=this.multiple,a=this.activePath,n=this.checkedValue;if(Object(m.isEmpty)(a))if(Object(m.isEmpty)(n))this.activePath=[],this.menus=[e.getNodes()];else{var r=i?n[0]:n,o=((this.getNodeByValue(r)||{}).pathNodes||[]).slice(0,-1);this.expandNodes(o)}else{var s=a.map(function(e){return t.getNodeByValue(e.getValue())});this.expandNodes(s)}},expandNodes:function(t){var e=this;t.forEach(function(t){return e.handleExpand(t,!0)})},calculateCheckedNodePaths:function(){var t=this,e=this.checkedValue,i=this.multiple?Object(m.coerceTruthyValueToArray)(e):[e];this.checkedNodePaths=i.map(function(e){var i=t.getNodeByValue(e);return i?i.pathNodes:[]})},handleKeyDown:function(t){var e=t.target;switch(t.keyCode){case $u.up:var i=Ju(e,-1);Qu(i);break;case $u.down:var a=Ju(e,1);Qu(a);break;case $u.left:var n=this.$refs.menu[Zu(e)-1];if(n){var r=n.$el.querySelector('.el-cascader-node[aria-expanded="true"]');Qu(r)}break;case $u.right:var o=this.$refs.menu[Zu(e)+1];if(o){var s=o.$el.querySelector('.el-cascader-node[tabindex="-1"]');Qu(s)}break;case $u.enter:!function(t){if(t){var e=t.querySelector("input");e?e.click():qu(t)&&t.click()}}(e);break;case $u.esc:case $u.tab:this.$emit("close");break;default:return}},handleExpand:function(t,e){var i=this.activePath,a=t.level,n=i.slice(0,a-1),r=this.menus.slice(0,a);if(t.isLeaf||(n.push(t),r.push(t.children)),this.activePath=n,this.menus=r,!e){var o=n.map(function(t){return t.getValue()}),s=i.map(function(t){return t.getValue()});Object(m.valueEquals)(o,s)||(this.$emit("active-item-change",o),this.$emit("expand-change",o))}},handleCheckChange:function(t){this.checkedValue=t},lazyLoad:function(t,e){var i=this,a=this.config;t||(t=t||{root:!0,level:0},this.store=new zu([],a),this.menus=[this.store.getNodes()]),t.loading=!0;a.lazyLoad(t,function(a){var n=t.root?null:t;if(a&&a.length&&i.store.appendNodes(a,n),t.loading=!1,t.loaded=!0,Array.isArray(i.checkedValue)){var r=i.checkedValue[i.loadCount++],o=i.config.value,s=i.config.leaf;if(Array.isArray(a)&&a.filter(function(t){return t[o]===r}).length>0){var l=i.store.getNodeByValue(r);l.data[s]||i.lazyLoad(l,function(){i.handleExpand(l)}),i.loadCount===i.checkedValue.length&&i.$parent.computePresentText()}}e&&e(a)})},calculateMultiCheckedValue:function(){this.checkedValue=this.getCheckedNodes(this.leafOnly).map(function(t){return t.getValueByOption()})},scrollIntoView:function(){this.$isServer||(this.$refs.menu||[]).forEach(function(t){var e=t.$el;if(e){var i=e.querySelector(".el-scrollbar__wrap"),a=e.querySelector(".el-cascader-node.is-active")||e.querySelector(".el-cascader-node.in-active-path");He()(i,a)}})},getNodeByValue:function(t){return this.store.getNodeByValue(t)},getFlattedNodes:function(t){var e=!this.config.lazy;return this.store.getFlattedNodes(t,e)},getCheckedNodes:function(t){var e=this.checkedValue;return this.multiple?this.getFlattedNodes(t).filter(function(t){return t.checked}):Object(m.isEmpty)(e)?[]:[this.getNodeByValue(e)]},clearCheckedNodes:function(){var t=this.config,e=this.leafOnly,i=t.multiple,a=t.emitPath;i?(this.getCheckedNodes(e).filter(function(t){return!t.isDisabled}).forEach(function(t){return t.doCheck(!1)}),this.calculateMultiCheckedValue()):this.checkedValue=a?[]:null}}},Nu,[],!1,null,null,null);tc.options.__file="packages/cascader-panel/src/cascader-panel.vue";var ec=tc.exports;ec.install=function(t){t.component(ec.name,ec)};var ic=ec,ac=n({name:"ElAvatar",props:{size:{type:[Number,String],validator:function(t){return"string"==typeof t?["large","medium","small"].includes(t):"number"==typeof t}},shape:{type:String,default:"circle",validator:function(t){return["circle","square"].includes(t)}},icon:String,src:String,alt:String,srcSet:String,error:Function,fit:{type:String,default:"cover"}},data:function(){return{isImageExist:!0}},computed:{avatarClass:function(){var t=this.size,e=this.icon,i=this.shape,a=["el-avatar"];return t&&"string"==typeof t&&a.push("el-avatar--"+t),e&&a.push("el-avatar--icon"),i&&a.push("el-avatar--"+i),a.join(" ")}},methods:{handleError:function(){var t=this.error;!1!==(t?t():void 0)&&(this.isImageExist=!1)},renderAvatar:function(){var t=this.$createElement,e=this.icon,i=this.src,a=this.alt,n=this.isImageExist,r=this.srcSet,o=this.fit;return n&&i?t("img",{attrs:{src:i,alt:a,srcSet:r},on:{error:this.handleError},style:{"object-fit":o}}):e?t("i",{class:e}):this.$slots.default}},render:function(){var t=arguments[0],e=this.avatarClass,i=this.size;return t("span",{class:e,style:"number"==typeof i?{height:i+"px",width:i+"px",lineHeight:i+"px"}:{}},[this.renderAvatar()])}},void 0,void 0,!1,null,null,null);ac.options.__file="packages/avatar/src/main.vue";var nc=ac.exports;nc.install=function(t){t.component(nc.name,nc)};var rc=nc,oc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-drawer-fade"},on:{"after-enter":t.afterEnter,"after-leave":t.afterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-drawer__wrapper",attrs:{tabindex:"-1"}},[i("div",{staticClass:"el-drawer__container",class:t.visible&&"el-drawer__open",attrs:{role:"document",tabindex:"-1"},on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[i("div",{ref:"drawer",staticClass:"el-drawer",class:[t.direction,t.customClass],style:t.isHorizontal?"width: "+t.size:"height: "+t.size,attrs:{"aria-modal":"true","aria-labelledby":"el-drawer__title","aria-label":t.title,role:"dialog",tabindex:"-1"}},[t.withHeader?i("header",{staticClass:"el-drawer__header",attrs:{id:"el-drawer__title"}},[t._t("title",[i("span",{attrs:{role:"heading",tabindex:"0",title:t.title}},[t._v(t._s(t.title))])]),t.showClose?i("button",{staticClass:"el-drawer__close-btn",attrs:{"aria-label":"close "+(t.title||"drawer"),type:"button"},on:{click:t.closeDrawer}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):t._e()],2):t._e(),t.rendered?i("section",{staticClass:"el-drawer__body"},[t._t("default")],2):t._e()])])])])};oc._withStripped=!0;var sc=n({name:"ElDrawer",mixins:[y.a,T.a],props:{appendToBody:{type:Boolean,default:!1},beforeClose:{type:Function},customClass:{type:String,default:""},closeOnPressEscape:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!1},modal:{type:Boolean,default:!0},direction:{type:String,default:"rtl",validator:function(t){return-1!==["ltr","rtl","ttb","btt"].indexOf(t)}},modalAppendToBody:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},size:{type:String,default:"30%"},title:{type:String,default:""},visible:{type:Boolean},wrapperClosable:{type:Boolean,default:!0},withHeader:{type:Boolean,default:!0}},computed:{isHorizontal:function(){return"rtl"===this.direction||"ltr"===this.direction}},data:function(){return{closed:!1,prevActiveElement:null}},watch:{visible:function(t){var e=this;t?(this.closed=!1,this.$emit("open"),this.appendToBody&&document.body.appendChild(this.$el),this.prevActiveElement=document.activeElement,this.$nextTick(function(){Cl.a.focusFirstDescendant(e.$refs.drawer)})):(this.closed||this.$emit("close"),this.$nextTick(function(){e.prevActiveElement&&e.prevActiveElement.focus()}))}},methods:{afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")},hide:function(t){!1!==t&&(this.$emit("update:visible",!1),this.$emit("close"),!0===this.destroyOnClose&&(this.rendered=!1),this.closed=!0)},handleWrapperClick:function(){this.wrapperClosable&&this.closeDrawer()},closeDrawer:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},handleClose:function(){this.closeDrawer()}},mounted:function(){this.visible&&(this.rendered=!0,this.open())},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},oc,[],!1,null,null,null);sc.options.__file="packages/drawer/src/main.vue";var lc=sc.exports;lc.install=function(t){t.component(lc.name,lc)};var hc=lc,uc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-popover",t._b({attrs:{trigger:"click"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},"el-popover",t.$attrs,!1),[i("div",{staticClass:"el-popconfirm"},[i("p",{staticClass:"el-popconfirm__main"},[t.hideIcon?t._e():i("i",{staticClass:"el-popconfirm__icon",class:t.icon,style:{color:t.iconColor}}),t._v("\n      "+t._s(t.title)+"\n    ")]),i("div",{staticClass:"el-popconfirm__action"},[i("el-button",{attrs:{size:"mini",type:t.cancelButtonType},on:{click:t.cancel}},[t._v("\n        "+t._s(t.cancelButtonText)+"\n      ")]),i("el-button",{attrs:{size:"mini",type:t.confirmButtonType},on:{click:t.confirm}},[t._v("\n        "+t._s(t.confirmButtonText)+"\n      ")])],1)]),t._t("reference",null,{slot:"reference"})],2)};uc._withStripped=!0;var cc=i(44),dc=i.n(cc),fc=n({name:"ElPopconfirm",props:{title:{type:String},confirmButtonText:{type:String,default:Object(Be.t)("el.popconfirm.confirmButtonText")},cancelButtonText:{type:String,default:Object(Be.t)("el.popconfirm.cancelButtonText")},confirmButtonType:{type:String,default:"primary"},cancelButtonType:{type:String,default:"text"},icon:{type:String,default:"el-icon-question"},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1}},components:{ElPopover:dc.a,ElButton:z.a},data:function(){return{visible:!1}},methods:{confirm:function(){this.visible=!1,this.$emit("onConfirm")},cancel:function(){this.visible=!1,this.$emit("onCancel")}}},uc,[],!1,null,null,null);fc.options.__file="packages/popconfirm/src/main.vue";var pc=fc.exports;pc.install=function(t){t.component(pc.name,pc)};var mc=pc,vc=[g,M,X,J,et,rt,gt,Tt,_t,Pt,Ut,qt,te,re,he,fe,ge,xe,be,We,Xe,$e,Ze,ii,na,ca,hn,gn,wn,Fn,Pn,ir,or,ur,Cr,wr,_r,Or,Jr,io,Io,Ho,Yo,Uo,os,us,ps,Es,Fs,Bs,Gs,Us,Js,el,rl,hl,fl,bl,eh,lh,dh,vh,yh,Th,Eh,Lh,Nh,Vh,Wh,ou,vu,xu,Pu,ic,rc,hc,mc,Dt.a],gc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ke.a.use(e.locale),ke.a.i18n(e.i18n),vc.forEach(function(e){t.component(e.name,e)}),t.use(_u),t.use(Ro.directive),t.prototype.$ELEMENT={size:e.size||"",zIndex:e.zIndex||2e3},t.prototype.$loading=Ro.service,t.prototype.$msgbox=Zn,t.prototype.$alert=Zn.alert,t.prototype.$confirm=Zn.confirm,t.prototype.$prompt=Zn.prompt,t.prototype.$notify=fo,t.prototype.$message=Ts};"undefined"!=typeof window&&window.Vue&&gc(window.Vue);e.default={version:"2.13.0",locale:ke.a.use,i18n:ke.a.i18n,install:gc,CollapseTransition:Dt.a,Loading:Ro,Pagination:g,Dialog:M,Autocomplete:X,Dropdown:J,DropdownMenu:et,DropdownItem:rt,Menu:gt,Submenu:Tt,MenuItem:_t,MenuItemGroup:Pt,Input:Ut,InputNumber:qt,Radio:te,RadioGroup:re,RadioButton:he,Checkbox:fe,CheckboxButton:ge,CheckboxGroup:xe,Switch:be,Select:We,Option:Xe,OptionGroup:$e,Button:Ze,ButtonGroup:ii,Table:na,TableColumn:ca,DatePicker:hn,TimeSelect:gn,TimePicker:wn,Popover:Fn,Tooltip:Pn,MessageBox:Zn,Breadcrumb:ir,BreadcrumbItem:or,Form:ur,FormItem:Cr,Tabs:wr,TabPane:_r,Tag:Or,Tree:Jr,Alert:io,Notification:fo,Slider:Io,Icon:Ho,Row:Yo,Col:Uo,Upload:os,Progress:us,Spinner:ps,Message:Ts,Badge:Es,Card:Fs,Rate:Bs,Steps:Gs,Step:Us,Carousel:Js,Scrollbar:el,CarouselItem:rl,Collapse:hl,CollapseItem:fl,Cascader:bl,ColorPicker:eh,Transfer:lh,Container:dh,Header:vh,Aside:yh,Main:Th,Footer:Eh,Timeline:Lh,TimelineItem:Nh,Link:Vh,Divider:Wh,Image:ou,Calendar:vu,Backtop:xu,InfiniteScroll:_u,PageHeader:Pu,CascaderPanel:ic,Avatar:rc,Drawer:hc,Popconfirm:mc}}]).default},zMj2:function(t,e){var i=function(){this.head=null,this.tail=null,this._len=0},a=i.prototype;a.insert=function(t){var e=new n(t);return this.insertEntry(e),e},a.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},a.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},a.len=function(){return this._len},a.clear=function(){this.head=this.tail=null,this._len=0};var n=function(t){this.value=t,this.next,this.prev},r=function(t){this._list=new i,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},o=r.prototype;o.put=function(t,e){var i=this._list,a=this._map,r=null;if(null==a[t]){var o=i.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=i.head;i.remove(l),delete a[l.key],r=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new n(e),s.key=t,i.insertEntry(s),a[t]=s}return r},o.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},o.clear=function(){this._list.clear(),this._map={}};var s=r;t.exports=s},zO13:function(t,e,i){var a=i("Icdr"),n=i("/gxq"),r=i("0sHC"),o=i("HHfb"),s=i("1Xuh"),l=i("HGSA"),h=a.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,i,a){this.visualMapModel=t,!1!==t.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,i=o.normalizeCssArray(e.get("padding")||0),a=t.getBoundingRect();t.add(new r.Rect({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,i){var a=(i=i||{}).forceState,r=this.visualMapModel,o={};if("symbol"===e&&(o.symbol=r.get("itemSymbol")),"color"===e){var s=r.get("contentColor");o.color=s}function h(t){return o[t]}function u(t,e){o[t]=e}var c=r.controllerVisuals[a||r.getValueState(t)],d=l.prepareVisualTypes(c);return n.each(d,function(a){var n=c[a];i.convertOpacityToAlpha&&"opacity"===a&&(a="colorAlpha",n=c.__alphaForOpacity),l.dependsOn(a,e)&&n&&n.applyVisual(t,h,u)}),o[e]},positionGroup:function(t){var e=this.visualMapModel,i=this.api;s.positionElement(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:n.noop});t.exports=h},zQR9:function(t,e,i){"use strict";var a=i("h65t")(!0);i("vIB/")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=a(e,i),this._i+=t.length,{value:t,done:!1})})},zTCi:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(r.default.prototype.$isServer)return;if(!e)return void(t.scrollTop=0);var i=[],a=e.offsetParent;for(;a&&t!==a&&t.contains(a);)i.push(a),a=a.offsetParent;var n=e.offsetTop+i.reduce(function(t,e){return t+e.offsetTop},0),o=n+e.offsetHeight,s=t.scrollTop,l=s+t.clientHeight;n<s?t.scrollTop=n:o>l&&(t.scrollTop=o-t.clientHeight)};var a,n=i("/5sW"),r=(a=n)&&a.__esModule?a:{default:a}},zYqW:function(t,e,i){var a=i("uF9H"),n=i("oLzS");function r(t){this.mode=a.KANJI,this.data=t}r.getBitsLength=function(t){return 13*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var i=n.toSJIS(this.data[e]);if(i>=33088&&i<=40956)i-=33088;else{if(!(i>=57408&&i<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");i-=49472}i=192*(i>>>8&255)+(255&i),t.put(i,13)}},t.exports=r},"zZZ/":function(t,e,i){i("4Nz2").__DEV__;var a=i("/gxq"),n=a.createHashMap,r=(a.retrieve,a.each);var o={cartesian2d:function(t,e,i,a){var n=t.getReferringComponents("xAxis")[0],r=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],i.set("x",n),i.set("y",r),s(n)&&(a.set("x",n),e.firstCategoryDimIndex=0),s(r)&&(a.set("y",r),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,i,a){var n=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],i.set("single",n),s(n)&&(a.set("single",n),e.firstCategoryDimIndex=0)},polar:function(t,e,i,a){var n=t.getReferringComponents("polar")[0],r=n.findAxisModel("radiusAxis"),o=n.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],i.set("radius",r),i.set("angle",o),s(r)&&(a.set("radius",r),e.firstCategoryDimIndex=0),s(o)&&(a.set("angle",o),e.firstCategoryDimIndex=1)},geo:function(t,e,i,a){e.coordSysDims=["lng","lat"]},parallel:function(t,e,i,a){var n=t.ecModel,o=n.getComponent("parallel",t.get("parallelIndex")),l=e.coordSysDims=o.dimensions.slice();r(o.parallelAxisIndex,function(t,r){var o=n.getComponent("parallelAxis",t),h=l[r];i.set(h,o),s(o)&&null==e.firstCategoryDimIndex&&(a.set(h,o),e.firstCategoryDimIndex=r)})}};function s(t){return"category"===t.get("type")}e.getCoordSysDefineBySeries=function(t){var e=t.get("coordinateSystem"),i={coordSysName:e,coordSysDims:[],axisMap:n(),categoryAxisMap:n()},a=o[e];if(a)return a(t,i,i.axisMap,i.categoryAxisMap),i}},zjhG:function(t,e,i){var a=i("Icdr");i("P0a5"),i("z+uQ");var n=i("4A6G"),r=i("nV/6");a.registerLayout(n),a.registerVisual(r)},zlsk:function(t,e,i){var a=i("N1qP"),n=i("8b51"),r=i("0sHC").linePolygonIntersect;function o(t){var e=["x","y"],i=["width","height"];return{point:function(e,i,a){if(e){var n=a.range;return s(e[t],n)}},rect:function(a,n,r){if(a){var o=r.range,l=[a[e[t]],a[e[t]]+a[i[t]]];return l[1]<l[0]&&l.reverse(),s(l[0],o)||s(l[1],o)||s(o[0],l)||s(o[1],l)}}}}function s(t,e){return e[0]<=t&&t<=e[1]}var l={lineX:o(0),lineY:o(1),rect:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])},rect:function(t,e,i){return t&&i.boundingRect.intersect(t)}},polygon:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])&&a.contain(i.range,t[0],t[1])},rect:function(t,e,i){var o=i.range;if(!t||o.length<=1)return!1;var s=t.x,l=t.y,h=t.width,u=t.height,c=o[0];return!!(a.contain(o,s,l)||a.contain(o,s+h,l)||a.contain(o,s,l+u)||a.contain(o,s+h,l+u)||n.create(t).contain(c[0],c[1])||r(s,l,s+h,l,o)||r(s,l,s,l+u,o)||r(s+h,l,s+h,l+u,o)||r(s,l+u,s+h,l+u,o))||void 0}}};t.exports=l},zz1u:function(t,e,i){i("ecfp"),i("s48c")}});